"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[7090],{73705:function(e,t,i){var n=i(88108),l=i(60838),o=i(60216),s=i(59947),a=i(62200),r=i(82982),h=i(12572),c=i(47861),d=i(15720),u=i(80349),_=i(4260),f=i(62919),g=i(81208),b=i(36191),Z=i(60473),p={},y=0,v=256,T=new s.Z(.165,.165,.165,.8),w=new l.Z(7,5),D=Object.freeze({LTR:0,RTL:1,WEAK:2,BRACKETS:3});function x(e){e._rebindAllGlyphs||e._repositionAllGlyphs||e._labelCollection._labelsToUpdate.push(e),e._rebindAllGlyphs=!0}function O(e){e._rebindAllGlyphs||e._repositionAllGlyphs||e._labelCollection._labelsToUpdate.push(e),e._repositionAllGlyphs=!0}function C(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function B(e){var t=p[e._font];if(!(0,r.Z)(t)){var i=document.createElement("div");i.style.position="absolute",i.style.opacity=0,i.style.font=e._font,document.body.appendChild(i);var n=parseFloat(C(i,"line-height"));isNaN(n)&&(n=void 0),t={family:C(i,"font-family"),size:C(i,"font-size").replace("px",""),style:C(i,"font-style"),weight:C(i,"font-weight"),lineHeight:n},document.body.removeChild(i),y<v&&(p[e._font]=t,y++)}e._fontFamily=t.family,e._fontSize=t.size,e._fontStyle=t.style,e._fontWeight=t.weight,e._lineHeight=t.lineHeight}function m(e,t){if(e=(0,a.Z)(e,a.Z.EMPTY_OBJECT),(0,r.Z)(e.disableDepthTestDistance)&&e.disableDepthTestDistance<0)throw new h.Z("disableDepthTestDistance must be greater than 0.0.");var i=e.translucencyByDistance,n=e.pixelOffsetScaleByDistance,u=e.scaleByDistance,b=e.distanceDisplayCondition;if((0,r.Z)(i)){if(i.far<=i.near)throw new h.Z("translucencyByDistance.far must be greater than translucencyByDistance.near.");i=d.Z.clone(i)}if((0,r.Z)(n)){if(n.far<=n.near)throw new h.Z("pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near.");n=d.Z.clone(n)}if((0,r.Z)(u)){if(u.far<=u.near)throw new h.Z("scaleByDistance.far must be greater than scaleByDistance.near.");u=d.Z.clone(u)}if((0,r.Z)(b)){if(b.far<=b.near)throw new h.Z("distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.");b=c.Z.clone(b)}this._renderedText=void 0,this._text=void 0,this._show=(0,a.Z)(e.show,!0),this._font=(0,a.Z)(e.font,"30px sans-serif"),this._fillColor=s.Z.clone((0,a.Z)(e.fillColor,s.Z.WHITE)),this._outlineColor=s.Z.clone((0,a.Z)(e.outlineColor,s.Z.BLACK)),this._outlineWidth=(0,a.Z)(e.outlineWidth,1),this._showBackground=(0,a.Z)(e.showBackground,!1),this._backgroundColor=s.Z.clone((0,a.Z)(e.backgroundColor,T)),this._backgroundPadding=l.Z.clone((0,a.Z)(e.backgroundPadding,w)),this._style=(0,a.Z)(e.style,g.Z.FILL),this._verticalOrigin=(0,a.Z)(e.verticalOrigin,Z.Z.BASELINE),this._horizontalOrigin=(0,a.Z)(e.horizontalOrigin,f.Z.LEFT),this._pixelOffset=l.Z.clone((0,a.Z)(e.pixelOffset,l.Z.ZERO)),this._eyeOffset=o.Z.clone((0,a.Z)(e.eyeOffset,o.Z.ZERO)),this._position=o.Z.clone((0,a.Z)(e.position,o.Z.ZERO)),this._scale=(0,a.Z)(e.scale,1),this._id=e.id,this._translucencyByDistance=i,this._pixelOffsetScaleByDistance=n,this._scaleByDistance=u,this._heightReference=(0,a.Z)(e.heightReference,_.Z.NONE),this._distanceDisplayCondition=b,this._disableDepthTestDistance=e.disableDepthTestDistance,this._labelCollection=t,this._glyphs=[],this._backgroundBillboard=void 0,this._batchIndex=void 0,this._rebindAllGlyphs=!0,this._repositionAllGlyphs=!0,this._actualClampedPosition=void 0,this._removeCallbackFunc=void 0,this._mode=void 0,this._clusterShow=!0,this.text=(0,a.Z)(e.text,""),this._relativeSize=1,B(this),this._updateClamping()}function k(e,t){for(var i=/[a-zA-Z0-9]/,n=/[()[\]{}<>]/,l=[],o="",s=D.LTR,a="",r=e.length,h=0;h<r;++h){var c=e.charAt(h);a=t.test(c)?D.RTL:i.test(c)?D.LTR:n.test(c)?D.BRACKETS:D.WEAK,0===h&&(s=a),s===a&&a!==D.BRACKETS?o+=c:(""!==o&&l.push({Type:s,Word:o}),s=a,o=c)}return l.push({Type:a,Word:o}),l}function A(e){return e.split("").reverse().join("")}function S(e,t,i){return e.slice(0,t)+i+e.slice(t)}function E(e){switch(e){case"(":return")";case")":return"(";case"[":return"]";case"]":return"[";case"{":return"}";case"}":return"{";case"<":return">";case">":return"<"}}Object.defineProperties(m.prototype,{show:{get:function(){return this._show},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");if(this._show!==e){this._show=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i].billboard;(0,r.Z)(l)&&(l.show=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.show=e)}}},position:{get:function(){return this._position},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._position;if(!o.Z.equals(t,e)){o.Z.clone(e,t);for(var i=this._glyphs,n=0,l=i.length;n<l;n++){var s=i[n].billboard;(0,r.Z)(s)&&(s.position=e)}var a=this._backgroundBillboard;(0,r.Z)(a)&&(a.position=e),this._updateClamping()}}},heightReference:{get:function(){return this._heightReference},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");if(e!==this._heightReference){this._heightReference=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i].billboard;(0,r.Z)(l)&&(l.heightReference=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.heightReference=e),O(this),this._updateClamping()}}},text:{get:function(){return this._text},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");if(this._text!==e){this._text=e;var t=e.replace(/\u00ad/g,"");this._renderedText=m.enableRightToLeftDetection?L(t):t,x(this)}}},font:{get:function(){return this._font},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");this._font!==e&&(this._font=e,x(this),B(this))}},fillColor:{get:function(){return this._fillColor},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._fillColor;s.Z.equals(t,e)||(s.Z.clone(e,t),x(this))}},outlineColor:{get:function(){return this._outlineColor},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._outlineColor;s.Z.equals(t,e)||(s.Z.clone(e,t),x(this))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");this._outlineWidth!==e&&(this._outlineWidth=e,x(this))}},showBackground:{get:function(){return this._showBackground},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");this._showBackground!==e&&(this._showBackground=e,x(this))}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._backgroundColor;if(!s.Z.equals(t,e)){s.Z.clone(e,t);var i=this._backgroundBillboard;(0,r.Z)(i)&&(i.color=t)}}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._backgroundPadding;l.Z.equals(t,e)||(l.Z.clone(e,t),O(this))}},style:{get:function(){return this._style},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");this._style!==e&&(this._style=e,x(this))}},pixelOffset:{get:function(){return this._pixelOffset},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._pixelOffset;if(!l.Z.equals(t,e)){l.Z.clone(e,t);for(var i=this._glyphs,n=0,o=i.length;n<o;n++){var s=i[n];(0,r.Z)(s.billboard)&&(s.billboard.pixelOffset=e)}var a=this._backgroundBillboard;(0,r.Z)(a)&&(a.pixelOffset=e)}}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){if((0,r.Z)(e)&&e.far<=e.near)throw new h.Z("far distance must be greater than near distance.");var t=this._translucencyByDistance;if(!d.Z.equals(t,e)){this._translucencyByDistance=d.Z.clone(e,t);for(var i=this._glyphs,n=0,l=i.length;n<l;n++){var o=i[n];(0,r.Z)(o.billboard)&&(o.billboard.translucencyByDistance=e)}var s=this._backgroundBillboard;(0,r.Z)(s)&&(s.translucencyByDistance=e)}}},pixelOffsetScaleByDistance:{get:function(){return this._pixelOffsetScaleByDistance},set:function(e){if((0,r.Z)(e)&&e.far<=e.near)throw new h.Z("far distance must be greater than near distance.");var t=this._pixelOffsetScaleByDistance;if(!d.Z.equals(t,e)){this._pixelOffsetScaleByDistance=d.Z.clone(e,t);for(var i=this._glyphs,n=0,l=i.length;n<l;n++){var o=i[n];(0,r.Z)(o.billboard)&&(o.billboard.pixelOffsetScaleByDistance=e)}var s=this._backgroundBillboard;(0,r.Z)(s)&&(s.pixelOffsetScaleByDistance=e)}}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){if((0,r.Z)(e)&&e.far<=e.near)throw new h.Z("far distance must be greater than near distance.");var t=this._scaleByDistance;if(!d.Z.equals(t,e)){this._scaleByDistance=d.Z.clone(e,t);for(var i=this._glyphs,n=0,l=i.length;n<l;n++){var o=i[n];(0,r.Z)(o.billboard)&&(o.billboard.scaleByDistance=e)}var s=this._backgroundBillboard;(0,r.Z)(s)&&(s.scaleByDistance=e)}}},eyeOffset:{get:function(){return this._eyeOffset},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");var t=this._eyeOffset;if(!o.Z.equals(t,e)){o.Z.clone(e,t);for(var i=this._glyphs,n=0,l=i.length;n<l;n++){var s=i[n];(0,r.Z)(s.billboard)&&(s.billboard.eyeOffset=e)}var a=this._backgroundBillboard;(0,r.Z)(a)&&(a.eyeOffset=e)}}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");this._horizontalOrigin!==e&&(this._horizontalOrigin=e,O(this))}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");if(this._verticalOrigin!==e){this._verticalOrigin=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard.verticalOrigin=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.verticalOrigin=e),O(this)}}},scale:{get:function(){return this._scale},set:function(e){if(!(0,r.Z)(e))throw new h.Z("value is required.");if(this._scale!==e){this._scale=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard.scale=e*this._relativeSize)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.scale=e*this._relativeSize),O(this)}}},totalScale:{get:function(){return this._scale*this._relativeSize}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if((0,r.Z)(e)&&e.far<=e.near)throw new h.Z("far must be greater than near");if(!c.Z.equals(e,this._distanceDisplayCondition)){this._distanceDisplayCondition=c.Z.clone(e,this._distanceDisplayCondition);for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard.distanceDisplayCondition=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.distanceDisplayCondition=e)}}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){if(this._disableDepthTestDistance!==e){if((0,r.Z)(e)&&e<0)throw new h.Z("disableDepthTestDistance must be greater than 0.0.");this._disableDepthTestDistance=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard.disableDepthTestDistance=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.disableDepthTestDistance=e)}}},id:{get:function(){return this._id},set:function(e){if(this._id!==e){this._id=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard.id=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.id=e)}}},pickId:{get:function(){if(0!==this._glyphs.length&&(0,r.Z)(this._glyphs[0].billboard))return this._glyphs[0].billboard.pickId}},_clampedPosition:{get:function(){return this._actualClampedPosition},set:function(e){this._actualClampedPosition=o.Z.clone(e,this._actualClampedPosition);for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard._clampedPosition=e)}var s=this._backgroundBillboard;(0,r.Z)(s)&&(s._clampedPosition=e)}},clusterShow:{get:function(){return this._clusterShow},set:function(e){if(this._clusterShow!==e){this._clusterShow=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var l=t[i];(0,r.Z)(l.billboard)&&(l.billboard.clusterShow=e)}var o=this._backgroundBillboard;(0,r.Z)(o)&&(o.clusterShow=e)}}}}),m.prototype._updateClamping=function(){u.Z._updateClamping(this._labelCollection,this)},m.prototype.computeScreenSpacePosition=function(e,t){if(!(0,r.Z)(e))throw new h.Z("scene is required.");(0,r.Z)(t)||(t=new l.Z);var i=this._labelCollection,n=i.modelMatrix,o=(0,r.Z)(this._actualClampedPosition)?this._actualClampedPosition:this._position,s=u.Z._computeScreenSpacePosition(n,o,this._eyeOffset,this._pixelOffset,e,t);return s},m.getScreenSpaceBoundingBox=function(e,t,i){var l=0,o=0,s=0,a=0,h=e.totalScale,c=e._backgroundBillboard;if((0,r.Z)(c))l=t.x+c._translate.x,o=t.y-c._translate.y,s=c.width*h,a=c.height*h,e.verticalOrigin===Z.Z.BOTTOM||e.verticalOrigin===Z.Z.BASELINE?o-=a:e.verticalOrigin===Z.Z.CENTER&&(o-=.5*a);else{l=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;for(var d=0,u=0,_=e._glyphs,f=_.length,g=0;g<f;++g){var p=_[g],y=p.billboard;if((0,r.Z)(y)){var v=t.x+y._translate.x,T=t.y-y._translate.y,w=p.dimensions.width*h,D=p.dimensions.height*h;e.verticalOrigin===Z.Z.BOTTOM||e.verticalOrigin===Z.Z.BASELINE?T-=D:e.verticalOrigin===Z.Z.CENTER&&(T-=.5*D),e._verticalOrigin===Z.Z.TOP?T+=b.Z.PADDING*h:e._verticalOrigin!==Z.Z.BOTTOM&&e._verticalOrigin!==Z.Z.BASELINE||(T-=b.Z.PADDING*h),l=Math.min(l,v),o=Math.min(o,T),d=Math.max(d,v+w),u=Math.max(u,T+D)}}s=d-l,a=u-o}return(0,r.Z)(i)||(i=new n.Z),i.x=l,i.y=o,i.width=s,i.height=a,i},m.prototype.equals=function(e){return this===e||(0,r.Z)(e)&&this._show===e._show&&this._scale===e._scale&&this._outlineWidth===e._outlineWidth&&this._showBackground===e._showBackground&&this._style===e._style&&this._verticalOrigin===e._verticalOrigin&&this._horizontalOrigin===e._horizontalOrigin&&this._heightReference===e._heightReference&&this._renderedText===e._renderedText&&this._font===e._font&&o.Z.equals(this._position,e._position)&&s.Z.equals(this._fillColor,e._fillColor)&&s.Z.equals(this._outlineColor,e._outlineColor)&&s.Z.equals(this._backgroundColor,e._backgroundColor)&&l.Z.equals(this._backgroundPadding,e._backgroundPadding)&&l.Z.equals(this._pixelOffset,e._pixelOffset)&&o.Z.equals(this._eyeOffset,e._eyeOffset)&&d.Z.equals(this._translucencyByDistance,e._translucencyByDistance)&&d.Z.equals(this._pixelOffsetScaleByDistance,e._pixelOffsetScaleByDistance)&&d.Z.equals(this._scaleByDistance,e._scaleByDistance)&&c.Z.equals(this._distanceDisplayCondition,e._distanceDisplayCondition)&&this._disableDepthTestDistance===e._disableDepthTestDistance&&this._id===e._id},m.prototype.isDestroyed=function(){return!1},m.enableRightToLeftDetection=!1;var I="א-ת",R="؀-ۿݐ-ݿࢠ-ࣿ",N=new RegExp("["+I+R+"]");function L(e){for(var t=e.split("\n"),i="",n=0;n<t.length;n++){for(var l=t[n],o=N.test(l.charAt(0)),s=k(l,N),a=0,r="",h=0;h<s.length;++h){var c=s[h],d=c.Type===D.BRACKETS?E(c.Word):A(c.Word);o?c.Type===D.RTL?(r=d+r,a=0):c.Type===D.LTR?(r=S(r,a,c.Word),a+=c.Word.length):c.Type!==D.WEAK&&c.Type!==D.BRACKETS||(c.Type===D.WEAK&&s[h-1].Type===D.BRACKETS?r=d+r:s[h-1].Type===D.RTL?(r=d+r,a=0):s.length>h+1?s[h+1].Type===D.RTL?(r=d+r,a=0):(r=S(r,a,c.Word),a+=c.Word.length):r=S(r,0,d)):c.Type===D.RTL?r=S(r,a,d):c.Type===D.LTR?(r+=c.Word,a=r.length):c.Type!==D.WEAK&&c.Type!==D.BRACKETS||(h>0&&s[h-1].Type===D.RTL?s.length>h+1?s[h+1].Type===D.RTL?r=S(r,a,d):(r+=c.Word,a=r.length):r+=c.Word:(r+=c.Word,a=r.length))}i+=r,n<t.length-1&&(i+="\n")}return i}t["Z"]=m},7017:function(e,t,i){var n=i(88108),l=i(60838),o=i(59947),s=i(62200),a=i(82982),r=i(86511),h=i(12572),c=i(72248),d=i(36051),u=i(56932),_=i(8044),f=i(27384),g=i(4260),b=i(62919),Z=i(73705),p=i(81208),y=i(36191),v=i(54230),T=i(60473),w=i(93042);function D(){this.textureInfo=void 0,this.dimensions=void 0,this.billboard=void 0}function x(e,t,i){this.labelCollection=e,this.index=t,this.dimensions=i}var O=1.2,C="ID_WHITE_PIXEL",B=new l.Z(4,4),m=new n.Z(1,1,1,1);function k(e,t){var i=document.createElement("canvas");i.width=B.x,i.height=B.y;var n=i.getContext("2d");n.fillStyle="#fff",n.fillRect(0,0,i.width,i.height),e.addImage(C,i).then((function(e){t._whitePixelIndex=e}))}var A={};function S(e,t,i,n,l,s,a){return A.font=t,A.fillColor=i,A.strokeColor=n,A.strokeWidth=l,A.padding=y.Z.PADDING,a===T.Z.CENTER?A.textBaseline="middle":a===T.Z.TOP?A.textBaseline="top":A.textBaseline="bottom",A.fill=s===p.Z.FILL||s===p.Z.FILL_AND_OUTLINE,A.stroke=s===p.Z.OUTLINE||s===p.Z.FILL_AND_OUTLINE,A.backgroundColor=o.Z.BLACK,(0,d.Z)(e,A)}function E(e,t){t.textureInfo=void 0,t.dimensions=void 0;var i=t.billboard;(0,a.Z)(i)&&(i.show=!1,i.image=void 0,(0,a.Z)(i._removeCallbackFunc)&&(i._removeCallbackFunc(),i._removeCallbackFunc=void 0),e._spareBillboards.push(i),t.billboard=void 0)}function I(e,t,i,n){e.addImage(t,i).then((function(e){n.index=e}))}var R=new w.Z;function N(e,t){var i,n,s,r=t._renderedText,h=R.splitGraphemes(r),c=h.length,d=t._glyphs,_=d.length;if(t._relativeSize=t._fontSize/y.Z.FONT_SIZE,c<_)for(n=c;n<_;++n)E(e,d[n]);d.length=c;var f=t._showBackground&&r.split("\n").join("").length>0,g=t._backgroundBillboard,Z=e._backgroundBillboardCollection;f?((0,a.Z)(g)||(g=Z.add({collection:e,image:C,imageSubRegion:m}),t._backgroundBillboard=g),g.color=t._backgroundColor,g.show=t._show,g.position=t._position,g.eyeOffset=t._eyeOffset,g.pixelOffset=t._pixelOffset,g.horizontalOrigin=b.Z.LEFT,g.verticalOrigin=t._verticalOrigin,g.heightReference=t._heightReference,g.scale=t.totalScale,g.pickPrimitive=t,g.id=t._id,g.translucencyByDistance=t._translucencyByDistance,g.pixelOffsetScaleByDistance=t._pixelOffsetScaleByDistance,g.scaleByDistance=t._scaleByDistance,g.distanceDisplayCondition=t._distanceDisplayCondition,g.disableDepthTestDistance=t._disableDepthTestDistance):(0,a.Z)(g)&&(Z.remove(g),t._backgroundBillboard=g=void 0);var v=e._glyphTextureCache;for(s=0;s<c;++s){var T=h[s],w=t._verticalOrigin,O=JSON.stringify([T,t._fontFamily,t._fontStyle,t._fontWeight,+w]),B=v[O];if(!(0,a.Z)(B)){var k=t._fontStyle+" "+t._fontWeight+" "+y.Z.FONT_SIZE+"px "+t._fontFamily,A=S(T,k,o.Z.WHITE,o.Z.WHITE,0,p.Z.FILL,w);if(B=new x(e,-1,A.dimensions),v[O]=B,A.width>0&&A.height>0){for(var N=(0,u.Z)(A,{cutoff:y.Z.CUTOFF,radius:y.Z.RADIUS}),L=A.getContext("2d"),P=A.width,q=A.height,W=L.getImageData(0,0,P,q),z=0;z<P;z++)for(var F=0;F<q;F++){var G=F*P+z,M=255*N[G],U=4*G;W.data[U+0]=M,W.data[U+1]=M,W.data[U+2]=M,W.data[U+3]=M}L.putImageData(W,0,0)," "!==T&&I(e._textureAtlas,O,A,B)}}if(i=d[s],(0,a.Z)(i)?-1===B.index?E(e,i):(0,a.Z)(i.textureInfo)&&(i.textureInfo=void 0):(i=new D,d[s]=i),i.textureInfo=B,i.dimensions=B.dimensions,-1!==B.index){var H=i.billboard,K=e._spareBillboards;(0,a.Z)(H)||(K.length>0?H=K.pop():(H=e._billboardCollection.add({collection:e}),H._labelDimensions=new l.Z,H._labelTranslate=new l.Z),i.billboard=H),H.show=t._show,H.position=t._position,H.eyeOffset=t._eyeOffset,H.pixelOffset=t._pixelOffset,H.horizontalOrigin=b.Z.LEFT,H.verticalOrigin=t._verticalOrigin,H.heightReference=t._heightReference,H.scale=t.totalScale,H.pickPrimitive=t,H.id=t._id,H.image=O,H.translucencyByDistance=t._translucencyByDistance,H.pixelOffsetScaleByDistance=t._pixelOffsetScaleByDistance,H.scaleByDistance=t._scaleByDistance,H.distanceDisplayCondition=t._distanceDisplayCondition,H.disableDepthTestDistance=t._disableDepthTestDistance,H._batchIndex=t._batchIndex,H.outlineColor=t.outlineColor,t.style===p.Z.FILL_AND_OUTLINE?(H.color=t._fillColor,H.outlineWidth=t.outlineWidth):t.style===p.Z.FILL?(H.color=t._fillColor,H.outlineWidth=0):t.style===p.Z.OUTLINE&&(H.color=o.Z.TRANSPARENT,H.outlineWidth=t.outlineWidth)}}t._repositionAllGlyphs=!0}function L(e,t,i){return t===b.Z.CENTER?-e/2:t===b.Z.RIGHT?-(e+i.x):i.x}var P=new l.Z,q=new l.Z;function W(e){var t,i,n,o=e._glyphs,s=e._renderedText,r=0,h=0,c=[],d=Number.NEGATIVE_INFINITY,u=0,_=1,f=o.length,Z=e._backgroundBillboard,p=l.Z.clone((0,a.Z)(Z)?e._backgroundPadding:l.Z.ZERO,q);for(p.x/=e._relativeSize,p.y/=e._relativeSize,n=0;n<f;++n)"\n"===s.charAt(n)?(c.push(r),++_,r=0):(t=o[n],i=t.dimensions,u=Math.max(u,i.height-i.descent),d=Math.max(d,i.descent),r+=i.width-i.minx,n<f-1&&(r+=o[n+1].dimensions.minx),h=Math.max(h,r));c.push(r);var v=u+d,w=e.totalScale,D=e._horizontalOrigin,x=e._verticalOrigin,C=0,B=c[C],m=L(B,D,p),k=((0,a.Z)(e._lineHeight)?e._lineHeight:O*e._fontSize)/e._relativeSize,A=k*(_-1),S=h,E=v+A;(0,a.Z)(Z)&&(S+=2*p.x,E+=2*p.y,Z._labelHorizontalOrigin=D),P.x=m*w,P.y=0;var I=!0,R=0;for(n=0;n<f;++n)if("\n"===s.charAt(n))++C,R+=k,B=c[C],m=L(B,D,p),P.x=m*w,I=!0;else if(t=o[n],i=t.dimensions,x===T.Z.TOP?(P.y=i.height-u-p.y,P.y+=y.Z.PADDING):x===T.Z.CENTER?P.y=(A+i.height-u)/2:x===T.Z.BASELINE?(P.y=A,P.y-=y.Z.PADDING):(P.y=A+d+p.y,P.y-=y.Z.PADDING),P.y=(P.y-i.descent-R)*w,I&&(P.x-=y.Z.PADDING*w,I=!1),(0,a.Z)(t.billboard)&&(t.billboard._setTranslate(P),t.billboard._labelDimensions.x=S,t.billboard._labelDimensions.y=E,t.billboard._labelHorizontalOrigin=D),n<f-1){var N=o[n+1];P.x+=(i.width-i.minx+N.dimensions.minx)*w}if((0,a.Z)(Z)&&s.split("\n").join("").length>0&&(m=D===b.Z.CENTER?-h/2-p.x:D===b.Z.RIGHT?-(h+2*p.x):0,P.x=m*w,x===T.Z.TOP?P.y=v-u-d:x===T.Z.CENTER?P.y=(v-u)/2-d:x===T.Z.BASELINE?P.y=-p.y-d:P.y=0,P.y=P.y*w,Z.width=S,Z.height=E,Z._setTranslate(P),Z._labelTranslate=l.Z.clone(P,Z._labelTranslate)),e.heightReference===g.Z.CLAMP_TO_GROUND)for(n=0;n<f;++n){t=o[n];var W=t.billboard;(0,a.Z)(W)&&(W._labelTranslate=l.Z.clone(P,W._labelTranslate))}}function z(e,t){for(var i=t._glyphs,n=0,l=i.length;n<l;++n)E(e,i[n]);(0,a.Z)(t._backgroundBillboard)&&(e._backgroundBillboardCollection.remove(t._backgroundBillboard),t._backgroundBillboard=void 0),t._labelCollection=void 0,(0,a.Z)(t._removeCallbackFunc)&&t._removeCallbackFunc(),(0,r.Z)(t)}function F(e){e=(0,s.Z)(e,s.Z.EMPTY_OBJECT),this._scene=e.scene,this._batchTable=e.batchTable,this._textureAtlas=void 0,this._backgroundTextureAtlas=void 0,this._whitePixelIndex=void 0,this._backgroundBillboardCollection=new _.Z({scene:this._scene}),this._backgroundBillboardCollection.destroyTextureAtlas=!1,this._billboardCollection=new _.Z({scene:this._scene,batchTable:this._batchTable}),this._billboardCollection.destroyTextureAtlas=!1,this._billboardCollection._sdf=!0,this._spareBillboards=[],this._glyphTextureCache={},this._labels=[],this._labelsToUpdate=[],this._totalGlyphCount=0,this._highlightColor=o.Z.clone(o.Z.WHITE),this.show=(0,s.Z)(e.show,!0),this.modelMatrix=c.Z.clone((0,s.Z)(e.modelMatrix,c.Z.IDENTITY)),this.debugShowBoundingVolume=(0,s.Z)(e.debugShowBoundingVolume,!1),this.blendOption=(0,s.Z)(e.blendOption,f.Z.OPAQUE_AND_TRANSLUCENT)}Object.defineProperties(F.prototype,{length:{get:function(){return this._labels.length}}}),F.prototype.add=function(e){var t=new Z.Z(e,this);return this._labels.push(t),this._labelsToUpdate.push(t),t},F.prototype.remove=function(e){if((0,a.Z)(e)&&e._labelCollection===this){var t=this._labels.indexOf(e);if(-1!==t)return this._labels.splice(t,1),z(this,e),!0}return!1},F.prototype.removeAll=function(){for(var e=this._labels,t=0,i=e.length;t<i;++t)z(this,e[t]);e.length=0},F.prototype.contains=function(e){return(0,a.Z)(e)&&e._labelCollection===this},F.prototype.get=function(e){if(!(0,a.Z)(e))throw new h.Z("index is required.");return this._labels[e]},F.prototype.update=function(e){if(this.show){var t=this._billboardCollection,i=this._backgroundBillboardCollection;t.modelMatrix=this.modelMatrix,t.debugShowBoundingVolume=this.debugShowBoundingVolume,i.modelMatrix=this.modelMatrix,i.debugShowBoundingVolume=this.debugShowBoundingVolume;var n=e.context;(0,a.Z)(this._textureAtlas)||(this._textureAtlas=new v.Z({context:n}),t.textureAtlas=this._textureAtlas),(0,a.Z)(this._backgroundTextureAtlas)||(this._backgroundTextureAtlas=new v.Z({context:n,initialSize:B}),i.textureAtlas=this._backgroundTextureAtlas,k(this._backgroundTextureAtlas,this));for(var l=this._labelsToUpdate.length,o=0;o<l;++o){var s=this._labelsToUpdate[o];if(!s.isDestroyed()){var r=s._glyphs.length;s._rebindAllGlyphs&&(N(this,s),s._rebindAllGlyphs=!1),s._repositionAllGlyphs&&(W(s),s._repositionAllGlyphs=!1);var h=s._glyphs.length-r;this._totalGlyphCount+=h}}var c=i.length>0?f.Z.TRANSLUCENT:this.blendOption;t.blendOption=c,i.blendOption=c,t._highlightColor=this._highlightColor,i._highlightColor=this._highlightColor,this._labelsToUpdate.length=0,i.update(e),t.update(e)}},F.prototype.isDestroyed=function(){return!1},F.prototype.destroy=function(){return this.removeAll(),this._billboardCollection=this._billboardCollection.destroy(),this._textureAtlas=this._textureAtlas&&this._textureAtlas.destroy(),this._backgroundBillboardCollection=this._backgroundBillboardCollection.destroy(),this._backgroundTextureAtlas=this._backgroundTextureAtlas&&this._backgroundTextureAtlas.destroy(),(0,r.Z)(this)},t["Z"]=F},81208:function(e,t){var i={FILL:0,OUTLINE:1,FILL_AND_OUTLINE:2};t["Z"]=Object.freeze(i)},23436:function(e,t,i){var n=i(12572);function l(){}Object.defineProperties(l.prototype,{color:{get:n.Z.throwInstantiationError},intensity:{get:n.Z.throwInstantiationError}})}}]);
//# sourceMappingURL=chunk-vendors-13345a74.205e5fde.js.map