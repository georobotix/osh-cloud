"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[4853],{36191:function(e,t){var i={FONT_SIZE:48,PADDING:10,RADIUS:8,CUTOFF:.25};t["Z"]=Object.freeze(i)},65448:function(e,t,i){var o=i(59947),r=i(82982),n=i(86511),u=i(38443),s=i(39899),c=i(2932),a=i(21572),p=i(17941),d=i(89032),m=i(87721),Z=i(8743);function f(){this._colorTexture=void 0,this._idTexture=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this._framebuffer=void 0,this._idFramebuffer=void 0,this._idClearColor=new o.Z(0,0,0,0),this._useHdr=void 0,this._clearCommand=new s.Z({color:new o.Z(0,0,0,0),depth:1,owner:this})}function h(e){e._framebuffer=e._framebuffer&&e._framebuffer.destroy(),e._idFramebuffer=e._idFramebuffer&&e._idFramebuffer.destroy(),e._colorTexture=e._colorTexture&&e._colorTexture.destroy(),e._idTexture=e._idTexture&&e._idTexture.destroy(),e._depthStencilTexture=e._depthStencilTexture&&e._depthStencilTexture.destroy(),e._depthStencilRenderbuffer=e._depthStencilRenderbuffer&&e._depthStencilRenderbuffer.destroy(),e._depthStencilIdTexture=e._depthStencilIdTexture&&e._depthStencilIdTexture.destroy(),e._depthStencilIdRenderbuffer=e._depthStencilIdRenderbuffer&&e._depthStencilIdRenderbuffer.destroy(),e._framebuffer=void 0,e._idFramebuffer=void 0,e._colorTexture=void 0,e._idTexture=void 0,e._depthStencilTexture=void 0,e._depthStencilRenderbuffer=void 0,e._depthStencilIdTexture=void 0,e._depthStencilIdRenderbuffer=void 0}f.prototype.update=function(e,t,i){var o=t.width,n=t.height,s=this._colorTexture;if(!(0,r.Z)(s)||s.width!==o||s.height!==n||i!==this._useHdr){h(this),this._useHdr=i;var f=i?e.halfFloatingPointTexture?a.Z.HALF_FLOAT:a.Z.FLOAT:a.Z.UNSIGNED_BYTE;this._colorTexture=new Z.Z({context:e,width:o,height:n,pixelFormat:u.Z.RGBA,pixelDatatype:f,sampler:m.Z.NEAREST}),this._idTexture=new Z.Z({context:e,width:o,height:n,pixelFormat:u.Z.RGBA,pixelDatatype:a.Z.UNSIGNED_BYTE,sampler:m.Z.NEAREST}),e.depthTexture?(this._depthStencilTexture=new Z.Z({context:e,width:o,height:n,pixelFormat:u.Z.DEPTH_STENCIL,pixelDatatype:a.Z.UNSIGNED_INT_24_8,sampler:m.Z.NEAREST}),this._depthStencilIdTexture=new Z.Z({context:e,width:o,height:n,pixelFormat:u.Z.DEPTH_STENCIL,pixelDatatype:a.Z.UNSIGNED_INT_24_8,sampler:m.Z.NEAREST})):(this._depthStencilRenderbuffer=new p.Z({context:e,width:o,height:n,format:d.Z.DEPTH_STENCIL}),this._depthStencilIdRenderbuffer=new p.Z({context:e,width:o,height:n,format:d.Z.DEPTH_STENCIL})),this._framebuffer=new c.Z({context:e,colorTextures:[this._colorTexture],depthStencilTexture:this._depthStencilTexture,depthStencilRenderbuffer:this._depthStencilRenderbuffer,destroyAttachments:!1}),this._idFramebuffer=new c.Z({context:e,colorTextures:[this._idTexture],depthStencilTexture:this._depthStencilIdTexture,depthStencilRenderbuffer:this._depthStencilIdRenderbuffer,destroyAttachments:!1})}},f.prototype.clear=function(e,t,i){var r=t.framebuffer;t.framebuffer=this._framebuffer,o.Z.clone(i,this._clearCommand.color),this._clearCommand.execute(e,t),t.framebuffer=this._idFramebuffer,o.Z.clone(this._idClearColor,this._clearCommand.color),this._clearCommand.execute(e,t),t.framebuffer=r},f.prototype.getFramebuffer=function(){return this._framebuffer},f.prototype.getIdFramebuffer=function(){return this._idFramebuffer},f.prototype.isDestroyed=function(){return!1},f.prototype.destroy=function(){return h(this),(0,n.Z)(this)},t["Z"]=f},89917:function(e,t){var i={MORPHING:0,COLUMBUS_VIEW:1,SCENE2D:2,SCENE3D:3,getMorphTime:function(e){return e===i.SCENE3D?1:e!==i.MORPHING?0:void 0}};t["Z"]=Object.freeze(i)},48244:function(e,t,i){var o=i(88108),r=i(60838),n=i(60216),u=i(63367),s=i(51688),c=i(82982),a=i(12572),p=i(99417),d=i(72248),m=i(91473),Z=i(35131),f=i(95555),h=i(89917),l={},_=new u.Z(0,0,0,1),v=new u.Z,w=new o.Z,T=new r.Z,g=new r.Z;l.wgs84ToWindowCoordinates=function(e,t,i){return l.wgs84WithEyeOffsetToWindowCoordinates(e,t,n.Z.ZERO,i)};var E=new u.Z,y=new n.Z;function S(e,t,i,o){var r=i.viewMatrix,s=d.Z.multiplyByVector(r,u.Z.fromElements(e.x,e.y,e.z,1,E),E),c=n.Z.multiplyComponents(t,n.Z.normalize(s,y),y);return s.x+=t.x+c.x,s.y+=t.y+c.y,s.z+=c.z,d.Z.multiplyByVector(i.frustum.projectionMatrix,s,o)}var x=new s.Z(Math.PI,p.Z.PI_OVER_TWO),R=new n.Z,M=new n.Z;l.wgs84WithEyeOffsetToWindowCoordinates=function(e,t,i,o){if(!(0,c.Z)(e))throw new a.Z("scene is required.");if(!(0,c.Z)(t))throw new a.Z("position is required.");var u=e.frameState,s=l.computeActualWgs84Position(u,t,_);if((0,c.Z)(s)){var E=e.canvas,y=w;y.x=0,y.y=0,y.width=E.clientWidth,y.height=E.clientHeight;var N=e.camera,D=!1;if(u.mode===h.Z.SCENE2D){var C=e.mapProjection,I=x,O=C.project(I,R),b=n.Z.clone(N.position,M),B=N.frustum.clone(),A=d.Z.computeViewportTransformation(y,0,1,new d.Z),F=N.frustum.projectionMatrix,W=N.positionWC.y,P=n.Z.fromElements(p.Z.sign(W)*O.x-W,0,-N.positionWC.x),U=f.Z.pointToGLWindowCoordinates(F,A,P);if(0===W||U.x<=0||U.x>=E.clientWidth)D=!0;else{if(U.x>.5*E.clientWidth){y.width=U.x,N.frustum.right=O.x-W,v=S(s,i,N,v),l.clipToGLWindowCoordinates(y,v,T),y.x+=U.x,N.position.x=-N.position.x;var H=N.frustum.right;N.frustum.right=-N.frustum.left,N.frustum.left=-H,v=S(s,i,N,v),l.clipToGLWindowCoordinates(y,v,g)}else{y.x+=U.x,y.width-=U.x,N.frustum.left=-O.x-W,v=S(s,i,N,v),l.clipToGLWindowCoordinates(y,v,T),y.x=y.x-y.width,N.position.x=-N.position.x;var z=N.frustum.left;N.frustum.left=-N.frustum.right,N.frustum.right=-z,v=S(s,i,N,v),l.clipToGLWindowCoordinates(y,v,g)}n.Z.clone(b,N.position),N.frustum=B.clone(),o=r.Z.clone(T,o),(o.x<0||o.x>E.clientWidth)&&(o.x=g.x)}}if(u.mode!==h.Z.SCENE2D||D){if(v=S(s,i,N,v),v.z<0&&!(N.frustum instanceof m.Z)&&!(N.frustum instanceof Z.Z))return;o=l.clipToGLWindowCoordinates(y,v,o)}return o.y=E.clientHeight-o.y,o}},l.wgs84ToDrawingBufferCoordinates=function(e,t,i){if(i=l.wgs84ToWindowCoordinates(e,t,i),(0,c.Z)(i))return l.transformWindowToDrawingBuffer(e,i,i)};var N=new n.Z,D=new s.Z;l.computeActualWgs84Position=function(e,t,i){var o=e.mode;if(o===h.Z.SCENE3D)return n.Z.clone(t,i);var r=e.mapProjection,u=r.ellipsoid.cartesianToCartographic(t,D);if((0,c.Z)(u)){if(r.project(u,N),o===h.Z.COLUMBUS_VIEW)return n.Z.fromElements(N.z,N.x,N.y,i);if(o===h.Z.SCENE2D)return n.Z.fromElements(0,N.x,N.y,i);var s=e.morphTime;return n.Z.fromElements(p.Z.lerp(N.z,t.x,s),p.Z.lerp(N.x,t.y,s),p.Z.lerp(N.y,t.z,s),i)}};var C=new n.Z,I=new n.Z,O=new d.Z;l.clipToGLWindowCoordinates=function(e,t,i){return n.Z.divideByScalar(t,t.w,C),d.Z.computeViewportTransformation(e,0,1,O),d.Z.multiplyByPoint(O,C,I),r.Z.fromCartesian3(I,i)},l.transformWindowToDrawingBuffer=function(e,t,i){var o=e.canvas,n=e.drawingBufferWidth/o.clientWidth,u=e.drawingBufferHeight/o.clientHeight;return r.Z.fromElements(t.x*n,t.y*u,i)};var b=new u.Z,B=new u.Z;l.drawingBufferToWgs84Coordinates=function(e,t,i,o){var r=e.context,s=r.uniformState,a=s.currentFrustum,p=a.x,m=a.y;if(e.frameState.useLogDepth){var Z=i*s.log2FarDepthFromNearPlusOne,f=Math.pow(2,Z)-1;i=m*(1-p/(f+p))/(m-p)}var h,l=e.view.passState.viewport,_=u.Z.clone(u.Z.UNIT_W,b);_.x=(t.x-l.x)/l.width*2-1,_.y=(t.y-l.y)/l.height*2-1,_.z=2*i-1,_.w=1;var v=e.camera.frustum;if((0,c.Z)(v.fovy)){h=d.Z.multiplyByVector(s.inverseViewProjection,_,B);var w=1/h.w;n.Z.multiplyByScalar(h,w,h)}else(0,c.Z)(v._offCenterFrustum)&&(v=v._offCenterFrustum),h=B,h.x=.5*(_.x*(v.right-v.left)+v.left+v.right),h.y=.5*(_.y*(v.top-v.bottom)+v.bottom+v.top),h.z=.5*(_.z*(p-m)-p-m),h.w=1,h=d.Z.multiplyByVector(s.inverseView,h,h);return n.Z.fromCartesian4(h,o)},t["Z"]=l},72984:function(e,t,i){var o=i(60216),r=i(51688),n=i(66553),u=i(82982),s=i(86511),c=i(50732),a=i(99417),p=i(72248),d=i(91473),m=i(35131),Z=i(66854),f=i(68457),h=i(20406),l=i(35452),_=i(95555),v=i(70561),w=i(89917);function T(e){n.Z.typeOf.object("scene",e),this._scene=e,this._currentTweens=[],this._morphHandler=void 0,this._morphCancelled=!1,this._completeMorph=void 0,this._morphToOrthographic=!1}T.prototype.completeMorph=function(){(0,u.Z)(this._completeMorph)&&this._completeMorph()},T.prototype.morphTo2D=function(e,t){(0,u.Z)(this._completeMorph)&&this._completeMorph();var i=this._scene;this._previousMode=i.mode,this._morphToOrthographic=i.camera.frustum instanceof d.Z,this._previousMode!==w.Z.SCENE2D&&this._previousMode!==w.Z.MORPHING&&(this._scene.morphStart.raiseEvent(this,this._previousMode,w.Z.SCENE2D,!0),i._mode=w.Z.MORPHING,i.camera._setTransform(p.Z.IDENTITY),this._previousMode===w.Z.COLUMBUS_VIEW?fe(this,e):Ee(this,e,t),0===e&&(0,u.Z)(this._completeMorph)&&this._completeMorph())};var g=new o.Z,E=new o.Z,y=new o.Z,S=new o.Z,x=new o.Z,R=new o.Z,M=new o.Z,N=new r.Z,D=new p.Z,C=new Z.Z,I=new d.Z,O={position:void 0,direction:void 0,up:void 0,position2D:void 0,direction2D:void 0,up2D:void 0,frustum:void 0};T.prototype.morphToColumbusView=function(e,t){(0,u.Z)(this._completeMorph)&&this._completeMorph();var i=this._scene;if(this._previousMode=i.mode,this._previousMode!==w.Z.COLUMBUS_VIEW&&this._previousMode!==w.Z.MORPHING){this._scene.morphStart.raiseEvent(this,this._previousMode,w.Z.COLUMBUS_VIEW,!0),i.camera._setTransform(p.Z.IDENTITY);var r,n=g,s=E,c=y;if(e>0)n.x=0,n.y=-1,n.z=1,n=o.Z.multiplyByScalar(o.Z.normalize(n,n),5*t.maximumRadius,n),o.Z.negate(o.Z.normalize(n,s),s),o.Z.cross(o.Z.UNIT_X,s,c);else{var d=i.camera;if(this._previousMode===w.Z.SCENE2D)o.Z.clone(d.position,n),n.z=d.frustum.right-d.frustum.left,o.Z.negate(o.Z.UNIT_Z,s),o.Z.clone(o.Z.UNIT_Y,c);else{o.Z.clone(d.positionWC,n),o.Z.clone(d.directionWC,s),o.Z.clone(d.upWC,c);var m=t.scaleToGeodeticSurface(n,M),Z=_.Z.eastNorthUpToFixedFrame(m,t,D);p.Z.inverseTransformation(Z,Z),i.mapProjection.project(t.cartesianToCartographic(n,N),n),p.Z.multiplyByPointAsVector(Z,s,s),p.Z.multiplyByPointAsVector(Z,c,c)}}this._morphToOrthographic?(r=I,r.width=i.camera.frustum.right-i.camera.frustum.left,r.aspectRatio=i.drawingBufferWidth/i.drawingBufferHeight):(r=C,r.aspectRatio=i.drawingBufferWidth/i.drawingBufferHeight,r.fov=a.Z.toRadians(60));var f=O;f.position=n,f.direction=s,f.up=c,f.frustum=r;var h=De(f);A(this,h),this._previousMode===w.Z.SCENE2D?Se(this,e,f,h):(f.position2D=p.Z.multiplyByPoint(v.Z.TRANSFORM_2D,n,S),f.direction2D=p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D,s,x),f.up2D=p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D,c,R),i._mode=w.Z.MORPHING,xe(this,e,f,h)),0===e&&(0,u.Z)(this._completeMorph)&&this._completeMorph()}};var b={position:new o.Z,direction:new o.Z,up:new o.Z,frustum:void 0},B=new Z.Z;function A(e,t){if(e._scene.completeMorphOnUserInput){e._morphHandler=new h.Z(e._scene.canvas);var i=function(){e._morphCancelled=!0,e._scene.camera.cancelFlight(),t(e)};e._completeMorph=i,e._morphHandler.setInputAction(i,l.Z.LEFT_DOWN),e._morphHandler.setInputAction(i,l.Z.MIDDLE_DOWN),e._morphHandler.setInputAction(i,l.Z.RIGHT_DOWN),e._morphHandler.setInputAction(i,l.Z.WHEEL)}}function F(e){for(var t=e._currentTweens,i=0;i<t.length;++i)t[i].cancelTween();e._currentTweens.length=0,e._morphHandler=e._morphHandler&&e._morphHandler.destroy()}T.prototype.morphTo3D=function(e,t){(0,u.Z)(this._completeMorph)&&this._completeMorph();var i=this._scene;if(this._previousMode=i.mode,this._previousMode!==w.Z.SCENE3D&&this._previousMode!==w.Z.MORPHING){if(this._scene.morphStart.raiseEvent(this,this._previousMode,w.Z.SCENE3D,!0),i._mode=w.Z.MORPHING,i.camera._setTransform(p.Z.IDENTITY),this._previousMode===w.Z.SCENE2D)te(this,e,t);else{var r,n;e>0?(r=b,o.Z.fromDegrees(0,0,5*t.maximumRadius,t,r.position),o.Z.negate(r.position,r.direction),o.Z.normalize(r.direction,r.direction),o.Z.clone(o.Z.UNIT_Z,r.up)):r=H(this,t);var s=i.camera;s.frustum instanceof d.Z?n=s.frustum.clone():(n=B,n.aspectRatio=i.drawingBufferWidth/i.drawingBufferHeight,n.fov=a.Z.toRadians(60)),r.frustum=n;var c=Me(r);A(this,c),k(this,e,r,c)}0===e&&(0,u.Z)(this._completeMorph)&&this._completeMorph()}},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return F(this),(0,s.Z)(this)};var W=new r.Z,P=new o.Z,U=new p.Z;function H(e,t){var i=e._scene,o=i.camera,r=b,n=r.position,u=r.direction,s=r.up,c=i.mapProjection.unproject(o.position,W);t.cartographicToCartesian(c,n);var a=t.scaleToGeodeticSurface(n,P),d=_.Z.eastNorthUpToFixedFrame(a,t,U);return p.Z.multiplyByPointAsVector(d,o.direction,u),p.Z.multiplyByPointAsVector(d,o.up,s),r}var z=new o.Z,V=new o.Z,j=new o.Z,G=new o.Z,L=new o.Z,Y=new o.Z;function k(e,t,i,r){t*=.5;var n=e._scene,u=n.camera,s=o.Z.clone(u.position,z),a=o.Z.clone(u.direction,V),d=o.Z.clone(u.up,j),m=p.Z.multiplyByPoint(v.Z.TRANSFORM_2D_INVERSE,i.position,G),Z=p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D_INVERSE,i.direction,L),f=p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D_INVERSE,i.up,Y);function h(e){ie(s,m,e.time,u.position),ie(a,Z,e.time,u.direction),ie(d,f,e.time,u.up),o.Z.cross(u.direction,u.up,u.right),o.Z.normalize(u.right,u.right)}var l=n.tweens.add({duration:t,easingFunction:c.Z.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:h,complete:function(){Re(e,n,0,1,t,r)}});e._currentTweens.push(l)}var Q=new d.Z,q=new o.Z,X=new o.Z,J=new o.Z,K=new o.Z,$=new o.Z,ee=new o.Z;function te(e,t,i){t/=3;var r,n,u=e._scene,s=u.camera;t>0?(r=b,o.Z.fromDegrees(0,0,5*i.maximumRadius,i,r.position),o.Z.negate(r.position,r.direction),o.Z.normalize(r.direction,r.direction),o.Z.clone(o.Z.UNIT_Z,r.up)):(s.position.z=s.frustum.right-s.frustum.left,r=H(e,i)),e._morphToOrthographic?(n=Q,n.aspectRatio=u.drawingBufferWidth/u.drawingBufferHeight,n.width=s.frustum.right-s.frustum.left):(n=B,n.aspectRatio=u.drawingBufferWidth/u.drawingBufferHeight,n.fov=a.Z.toRadians(60)),r.frustum=n;var c,p=Me(r);A(e,p),c=e._morphToOrthographic?function(){k(e,t,r,p)}:function(){ye(e,t,r,(function(){k(e,t,r,p)}))},t>0?(u._mode=w.Z.SCENE2D,s.flyTo({duration:t,destination:o.Z.fromDegrees(0,0,5*i.maximumRadius,i,K),complete:function(){u._mode=w.Z.MORPHING,c()}})):c()}function ie(e,t,i,r){return o.Z.lerp(e,t,i,r)}function oe(e,t,i,o,r){var n=e._scene,u=n.camera;if(!(u.frustum instanceof d.Z)){var s=u.frustum.fov,p=.5*a.Z.RADIANS_PER_DEGREE,m=i.position.z*Math.tan(.5*s);u.frustum.far=m/Math.tan(.5*p)+1e7;var Z=n.tweens.add({duration:t,easingFunction:c.Z.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:f,complete:function(){u.frustum=i.frustum.clone(),r(e)}});e._currentTweens.push(Z)}function f(e){u.frustum.fov=a.Z.lerp(s,p,e.time);var t=m/Math.tan(.5*u.frustum.fov);o(u,t)}}var re=new o.Z,ne=new o.Z,ue=new o.Z,se=new o.Z,ce=new o.Z,ae=new o.Z,pe=new m.Z,de=new f.Z,me=new o.Z,Ze={position:void 0,direction:void 0,up:void 0,frustum:void 0};function fe(e,t){t*=.5;var i=e._scene,r=i.camera,n=o.Z.clone(r.position,re),s=o.Z.clone(r.direction,ne),a=o.Z.clone(r.up,ue),d=o.Z.negate(o.Z.UNIT_Z,ce),m=o.Z.clone(o.Z.UNIT_Y,ae),Z=se;if(t>0)o.Z.clone(o.Z.ZERO,se),Z.z=5*i.mapProjection.ellipsoid.maximumRadius;else{o.Z.clone(n,se);var f=de;p.Z.multiplyByPoint(v.Z.TRANSFORM_2D,n,f.origin),p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D,s,f.direction);var h=i.globe;if((0,u.Z)(h)){var l=h.pickWorldCoordinates(f,i,!0,me);(0,u.Z)(l)&&(p.Z.multiplyByPoint(v.Z.TRANSFORM_2D_INVERSE,l,Z),Z.z+=o.Z.distance(n,Z))}}var _=pe;_.right=.5*Z.z,_.left=-_.right,_.top=_.right*(i.drawingBufferHeight/i.drawingBufferWidth),_.bottom=-_.top;var w=Ze;w.position=Z,w.direction=d,w.up=m,w.frustum=_;var T=Ne(w);function g(e){ie(n,Z,e.time,r.position),ie(s,d,e.time,r.direction),ie(a,m,e.time,r.up),o.Z.cross(r.direction,r.up,r.right),o.Z.normalize(r.right,r.right),r._adjustOrthographicFrustum(!0)}function E(e,t){e.position.z=t}A(e,T);var y=i.tweens.add({duration:t,easingFunction:c.Z.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:g,complete:function(){oe(e,t,w,E,T)}});e._currentTweens.push(y)}var he=new r.Z,le={position:new o.Z,direction:new o.Z,up:new o.Z,position2D:new o.Z,direction2D:new o.Z,up2D:new o.Z,frustum:new m.Z},_e={position:new o.Z,direction:new o.Z,up:new o.Z,frustum:void 0},ve=new o.Z,we=new f.Z,Te=new p.Z,ge=new o.Z;function Ee(e,t,i){t*=.5;var r=e._scene,n=r.camera,s=le;if(t>0)o.Z.clone(o.Z.ZERO,s.position),s.position.z=5*i.maximumRadius,o.Z.negate(o.Z.UNIT_Z,s.direction),o.Z.clone(o.Z.UNIT_Y,s.up);else{i.cartesianToCartographic(n.positionWC,he),r.mapProjection.project(he,s.position),o.Z.negate(o.Z.UNIT_Z,s.direction),o.Z.clone(o.Z.UNIT_Y,s.up);var c=we;o.Z.clone(s.position2D,c.origin);var a=o.Z.clone(n.directionWC,c.direction),d=i.scaleToGeodeticSurface(n.positionWC,ge),m=_.Z.eastNorthUpToFixedFrame(d,i,Te);p.Z.inverseTransformation(m,m),p.Z.multiplyByPointAsVector(m,a,a),p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D,a,a);var Z=r.globe;if((0,u.Z)(Z)){var f=Z.pickWorldCoordinates(c,r,!0,ve);if((0,u.Z)(f)){var h=o.Z.distance(s.position2D,f);f.x+=h,o.Z.clone(f,s.position2D)}}}function l(e,t){e.position.x=t}p.Z.multiplyByPoint(v.Z.TRANSFORM_2D,s.position,s.position2D),p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D,s.direction,s.direction2D),p.Z.multiplyByPointAsVector(v.Z.TRANSFORM_2D,s.up,s.up2D);var w=s.frustum;w.right=.5*s.position.z,w.left=-w.right,w.top=w.right*(r.drawingBufferHeight/r.drawingBufferWidth),w.bottom=-w.top;var T=_e;p.Z.multiplyByPoint(v.Z.TRANSFORM_2D_INVERSE,s.position2D,T.position),o.Z.clone(s.direction,T.direction),o.Z.clone(s.up,T.up),T.frustum=w;var g=Ne(T);function E(){oe(e,t,s,l,g)}A(e,g),xe(e,t,s,E)}function ye(e,t,i,o){var r=e._scene,n=r.camera,u=n.frustum.right-n.frustum.left;n.frustum=i.frustum.clone();var s=n.frustum.fov,p=.5*a.Z.RADIANS_PER_DEGREE,d=u*Math.tan(.5*s);function m(e){n.frustum.fov=a.Z.lerp(p,s,e.time),n.position.z=d/Math.tan(.5*n.frustum.fov)}n.frustum.far=d/Math.tan(.5*p)+1e7,n.frustum.fov=p;var Z=r.tweens.add({duration:t,easingFunction:c.Z.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:m,complete:function(){o(e)}});e._currentTweens.push(Z)}function Se(e,t,i,r){t*=.5;var n=e._scene,u=n.camera,s=o.Z.clone(i.position,K),a=o.Z.clone(i.direction,$),p=o.Z.clone(i.up,ee);function d(){u.frustum=i.frustum.clone();var d=o.Z.clone(u.position,q),m=o.Z.clone(u.direction,X),Z=o.Z.clone(u.up,J);function f(e){ie(d,s,e.time,u.position),ie(m,a,e.time,u.direction),ie(Z,p,e.time,u.up),o.Z.cross(u.direction,u.up,u.right),o.Z.normalize(u.right,u.right)}d.z=s.z;var h=n.tweens.add({duration:t,easingFunction:c.Z.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:f,complete:function(){r(e)}});e._currentTweens.push(h)}n._mode=w.Z.MORPHING,e._morphToOrthographic?d():ye(e,0,i,d)}function xe(e,t,i,r){var n=e._scene,u=n.camera,s=o.Z.clone(u.position,q),a=o.Z.clone(u.direction,X),p=o.Z.clone(u.up,J),d=o.Z.clone(i.position2D,K),m=o.Z.clone(i.direction2D,$),Z=o.Z.clone(i.up2D,ee);function f(e){ie(s,d,e.time,u.position),ie(a,m,e.time,u.direction),ie(p,Z,e.time,u.up),o.Z.cross(u.direction,u.up,u.right),o.Z.normalize(u.right,u.right),u._adjustOrthographicFrustum(!0)}var h=n.tweens.add({duration:t,easingFunction:c.Z.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:f,complete:function(){Re(e,n,1,0,t,r)}});e._currentTweens.push(h)}function Re(e,t,i,o,r,n){var s={object:t,property:"morphTime",startValue:i,stopValue:o,duration:r,easingFunction:c.Z.QUARTIC_OUT};(0,u.Z)(n)&&(s.complete=function(){n(e)});var a=t.tweens.addProperty(s);e._currentTweens.push(a)}function Me(e){return function(t){var i=t._scene;i._mode=w.Z.SCENE3D,i.morphTime=w.Z.getMorphTime(w.Z.SCENE3D),F(t);var r=i.camera;(t._previousMode!==w.Z.MORPHING||t._morphCancelled)&&(t._morphCancelled=!1,o.Z.clone(e.position,r.position),o.Z.clone(e.direction,r.direction),o.Z.clone(e.up,r.up),o.Z.cross(r.direction,r.up,r.right),o.Z.normalize(r.right,r.right),r.frustum=e.frustum.clone());var n=r.frustum;i.frameState.useLogDepth&&(n.near=.1,n.far=1e10);var s=(0,u.Z)(t._completeMorph);t._completeMorph=void 0,i.camera.update(i.mode),t._scene.morphComplete.raiseEvent(t,t._previousMode,w.Z.SCENE3D,s)}}function Ne(e){return function(t){var i=t._scene;i._mode=w.Z.SCENE2D,i.morphTime=w.Z.getMorphTime(w.Z.SCENE2D),F(t);var r=i.camera;o.Z.clone(e.position,r.position),r.position.z=2*i.mapProjection.ellipsoid.maximumRadius,o.Z.clone(e.direction,r.direction),o.Z.clone(e.up,r.up),o.Z.cross(r.direction,r.up,r.right),o.Z.normalize(r.right,r.right),r.frustum=e.frustum.clone();var n=(0,u.Z)(t._completeMorph);t._completeMorph=void 0,i.camera.update(i.mode),t._scene.morphComplete.raiseEvent(t,t._previousMode,w.Z.SCENE2D,n)}}function De(e){return function(t){var i=t._scene;i._mode=w.Z.COLUMBUS_VIEW,i.morphTime=w.Z.getMorphTime(w.Z.COLUMBUS_VIEW),F(t);var r=i.camera;(t._previousModeMode!==w.Z.MORPHING||t._morphCancelled)&&(t._morphCancelled=!1,o.Z.clone(e.position,r.position),o.Z.clone(e.direction,r.direction),o.Z.clone(e.up,r.up),o.Z.cross(r.direction,r.up,r.right),o.Z.normalize(r.right,r.right));var n=r.frustum;i.frameState.useLogDepth&&(n.near=.1,n.far=1e10);var s=(0,u.Z)(t._completeMorph);t._completeMorph=void 0,i.camera.update(i.mode),t._scene.morphComplete.raiseEvent(t,t._previousMode,w.Z.COLUMBUS_VIEW,s)}}t["Z"]=T}}]);
//# sourceMappingURL=chunk-vendors-f404f3aa.80a2ade0.js.map