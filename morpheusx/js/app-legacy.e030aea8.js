(function(){var __webpack_modules__={46700:function(e,t,r){var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":11506,"./nn.js":11506,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=46700},32903:function(e,t,r){"use strict";r(66992),r(88674),r(19601),r(17727),r(47941);var n=r(49963),i=r(66252),o=r(3577),a=r(32882),s=r(59671);function l(e,t,r,n,l,c){var u=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s.v,{modelValue:n.uiStore.ui.snack.message,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.uiStore.ui.snack.message=e}),color:n.uiStore.ui.snack.type},{actions:(0,i.w5)((function(){return[(0,i.Wm)(a.T,{color:"dark",variant:"text",onClick:t[0]||(t[0]=function(e){return n.uiStore.ui.snack.message=void 0})},{default:(0,i.w5)((function(){return[(0,i.Uk)(" Close ")]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(n.uiStore.ui.snack.message)+" ",1)]})),_:1},8,["modelValue","color"]),((0,i.wg)(),(0,i.j4)(u,{key:e.$route.params.dashboardId}))],64)}var c=r(95082),u=r(66347),d=r(50124),h=r(48534),p=(r(27479),r(87714),r(82801),r(1174),r(92222),r(41539),r(38862),r(57658),r(57327),r(67476)),f=r(2262),m=(r(21703),r(68309),r(13087)),v=r(62833),g=(r(78783),r(33948),{REPLAY:"replay",BATCH:"batch",REAL_TIME:"realTime"}),y=(r(9653),r(3336)),b=r(56084);r(21249),r(74916),r(4723),r(47042),r(15306),r(39714),r(39575),r(27852),Math.pow(2,53);function w(e){return"undefined"!==typeof e&&null!==e}function k(e){return w(e)&&null!==e}function _(e){var t=e.match(/\w\w/g).map((function(e){return parseInt(e,16)})),r=(0,b.Z)(t,3),n=r[0],i=r[1],o=r[2];return[n,i,o]}function S(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),parseInt(e.slice(7,9),16)/255]}function x(e,t){var r=k(e);return r&&(0,y.Z)(e)===t}function T(e,t){return x(e,"function",t)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"letiable";if(!w(e))throw t+" must be defined";return e}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"letiable";if(!w(e)||!e)throw t;return e}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"letiable";if(I(e,r),(0,y.Z)(e)!==t)throw r+" must be of type "+t;return e}function Z(e,t){return E(e,"boolean",t)}function D(e,t){return E(e,"string",t)}function A(e,t){return E(e,"number",t)}function P(e,t){if(A(e,t),e<=0)throw t+" must be a positive number"}function M(e,t){return E(e,"object",t)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"letiable";if(I(e,t),!Array.isArray(e))throw t+" must be an array";return e}function R(e,t){return E(e,"function",t)}function L(){return"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)}))}function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}function z(e,t,r){var n,i,o,a,s,l=function l(){var c=(new Date).getTime(),u=c-a;u<t&&u>=0?n=setTimeout(l,t-u):(n=null,r||(s=e.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,a=(new Date).getTime();var c=r&&!n;return n||(n=setTimeout(l,t)),c&&(s=e.apply(o,i),o=i=null),s}}function B(e,t,r,n,i){var o,a,s,l=null,c=0,u=function(){c=new Date,l=null,s=e.apply(o,a)};return function(){var d=new Date;c||r||(c=d);var h=t-(d-c);return o=i||this,a=arguments,h<=0?(clearTimeout(l),l=null,c=d,s=e.apply(o,a)):!l&&n&&(l=setTimeout(u,h)),s}}function F(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];t[i]instanceof Object&&i in e&&Object.assign(t[i],F(e[i],t[i]))}return Object.assign(e||{},t),e}function W(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.substr(t,r-t);return n.split(",").map(Number)}function U(){return new Worker(r.p+"js/DataSynchronizer.replay.worker-legacy.5bea9325.worker.js")}var V="data-synchronizer-",N="data-synchronizer-time-",q="datasource-data-",H="datasource-time-",Y={DATA:"data",LAST_TIME:"last-time",MASTER_TIME:"master-time",STATUS:"status",TIME_CHANGED:"time-changed",CLOSED:"closed"},K=function(){function e(t){(0,m.Z)(this,e),this.worker=t,this.onmessage=null}return(0,v.Z)(e,[{key:"postMessage",value:function(e,t){this.worker.postMessage(e,t)}},{key:"postMessageWithAck",value:function(e,t){var r=this,n=L();return new Promise((function(i,o){var a=new AbortController;r.worker.addEventListener("message",(function(e){e.data.ackId===n&&(delete e.data.ackId,a.abort(),e.error?o(e.error):i(e.data))}),{signal:a.signal}),e.ackId=n,r.worker.postMessage(e,t)}))}},{key:"onmessage",set:function(e){this.worker.onmessage=e}},{key:"terminate",value:function(){this.worker&&this.worker.terminate()}}]),e}(),G=K,$=function(){function e(t,r){(0,m.Z)(this,e),this.bufferingTime=1e3,this.id=t.id||L(),this.dataSources=t.dataSources||[],this.replaySpeed=t.replaySpeed||1,this.timerResolution=t.timerResolution||5,this.masterTimeRefreshRate=t.masterTimeRefreshRate||250,this.initialized=!1,this.timeSync=r,this.properties={},this.properties.replaySpeed=this.replaySpeed,this.properties.startTimestamp=void 0,this.properties.endTimestamp=void 0,this.properties.minTimestamp=void 0,this.properties.maxTimestamp=void 0,this.properties.version=0,w(t)&&(w(t.minTime)&&(this.minTimestamp=new Date(t.minTime).getTime()),w(t.maxTime)&&(this.maxTimestamp=new Date(t.maxTime).getTime())),this.computeMinMax()}return(0,v.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"getTopicId",value:function(){return V+this.id}},{key:"getTimeTopicId",value:function(){return N+this.id}},{key:"getDataSources",value:function(){return this.dataSources}},{key:"computeMinMax",value:function(){if(this.dataSources.length>0){var e,t=Number.MAX_VALUE,r=Number.MIN_VALUE,n=(0,u.Z)(this.dataSources);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.getMinTimeAsTimestamp(),a=i.getMaxTimeAsTimestamp();o<t&&(t=o),a>r&&(r=a)}}catch(c){n.e(c)}finally{n.f()}w(this.minTimestamp)&&this.minTimestamp>t&&(t=this.minTimestamp),w(this.maxTimestamp)&&this.maxTimestamp>r&&(r=this.maxTimestamp),this.properties.minTimestamp=t,this.properties.maxTimestamp=r}else{var s=new Date("1970-01-01T00:00:00Z").getTime(),l=new Date("2055-01-01T00:00:00Z").getTime();this.properties.minTimestamp=this.properties.startTimestamp=s,this.properties.maxTimestamp=this.properties.endTimestamp=l}}},{key:"getStartTimeAsIsoDate",value:function(){return this.properties.startTimestamp?new Date(this.properties.startTimestamp).toISOString():this.getMinTimeAsIsoDate()}},{key:"getStartTimeAsTimestamp",value:function(){return this.properties.startTimestamp}},{key:"getEndTimeAsIsoDate",value:function(){return this.properties.endTimestamp?new Date(this.properties.endTimestamp).toISOString():this.getMaxTimeAsIsoDate()}},{key:"getEndTimeAsTimestamp",value:function(){return this.properties.endTimestamp}},{key:"getMinTimeAsIsoDate",value:function(){return new Date(this.properties.minTimestamp).toISOString()}},{key:"getMinTimeAsTimestamp",value:function(){return this.properties.minTimestamp}},{key:"getMaxTimeAsIsoDate",value:function(){return new Date(this.properties.maxTimestamp).toISOString()}},{key:"getMaxTimeAsTimestamp",value:function(){return this.properties.maxTimestamp}},{key:"setStartTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this.properties.startTimestamp=new Date(t).getTime(),r){e.next=5;break}return e.next=5,this.updateAlgo();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEndTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this.properties.endTimestamp=new Date(t).getTime(),r){e.next=5;break}return e.next=5,this.updateAlgo();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMinTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.length>1&&void 0!==r[1]&&r[1],this.minTimestamp=new Date(t).getTime(),this.computeMinMax(),this.timeChanged();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMaxTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.length>1&&void 0!==r[1]&&r[1],this.maxTimestamp=new Date(t).getTime(),this.computeMinMax(),this.timeChanged();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReplaySpeed",value:function(){return this.replaySpeed}},{key:"terminate",value:function(){null!==this.synchronizerWorker&&(this.synchronizerWorker.terminate(),this.synchronizerWorker=null);var e,t=(0,u.Z)(this.dataSources);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.terminate()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getMode",value:function(){return g.REPLAY}},{key:"initDataSources",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o,a=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=[],r=(0,u.Z)(this.dataSources),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=13;break}return i=n.value,e.next=9,this.createDataSourceForWorker(i);case 9:o=e.sent,t.push(o);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return this.synchronizerWorker=new G(new U),e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"init",dataSources:t,replaySpeed:this.replaySpeed,timerResolution:this.timerResolution,masterTimeRefreshRate:this.masterTimeRefreshRate,startTimestamp:this.getStartTimeAsTimestamp(),endTimestamp:this.getEndTimeAsTimestamp(),mode:this.getMode(),version:this.version(),topics:{data:this.getTopicId(),time:this.getTimeTopicId()}}).then((function(){a.initialized=!0})));case 25:e.prev=25,e.t1=e["catch"](0),console.error(e.t1);case 28:case"end":return e.stop()}}),e,this,[[0,25],[3,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createDataSourceForWorker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={bufferingTime:t.properties.bufferingTime||0,timeOut:t.properties.timeOut||0,id:t.getId(),name:t.getName(),minTimestamp:t.getMinTimeAsTimestamp(),maxTimestamp:t.getMaxTimeAsTimestamp()},e.prev=1,e.next=4,t.setDataSynchronizer(this.timeSync);case 4:t.properties.replaySpeed=this.replaySpeed,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.error("Cannot set the synchronizer to this DataSource",e.t0),e.t0;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"timeChanged",value:function(){this.onTimeChanged(this.getMinTimeAsTimestamp(),this.getMaxTimeAsTimestamp(),this.getStartTimeAsTimestamp(),this.getEndTimeAsTimestamp())}},{key:"addDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dataSources.push(t),this.computeMinMax(),this.initialized){e.next=8;break}console.log("DataSynchronizer not initialized yet, add DataSource ".concat(t.id," as it")),this.timeChanged(),this.onAddedDataSource(t.id),e.next=14;break;case 8:return t.setStartTime(this.getStartTimeAsIsoDate()),t.setEndTime(this.getEndTimeAsIsoDate()),e.next=12,this.createDataSourceForWorker(t);case 12:return r=e.sent,e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"add",dataSources:[r]}).then((0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.isConnected();case 2:if(!e.sent){e.next=5;break}return e.next=5,t.connect();case 5:n.onAddedDataSource(t.id),n.timeChanged();case 7:case"end":return e.stop()}}),e)})))));case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dataSources=this.dataSources.filter((function(e){return e.id!==t.getId()})),0!==this.dataSources.length){e.next=4;break}return e.next=4,this.reset();case 4:if(this.computeMinMax(),this.initialized){e.next=13;break}return console.log("DataSynchronizer not initialized yet, remove DataSource ".concat(t.id," as it")),e.next=9,t.removeDataSynchronizer();case 9:this.timeChanged(),this.onRemovedDataSource(t.id),e.next=18;break;case 13:return e.next=15,t.disconnect();case 15:return e.next=17,t.removeDataSynchronizer();case 17:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"remove",dataSourceIds:[t.getId()],startTimestamp:this.getStartTimeAsTimestamp(),endTimestamp:this.getEndTimeAsTimestamp()}).then((function(){r.timeChanged(),r.onRemovedDataSource(t.id)})));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"push",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.synchronizerWorker){e.next=2;break}return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({type:"data",dataSourceId:t,data:r}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"version",value:function(){return this.properties.version}},{key:"connect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.dataSources.length>0)){e.next=2;break}return e.abrupt("return",this.checkInit().then((0,h.Z)((0,d.Z)().mark((function e(){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.isConnected();case 2:return r=e.sent,e.abrupt("return",r||t.doConnect());case 4:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkInit",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return w(this.init)||(this.init=this.initDataSources()),e.abrupt("return",this.init);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkStartEndTime",value:function(){this.properties.startTimestamp||(this.properties.startTimestamp=this.properties.minTimestamp),this.properties.endTimestamp||(this.properties.endTimestamp=this.properties.maxTimestamp)}},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.checkStartEndTime(),e.next=3,this.updateAlgo();case 3:t=(0,u.Z)(this.dataSources),e.prev=4,t.s();case 6:if((r=t.n()).done){e.next=12;break}return n=r.value,e.next=10,n.setTimeRange(this.getStartTimeAsIsoDate(),this.getEndTimeAsIsoDate(),this.getReplaySpeed(),!0);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"connect",version:this.version()}));case 21:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.reset();case 2:t=[],r=(0,u.Z)(this.dataSources);try{for(r.s();!(n=r.n()).done;)i=n.value,t.push(i.disconnect())}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",Promise.all(t));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setReplaySpeed",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.replaySpeed=t,this.properties.replaySpeed=t,e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"replay-speed",replaySpeed:t}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setTimeRange",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o,a,s,l=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:this.getStartTimeAsIsoDate(),r=l.length>1&&void 0!==l[1]?l[1]:this.getEndTimeAsIsoDate(),n=l.length>2&&void 0!==l[2]?l[2]:this.getReplaySpeed(),l.length>3&&void 0!==l[3]&&l[3],e.next=6,this.disconnect();case 6:return this.incVersion(),this.replaySpeed=n,e.next=10,this.setStartTime(t,!1);case 10:return e.next=12,this.setEndTime(r,!1);case 12:i=[],o=(0,u.Z)(this.dataSources);try{for(o.s();!(a=o.n()).done;)s=a.value,i.push(s.setTimeRange(this.getStartTimeAsIsoDate(),this.getEndTimeAsIsoDate(),this.getReplaySpeed(),!1,this.getMode(),this.version()))}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",Promise.all(i));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setStartTimestamp",value:function(e){this.properties.startTimestamp=e}},{key:"updateAlgo",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o,a,s,l;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=(0,u.Z)(this.dataSources);try{for(t.s();!(r=t.n()).done;)n=r.value,n.setStartTimestamp(this.getStartTimeAsTimestamp()),n.setEndTimestamp(this.getEndTimeAsTimestamp())}catch(c){t.e(c)}finally{t.f()}this.computeMinMax(),i=[],o=(0,u.Z)(this.dataSources);try{for(o.s();!(a=o.n()).done;)s=a.value,l={bufferingTime:s.properties.bufferingTime||0,timeOut:s.properties.timeOut||0,id:s.getId(),name:s.getName(),minTimestamp:s.getMinTimeAsTimestamp(),maxTimestamp:s.getMaxTimeAsTimestamp()},i.push(l)}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"time-range",mode:this.getMode(),replaySpeed:this.getReplaySpeed(),startTimestamp:this.getStartTimeAsTimestamp(),endTimestamp:this.getEndTimeAsTimestamp(),version:this.version(),dataSources:i}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateProperties",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=[],n=(0,u.Z)(this.dataSources);try{for(n.s();!(i=n.n()).done;)o=i.value,r.push(o.updateProperties(t))}catch(a){n.e(a)}finally{n.f()}return e.abrupt("return",Promise.all(r));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetTimes",value:function(){this.computeMinMax()}},{key:"reset",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkInit();case 2:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"reset"}).then((function(){return t.resetTimes()})));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"current-time"}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isConnected",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.dataSources.length){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.checkInit();case 6:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"is-connected"}).then((function(e){return e.data})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"incVersion",value:function(){this.properties.version++}},{key:"autoUpdateTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=[],n=(0,u.Z)(this.dataSources);try{for(n.s();!(i=n.n()).done;)o=i.value,r.push(o.autoUpdateTime(t))}catch(a){n.e(a)}finally{n.f()}return e.abrupt("return",Promise.all(r));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onTimeChanged",value:function(e,t,r,n){}},{key:"onRemovedDataSource",value:function(e){}},{key:"onAddedDataSource",value:function(e){}}]),e}(),Q=$;function X(){return new Worker(r.p+"js/DataSynchronizer.realtime.worker-legacy.d78bf299.worker.js")}var J=function(){function e(t,r){(0,m.Z)(this,e),this.bufferingTime=1e3,this.id=t.id||L(),this.dataSources=t.dataSources||[],this.timerResolution=t.timerResolution||5,this.masterTimeRefreshRate=t.masterTimeRefreshRate||250,this.initialized=!1,this.timeSync=r,this.properties={},this.properties.version=0}return(0,v.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"getDataSources",value:function(){return this.dataSources}},{key:"getTopicId",value:function(){return V+this.id}},{key:"getTimeTopicId",value:function(){return N+this.id}},{key:"setStartTimestamp",value:function(e){this.properties.startTimestamp=e}},{key:"terminate",value:function(){null!==this.synchronizerWorker&&(this.synchronizerWorker.terminate(),this.synchronizerWorker=null);var e,t=(0,u.Z)(this.dataSources);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.terminate()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getMode",value:function(){return g.REAL_TIME}},{key:"initDataSources",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o,a=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=[],r=(0,u.Z)(this.dataSources),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=13;break}return i=n.value,e.next=9,this.createDataSourceForWorker(i);case 9:o=e.sent,t.push(o);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return this.synchronizerWorker=new G(new X),e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"init",dataSources:t,timerResolution:this.timerResolution,masterTimeRefreshRate:this.masterTimeRefreshRate,mode:g.REAL_TIME,version:this.version(),topics:{data:this.getTopicId(),time:this.getTimeTopicId()}}).then((function(){a.initialized=!0})));case 25:e.prev=25,e.t1=e["catch"](0),console.log(e.t1);case 28:case"end":return e.stop()}}),e,this,[[0,25],[3,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createDataSourceForWorker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={bufferingTime:t.properties.bufferingTime||0,timeOut:t.properties.timeOut||0,id:t.id,name:t.name},e.next=3,t.setDataSynchronizer(this.timeSync);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dataSources.push(t),this.initialized){e.next=5;break}console.log("DataSynchronizer not initialized yet, add DataSource ".concat(t.id," as it")),e.next=9;break;case 5:return e.next=7,this.createDataSourceForWorker(t);case 7:return r=e.sent,e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"add",dataSources:[r]}).then((function(){n.onAddedDataSource(t.id)})));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.removeDataSynchronizer();case 2:if(this.dataSources=this.dataSources.filter((function(e){return e.id!==t.getId()})),0!==this.dataSources.length){e.next=6;break}return e.next=6,this.reset();case 6:if(this.initialized){e.next=10;break}console.log("DataSynchronizer not initialized yet, remove DataSource ".concat(t.id," as it")),e.next=11;break;case 10:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"remove",dataSourceIds:[t.getId()]}).then((function(){r.onRemovedDataSource(t.id)})));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"push",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===this.synchronizerWorker){e.next=2;break}return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({type:"data",dataSourceId:t,data:r}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"version",value:function(){return this.properties.version}},{key:"connect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkInit();case 2:return e.abrupt("return",this.doConnect());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkInit",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return w(this.init)||(this.init=this.initDataSources()),e.abrupt("return",this.init);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=(0,u.Z)(this.dataSources),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n.connect();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"connect",version:this.version()}));case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.reset();case 2:t=[],r=(0,u.Z)(this.dataSources);try{for(r.s();!(n=r.n()).done;)i=n.value,t.push(i.disconnect())}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",Promise.all(t));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateProperties",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=(0,u.Z)(this.dataSources);try{for(r.s();!(n=r.n()).done;)i=n.value,i.updateProperties(t)}catch(o){r.e(o)}finally{r.f()}case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkInit();case 2:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"reset"}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"current-time"}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isConnected",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.dataSources.length){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.checkInit();case 6:return e.abrupt("return",this.synchronizerWorker.postMessageWithAck({message:"is-connected"}).then((function(e){return e.data})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setMinTime",value:function(e){}},{key:"setMaxTime",value:function(e){}},{key:"incVersion",value:function(){this.properties.version++}},{key:"onTimeChanged",value:function(e,t){}},{key:"onRemovedDataSource",value:function(e){}},{key:"onAddedDataSource",value:function(e){}}]),e}(),ee=J,te=function(){function e(t){var r=this;(0,m.Z)(this,e);var n=t.id||L();this.dataSynchronizerReplay=new Q((0,c.Z)((0,c.Z)({},t),{},{id:n+"-replay"}),this),this.dataSynchronizerRt=new ee((0,c.Z)((0,c.Z)({},t),{},{id:n+"-realtime"}),this),this.broadcastChannels=[],this.setMode(t.mode||g.REPLAY).then((function(){r.dataSynchronizer.onTimeChanged=function(e,t,n,i){return r.onTimeChanged(e,t,n,i)},r.dataSynchronizer.onAddedDataSource=function(e){return r.onAddedDataSource(e)},r.dataSynchronizer.onRemovedDataSource=function(e){return r.onRemovedDataSource(e)}}))}return(0,v.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"setMode",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.dataSynchronizer){e.next=3;break}return e.next=3,this.dataSynchronizer.disconnect();case 3:t===g.REPLAY?this.dataSynchronizer=this.dataSynchronizerReplay:t===g.REAL_TIME&&(this.dataSynchronizer=this.dataSynchronizerRt),this.id=this.dataSynchronizer.id,r=(0,u.Z)(this.broadcastChannels);try{for(r.s();!(n=r.n()).done;)i=n.value,i.close()}catch(d){r.e(d)}finally{r.f()}this.initEventSubscription(),this.broadcastChannels=[],o=[],a=(0,u.Z)(this.dataSynchronizer.getDataSources());try{for(a.s();!(s=a.n()).done;)l=s.value,o.push(l.setMode(t))}catch(d){a.e(d)}finally{a.f()}return this.dataSynchronizer.onTimeChanged=function(e,t,r,n){return c.onTimeChanged(e,t,r,n)},this.dataSynchronizer.onAddedDataSource=function(e){return c.onAddedDataSource(e)},this.dataSynchronizer.onRemovedDataSource=function(e){return c.onRemovedDataSource(e)},e.abrupt("return",Promise.all(o).then((function(){return c.onChangedMode(t)})));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initEventSubscription",value:function(){var e=this;this.eventSubscriptionMap={},this.broadcastChannels.push(new BroadcastChannel(this.getTopicId()).onmessage=function(t){var r=t.data.type;if(r in e.eventSubscriptionMap)for(var n=0;n<e.eventSubscriptionMap[r].length;n++)e.eventSubscriptionMap[r][n](t.data)}),this.broadcastChannels.push(new BroadcastChannel(this.getTimeTopicId()).onmessage=function(t){t.data.type===Y.MASTER_TIME&&e.dataSynchronizer.setStartTimestamp(t.data.timestamp);var r=t.data.type;if(r in e.eventSubscriptionMap)for(var n=0;n<e.eventSubscriptionMap[r].length;n++)e.eventSubscriptionMap[r][n](t.data)})}},{key:"subscribe",value:function(e,t){for(var r=0;r<t.length;r++)t[r]in this.eventSubscriptionMap||(this.eventSubscriptionMap[t[r]]=[]),this.eventSubscriptionMap[t[r]].push(e)}},{key:"getDataSources",value:function(){return this.dataSynchronizer.getDataSources()}},{key:"getTopicId",value:function(){return this.dataSynchronizer.getTopicId()}},{key:"getTimeTopicId",value:function(){return this.dataSynchronizer.getTimeTopicId()}},{key:"getStartTimeAsIsoDate",value:function(){return this.dataSynchronizer.getStartTimeAsIsoDate()}},{key:"getStartTimeAsTimestamp",value:function(){return this.dataSynchronizer.getStartTimeAsTimestamp()}},{key:"getEndTimeAsIsoDate",value:function(){return this.dataSynchronizer.getEndTimeAsIsoDate()}},{key:"getEndTimeAsTimestamp",value:function(){return this.dataSynchronizer.getEndTimeAsTimestamp()}},{key:"getMinTimeAsIsoDate",value:function(){return this.dataSynchronizer.getMinTimeAsIsoDate()}},{key:"getMinTimeAsTimestamp",value:function(){return this.dataSynchronizer.getMinTimeAsTimestamp()}},{key:"getMaxTimeAsIsoDate",value:function(){return this.dataSynchronizer.getMinTimeAsTimestamp()}},{key:"getMaxTimeAsTimestamp",value:function(){return this.dataSynchronizer.getMaxTimeAsTimestamp()}},{key:"getReplaySpeed",value:function(){return this.dataSynchronizer.getReplaySpeed()}},{key:"terminate",value:function(){return this.dataSynchronizer.terminate()}},{key:"getMode",value:function(){return this.dataSynchronizer.getMode()}},{key:"autoUpdateTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizerReplay.autoUpdateTime(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initDataSources",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.initDataSources());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.dataSynchronizerRt.addDataSource(t);case 2:return e.abrupt("return",this.dataSynchronizerReplay.addDataSource(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.dataSynchronizerRt.removeDataSource(t);case 2:return e.abrupt("return",this.dataSynchronizerReplay.removeDataSource(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"push",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.push(t,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"version",value:function(){return this.dataSynchronizer.version()}},{key:"connect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.connect());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkInit",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.checkInit());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.doConnect());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.disconnect());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setReplaySpeed",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.setReplaySpeed(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setTimeRange",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:this.getStartTimeAsIsoDate(),r=o.length>1&&void 0!==o[1]?o[1]:this.getEndTimeAsIsoDate(),n=o.length>2&&void 0!==o[2]?o[2]:this.getReplaySpeed(),i=o.length>3&&void 0!==o[3]&&o[3],e.abrupt("return",this.dataSynchronizer.setTimeRange(t,r,n,i));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateProperties",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.updateProperties(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.reset());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.getCurrentTime());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setMinTime",value:function(e){this.dataSynchronizer.setMinTime(e)}},{key:"setMaxTime",value:function(e){this.dataSynchronizer.setMaxTime(e)}},{key:"isConnected",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSynchronizer.isConnected());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"minMaxChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.dataSynchronizerReplay.properties.startTimestamp=void 0,this.dataSynchronizerReplay.properties.endTimestamp=void 0),this.dataSynchronizerReplay.computeMinMax(),this.dataSynchronizerReplay.timeChanged()}},{key:"onTimeChanged",value:function(e,t){}},{key:"onRemovedDataSource",value:function(e){}},{key:"onAddedDataSource",value:function(e){}},{key:"onChangedMode",value:function(e){}}]),e}(),re=te,ne=r(39110),ie=r(24343),oe=r(26334),ae=r(62040);function se(){return new Worker(r.p+"js/DataSource.worker-legacy.895116fb.worker.js")}var le={CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",FETCH_STARTED:"fetch-start",FETCH_ENDED:"fetch-end",CLOSED:"closed",CLOSED_ERROR:"closed-error"},ce=function(){function e(t,r){(0,m.Z)(this,e),this.url=t,this.properties=r,this.id="DataConnector-"+L(),this.reconnectTimeout=2e4,this.status=le.DISCONNECTED}return(0,v.Z)(e,[{key:"disconnect",value:function(){this.checkStatus(le.DISCONNECTED),this.checkAndClearReconnection()}},{key:"setUrl",value:function(e){this.url=e}},{key:"getId",value:function(){return this.id}},{key:"getUrl",value:function(){return this.url}},{key:"setReconnectTimeout",value:function(e){this.reconnectTimeout=e}},{key:"onReconnect",value:function(){return!0}},{key:"connect",value:function(){}},{key:"forceReconnect",value:function(){this.disconnect(),this.connect()}},{key:"onChangeStatus",value:function(e){}},{key:"checkStatus",value:function(e){e!==this.status&&(this.onChangeStatus(e),this.status=e)}},{key:"onDisconnect",value:function(){}},{key:"onConnect",value:function(){}},{key:"postRequest",value:function(){}},{key:"publishRequest",value:function(){}},{key:"reset",value:function(){}},{key:"close",value:function(){}},{key:"onClose",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),ue=ce,de=(r(82472),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(63408),r(14590),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(23767),r(8585),r(68696),r(68475)),he=r.n(de),pe={},fe=function(){function e(t){if((0,m.Z)(this,e),this.properties=t,!w(t))throw Error("endpoint and clientId are mandatory properties");if(!w(t.endpoint))throw Error("endpoint is a mandatory property");if(!w(t.clientId))throw Error("clientId is a mandatory property");this.mqttPrefix="/api",w(t.mqttPrefix)&&(this.mqttPrefix=t.mqttPrefix),this.topics=[];var r={reconnectPeriod:30,connectTimeout:3e4,clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),wsOptions:{binaryType:"arraybuffer"}};w(this.properties.options)&&(r=(0,c.Z)((0,c.Z)({},r),this.properties.options)),this.options=r,this.endpoint=t.endpoint+"/mqtt",this.clientId=t.clientId,this.client=null}return(0,v.Z)(e,[{key:"subscribe",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i,o=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t in this.topics)){e.next=2;break}return e.abrupt("return");case 2:if(w(this.client)){e.next=4;break}throw Error("You must connect the client before subscribing any topic");case 4:return i="".concat(this.mqttPrefix).concat(t),this.topics.push(t),e.abrupt("return",new Promise((function(e,a){n=setInterval((function(){if(o.client.connected)try{i in pe||(pe[i]=[]),pe[i].push({callbackFn:r,topic:t}),o.client.subscribe("".concat(i),(function(t){t?(r(t),a(t)):(console.warn("Subscribed to ".concat(i)),e())}))}catch(s){console.error(s)}finally{clearInterval(n)}}),100)})));case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(e,t){var r="".concat(this.mqttPrefix).concat(e);this.client.publish(r,t)}},{key:"unsubscribe",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="".concat(this.mqttPrefix).concat(t),e.abrupt("return",this.client.unsubscribe(r,(function(e){if(delete pe[r],e){var t="Cannot Unsubscribed topic: ".concat(r," : ").concat(e);throw console.error(t),Error(t)}console.warn("Unsubscribed topic: ".concat(r))})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unsubscribeAll",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=(0,u.Z)(this.topics),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,this.unsubscribe(n);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this.topics=[];case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){if(!w(this.client)){this.client=he().connect(this.endpoint,(0,c.Z)({},this.options));var e=this;this.client.on("connect",(function(t){console.info("Mqtt client is connected to ".concat(e.endpoint))})),this.client.on("message",this.onMessage.bind(this)),this.client.on("offline",(function(t){throw new Error("The server ".concat(e.endpoint," seems offline"))})),this.client.on("error",(function(e){throw new Error(error)}))}}},{key:"onMessage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t in pe){n=(0,u.Z)(pe[t]);try{for(n.s();!(i=n.n()).done;)o=i.value,o.callbackFn(new Uint8Array(r).subarray(r.byteOffset).buffer,o.topic)}catch(a){n.e(a)}finally{n.f()}}case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){if(!w(this.client))throw Error("The client has not been created yet");this.client.end(),pe={},this.client=null}},{key:"isConnected",value:function(){return w(this.client)&&this.client.connected}}]),e}(),me=fe,ve=(r(26699),r(32023),r(68757),function(){function e(t){(0,m.Z)(this,e),this.props=t}return(0,v.Z)(e,[{key:"toQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r="",n="";for(var i in t.push("replaySpeed"),this.props)t.includes(i)||(0===e.length||e.includes(i))&&w(this.props[i])&&(r+="f"===i||"format"===i||"responseFormat"===i||"obsFormat"===i?n+i+"="+this.props[i].replaceAll("+","%2B"):n+i+"="+this.props[i],n="&");return r}}]),e}()),ge=ve,ye=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({phenomenonTime:void 0,resultTime:void 0,featureOfInterest:void 0,select:void 0,bbox:void 0,location:void 0,format:"application/om+json",replaySpeed:void 0},e))}return(0,v.Z)(r)}(ge),be=ye,we={},ke=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,e,(0,c.Z)({mqttPrefix:n.mqttOpts&&n.mqttOpts.prefix||"/api"},n)),i.interval=-1,i.id="mqtt-connector-".concat(L()),i}return(0,v.Z)(r,[{key:"initBc",value:function(){var e,t=this;this.onMessage=function(e,r){t.broadcastChannel.postMessage({data:e,topic:r},[e])},this.broadcastChannel=new BroadcastChannel(this.id),this.broadcastChannel.onmessage=function(r){"subscribe"===r.data.message?(e=r.data.queryString,t.doRequest(r.data.topic,r.data.queryString)):"unsubscribe"===r.data.message&&t.disconnect(r.data.topic+"?"+e)}}},{key:"getMqttProvider",value:function(){var e=this.getUrl();if(e in we)console.warn("Getting MQTT provider from cache: ".concat(e));else{var t={reconnectPeriod:this.reconnectTimeout,connectTimeout:3e4};w(this.properties.mqttOpts)&&(t=(0,c.Z)((0,c.Z)({},t),this.properties.mqttOpts)),we[e]=new me({endpoint:e,clientId:L(),options:t,mqttPrefix:this.properties.mqttPrefix}),console.warn("Stored MQTT provider into cache: ".concat(e)),we[e].connect(),we[e].checkStatus=this.checkStatus,this.checkStatus(le.CONNECTED)}return we[e]}},{key:"checkStatus",value:function(e){this.onChangeStatus(e),this.status=e}},{key:"doRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.getMqttProvider();n.subscribe("".concat(t,"?").concat(r),this.onMessage).then((function(){e.onChangeStatus(le.CONNECTED)}))}},{key:"publishRequest",value:function(e,t){var r=this.getMqttProvider();r.publish(e,t)}},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=we[this.getUrl()],!w(r)||!r.isConnected()){e.next=7;break}if(t){e.next=6;break}return e.abrupt("return",r.unsubscribeAll());case 6:return e.abrupt("return",r.unsubscribe(t));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){this.doRequest(this.properties.topic||"")}},{key:"onMessage",value:function(e){}},{key:"isConnected",value:function(){return w(we[this.getUrl()])&&we[this.getUrl()].isConnected()}},{key:"reset",value:function(){this.disconnect(),console.log("Remove provider from cache: ".concat(this.getUrl())),delete we[this.getUrl()]}}]),r}(ue),_e=ke,Se=5,xe=[],Te=0,Ie={},Ce={};function Ee(e,t){var r=e.mqttOpts.endpointUrl;r.endsWith("/")&&(r=r.substring(0,r.length-1));var n=e.tls?"s":"",i="mqtt"+n+"://"+r;return i in Ce||(Ce[i]=new _e(i,e),Ce[i].initBc()),Ce[i].id}var Ze=function(){function e(t,r){(0,m.Z)(this,e),this.id=r.id||"DataSource-"+L(),this.name=t,this.properties=r,this.eventSubscriptionMap={},this.init=void 0,this.mode=g.REAL_TIME,w(r.mode)&&(this.mode=r.mode),"mqtt"===r.protocol&&(this.properties.mqttOpts.bcId=Ee(r))}return(0,v.Z)(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"terminate",value:function(){null!==this.dataSourceWorker&&this.dataSourceWorker.terminate()}},{key:"getTopicId",value:function(){return q+this.id}},{key:"subscribe",value:function(e,t){for(var r=0;r<t.length;r++)t[r]in this.eventSubscriptionMap||(this.eventSubscriptionMap[t[r]]=[]),this.eventSubscriptionMap[t[r]].push(e)}},{key:"createWorker",value:function(e){return new G(new se)}},{key:"updateProperties",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.properties=(0,c.Z)((0,c.Z)({},this.properties),t),e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"update-properties",data:t,dsId:this.id}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkInit();case 2:return e.abrupt("return",this.doConnect());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWorker",value:function(){return this.id in Ie||(w(xe[Te])||(xe[Te]=this.createWorker()),Ie[this.id]=Te,Te=(Te+1)%Se),xe[Ie[this.id]]}},{key:"initDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r=this,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.properties,this.dataSourceWorker=this.getWorker(),e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"init",id:this.id,properties:t,topics:{data:this.getTopicId()},dsId:this.id}).then((function(){var e=new BroadcastChannel(r.getTopicId());e.onmessage=function(e){r.handleMessage(e)},r.isInitialized=!0})));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleMessage",value:function(e){var t=e.data.type;if(t in this.eventSubscriptionMap)for(var r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)}},{key:"resetInit",value:function(){this.init=void 0}},{key:"checkInit",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return w(this.init)||(this.init=this.initDataSource()),e.abrupt("return",this.init);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"connect",dsId:this.id}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isConnected",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.init){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",this.checkInit().then((function(){return t.dataSourceWorker.postMessageWithAck({message:"is-connected",dsId:t.id})})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkInit();case 2:return e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"disconnect",dsId:this.id}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDisconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){this.init=void 0}},{key:"onRemovedDataSource",value:function(e){}},{key:"onAddedDataSource",value:function(e){}}]),e}(),De=Ze,Ae=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,e,n),i.dataSynchronizer=void 0,i.properties.version=0,i}return(0,v.Z)(r,[{key:"getTimeTopicId",value:function(){return H+this.id}},{key:"getMode",value:function(){return g.REAL_TIME}},{key:"getStartTimeAsIsoDate",value:function(){return"now"}},{key:"getStartTimeAsTimestamp",value:function(){return Date.now()}},{key:"getEndTimeAsIsoDate",value:function(){return this.getMaxTimeAsTimestamp()}},{key:"getEndTimeAsTimestamp",value:function(){return this.getMaxTimeAsTimestamp()}},{key:"getMinTimeAsIsoDate",value:function(){return"now"}},{key:"getMaxTimeAsIsoDate",value:function(){return"2055-01-01Z"}},{key:"getMinTimeAsTimestamp",value:function(){return Date.now()}},{key:"getMaxTimeAsTimestamp",value:function(){return new Date("2055-01-01Z").toISOString()}},{key:"setMinTime",value:function(e){}},{key:"setMaxTime",value:function(e){}},{key:"setStartTimestamp",value:function(e){}},{key:"setEndTimestamp",value:function(e){}},{key:"getReplaySpeed",value:function(){return 1}},{key:"setReplaySpeed",value:function(e){}},{key:"setVersion",value:function(e){this.properties.version=e}},{key:"setDataSynchronizer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dataSynchronizer=t,e.abrupt("return",this.initDataSynchronizerIfPresent());case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initDataSynchronizerIfPresent",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.dataSynchronizer){e.next=6;break}return e.next=3,this.checkInit();case 3:return t=V+this.dataSynchronizer.id,this.properties.version=this.dataSynchronizer.version(),e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"topics",topics:{data:t,time:this.getTimeTopicId(),mode:g.REAL_TIME,sync:this.dataSynchronizer.getTimeTopicId()},dsId:this.id,mode:g.REAL_TIME}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeDataSynchronizer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dataSourceWorker&&(this.dataSourceWorker.terminate(),this.dataSynchronizer=void 0),e.abrupt("return",this.checkInit());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkInit();case 2:return e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"disconnect",dsId:this.id,mode:g.REAL_TIME}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"connect",startTime:"now",version:this.version(),dsId:this.id,mode:g.REAL_TIME}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var n,i=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,oe.Z)((0,ae.Z)(r.prototype),"initDataSource",this).call(this,t);case 2:return n={data:this.getTopicId(),time:this.getTimeTopicId()},this.dataSynchronizer&&(n.sync=this.dataSynchronizer.getTimeTopicId()),e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"topics",topics:n,dsId:this.id,mode:g.REAL_TIME}).then((function(){var e=new BroadcastChannel(i.getTimeTopicId());e.onmessage=function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.handleTimeMessage(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleTimeMessage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.data.type,r in this.eventSubscriptionMap)for(n=0;n<this.eventSubscriptionMap[r].length;n++)this.eventSubscriptionMap[r][n](t.data);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"version",value:function(){return this.properties.version}}]),r}(De),Pe=Ae,Me=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,e,n),i.setMinTime(n.startTime),i.setMaxTime(n.endTime),i.properties.startTimestamp=new Date(n.startTime).getTime(),i.properties.endTimestamp=new Date(n.endTime).getTime(),I(n,"Some properties must be defined"),i.dataSynchronizer=void 0,i.properties.version=0,i}return(0,v.Z)(r,[{key:"getTimeTopicId",value:function(){return H+this.id}},{key:"getMode",value:function(){return this.properties.mode}},{key:"getStartTimeAsIsoDate",value:function(){return new Date(this.getStartTimeAsTimestamp()).toISOString()}},{key:"getStartTimeAsTimestamp",value:function(){return this.properties.startTimestamp}},{key:"getEndTimeAsIsoDate",value:function(){return new Date(this.getEndTimeAsTimestamp()).toISOString()}},{key:"getEndTimeAsTimestamp",value:function(){return this.properties.endTimestamp}},{key:"getMinTimeAsIsoDate",value:function(){return new Date(this.getMinTimeAsTimestamp()).toISOString()}},{key:"getMaxTimeAsIsoDate",value:function(){return new Date(this.getMaxTimeAsTimestamp()).toISOString()}},{key:"getMinTimeAsTimestamp",value:function(){return this.properties.minTimestamp}},{key:"getMaxTimeAsTimestamp",value:function(){return this.properties.maxTimestamp}},{key:"setMinTime",value:function(e){this.properties.minTimestamp=new Date(e).getTime(),this.computeMinMax()}},{key:"setMaxTime",value:function(e){this.properties.maxTimestamp=new Date(e).getTime(),this.computeMinMax()}},{key:"setStartTimestamp",value:function(e){this.properties.startTimestamp=e,this.computeMinMax()}},{key:"setEndTimestamp",value:function(e){this.properties.endTimestamp=e,this.computeMinMax()}},{key:"setStartTime",value:function(e){this.setStartTimestamp(new Date(e).getTime())}},{key:"setEndTime",value:function(e){this.setEndTimestamp(new Date(e).getTime())}},{key:"getReplaySpeed",value:function(){return this.properties.replaySpeed}},{key:"setReplaySpeed",value:function(e){this.properties.replaySpeed=e}},{key:"setVersion",value:function(e){this.properties.version=e}},{key:"setDataSynchronizer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dataSynchronizer=t,e.abrupt("return",this.initDataSynchronizerIfPresent());case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initDataSynchronizerIfPresent",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.dataSynchronizer){e.next=6;break}return e.next=3,this.checkInit();case 3:return t=V+this.dataSynchronizer.getId(),this.properties.version=this.dataSynchronizer.version(),e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"topics",topics:{data:t,time:this.getTimeTopicId(),sync:this.dataSynchronizer.getTimeTopicId()},dsId:this.id,mode:g.REPLAY}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeDataSynchronizer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.init=void 0,this.dataSynchronizer=void 0,e.abrupt("return",this.checkInit());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!w(this.init)){e.next=8;break}return e.prev=1,e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"disconnect",dsId:this.id,mode:g.REPLAY}));case 5:e.prev=5,e.t0=e["catch"](1),console.error(e.t0);case 8:case"end":return e.stop()}}),e,this,[[1,5]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"connect",startTime:this.getStartTimeAsIsoDate(),version:this.version(),dsId:this.id,mode:g.REPLAY}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var n,i=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,oe.Z)((0,ae.Z)(r.prototype),"initDataSource",this).call(this,t);case 2:return n={data:this.getTopicId(),time:this.getTimeTopicId()},this.dataSynchronizer&&(n.sync=this.dataSynchronizer.getTimeTopicId()),e.abrupt("return",this.dataSourceWorker.postMessageWithAck({message:"topics",topics:n,dsId:this.id,mode:g.REPLAY}).then((function(){var e=new BroadcastChannel(i.getTimeTopicId());e.onmessage=function(e){i.handleTimeMessage(e)}})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleTimeMessage",value:function(e){var t=e.data.type;if(t in this.eventSubscriptionMap)for(var r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)}},{key:"version",value:function(){return this.properties.version}},{key:"computeMinMax",value:function(){this.properties.startTimestamp<this.properties.minTimestamp&&(this.properties.startTimestamp=this.properties.minTimestamp),this.properties.endTimestamp>this.properties.maxTimestamp&&(this.properties.endTimestamp=this.properties.maxTimestamp)}},{key:"setTimeRange",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o,a,s=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:this.getStartTimeAsIsoDate(),r=s.length>1&&void 0!==s[1]?s[1]:this.getEndTimeAsIsoDate(),n=s.length>2&&void 0!==s[2]?s[2]:this.getReplaySpeed(),i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:this.getMode(),a=s.length>5&&void 0!==s[5]?s[5]:this.version(),e.next=8,this.checkInit();case 8:return a!==this.version()&&(this.properties.version=a),this.properties.startTimestamp=new Date(t).getTime(),this.properties.endTimestamp=new Date(r).getTime(),this.computeMinMax(),e.abrupt("return",this.updateProperties({startTime:this.getStartTimeAsIsoDate(),endTime:this.getEndTimeAsIsoDate(),replaySpeed:n,reconnect:i,mode:o,version:a}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(De),Oe=Me,Re=function(){function e(t,r){(0,m.Z)(this,e);var n=L();this.timeSeriesRealtimeDataSource=new Pe(t,(0,c.Z)({id:n},r)),this.timeSeriesReplayDataSource=new Oe(t,(0,c.Z)({id:n},r)),this.setMode(r.mode)}return(0,v.Z)(e,[{key:"setMode",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.timeSeriesDataSource){e.next=3;break}return e.next=3,this.timeSeriesDataSource.disconnect();case 3:if(this.timeSeriesDataSource&&t===this.timeSeriesDataSource.getMode()){e.next=11;break}return t===g.REAL_TIME?this.timeSeriesDataSource=this.timeSeriesRealtimeDataSource:this.timeSeriesDataSource=this.timeSeriesReplayDataSource,this.timeSeriesDataSource.resetInit(),this.properties=this.timeSeriesDataSource.properties,this.id=this.timeSeriesDataSource.id,this.name=this.timeSeriesDataSource.name,this.properties.mode=t,e.abrupt("return",this.timeSeriesDataSource.initDataSynchronizerIfPresent());case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTimeTopicId",value:function(){return this.timeSeriesDataSource.getTimeTopicId()}},{key:"getMode",value:function(){return this.timeSeriesDataSource.getMode()}},{key:"setVersion",value:function(e){this.timeSeriesDataSource.setVersion(e)}},{key:"getStartTimeAsIsoDate",value:function(){return this.timeSeriesDataSource.getStartTimeAsIsoDate()}},{key:"getStartTimeAsTimestamp",value:function(){return this.timeSeriesDataSource.getStartTimeAsTimestamp()}},{key:"getEndTimeAsIsoDate",value:function(){return this.timeSeriesDataSource.getEndTimeAsIsoDate()}},{key:"getEndTimeAsTimestamp",value:function(){return this.timeSeriesDataSource.getEndTimeAsTimestamp()}},{key:"getMinTimeAsIsoDate",value:function(){return this.timeSeriesDataSource.getMinTimeAsIsoDate()}},{key:"getMaxTimeAsIsoDate",value:function(){return this.timeSeriesDataSource.getMaxTimeAsIsoDate()}},{key:"getMinTimeAsTimestamp",value:function(){return this.timeSeriesDataSource.getMinTimeAsTimestamp()}},{key:"getMaxTimeAsTimestamp",value:function(){return this.timeSeriesDataSource.getMaxTimeAsTimestamp()}},{key:"setMinTime",value:function(e){this.timeSeriesDataSource.setMinTime(e)}},{key:"setMaxTime",value:function(e){this.timeSeriesDataSource.setMaxTime(e)}},{key:"setStartTimestamp",value:function(e){this.timeSeriesDataSource.setStartTimestamp(e)}},{key:"setEndTimestamp",value:function(e){this.timeSeriesDataSource.setEndTimestamp(e)}},{key:"setStartTime",value:function(e){this.timeSeriesDataSource.setStartTime(e)}},{key:"setEndTime",value:function(e){this.timeSeriesDataSource.setEndTime(e)}},{key:"getReplaySpeed",value:function(){return this.timeSeriesDataSource.getReplaySpeed()}},{key:"setReplaySpeed",value:function(e){this.timeSeriesDataSource.setReplaySpeed(e)}},{key:"setDataSynchronizer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.setDataSynchronizer(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDataSynchronizer",value:function(){return this.timeSeriesDataSource.dataSynchronizer}},{key:"removeDataSynchronizer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.removeDataSynchronizer());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.disconnect());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doConnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.doConnect());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initDataSource",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.initDataSource(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"version",value:function(){return this.timeSeriesDataSource.version()}},{key:"setTimeRange",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o,a,s=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:this.getStartTimeAsIsoDate(),r=s.length>1&&void 0!==s[1]?s[1]:this.getEndTimeAsIsoDate(),n=s.length>2&&void 0!==s[2]?s[2]:this.getReplaySpeed(),i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:this.getMode(),a=s.length>5&&void 0!==s[5]?s[5]:this.version(),e.abrupt("return",this.timeSeriesDataSource.setTimeRange(t,r,n,i,o,a));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getId",value:function(){return this.timeSeriesDataSource.getId()}},{key:"getName",value:function(){return this.timeSeriesDataSource.getName()}},{key:"terminate",value:function(){this.timeSeriesDataSource.terminate()}},{key:"getTopicId",value:function(){return this.timeSeriesDataSource.getTopicId()}},{key:"subscribe",value:function(e,t){this.timeSeriesDataSource.subscribe(e,t)}},{key:"updateProperties",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.updateProperties(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.connect());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkInit",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.checkInit());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isConnected",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.timeSeriesDataSource.isConnected());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){this.timeSeriesDataSource.reset()}},{key:"onTimeChanged",value:function(e,t,r,n){}},{key:"autoUpdateTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",this.createTimeUpdater());case 4:this.destroyTimeUpdater();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createTimeUpdater",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyTimeUpdater",value:function(){}}]),e}(),Le=Re,je=(r(24603),r(28450),r(88386),r(77601),function(){function e(t){(0,m.Z)(this,e),this.properties=t,this.datastreamInterval=void 0}return(0,v.Z)(e,[{key:"fetchTime",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){if(!e.ok){var t=new Error("HTTP status code: "+e.status);throw t.response=e,t.status=e.status,r.onError(t),t}return e})).then((function(e){return e.json()})).then((function(e){if(e&&e.items.length>0&&e.items[0].phenomenonTime&&e.items[0].phenomenonTime.length>1){var t=e.items[0].phenomenonTime[0],n=e.items[0].phenomenonTime[1];r.onTimeChanged(t,n)}})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i,o=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new RegExp("\\/(.*\\/)(.*)\\/observations"),!t.test(this.properties.resource)){e.next=8;break}return r=t.exec(this.properties.resource),n=r[2],i="http".concat(this.properties.tls?"s":"","://").concat(this.properties.endpointUrl,"/datastreams?id=").concat(n,"&select=id,phenomenonTime&f=application%2Fjson"),e.abrupt("return",this.fetchTime(i).then((function(){o.datastreamInterval=setInterval((function(){o.fetchTime(i)}),5e3)})));case 8:throw Error("Cannot parse dataStream id from resource ".concat(this.properties.resource));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onTimeChanged",value:function(e,t){}},{key:"onError",value:function(e){}},{key:"destroy",value:function(){clearInterval(this.datastreamInterval)}}]),e}()),ze=je,Be=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){return(0,m.Z)(this,r),t.call(this,e,(0,c.Z)({reconnectTimeout:5e3,reconnectRetry:10,startTime:"now",endTime:"2055-01-01T00:00:00Z",tls:!1,responseFormat:"application/swe+json",protocol:"http",type:"SweApiStream",mode:g.REAL_TIME,prefetchBatchSize:250,prefetchBatchDuration:5e3,connectorOpts:{}},n))}return(0,v.Z)(r,[{key:"createTimeUpdater",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.timeUpdater=new ze(this.properties),t=!0,this.timeUpdater.onTimeChanged=function(e,n){t&&(r.setMinTime(e),t=!1),r.setMaxTime(n),r.getDataSynchronizer()&&r.getDataSynchronizer().minMaxChanged(t)},this.timeUpdater.onError=function(e){return reject()},e.abrupt("return",this.timeUpdater.start());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyTimeUpdater",value:function(){this.timeUpdater&&this.timeUpdater.destroy()}}]),r}(Le),Fe=Be,We=r(82482),Ue=(r(82526),r(41817),r(30541),function(){function e(t){(0,m.Z)(this,e),this.properties=t,this.init(t)}return(0,v.Z)(e,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.properties;if(this.data=[],this.propsById={},this.dataSourcesToFn=void 0,this.props={id:"layer-"+L(),filter:!0,name:"",description:"",visible:!0,timestamp:!0},this.dataSourceIds=void 0,w(t.name)&&(this.props.name=t.name),w(t.description)&&(this.props.description=t.description),w(t.dataSourceId)&&(this.dataSourceIds=[t.dataSourceId]),w(t.dataSourceIds)&&(this.dataSourceIds=t.dataSourceIds),this.dataSourceIds||(this.dataSourceIds=[]),w(t.visible)&&(this.props.visible=t.visible),w(t.timestamp)&&(this.props.timestamp=t.timestamp),w(t.onLeftClick)&&R(t.onLeftClick)&&(this.props.onLeftClick=t.onLeftClick),w(t.onRightClick)&&R(t.onRightClick)&&(this.props.onRightClick=t.onRightClick),w(t.onHover)&&R(t.onHover)&&(this.props.onHover=t.onHover),this.initEvents(),this.checkFn("filter")){var r=function(t,r,n){e.props.filter=e.getFunc("filter")(t,r,n)};this.addFn(this.getDataSourcesIdsByProperty("filter"),r)}else{this.properties.filter=function(e,t,r){return!0};var n=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getFunc("filter")(r,n,i);case 2:e.props.filter=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("filter"),n)}if(this.checkFn("getVisible")){var i=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getVisible")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"visible",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getVisible"),i)}if(this.checkFn("getTimestamp")){var o=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getTimestamp")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"timestamp",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getTimestamp"),o)}if(this.checkFn("getName")){var a=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getName")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"name",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getName"),a)}if(this.checkFn("getDescription")){var s=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getDescription")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"description",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getDescription"),s)}}},{key:"getFunc",value:function(e){return this.properties[e].handler||this.properties[e]}},{key:"checkFn",value:function(e){var t=this.properties[e];if(T(t))return I(this.dataSourceIds,"dataSourceIds"),!0;var r=k(t);return r&&(O(t.dataSourceIds,e+".dataSourceIds"),R(t.handler,e+".handler")),r}},{key:"initEvents",value:function(){}},{key:"clear",value:function(){}},{key:"getId",value:function(){return this.props.id}},{key:"select",value:function(e){}},{key:"addFn",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w(this.dataSourcesToFn)||(this.dataSourcesToFn={});for(var n=0;n<e.length;n++){var i=e[n];w(this.dataSourcesToFn[i])||(this.dataSourcesToFn[i]=[]),r?this.dataSourcesToFn[i].unshift(t):this.dataSourcesToFn[i].push(t)}}},{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i,o,a,s=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:{},this.data=[],n.dataSourceId=t,!w(this.dataSourcesToFn)){e.next=22;break}if(!(t in this.dataSourcesToFn)){e.next=22;break}i=this.dataSourcesToFn[t],this.props.filter=!0,o=0;case 8:if(!(o<r.length)){e.next=22;break}a=0;case 10:if(!(a<i.length)){e.next=18;break}return e.next=13,i[a](r[o].data,r[o].data.timestamp,n);case 13:if(this.props.filter){e.next=15;break}return e.abrupt("break",18);case 15:a++,e.next=10;break;case 18:this.props.filter&&this.data.push((0,c.Z)((0,c.Z)({},this.props),this.propsById[this.getId()]));case 19:o++,e.next=8;break;case 22:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getDataSourcesIds",value:function(){if(w(this.dataSourcesToFn)){var e=[];for(var t in this.dataSourcesToFn)e.push(t);return e}return I(this.dataSourceIds,"dataSourceId must be defined"),this.dataSourceIds}},{key:"getDataSourcesIdsByProperty",value:function(e){return this.properties[e].dataSourceIds||this.dataSourceIds}},{key:"getProps",value:function(){return{type:this.type,values:this.data}}},{key:"reset",value:function(){this.init(this.properties)}},{key:"updateProperty",value:function(e,t){this.propsById[this.getId()][e]=t}},{key:"checkExistingProps",value:function(e){return e in this.propsById}},{key:"setProps",value:function(e,t){this.propsById[e]=t}},{key:"setId",value:function(e,t){this.props.id=e,this.checkExistingProps(e)||this.setProps(e,t())}},{key:"definedId",value:function(e,t){var r=this;if(this.checkFn("get".concat(j(e)))){var n=function(){var n=(0,h.Z)((0,d.Z)().mark((function n(i,o,a){var s;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.getFunc("get".concat(j(e)))(i,o,a);case 2:s=n.sent,r.setId(s,(function(){return(0,c.Z)((0,c.Z)({},t),{},(0,We.Z)({},e,s))}));case 4:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("get".concat(j(e))),n,!0)}else this.setId(this.getId(),(function(){return(0,c.Z)((0,c.Z)({},t),{},(0,We.Z)({},e,r.getId()))}))}},{key:"getCurrentProps",value:function(){return this.propsById[this.getId()]}},{key:"getIds",value:function(){return Object.keys(this.propsById)}}]),e}()),Ve=Ue,Ne=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.type="marker",n}return(0,v.Z)(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.properties;(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,t);var n={markerId:function(){return e.getId()},location:null,orientation:{heading:0},icon:null,iconAnchor:[16,16],iconSize:[16,16],iconScale:1,iconColor:void 0,iconOpacity:.75,label:null,labelColor:void 0,labelOutlineColor:void 0,labelBackgroundColor:void 0,labelSize:16,labelScale:1,labelOffset:[0,0],zoomLevel:15,defaultToTerrainElevation:!1,zIndex:0,allowBillboardRotation:!0,options:{}};if(w(t.defaultToTerrainElevation)&&(n.defaultToTerrainElevation=t.defaultToTerrainElevation),k(t.location)&&(M(t.location,"location"),n.location=t.location),k(t.orientation)&&(M(t.orientation,"orientation"),n.orientation=t.orientation),k(t.icon)&&(D(t.icon,"icon"),n.icon=t.icon),k(t.iconAnchor)&&(O(t.iconAnchor,"iconAnchor"),n.iconAnchor=t.iconAnchor),k(t.iconSize)&&(O(t.iconSize,"iconSize"),n.iconSize=t.iconSize),k(t.iconScale)&&(P(t.iconScale,"iconScale"),n.iconScale=t.iconScale),k(t.iconColor)&&(D(t.iconColor,"iconColor"),n.iconColor=t.iconColor),k(t.iconOpacity)&&(D(t.iconOpacity,"iconOpacity"),n.iconOpacity=t.iconOpacity),k(t.label)&&(D(t.label,"label"),n.label=t.label),k(t.labelColor)&&(D(t.labelColor,"labelColor"),n.labelColor=t.labelColor),k(t.labelOutlineColor)&&(D(t.labelOutlineColor,"labelOutlineColor"),n.labelOutlineColor=t.labelOutlineColor),k(t.labelBackgroundColor)&&(D(t.labelBackgroundColor,"labelBackgroundColor"),n.labelBackgroundColor=t.labelBackgroundColor),k(t.labelSize)&&(P(t.labelSize,"labelSize"),n.labelSize=t.labelSize),k(t.labelScale)&&(P(t.labelScale,"labelScale"),n.labelScale=t.labelScale),k(t.labelOffset)&&(O(t.labelOffset,"labelOffset"),n.labelOffset=t.labelOffset),k(t.zoomLevel)&&(P(t.zoomLevel,"zoomLevel"),n.zoomLevel=t.zoomLevel),k(t.zIndex)&&(A(t.zIndex,"zIndex"),n.zIndex=t.zIndex),k(t.allowBillboardRotation)&&(Z(t.allowBillboardRotation,"allowBillboardRotation"),n.allowBillboardRotation=t.allowBillboardRotation),this.definedId("markerId",n),this.checkFn("getLocation")){var i=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getLocation")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"location",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getLocation"),i)}if(this.checkFn("getOrientation")){var o=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getOrientation")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"orientation",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getOrientation"),o)}if(this.checkFn("getIcon")){var a=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getIcon")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"icon",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getIcon"),a)}if(this.checkFn("getIconColor")){var s=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getIconColor")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"iconColor",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getIconColor"),s)}if(this.checkFn("getIconScale")){var l=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getIconScale")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"iconScale",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getIconScale"),l)}if(this.checkFn("getLabel")){var c=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getLabel")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"label",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getLabel"),c)}if(this.checkFn("getLabelColor")){var u=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getLabelColor")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"labelColor",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getLabelColor"),u)}if(this.checkFn("getLabelSize")){var p=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getLabelSize")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"labelSize",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getLabelSize"),p)}if(this.checkFn("getZindex")){var f=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getZindex")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"zIndex",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getZindex"),f)}}}]),r}(Ve),qe=Ne,He=(r(43290),function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.type="curve",n}return(0,v.Z)(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.properties;(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,t);var n={xLabel:"",yLabel:"",lineColor:"#399ca5",backgroundColor:"#399ca5",fill:!1,stroke:1,curveId:L(),x:0,y:0,maxValues:10};if(w(t.yLabel)&&(n.yLabel=t.yLabel),w(t.stroke)&&(n.stroke=t.stroke),w(t.maxValues)&&(n.maxValues=t.maxValues),w(t.lineColor)&&(n.lineColor=t.lineColor),w(t.backgroundColor)&&(n.backgroundColor=t.backgroundColor),w(t.fill)&&(n.fill=t.fill),w(t.x)&&(n.x=t.x),w(t.y)&&(n.y=t.y),this.definedId("curveId",n),w(t.getStroke)){var i=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getStroke")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"stroke",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getStroke"),i)}if(w(t.getLineColor)){var o=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getLineColor")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"lineColor",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getLineColor"),o)}if(w(t.getBackgroundColor)){var a=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getBackgroundColor")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"backgroundColor",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getLineColor"),a)}if(w(t.getValues)){var s=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){var o;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getFunc("getValues")(r,n,i);case 2:o=t.sent,e.updateProperty("x",o.x),e.updateProperty("y",o.y);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getValues"),s)}}}]),r}(Ve)),Ye=He,Ke=(r(43371),Object.freeze({LONLATALT_WITH_EULER_ANGLES:1,ECEF_WITH_MATRICES:2,ECEF_WITH_QUATERNIONS:3})),Ge=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.type="frustum",n}return(0,v.Z)(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.properties;(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,t);var n={color:"rgb(255,0,0)",opacity:.5,origin:null,fov:null,near:.009,range:null,platformOrientation:{heading:0,pitch:0,roll:0},sensorOrientation:{yaw:0,pitch:0,roll:0},positionMode:Ke.LONLATALT_WITH_EULER_ANGLES,aspectRatio:4/3};if(w(t.color)&&(n.color=t.color),w(t.opacity)&&(n.opacity=t.opacity),w(t.near)&&(n.near=t.near),w(t.range)&&(n.range=t.range),w(t.fov)&&(n.fov=t.fov),w(t.positionMode)&&(n.positionMode=t.positionMode),w(t.aspectRatio)&&(n.aspectRatio=t.aspectRatio),this.definedId("frustumId",n),w(t.getColor)){var i=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getColor")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"color",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getColor"),i)}if(w(t.getOrigin)){var o=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getOrigin")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"origin",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getOrigin"),o)}if(w(t.getFov)){var a=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getFov")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"fov",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getFov"),a)}if(w(t.getRange)){var s=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getRange")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"range",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getRange"),s)}if(w(t.getPlatformOrientation)){var l=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getPlatformOrientation")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"platformOrientation",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getPlatformOrientation"),l)}if(w(t.getSensorOrientation)){var c=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getSensorOrientation")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"sensorOrientation",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getSensorOrientation"),c)}if(w(t.getAspectRatio)){var u=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getAspectRatio")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"aspectRatio",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getAspectRatio"),u)}}}]),r}(Ve),$e=Ge,Qe=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.type="binaryData",n}return(0,v.Z)(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.properties;(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,t);var n={frameData:void 0};if(w(t.frameData)&&(this.props.frameData=t.frameData),this.definedId("dataId",n),w(t.getFrameData)){var i=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getFrameData")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"frameData",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getFrameData"),i)}}}]),r}(Ve),Xe=Qe,Je=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.type="videoData",n}return(0,v.Z)(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.properties;(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,t);var n={roll:0};if(w(t.roll)&&(n.roll=t.roll),this.definedId("videoDataId",n),w(t.getRoll)){var i=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r,n,i){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.getFunc("getRoll")(r,n,i);case 3:t.t1=t.sent,t.t0.updateProperty.call(t.t0,"roll",t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();this.addFn(this.getDataSourcesIdsByProperty("getRoll"),i)}}}]),r}(Xe),et=Je,tt=r(45243),rt=r.n(tt),nt=(r(54747),function(){function e(t){(0,m.Z)(this,e),this.layers=[],this.lastRec={},this.dataSources=[],this.broadcastChannels=[],this.id="view-"+L(),this.css="",w(t)&&w(t.css)&&(this.css=t.css),I(t&&t.supportedLayers,"supportedLayers"),O(t.supportedLayers,"supportedLayers"),C(t.supportedLayers.length>0,"supportedLayers.length === 0"),this.supportedLayers=t.supportedLayers,this.init(t)}return(0,v.Z)(e,[{key:"init",value:function(e){this.properties=e,this.elementDiv=document.createElement("div"),this.elementDiv.setAttribute("id",this.id),this.elementDiv.setAttribute("class",this.css+" osh-view"),this.divId=this.id;var t=w(e.container)?e.container:document.body,r=!w(e.destroyAfterMutation)||e.destroyAfterMutation,n=document.getElementById(t);if(w(n)&&null!==n?(n.appendChild(this.elementDiv),this.container=n):(document.body.appendChild(this.elementDiv),this.hide(),this.container=document.body),this.beforeAddingItems(e),w(e)){if(w(e.layers))for(var i=0;i<e.layers.length;i++)this.addLayer(e.layers[i]);w(e.visible)&&(document.getElementById(this.divId).style.display=e.visible?"block":"none")}var o=this,a=new MutationObserver((function(e){e.forEach((function(e){"style"===e.attributeName&&o.onResize()}))}));if(a.observe(this.elementDiv,{attributes:!0}),r){var s=new MutationObserver((function(e){w(document.getElementById(o.divId))||(this.disconnect(),o.destroy())}));s.observe(document.body,{childList:!0})}}},{key:"hide",value:function(){this.elementDiv.style.display="none"}},{key:"onResize",value:function(){}},{key:"attachTo",value:function(e){w(this.elementDiv.parentNode)&&this.elementDiv.parentNode.removeChild(this.elementDiv),document.getElementById(e).appendChild(this.elementDiv),"none"===this.elementDiv.style.display&&(this.elementDiv.style.display="block"),this.onResize()}},{key:"beforeAddingItems",value:function(e){}},{key:"getId",value:function(){return this.id}},{key:"getDivId",value:function(){return this.divId}},{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"show",value:function(e){}},{key:"destroy",value:function(){this.removeAllFromLayers();var e,t=(0,u.Z)(this.broadcastChannels);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.close(),console.log("closing BC..")}}catch(n){t.e(n)}finally{t.f()}this.broadcastChannels=[],w(this.elementDiv)&&this.elementDiv.remove()}},{key:"addLayer",value:function(e){var t=this;C(this.supportedLayers.includes(e.type),"this layer is not supported: "+e.type+", should be "+this.supportedLayers),this.layers.push(e);for(var r=e.getDataSourcesIds(),n=function(){var n=r[i],o=t,a=new BroadcastChannel(q+n);a.onmessage=function(){var r=(0,h.Z)((0,d.Z)().mark((function r(i){var a;return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i.data.type!==Y.STATUS||i.data.status!==le.CLOSED_ERROR){r.next=4;break}o.reset(),r.next=11;break;case 4:if(i.data.type!==Y.DATA){r.next=11;break}return a=t,r.next=8,e.setData(n,i.data.values);case 8:return r.next=10,a.setData(n,e.getProps());case 10:o.lastRec[n]=i.data;case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();var s=new BroadcastChannel(H+n);s.onmessage=function(e){e.data.type===Y.TIME_CHANGED&&o.reset()},t.broadcastChannels.push(a),t.broadcastChannels.push(s)},i=0;i<r.length;i++)n()}},{key:"removeAllFromLayer",value:function(e){if(this.layers.includes(e)){for(var t in e.dataSourcesToFn)delete this.lastRec[t];e.reset()}}},{key:"removeAllFromLayers",value:function(){var e,t=(0,u.Z)(this.layers);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.removeAllFromLayer(r)}}catch(n){t.e(n)}finally{t.f()}}},{key:"getDataSourcesId",value:function(){for(var e=[],t=0;t<this.layers.length;t++){var r=this.layers[t];e=e.concat(r.getDataSourcesIds())}return e}},{key:"reset",value:function(){this.removeAllFromLayers()}}]),e}()),it=nt,ot=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.layerIdToMarkers={},n.layerIdToPolylines={},n.layerIdToEllipsoids={},n.layerIdToPolygon={},n.layerIdToFrustum={},n.layerIdToDrapedImage={},n}return(0,v.Z)(r,[{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=r.values,i=0;i<n.length;i++)o=n[i],"marker"===r.type?this.updateMarker(o):"polyline"===r.type?this.updatePolyline(o):"drapedImage"===r.type?this.updateDrapedImage(o):"ellipse"===r.type?this.updateEllipse(o):"polygon"===r.type?this.updatePolygon(o):"coplanarPolygon"===r.type?this.updateCoPlanarPolygon(o):"frustum"===r.type&&this.updateFrustum(o);case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addPolygonToLayer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layerIdToPolygon[t.polygonId]=r;case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addMarkerToLayer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layerIdToMarkers[t.markerId]=r;case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addPolylineToLayer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layerIdToPolylines[t.polylineId]=r;case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addEllipseToLayer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layerIdToEllipsoids[t.ellipseId]=r;case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addDrapedImageToLayer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layerIdToDrapedImage[t.drapedImageId]=r;case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"addFrustumToLayer",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.layerIdToFrustum[t.frustumId]=r;case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getPolygons",value:function(){var e=[];for(var t in this.layerIdToPolygon)e.push(this.layerIdToPolygon[t]);return e}},{key:"getPolygon",value:function(e){return e.polygonId in this.layerIdToPolygon?this.layerIdToPolygon[e.polygonId]:null}},{key:"getMarker",value:function(e){return e.markerId in this.layerIdToMarkers?this.layerIdToMarkers[e.markerId]:null}},{key:"getMarkers",value:function(){var e=[];for(var t in this.layerIdToMarkers)e.push(this.layerIdToMarkers[t]);return e}},{key:"getPolylines",value:function(){var e=[];for(var t in this.layerIdToPolylines)e.push(this.layerIdToPolylines[t]);return e}},{key:"getEllipsoids",value:function(){var e=[];for(var t in this.layerIdToEllipsoids)e.push(this.layerIdToEllipsoids[t]);return e}},{key:"getPolyline",value:function(e){return e.polylineId in this.layerIdToPolylines?this.layerIdToPolylines[e.polylineId]:null}},{key:"getEllipse",value:function(e){return e.ellipseId in this.layerIdToEllipsoids?this.layerIdToEllipsoids[e.ellipseId]:null}},{key:"getDrapedImage",value:function(e){return e.drapedImageId in this.layerIdToDrapedImage?this.layerIdToDrapedImage[e.drapedImageId]:null}},{key:"getFrustums",value:function(){var e=[];for(var t in this.layerIdToFrustum)e.push(this.layerIdToFrustum[t]);return e}},{key:"getFrustum",value:function(e){return e.frustumId in this.layerIdToFrustum?this.layerIdToFrustum[e.frustumId]:null}},{key:"getLayer",value:function(e){var t,r=(0,u.Z)(this.layers);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.props.id===e)return n}}catch(i){r.e(i)}finally{r.f()}return null}},{key:"removeAllFromLayer",value:function(e){this.removeMarkers(e),this.removePolylines(e),this.removeEllipsoids(e),this.removePolygons(e),this.removeDrapedImages(e),this.removeFrustums(e),(0,oe.Z)((0,ae.Z)(r.prototype),"removeAllFromLayer",this).call(this,e)}},{key:"removePolygons",value:function(e){var t,r=e.getIds()||[],n=(0,u.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.layerIdToPolygon[i];w(o)&&this.removePolygonFromLayer(o),delete this.layerIdToPolygon[i]}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeMarkers",value:function(e){var t,r=e.getIds()||[],n=(0,u.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.layerIdToMarkers[i];w(o)&&this.removeMarkerFromLayer(o),delete this.layerIdToMarkers[i]}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeEllipsoids",value:function(e){var t,r=e.getIds()||[],n=(0,u.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.layerIdToEllipsoids[i];w(o)&&this.removeEllipseFromLayer(o),delete this.layerIdToEllipsoids[i]}}catch(a){n.e(a)}finally{n.f()}}},{key:"removePolylines",value:function(e){var t,r=e.getIds()||[],n=(0,u.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.layerIdToPolylines[i];w(o)&&this.removePolylineFromLayer(o),delete this.layerIdToPolylines[i]}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeDrapedImages",value:function(e){var t,r=e.getIds()||[],n=(0,u.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.layerIdToDrapedImage[i];w(o)&&this.removeDrapedImageFromLayer(o),delete this.layerIdToDrapedImage[i]}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeFrustums",value:function(e){var t,r=e.getIds()||[],n=(0,u.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.layerIdToFrustum[i];w(o)&&this.removeFrustumFromLayer(o),delete this.layerIdToFrustum[i]}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeMarkerFromLayer",value:function(e){}},{key:"removePolylineFromLayer",value:function(e){}},{key:"removeDrapedImageFromLayer",value:function(e){}},{key:"removePolygonFromLayer",value:function(e){}},{key:"onMarkerLeftClick",value:function(e,t,r,n){w(r.onLeftClick)&&r.onLeftClick.call(r,e,t,n)}},{key:"onMarkerRightClick",value:function(e,t,r,n){w(r.onRightClick)&&r.onRightClick.call(r,e,t,n)}},{key:"onMarkerMove",value:function(e,t,r,n){w(r.onMove)&&r.onMove.call(r,e,t,n)}},{key:"onMarkerHover",value:function(e,t,r,n){w(r.onHover)&&r.onHover.call(r,e,t,n)}},{key:"getLayerId",value:function(e){var t=e.split("$");return w(t)&&2===t.length?t[0]:null}},{key:"getMarkerId",value:function(e){if(!w(e))return null;var t=e.split("$");return w(t)&&2===t.length?t[1]:null}},{key:"updateMarker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updatePolyline",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updatePolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateEllipse",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCoPlanarPolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDrapedImage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(it),at=ot,st=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["marker","draping","polyline","polygon"]},e));var i=document.getElementById(n.divId).className;return document.getElementById(n.divId).setAttribute("class",i+" "+n.css),n}return(0,v.Z)(r,[{key:"beforeAddingItems",value:function(e){this.initMap(e)}},{key:"initMap",value:function(e){var t={location:new(rt().LatLng)(0,0),zoom:3};this.first=!0,this.follow=!1,this.autoZoomOnFirstMarker=!1;var r=this.getDefaultLayers(),n=r[0].layer,i={},o={};i[r[0].name]=r[0].layer,o[r[1].name]=r[1].layer,w(e)&&(w(e.initialView)&&(t={location:new(rt().LatLng)(e.initialView.lat,e.initialView.lon),zoom:e.initialView.zoom}),w(e.autoZoomOnFirstMarker)&&(this.autoZoomOnFirstMarker=e.autoZoomOnFirstMarker),w(e.overlayLayers)&&(o=e.overlayLayers),w(e.baseLayers)&&(i=e.baseLayers),w(e.follow)&&(this.follow=e.follow),w(e.defaultLayer)&&(n=e.defaultLayer)),this.map=new(rt().Map)(this.divId,{fullscreenControl:!0,layers:n}),rt().control.layers(i,o).addTo(this.map),this.map.setView(t.location,t.zoom)}},{key:"getDefaultLayers",value:function(e){var t=22;w(e)&&e.maxZoom&&(t=e.maxZoom);var r='Map data  <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',n="http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",i='<a href="http://www.esri.com/">Esri</a>',o="i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",a=rt().tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+i+", "+o,maxZoom:t,maxNativeZoom:19}),s=rt().tileLayer(n,{id:"mapbox.streets",attribution:r,maxZoom:t});return[{name:"OSM Streets",layer:s},{name:"Esri Satellite",layer:a}]}},{key:"initLayers",value:function(){var e="http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",t='Map data  <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',r=new(rt().tileLayer)(e,{minZoom:1,maxZoom:22,attribution:t});this.map.addLayer(r)}},{key:"addMarker",value:function(e){I(e.location,"location");var t=null;if(null!==e.icon){var r=rt().icon({iconAnchor:e.iconAnchor,iconUrl:e.icon,iconSize:e.iconSize});t=rt().marker([e.location.y,e.location.x],{icon:r})}else t=rt().marker([e.location.y,e.location.x]);null!==e.label&&t.bindTooltip(e.label,{permanent:!1,direction:"center",offset:rt().point(e.labelOffset[0],e.labelOffset[1])});var n=e.hasOwnProperty("name")&&null!=e.label?e.label:"",i=e.hasOwnProperty("description")&&null!=e.description?e.description:"";return!w(e.onLeftClick)&&(n.length>0||i.length>0)&&t.bindPopup(n+"<div>"+i+"</div>",{offset:rt().point(e.labelOffset[0],e.labelOffset[1])}),t.setZIndexOffset(e.zIndex),t.id=e.id+"$"+e.markerId,t.addTo(this.map),e.hasOwnProperty(e.orientation)&&t.setRotationAngle(e.orientation.heading),t}},{key:"addPolyline",value:function(e){var t=e.locations,r=[];if(w(t)&&t.length>0)for(var n=0;n<t.length;n++)r.push(new(rt().LatLng)(t[n].y,t[n].x));var i=new(rt().Polyline)(r,{color:e.color,weight:e.weight,opacity:e.opacity,smoothFactor:e.smoothFactor}).addTo(this.map);return i}},{key:"updateMarker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.getMarker(t),w(r)||(r=this.addMarker(t),this.addMarkerToLayer(t,r),n=t.markerId,r.on("click",(function(e){return c.onMarkerLeftClick(n,r,t,e)})),r.on("contextmenu",(function(e){return c.onMarkerRightClick(n,r,t,e)})),r.on("mouseover",(function(e){return c.onMarkerHover(n,r,t,e)}))),i=t.location.x,o=t.location.y,isNaN(i)||isNaN(o)||(a=new(rt().LatLng)(o,i),r.setLatLng(a),(this.first&&this.autoZoomOnFirstMarker||this.follow)&&(s=rt().latLngBounds([a]),this.map.fitBounds(s,{maxZoom:t.zoomLevel}),this.first&&(this.first=!1))),w(t.orientation)&&r.setRotationAngle(t.orientation.heading),null!==t.icon&&r._icon.iconUrl!==t.icon&&(l=rt().icon({iconAnchor:t.iconAnchor,iconUrl:t.icon}),r.setIcon(l)),r.setZIndexOffset(t.zIndex);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeMarkerFromLayer",value:function(e){this.map.removeLayer(e)}},{key:"removePolylineFromLayer",value:function(e){this.map.removeLayer(e)}},{key:"updatePolyline",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getPolyline(t),w(r)){if(i=[],o=t.locations,w(o)&&o.length>0)for(a=0;a<o.length;a++)i.push(new(rt().LatLng)(o[a].y,o[a].x));r.setLatLngs(i),r.setStyle({color:t.color,weight:t.weight,opacity:t.opacity})}else n=this.addPolyline(t),this.addPolylineToLayer(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getPolygon(t),w(r)){if(i=t.vertices,o=[],w(i)&&i.length>0)for(a=0;a<i.length-1;a+=2)s=new(rt().LatLng)(i[a+1],i[a]),o.push([s.lat,s.lng]);r.setLatLngs(o),r.setStyle({color:t.outlineColor,weight:t.outlineWidth,fillColor:t.color,fill:!0,fillOpacity:t.opacity})}else n=this.addPolygon(t),this.addPolygonToLayer(t,n);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removePolygonFromLayer",value:function(e){this.map.removeLayer(e)}},{key:"addPolygon",value:function(e){var t=e.vertices,r=[];if(w(t)&&t.length>0)for(var n=0;n<t.length-1;n+=2){var i=new(rt().LatLng)(t[n+1],t[n]);r.push([i.lat,i.lng])}var o=new(rt().polygon)(r,{color:e.outlineColor,weight:e.outlineWidth,fillColor:e.color,fill:!0,fillOpacity:e.opacity}).addTo(this.map);return o}},{key:"attachTo",value:function(e){(0,oe.Z)((0,ae.Z)(r.prototype),"attachTo",this).call(this,e),this.map.invalidateSize()}},{key:"onResize",value:function(){(0,oe.Z)((0,ae.Z)(r.prototype),"onResize",this).call(this);var e=this;setTimeout((function(){e.map.invalidateSize()}),100)}},{key:"onChange",value:function(e){}}]),r}(at);rt().Map=rt().Map.extend({openPopup:function(e){return this._popup=e,this.addLayer(e).fire("popupopen",{popup:this._popup})}}),function(){var e=rt().Marker.prototype._initIcon,t=rt().Marker.prototype._setPos,r="msTransform"===rt().DomUtil.TRANSFORM;rt().Marker.addInitHook((function(){var e=this.options.icon.options.iconAnchor;e&&(e=e[0]+"px "+e[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||e||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0})),rt().Marker.include({_initIcon:function(){e.call(this)},_setPos:function(e){t.call(this,e),this.options.rotationAngle&&(this._icon.style[rt().DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,r?this._icon.style[rt().DomUtil.TRANSFORM]=" rotate("+this.options.rotationAngle+"deg)":this._icon.style[rt().DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(e){return this.options.rotationAngle=e,this.update(),this},setRotationOrigin:function(e){return this.options.rotationOrigin=e,this.update(),this}})}();var lt=st,ct=(r(60285),r(41637),function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;if((0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["videoData"]},e)),n.timestamp=null,w(e.showTime)&&e.showTime&&(n.timestamp=document.createElement("div"),n.timestamp.setAttribute("class","video-time"),document.getElementById(n.divId).appendChild(n.timestamp)),n.imgTag=document.createElement("img"),n.imgTag.setAttribute("class","video-mjpeg"),n.rotation=0,"undefined"!=typeof e&&"undefined"!=typeof e.rotation){n.rotation=e.rotation*Math.PI/180,n.canvas=document.createElement("canvas"),n.canvas.width=640,n.canvas.height=480;var i=n.canvas.getContext("2d");i.translate(0,480),i.rotate(n.rotation),document.getElementById(n.divId).appendChild(n.canvas)}else document.getElementById(n.divId).appendChild(n.imgTag);return n}return(0,v.Z)(r,[{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("videoData"===r.type)for(n=r.values,i=0;i<n.length;i++)this.updateVideo(n[i]);case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateVideo",value:function(e){var t=new Blob([e.frameData.data]),r=window.URL.createObjectURL(t),n=this.imgTag.src;this.imgTag.src=r,null!==this.timestamp&&(this.timestamp.innerHTML=new Date(e.timestamp).toISOString()),window.URL.revokeObjectURL(n)}},{key:"selectDataView",value:function(e,t){e.indexOf(this.dataSourceId)>-1||w(this.entity)&&this.entity.getId()===t?document.getElementById(this.divId).setAttribute("class",this.css+" "+this.cssSelected):document.getElementById(this.divId).setAttribute("class",this.css)}},{key:"reset",value:function(){this.imgTag.src=""}},{key:"getCanvas",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.canvas);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(it)),ut=ct,dt=(r(56977),r(52417)),ht=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,e),n.fps=0,n.width=1920,n.height=1080,n.showTime=!1,n.showStats=!1,n.statistics={averageFps:0,frames:0,firstTime:0,bitRate:0,averageBitRate:0},n.framerate=29.67,w(e)&&(w(e.framerate)&&(n.framerate=e.framerate),w(e.directPlay)&&(n.directPlay=e.directPlay),w(e.codec)&&(n.codec=e.codec),w(e.showTime)&&(n.showTime=e.showTime),w(e.showStats)&&(n.showStats=e.showStats),w(e.width)&&(n.width=e.width),w(e.height)&&(n.height=e.height));var i,o=document.getElementById(n.divId);(n.showTime||n.showStats)&&(n.textDiv=document.createElement("div"),n.textDiv.setAttribute("width",""+n.width),n.textDiv.setAttribute("height",15),n.textDiv.setAttribute("class","ffmpeg-info"),n.showTime&&(n.textFpsDiv=document.createElement("div"),n.textFpsDiv.setAttribute("class","ffmpeg-fps"),n.textDiv.appendChild(n.textFpsDiv)),n.showStats&&(n.textStatsDiv=document.createElement("div"),n.textStatsDiv.setAttribute("class","ffmpeg-stats"),n.textDiv.appendChild(n.textStatsDiv)),o.appendChild(n.textDiv)),n.domNode=o,w(document.hidden)?("hidden",i="visibilitychange"):w(document.msHidden)?("msHidden",i="msvisibilitychange"):w(document.webkitHidden)&&("webkitHidden",i="webkitvisibilitychange");var a=(0,dt.Z)(n);function s(){document.hidden?a.skipFrame=!0:a.skipFrame=!1}return document.addEventListener(i,s,!1),n}return(0,v.Z)(r,[{key:"updateStatistics",value:function(e){if(this.statistics.frames++,this.statistics.pktSize+=e,0!==this.statistics.firstTime){var t=performance.now();t-this.statistics.firstTime<1e3||(this.statistics.averageFps=(this.statistics.frames-1)/((t-this.statistics.firstTime)/1e3),this.statistics.averageBitRate=(this.statistics.pktSize-e)/((t-this.statistics.firstTime)/1e3),this.statistics.frames=1,this.statistics.pktSize=e,this.statistics.firstTime=t)}else this.statistics.firstTime=performance.now()}},{key:"onUpdated",value:function(e){}},{key:"destroy",value:function(){(0,oe.Z)((0,ae.Z)(r.prototype),"destroy",this).call(this)}},{key:"onAfterDecoded",value:function(e,t){}}]),r}(it),pt=ht,ft={BITMAP:"bitmap",ARRAY:"array"},mt=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;if((0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["videoData"]},e)),!1 in window)throw Error("WebCodec API is not supported");if(n.codecMap={vp9:"vp09.02.10.10.01.09.16.09.01",vp8:"vp08.00.41.08",h264:"avc1.42e01e",h265:"hev1.1.6.L123.00"},n.codec=n.codecMap["h264"],w(e.codec)){if(!e.codec in n.codecMap)throw Error("The codec properties.codec is not supported, the list of supported codec: this.codecMap");n.codec=n.codecMap[e.codec]}return n.compression=e.codec,n.canvasElt=n.createCanvas(n.width,n.height),n.domNode.appendChild(n.canvasElt),n.queue=[],n}return(0,v.Z)(r,[{key:"createCanvas",value:function(e,t,r){var n=document.createElement("canvas");return n.setAttribute("width",e),n.setAttribute("height",t),w(r)&&n.setAttribute("style",r),n}},{key:"updateCanvasSize",value:function(e,t){this.canvasElt.width=e,this.canvasElt.height=t}},{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("videoData"!==r.type){e.next=9;break}n=r.values,i=0;case 3:if(!(i<n.length)){e.next=9;break}return e.next=6,this.updateVideo(n[i]);case 6:i++,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateVideo",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.skipFrame){e.next=4;break}return this.codecConfigured||(this.codec=this.codecMap[t.frameData.compression.toLowerCase()],this.initDecoder()),e.next=4,this.decode(t.frameData.data.length,t.frameData.data,t.timestamp,t.roll||0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){}},{key:"initDecoder",value:function(){var e=this;this.gl=this.canvasElt.getContext("bitmaprenderer");var t={output:function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r){var n,i;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=!1,e.width===r.codedWidth&&e.height===r.codedHeight||(e.width=r.codedWidth,e.height=r.codedHeight,e.updateCanvasSize(e.width,e.height),n=!0),("closed"===e.videoDecoder.state||n)&&e.videoDecoder.configure({codec:e.codec,codedWidth:e.width,codedHeight:e.height}),t.next=5,createImageBitmap(r);case 5:return i=t.sent,t.prev=6,t.next=9,e.handleDocodedFrame(i,e.width,e.height,r.timestamp,e.queue.shift());case 9:return t.prev=9,r.close(),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[6,,9,12]])})));function r(e){return t.apply(this,arguments)}return r}(),error:function(t){e.queue.shift(),console.error(t),"closed"===e.videoDecoder.state&&e.initDecoder()}};try{this.videoDecoder=new VideoDecoder(t),this.videoDecoder.configure({codec:this.codec,codedWidth:this.width,codedHeight:this.height}),this.codecConfigured=!0}catch(r){throw this.elementDiv.remove(),Error("Cannot configure WebCodec API VideoDecoder")}}},{key:"handleDocodedFrame",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r,n){var i,o,a,s,l,c=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=c.length>3&&void 0!==c[3]?c[3]:0,o=c.length>4&&void 0!==c[4]?c[4]:null;try{a=90*Math.round(o.roll/90),a>180&&(a-=360),s=1,90===Math.abs(a)&&(s=this.height/this.width),l=a*Math.PI/180,(this.angleRad&&this.angleRad!==l||this.scale&&this.scale!==s||!this.angleRad||!this.scale)&&(this.canvasElt.style="transform:rotate(".concat(l,"rad) scale(").concat(s,")"),this.angleRad=l,this.scale=s),this.gl.transferFromImageBitmap(t),this.onAfterDecoded(t,ft.ARRAY),this.updateStatistics(o.pktSize),this.showTime&&(this.textFpsDiv.innerText=new Date(i).toISOString()+" "),this.showStats&&(this.textStatsDiv.innerText=this.statistics.averageFps.toFixed(2)+" fps, "+(this.statistics.averageBitRate/1e3).toFixed(2)+" kB/s @"+r+"x"+n+"\n "+this.compression),this.onUpdated(this.statistics)}catch(u){console.error(u)}case 3:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"decode",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r,n,i){var o,a;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.codecConfigured?(o=!1,this.codec===this.codecMap["h264"]&&(o=101===r[26]&&1===r[25]&&0===r[24]&&0===r[23]),this.queue.push({roll:i,pktSize:t}),a=new EncodedVideoChunk({timestamp:n,type:o?"key":"delta",data:r}),this.videoDecoder.decode(a)):console.warn("decoder has not been initialized yet");case 1:case"end":return e.stop()}}),e,this)})));function t(t,r,n,i){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){(0,oe.Z)((0,ae.Z)(r.prototype),"destroy",this).call(this)}},{key:"getCanvas",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.canvasElt);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(pt),vt=mt;function gt(){return new Worker(r.p+"js/ffmpeg.decode.video.worker-legacy.4e423461.worker.js")}r(44197),r(69600);var yt=function(){function e(t){(0,m.Z)(this,e),t=t||{},this.canvasElement=t.canvas||document.createElement("canvas"),this.canvasElement.setAttribute("id",L()),this.contextOptions=t.contextOptions,this.type=t.type||"yuv420",this.customYUV444=t.customYUV444,this.conversionType=t.conversionType||"rec601",this.width=t.width||640,this.height=t.height||320,this.animationTime=t.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.init()}return(0,v.Z)(e,[{key:"init",value:function(){var e=this;this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),"yuv420"===this.type?(this.drawNextOuptutPictureGL=function(t){var r=e.contextGL,n=e.texturePosBuffer,i=e.uTexturePosBuffer,o=e.vTexturePosBuffer,a=e.yTextureRef,s=e.uTextureRef,l=e.vTextureRef,c=t.yData,u=t.uData,d=t.vData,h=e.width,p=e.height,f=t.yDataPerRow||h,m=t.yRowCnt||p,v=t.uDataPerRow||h/2,g=t.uRowCnt||p/2,y=t.vDataPerRow||v,b=t.vRowCnt||g,w=90*Math.round(t.roll/90);w>180&&(w-=360),90==Math.abs(w)?(e.canvasElement.width=e.height,e.canvasElement.height=e.width,r.viewport(0,0,p,h)):(e.canvasElement.width=e.width,e.canvasElement.height=e.height,r.viewport(0,0,h,p));var k=0,_=0,S=p/m,x=h/f,T=new Float32Array([x,k,_,k,x,S,_,S]);r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,T,r.DYNAMIC_DRAW),e.customYUV444?(S=p/g,x=h/v):(S=p/2/g,x=h/2/v);var I=new Float32Array([x,k,_,k,x,S,_,S]);r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,I,r.DYNAMIC_DRAW),e.customYUV444?(S=p/b,x=h/y):(S=p/2/b,x=h/2/y);var C=new Float32Array([x,k,_,k,x,S,_,S]);r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,C,r.DYNAMIC_DRAW),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,f,m,0,r.LUMINANCE,r.UNSIGNED_BYTE,c),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,s),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,v,g,0,r.LUMINANCE,r.UNSIGNED_BYTE,u),r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,l),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,y,b,0,r.LUMINANCE,r.UNSIGNED_BYTE,d),r.uniform1f(e.rollUniform,w*Math.PI/180),r.drawArrays(r.TRIANGLE_STRIP,0,4)},this.drawNextOuptutPictureBitmapGL=function(t){var r=e.contextGL,n=e.texturePosBuffer,i=e.yTextureRef,o=t.yData,a=e.width,s=e.height,l=a,c=s,u=0,d=0,h=s/c,p=a/l,f=new Float32Array([p,u,d,u,p,h,d,h]),m=90*Math.round(t.roll/90);m>180&&(m-=360),90==Math.abs(m)?(e.canvasElement.width=e.height,e.canvasElement.height=e.width,r.viewport(0,0,s,a)):(e.canvasElement.width=e.width,e.canvasElement.height=e.height,r.viewport(0,0,a,s)),r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,f,r.DYNAMIC_DRAW),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,o),r.uniform1f(e.rollUniform,m*Math.PI/180),r.drawArrays(r.TRIANGLE_STRIP,0,4)}):"yuv422"===this.type&&(this.drawNextOuptutPictureGL=function(t){var r=e.contextGL,n=e.texturePosBuffer,i=e.textureRef,o=t.data,a=e.width,s=e.height,l=t.dataPerRow||2*a,c=t.rowCnt||s;r.viewport(0,0,a,s);var u=0,d=0,h=s/c,p=a/(l/2),f=new Float32Array([p,u,d,u,p,h,d,h]);r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,f,r.DYNAMIC_DRAW),r.uniform2f(r.getUniformLocation(e.shaderProgram,"resolution"),l,s),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,l,c,0,r.LUMINANCE,r.UNSIGNED_BYTE,o),r.drawArrays(r.TRIANGLE_STRIP,0,4)})}},{key:"isWebGL",value:function(){return this.contextGL}},{key:"initContextGL",value:function(){var e=this.canvasElement,t=null,r=["webgl","experimental-webgl","moz-webgl","webkit-3d"],n=0;while(!t&&n<r.length){var i=r[n];try{t=this.contextOptions?e.getContext(i,this.contextOptions):e.getContext(i)}catch(o){t=null}t&&"function"===typeof t.getParameter||(t=null),++n}this.contextGL=t}},{key:"initProgram",value:function(){var e,t,r=this.contextGL;"yuv420"===this.type?(e=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","uniform float roll;","void main()","{","  vec4 ctr = vec4(0.5, 0.5, 0, 0);","  mat4 rotMatrix = mat4( cos(roll), -sin(roll), 0, 0,","                         sin(roll),  cos(roll), 0, 0,","                         0,          0,         1, 0,","                         0,          0,         0, 1);","  gl_Position = vertexPos;","  textureCoord = mat2(rotMatrix) * (texturePos.xy - vec2(ctr)) + vec2(ctr);","  uTextureCoord = mat2(rotMatrix) * (uTexturePos.xy - vec2(ctr)) + vec2(ctr);","  vTextureCoord = mat2(rotMatrix) * (vTexturePos.xy - vec2(ctr)) + vec2(ctr);","}"].join("\n"),t=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n")):"yuv422"===this.type&&(e=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join("\n"),t=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","}"].join("\n"));var n=[];n="rec709"===this.conversionType?[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1];var i=r.createShader(r.VERTEX_SHADER);r.shaderSource(i,e),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+r.getShaderInfoLog(i));var o=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(o,t),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+r.getShaderInfoLog(o));var a=r.createProgram();r.attachShader(a,i),r.attachShader(a,o),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)||console.log("Program failed to compile: "+r.getProgramInfoLog(a)),r.useProgram(a);var s=r.getUniformLocation(a,"YUV2RGB");r.uniformMatrix4fv(s,!1,n),this.rollUniform=r.getUniformLocation(a,"roll"),this.shaderProgram=a}},{key:"initBuffers",value:function(){var e=this.contextGL,t=this.shaderProgram,r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW);var n=e.getAttribLocation(t,"vertexPos");if(e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),this.animationTime){var i=this.animationTime,o=0,a=15,s=function r(){o+=a;var n=1*o/i;o>=i?n=1:setTimeout(r,a);var s=-1*n,l=1*n,c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,new Float32Array([l,l,s,l,l,s,s,s]),e.STATIC_DRAW);var u=e.getAttribLocation(t,"vertexPos");e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,0,0);try{e.drawArrays(e.TRIANGLE_STRIP,0,4)}catch(d){}};s()}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var c=e.getAttribLocation(t,"texturePos");if(e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0),this.texturePosBuffer=l,"yuv420"===this.type){var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var d=e.getAttribLocation(t,"uTexturePos");e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,0,0),this.uTexturePosBuffer=u;var h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var p=e.getAttribLocation(t,"vTexturePos");e.enableVertexAttribArray(p),e.vertexAttribPointer(p,2,e.FLOAT,!1,0,0),this.vTexturePosBuffer=h}}},{key:"initTextures",value:function(){var e=this.contextGL,t=this.shaderProgram;if("yuv420"===this.type){var r=this.initTexture(),n=e.getUniformLocation(t,"ySampler");e.uniform1i(n,0),this.yTextureRef=r;var i=this.initTexture(),o=e.getUniformLocation(t,"uSampler");e.uniform1i(o,1),this.uTextureRef=i;var a=this.initTexture(),s=e.getUniformLocation(t,"vSampler");e.uniform1i(s,2),this.vTextureRef=a}else if("yuv422"===this.type){var l=this.initTexture(),c=e.getUniformLocation(t,"sampler");e.uniform1i(c,0),this.textureRef=l}}},{key:"initTexture",value:function(){var e=this.contextGL,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),t}},{key:"drawNextOutputPicture",value:function(e,t,r,n){var i=this.contextGL;i?this.drawNextOuptutPictureGL(e,t,r,n):this.drawNextOuptutPictureRGBA(e,t,r,n)}},{key:"drawNextOuptutPictureRGBA",value:function(e,t,r,n){var i=this.canvasElement,o=n,a=i.getContext("2d"),s=a.getImageData(0,0,e,t);s.data.set(o),null===r?a.putImageData(s,0,0):a.putImageData(s,-r.left,-r.top,0,0,r.width,r.height)}},{key:"resize",value:function(e,t){this.canvasElement.width=e,this.canvasElement.height=t,this.width=e,this.height=t}}]),e}(),bt=yt,wt=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["videoData"]},e)),n.directPlay=!1,n.codec="h264",n.yuvCanvas=n.createCanvas(n.width,n.height),n.domNode.appendChild(n.yuvCanvas.canvasElement),n.buf=[],n.bufferingTime=2e3,n}return(0,v.Z)(r,[{key:"createCanvas",value:function(e,t,r){return new bt({width:e,height:t,contextOptions:{preserveDrawingBuffer:!0}})}},{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("videoData"===r.type)for(n=r.values,i=0;i<n.length;i++)this.updateVideo(n[i]);case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateVideo",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.skipFrame){e.next=3;break}return null==this.decodeWorker&&this.initFFMPEG_DECODER_WORKER(t.frameData.compression),e.abrupt("return",this.decode(t.frameData.data.length,t.frameData.data,t.timestamp,t.roll||0));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){this.skipFrame=!0,this.decodeWorker&&this.decodeWorker.postMessage({message:"release"});var e=new Uint8Array(1);e[0]=128,this.yuvCanvas.drawNextOuptutPictureGL({yData:e,yDataPerRow:1,yRowCnt:1,uData:e,uDataPerRow:1,uRowCnt:1,vData:e,vDataPerRow:1,vRowCnt:1}),this.skipFrame=!1}},{key:"initFFMPEG_DECODER_WORKER",value:function(e){this.decodeWorker=new gt,this.decodeWorker.id=L(),this.decodeWorker.postMessage({message:"init",codec:e.toLowerCase()});var t=this;this.decodeWorker.onmessage=function(e){var r=e.data;t.drawFrame(r),this.onAfterDecoded(r,ft.ARRAY),this.updateStatistics(r.pktSize),this.showTime&&(this.textFpsDiv.innerText=new Date(r.timestamp).toISOString()+" "),this.showStats&&(this.textStatsDiv.innerText=this.statistics.averageFps.toFixed(2)+" fps, "+(this.statistics.averageBitRate/1e3).toFixed(2)+" kB/s @"+t.yuvCanvas.width+"x"+t.yuvCanvas.height+"\n "+this.codec),this.onUpdated(this.statistics)}.bind(this)}},{key:"drawFrame",value:function(e){this.yuvCanvas.canvasElement.drawing=!0,this.width===e.frame_width&&this.height===e.frame_height||(this.yuvCanvas.resize(e.frame_width,e.frame_height),this.width=e.frame_width,this.height=e.frame_height),this.yuvCanvas.drawNextOuptutPictureGL({yData:e.frameYData,yDataPerRow:e.frame_width,yRowCnt:e.frame_height,uData:e.frameUData,uDataPerRow:e.frame_width/2,uRowCnt:e.frame_height/2,vData:e.frameVData,vDataPerRow:e.frame_width/2,vRowCnt:e.frame_height/2,roll:e.roll}),this.yuvCanvas.canvasElement.drawing=!1}},{key:"decode",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r,n,i){var o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t>0&&(o=r.buffer,this.decodeWorker.postMessage({message:"data",pktSize:t,pktData:o,roll:i,byteOffset:r.byteOffset,codec:this.codec,timestamp:n,dataSourceId:this.dataSourceId},[o]),r=null);case 1:case"end":return e.stop()}}),e,this)})));function t(t,r,n,i){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){(0,oe.Z)((0,ae.Z)(r.prototype),"destroy",this).call(this),w(this.decodeWorker)&&(this.decodeWorker.postMessage({message:"release"}),this.decodeWorker.terminate())}},{key:"getCanvas",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.yuvCanvas.canvasElement);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"drawBlank",value:function(){var e=new Uint8Array(1);this.yuvCanvas.drawNextOuptutPictureGL({yData:e,yDataPerRow:1,yRowCnt:1,uData:e,uDataPerRow:1,uRowCnt:1,vData:e,vDataPerRow:1,vRowCnt:1})}}]),r}(pt),kt=wt,_t=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["videoData"]},e)),n.videoView=void 0,n.canvasResolve=void 0,n.useWebCodecApi=!0,"useWebCodecApi"in e&&(n.useWebCodecApi=e["useWebCodecApi"]),n}return(0,v.Z)(r,[{key:"createVideoView",value:function(e){var t=this;if("jpeg"===e)this.videoView=new ut((0,c.Z)((0,c.Z)({},this.properties),{},{layers:[]}));else if("h265"!==e&&this.useWebCodecApi)try{this.videoView=new vt((0,c.Z)((0,c.Z)({},this.properties),{},{codec:e,layers:[]})),this.videoView.initDecoder()}catch(r){this.videoView=new kt((0,c.Z)((0,c.Z)({},this.properties),{},{codec:e,layers:[]}))}else this.videoView=new kt((0,c.Z)((0,c.Z)({},this.properties),{},{codec:e,layers:[]}));this.hide(),this.canvasResolve&&this.canvasResolve(this.videoView.getCanvas()),this.videoView.onAfterDecoded=function(e,r){t.onDecode(e,r)}}},{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("videoData"!==r.type){e.next=10;break}n=r.values,i=0;case 3:if(!(i<n.length)){e.next=10;break}return w(this.videoView)||this.createVideoView(n[i].frameData.compression.toLowerCase()),e.next=7,this.videoView.updateVideo(n[i]);case 7:i++,e.next=3;break;case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getVideoCanvas",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!w(this.videoView)){e.next=4;break}return e.abrupt("return",this.videoView.getCanvas());case 4:return t=this,e.abrupt("return",new Promise(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.canvasResolve=r;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){(0,oe.Z)((0,ae.Z)(r.prototype),"reset",this).call(this),w(this.videoView)&&this.videoView.reset()}},{key:"destroy",value:function(){console.warn("Destroying VideoView"),(0,oe.Z)((0,ae.Z)(r.prototype),"destroy",this).call(this),w(this.videoView)&&this.videoView.destroy()}},{key:"onDecode",value:function(e,t){}}]),r}(it),St=_t,xt=r(89584),Tt=r(53328),It=(r(86961),function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["curve"]},e)),Tt.kL.register.apply(Tt.kL,(0,xt.Z)(Tt.zX)),n.datasetOptions={};var i="line";n.options={maintainAspectRatio:!1,normalized:!0,scales:{y:{title:{display:!0,text:""}},x:{type:"time",time:{unit:"second"}}},plugins:{},datasets:{},interaction:{},animations:{},layout:{},elements:{}},n.refreshRate=1e3,w(e)&&(e.hasOwnProperty("options")&&F(e.options,n.options),e.hasOwnProperty("type")&&(i=e.type),e.hasOwnProperty("datasetOptions")&&(n.datasetOptions=e.datasetOptions),e.hasOwnProperty("refreshRate")&&(n.refreshRate=e.refreshRate)),n.type=i;var o=document.getElementById(n.divId);n.id=L();var a=document.createElement("canvas");return a.setAttribute("id",n.id),o.appendChild(a),n.ctx=a,n.resetting=!1,n.chart=new Tt.kL(n.ctx,{type:i,options:n.options}),n.datasets={},n.buffer={},n.lastTimestamp=-1,n}return(0,v.Z)(r,[{key:"setData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"curve"===r.type&&this.updateCurve(r.values);case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"parseDate",value:function(e){var t=new Date(e);return this.withLeadingZeros(t.getUTCHours())+":"+this.withLeadingZeros(t.getUTCMinutes())+":"+this.withLeadingZeros(t.getUTCSeconds())}},{key:"withLeadingZeros",value:function(e){return(e<10?"0":"")+e}},{key:"updateCurve",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,u;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.resetting){e.next=2;break}return e.abrupt("return");case 2:if(r=t[0].curveId,this.chart.options.scales.y.title.text=t[0].yLabel,n=this.datasets[r],i=t.map((function(e){return{x:e.x,y:e.y}})),o=this.getColor(t[0].lineColor),a=this.getColor(t[0].backgroundColor),w(n)?(this.datasets[r].backgroundColor=a,this.datasets[r].borderColor=o):(n=(0,c.Z)((0,c.Z)({},this.datasetOptions),{},{label:t[0].name,fill:t[0].fill,backgroundColor:a,borderColor:o,borderWidth:t[0].stroke,data:i}),n=(0,c.Z)((0,c.Z)({},this.datasetsProps),n),this.datasets[r]=n,this.chart.data.datasets.push(n),this.buffer[r]=[]),this.buffer[r]=this.buffer[r].concat(i),-1===this.lastTimestamp||Date.now()-this.lastTimestamp>=this.refreshRate){for(s in this.buffer)l=this.buffer[s],u=l.length-t[0].maxValues,u>0&&(this.buffer[s]=l.slice(u)),this.datasets[s].data=this.buffer[s];this.lastTimestamp=Date.now(),this.chart.update("none")}case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getColor",value:function(e){var t=e;if(t.length>0&&"#"===t.charAt(0))if(9===e.length){var r=S(e);t="rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"}else{var n=_(e);t="rgba("+n[0]+","+n[1]+","+n[2]+", 1.0)"}return t}},{key:"reset",value:function(){this.resetting=!0,(0,oe.Z)((0,ae.Z)(r.prototype),"reset",this).call(this),this.datasets={},this.chart.data.datasets=[],this.buffer={},this.lastTimestamp=-1,this.resetting=!1}}]),r}(it)),Ct=It,Et=(r(71827),r(86850)),Zt=r(84157),Dt=r(28222),At=r(68734),Pt=r(24121),Mt=r(80447),Ot=r(70097),Rt=r(78168),Lt=r(49378),jt=r(11114),zt=r(60188),Bt=r(81090),Ft=r(47539),Wt=r(81332),Ut=r(21280),Vt=r(7517),Nt=r(16712),qt=r(20686),Ht=r(66421),Yt=r.n(Ht),Kt=r(58958),Gt=r(51345),$t=r(3904),Qt=r(98683),Xt=r(39399),Jt=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({supportedLayers:["marker","polyline","polygon","ellipse"]},e))}return(0,v.Z)(r,[{key:"beforeAddingItems",value:function(e){this.initMap(e)}},{key:"initMap",value:function(e){this.map=null,this.first=!0;var t=[],r=this.getDefaultLayers(),n=19,i=new Et.ZP({center:[0,0],zoom:0});if(w(e)&&(e.map&&(this.map=e.map),e.autoZoomOnFirstMarker||(this.first=!1),e.maxZoom&&(n=e.maxZoom),e.overlayLayers&&(t=e.overlayLayers),e.baseLayers&&(r=e.baseLayers),e.initialView&&(i=e.initialView)),!w(this.map)){this.map=new Zt.Z,this.map.addInteraction(new Mt.Z),this.map.addInteraction(new qt.Z({constrainResolution:!0,duration:200})),this.map.addControl(new Ot.Z);var o=new(Yt())({tipLabel:"Legend",groupSelectStyle:"children"});this.map.addControl(o),this.map.addControl(new Rt.Z),this.map.setTarget(this.divId),w(this.map.getView())||this.map.setView(i),this.map.getView().setMaxZoom(n),0===this.map.getLayers().getLength()&&(this.map.addLayer(new At["default"]({title:"Base maps",layers:r})),this.map.addLayer(new At["default"]({title:"Overlays",layers:t})))}var a=new Vt.Z({condition:Qt.V4,style:null}),s=new Vt.Z({condition:function(e){return"contextmenu"===e.type},style:null}),l=new Vt.Z({condition:Qt.MJ,style:null});this.map.addInteraction(a),this.map.addInteraction(s),this.map.addInteraction(l),this.projection=this.map.getView().getProjection();var c=this;s.on("select",(function(e){if(e.selected.length>0){var t=e.selected[0],r=c.getMarkerId(t.getId());if(!w(r))return;var n=c.getLayerId(t.getId());if(!w(n))return;var i=c.getLayer(n);if(!w(i))return;c.onMarkerRightClick(r,t,i.props,e)}})),a.on("select",(function(e){if(e.selected.length>0){var t=e.selected[0],r=c.getMarkerId(t.getId());if(!w(r))return;var n=c.getLayerId(t.getId());if(!w(n))return;var i=c.getLayer(n);if(!w(i))return;c.onMarkerLeftClick(r,t,i.props,e)}})),l.on("select",(function(e){if(e.selected.length>0){var t=e.selected[0],r=c.getMarkerId(t.getId());if(!w(r))return;var n=c.getLayerId(t.getId());if(!w(n))return;var i=c.getLayer(n);if(!w(i))return;c.onMarkerHover(r,t,i.props,e)}})),this.vectorSource=new Lt.Z({wrapX:!1,features:[]}),this.vectorMarkerLayer=new jt.Z({source:this.vectorSource}),this.vectorMarkerLayer.setZIndex(1),this.map.addLayer(this.vectorMarkerLayer),this.map.updateSize()}},{key:"getDefaultLayers",value:function(){var e=new Dt.Z({source:new Nt.Z});return[e]}},{key:"onResize",value:function(){(0,oe.Z)((0,ae.Z)(r.prototype),"onResize",this).call(this),w(this.map)&&null!==this.map&&this.map.updateSize()}},{key:"addMarker",value:function(e){if(w(this.map)&&null!==this.map){var t=new zt.Z((0,Pt.vs)([e.location.x,e.location.y],"EPSG:4326",this.projection)),r=new Bt.Z({geometry:t,name:"Marker"});if(w(e.icon)&&null!==e.icon){var n=new Ft.ZP({image:new Wt.Z({opacity:e.iconOpacity,src:e.icon,anchor:e.iconAnchor,anchorYUnits:"pixels",anchorXUnits:"pixels",rotation:e.orientation.heading*Math.PI/180,scale:e.iconScale,size:e.iconSize,color:e.iconColor}),zIndex:e.zIndex,text:new Ut.Z({text:e.label,offsetX:e.labelOffset[0],offsetY:e.labelOffset[1],scale:e.labelScale,fill:new Gt.Z({color:e.labelColor})})});r.setStyle(n)}return r.setId(e.id+"$"+e.markerId),this.vectorSource.addFeature(r),this.first&&(this.first=!1,this.map.getView().setCenter((0,Pt.vs)([e.location.x,e.location.y],"EPSG:4326",this.projection)),this.map.getView().setZoom(12)),this.vectorMarkerLayer.setZIndex(e.zIndex),r}return this.onResize(),null}},{key:"updateMarker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.location)){e.next=2;break}return e.abrupt("return");case 2:r=this.getMarker(t),w(r)?(i=t.location.x,o=t.location.y,isNaN(i)||isNaN(o)||(a=(0,Pt.vs)([i,o],"EPSG:4326",this.projection),r.getGeometry().setCoordinates(a)),s=r.getStyle(),null!==t.icon&&(s.getImage().getSrc()===t.icon&&s.getImage().color===t.iconColor||(l={anchorYUnits:"pixels",anchorXUnits:"pixels",src:t.icon,color:t.iconColor},s.setImage(new Wt.Z(l))),s.getImage().setOpacity(t.iconOpacity),s.getImage().setScale(t.iconScale),s.getText().setText(t.label),s.getText().setOffsetX(t.labelOffset[0]),s.getText().setOffsetY(t.labelOffset[1]),s.getText().setScale(t.labelScale),s.getText().getFill().setColor(t.labelColor),s.setZIndex(t.zIndex),s.getImage().setAnchor(t.iconAnchor),s.getImage().setRotation(t.orientation.heading*Math.PI/180))):(n=this.addMarker(t),this.addMarkerToLayer(t,n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeMarkerFromLayer",value:function(e){this.vectorSource.removeFeature(e)}},{key:"addPolyline",value:function(e){for(var t=[],r=e.locations,n=0;n<r.length;n++)t.push((0,Pt.vs)([r[n].x,r[n].y],"EPSG:4326",this.projection));var i=new $t.Z(t),o=new Bt.Z({geometry:i,name:"Line"}),a=new Lt.Z({features:[o]}),s=new jt.Z({title:e.name,source:a,style:new Ft.ZP({fill:new Gt.Z({color:e.color}),stroke:new Kt.Z({color:e.color,width:e.weight})})});return s.setZIndex(0),this.map.addLayer(s),s}},{key:"updatePolyline",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.locations)&&!(t.locations.length<2)){e.next=2;break}return e.abrupt("return");case 2:if(r=this.getPolyline(t),w(r)){if(n=r.getSource(),i=[],o=t.locations,w(o)&&o.length>0){for(a=0;a<o.length;a++)i.push((0,Pt.vs)([o[a].x,o[a].y],"EPSG:4326",this.projection));n.getFeatures()[0].getGeometry().setCoordinates(i)}s=r.getStyle(),s.getStroke().setColor(t.color),s.getStroke().setWidth(t.weight),s.getFill().setColor(t.color)}else r=this.addPolyline(t),this.addPolylineToLayer(t,r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removePolylineFromLayer",value:function(e){this.map.removeLayer(e)}},{key:"addPolygon",value:function(e){for(var t=[],r=e.vertices,n=0;n<r.length-1;n+=2)t.push((0,Pt.vs)([r[n],r[n+1]],"EPSG:4326",this.projection));var i=new Xt.ZP([t]),o=new Bt.Z({geometry:i,name:"Polygon"}),a=new Lt.Z({features:[o]}),s=new jt.Z({title:e.name,source:a,style:new Ft.ZP({fill:new Gt.Z({color:e.color}),stroke:new Kt.Z({color:e.color,width:e.outlineWidth})})});return s.setZIndex(0),this.map.addLayer(s),s}},{key:"updatePolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getPolygon(t),w(r)){if(n=r.getSource(),i=[],o=t.vertices,w(o)&&o.length>0){for(a=0;a<o.length-1;a+=2)i.push((0,Pt.vs)([o[a],o[a+1]],"EPSG:4326",this.projection));n.getFeatures()[0].getGeometry().setCoordinates([i])}s=r.getStyle(),s.getStroke().setColor(t.outlineColor),s.getStroke().setWidth(t.outlineWidth),s.getFill().setColor(t.color)}else r=this.addPolygon(t),this.addPolygonToLayer(t,r);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removePolygonFromLayer",value:function(e){this.map.removeLayer(e)}},{key:"addEllipse",value:function(e){for(var t=e.position,r=e.semiMajorAxis,n=e.semiMinorAxis,i=(0,Pt.vs)([t.x,t.y],"EPSG:4326",this.projection),o=[],a=Math.PI/180,s=1;s<=360;s++){var l=r*Math.cos(a*s),c=n*Math.sin(a*s),u=i[0]+l,d=i[1]+c;o.push([u,d])}var h=new Xt.ZP([o]),p=new Bt.Z({geometry:h,name:"Ellipse"});p.setId(e.id+"$"+e.markerId);var f=new Lt.Z({features:[p]}),m=new jt.Z({title:e.name,source:f,style:new Ft.ZP({fill:new Gt.Z({color:e.color}),stroke:new Kt.Z({color:e.color,width:1})})});return m.setZIndex(e.zIndex),this.map.addLayer(m),m}},{key:"updateEllipse",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c,u,h,p,f,m,v,g,y,b;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.position)){e.next=2;break}return e.abrupt("return");case 2:if(r=this.getEllipse(t),w(r)){if(!isNaN(t.position.x)&&!isNaN(t.position.y)){for(n=r.getSource(),i=t.position,o=t.semiMajorAxis,a=t.semiMinorAxis,s=(0,Pt.vs)([i.x,i.y],"EPSG:4326",this.projection),l=[],c=Math.PI/180,u=100,h=360/u,p=1;p<=360;p+=h)f=o*Math.cos(c*p),m=a*Math.sin(c*p),v=s[0]+f,g=s[1]+m,l.push([v,g]);y=n.getFeatures()[0],y.getGeometry().setCoordinates([l]),b=r.getStyle(),b.getStroke().setColor(t.color),b.getStroke().setWidth(1),b.getFill().setColor(t.color)}}else r=this.addEllipse(t),this.addEllipseToLayer(t,r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeEllipseFromLayer",value:function(e){this.map.removeLayer(e)}}]),r}(at),er=Jt,tr=r(6158),rr=r.n(tr),nr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["marker","polyline","polygon"]},e)),n.loaded=!1,n.first=!1,n}return(0,v.Z)(r,[{key:"initMap",value:function(e){this.map=new tr.Map((0,c.Z)({container:"map",style:"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",center:[0,0],zoom:2,antialias:!0},e.mapProperties));var t=this;this.map.on("load",(function(){t.loaded=!0}))}},{key:"beforeAddingItems",value:function(e){this.initMap(e)}},{key:"updateMarker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loaded){e.next=2;break}return e.abrupt("return");case 2:r=this.getMarker(t),w(r)?(i=this.getMarker(t),o=t.location.x,a=t.location.y,i.setLngLat([o,a]).setRotation(t.orientation.heading),i.getElement().style.backgroundImage="url(".concat(t.icon,")"),i.getElement().style.width=t.iconSize[0]+"px",i.getElement().style.height=t.iconSize[1]+"px",w(t.orientation)&&i.setRotation(t.orientation.heading),s="Marker",w(t.name)&&""!==t.name?s=t.name:w(t.label)&&""!==t.label&&(s=t.label),i.getPopup().setHTML("<strong>".concat(s,"</strong>"))):(n=this.addMarker(t),this.addMarkerToLayer(t,n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePolyline",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c,u;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this,this.loaded){e.next=3;break}return e.abrupt("return");case 3:if(r=this.getPolyline(t),w(r)){for(i=r.source,o=r.id,a=this.map.getSource(i),s=a.id,l=[],c=t.locations,u=0;u<c.length;u++)l.push([c[u].x,c[u].y]);a.setData({id:s,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:l}}]}),this.map.setPaintProperty(o,"line-color",t.color),this.map.setPaintProperty(o,"line-width",t.weight),this.map.setPaintProperty(o,"line-opacity",t.opacity)}else n=this.addPolyline(t),this.addPolylineToLayer(t,n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDefaultLayers",value:function(){}},{key:"addMarker",value:function(e){if(this.loaded){var t="Marker";w(e.name)?t=e.name:w(e.label)&&(t=e.label);var r=document.createElement("div");r.className="marker",r.style.backgroundImage="url(".concat(e.icon,")"),r.style.width=e.iconSize[0]+"px",r.style.height=e.iconSize[1]+"px",r.style.backgroundSize="100%";var n=new tr.Marker({element:r}).setLngLat([e.location.x,e.location.y]).setRotation(e.orientation.heading).setPopup((new tr.Popup).setHTML("<strong>".concat(t,"</strong>"))).addTo(this.map);return n.id=e.id+"$"+e.markerId,!this.first&&this.properties.autoZoomOnFirstMarker&&(this.map.flyTo({center:[e.location.x,e.location.y],zoom:e.zoomLevel,speed:3.5,curve:2,easing:function(e){return e}}),this.first=!1),n}}},{key:"removeMarkerFromLayer",value:function(e){this.loaded&&e.remove()}},{key:"removePolylineFromLayer",value:function(e){this.map.removeLayer(e.id).removeSource(e.source)}},{key:"removePolygonFromLayer",value:function(e){this.map.removeLayer(e.id+"-outline"),this.map.removeLayer(e.id).removeSource(e.source)}},{key:"addPolyline",value:function(e){if(this.loaded){var t=L(),r=L(),n=L(),i={id:r,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[0,0]]}}]};this.map.addSource(n,{type:"geojson",data:i});var o={id:t,type:"line",source:n,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":e.color,"line-width":e.weight,"line-opacity":e.opacity}};return this.map.addLayer(o),o}}},{key:"updatePolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loaded){e.next=2;break}return e.abrupt("return");case 2:if(r=this.getPolygon(t),w(r)){if(n=r.source,i=r.id,o=this.map.getSource(n),a=o.id,s=[],l=t.vertices,w(l)&&l.length>0)for(c=0;c<l.length-1;c+=2)s.push([l[c],l[c+1]]);o.setData({id:a,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[s]}}]}),this.map.setPaintProperty(i,"fill-color",t.color),this.map.setPaintProperty(i,"fill-opacity",t.opacity),this.map.setPaintProperty(i+"-outline","line-color",t.outlineColor),this.map.setPaintProperty(i+"-outline","line-width",t.outlineWidth)}else r=this.addPolygon(t),this.addPolygonToLayer(t,r);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addPolygon",value:function(e){e.id,e.polygonId;var t=[],r=e.vertices;if(w(r)&&r.length>0)for(var n=0;n<r.length-1;n+=2)t.push([r[n],r[n+1]]);var i=L(),o=L(),a=L(),s={id:o,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[t]}}]};this.map.addSource(a,{type:"geojson",data:s});var l={id:i,type:"fill",source:a,layout:{},paint:{"fill-color":e.color,"fill-opacity":e.opacity}};return this.map.addLayer(l),this.map.addLayer({id:i+"-outline",type:"line",source:a,layout:{},paint:{"line-color":e.outlineColor,"line-width":e.outlineWidth}}),l}},{key:"onResize",value:function(){}}]),r}(at),ir=nr,or=(r(2707),r(56602)),ar=r(68315),sr=r(13418),lr=r(13863),cr=r(41990),ur=r(33121),dr=r(29826),hr=r(520),pr=r(6228),fr=r(52462),mr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["marker","polyline","polygon"]},e)),(0,pr.fh)(fr.E);var i=document.getElementById(n.divId).className;return document.getElementById(n.divId).setAttribute("class",i+" "+n.css),n.autoZoomOnFirstMarker=!1,w(e)&&w(e.autoZoomOnFirstMarker)&&(n.autoZoomOnFirstMarker=e.autoZoomOnFirstMarker),n}return(0,v.Z)(r,[{key:"beforeAddingItems",value:function(e){this.initMap(e)}},{key:"initMap",value:function(e){this.INITIAL_VIEW_STATE={longitude:0,latitude:0,zoom:2,bearing:0,pitch:0};var t=document.createElement("canvas");t.setAttribute("id",L()),t.setAttribute("style","width:100%;height:100%;position:relative;");var r=document.getElementById(this.divId);if(r.appendChild(t),this.deckLayers=[],w(e)&&w(e.deckProps)&&w(e.deckProps.layers))for(var n=0;n<e.deckProps.layers.length;n++){var i=e.deckProps.layers[n].id?e.deckProps.layers[n].id:"base_"+i;this.deckLayers.push(e.deckProps.layers[n])}else this.deckLayers.push(new dr.Z({id:"base",data:"https://c.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:0,maxZoom:19,tileSize:256,renderSubLayers:function(e){var t=e.tile.bbox,r=t.west,n=t.south,i=t.east,o=t.north;return new lr.Z(e,{data:null,image:e.data,bounds:[r,n,i,o]})}}));var o={canvas:t.id,width:"100%",height:"100%",controller:!0,views:[new or.Z],initialViewState:this.INITIAL_VIEW_STATE,onViewStateChange:function(e){e.viewState},layers:this.deckLayers};w(e)&&w(o)&&(o=(0,c.Z)((0,c.Z)({},o),e.deckProps)),this.INITIAL_VIEW_STATE=o.initialViewState,this.deckgl=new ar.Z(o)}},{key:"updateMarker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.id+"$"+t.markerId,n=t.markerId,i=t.iconColor,i=w(i)?_(t.iconColor):"#000000",o=t.icon.endsWith("glb")?new hr.Z({id:r,data:[{position:[t.location.x,t.location.y,t.location.z]}],pickable:!0,scenegraph:t.icon,getPosition:function(e){return e.position},getOrientation:function(e){return[0,t.orientation.yaw,90]},_animations:{"*":{speed:5}},sizeScale:t.iconScale,_lighting:"pbr"}):new sr.Z({id:r,data:[{position:[t.location.x,t.location.y,t.location.z]}],pickable:!0,iconAtlas:t.icon,iconMapping:{marker:{x:0,y:0,anchorX:t.iconAnchor[0],anchorY:t.iconAnchor[1],width:t.iconSize[0],height:t.iconSize[1],mask:w(t.iconColor)&&"#000000"!==t.iconColor}},getIcon:function(e){return"marker"},getPosition:function(e){return e.position},sizeScale:t.iconScale,getSize:function(e){return t.iconSize[1]},getColor:function(e){return i},onHover:function(e,r){return s.onMarkerHover(n,e,t,r)},onClick:function(e,r){return r.leftButton?s.onMarkerLeftClick(n,e,t,r):s.onMarkerRightClick(n,e,t,r)},zIndex:t.zIndex}),this.addMarkerToLayer(t,o),a={},this.autoZoomOnFirstMarker&&(this.autoZoomOnFirstMarker=!1,a.initialViewState=(0,c.Z)((0,c.Z)({},this.INITIAL_VIEW_STATE),{},{longitude:t.location.x,latitude:t.location.y,zoom:t.zoomLevel})),this.render(a);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePolyline",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.id+"$"+t.polylineId,n=t.locations.map((function(e){return[e.x,e.y,e.z||1]})),i=[{weight:t.weight,name:t.id,color:this.rgbaToArray(t.color),path:n}],o=new cr.Z({id:r,data:i,widthUnits:"pixels",widthMinPixels:5,getPath:function(e){return e.path},getColor:function(e){return e.color},getWidth:function(e){return e.weight}}),this.addPolylineToLayer(t,o),this.render({});case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.id+"$"+t.polygonId,n=[],i=t.vertices,w(i)&&i.length>0)for(o=0;o<i.length-1;o+=2)n.push([i[o],i[o+1]]);a=W(t.outlineColor).map((function(e,t,r){return t>=3?parseInt(255*e):e})),s=W(t.color).map((function(e,t,r){return t>=3?parseInt(255*e):e})),l=[{outlineWidth:t.outlineWidth,outlineColor:a,name:t.label,color:s,contour:[n]}],c=new ur.Z({id:r,data:l,widthUnits:"pixels",lineWidthMinPixels:1,stroked:!0,filled:!0,getPolygon:function(e){return e.contour},getFillColor:function(e){return e.color},getLineWidth:function(e){return e.outlineWidth},getLineColor:function(e){return e.outlineColor}}),this.addPolygonToLayer(t,c),this.render({});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeMarker",value:function(e){(0,oe.Z)((0,ae.Z)(r.prototype),"removeMarkers",this).call(this,e),this.render({})}},{key:"removePolylines",value:function(e){(0,oe.Z)((0,ae.Z)(r.prototype),"removePolylines",this).call(this,e),this.render({})}},{key:"removePolygons",value:function(e){(0,oe.Z)((0,ae.Z)(r.prototype),"removePolygons",this).call(this,e),this.render({})}},{key:"render",value:function(e){var t=this.getMarkers(),r=this.getPolylines(),n=this.getPolygons();t.sort((function(e,t){return e.props.zIndex>t.props.zIndex?1:t.props.zIndex>e.props.zIndex?-1:0}));var i={layers:[].concat((0,xt.Z)(this.deckLayers),(0,xt.Z)(n),(0,xt.Z)(r),(0,xt.Z)(t))};this.deckgl.setProps((0,c.Z)((0,c.Z)({},e),i))}},{key:"rgbaToArray",value:function(e){if(Array.isArray(e))return e;var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.substr(t,r-t),i=n.split(",").map(Number);return i[3]=parseInt(100*i[3]),i}}]),r}(at),vr=mr,gr=(r(84944),r(33792),r(72982)),yr="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec2 st;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}",br="varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nvec4 windowToEye(vec4 fragCoord)\n{\n    vec2 uv = fragCoord.xy / czm_viewport.zw;\n    float z_window = czm_unpackDepth(texture2D(czm_globeDepthTexture, uv));\n\n    if (z_window == 0.0)\n        discard;\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord.xy, z_window);\n\n    return eyeCoordinate / eyeCoordinate.w;\n}\n\n// Camera model and frames are based on OpenCV conventions:\n// http://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html\n// we pass in a normalized intrinsic matrix as uniform so we can compute the normalized texture coordinates directly\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n\n    // get fragment 3D pos in eye coordinates using depth buffer value at fragment location\n    vec4 v_posEC = windowToEye(gl_FragCoord);\n\n    // translate to video cam frame\n    vec4 camPosEC = czm_modelViewRelativeToEye * czm_translateRelativeToEye(camPosHigh_1, camPosLow_2);\n    vec4 v_posCam = v_posEC - camPosEC;\n\n    // rotate to video cam frame\n    vec3 lookRay = camAtt_3 * czm_inverseViewRotation3D * v_posCam.xyz;\n\n    // discard if behind camera\n    if (lookRay.z < 0.1)\n        discard;\n\n    // undistort\n    float xn = lookRay.x / lookRay.z;\n    float yn = lookRay.y / lookRay.z;\n    float k1 = camDistR_5[0];\n    float k2 = camDistR_5[1];\n    float k3 = camDistR_5[2];\n    float p1 = camDistT_6[0];\n    float p2 = camDistT_6[1];\n\n    float r2 = xn * xn+ yn * yn;\n    float r4 = r2 * r2;\n    float r6 = r4 * r2;\n    float xd = xn * (1. + k1 * r2 + k2 * r4 + k3 * r6) + 2. * p1 * xn * yn + p2 * (r2 + 2. * xn * xn);\n    float yd = yn * (1. + k1 * r2 + k2 * r4 + k3 * r6) + 2. * p2 * xn * yn + p1 * (r2 + 2. * yn * yn);\n\n    // project with pinhole model\n    vec3 st = camProj_4 * vec3(xd, yd, 1.);\n    st.y = 1.0 - st.y;\n\n    if (st.x < 0.0 || st.x > 1.0 || st.y < 0.0 || st.y > 1.0)\n        discard;\n\n    // get color from material\n    czm_materialInput materialInput;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    materialInput.st = vec2(st.x, st.y);\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n\n    //float depth = pow(v_posEC.z * 0.5 + 0.5, 8.0);\n    //gl_FragColor = vec4(depth, depth, depth, 1.0);\n}",wr=Object.freeze({LONLATALT_WITH_EULER_ANGLES:1,ECEF_WITH_MATRICES:2,ECEF_WITH_QUATERNIONS:3}),kr=Object.freeze({YAW_PITCH_ROLL:1,YAW_ROLL_PITCH:2,PITCH_YAW_ROLL:3,PITCH_ROLL_YAW:4,ROLL_YAW_PITCH:5,ROLL_PITCH_YAW:6}),_r=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({supportedLayers:["marker","drapedImage","polyline","ellipse","polygon","coplanarPolygon","frustum"],autoZoomOnFirstMarker:!0},e));var i=document.getElementById(n.divId).className;return document.getElementById(n.divId).setAttribute("class",i+" "+n.css),n.captureCanvas=document.createElement("canvas"),n.captureCanvas.width=640,n.captureCanvas.height=480,n.tmpHPR=new gr.xix,n.nedQuat=new gr._fP,n.platformQuat=new gr._fP(0,0,0,1),n.sensorQuat=new gr._fP(0,0,0,1),n.camQuat=gr._fP.fromRotationMatrix(gr.Vkp.fromRowMajorArray([0,0,1,1,0,0,0,1,0])),n}return(0,v.Z)(r,[{key:"beforeAddingItems",value:function(e){this.first=!0;var t=(0,gr.mqg)();if(e&&e.options&&e.options.layers){var r=e.options.layers;t=t.filter((function(e){return r.includes(e.name)}))}var n={baseLayerPicker:!0,imageryProviderViewModels:t,selectedImageryProviderViewModel:t[0],timeline:!1,homeButton:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,geocoder:!0,fullscreenButton:!1,showRenderLoopErrors:!0,animation:!1,scene3DOnly:!0,requestRenderMode:!0,maximumRenderTimeChange:1/0,targetFrameRate:30},i=void 0;w(e)&&(e.hasOwnProperty("options")&&e.options.hasOwnProperty("viewerProps")&&(n=(0,c.Z)((0,c.Z)({},n),e.options.viewerProps)),e.hasOwnProperty("options")&&e.options.hasOwnProperty("viewer")&&(i=e.options.viewer)),this.viewer=w(i)?i:new gr.AEx(this.divId,n),this.viewer.terrainProvider=new gr.ZHx,this.viewer.scene.copyGlobeDepth=!0,this.viewer.scene._environmentState.useGlobeDepthFramebuffer=!0,this.viewer.scene.globe.depthTestAgainstTerrain=!0,this.billboardCollection=new gr.vHr,this.labelCollection=new gr.qiJ,this.viewer.scene.primitives.add(this.billboardCollection),this.viewer.scene.primitives.add(this.labelCollection),this.initCallbackEvents(),this.changeToPromptRender=!1;var o,a=this;this.viewer.scene.postUpdate.addEventListener((function(){a.changeToPromptRender&&(a.viewer.scene.requestRender(),a.changeToPromptRender=!1)})),e&&e.options&&(e.options.location&&e.options.location.longitude&&e.options.location.latitude&&e.options.location.altitude&&(o||(o={}),o.destination=gr.b91.fromDegrees(e.options.location.longitude,e.options.location.latitude,e.options.location.altitude)),e.options.orientation&&e.options.orientation.heading&&(o||(o={}),o.orientation={heading:gr.ZX$.toRadians(e.options.orientation.heading),pitch:gr.ZX$.toRadians(e.options.orientation.pitch),roll:0},console.log(o.orientation))),o&&this.viewer.camera.flyTo((0,c.Z)((0,c.Z)({},o),{},{duration:1}))}},{key:"render",value:function(){this.changeToPromptRender=!0}},{key:"initCallbackEvents",value:function(){var e=this,t=function(t){try{var r,n,i=e.viewer.scene.pick(t.position);if(!w(i)||!w(i.id))return;i._id instanceof gr.JHW?r=i._id:i.id instanceof gr.JHW?r=i.id:n=i;var o=r&&r._id||n&&n.id,a=e.getLayerId(o),s=e.getLayer(a);w(r)&&(e.viewer.selectedEntity=r,i.pixel=t.position,e.onMarkerRightClick(a,i,s.props,{}))}catch(l){console.error(l)}},r=function(t){var r=e.viewer.scene.pick(t.position);if(w(r)&&w(r.id)){var n=e.getMarkerId(r.id.id);if(w(n)){var i=e.getLayerId(r.id.id);if(w(i)){var o=e.getLayer(i);w(o)&&(e.viewer.selectedEntity=r.id,r.pixel=t.position,e.onMarkerRightClick(n,r,o.props,{}))}}}},n=function(t){var r=e.viewer.scene.pick(t.endPosition);if(w(r)&&w(r.id)){var n=e.getMarkerId(r.id.id);if(w(n)){var i=e.getLayerId(r.id.id);if(w(i)){var o=e.getLayer(i);w(o)&&(r.pixel=t.endPosition,e.onMarkerHover(n,r,o.props,{}))}}}};this.viewer.screenSpaceEventHandler.setInputAction(t,gr.Wvr.LEFT_CLICK),this.viewer.screenSpaceEventHandler.setInputAction(r,gr.Wvr.RIGHT_CLICK),this.viewer.screenSpaceEventHandler.setInputAction(n,gr.Wvr.MOUSE_MOVE)}},{key:"getGroundAltitude",value:function(e,t){var r=gr.b91.fromDegrees(t,e,0,this.viewer.scene.globe.ellipsoid,new gr.b91),n=this.viewer.scene.globe.getHeight(gr.Hnq.WGS84.cartesianToCartographic(r));return(void 0===n||n<=0)&&(n=.1),n}},{key:"panToLayer",value:function(e){var t=this.getMarker(e.props);this.viewer.zoomTo(t,new gr.sUm(gr.ZX$.toRadians(0),gr.ZX$.toRadians(-90),2e3))}},{key:"addImageryProvider",value:function(e,t,r,n,i){var o,a,s=0;return i.hasOwnProperty("minLOD")&&(s=i.minLOD),i.hasOwnProperty("maxLOD")&&(o=i.maxLOD),"wms"===e&&(a=new gr.s0_({url:t,layers:r,minimumLevel:s,maximumLevel:o,parameters:{transparent:"true",format:"image/"+n}})),this.viewer.imageryLayers.addImageryProvider(a),a}},{key:"addMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.id+"$"+e.markerId,n=e.icon&&e.icon.endsWith(".glb")||!1,i=e.hasOwnProperty("label")&&null!=e.label?e.label:"",o=new gr.pQ4(-e.iconAnchor[0],-e.iconAnchor[1]),a=w(e.iconColor)?gr.Ilk.fromCssColorString(e.iconColor):gr.Ilk.YELLOW,s=[0,0,0];w(e.location)&&(s=[e.location.x,e.location.y,e.location.z||0]),w(e.location.z)&&!isNaN(e.location.z)||(s[2]=this.getGroundAltitude(e.location.x,e.location.y),s[2]>1&&(s[2]+=.3));var l=0;if(w(e.orientation)&&w(e.orientation.heading)){var u=e.orientation.heading;l=gr.ZX$.toRadians(u)}var d=gr.b91.fromDegrees(s[0],s[1],s[2]),h=void 0;if(w(e.orientation)&&w(e.orientation.heading)){var p=gr.ZX$.PI/180,f=e.orientation.heading,m=0;h=gr.YRB.headingPitchRollQuaternion(d,new gr.xix(f*p,0,m*p))}var v=void 0,g=void 0;n?g={id:void 0,uri:e.icon,scale:e.iconScale,modelM:gr.yGw.IDENTITY.clone(),color:a,colorBlendMode:gr.xp3.MIX,colorBlendAmount:.5,silhouetteColor:a,minimumPixelSize:20,maximumScale:2e4,show:e.visible,heightReference:e.defaultToTerrainElevation?gr.MDq.CLAMP_TO_GROUND:gr.MDq.NONE,alpha:e.opacity,colorBlendAmountEnabled:!0,imageBasedLightingFactor:void 0,lightColor:void 0,distanceDisplayCondition:void 0,nodeTransformations:void 0,articulations:void 0,clippingPlanes:void 0,disableDepthTestDistance:Number.POSITIVE_INFINITY}:v={id:void 0,name:i,description:void 0,position:void 0,image:e.icon,scaleByDistance:new gr.g0P(1e3,1,1e7,0),alignedAxis:this.viewer.camera.pitch<-gr.ZX$.PI/4&&e.allowBillboardRotation?gr.b91.UNIT_Z:gr.b91.ZERO,rotation:l,horizontalOrigin:gr.I5p.LEFT,verticalOrigin:gr.s2f.TOP,pixelOffset:o,pixelOffsetScaleByDistance:new gr.g0P(1e3,1,1e7,0),eyeOffset:new gr.b91(0,0,-1*e.zIndex),show:e.visible,heightReference:e.defaultToTerrainElevation?gr.MDq.CLAMP_TO_GROUND:gr.MDq.NONE,scale:e.iconScale,imageSubRegion:void 0,color:a,width:e.iconSize[0],height:e.iconSize[1],translucencyByDistance:void 0,sizeInMeters:void 0,distanceDisplayCondition:void 0,disableDepthTestDistance:Number.POSITIVE_INFINITY};var y=e.labelColor||"#FFFFFF",b=e.labelSize||16,k=new gr.pQ4(e.labelOffset[0],e.labelOffset[1]),_=e.labelBackgroundColor&&gr.Ilk.fromCssColorString(e.labelBackgroundColor),S=e.labelOutlineColor&&gr.Ilk.fromCssColorString(e.labelOutlineColor),x={backgroundColor:_||void 0,backgroundPadding:void 0,distanceDisplayCondition:void 0,eyeOffset:void 0,fillColor:gr.Ilk.fromCssColorString(y),font:b+"px sans-serif",heightReference:e.defaultToTerrainElevation?gr.MDq.CLAMP_TO_GROUND:gr.MDq.NONE,horizontalOrigin:gr.I5p.CENTER,id:void 0,outlineColor:S||void 0,outlineWidth:S?1:void 0,pixelOffset:k,pixelOffsetScaleByDistance:new gr.g0P(150,1,1e6,0),position:gr.b91.fromDegrees(s[0],s[1],s[2]),scale:void 0,scaleByDistance:new gr.g0P(150,1,1e6,0),show:void 0,showBackground:!!_,style:gr.gF4.FILL_AND_OUTLINE,text:i,totalScale:void 0,translucencyByDistance:void 0,verticalOrigin:gr.s2f.TOP,disableDepthTestDistance:Number.POSITIVE_INFINITY};this.first&&this.properties.autoZoomOnFirstMarker&&(this.viewer.camera.flyTo({destination:gr.b91.fromDegrees(s[0],s[1],s[2]&&s[2]+1e3||1e3),duration:1}),this.first=!1);var T={description:e.description,position:gr.b91.fromDegrees(s[0],s[1],s[2]),orientation:h,id:r,billboard:v,model:g,label:x};if(w(t))return t.billboard=v&&(0,c.Z)({},v)||void 0,t.model=g&&(0,c.Z)({},g)||void 0,t.label=x&&(0,c.Z)({},x)||void 0,t.name=i,t.position=T.position,t.description=T.description,t.orientation=T.orientation,t;var I=this.viewer.entities.add(T);return e.selected&&(this.viewer.selectedEntity=I),I}},{key:"updateMarker",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.location)){e.next=2;break}return e.abrupt("return");case 2:r=this.getMarker(t),this.addMarkerToLayer(t,this.addMarker(t,r)),this.render();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeMarkerFromLayer",value:function(e){this.viewer.entities.remove(e),this.render()}},{key:"addEllipse",value:function(e){var t=e.id+"$"+e.ellipseId,r=e.position,n=e.semiMajorAxis,i=e.semiMinorAxis,o=w(e.height)?e.height:0,a=w(e.extrudedHeight)?e.extrudedHeight:0,s=w(e.rotation)?e.rotation:0,l=w(e.stRotation)?e.stRotation:0,c=e.color,u=w(e.transparency)?e.transparency:.5,d=new gr.aBy({geometry:new gr.JF8({center:gr.b91.fromDegrees(r.x,r.y),semiMajorAxis:n,semiMinorAxis:i,height:o,extrudedHeight:a,rotation:s,stRotation:l}),id:t}),h=new gr.dUq({geometryInstances:d,appearance:new gr.HKI({material:new gr.F5T({fabric:{type:"Color",uniforms:{color:gr.Ilk.fromCssColorString(c).withAlpha(u)}}})}),asynchronous:!1,show:e.visible});return this.viewer.scene.primitives.add(h),h}},{key:"updateEllipse",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.position)){e.next=2;break}return e.abrupt("return");case 2:r=this.getEllipse(t),w(r)&&this.removeEllipseFromLayer(r),this.addEllipseToLayer(t,this.addEllipse(t)),this.render();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeEllipseFromLayer",value:function(e){this.viewer.scene.primitives.remove(e),this.render()}},{key:"addPolyline",value:function(e){var t,r=e.id+"$"+e.polylineId,n=e.locations,i=n.map((function(e){return gr.b91.fromDegrees(e.x,e.y,e.z)})).flat();if(e.clampToGround){var o=new gr.aBy({geometry:new gr.gLh({id:r,positions:i,width:e.weight,loop:!1}),id:r});t=new gr.$gM({geometryInstances:o,appearance:new gr.HKI({material:new gr.F5T({fabric:{type:"Color",uniforms:{color:gr.Ilk.fromCssColorString(e.color)}}})}),asynchronous:!1,show:e.visible})}else{var a=new gr.aBy({geometry:new gr.rJf({id:r,positions:i,width:e.weight,loop:!1}),attributes:{color:gr.vSX.fromColor(gr.Ilk.fromCssColorString(e.color))},id:r});t=new gr.WV0({geometryInstances:a,appearance:new gr.rnP,asynchronous:!1,show:e.visible})}return this.viewer.scene.primitives.add(t),t}},{key:"updatePolyline",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.locations)&&!(t.locations.length<2)){e.next=2;break}return e.abrupt("return");case 2:r=this.getPolyline(t),w(r)&&this.removePolylineFromLayer(r),this.addPolylineToLayer(t,this.addPolyline(t)),this.render();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removePolylineFromLayer",value:function(e){this.viewer.scene.primitives.remove(e),this.render()}},{key:"updatePolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.getPolygon(t),w(r)&&this.removePolygonFromLayer(r),this.addPolygonToLayer(t,this.addPolygon(t)),this.render();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addPolygon",value:function(e){var t=e.id+"$"+e.polygonId,r=new gr.aBy({geometry:new gr.i4B({polygonHierarchy:new gr.rVe(gr.b91.fromDegreesArray(e.vertices)),attributes:{color:gr.vSX.fromColor(gr.Ilk.fromRandom({alpha:.5}))}}),id:t}),n=new gr.dUq({geometryInstances:r,appearance:new gr.HKI({material:new gr.F5T({fabric:{type:"Color",uniforms:{color:gr.Ilk.fromCssColorString(e.color).withAlpha(e.opacity)}}})}),asynchronous:!1,show:e.visible}),i=new gr.Dos;i.add({positions:gr.b91.fromDegreesArray(e.vertices),width:e.outlineWidth,loop:!0,material:new gr.F5T({fabric:{type:"Color",uniforms:{color:gr.Ilk.fromCssColorString(e.outlineColor)}}}),show:e.visible});var o=new gr.mL8;return o.add(n),o.add(i),this.viewer.scene.primitives.add(o),o}},{key:"removePolygonFromLayer",value:function(e){e.removeAll(),this.viewer.scene.primitives.remove(e),this.render()}},{key:"updateCoPlanarPolygon",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.getPolygon(t),w(r)&&(r.removeAll(),this.viewer.scene.primitives.remove(r)),this.addPolygonToLayer(t,this.addCoPlanarPolygon(t)),this.render();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addCoPlanarPolygon",value:function(e){var t=e.id+"$"+e.polygonId,r=new gr.aBy({geometry:new gr.iip({polygonHierarchy:new gr.rVe(gr.b91.fromDegreesArrayHeights(e.vertices))}),id:t}),n=new gr.WV0({geometryInstances:r,appearance:new gr.HKI({material:new gr.F5T({fabric:{type:"Color",uniforms:{color:gr.Ilk.fromCssColorString(e.color).withAlpha(e.opacity)}}})}),asynchronous:!1,show:e.visible}),i=new gr.mL8;return i.add(n),this.viewer.scene.primitives.add(i),i}},{key:"updateDrapedImage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.platformLocation)&&w(t.imageSrc)){e.next=2;break}return e.abrupt("return");case 2:if(r=this.getDrapedImage(t),w(r)){e.next=12;break}return e.t0=this,e.t1=t,e.next=8,this.addDrapedImage(t);case 8:e.t2=e.sent,e.t0.addDrapedImageToLayer.call(e.t0,e.t1,e.t2),e.next=14;break;case 12:return e.next=14,this.addDrapedImage(t,r);case 14:this.render();case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addDrapedImage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i,o,a,s,l,c,u,h,p,f,m,v,g,y,b,k,_,S;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=new gr.Vkp,o=new gr.Vkp,a=gr.ZX$.PI/180,e.t0=t.positionMode,e.next=e.t0===wr.LONLATALT_WITH_EULER_ANGLES?6:e.t0===wr.ECEF_WITH_MATRICES?45:e.t0===wr.ECEF_WITH_QUATERNIONS?49:53;break;case 6:if(n=gr.b91.fromDegrees(t.platformLocation.x,t.platformLocation.y,t.platformLocation.z),gr.yGw.getMatrix3(gr.YRB.northEastDownToFixedFrame(n),i),s=t.platformOrientation,s&&(gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(s.heading*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationY(s.pitch*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationX(s.roll*a,o),i)),l=t.gimbalOrientation,!l){e.next=42;break}c="yaw"in l?l.yaw:l.heading,u=l.pitch+90,h=l.roll,e.t1=t.gimbalEulerAngleOrder,e.next=e.t1===kr.YAW_PITCH_ROLL?18:e.t1===kr.YAW_ROLL_PITCH?22:e.t1===kr.PITCH_YAW_ROLL?26:e.t1===kr.PITCH_ROLL_YAW?30:e.t1===kr.ROLL_YAW_PITCH?34:e.t1===kr.ROLL_PITCH_YAW?38:42;break;case 18:return gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(c*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationY(u*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationX(h*a,o),i),e.abrupt("break",42);case 22:return gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(c*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationX(h*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationY(u*a,o),i),e.abrupt("break",42);case 26:return gr.Vkp.multiply(i,gr.Vkp.fromRotationY(u*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(c*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationX(h*a,o),i),e.abrupt("break",42);case 30:return gr.Vkp.multiply(i,gr.Vkp.fromRotationY(u*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationX(h*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(c*a,o),i),e.abrupt("break",42);case 34:return gr.Vkp.multiply(i,gr.Vkp.fromRotationX(h*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(c*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationY(u*a,o),i),e.abrupt("break",42);case 38:return gr.Vkp.multiply(i,gr.Vkp.fromRotationX(h*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationY(u*a,o),i),gr.Vkp.multiply(i,gr.Vkp.fromRotationZ(c*a,o),i),e.abrupt("break",42);case 42:return gr.Vkp.fromRotationZ(90*a,o),gr.Vkp.multiply(i,o,i),e.abrupt("break",54);case 45:return n=new gr.b91(t.platformLocation.x,t.platformLocation.y,t.platformLocation.z),t.platformOrientation?gr.Vkp.clone(t.platformOrientation,i):gr.Vkp.clone(gr.Vkp.IDENTITY,i),t.gimbalOrientation&&gr.Vkp.multiply(i,t.gimbalOrientation,i),e.abrupt("break",54);case 49:return n=new gr.b91(t.platformLocation.x,t.platformLocation.y,t.platformLocation.z),t.platformOrientation?gr.Vkp.fromQuaternion(t.platformOrientation,i):gr.Vkp.clone(gr.Vkp.IDENTITY,i),t.gimbalOrientation&&gr.Vkp.multiply(i,gr.Vkp.fromQuaternion(t.gimbalOrientation,new gr.Vkp),i),e.abrupt("break",54);case 53:return e.abrupt("return");case 54:if(p=t.cameraModel.camProj,f=t.cameraModel.camDistR,m=t.cameraModel.camDistT,v=t.imageSrc,g=t.snapshot,g&&(y=this.captureCanvas.getContext("2d"),y.drawImage(v,0,0,this.captureCanvas.width,this.captureCanvas.height),v=this.captureCanvas),b=gr._2c.fromCartesian(n),k=new gr.HKI({renderState:{depthTest:{enabled:!1}},material:new gr.F5T({fabric:{type:"Image",uniforms:{image:v,camPosHigh:b.high,camPosLow:b.low,camAtt:gr.Vkp.toArray(gr.Vkp.transpose(i,new gr.Vkp)),camProj:gr.Vkp.toArray(p),camDistR:f,camDistT:m}}}),vertexShaderSource:yr,fragmentShaderSource:br}),w(r)&&!g){e.next=69;break}return _=new gr.DyV({ellipsoid:gr.Hnq.WGS84,rectangle:gr.AeJ.fromDegrees(-180,-90,180,90)}),S=new gr.WV0({geometryInstances:new gr.aBy({geometry:_}),appearance:k,show:t.visible}),this.viewer.scene.primitives.add(S,0),e.abrupt("return",S);case 69:return r.appearance=k,r.show=t.visible,e.abrupt("return",r);case 72:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"removeDrapedImageFromLayer",value:function(e){this.viewer.scene.primitives.remove(e),this.render()}},{key:"updateFrustum",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w(t.origin)&&w(t.fov)&&w(t.range)&&w(t.sensorOrientation)&&w(t.platformOrientation)){e.next=2;break}return e.abrupt("return");case 2:r=this.getFrustum(t),w(r)&&(r.removeAll(),this.viewer.scene.primitives.remove(r)),this.addFrustumToLayer(t,this.addFrustum(t)),this.render();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addFrustum",value:function(e){var t,r,n=e.id+"$"+e.frustumId;switch(e.positionMode){case Ke.LONLATALT_WITH_EULER_ANGLES:t=gr.b91.fromDegrees(e.origin.x,e.origin.y,e.origin.z),gr.YRB.headingPitchRollQuaternion(t,new gr.xix(0,0,0),gr.Hnq.WGS84,gr.YRB.northEastDownToFixedFrame,this.nedQuat);var i=e.platformOrientation;gr.xix.fromDegrees(-i.heading,-i.pitch,i.roll,this.tmpHPR),gr._fP.fromHeadingPitchRoll(this.tmpHPR,this.platformQuat);var o=e.sensorOrientation;gr.xix.fromDegrees(-o.yaw,-o.pitch,o.roll,this.tmpHPR),gr._fP.fromHeadingPitchRoll(this.tmpHPR,this.sensorQuat),gr._fP.multiply(this.nedQuat,this.platformQuat,this.platformQuat),gr._fP.multiply(this.platformQuat,this.sensorQuat,this.sensorQuat),r=gr._fP.multiply(this.sensorQuat,this.camQuat,this.sensorQuat);break;case Ke.ECEF_WITH_MATRICES:t=e.origin,gr._fP.fromRotationMatrix(e.platformOrientation,this.platformQuat),gr._fP.fromRotationMatrix(e.sensorOrientation,this.sensorQuat),r=gr._fP.multiply(this.platformQuat,this.sensorQuat,new gr._fP);break;case Ke.ECEF_WITH_QUATERNIONS:t=e.origin,this.platformQuat=e.platformOrientation,this.sensorQuat=e.sensorOrientation,r=gr._fP.multiply(this.platformQuat,this.sensorQuat,new gr._fP);break;default:return}var a=new gr.snB({fov:gr.ZX$.toRadians(e.fov),aspectRatio:e.aspectRatio,near:e.near,far:e.range}),s=new gr.aBy({geometry:new gr.fuF({frustum:a,origin:t,orientation:r,vertexFormat:gr.gBM.POSITION_ONLY}),id:n}),l=new gr.WV0({geometryInstances:s,appearance:new gr.HKI({material:new gr.F5T({fabric:{type:"Color",uniforms:{color:gr.Ilk.fromCssColorString(e.color).withAlpha(e.opacity)}}})}),asynchronous:!1,show:e.visible}),c=new gr.mL8;return c.add(l),this.viewer.scene.primitives.add(c),c}},{key:"removeFrustumFromLayer",value:function(e){w(e)&&(e.removeAll(),this.viewer.scene.primitives.remove(e),this.render())}}]),r}(at),Sr=_r,xr=(r(70189),r(93024));function Tr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set(["Quantity","Time","Category","Count","Boolean","DataChoice","DataArray","Text"]),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Set(["elementCount","elementType"]),a=n,s=Array.isArray(t)?e:t;for(var l in t){var c=t[l];if(o.has(l))break;if("Vector"!==c&&"DataRecord"!==c||"name"in t&&(a+="/".concat(t.name)),i.has(c)){var d=(0,xr.Y)(t);d.path=a+"/".concat(t.name),!("label"in d)&&"label"in e&&(d.label=e.label),r.push(d)}else if("object"===(0,y.Z)(c))Tr(s,c,r,a,i,o);else if(Array.isArray(c)){var h,p=(0,u.Z)(c);try{for(p.s();!(h=p.n()).done;){var f=h.value;Tr(s,f,r,a,i,o)}}catch(m){p.e(m)}finally{p.f()}}}}var Ir=r(58661),Cr=(r(64765),-1),Er=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,e,n),i.interval=-1,i.lastReceiveTime=0,i.extraUrl="",i.reconnectRetry=n&&n.reconnectRetry||10,i}return(0,v.Z)(r,[{key:"doRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.extraUrl,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.queryString;if(!this.init){this.extraUrl=t,this.queryString=r;var n=this.getUrl()+t;w(r)&&(n+="?"+r),this.closed=!1,this.init=!0,this.ws=new WebSocket(n),this.ws.binaryType="arraybuffer",this.checkStatus(le.CONNECTING),console.warn("WebSocket stream connecting"),this.ws.onopen=function(e){this.checkAndClearReconnection(),this.checkStatus(le.CONNECTED),console.warn("WebSocket stream connected")}.bind(this),this.ws.onmessage=function(e){this.lastReceiveTime=Date.now(),e.data.byteLength>0&&this.onMessage(e.data)}.bind(this),this.ws.onerror=function(e){console.error("WebSocket stream error"),this.checkStatus(le.CLOSED_ERROR),this.init=!1,this.lastReceiveTime=-1,this.createReconnection(),this.onError(e)}.bind(this),this.ws.onclose=function(t){console.warn("WebSocket stream closed: ",t.reason,t.code),1e3===t.code||e.closed?e.checkStatus(le.DISCONNECTED):(e.checkStatus(le.CLOSED_ERROR),e.createReconnection()),e.onClose(t.code)},-1!==this.reconnectionInterval&&(clearInterval(this.reconnectionInterval),this.reconnectionInterval=-1)}}},{key:"doAsyncRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.extraUrl,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.queryString;return new Promise(function(){var n=(0,h.Z)((0,d.Z)().mark((function n(i,o){var a,s;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.init||(e.extraUrl=t,e.queryString=r,a=e.getUrl()+t,w(r)&&(a+="?"+r),e.closed=!1,e.init=!0,e.ws=new WebSocket(a),e.ws.binaryType="arraybuffer",e.checkStatus(le.CONNECTING),console.warn("WebSocket stream connecting"),s=[],e.ws.onopen=function(e){this.checkAndClearReconnection(),this.checkStatus(le.CONNECTED),console.warn("WebSocket stream connected")}.bind(e),e.ws.onmessage=function(e){this.lastReceiveTime=Date.now(),e.data.byteLength>0&&s.push(e.data)}.bind(e),e.ws.onerror=function(e){console.error("WebSocket stream error"),this.checkStatus(le.CLOSED_ERROR),this.init=!1,this.lastReceiveTime=-1,this.createReconnection(),this.onError(e),o("onError WS: ".concat(e))}.bind(e),e.ws.onclose=function(t){console.warn("WebSocket stream closed: ",t.reason,t.code),1e3===t.code||e.closed?e.checkStatus(le.DISCONNECTED):(e.checkStatus(le.CLOSED_ERROR),e.createReconnection()),e.onClose(t.code),i(s)},-1!==e.reconnectionInterval&&(clearInterval(e.reconnectionInterval),e.reconnectionInterval=-1));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"connect",value:function(){this.doRequest()}},{key:"publishRequest",value:function(e,t){w(this.ws)&&this.ws.send(t)}},{key:"checkAndClearReconnection",value:function(){-1!==Cr&&(clearInterval(Cr),Cr=-1)}},{key:"createReconnection",value:function(){if(!this.closed&&-1===Cr&&this.onReconnect()){var e=0,t=this.url;Cr=setInterval(function(){var r=Date.now()-this.lastReceiveTime;if(-1===this.lastReceiveTime||r>=this.reconnectTimeout)if(e++>=this.reconnectRetry)console.warn("Maximum reconnection retries attempted: ".concat(this.reconnectRetry)),clearInterval(Cr);else{var n=t;w(this.extraUrl)&&(n+=this.extraUrl),w(this.queryString)&&(n+="?"+this.queryString),console.warn("(".concat(e,"/").concat(this.reconnectRetry,") trying to reconnect: ").concat(n)),this.init=!1,this.connect()}}.bind(this),this.reconnectTimeout)}}},{key:"disconnect",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.init=!1,this.closed=!0,null!=this.ws&&this.ws.readyState!==WebSocket.CLOSED&&this.ws.close();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onMessage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isConnected",value:function(){return null!=this.ws&&this.ws.readyState===WebSocket.OPEN}}]),r}(ue),Zr=Er,Dr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,e,n),i.lastReceiveTime=-1,i.interval=-1,i.broadcastChannel=new BroadcastChannel(e),i.broadcastChannel.onmessage=function(e){e.data.topic===i.fullTopic&&i.onMessage(e.data.data)},i.topics=[],i}return(0,v.Z)(r,[{key:"doRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.fullTopic=e+"?"+t,this.broadcastChannel.postMessage({message:"subscribe",connectorId:this.id,topic:e,queryString:t}),this.topics.push(e),this.onChangeStatus(le.CONNECTED)}},{key:"disconnect",value:function(){this.fullDisconnect(!0)}},{key:"fullDisconnect",value:function(e){if(null!=this.broadcastChannel){var t,r=(0,u.Z)(this.topics);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.broadcastChannel.postMessage({message:"unsubscribe",connectorId:this.id,topic:n})}}catch(i){r.e(i)}finally{r.f()}this.broadcastChannel.close(),this.broadcastChannel=null,this.topics=[]}e&&clearInterval(this.interval),this.opened=!1}},{key:"reconnect",value:function(){this.onReconnect(),this.init&&this.fullDisconnect(!1),this.connect()}},{key:"onMessage",value:function(e){}},{key:"close",value:function(){this.disconnect()}},{key:"isConnected",value:function(){return null!==this.broadcastChannel&&this.opened}},{key:"checkStatus",value:function(e){this.onChangeStatus(e),this.status=e}}]),r}(ue),Ar=Dr,Pr=function(){function e(t){(0,m.Z)(this,e),I(t.endpointUrl,"endpointUrl"),this.networkProperties=t;var r=t.endpointUrl;r.endsWith("/")&&(r=r.substring(0,r.length-1));var n=t.tls?"s":"";this.url="http"+n+"://"+r,this._network={},w(t.connector)?this._network.stream={connector:t.connector}:w(t.streamProtocol)?this._network.stream={connector:this.createStreamConnector(t)}:this._network.stream={connector:this.createStreamConnector((0,c.Z)((0,c.Z)({},t),{},{streamProtocol:"ws"}))}}return(0,v.Z)(e,[{key:"baseUrl",value:function(){return this.url}},{key:"stream",value:function(){return this._network.stream.connector}},{key:"createStreamConnector",value:function(e){I(e.streamProtocol,"streamProtocol");var t=e.endpointUrl;"mqtt"===e.streamProtocol&&w(e.mqttOpts)&&(t=e.mqttOpts.endpointUrl),t.endsWith("/")&&(t=t.substring(0,t.length-1));var r=e.tls?"s":"",n=e.streamProtocol+r+"://"+t;return"mqtt"===e.streamProtocol?new Ar(e.mqttOpts.bcId,e):"ws"===e.streamProtocol?new Zr(n):void 0}},{key:"connect",value:function(){this._network.stream.connector.connect()}},{key:"getHeaders",value:function(){var e={};if("connectorOpts"in this.networkProperties)if("username"in this.networkProperties.connectorOpts&&"password"in this.networkProperties.connectorOpts)e["Authorization"]="Basic "+btoa(this.networkProperties.connectorOpts.username+":"+this.networkProperties.connectorOpts.password);else for(var t in this.networkProperties.connectorOpts)e[t]=this.networkProperties.connectorOpts[t];return e}},{key:"fetchAsJson",value:function(e,t){var r=this.baseUrl()+e+"?"+t,n=this.getHeaders();return fetch(r,{method:"GET",headers:n}).then((function(e){if(!e.ok){var t=new Error("Got ".concat(e.status," response from ").concat(this.baseUrl()));throw t.response=e,t}return e.json()}))}},{key:"postAsJson",value:function(e,t){var r=this.baseUrl()+e,n=this.getHeaders();n["Accept"]="application/json",n["Content-Type"]="application/json",fetch(r,{method:"POST",headers:n,credentials:"include",body:t}).then((function(e){if(!e.ok){var t=new Error("Got ".concat(e.status," response from ").concat(r));throw t.response=e,t}}))}}]),e}(),Mr=Pr,Or=(r(18264),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/json";(0,m.Z)(this,e),this.format=t}return(0,v.Z)(e,[{key:"parseData",value:function(e){if("application/om+json"===this.format||"application/json"===this.format)return this.parseOmJsonData(e);if("application/swe+json"===this.format)return this.parseSweJsonData(e);if("application/swe+csv"===this.format)return this.parseSweCsv(e);if("application/swe+xml"===this.format)return this.parseSweXml(e);throw Error("Unsupported collection format ".concat(this.format))}},{key:"parseOmJsonData",value:function(e){return e instanceof ArrayBuffer?JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))).items:e.items}},{key:"parseSweJsonData",value:function(e){return e instanceof ArrayBuffer?JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))):e}},{key:"parseSweCsv",value:function(e){var t=e instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint8Array(e)):e;return t.split("\n")}},{key:"parseSweXml",value:function(e){return e instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint8Array(e)):e}}]),e}()),Rr=Or,Lr=function(){function e(t,r,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json";(0,m.Z)(this,e),this.url=t,this.filter=r,this.pageSize=n,this.parser=i,this.pageOffset=0,this.init=!1,this.total=0,this.collectionDataParser=new Rr(r.props.format),this.responseFormat=o,this.currentPage=-1}return(0,v.Z)(e,[{key:"hasNext",value:function(){return-1!==this.pageOffset}},{key:"fetchData",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="".concat(this.filter.toQueryString(),"&offset=").concat(t,"&limit=").concat(this.pageSize),n=this.url+"?"+r,e.next=4,fetch(n,{method:"GET",headers:{}}).then((function(e){if(!e.ok){var t=new Error("Got ".concat(e.status," response from ").concat(n));throw t.response=e,t}return"json"===o.responseFormat?e.json():"arraybuffer"===o.responseFormat?e.arrayBuffer():void 0}));case 4:return i=e.sent,e.abrupt("return",this.parseResponse(i));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseResponse",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.collectionDataParser.parseData(t),n=[],Array.isArray(r)){i=(0,u.Z)(r);try{for(i.s();!(o=i.n()).done;)a=o.value,n.push(this.parser.parseData(a))}catch(s){i.e(s)}finally{i.f()}}else n.push(r);return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"nextPage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasNext()){e.next=10;break}return this.currentPage++,this.pageOffset=this.currentPage*this.pageSize,e.next=5,this.fetchData(this.pageOffset);case 5:return t=e.sent,(0===t.length||t.length<this.pageSize)&&(this.pageOffset=-1),e.abrupt("return",t);case 10:throw Error("Has no more pages");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"page",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,this.pageOffset=this.currentPage*this.pageSize,e.next=4,this.fetchData(this.pageOffset);case 4:return r=e.sent,(0===r.length||r.length<this.pageSize)&&(this.pageOffset=-1),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"previousPage",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasPrevious()){e.next=6;break}return this.currentPage--,this.pageOffset=this.currentPage*this.pageSize,e.abrupt("return",this.fetchData(this.pageOffset));case 6:throw Error("Has no more pages");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasPrevious",value:function(){return this.currentPage>0}}]),e}(),jr=Lr,zr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({q:void 0,bbox:void 0,location:void 0,parent:void 0,select:void 0,format:"application/json",validTime:void 0},e))}return(0,v.Z)(r)}(ge),Br=zr,Fr={datastreams:{search:"/datastreams",by_id:"/datastreams/{id}",observations:"/datastreams/{id}/observations",schema:"/datastreams/{id}/schema"},systems:{search:"/systems",by_id:"/systems/{sysid}",details:"/systems/{sysid}/details",fois:"/systems/{sysid}/featuresOfInterest",members:"/systems/{sysid}/members",datastreams:"/systems/{sysid}/datastreams",history_ver:"/systems/{sysid}/history/{ver}",control_by_id:"/systems/{sysid}/controls/{dsid}",controls:"/systems/{sysid}/controls",events:"/systems/{sysid}/events",history:"/systems/{sysid}/history"},controls:{commands:"/systems/{sysid}/controls/{dsid}/commands",command_by_id:"/systems/{sysid}/controls/{dsid}/commands/{cmdid}",status:"/systems/{sysid}/controls/{dsid}/status",schema:"/systems/{sysid}/controls/{dsid}/schema"},commands:{status:"/systems/{sysid}/controls/{dsid}/commands/{cmdid}/status"},observations:{search:"/observations",by_id:"/observations/{id}"},fois:{search:"/featuresOfInterest",by_id:"/featuresOfInterest/{id}"}},Wr=Fr,Ur=function(){function e(t){(0,m.Z)(this,e),this.networkProperties=t}return(0,v.Z)(e,[{key:"parseData",value:function(e){}}]),e}(),Vr=Ur,Nr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({q:void 0,bbox:void 0,location:void 0,observedProperty:void 0,featureOfInterest:void 0,select:void 0,format:"application/json",obsFormat:"application/om+json",validTime:void 0,phenomenonTime:void 0,resultTime:void 0},e))}return(0,v.Z)(r)}(ge),qr=Nr,Hr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({q:void 0,bbox:void 0,location:void 0,validTime:void 0,parent:void 0,select:void 0,featureOfInterest:void 0,format:"application/json"},e))}return(0,v.Z)(r)}(ge),Yr=Hr,Kr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({q:void 0,actuableProperty:void 0,observedProperty:void 0,issueTime:void 0,select:void 0,format:"application/json"},e))}return(0,v.Z)(r)}(ge),Gr=Kr,$r=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({q:void 0,eventTime:void 0,eventType:void 0,select:void 0,format:"application/json"},e))}return(0,v.Z)(r)}(ge),Qr=$r,Xr=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({select:void 0,validTime:void 0,format:"application/json"},e))}return(0,v.Z)(r)}(ge),Jr=Xr,en=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n,i,o){return(0,m.Z)(this,r),t.call(this,e,n,i,o,"arraybuffer")}return(0,v.Z)(r,[{key:"parseResponse",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.parser.parseDataBlock(t,this.filter.props.format));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(jr),tn=en,rn=(r(26833),function(){function e(){(0,m.Z)(this,e),this.stack=[],this.time=void 0,this.idRef=void 0}return(0,v.Z)(e,[{key:"init",value:function(e,t,r){this.props=t,this.name=e.name,this.path=r,this.checkTime(e),this.checkId(e),this.build(e)}},{key:"parseElement",value:function(e,t){var r;w(t)&&(this.path=t),w(this.path)&&this.path in this.props.refs?r=new nn(this.props.refs[this.path]):e.name in this.props.refs?r=new nn(this.props.refs[e.name]):e.type in this.props.registeredParser?r=this.props.registeredParser[e.type]():e.hasOwnProperty("href")?r="href"in this.props.registeredParser?this.props.registeredParser["href"]():new ln:"DataRecord"===e.type?r=new on(e,this.props):"Vector"===e.type?r=new sn(e,this.props):"DataArray"===e.type&&(r=new an(e,this.props)),r&&(r.init(e,this.props,this.path),this.stack.push(r))}},{key:"build",value:function(e){}},{key:"parse",value:function(e,t,r){var n,i=(0,u.Z)(this.stack);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.parse(e,t,r)}}catch(a){i.e(a)}finally{i.f()}}},{key:"checkId",value:function(e){"id"in e&&(this.idRef=e["id"],this.props.nodesId[this.idRef]=this)}},{key:"checkIdValue",value:function(e){this.idRef&&(this.props.nodesIdValue[this.idRef]=e)}},{key:"checkTime",value:function(e){}},{key:"getTimePropertyName",value:function(){if(!this.time){var e,t=(0,u.Z)(this.stack);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(this.time=r.getTimePropertyName(),this.time)break}}catch(n){t.e(n)}finally{t.f()}}return this.time}},{key:"splitRefName",value:function(e){var t=e.split("/");return t.length>0?t[t.length-1]:e}}]),e}()),nn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this),n.parser=e,n}return(0,v.Z)(r,[{key:"build",value:function(e){this.parser&&this.parser.name&&(this.name=this.parser.name)}},{key:"parse",value:function(e,t,r){this.parser.parse(e,t,r)}}]),r}(rn),on=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){var t=void 0;if(e.hasOwnProperty("fields")?t="fields":e.hasOwnProperty("field")&&(t="field"),t){var r=this.path?this.path+"/":"/";if(Array.isArray(e[t])){var n,i=(0,u.Z)(e[t]);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.parseElement(o,r+o.name)}}catch(a){i.e(a)}finally{i.f()}}else this.parseElement(e[t],r+e[t].name)}}},{key:"parse",value:function(e,t,n){if(this.name){var i,o={},a=(0,u.Z)(this.stack);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.parse(e,t,o)}}catch(l){a.e(l)}finally{a.f()}n[this.name]=o}else(0,oe.Z)((0,ae.Z)(r.prototype),"parse",this).call(this,e,t,n)}}]),r}(rn),an=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){this.parseElement(e["elementCount"]),this.parseElement(e["elementType"])}},{key:"parse",value:function(e,t,r){var n={};this.stack[0].parse(e,t,n);for(var i=Object.values(n)[0],o=this.stack[1],a=[],s=0;s<i;s++){var l={};o.parse(e,t,l),a.push(l)}r[this.name]=a}}]),r}(rn),sn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){var t="coordinates";"coordinate"in e&&(t="coordinate");var r,n=this.path?this.path+"/":"/",i=(0,u.Z)(e[t]);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.parseElement(o,n+o.name)}}catch(a){i.e(a)}finally{i.f()}}},{key:"parse",value:function(e,t,r){var n,i={},o=(0,u.Z)(this.stack);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.parse(e,t,i)}}catch(s){o.e(s)}finally{o.f()}r[this.name]=i}}]),r}(rn),ln=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){var t=e.href;if("#"!==t[0])throw Error("Href should start with #: ".concat(t));var r=t.slice(1);if(!(r in this.props.nodesId))throw Error("id ".concat(r," not found in the id Tree"));this.id=r,this.parser=this.props.nodesId[r]}},{key:"parse",value:function(e,t,r){this.id in this.props.nodesIdValue?r[this.parser.name]=this.props.nodesIdValue[this.id]:this.parser.parse(e,t,r)}}]),r}(rn),cn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r)}(rn),un=cn,dn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){this.parseElement(e)}}]),r}(rn),hn=dn,pn=function(){function e(t,r){(0,m.Z)(this,e),this.textDecoder=new TextDecoder,this.nodesId={},this.parsers=[],this.count=0,this.props=r,this.parser=new hn}return(0,v.Z)(e,[{key:"decode",value:function(e){if(e instanceof ArrayBuffer)return JSON.parse(this.textDecoder.decode(e));try{return JSON.parse(e)}catch(t){return e}}}]),e}(),fn=pn,mn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parse",value:function(e,t,r){var n=e.nextToken(this.path);r[this.name]=new Date(n).toISOString()}},{key:"checkTime",value:function(e){!("definition"in e)||"http://www.opengis.net/def/property/OGC/0/SamplingTime"!==e["definition"]&&"http://www.opengis.net/def/property/OGC/0/PhenomenonTime"!==e["definition"]||(this.time=this.name)}}]),r}(rn),vn=mn,gn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeShift:0};return(0,m.Z)(this,r),n=t.call(this,e,(0,c.Z)({nodesId:{},nodesIdValue:{},registeredParser:{Time:function(){return new vn},Category:function(){return new un},Quantity:function(){return new un},Count:function(){return new un},Boolean:function(){return new un},DataChoice:function(){return new un}},refs:{}},i)),n.parser.init(e,n.props),n}return(0,v.Z)(r,[{key:"getTimeField",value:function(){return this.parser.getTimePropertyName()}},{key:"parseDataBlock",value:function(e){var t;if(e instanceof ArrayBuffer)t=JSON.parse(this.textDecoder.decode(e));else try{t=JSON.parse(e)}catch(o){t=e}if(Array.isArray(t)){var r,n=(0,u.Z)(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;i["timestamp"]=new Date(i[this.getTimeField()]).getTime()+this.props.timeShift}}catch(a){n.e(a)}finally{n.f()}return t}return t["timestamp"]=new Date(t[this.getTimeField()]).getTime()+this.props.timeShift,[t]}}]),r}(fn),yn=gn,bn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r,[{key:"getTimeField",value:function(){return"phenomenonTime"}}]),r}(yn),wn=bn,kn=function(){function e(t){(0,m.Z)(this,e),this.dataObject=t,this.parsers={"application/om+json":{schemaPromise:void 0,parser:void 0},"application/swe+json":{schemaPromise:void 0,parser:void 0},"application/swe+xml":{schemaPromise:void 0,parser:void 0},"application/swe+csv":{schemaPromise:void 0,parser:void 0},"application/swe+binary":{schemaPromise:void 0,parser:void 0}}}return(0,v.Z)(e,[{key:"checkParser",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n=this;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t in this.parsers){e.next=2;break}throw new Error("Not support format ".concat(t));case 2:if(r=this.parsers[t],w(r.parser)){e.next=10;break}return w(r.schemaPromise)||(this.parsers[t].schemaPromise=new Promise(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(r,i){var o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.dataObject.getSchema(new ge({obsFormat:t}));case 3:o=e.sent,n.init(o,t),r(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())),e.next=7,r.schemaPromise;case 7:return e.abrupt("return",this.parsers[t].parser);case 10:return e.abrupt("return",r.parser);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(e,t){throw new Error("Unsupported Operation")}},{key:"parseDataBlock",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"application/om+json",e.next=3,this.checkParser(r);case 3:return n=e.sent,e.abrupt("return",n.parseDataBlock(t));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),_n=kn,Sn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r)}(yn),xn=Sn,Tn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){}},{key:"parseElement",value:function(e){}},{key:"parse",value:function(e,t,r){}},{key:"init",value:function(e,t,r){}}]),r}(rn),In=Tn,Cn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){var t="member";"members"in e&&(t="members");var r,n=(0,u.Z)(e[t]);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.parseElement(i)}}catch(o){n.e(o)}finally{n.f()}}}]),r}(rn),En=Cn,Zn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){this.parseElement(e)}}]),r}(rn),Dn=Zn,An=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,[{key:"decode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getFloat64(t,r)}},{key:"length",value:function(){return 8}}]),e}(),Pn=An,Mn=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,[{key:"decode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getUint32(t,r)}},{key:"length",value:function(){return 4}}]),e}(),On=Mn,Rn=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,[{key:"decode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getInt16(t,r)}},{key:"length",value:function(){return 2}}]),e}(),Ln=Rn,jn=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,[{key:"decode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getFloat32(t,r)}},{key:"length",value:function(){return 4}}]),e}(),zn=jn,Bn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this),n.refs={},n.binaryDataTypeDecoder=e,n}return(0,v.Z)(r,[{key:"build",value:function(e){this.name=this.splitRefName(e.ref),"http://www.opengis.net/def/dataType/OGC/0/double"===e.dataType?this.refs[e.ref]=new Pn:"http://www.opengis.net/def/dataType/OGC/0/signedInt"===e.dataType?this.refs[e.ref]=new On:"http://www.opengis.net/def/dataType/OGC/0/signedShort"===e.dataType?this.refs[e.ref]=new Ln:"http://www.opengis.net/def/dataType/OGC/0/float32"===e.dataType&&(this.refs[e.ref]=new zn),e.ref in this.refs&&this.binaryDataTypeDecoder.addRef(e.ref,this.refs[e.ref])}}]),r}(rn),Fn=Bn,Wn=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,[{key:"decode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.getUint32(t,r),i=new Uint8Array(e.buffer.slice(t+4,t+4+n));return this.length=function(){return n+4},i}},{key:"length",value:function(){return 0}}]),e}(),Un=Wn,Vn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this),n.binaryDataTypeDecoder=e,n}return(0,v.Z)(r,[{key:"build",value:function(e){for(var t in this.staticProps={},e)"ref"!==t&&"type"!==t&&(this.staticProps[t]=e[t]);this.name=this.splitRefName(e.ref),this.path=e.ref,this.props.refs[e.ref]=this,this.binaryDataTypeDecoder.addRef(e.ref,new Un),this.binaryDataTypeDecoder.hasBlock=!0}},{key:"parse",value:function(e,t,r){var n={data:e.nextToken(this.path)};for(var i in this.staticProps)n[i]=this.staticProps[i];r[this.name]=n}}]),r}(rn),Nn=Vn,qn=function(){function e(t){(0,m.Z)(this,e),this.props=t}return(0,v.Z)(e,[{key:"init",value:function(){}},{key:"setData",value:function(e){this.data=e,this.init()}},{key:"checkInit",value:function(){throw Error("Unsupported Operation")}},{key:"nextToken",value:function(){throw Error("Unsupported Operation")}},{key:"hasNextBlock",value:function(){throw Error("Unsupported Operation")}}]),e}(),Hn=qn,Yn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.decoders={},n.componentsLength=0,n}return(0,v.Z)(r,[{key:"init",value:function(){this.data=new DataView(this.data),this.componentIdx=0,this.tokenOffset=0}},{key:"nextToken",value:function(e){var t=this.decoders[e],r=t.decode(this.data,this.tokenOffset,this.props.littleEndian);return this.tokenOffset+=t.length(),r}},{key:"hasNextBlock",value:function(){return this.tokenOffset<this.data.buffer.byteLength}},{key:"addRef",value:function(e,t){this.decoders[e]=t,this.componentsLength+=t.length()}}]),r}(Hn),Kn=Yn,Gn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parse",value:function(e,t,r){r[this.name]=e.nextToken(this.path)}}]),r}(rn),$n=Gn,Qn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parse",value:function(e,t,r){var n,i=e.nextToken(this.path);n="INF"===i||"+INF"===i?Number.POSITIVE_INFINITY:"-INF"===i?Number.NEGATIVE_INFINITY:parseFloat(i),r[this.name]=n}}]),r}(rn),Xn=Qn,Jn=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){"value"in e&&(this.value=parseInt(e["value"]))}},{key:"parse",value:function(e,t,n){var i=this.value?this.value:parseInt(e.nextToken(this.path));(0,oe.Z)((0,ae.Z)(r.prototype),"checkIdValue",this).call(this,i),n[this.name]=i}}]),r}(rn),ei=Jn,ti=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parse",value:function(e,t,r){var n=e.nextToken(this.path);r[this.name]="0"===n||"true"===n.toLowerCase()}}]),r}(rn),ri=ti,ni=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"build",value:function(e){var t=void 0;e.hasOwnProperty("items")?t="items":e.hasOwnProperty("item")&&(t="item"),this.itemToParserMap={};var r,n=(0,u.Z)(e[t]);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.parseElement(i)}}catch(l){n.e(l)}finally{n.f()}var o,a=(0,u.Z)(this.stack);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.itemToParserMap[s.name]=s}}catch(l){a.e(l)}finally{a.f()}}},{key:"parse",value:function(e,t,r){throw new Error("Unsupported Operation")}}]),r}(rn),ii=ni,oi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parse",value:function(e,t,r){var n=e.nextToken(this.path);this.itemToParserMap[n].parse(e,t,r)}}]),r}(ii),ai=oi,si=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.call(this)}return(0,v.Z)(r,[{key:"parse",value:function(e,t,r){var n=e.nextToken(this.path);r[this.name]=new Date(1e3*n).toISOString()}}]),r}(vn),li=si,ci=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timeShift:0};(0,m.Z)(this,r),i=t.call(this,e,(0,c.Z)({nodesId:{},nodesIdValue:{},registeredParser:{},refs:{}},o)),i.resultEncoding=n,i.binaryDataTypeDecoder=new Kn((0,c.Z)((0,c.Z)({},n),{},{littleEndian:"littleEndian"===n.byteOrder}));var a={nodesId:{},nodesIdValue:{},registeredParser:{member:function(){return new Dn},Component:function(){return new Fn(i.binaryDataTypeDecoder)},Block:function(){return new Nn(i.binaryDataTypeDecoder)},BinaryEncoding:function(){return new En}},refs:{}},s=new hn;return s.init(n,a),i.props.registeredParser={Time:function(){return new li},Category:function(){return new $n},Quantity:function(){return new Xn},Count:function(){return new ei},Boolean:function(){return new ri},DataChoice:function(){return new ai},href:function(){return new In}},i.parser.init(e,(0,c.Z)((0,c.Z)({},i.props),{},{refs:a.refs}),""),i}return(0,v.Z)(r,[{key:"parseDataBlock",value:function(e){this.binaryDataTypeDecoder.setData(e);var t=[];while(this.binaryDataTypeDecoder.hasNextBlock()){var r={};this.parser.parse(this.binaryDataTypeDecoder,{},r),r["timestamp"]=new Date(r[this.parser.getTimePropertyName()]).getTime()+this.props.timeShift,t.push(r)}return t}}]),r}(fn),ui=ci,di=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){return(0,m.Z)(this,r),t.call(this,e,n)}return(0,v.Z)(r)}(ui),hi=di,pi=(r(23123),function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,(0,c.Z)({blockSeparator:" ",collapseWhiteSpaces:!0,decimalSeparator:".",tokenSeparator:","},e)),n.init(),n}return(0,v.Z)(r,[{key:"init",value:function(){this.blocks=[],this.blocksIdx=-1,this.tokens=[],this.tokensIdx=0}},{key:"checkInit",value:function(){-1===this.blocksIdx&&(this.blocks=this.data.split(this.props.blockSeparator),this.blocksIdx=0)}},{key:"nextToken",value:function(){if(this.checkInit(),this.tokensIdx>=this.tokens.length){if(0===this.blocks.length||this.blocksIdx>=this.blocks.length)return null;this.tokens=this.blocks[this.blocksIdx++].split(this.props.tokenSeparator),this.tokensIdx=0}return this.tokens[this.tokensIdx++]}},{key:"hasNextBlock",value:function(){return this.checkInit(),this.blocks.length>0&&this.blocksIdx<this.blocks.length&&""!==this.blocks[this.blocksIdx]}}]),r}(Hn)),fi=pi,mi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timeShift:0};return(0,m.Z)(this,r),i=t.call(this,e,(0,c.Z)({nodesId:{},nodesIdValue:{},registeredParser:{},refs:{}},o)),i.resultEncoding=n,i.textDataTypeDecoder=new fi(i.resultEncoding),i.props.registeredParser={Time:function(){return new vn},Category:function(){return new $n},Quantity:function(){return new Xn},Count:function(){return new ei},Boolean:function(){return new ri},DataChoice:function(){return new ai}},i.parser.init(e,i.props,""),i}return(0,v.Z)(r,[{key:"parseDataBlock",value:function(e){var t;t=e instanceof ArrayBuffer?this.textDecoder.decode(e):e,this.textDataTypeDecoder.setData(t);var r=[];while(this.textDataTypeDecoder.hasNextBlock()){var n={};this.parser.parse(this.textDataTypeDecoder,{},n),n["timestamp"]=new Date(n[this.parser.getTimePropertyName()]).getTime()+this.props.timeShift,r.push(n)}return r}}]),r}(fn),vi=mi,gi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){return(0,m.Z)(this,r),t.call(this,e,n)}return(0,v.Z)(r)}(vi),yi=gi,bi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r,[{key:"init",value:function(e,t){if(t in this.parsers&&w(this.parsers[t].parser))return this.parsers[t].parser;if("application/om+json"===t)this.parsers[t].parser=new wn(e.resultSchema);else if("application/swe+json"===t)this.parsers[t].parser=new xn(e.recordSchema);else if("application/swe+binary"===t)this.parsers[t].parser=new hi(e.recordSchema,e.recordEncoding);else{if("application/swe+csv"!==t)throw Error("Not supported parser format: ".concat(t));this.parsers[t].parser=new yi(e.recordSchema,e.recordEncoding)}}}]),r}(_n),wi=bi,ki=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r,[{key:"getTimeField",value:function(){return"phenomenonTime"}},{key:"parseDataBlock",value:function(e){var t,r=this.textDecoder.decode(e),n=JSON.parse(r),i=[],o=(0,u.Z)(n.items);try{for(o.s();!(t=o.n()).done;){var a=t.value;a["timestamp"]=new Date(a[this.getTimeField()]).getTime(),i.push(a)}}catch(s){o.e(s)}finally{o.f()}return i}}]),r}(wn),_i=ki,Si=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r,[{key:"init",value:function(e,t){if("application/om+json"===t)this.parsers[t].parser=new _i(e.resultSchema);else{if("application/swe+xml"===t)throw new Error("Format not supported ".concat(t));(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,e,t)}}}]),r}(wi),xi=Si,Ti=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,n),i.properties=e,i.sweApiResultParser=new wi((0,dt.Z)(i)),i.sweApiResultCollectionDatastreamParser=new xi((0,dt.Z)(i)),i}return(0,v.Z)(r,[{key:"streamObservations",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new be,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.stream().onMessage=function(){var n=(0,h.Z)((0,d.Z)().mark((function n(i){var o;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.sweApiResultParser.parseDataBlock(i,t.props.format);case 2:o=n.sent,r(o);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.stream().doRequest(Wr.datastreams.observations.replace("{id}",this.properties.id),t.toQueryString([],["phenomenonTime"]),"arraybuffer")}},{key:"searchObservations",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new be,r=n.length>1&&void 0!==n[1]?n[1]:10,n.length>2&&void 0!==n[2]?n[2]:this.sweApiResultParser,e.abrupt("return",new tn(this.baseUrl()+Wr.datastreams.observations.replace("{id}",this.properties.id),t,r,this.sweApiResultCollectionDatastreamParser));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSchema",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:new qr,r=Wr.datastreams.schema.replace("{id}",this.properties.id),n=t.toQueryString(["select","obsFormat"]),e.abrupt("return",this.fetchAsJson(r,n));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(Mr),Ii=Ti,Ci=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parseData",value:function(e){return new Ii(e,(0,c.Z)({streamProtocol:"ws"},this.networkProperties))}}]),r}(Vr),Ei=Ci,Zi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,n),i.properties=e,i}return(0,v.Z)(r)}(Mr),Di=Zi,Ai=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parseData",value:function(e){return new Di((0,c.Z)((0,c.Z)({},e),{},{geometry:e.geometry||void 0,bbox:e.bbox||void 0}),this.networkProperties)}}]),r}(Vr),Pi=Ai,Mi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parseData",value:function(e){return new Event(e,this.networkProperties)}}]),r}(Vr),Oi=Mi,Ri=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,(0,c.Z)({q:void 0,actuableProperty:void 0,select:void 0,format:"application/json",issueTime:void 0,executionTime:void 0,reportTime:void 0,statusCode:void 0},e))}return(0,v.Z)(r)}(ge),Li=Ri,ji=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r,[{key:"init",value:function(e,t){if("application/om+json"===t)this.parsers[t].parser=new wn(e.commandSchema);else if("application/swe+json"===t)this.parsers[t].parser=new xn(e.commandSchema);else if("application/swe+binary"===t)this.parsers[t].parser=new hi(e.commandSchema,e.commandEncoding);else{if("application/swe+csv"!==t)throw Error("Not supported parser format: ".concat(t));this.parsers[t].parser=new yi(e.commandSchema,e.commandEncoding)}}}]),r}(_n),zi=ji,Bi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,n),i.properties=e,i.jsonParser=new Rr(n),i.sweParser=new zi((0,dt.Z)(i)),i}return(0,v.Z)(r,[{key:"searchStatus",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Li,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.commands.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties["control@id"]).replace("{cmdid}",this.properties.id),t,r,this.jsonParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"streamStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Li,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.stream().onMessage=function(){var n=(0,h.Z)((0,d.Z)().mark((function n(i){var o;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.sweParser.parseDataBlock(i,t.props.format);case 2:o=n.sent,r(o);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.stream().doRequest(Wr.commands.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties["control@id"]).replace("{cmdid}",this.properties.id),t.toQueryString(),"arraybuffer")}}]),r}(Mr),Fi=Bi,Wi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,e),i.systemId=n,i}return(0,v.Z)(r,[{key:"parseData",value:function(e){return new Fi((0,c.Z)((0,c.Z)({},e),{},{systemId:this.systemId}),this.networkProperties)}}]),r}(Vr),Ui=Wi,Vi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){return(0,m.Z)(this,r),t.call(this,e)}return(0,v.Z)(r,[{key:"init",value:function(e,t){if("application/swe+binary"===t)throw new Error("Format not supported ".concat(t));if("application/swe+xml"===t)throw new Error("Format not supported ".concat(t));(0,oe.Z)((0,ae.Z)(r.prototype),"init",this).call(this,e,t)}}]),r}(zi),Ni=Vi,qi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.textDecoder=new TextDecoder,n}return(0,v.Z)(r,[{key:"parseData",value:function(e,t){var r;return r="arraybuffer"===t?this.textDecoder.decode(e):JSON.parse(e),JSON.parse(r)}}]),r}(Vr),Hi=qi,Yi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,n),i.properties=e,i.commandParser=new Ui(n,i.properties["system@id"]),i.sweApiResultCollectionControlParser=new Ni((0,dt.Z)(i)),i.sweApiResultControlParser=new zi((0,dt.Z)(i)),i.sweApiControlStatusParser=new Hi,i}return(0,v.Z)(r,[{key:"searchCommands",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Li,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new tn(this.baseUrl()+Wr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),t,r,this.sweApiResultCollectionControlParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"streamCommands",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gr,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.stream().onMessage=function(){var n=(0,h.Z)((0,d.Z)().mark((function n(i){var o;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.sweApiResultControlParser.parseDataBlock(i,t.props.format);case 2:o=n.sent,r(o);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.stream().doRequest(Wr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),t.toQueryString(),"arraybuffer")}},{key:"getCommandById",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:new Li,n=Wr.controls.command_by_id.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id).replace("{cmdid}",t),i=r.toQueryString(["select","obsFormat"]),e.next=5,this.fetchAsJson(n,i);case 5:return o=e.sent,e.abrupt("return",this.commandParser.parseData(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"postCommand",value:function(e){arguments.length>1&&void 0!==arguments[1]||new Li;var t=Wr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id);this.postAsJson(t,e)}},{key:"publishCommand",value:function(e){arguments.length>1&&void 0!==arguments[1]||new Li;this.stream().publishRequest(Wr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),e)}},{key:"searchStatus",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Gr,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.controls.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),t,r,this.sweApiControlStatusParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"streamStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gr,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.stream().onMessage=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(n){var i;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.sweApiControlStatusParser.parseData(n,"arraybuffer");case 2:i=t.sent,r(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.stream().doRequest(Wr.controls.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),t.toQueryString(),"arraybuffer")}},{key:"getSchema",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:new Gr,r=Wr.controls.schema.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),n=t.toQueryString(["select","commandFormat"]),e.abrupt("return",this.fetchAsJson(r,n));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(Mr),Ki=Yi,Gi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parseData",value:function(e){return new Ki(e,(0,c.Z)({streamProtocol:"ws"},this.networkProperties))}}]),r}(Vr),$i=Gi,Qi=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e,n){var i;return(0,m.Z)(this,r),i=t.call(this,n),i.properties=e,i.sweApiFetchSystemParser=new eo(n),i.sweApiDataStreamParser=new Ei(n),i.sweApiFetchFeatureOfInterestParser=new Pi(n),i.sweApiFetchEventParser=new Oi(n),i.sweApiFetchControlParser=new $i(n),i}return(0,v.Z)(r,[{key:"getDetails",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n,i=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:new Br,r=Wr.systems.details.replace("{sysid}",this.properties.id),n=t.toQueryString(["select","format"]),e.abrupt("return",this.fetchAsJson(r,n));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchSubSystems",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Br,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.search,t,r,this.sweApiFetchSystemParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchDataStreams",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new qr,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.datastreams.replace("{sysid}",this.properties.id),t,r,this.sweApiDataStreamParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchFeaturesOfInterest",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Yr,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.fois.replace("{sysid}",this.properties.id),t,r,this.sweApiFetchFeatureOfInterestParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchControls",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Gr,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.controls.replace("{sysid}",this.properties.id),t,r,this.sweApiFetchControlParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getControlById",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:new Gr,n=Wr.systems.control_by_id.replace("{sysid}",this.properties.id).replace("{dsid}",t),i=r.toQueryString(["select","format"]),e.next=5,this.fetchAsJson(n,i);case 5:return o=e.sent,e.abrupt("return",this.sweApiFetchControlParser.parseData(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchEvents",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Qr,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.events.replace("{sysid}",this.properties.id),t,r,this.sweApiFetchEventParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchHistory",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Jr,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.history.replace("{sysid}",this.properties.id),t,r,this.sweApiFetchSystemParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchMembers",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Br,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.members.replace("{sysid}",this.properties.id),t,r,this.sweApiFetchSystemParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(Mr),Xi=Qi,Ji=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"parseData",value:function(e){return new Xi(e,this.networkProperties)}}]),r}(Vr),eo=Ji,to=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.sweApiFetchSystemParser=new eo(e),n}return(0,v.Z)(r,[{key:"searchSystems",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r,n=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Br,r=n.length>1&&void 0!==n[1]?n[1]:10,e.abrupt("return",new jr(this.baseUrl()+Wr.systems.search,t,r,this.sweApiFetchSystemParser));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSystemById",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a=arguments;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:new Br,n=Wr.systems.by_id.replace("{sysid}",t),i=r.toQueryString(["select","format"]),e.next=5,this.fetchAsJson(n,i);case 5:return o=e.sent,e.abrupt("return",this.sweApiFetchSystemParser.parseData(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(Mr),ro=to,no=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;return(0,m.Z)(this,r),n=t.call(this,e),n.handleEvents(),n.initControl=!1,n}return(0,v.Z)(r,[{key:"initSweApi",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.initControl){e.next=9;break}return t=new ro(this.properties.control),e.next=4,t.getSystemById(this.properties.control.systemId);case 4:return r=e.sent,e.next=7,r.getControlById(this.properties.control.cmdStreamId);case 7:this.control=e.sent,this.initControl=!0;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleEvents",value:function(){var e=this,t=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r){var n,i,o,a;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.viewer.scene.pickPosition(r.position),i=gr.Hnq.WGS84.cartesianToCartographic(n),o=gr.ZX$.toDegrees(i.longitude),a=gr.ZX$.toDegrees(i.latitude),t.next=6,e.postCommand(o,a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this.viewer.screenSpaceEventHandler.setInputAction(t,gr.Wvr.LEFT_CLICK)}},{key:"postCommand",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={params:{WAYPOINT:{position:{lat:r,lon:t,alt:270},velocity:1e5}}},e.next=3,this.initSweApi();case 3:return e.next=5,this.control.postCommand(JSON.stringify(n));case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(Sr),io=no;function oo(e){var t,r={},n=(0,u.Z)(e.servers);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,a=(0,u.Z)(o.dataSources);try{for(a.s();!(i=a.n()).done;){var s=i.value;"SweApiStream"===s.type?r[s.id]=lo(s,o):"SosGetResult"===s.type&&(r[s.id]=so(s,o))}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}return r}function ao(e,t){var r,n,i=t.serverId,o=(0,u.Z)(e.servers);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.id===i){r=a;break}}}catch(s){o.e(s)}finally{o.f()}if(!r)throw Error("Cannot find Server config with id ".concat(t.serverId));if(console.log(t),"SweApiStream"===t.type)return lo(t,r);if("SosGetResult"===t.type)return so(t,r);throw Error("Not supported DataSource type ".concat(t.type))}function so(e,t){return(0,f.Xl)(new Fe(e.name,(0,c.Z)((0,c.Z)({},e),{},{endpointUrl:t.endpoint,tls:t.tls})))}function lo(e,t){return(0,f.Xl)(new Fe(e.name,(0,c.Z)((0,c.Z)({},e),{},{endpointUrl:t.endpoint,tls:t.tls,prefetchBatchSize:50})))}function co(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=(0,u.Z)(e.dataSynchronizers);try{for(i.s();!(t=i.n()).done;){var o,a=t.value,s=[],l=(0,u.Z)(r);try{for(l.s();!(o=l.n()).done;){var d=o.value;d.properties.synchronizerId===a.id&&s.push(d)}}catch(p){l.e(p)}finally{l.f()}var h=(0,f.Xl)(new re((0,c.Z)((0,c.Z)({},a),{},{dataSources:s,id:a.id})));n.push(h)}}catch(p){i.e(p)}finally{i.f()}return n}function uo(e){var t,r=[],n=(0,u.Z)(e.layers);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(ho(i))}}catch(a){n.e(a)}finally{n.f()}var o=(0,c.Z)((0,c.Z)({},e.properties),{},{container:e.id,destroyAfterMutation:!1,layers:r});if("LeafletView"===e.type)return(0,f.Xl)(new lt(o));if("CesiumView"===e.type)return new Sr(o);if("OpenLayerView"===e.type)return new er(o);if("MapboxView"===e.type)return rr().accessToken="pk.eyJ1IjoiZ2FrZXdhMzk0MCIsImEiOiJja2I4ZDZkdDAwMzc5MzFwazZubmFhNzVvIn0.i4O5Cls0aaVSVREIzK151w",new ir((0,c.Z)({container:o.container,zoom:3},o));if("DeckGlView"===e.type)return new vr(o);if("VideoView"===e.type)return new St((0,c.Z)((0,c.Z)({},o),{},{css:"video-view"}));if("ChartView"===e.type)return new Ct(o);if("CesiumControlView"===e.type)return new io(o);throw Error("Unknown view type ".concat(e.type))}function ho(e){if("PointMarkerLayer"===e.class)return new qe(po(e));if("VideoDataLayer"===e.class)return new et(po(e));if("CurveLayer"===e.class)return new Ye(po(e));if("FrustumLayer"===e.class)return new $e(po(e));throw Error("Layer unknown type ".concat(e.type))}function po(e){var t={};for(var r in e){var n=r.split("@func");n.length>1?t=(0,c.Z)((0,c.Z)({},t),(0,Ir.vk)(e[r])):t[r]=e[r]}return t}function fo(e){try{var t=[];return Tr(e,e,t,[]),t}catch(r){throw r}}window.CESIUM_BASE_URL="./",gr.f3v.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1ODY0NTkzNS02NzI0LTQwNDktODk4Zi0zZDJjOWI2NTdmYTMiLCJpZCI6MTA1NzQsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NTY4NzI1ODJ9.IbAajOLYnsoyKy1BOd7fY1p6GH-wwNVMdMduA2IzGjA";var mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return{synchronizerId:"01",id:e,type:void 0,description:"",connected:!1,tags:[],name:"",responseFormat:"application/swe+json",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"realTime",protocol:"ws",mqttOpts:{prefix:"/api",endpointUrl:""},connectorOpts:{}}},vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(),t=arguments.length>1?arguments[1]:void 0,r=L();return{id:e,name:t,description:"",tags:[],dataSynchronizers:[{id:r,name:"DataSynchronizer",tags:[],description:"",replaySpeed:2.6,masterTimeRefreshRate:250,mode:"replay"}],servers:[{id:"c5edc2e1-6666-c3de-b583-9e930c07a0ca",endpoint:"api.georobotix.io:443/ogc/t18/api",type:"rest",name:"api.georobotix",description:"",tags:[],tls:!0,dataSources:[{synchronizerId:r,id:L(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Sensor Location",resource:"/datastreams/o7pce3e60s0ie/observations",responseFormat:"application/swe+json",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:L(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Platform Attitude",resource:"/datastreams/mlme3gtdfepvc/observations",responseFormat:"application/swe+json",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:L(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - UAS Video",resource:"/datastreams/h225hesual08g/observations",responseFormat:"application/swe+binary",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:L(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Gimbal Attitude",resource:"/datastreams/h75dmug8e3sae/observations",responseFormat:"application/swe+binary",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:L(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Imaging Sensor Parameters",resource:"/datastreams/nhcs9rp6713ka/observations",responseFormat:"application/swe+binary",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"}]}],windows:{}}};function go(){for(var e=[],t=1;t<50;t++)e.push({breakpoint:"x"+t,breakpointWidth:50*t,numberOfCols:t,colWidth:40,items:[]});return e}var yo,bo,wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return{id:e,type:void 0,ui:{}}},ko=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L();return{id:e,type:void 0,name:void 0,description:"test view",pos:{x:0,y:0},size:{width:4,height:4},visible:!0,tags:[],layers:[]}},_o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main-window";return{id:e,type:t,description:"window",bk:void 0,tags:[],visible:!0,pos:{x:0,y:0,z:0},size:{width:100,height:100,unit:"%"},widgets:{}}},So=(0,p.Q_)("popupsStore",{state:function(){return{id:L(),popupWindows:{}}},getters:{},actions:{addPopupWindow:function(e,t){this.popupWindows[e]=t},isPopupWindow:function(e){return e in this.popupWindows},closePopups:function(){for(var e in this.popupWindows)this.popupWindows[e].close()},savePopupsPosition:function(e){var t=Eo(),r={};for(var n in this.popupWindows){var i=this.popupWindows[n];i.closed?t.removeLayoutById(e,n):(r[n]=i,t.editLayout(e,n,{pos:{x:i.screenLeft,y:i.screenTop,z:0},size:{width:i.innerWidth,height:i.outerHeight}}))}this.popupWindows=r}}});function xo(){return w(yo)||(yo=Lo()),yo}function To(){return w(bo)||(bo=So()),bo}var Io,Co,Eo=(0,p.Q_)("uiStore",{state:function(){return{id:L(),initialized:!1,ui:{edit:!1,connected:!1,layouts:{},mode:"replay",drawer:{server:!1,datasource:!1},snack:{message:void 0,type:void 0}},syncVersion:0}},getters:{isEdit:function(e){return e.ui.edit}},actions:{loadLayouts:function(e){var t,r=(0,u.Z)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=[];for(var o in n.widgets){var a=n.widgets[o];i.push({id:a.id,x:a.pos.x,y:a.pos.y,width:a.size.width,height:a.size.height})}var s=(0,xr.Y)(go());this.ui.layouts[n.id]=s;var l,c=(0,u.Z)(s);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.items=[];var h,p=(0,u.Z)(i);try{for(p.s();!(h=p.n()).done;){var f=h.value;d.items.push(f)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){c.e(m)}finally{c.f()}}}catch(m){r.e(m)}finally{r.f()}this.initialized=!0},resetFromTimebar:function(e,t,r){var n=yo.getWidgets(e,t);for(var i in n){var o=n[i];this.hookReloadWidget("reset-from-timebar",o)}},reset:function(e){var t=xo();for(var r in this.ui.layouts)if(To().isPopupWindow(r))delete this.ui.layouts[r],t.removeWindowById(e,r,!1);else{var n,i=this.ui.layouts[r],o=(0,u.Z)(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.items=[]}}catch(s){o.e(s)}finally{o.f()}t.removeAllWidgets(e,r,!1)}},setConnected:function(e){this.ui.connected=e,this.updateVersion()},toggleConnect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!this.ui.connected,r=xo();t?r.connect(e):r.disconnect(e),this.updateVersion()},setEditMode:function(e){this.ui.edit=e,this.updateVersion()},removeLayoutById:function(e,t){delete this.ui.layouts[t];var r=xo();r.removeWindowById(e,t),this.updateVersion()},addWindow:function(e,t){var r=go();this.ui.layouts[t.id]=(0,xr.Y)(r);var n=xo();return n.addWindow(e,t),this.updateVersion(),this.ui.layouts[t.id]},editLayout:function(e,t,r){this.ui.layouts[t].pos=r.pos,this.ui.layouts[t].size=r.size;var n=xo();n.editWindow(e,t,r),this.updateVersion()},removeGridItem:function(e,t,r){var n,i=this.ui.layouts[t],o=(0,u.Z)(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.items=a.items.filter((function(e){return e.id!==r}))}}catch(l){o.e(l)}finally{o.f()}var s=xo();s.removeWidget(e,t,r),this.updateVersion()},editGridItemByBreakpoint:function(e,t,r,n,i){var o,a=this.ui.layouts[t.id],s=0,l=(0,u.Z)(a);try{for(l.s();!(o=l.n()).done;){for(var d=o.value,h=0;h<d.items.length;h++){var p=d.items[h];if(p.id===r.id){this.ui.layouts[t.id][s].items[h]=(0,c.Z)((0,c.Z)({},p),i);break}}s++}}catch(m){l.e(m)}finally{l.f()}var f=xo();f.setWidget(e,t,r),this.updateVersion()},hookReloadWidget:function(e,t){return{name:e,widget:t}},editGridItem:function(e,t,r){var n=xo();return n.setWidget(e,t,r),this.hookReloadWidget("editGridItem",r),this.updateVersion(),r},addGridItem:function(e,t,r){t.id in this.ui.layouts||this.loadLayouts([t]);var n,i=this.ui.layouts[t.id],o=(0,u.Z)(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;Array.isArray(a.items)||(a.items=[]);var s,l=0,c=(0,u.Z)(a.items);try{for(c.s();!(s=c.n()).done;){var d=s.value;d.y>=l&&(l=d.y+d.height)}}catch(p){c.e(p)}finally{c.f()}r.pos.y=l,a.items.push({id:r.id,x:r.pos.x,y:r.pos.y,width:r.size.width,height:r.size.height})}}catch(p){o.e(p)}finally{o.f()}var h=xo();h.setWidget(e,t,r),this.updateVersion()},addOrEditDataSource:function(e,t,r){var n=xo();n.addOrEditDataSource(e,t,r,this.ui.connected),this.hookReloadWidget("addOrEditDataSource",r),this.updateVersion()},removeDataSource:function(e,t,r){var n=xo();n.removeDataSource(e,t,r,this.ui.connected),this.hookReloadWidget("removeDataSource",r),this.updateVersion()},updateVersion:function(){this.syncVersion++}}});function Zo(){return w(Io)||(Io=Lo()),Io}function Do(){return w(Co)||(Co=Eo()),Co}var Ao,Po=(0,p.Q_)("sweStore",{state:function(){return{id:L(),servers:{},activeIntervalDataStreams:{}}},getters:{},actions:{checkSystems:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function n(){var i,o,a,s,l,c,u;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t in r.servers){n.next=17;break}return i=Zo(),o=i.findServerById(e,t),a=new ro({protocol:"http",tls:o.tls,endpointUrl:o.endpoint}),n.next=6,a.searchSystems(new Br({}),10);case 6:s=n.sent,l={};case 8:if(!s.hasNext()){n.next=15;break}return n.next=11,s.nextPage();case 11:for(c=n.sent,u=0;u<c.length;u++)l[c[u].properties.id]={system:c[u],dataStreams:[]};n.next=8;break;case 15:l.timestamp=Date.now(),r.servers[o.id]=l;case 17:case"end":return n.stop()}}),n)})))()},getSystems:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function n(){var i,o,a;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.checkSystems(e,t);case 2:for(a in i=[],r.servers[t])"object"===(0,y.Z)(r.servers[t][a])&&"system"in r.servers[t][a]&&(o=r.servers[t][a].system,i.push({id:o.properties.id,name:o.properties.properties.name}));return n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})))()},checkDataStreams:function(e,t,r){var n=this;return(0,h.Z)((0,d.Z)().mark((function i(){var o,a,s,l,c,u,h;return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.checkSystems(e,t);case 2:if(!(t in n.servers)||!(r in n.servers[t])){i.next=19;break}if(o=n.servers[t][r].dataStreams,0!==o.length){i.next=19;break}return a=n.servers[t][r].system,s=new qr({}),i.next=9,a.searchDataStreams(s,100);case 9:l=i.sent,c=[];case 11:if(!l.hasNext()){i.next=18;break}return i.next=14,l.nextPage();case 14:for(u=i.sent,h=0;h<u.length;h++)c.push(u[h]);i.next=11;break;case 18:n.servers[t][r].dataStreams=c;case 19:case"end":return i.stop()}}),i)})))()},getDataStreams:function(e,t,r){var n=this;return(0,h.Z)((0,d.Z)().mark((function i(){return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.checkDataStreams(e,t,r);case 2:return i.abrupt("return",n.servers[t][r].dataStreams.map((function(e){return{id:e.properties.id,name:e.properties.name,phenomenonTime:e.properties.phenomenonTime}})));case 3:case"end":return i.stop()}}),i)})))()},getSchema:function(e,t,r,n,i){var o=this;return(0,h.Z)((0,d.Z)().mark((function a(){var s,l,c,h,p;return(0,d.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,o.checkSystems(e,t);case 2:return a.next=4,o.checkDataStreams(e,t,r);case 4:l=(0,u.Z)(o.servers[t][r].dataStreams),a.prev=5,l.s();case 7:if((c=l.n()).done){a.next=14;break}if(h=c.value,h.properties.id!==n){a.next=12;break}return s=h,a.abrupt("break",14);case 12:a.next=7;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](5),l.e(a.t0);case 19:return a.prev=19,l.f(),a.finish(19);case 22:if(!s){a.next=27;break}return p=new qr({obsFormat:i}),a.next=26,s.getSchema(p);case 26:return a.abrupt("return",a.sent);case 27:case"end":return a.stop()}}),a,null,[[5,16,19,22]])})))()},setActiveUpdateDataSource:function(e,t,r){var n=Zo().findDataSourceById(e,t);if(n){var i=n.id,o=(n.parentId,n.resource),a=(n.responseFormat,n.type);n.serverId;if("SweApiStream"===a){var s,l,c=(0,u.Z)(r.getDataSources());try{for(c.s();!(l=c.n()).done;){var p=l.value;if(p.id===i){s=p;break}}}catch(b){c.e(b)}finally{c.f()}if(w(s)){var f=new RegExp("^(.*?)/datastreams/(.*)/observations"),m=o.match(f)[2],v=!0,y=setInterval((0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:fetch("http".concat(s.properties.tls?"s":"","://").concat(s.properties.endpointUrl,"/datastreams?id=").concat(m,"&select=id,phenomenonTime&f=application%2Fjson")).then((function(e){if(!e.ok){var t=new Error("HTTP status code: "+e.status);throw t.response=e,t.status=e.status,t}return e})).then((function(e){return e.json()})).then(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var n,i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.getMode()===g.REPLAY&&t&&t.items.length>0&&t.items[0].phenomenonTime&&t.items[0].phenomenonTime.length>1&&(n=t.items[0].phenomenonTime[0],i=t.items[0].phenomenonTime[1],v&&(s.setMinTime(n),v=!1),s.setMaxTime(i),r.minMaxChanged(v));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),5e3);this.activeIntervalDataStreams[m]=y}}}},getDataSourceMapping:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function n(){var i,o,a,s,l,c,h,p,f,m,v,g,y,b,w;return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=Zo().findDataSourceById(e,t),!i){n.next=22;break}if(i.id,o=i.parentId,a=i.resource,s=i.responseFormat,l=i.type,c=i.serverId,"SweApiStream"!==l){n.next=20;break}return h=new RegExp("^(.*?)/datastreams/(.*)/observations"),p=a.match(h)[2],n.next=8,r.getSchema(e,c,o,p,s);case 8:f=n.sent,n.prev=9,m=fo(f),v=[],g=(0,u.Z)(m);try{for(g.s();!(y=g.n()).done;)b=y.value,w={dataSource:{name:i.name,id:i.id},data:b,tooltip:{}},!1 in w.data&&(w.data["label"]=w.data.name),w.uiLabel="".concat(w.data.label,"  (").concat(w.data.path,")"),(0,Ir.$n)(b,["name","definition","code","description"],w.tooltip),v.push(w)}catch(d){g.e(d)}finally{g.f()}return n.abrupt("return",v);case 17:n.prev=17,n.t0=n["catch"](9),Do().ui.snack={message:n.t0.message,type:"warning"};case 20:n.next=23;break;case 22:throw Error("DataSource ".concat(t," not found for mapping "));case 23:case"end":return n.stop()}}),n,null,[[9,17]])})))()}}}),Mo={user:"webadmin",password:"6uw8vJ9awW+%7yM!",url:"https://api.georobotix.io/ogc/t18/admin-api/dashboards"};function Oo(){return w(Ao)||(Ao=Po()),Ao}var Ro={},Lo=(0,p.Q_)("clientStore",{state:function(){return{id:L(),clientConfig:{},initialized:!1,syncVersion:0}},getters:{},actions:{getDashboardByIdFromRemote:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function n(){return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.checkConf(e,t);case 2:return n.abrupt("return",r.clientConfig);case 3:case"end":return n.stop()}}),n)})))()},saveConf:function(e){var t={Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json"};t["Authorization"]="Basic "+window.btoa("".concat(Mo.user,":").concat(Mo.password)),fetch("".concat(Mo.url,"/").concat(e),{method:"PUT",headers:t,credentials:"include",body:JSON.stringify(this.clientConfig)}).catch((function(e){console.error("There was an error!",e)}))},getDashboardById:function(e){return this.clientConfig},connect:function(e){if(e in Ro){var t,r=(0,u.Z)(Ro);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.connect()}}catch(i){r.e(i)}finally{r.f()}}},disconnect:function(e){if(e in Ro){var t,r=(0,u.Z)(Ro);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.disconnect()}}catch(i){r.e(i)}finally{r.f()}}},loadConf:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{!t&&"servers"in e&&this.addTimeSynchronizers(e.id)}catch(r){throw r}},addServer:function(e,t){this.clientConfig.servers.push(t),this.updateVersion()},removeServer:function(e,t){this.clientConfig.servers=this.clientConfig.servers.filter((function(e){return e.id!==t})),this.updateVersion()},editServer:function(e,t){var r,n=0,i=(0,u.Z)(this.clientConfig.servers);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.id===e&&(this.clientConfig.servers[n]=(0,c.Z)((0,c.Z)({},o),t)),n++}}catch(a){i.e(a)}finally{i.f()}this.updateVersion()},getServersByDashboard:function(e){return this.clientConfig.servers},findServerById:function(e,t){var r,n=(0,u.Z)(this.clientConfig.servers);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.id===t)return i}}catch(o){n.e(o)}finally{n.f()}},addTimeSynchronizers:function(e){Ro=[];var t=[],r=oo((0,f.IU)(this.clientConfig));for(var n in r)t.push(r[n]);for(var i in Ro=co((0,f.IU)(this.clientConfig),t),r)Oo().setActiveUpdateDataSource(e,i,Ro[0])},getTimeSynchronizerIds:function(){var e,t=[],r=(0,u.Z)(Ro);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.id)}}catch(i){r.e(i)}finally{r.f()}return t},createNewDashboard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=vo(e,t);return this.clientConfig=r,this.loadConf(this.clientConfig),this.updateVersion(),r},addWindow:function(e,t){this.clientConfig.windows[t.id]=t,this.updateVersion()},editWindow:function(e,t,r){this.clientConfig.windows[t]=(0,c.Z)((0,c.Z)({},this.clientConfig.windows[t]),r),this.updateVersion()},removeWindowById:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];delete this.clientConfig.windows[t],r&&this.updateVersion()},getWindowById:function(e,t){return t in this.clientConfig.windows?this.clientConfig.windows[t]:void 0},getWidgetById:function(e,t,r){return t in this.clientConfig.windows&&r in this.clientConfig.windows[t].widgets?this.clientConfig.windows[t].widgets[r]:void 0},removeWidget:function(e,t,r){delete this.clientConfig.windows[t].widgets[r],this.updateVersion()},removeAllWidgets:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.clientConfig.windows[t].widgets={},r&&this.updateVersion()},loadFromServer:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){var n;return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={},n["Accept"]="*/*",n["Accept-Encoding"]="gzip, deflate, br",n["Content-Type"]="application/json",n["Authorization"]="Basic "+btoa("".concat(Mo.user,":").concat(Mo.password)),r.next=7,fetch("".concat(Mo.url,"/").concat(e),{method:"GET",headers:n,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){console.error("There was an error!",e)}));case 7:t.clientConfig=r.sent;case 8:case"end":return r.stop()}}),r)})))()},checkConf:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function n(){return(0,d.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r.initialized){n.next=6;break}return n.next=3,r.loadFromServer(e);case 3:r.loadConf(r.clientConfig,t),console.log(r.clientConfig),r.initialized=!0;case 6:case"end":return n.stop()}}),n)})))()},getWindowsByType:function(e,t){return(0,Ir.qo)(this.clientConfig.windows).filter((function(e){return e.type===t}))},setWidget:function(e,t,r){t.id in this.clientConfig.windows||(this.clientConfig.windows[t.id]=t),this.clientConfig.windows[t.id].widgets[r.id]=r,this.updateVersion()},getWidgets:function(e,t){return this.clientConfig.windows[t].widgets},findDataSourceById:function(e,t){var r,n=(0,u.Z)(this.clientConfig.servers);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=(0,u.Z)(o.dataSources);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.id===t)return s.serverId=o.id,s}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}},addOrEditDataSource:function(e,t,r,n){var i=this.getDefaultTimeSynchronizer(e);r.synchronizerId=this.clientConfig.dataSynchronizers[0].id;for(var o=0;o<this.clientConfig.servers.length;o++){var a=this.clientConfig.servers[o];if(a.id===t){var s,l=!0,d=0,h=(0,u.Z)(a.dataSources);try{for(h.s();!(s=h.n()).done;){var p=s.value;if(p.id===r.id){this.clientConfig.servers[o].dataSources[d]=(0,c.Z)((0,c.Z)({},p),r),l=!1;break}d++}}catch(v){h.e(v)}finally{h.f()}l&&a.dataSources.push(r);break}}var m=ao((0,f.IU)(this.clientConfig),(0,f.IU)(r));i.addDataSource(m)},removeDataSource:function(e,t,r){var n=this;return(0,h.Z)((0,d.Z)().mark((function i(){var o,a,s,l,c,h,p;return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=0;case 1:if(!(o<n.clientConfig.servers.length)){i.next=9;break}if(a=n.clientConfig.servers[o],a.id!==t){i.next=6;break}return n.clientConfig.servers[o].dataSources=n.clientConfig.servers[o].dataSources.filter((function(e){return e.id!==r.id})),i.abrupt("break",9);case 6:o++,i.next=1;break;case 9:s=n.getDefaultTimeSynchronizer(e),l=s.getDataSources(),c=(0,u.Z)(l),i.prev=12,c.s();case 14:if((h=c.n()).done){i.next=22;break}if(p=h.value,p.id!==r.id){i.next=20;break}return i.next=19,s.removeDataSource(p);case 19:return i.abrupt("break",22);case 20:i.next=14;break;case 22:i.next=27;break;case 24:i.prev=24,i.t0=i["catch"](12),c.e(i.t0);case 27:return i.prev=27,c.f(),i.finish(27);case 30:n.updateVersion();case 31:case"end":return i.stop()}}),i,null,[[12,24,27,30]])})))()},reset:function(e){for(var t in this.clientConfig.windows){var r=this.clientConfig.windows[t];"popup"===r.type?delete this.clientConfig.windows[t]:r.widgets={}}},getDefaultTimeSynchronizer:function(e){return Ro[0]},updateVersion:function(){this.syncVersion++}}}),jo={name:"App",setup:function(){var e=Lo(),t=Eo(),r=So(),n=w(window.opener);return{uiStore:t,clientStore:e,popupsStore:r,isPopup:n}},created:function(){var e=this;this.isPopup||window.addEventListener("beforeunload",(function(t){t.preventDefault(),e.popupsStore.closePopups(),t.returnValue=""}))}},zo=r(83744);const Bo=(0,zo.Z)(jo,[["render",l]]);var Fo=Bo,Wo=r(22201),Uo=r(97718),Vo=r(73140),No=r(9287),qo=r(13173);function Ho(e,t,r,n,o,a){var s=(0,i.up)("navbar"),l=(0,i.up)("ServerList"),c=(0,i.up)("Content");return(0,i.wg)(),(0,i.j4)(Uo.q,{class:"dashboard"},{default:(0,i.w5)((function(){return[(0,i.Wm)(s,{popup:n.isPopup},null,8,["popup"]),(0,i.Wm)(No.V,{modelValue:n.uiStore.ui.drawer.server,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.uiStore.ui.drawer.server=e}),temporary:"",class:"nav-drawer"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l)]})),_:1},8,["modelValue"]),(0,i.Wm)(Vo.O,{class:"main"},{default:(0,i.w5)((function(){return[o.init?((0,i.wg)(),(0,i.j4)(c,{key:e.$route.params.fullPath})):((0,i.wg)(),(0,i.j4)(qo.L,{key:1,size:100,width:5,indeterminate:"",color:"teal"}))]})),_:1})]})),_:1})}function Yo(e,t,r,n,o,a){var s=(0,i.up)("Window"),l=(0,i.up)("WidgetForm"),c=(0,i.up)("DialogForm"),u=(0,i.up)("DataSourceForm"),d=(0,i.up)("ServerForm"),h=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(h,null,{default:(0,i.w5)((function(r){var n=r.Component;r.route;return[(0,i.Wm)(s,{is:n,ref:"window"},null,8,["is"]),o.widgetEditorId?(0,i.WI)(e.$slots,"default",{key:0},(function(){return[(0,i.Wm)(c,{onOnClose:t[0]||(t[0]=function(e){return o.widgetEditorId=void 0}),cssClass:"widget-form-content",edit:o.edit,name:"widget"},{content:(0,i.w5)((function(e){e.save;return[(0,i.Wm)(l,{id:o.widgetEditorId,edit:o.edit},null,8,["id","edit"])]})),_:1},8,["edit"])]})):o.dataSourceEditorId?(0,i.WI)(e.$slots,"default",{key:1},(function(){return[(0,i.Wm)(c,{title:"DataSource",onOnClose:t[1]||(t[1]=function(e){return o.dataSourceEditorId=void 0}),edit:o.edit},{content:(0,i.w5)((function(e){e.save;return[(0,i.Wm)(u,{id:o.dataSourceEditorId,"server-id":o.serverId,edit:o.edit},null,8,["id","server-id","edit"])]})),_:1},8,["edit"])]})):o.serverEditorId?(0,i.WI)(e.$slots,"default",{key:2},(function(){return[(0,i.Wm)(c,{title:"Server",onOnClose:t[2]||(t[2]=function(e){return o.serverEditorId=void 0}),edit:o.edit},{content:(0,i.w5)((function(e){e.save;return[(0,i.Wm)(d,{id:o.serverEditorId},null,8,["id"])]})),_:1},8,["edit"])]})):(0,i.kq)("",!0)]})),_:3})}function Ko(e,t,r,n,o,a){var s=(0,i.up)("Widget"),l=(0,i.up)("dash-item"),c=(0,i.up)("dash-layout"),u=(0,i.up)("dashboard");return(0,i.wg)(),(0,i.j4)(u,{id:"dashApp",ref:"dashboard",key:e.$route.params.windowId},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.uiStore.ui.layouts[n.windowId],(function(e){return(0,i.wg)(),(0,i.j4)(c,(0,i.dG)(e,{debug:!1,key:e.breakpoint,compact:!1}),{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.items,(function(e){return(0,i.wg)(),(0,i.j4)(l,{locked:!n.uiStore.ui.edit,key:e.id,id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,onResizeEnd:a.widgetMoveResizeEnd},{default:(0,i.w5)((function(){return[((0,i.wg)(),(0,i.j4)(s,{ref_for:!0,ref:"widgets",id:e.id,key:e.id,onMoveEnd:a.moveEnd,bk:a.bk},null,8,["id","onMoveEnd","bk"]))]})),_:2},1032,["locked","id","x","y","width","height","onResizeEnd"])})),128))]})),_:2},1040)})),128))]})),_:1})}var Go=r(51489),$o=r(81209),Qo=r(41888),Xo=r(53289),Jo=r(80678),ea={class:"action-button"},ta=["id"];function ra(e,t,r,s,l,c){var u=this,d=(0,i.up)("TimeController"),h=(0,i.up)("PtzView"),p=(0,i.up)("ConfirmDialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Go._,{elevation:4,width:c.width,height:c.height,color:"#96a2ab52",class:"card"},{default:(0,i.w5)((function(){return[(0,i.Wm)($o._,{class:"card-item"},{default:(0,i.w5)((function(){return[(0,i._)("div",ea,[u.uiStore.ui.edit?((0,i.wg)(),(0,i.j4)(a.T,{key:0,class:"delete-view-button",rounded:0,"x-small":"",onClick:(0,n.iM)(c.deleteView,["stop"]),color:"red",density:"compact",flat:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,{icon:"mdi-close",size:"large"})]})),_:1},8,["onClick"])):(0,i.kq)("",!0),u.uiStore.ui.edit?((0,i.wg)(),(0,i.j4)(a.T,{key:1,class:"edit-view-button",rounded:0,"x-small":"",onClick:(0,n.iM)(c.editView,["stop"]),density:"compact",flat:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,{icon:"mdi-pencil",size:"large"})]})),_:1},8,["onClick"])):(0,i.kq)("",!0),l.widget&&l.widget.name&&!l.timeController&&!l.ptzControl?((0,i.wg)(),(0,i.j4)(Jo.N,{key:2},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i.Uk)(" "+(0,o.zw)(l.widget.name),1)]})),_:1})):(0,i.kq)("",!0)]),(0,i.Wm)(Qo.Z,null,{default:(0,i.w5)((function(){return[l.timeController?((0,i.wg)(),(0,i.j4)(d,{key:0,dataSynchronizer:c.dataSynchronizer,skipTimeStep:"10%",onControlEventFn:c.onControlEvent,trackRealtime:l.trackRealtime},null,8,["dataSynchronizer","onControlEventFn","trackRealtime"])):(0,i.kq)("",!0),l.ptzControl?((0,i.wg)(),(0,i.j4)(h,{key:1,widget:l.widget},null,8,["widget"])):((0,i.wg)(),(0,i.iD)("div",{key:2,id:s.widgetId,class:"widget"},null,8,ta))]})),_:1})]})),_:1})]})),_:1},8,["width","height"]),(0,i.Wm)(p,{ref:"confirm"},null,512)],64)}var na=r(91334),ia=r(33601),oa=r(89234),aa=r(27471),sa=r(85030);function la(e,t,r,s,l,c){return(0,i.wg)(),(0,i.j4)(ia.B,{modelValue:l.dialog,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.dialog=e}),"max-width":l.options.width,style:{zIndex:1e17},onKeydown:(0,n.D2)(c.cancel,["esc"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(aa.i,{dark:"",color:l.options.color,dense:"",flat:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(sa.q,{class:"text-body-2 font-weight-bold grey--text"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(l.title),1)]})),_:1})]})),_:1},8,["color"]),(0,i.wy)((0,i.Wm)(Qo.Z,{class:"pa-4 black--text",innerHTML:l.message},null,8,["innerHTML"]),[[n.F8,!!l.message]]),(0,i.Wm)(na.h,{class:"pt-3"},{default:(0,i.w5)((function(){return[(0,i.Wm)(oa.C),l.options.noconfirm?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(a.T,{key:0,color:"grey",text:"",class:"body-2 font-weight-bold",onClick:c.cancel},{default:(0,i.w5)((function(){return[(0,i.Uk)("Cancel")]})),_:1},8,["onClick"])),(0,i.Wm)(a.T,{color:"primary",class:"body-2 font-weight-bold",outlined:"",onClick:c.yes},{default:(0,i.w5)((function(){return[(0,i.Uk)("Yes")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue","max-width","onKeydown"])}var ca={name:"ConfirmDialog",data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"grey lighten-3",width:400,zIndex:200,noconfirm:!1}}},methods:{open:function(e,t,r){var n=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,r),new Promise((function(e,t){n.resolve=e,n.reject=t}))},yes:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}};const ua=(0,zo.Z)(ca,[["render",la]]);var da=ua,ha={style:{width:"100%"}};function pa(e,t,r,n,o,a){var s=(0,i.up)("TimeControllerRealtime"),l=(0,i.up)("TimeControllerReplay"),c=(0,i.up)("TimeControllerBatch");return(0,i.wg)(),(0,i.iD)("div",ha,[o.realTime?((0,i.wg)(),(0,i.j4)(s,{key:0,dataSource:r.dataSource,dataSynchronizer:r.dataSynchronizer,debounce:r.debounce,parseTime:r.parseTime,onEvent:a.onControlEvent},null,8,["dataSource","dataSynchronizer","debounce","parseTime","onEvent"])):(0,i.kq)("",!0),o.replay?((0,i.wg)(),(0,i.j4)(l,{key:1,dataSource:r.dataSource,dataSynchronizer:r.dataSynchronizer,debounce:r.debounce,parseTime:r.parseTime,skipTimeStep:r.skipTimeStep,replaySpeedStep:r.replaySpeedStep,onEvent:a.onControlEvent,"support-realtime":r.supportRealTime},null,8,["dataSource","dataSynchronizer","debounce","parseTime","skipTimeStep","replaySpeedStep","onEvent","support-realtime"])):(0,i.kq)("",!0),o.batch?((0,i.wg)(),(0,i.j4)(c,{key:2,dataSource:r.dataSource,debounce:r.debounce,parseTime:r.parseTime,onEvent:a.onControlEvent},null,8,["dataSource","debounce","parseTime","onEvent"])):(0,i.kq)("",!0)])}var fa=function(e){return(0,i.dD)("data-v-5b61a8a8"),e=e(),(0,i.Cn)(),e},ma=["id"],va={class:"buttons"},ga={class:"actions"},ya={class:"datasource-actions replay"},ba=["id"],wa=fa((function(){return(0,i._)("i",{class:"fa fa-history"},null,-1)})),ka=[wa],_a={class:"control-speed"},Sa=["id"],xa=fa((function(){return(0,i._)("i",{class:"fa fa-minus"},null,-1)})),Ta=[xa],Ia=["id"],Ca=["id"],Ea=fa((function(){return(0,i._)("i",{class:"fa fa-plus"},null,-1)})),Za=[Ea],Da={class:"control-back-for"},Aa=["id"],Pa=fa((function(){return(0,i._)("i",{class:"fa fa-fast-backward"},null,-1)})),Ma=[Pa],Oa=["id"],Ra=fa((function(){return(0,i._)("i",{class:"fa fa-pause"},null,-1)})),La=[Ra],ja=["id"],za=["id"],Ba=fa((function(){return(0,i._)("i",{class:"fa fa-fast-forward"},null,-1)})),Fa=[Ba];function Wa(e,t,r,n,a,s){var l=(0,i.up)("RangeSliderReplay"),c=(0,i.up)("ControlTimeReplay");return(0,i.wg)(),(0,i.iD)("div",{id:"control-component-"+this.id,class:"control"},[a.rangeSliderInit&&a.init?((0,i.wg)(),(0,i.j4)(l,{key:0,update:a.update,interval:a.interval,onEvent:s.onRangeSliderEvent,minTimestamp:s.minTimeStamp,maxTimestamp:s.maxTimeStamp,"start-timestamp":s.startTimeStamp,"end-timestamp":s.endTimeStamp,dataSynchronizer:r.dataSynchronizer,ref:"rangeSliderRef"},null,8,["update","interval","onEvent","minTimestamp","maxTimestamp","start-timestamp","end-timestamp","dataSynchronizer"])):(0,i.kq)("",!0),(0,i._)("div",va,[(0,i._)("div",ga,[(0,i._)("div",ya,[r.supportRealTime?((0,i.wg)(),(0,i.iD)("a",{key:0,id:"replay-btn-"+a.id,class:"control-btn clicked",onClick:t[0]||(t[0]=function(){return s.toggleRealtime&&s.toggleRealtime.apply(s,arguments)})},ka,8,ba)):(0,i.kq)("",!0),(0,i._)("div",_a,[(0,i._)("a",{id:"speed-minus-btn-"+a.id,class:"control-btn",onMouseup:t[1]||(t[1]=function(){return s.stopSpeed&&s.stopSpeed.apply(s,arguments)}),onMouseleave:t[2]||(t[2]=function(){return s.stopSpeed&&s.stopSpeed.apply(s,arguments)}),onClick:t[3]||(t[3]=function(){return s.decSpeed&&s.decSpeed.apply(s,arguments)}),onMousedown:t[4]||(t[4]=function(){return s.decSpeedDown&&s.decSpeedDown.apply(s,arguments)})},Ta,40,Sa),(0,i._)("span",{class:"chip control-speed-content",id:a.speedId},(0,o.zw)(a.speed>0?a.speed.toFixed(2)+"x":"none"),9,Ia),(0,i._)("a",{id:"speed-plus-btn-"+a.id,class:"control-btn",onMouseup:t[5]||(t[5]=function(){return s.stopSpeed&&s.stopSpeed.apply(s,arguments)}),onMouseleave:t[6]||(t[6]=function(){return s.stopSpeed&&s.stopSpeed.apply(s,arguments)}),onClick:t[7]||(t[7]=function(){return s.incSpeed&&s.incSpeed.apply(s,arguments)}),onMousedown:t[8]||(t[8]=function(){return s.incSpeedDown&&s.incSpeedDown.apply(s,arguments)})},Za,40,Ca)]),(0,i._)("div",Da,[(0,i._)("a",{id:"fast-back-btn-"+a.id,class:"control-btn",onMouseup:t[9]||(t[9]=function(){return s.stopBackward&&s.stopBackward.apply(s,arguments)}),onMouseleave:t[10]||(t[10]=function(){return s.stopBackward&&s.stopBackward.apply(s,arguments)}),onMousedown:t[11]||(t[11]=function(){return s.doBackward&&s.doBackward.apply(s,arguments)})},Ma,40,Aa),a.connected?((0,i.wg)(),(0,i.iD)("a",{key:0,id:"pause-btn-"+a.id,class:"control-btn control-btn-pause",onClick:t[12]||(t[12]=function(){return s.doPause&&s.doPause.apply(s,arguments)})},La,8,Oa)):((0,i.wg)(),(0,i.iD)("a",{key:1,id:"play-btn-"+a.id,class:"control-btn control-btn-play"},[(0,i._)("i",{class:"fa fa-play",onClick:t[13]||(t[13]=function(){return s.doPlay&&s.doPlay.apply(s,arguments)})})],8,ja)),(0,i._)("a",{id:"fast-forward-btn-"+a.id,class:"control-btn",onMouseup:t[14]||(t[14]=function(){return s.stopForward&&s.stopForward.apply(s,arguments)}),onMouseleave:t[15]||(t[15]=function(){return s.stopForward&&s.stopForward.apply(s,arguments)}),onMousedown:t[16]||(t[16]=function(){return s.doFastForward&&s.doFastForward.apply(s,arguments)})},Fa,40,za)]),(0,i.Wm)(c,{htmlCurrentTime:s.htmlCurrentTime,htmlEndTime:s.htmlEndTime},null,8,["htmlCurrentTime","htmlEndTime"])])])])],8,ma)}var Ua=["id"];function Va(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{id:o.id,class:"range"},null,8,Ua)}var Na=r(9365),qa=r(10303),Ha=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,(0,c.Z)((0,c.Z)({},e),{},{supportedLayers:["data"]})),n.slider=document.createElement("div"),n.slider.setAttribute("class","core-rangeslider-slider"),document.getElementById(n.divId).appendChild(n.slider);var i=(new Date).getTime(),o=new Date("2055-01-01T00:00:00Z").getTime(),a=i,s=o;n.update=!1,n.dataSourceObject=null,n.debounce=0,n.options={},n.sliding=!1,w(e)&&(w(e.startTime)&&(i=new Date(e.startTime).getTime()),w(e.endTime)&&(o=new Date(e.endTime).getTime()),w(e.minTimeRange)&&(a=new Date(e.minTimeRange).getTime()),w(e.maxTimeRange)&&(s=new Date(e.maxTimeRange).getTime()),w(e.dataSynchronizer)&&(n.dataSourceObject=e.dataSynchronizer),w(e.dataSource)&&(n.dataSourceObject=e.dataSource),w(e.debounce)&&(n.debounce=parseInt(e.debounce)),w(e.options)&&(n.options=e.options),w(e.disabled)&&n.slider.setAttribute("disabled",e.disabled));var l=(0,c.Z)({start:[i,o],range:{min:a,max:s},format:qa({decimals:0}),behaviour:"drag",connect:!0,animate:!1,pips:{mode:"positions",values:[5,25,50,75],density:1,format:qa({edit:function(e){return new Date(parseInt(e)).toISOString().replace(".000Z","Z").split("T")[1].split("Z")[0].split(".")[0]}})}},n.options);if(n.maxTimeRangeTimestamp=s,Na.create(n.slider,l),n.createEvents(),w(n.dataSourceObject)){var u=new BroadcastChannel(n.dataSourceObject.getTimeTopicId());u.onmessage=function(e){n.update||(n.slider.noUiSlider.set([e.data.timestamp]),n.onChange(e.data.timestamp,parseInt(n.slider.noUiSlider.get()[1]),"data"))},n.bc=u}return n}return(0,v.Z)(r,[{key:"createActivateButton",value:function(){var e=document.createElement("div"),t=document.createElement("a");e.appendChild(t),e.setAttribute("class","core-rangeslider-control");var r=this;e.addEventListener("click",(function(t){e.className.indexOf("core-rangeslider-control-select")>-1?(e.setAttribute("class","core-rangeslider-control"),r.deactivate()):(e.setAttribute("class","core-rangeslider-control-select"),r.activate())})),document.getElementById(this.divId).appendChild(e)}},{key:"createEvents",value:function(){var e=this;this.slider.noUiSlider.on("start",(function(t,r){e.update=!0,e.sliding=!0;var n=parseInt(t[0]),i=parseInt(t[1])||parseInt(e.maxTimeRangeTimestamp);e.onChange(n,i,"start")})),this.slider.noUiSlider.on("slide",(function(t,r){e.sliding=!0,e.update=!0;var n=parseInt(t[0]),i=parseInt(t[1])||parseInt(e.maxTimeRangeTimestamp);e.onChange(n,i,"slide")})),this.slider.noUiSlider.on("end",(function(t,r){if(e.sliding){e.sliding=!1;var n=parseInt(t[0]),i=parseInt(t[1])||parseInt(e.maxTimeRangeTimestamp);e.onChange(n,i,"end"),setTimeout((function(){return e.update=!1}),e.debounce)}}))}},{key:"deactivate",value:function(){this.slider.setAttribute("disabled",!0)}},{key:"activate",value:function(){this.slider.removeAttribute("disabled")}},{key:"setData",value:function(e,t){for(var r=t.values,n=0;n<r.length;n++)this.update||this.slider.noUiSlider.set([r[n].timestamp])}},{key:"setStartTime",value:function(e){this.update||this.slider.noUiSlider.set([e])}},{key:"setTime",value:function(e,t){this.update||this.slider.noUiSlider.set([e,t])}},{key:"setTimeRange",value:function(e,t){this.update||this.slider.noUiSlider.updateOptions({range:{min:e,max:t}})}},{key:"onChange",value:function(e,t,r){"end"===r&&this.dataSourceObject.setTimeRange(new Date(e).toISOString(),new Date(t).toISOString(),this.dataSourceObject.properties.replaySpeed,!0)}},{key:"destroy",value:function(){w(this.slider)&&w(this.slider.noUiSlider)&&this.slider.noUiSlider.destroy(),w(this.bc)&&this.bc.close()}},{key:"disable",value:function(){w(this.slider)&&this.slider.setAttribute("disabled",!0)}},{key:"enable",value:function(){w(this.slider)&&this.slider.removeAttribute("disabled")}}]),r}(it),Ya=Ha,Ka={name:"RangeSliderReplay",props:["minTimestamp","maxTimestamp","startTimestamp","endTimestamp","interval","waitForTimeChangedEvent","dataSynchronizer"],watch:{minTimestamp:function(){this.rangeSlider.setTimeRange(this.minTimestamp,this.maxTimestamp)},maxTimestamp:function(){this.rangeSlider.setTimeRange(this.minTimestamp,this.maxTimestamp)},startTimestamp:function(){this.rangeSlider.setTime(this.startTimestamp,this.endTimestamp)},endTimestamp:function(){this.rangeSlider.setTime(this.startTimestamp,this.endTimestamp)}},data:function(){return{id:L(),rangeSlider:void 0}},mounted:function(){var e=this;this.rangeSlider=new Ya({container:this.id,minTimeRange:new Date(this.minTimestamp).toISOString(),maxTimeRange:new Date(this.maxTimestamp).toISOString(),startTime:new Date(this.startTimestamp).toISOString(),endTime:new Date(this.endTimestamp).toISOString(),debounce:200,options:{}});this.update;this.rangeSlider.onChange=function(t,r,n){"slide"===n?(!0,e.$emit("event",{name:"model",update:!0})):"end"===n&&(!1,e.$emit("event",{name:"model",update:!1})),e.interval||e.$emit("event",{name:n,startTimestamp:t,endTimestamp:r}),"end"===n&&e.$emit("event",{name:"doPlay"})},w(this.dataSynchronizer)&&(this.dataSynchronizer.onRemovedDataSource=function(e){0===this.dataSynchronizer.getDataSources().length&&w(this.rangeSlider)&&this.rangeSlider.disable()}.bind(this),this.dataSynchronizer.onAddedDataSource=function(e){console.log("onAdded"),this.dataSynchronizer.getDataSources().length>0&&w(this.rangeSlider)&&this.rangeSlider.enable()}.bind(this))},methods:{setStartTime:function(e){this.rangeSlider.setStartTime(e)}},beforeUnmount:function(){this.rangeSlider&&this.rangeSlider.destroy()},beforeDestroy:function(){this.rangeSlider&&this.rangeSlider.destroy()}};const Ga=(0,zo.Z)(Ka,[["render",Va]]);var $a=Ga,Qa=function(e){return(0,i.dD)("data-v-22f2bd72"),e=e(),(0,i.Cn)(),e},Xa={class:"control-time"},Ja=["innerHTML"],es=Qa((function(){return(0,i._)("span",{style:{padding:"0 10px 0 10px"}},"/",-1)})),ts=["innerHTML"];function rs(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)("div",Xa,[(0,i._)("span",{innerHTML:r.htmlCurrentTime},null,8,Ja),es,(0,i._)("span",{innerHTML:r.htmlEndTime},null,8,ts)])}var ns={name:"ControlTimeReplay",props:["htmlCurrentTime","htmlEndTime"]};const is=(0,zo.Z)(ns,[["render",rs],["__scopeId","data-v-22f2bd72"]]);var os=is,as={name:"TimeControllerReplay",components:{ControlTimeReplay:os,RangeSliderReplay:$a},props:{supportRealTime:{type:Boolean,default:function(){return!0}},dataSource:{type:Object},dataSynchronizer:{type:Object},skipTimeStep:{type:String,default:function(){return"5s"}},replaySpeedStep:{type:Number,default:function(){return.1}},debounce:{type:Number,default:function(){return 800}},startTimeAsTimestamp:{type:Number},parseTime:{type:Function,default:function(e){var t=new Date(e),r=t.toISOString(),n=r.substr(0,10),i=r.substr(11,8);return'<div class="box-time"><div><strong>'+i+"</strong></div><div><i><small>("+n+")</small></i></div></div>"}}},data:function(){return{id:L(),speedId:L(),event:null,dataSourceObject:null,connected:!0,startTimestamp:null,endTimestamp:null,minTimestamp:null,maxTimestamp:null,speed:1,interval:!1,rangeSlider:null,skipTime:0,init:!1,update:!1,lastSynchronizedTimestamp:-1,waitForTimeChangedEvent:!1,rangeSliderInit:!1}},watch:{event:function(e){this.$emit("event",{event:e,startTimestamp:this.startTimestamp,endTimestamp:this.endTimestamp})}},computed:{minTimeStamp:function(){return this.minTimestamp},maxTimeStamp:function(){return this.maxTimestamp},startTimeStamp:function(){return this.startTimestamp},endTimeStamp:function(){return this.endTimestamp},htmlCurrentTime:function(){return this.parseTime(this.startTimestamp)},htmlEndTime:function(){return this.parseTime(this.endTimestamp)}},beforeMount:function(){I(this.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),this.dataSourceObject=this.getDataSourceObject()},updated:function(){},mounted:function(){this.initComp()},methods:{initComp:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return I(e.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),t.next=3,e.checkInit();case 3:e.createTimeBc(),e.dataSourceObject.subscribe(function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r.status!==le.DISCONNECTED&&r.status!==le.FETCH_ENDED&&r.status!==le.FETCH_STARTED){t.next=4;break}return t.next=3,e.dataSourceObject.isConnected();case 3:e.connected=t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[Y.STATUS]),e.updateTimeDebounce=z(e.updateTime.bind(e),e.debounce),e.setRangeSliderStartTimeThrottle=B(e.setRangeSliderStartTime.bind(e),e.debounce),e.displayConsoleWarningIncompatibleVersionThrottle=B(e.displayConsoleWarningIncompatibleVersion.bind(e),e.debounce),w(e.dataSynchronizer)&&(e.dataSynchronizer.onAddedDataSource=(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkInit();case 2:case"end":return t.stop()}}),t)}))));case 9:case"end":return t.stop()}}),t)})))()},checkInit:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.init&&e.dataSourceObject.getDataSources().length>0)try{e.dataSourceObject.isConnected().then((function(t){return e.connected=t})),e.minTimestamp=e.dataSourceObject.getMinTimeAsTimestamp(),e.maxTimestamp=e.dataSourceObject.getMaxTimeAsTimestamp(),e.speed=e.dataSourceObject.getReplaySpeed(),e.startTimestamp=e.dataSourceObject.getStartTimeAsTimestamp()?e.dataSourceObject.getStartTimeAsTimestamp():e.minTimestamp,e.endTimestamp=e.dataSourceObject.getEndTimeAsTimestamp()?e.dataSourceObject.getEndTimeAsTimestamp():e.maxTimestamp,e.computeSkipTime(),e.init=!0,e.createRangeSlider()}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})))()},computeSkipTime:function(){if(this.skipTimeStep.endsWith("s"))this.skipTime=1e3*parseFloat(this.skipTimeStep.substring(0,this.skipTimeStep.length-1));else if(this.skipTimeStep.endsWith("%")){var e=this.maxTimestamp-this.minTimestamp,t=parseFloat(this.skipTimeStep.substring(0,this.skipTimeStep.length-1));this.skipTime=t*e/100}},displayConsoleWarningIncompatibleVersionThrottle:function(){},displayConsoleWarningIncompatibleVersion:function(){console.warn("Incompatible data version")},createTimeBc:function(){var e=this;this.dataSourceObject.subscribe((function(t){t.type===Y.CLOSED&&(e.connected=!1),e.waitForTimeChangedEvent&&(t.type===Y.MASTER_TIME&&e.displayConsoleWarningIncompatibleVersionThrottle(),t.type===Y.TIME_CHANGED)?e.waitForTimeChangedEvent=!1:e.waitForTimeChangedEvent||(t.type===Y.MASTER_TIME&&(e.connected||(e.connected=!0),!e.interval&&e.speed>0&&!e.update&&e.setStartTimestamp(t.timestamp)),t.type===Y.MASTER_TIME&&(e.lastSynchronizedTimestamp=t.timestamp))}),[Y.TIME_CHANGED,Y.MASTER_TIME,Y.CLOSED])},setStartTimestamp:function(e){this.startTimestamp=e;var t=this.$refs.rangeSliderRef;t&&t.setStartTime(e)},createRangeSlider:function(){var e=this;if(!this.rangeSliderInit){var t={};w(this.dataSynchronizer)?(t.dataSynchronizer=this.dataSynchronizer,this.dataSynchronizer.onTimeChanged=function(t,r,n,i){e.minTimestamp=t,e.maxTimestamp=r,e.startTimestamp=n||t,e.endTimestamp=i||r,e.computeSkipTime()}):t.dataSource=this.dataSource,this.rangeSliderInit=!0}},doBackward:function(){var e=this;this.interval||(this.interval=setInterval((function(){var t=parseInt(e.startTimestamp-e.skipTime);t>e.minTimestamp?e.startTimestamp=t:(e.startTimestamp=e.minTimestamp,t=e.minTimestamp),e.setRangeSliderStartTime(t)}),70))},stopBackward:function(){this.interval&&(clearInterval(this.interval),this.interval=!1,this.update=!0,this.updateTimeDebounce("backward"))},onRangeSliderEvent:function(e){"startTimestamp"in e&&(this.startTimestamp=e.startTimestamp,this.waitForTimeChangedEvent=!0),"endTimestamp"in e&&(this.endTimestamp=e.endTimestamp,this.waitForTimeChangedEvent=!0),"update"in e&&(this.update=e.update,this.waitForTimeChangedEvent=!0),"waitForTimeChangedEvent"in e&&(this.waitForTimeChangedEvent=e.waitForTimeChangedEvent),"doPlay"===e.name&&this.doPlay()},resetMasterTime:function(){this.waitForTimeChangedEvent=-1!==this.lastSynchronizedTimestamp,this.lastSynchronizedTimestamp=-1,this.on("time-changed"),this.update=!1},updateTime:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.resetMasterTime(),r.next=3,t.dataSourceObject.setTimeRange(new Date(t.startTimestamp).toISOString(),new Date(t.endTimestamp).toISOString(),t.speed,!0);case 3:t.on(e);case 4:case"end":return r.stop()}}),r)})))()},updateTimeDebounce:function(){},setRangeSliderStartTime:function(e){var t=this.$refs.rangeSliderRef;t&&t.setStartTime(e)},setRangeSliderStartTimeThrottle:function(){},stopForward:function(){this.interval&&(this.update=!0,this.updateTimeDebounce("forward"),clearInterval(this.interval),this.interval=!1)},doFastForward:function(){var e=this;this.interval||(this.interval=setInterval((function(){var t=parseInt(e.startTimestamp+e.skipTime);t<e.maxTimestamp?e.startTimestamp=t:(e.startTimestamp=e.maxTimestamp,t=e.maxTimestamp),e.setRangeSliderStartTime(t)}),70))},doPause:function(){this.waitForTimeChangedEvent=!0,this.dataSourceObject.disconnect(),this.on("pause"),this.on("time-changed")},doPlay:function(){this.updateTime("play")},getDataSourceObject:function(){return w(this.dataSynchronizer)?this.dataSynchronizer:this.dataSource},toggleRealtime:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.on("toggle-realtime");case 1:case"end":return t.stop()}}),t)})))()},incSpeed:function(){this.speed>10?this.speed+=10*this.replaySpeedStep:this.speed+=this.replaySpeedStep},incSpeedDown:function(){var e=this;this.interval||(this.incSpeedTimeout=setTimeout((function(){e.interval=setInterval(e.incSpeed,70)}),200))},decSpeed:function(){var e;e=this.speed>10?this.speed-10*this.replaySpeedStep:this.speed-this.replaySpeedStep,e>=.1?this.speed=e:.1!==this.speed&&(this.speed=.1)},decSpeedDown:function(){var e=this;this.speed>.1&&(this.interval||(this.incSpeedTimeout=setTimeout((function(){e.interval=setInterval(e.decSpeed,70)}),200)))},stopSpeed:function(){(this.interval||w(this.incSpeedTimeout))&&(this.interval?(clearInterval(this.interval),this.interval=!1):(clearTimeout(this.incSpeedTimeout),this.incSpeedTimeout=null),this.updateTimeDebounce("end"))},on:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit("event",(0,c.Z)({name:e},t))},withLeadingZeros:function(e){return(e<10?"0":"")+e},beforeUnmount:function(){var e=this.$refs.rangeSliderRef;e&&e.destroy()},beforeDestroy:function(){var e=this.$refs.rangeSliderRef;e&&e.destroy()}}};const ss=(0,zo.Z)(as,[["render",Wa],["__scopeId","data-v-5b61a8a8"]]);var ls=ss,cs=(r(69720),function(e){return(0,i.dD)("data-v-528e1b34"),e=e(),(0,i.Cn)(),e}),us=["id"],ds={class:"buttons"},hs={class:"actions"},ps={class:"datasource-actions live"},fs=["id"],ms=cs((function(){return(0,i._)("i",{class:"fa fa-history"},null,-1)})),vs=[ms],gs=["id","innerHTML"],ys=cs((function(){return(0,i._)("span",{class:"chip live"},"LIVE",-1)})),bs={key:1,class:"out-of-sync"},ws=["id"],ks=["title"];function _s(e,t,r,n,o,a){var s=(0,i.up)("RangeSliderRealtime");return(0,i.wg)(),(0,i.iD)("div",{id:"control-component-"+this.id,class:"control"},[o.rangeSliderInit&&o.init?((0,i.wg)(),(0,i.j4)(s,{key:0,"start-timestamp":o.masterTime,dataSynchronizer:r.dataSynchronizer,ref:"rangeSliderRef"},null,8,["start-timestamp","dataSynchronizer"])):(0,i.kq)("",!0),(0,i._)("div",ds,[(0,i._)("div",hs,[(0,i._)("div",ps,[(0,i._)("a",{id:"replay-btn-"+o.id,class:"control-btn replay",onClick:t[0]||(t[0]=function(){return a.toggleReplay&&a.toggleReplay.apply(a,arguments)})},vs,8,fs)]),o.masterTime?((0,i.wg)(),(0,i.iD)("span",{key:0,id:"current-time-"+o.id,innerHTML:r.parseTime(o.masterTime)},null,8,gs)):(0,i.kq)("",!0),ys,Object.entries(o.outOfSync).length>0?((0,i.wg)(),(0,i.iD)("div",bs,[(0,i._)("a",{id:"out-of-sync-btn-"+o.id,class:"control-btn out-of-sync"},[(0,i._)("i",{class:"fa fa-exclamation-triangle","data-toggle":"tooltip",title:a.renderOutOfSync()},null,8,ks)],8,ws)])):(0,i.kq)("",!0)])])],8,us)}var Ss=function(e){(0,ne.Z)(r,e);var t=(0,ie.Z)(r);function r(e){var n;if((0,m.Z)(this,r),n=t.call(this,(0,c.Z)((0,c.Z)({},e),{},{supportedLayers:["data"]})),n.slider=document.createElement("div"),n.slider.setAttribute("class","core-rangeslider-slider"),document.getElementById(n.divId).appendChild(n.slider),n.update=!1,n.dataSourceObject=null,n.debounce=0,n.options={},n.sliding=!1,n.startTimestamp=(new Date).toISOString(),w(e)&&(w(e.dataSynchronizer)&&(n.dataSourceObject=e.dataSynchronizer),w(e.dataSource)&&(n.dataSourceObject=e.dataSource),w(e.debounce)&&(n.debounce=parseInt(e.debounce)),w(e.startTimestamp)&&(n.startTimestamp=e.startTimestamp),w(e.options)&&(n.options=e.options),n.slider.setAttribute("disabled",e.disabled)),Na.create(n.slider,(0,c.Z)({start:n.startTimestamp,range:{min:n.startTimestamp,max:n.startTimestamp+72e5},format:qa({decimals:0}),behaviour:"drag",connect:!0,animate:!1,pips:{mode:"positions",values:[5,25,50,75],density:1,format:qa({edit:function(e){return new Date(parseInt(e)).toISOString().replace(".000Z","Z").split("T")[1].split("Z")[0].split(".")[0]}})}},n.options)),w(n.dataSourceObject)){var i=new BroadcastChannel(n.dataSourceObject.getTimeTopicId());i.onmessage=function(e){n.update||e.data.type===Y.MASTER_TIME&&(n.slider.noUiSlider.set(e.data.timestamp),n.onChange(e.data.timestamp,"data"))}}return n}return(0,v.Z)(r,[{key:"onChange",value:function(e,t){}},{key:"setData",value:function(e,t){}}]),r}(it),xs=Ss,Ts=["id"];function Is(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)("div",{id:o.id,class:"range"},null,8,Ts)}var Cs={name:"RangeSliderRealtime",props:["startTimestamp","dataSynchronizer"],data:function(){return{id:L(),rangeSlider:void 0}},mounted:function(){this.rangeSlider=new xs({container:this.id,debounce:200,dataSynchronizer:this.dataSynchronizer,startTimestamp:Date.now(),options:{}})},methods:{setStartTime:function(e){this.rangeSlider.setStartTime(e)},destroy:function(){this.rangeSlider&&this.rangeSlider.destroy()}},beforeUnmount:function(){this.destroy()},beforeDestroy:function(){this.destroy()}};const Es=(0,zo.Z)(Cs,[["render",Is]]);var Zs=Es,Ds={name:"TimeControllerRealtime",components:{RangeSliderRealtime:Zs},props:{dataSource:{type:Object},dataSynchronizer:{type:Object},debounce:{type:Number,default:function(){return 800}},parseTime:{type:Function,default:function(e){var t=new Date(e),r=t.toISOString(),n=r.substr(0,10),i=r.substr(11,8);return'<div class="box-time"><div><strong>'+i+"</strong></div><div><i><small>("+n+")</small></i></div></div>"}}},data:function(){return{id:L(),event:null,dataSourceObject:null,rangeSliderInit:!1,init:!1,lastSynchronizedTimestamp:-1,outOfSync:{},masterTime:void 0}},watch:{event:function(e){this.$emit("event",{event:e})}},beforeMount:function(){I(this.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),this.dataSourceObject=this.getDataSourceObject()},updated:function(){},mounted:function(){this.initComp()},methods:{initComp:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init||(I(e.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),e.subscribeEvents(),e.displayConsoleWarningIncompatibleVersionThrottle=B(e.displayConsoleWarningIncompatibleVersion.bind(e),e.debounce),e.init=!0);case 1:case"end":return t.stop()}}),t)})))()},displayConsoleWarningIncompatibleVersionThrottle:function(){},displayConsoleWarningIncompatibleVersion:function(){console.warn("Incompatible data version")},subscribeEvents:function(){var e=this,t=w(this.dataSynchronizer);this.dataSourceObject.subscribe((function(r){if(t){if(r.type===Y.MASTER_TIME){var n=r.dataSourceId in e.outOfSync;if(r.timestamp<e.lastSynchronizedTimestamp)return void(n||e.dataSynchronizer.getDataSources().forEach((function(t){t.id===r.dataSourceId&&(e.outOfSync[t.id]=t)})));n&&delete e.outOfSync[r.dataSourceId],e.lastSynchronizedTimestamp=r.timestamp,e.masterTime=r.timestamp,e.rangeSliderInit||(e.rangeSliderInit=!0)}}else r.type===Y.LAST_TIME&&(e.masterTime=r.timestamp,e.rangeSliderInit||(e.rangeSliderInit=!0))}),[Y.TIME_CHANGED,Y.MASTER_TIME,Y.LAST_TIME,Y.DATA])},resetMasterTime:function(){this.lastSynchronizedTimestamp=-1,this.outOfSync={}},getDataSourceObject:function(){return w(this.dataSynchronizer)?this.dataSynchronizer:this.dataSource},toggleReplay:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.on();case 1:case"end":return t.stop()}}),t)})))()},on:function(){this.$emit("event",{name:"toggle-replay",active:!0,lastTimestamp:this.lastSynchronizedTimestamp})},withLeadingZeros:function(e){return(e<10?"0":"")+e},renderOutOfSync:function(){var e="";for(var t in this.outOfSync)e+=this.outOfSync[t].name+" is out of sync\n";return e}},beforeUnmount:function(){var e=this.$refs.rangeSliderRef;e&&e.destroy()},beforeDestroy:function(){var e=this.$refs.rangeSliderRef;e&&e.destroy()}};const As=(0,zo.Z)(Ds,[["render",_s],["__scopeId","data-v-528e1b34"]]);var Ps=As,Ms=function(e){return(0,i.dD)("data-v-1237c57a"),e=e(),(0,i.Cn)(),e},Os=["id"],Rs={class:"buttons"},Ls={class:"actions"},js={class:"datasource-actions replay"},zs=["id"],Bs=Ms((function(){return(0,i._)("i",{class:"fa fa-history"},null,-1)})),Fs=[Bs];function Ws(e,t,r,n,o,a){var s=(0,i.up)("RangeSliderReplay"),l=(0,i.up)("ControlTimeReplay");return(0,i.wg)(),(0,i.iD)("div",{id:"control-component-"+this.id,class:"control"},[o.rangeSliderInit&&o.init?((0,i.wg)(),(0,i.j4)(s,{key:0,update:o.update,interval:o.interval,onEvent:a.onRangeSliderEvent,minTimestamp:a.minTimeStamp,maxTimestamp:a.maxTimeStamp,"start-timestamp":a.startTimeStamp,"end-timestamp":a.endTimeStamp,ref:"rangeSliderRef"},null,8,["update","interval","onEvent","minTimestamp","maxTimestamp","start-timestamp","end-timestamp"])):(0,i.kq)("",!0),(0,i._)("div",Rs,[(0,i._)("div",Ls,[(0,i._)("div",js,[(0,i._)("a",{id:"replay-btn-"+o.id,class:"control-btn clicked",onClick:t[0]||(t[0]=function(){return a.toggleRealtime&&a.toggleRealtime.apply(a,arguments)})},Fs,8,zs),(0,i.Wm)(l,{htmlCurrentTime:a.htmlCurrentTime,htmlEndTime:a.htmlEndTime},null,8,["htmlCurrentTime","htmlEndTime"])])])])],8,Os)}var Us={name:"TimeControllerBatch",components:{ControlTimeReplay:os,RangeSliderReplay:$a},props:{dataSource:{type:Object},debounce:{type:Number,default:function(){return 800}},parseTime:{type:Function,default:function(e){var t=new Date(e),r=t.toISOString(),n=r.substr(0,10),i=r.substr(11,8);return'<div class="box-time"><div><strong>'+i+"</strong></div><div><i><small>("+n+")</small></i></div></div>"}},startTimeAsTimestamp:{type:String}},data:function(){return{id:L(),speedId:L(),event:null,connected:!0,startTimestamp:null,endTimestamp:null,minTimestamp:null,maxTimestamp:null,interval:!1,bcTime:null,init:!1,waitForTimeChangedEvent:!1,update:!1,rangeSliderInit:!1}},watch:{event:function(e){this.$emit("event",{event:e,startTimestamp:this.startTimestamp,endTimestamp:this.endTimestamp})}},computed:{minTimeStamp:function(){return this.minTimestamp},maxTimeStamp:function(){return this.maxTimestamp},startTimeStamp:function(){return this.startTimestamp},endTimeStamp:function(){return this.endTimestamp},htmlCurrentTime:function(){return this.parseTime(this.startTimestamp)},htmlEndTime:function(){return this.parseTime(this.endTimestamp)}},mounted:function(){this.initComp()},methods:{initComp:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init||(e.minTimestamp=e.dataSource.getMinTimeAsTimestamp(),e.maxTimestamp=e.dataSource.getMaxTimeAsTimestamp(),e.startTimestamp=e.dataSource.getStartTimeAsTimestamp(),e.endTimestamp=e.dataSource.getEndTimeAsTimestamp(),e.createTimeBc(),e.dataSource.subscribe((function(t){t.status===le.DISCONNECTED||t.status===le.FETCH_ENDED?e.connected=!1:t.status===le.FETCH_STARTED&&(e.connected=!0)}),[Y.STATUS]),e.createRangeSlider(),e.updateTimeDebounce=z(e.updateTime.bind(e),e.debounce),e.setRangeSliderStartTimeThrottle=B(e.setRangeSliderStartTime.bind(e),e.debounce),e.init=!0,e.dataSource.connect());case 1:case"end":return t.stop()}}),t)})))()},destroyBc:function(){w(this.bcTime)&&this.bcTime.close()},destroyTimeBc:function(){this.bcTime.close()},createTimeBc:function(){var e=this;this.dataSource.subscribe((function(t){e.waitForTimeChangedEvent&&console.log("Waiting for TIME CHANGED EVENT"),e.waitForTimeChangedEvent?t.type===Y.MASTER_TIME?e.displayConsoleWarningIncompatibleVersionThrottle():t.type===Y.TIME_CHANGED&&(e.waitForTimeChangedEvent=!1):t.type===Y.MASTER_TIME&&(e.lastSynchronizedTimestamp=t.timestamp,!e.interval&&e.speed>0&&!e.update&&e.setStartTime(t.timestamp))}),[Y.TIME_CHANGED,Y.MASTER_TIME])},setStartTime:function(e){this.startTimestamp=e,this.rangeSlider.setStartTime(this.startTimestamp,this.endTimestamp)},createRangeSlider:function(){if(!this.rangeSliderInit){var e={};w(this.dataSynchronizer)?(e.dataSynchronizer=this.dataSynchronizer,this.dataSynchronizer.onTimeChanged=function(e,t){this.minTimestamp=new Date(e).getTime(),this.maxTimestamp=new Date(t).getTime(),this.endTimestamp=new Date(t).getTime(),new Date(e).getTime()>this.startTimestamp&&(this.startTimestamp=new Date(e).getTime()),this.rangeStartDate=this.parseTime(this.startTimestamp),this.rangeEndDate=this.parseTime(this.maxTimestamp),this.waitForTimeChangedEvent=!1}.bind(this)):e.dataSource=this.dataSource,this.rangeSliderInit=!0}},doPlay:function(){this.updateTime("play"),this.connected=!0},resetMasterTime:function(){this.waitForTimeChangedEvent=-1!==this.lastSynchronizedTimestamp,this.lastSynchronizedTimestamp=-1,this.on("time-changed"),this.update=!1},updateTime:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.resetMasterTime(),t.dataSource.setTimeRange(new Date(t.startTimestamp).toISOString(),new Date(t.endTimestamp).toISOString(),t.speed,!0),t.on(e);case 3:case"end":return r.stop()}}),r)})))()},updateTimeDebounce:function(){},setRangeSliderStartTime:function(e){this.rangeSlider.setStartTime(e)},setRangeSliderStartTimeThrottle:function(){},toggleRealtime:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.on("toggle-realtime");case 1:case"end":return t.stop()}}),t)})))()},on:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit("event",(0,c.Z)({name:e},t))},withLeadingZeros:function(e){return(e<10?"0":"")+e},onRangeSliderEvent:function(e){"startTimestamp"in e&&(this.startTimestamp=e.startTimestamp),"endTimestamp"in e&&(this.endTimestamp=e.endTimestamp),"update"in e&&(this.update=e.update),"waitForTimeChangedEvent"in e&&(this.waitForTimeChangedEvent=e.waitForTimeChangedEvent),"doPlay"===e.name&&this.doPlay()}}};const Vs=(0,zo.Z)(Us,[["render",Ws],["__scopeId","data-v-1237c57a"]]);var Ns=Vs,qs={name:"TimeController",components:{TimeControllerBatch:Ns,TimeControllerReplay:ls,TimeControllerRealtime:Ps},props:{supportRealTime:{type:Boolean,default:function(){return!0}},onControlEventFn:{type:Function},dataSource:{type:Object},dataSynchronizer:{type:Object},skipTimeStep:{type:String,default:function(){return"5s"}},replaySpeedStep:{type:Number,default:function(){return.1}},debounce:{type:Number,default:function(){return 800}},trackRealtime:{type:String},parseTime:{type:Function,default:function(e){var t=new Date(e),r=t.toISOString(),n=r.substr(0,10),i=r.substr(11,8);return'<div class="box-time"><div><strong>'+i+"</strong></div><div><i><small>("+n+")</small></i></div></div>"}}},data:function(){return{id:L(),init:!1,replayProps:{},replay:!1,batch:!1,realTime:!1,mode:g.REPLAY,timeNow:-1}},beforeMount:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dataSourceObject=e.getDataSourceObject(),e.mode=e.dataSourceObject.getMode(),e.checkMode();case 3:case"end":return t.stop()}}),t)})))()},methods:{getDataSourceObject:function(){return w(this.dataSynchronizer)?this.dataSynchronizer:this.dataSource},checkMode:function(){this.batch=!1,this.replay=!1,this.realTime=!1,this.dataSourceObject.getMode()===g.REPLAY?this.replay=!0:this.dataSourceObject.getMode()===g.BATCH?this.batch=!0:this.dataSourceObject.getMode()===g.REAL_TIME&&(this.realTime=!0)},onControlEvent:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("toggle-replay"!==e.name){r.next=7;break}return t.timeNow=e.lastTimestamp,r.next=4,t.dataSourceObject.disconnect();case 4:t.mode===g.BATCH?t.dataSourceObject.setMode(g.BATCH).then((function(){t.checkMode(),t.dataSourceObject.connect().then((function(){t.onControlEventFn&&(t.onControlEventFn("play"),t.onControlEventFn("mode","replay")),t.$emit("event","play"),t.$emit("mode","replay")}))})):t.mode!==g.REPLAY&&t.mode!==g.REAL_TIME||(w(t.trackRealtime)?t.dataSourceObject.setMode(g.REPLAY).then((function(){t.checkMode(),t.getDataSourceObject().autoUpdateTime(!0).then((function(){t.dataSourceObject.connect().then((function(){t.onControlEventFn&&(t.onControlEventFn("play"),t.onControlEventFn("mode","replay")),t.$emit("event","play"),t.$emit("mode","replay")}))}))})):t.dataSourceObject.setMode(g.REPLAY).then((function(){t.checkMode(),t.dataSourceObject.connect().then((function(){t.onControlEventFn&&(t.onControlEventFn("play"),t.onControlEventFn("mode","replay")),t.$emit("event","play"),t.$emit("mode","replay")}))}))),r.next=17;break;case 7:if("toggle-realtime"!==e.name){r.next=17;break}return r.next=10,t.dataSourceObject.disconnect();case 10:return r.next=12,t.dataSourceObject.setMode(g.REAL_TIME);case 12:t.checkMode(),t.dataSourceObject.connect(),t.onControlEventFn&&(t.onControlEventFn("play"),t.onControlEventFn("mode","realtime")),t.$emit("event","play"),t.$emit("mode","realtime");case 17:case"end":return r.stop()}}),r)})))()}}};const Hs=(0,zo.Z)(qs,[["render",pa]]);var Ys=Hs,Ks=function(e){return(0,i.dD)("data-v-1562efaf"),e=e(),(0,i.Cn)(),e},Gs=["id"],$s={class:"ptz-zoom"},Qs=Ks((function(){return(0,i._)("i",{class:"fa fa-plus-circle","aria-hidden":"true"},null,-1)})),Xs=[Qs],Js=Ks((function(){return(0,i._)("div",{class:"ptz-zoom-bar"},null,-1)})),el=Ks((function(){return(0,i._)("i",{class:"fa fa-minus-circle","aria-hidden":"true"},null,-1)})),tl=[el],rl={class:"ptz"},nl=Ks((function(){return(0,i._)("div",{cmd:"ptzReset",class:"reset",title:"Center",name:""},null,-1)}));function il(e,t,r,n,o,a){var s=this;return(0,i.wg)(),(0,i.iD)("div",{id:n.id,class:"ptz-container"},[(0,i._)("div",$s,[(0,i._)("div",{class:"ptz-zoom-in",onClick:t[0]||(t[0]=function(e){return a.onZoomClick(n.zoomIncrement)})},Xs),Js,(0,i._)("div",{class:"ptz-zoom-out",onClick:t[1]||(t[1]=function(e){return a.onZoomClick(-1*n.zoomIncrement)})},tl)]),(0,i._)("div",rl,[(0,i._)("div",{tag:"0",class:"moveUp",onClick:t[2]||(t[2]=function(e){return a.onTiltClick(n.tiltIncrement)}),name:""}),(0,i._)("div",{tag:"91",class:"moveTopLeft",onClick:t[3]||(t[3]=function(e){return a.onTiltPanClick(-1*n.tiltIncrement,n.panIncrement)}),name:""}),(0,i._)("div",{tag:"90",class:"moveTopRight",onClick:t[4]||(t[4]=function(e){return a.onTiltPanClick(n.tiltIncrement,n.panIncrement)}),name:""}),(0,i._)("div",{tag:"6",class:"moveLeft",onClick:t[5]||(t[5]=function(e){return a.onPanClick(-1*n.panIncrement)}),name:""}),nl,(0,i._)("div",{tag:"4",class:"moveRight",onClick:t[6]||(t[6]=function(e){return s.onPanClick(n.panIncrement)}),name:""}),(0,i._)("div",{tag:"93",class:"moveBottomLeft",onClick:t[7]||(t[7]=function(e){return s.onTiltPanClick(-1*n.tiltIncrement,-1*n.panIncrement)}),name:""}),(0,i._)("div",{tag:"92",class:"moveBottomRight",onClick:t[8]||(t[8]=function(e){return a.onTiltPanClick(n.tiltIncrement,-1*n.panIncrement)}),name:""}),(0,i._)("div",{tag:"2",class:"moveDown",onClick:t[9]||(t[9]=function(e){return a.onTiltClick(-1*n.tiltIncrement)}),name:""})])],8,Gs)}var ol={name:"PtzView",props:["widget"],setup:function(e){var t=L(),r=10,n=10,i=.1;return{id:t,panIncrement:r,tiltIncrement:n,zoomIncrement:i}},data:function(){return{initSwe:!1}},methods:{initSweApi:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){var r,n,i;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.initSwe){t.next=10;break}return r=e.widget.properties,n=new ro(r.control),t.next=5,n.getSystemById(r.control.systemId);case 5:return i=t.sent,t.next=8,i.getControlById(r.control.cmdStreamId);case 8:e.control=t.sent,e.initSwe=!0;case 10:case"end":return t.stop()}}),t)})))()},onTiltClick:function(e){this.onChange(null,e,null,null)},onTiltPanClick:function(e,t){this.onChange(e,t,null,null)},onPanClick:function(e){this.onChange(e,null,null,null)},onZoomClick:function(e){this.onChange(null,null,e,null)},onChange:function(e,t,r){var n=this;return(0,h.Z)((0,d.Z)().mark((function i(){var o,a,s;return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.initSweApi();case 2:if(!w(e)){i.next=7;break}return o={params:{rpan:e}},console.log(JSON.stringify(o)),i.next=7,n.control.postCommand(JSON.stringify(o));case 7:if(!w(t)){i.next=12;break}return a={params:{rtilt:t}},console.log(JSON.stringify(a)),i.next=12,n.control.postCommand(JSON.stringify(a));case 12:if(!w(r)){i.next=17;break}return s={params:{rzoom:r}},console.log(JSON.stringify(s)),i.next=17,n.control.postCommand(JSON.stringify(s));case 17:case"end":return i.stop()}}),i)})))()}}};const al=(0,zo.Z)(ol,[["render",il],["__scopeId","data-v-1562efaf"]]);var sl=al,ll={name:"Widget",components:{PtzView:sl,ConfirmDialog:da,TimeController:Ys},inject:["$item"],props:["id","bk"],emits:["moveEnd","resizeEnd"],setup:function(e){var t=(0,i.f3)("windowId"),r=e.id,n=Eo(),o=Lo(),a=(0,Wo.yj)(),s=a.params.dashboardId;return{widgetId:r,dashboardId:s,uiStore:n,clientStore:o,windowId:t}},data:function(){return{widget:void 0,view:void 0,trackRealtime:"",subscriptions:[],lastPosition:{x:void 0,y:void 0},timeController:!1,ptzControl:!1,versionTimeController:0}},mounted:function(){var e=this;try{this.widget=this.clientStore.getWidgetById(this.dashboardId,this.windowId,this.widgetId),w(this.widget)?"Timebar"===this.widget.uiType?this.timeController=!0:"PtzControl"===this.widget.uiType?this.ptzControl=!0:(this.timeController=!1,this.ptzControl=!1,this.view=uo((0,f.IU)(this.widget))):console.warn("widget not defined!");var t=this.uiStore.$onAction((function(t){var r=t.name,n=(t.store,t.args,t.after);t.onError;"hookReloadWidget"===r&&n((function(t){("addOrEditDataSource"!==t.name&&"removeDataSource"!==t.name||!e.timeController)&&("reset-from-timebar"===t.name?(e.widget=t.widget,e.widget.id===e.widgetId&&e.view&&(e.view.destroy(),e.view=uo((0,f.IU)(e.widget)))):(e.widget=t.widget,e.widget.id===e.widgetId&&(e.view.destroy(),e.view=uo((0,f.IU)(e.widget)))))}))}));this.subscriptions.push(t)}catch(r){console.error(r)}},beforeUnmount:function(){w(this.view)&&this.view.destroy();var e,t=(0,u.Z)(this.subscriptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;r()}}catch(n){t.e(n)}finally{t.f()}},watch:{x:function(){this.lastPosition.x===this.item.x&&this.lastPosition.y===this.item.y||(this.lastPosition.x=this.item.x,this.lastPosition.y=this.item.y,this.$emit("moveEnd",this.item))},y:function(){this.lastPosition.x===this.item.x&&this.lastPosition.y===this.item.y||(this.lastPosition.x=this.item.x,this.lastPosition.y=this.item.y,this.$emit("moveEnd",this.item))}},computed:{dataSynchronizer:function(){return this.clientStore.getDefaultTimeSynchronizer(this.dashboardId)},show:function(){return this.uiStore.ui.connected},item:function(){return this.$item()},x:function(){return this.item?this.item.x:0},y:function(){if(this.item)return this.item.y},width:function(){return this.item?this.item.widthPx:0},height:function(){return this.item?this.item.heightPx:0}},methods:{editView:function(e){this.emitter.emit("show-widget-editor",{id:this.widgetId,edit:!0})},onControlEvent:function(e){"forward"!==e&&"backward"!==e&&"end"!==e&&"replaySpeed"!==e&&"play"!==e||this.uiStore.resetFromTimebar(this.dashboardId,this.windowId,{})},deleteView:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.confirm.open("Confirm","Are you sure you want to remove this view?");case 2:if(!e.sent){e.next=5;break}console.log("removing "+t.widgetId+"from "+t.windowId),t.uiStore.removeGridItem(t.dashboardId,t.windowId,t.widgetId);case 5:case"end":return e.stop()}}),e)})))()}}};const cl=(0,zo.Z)(ll,[["render",ra],["__scopeId","data-v-5b5959e6"]]);var ul=cl,dl=r(58469),hl={name:"Window",components:{Widget:ul,Dashboard:dl.Dashboard,DashLayout:dl.DashLayout,DashItem:dl.DashItem},setup:function(e){var t,r=(0,Wo.yj)(),n=Eo(),i=Lo(),o=r.params,a=o.dashboardId,s=o.windowId,l=L(),c=i.getWindowById(a,s);return{style:t,uiStore:n,uuid:l,clientStore:i,dashboardId:a,windowState:c,windowId:s}},computed:{bk:function(){return this.getBreakpoint()}},methods:{getBreakpoint:function(){return this.$refs.dashboard.currentBreakpoint},moveEnd:function(e){this.moveItem({x:e.x,y:e.y,width:e.width,height:e.height,id:e.id})},widgetMoveResizeEnd:function(e){console.log("resizeEnd"),this.moveItem({x:e.x,y:e.y,width:e.width,height:e.height,id:e.id})},moveItem:function(e){var t=this.clientStore.getWidgetById(this.dashboardId,this.windowState.id,e.id);t.size={width:e.width,height:e.height},t.pos={x:e.x,y:e.y};var r=this.getBreakpoint();this.uiStore.editGridItemByBreakpoint(this.dashboardId,this.windowState,t,r,{x:e.x,y:e.y,width:e.width,height:e.height})}}};const pl=(0,zo.Z)(hl,[["render",Ko],["__scopeId","data-v-747c1598"]]);var fl=pl,ml=r(86562),vl=r(80977),gl=r(47477),yl=r(74286),bl=function(e){return(0,i.dD)("data-v-10b8d6f7"),e=e(),(0,i.Cn)(),e},wl=bl((function(){return(0,i._)("div",{class:"d-flex justify-center align-center title"},[(0,i._)("div",{class:"text-h6"},"View")],-1)})),kl={class:"form"},_l={class:"d-flex justify-center align-center title"},Sl=bl((function(){return(0,i._)("div",{class:"text-h6"},"Layers",-1)})),xl={class:"form"},Tl={class:"d-flex justify-center align-center title"},Il=bl((function(){return(0,i._)("div",{class:"text-h6"},"Layers",-1)})),Cl={class:"form"};function El(e,t,r,n,o,s){var l=(0,i.up)("WidgetFormType"),c=(0,i.up)("WidgetFormLayers");return(0,i.wg)(),(0,i.j4)(vl.k,{progress:"secondary",continuous:!1,class:"caroussel","hide-delimiters":""},{prev:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(a.T,{variant:"elevated",onClick:t.onClick,icon:"mdi-chevron-left",class:"caroussel-left"},null,8,["onClick"])]})),next:(0,i.w5)((function(e){var t=e.props;return["Timebar"!==n.widget.uiType?((0,i.wg)(),(0,i.j4)(a.T,{key:0,variant:"elevated",onClick:t.onClick,icon:"mdi-chevron-right"},null,8,["onClick"])):(0,i.kq)("",!0)]})),default:(0,i.w5)((function(){return[(0,i.Wm)(gl.f,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(yl.C,{class:"sheet"},{default:(0,i.w5)((function(){return[wl,(0,i._)("div",kl,[(0,i.Wm)(l)])]})),_:1})]})),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.widget.layers,(function(e,t){return(0,i.wg)(),(0,i.j4)(gl.f,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(yl.C,{class:"sheet"},{default:(0,i.w5)((function(){return[(0,i._)("div",_l,[Sl,(0,i.Wm)(ml.G,{content:n.widget.layers.length,color:"secondary",class:"badge"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,{icon:"mdi-layers",size:"32px"})]})),_:1},8,["content"])]),(0,i._)("div",xl,[((0,i.wg)(),(0,i.j4)(c,{key:e.id,layer:e,editing:!0},null,8,["layer"]))])]})),_:2},1024)]})),_:2},1024)})),256)),(0,i.Wm)(gl.f,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(yl.C,{class:"sheet"},{default:(0,i.w5)((function(){return[(0,i._)("div",Tl,[Il,(0,i.Wm)(ml.G,{content:n.widget.layers.length,color:"secondary",class:"badge"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,{icon:"mdi-layers",size:"32px"})]})),_:1},8,["content"])]),(0,i._)("div",Cl,[((0,i.wg)(),(0,i.j4)(c,{key:s.uuid(),ref:"viewFormLayers",layer:s.defaultLayer(),editing:!1},null,8,["layer"]))])]})),_:1})]})),_:1})]})),_:1})}var Zl=r(10240),Dl=r(165);function Al(e,t,r,n,o,a){var s=(0,i.up)("WidgetFormMap"),l=(0,i.up)("WidgetFormVideo"),c=(0,i.up)("WidgetFormChart"),u=(0,i.up)("TimeBarForm"),d=(0,i.up)("WidgetFormControlMap"),h=(0,i.up)("PtzForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Name",modelValue:n.widget.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.widget.name=e})},null,8,["modelValue"]),(0,i.Wm)(Zl.rL,{label:"View",items:o.items,variant:"solo",modelValue:o.selected,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return o.selected=e}),a.onChange],density:"compact"},null,8,["items","modelValue","onUpdate:modelValue"]),"Map"===o.selected?((0,i.wg)(),(0,i.j4)(s,{key:0})):"Video"===o.selected?((0,i.wg)(),(0,i.j4)(l,{key:1})):"Chart"===o.selected?((0,i.wg)(),(0,i.j4)(c,{key:2})):"Timebar"===o.selected?((0,i.wg)(),(0,i.j4)(u,{key:3})):(0,i.kq)("",!0),"ControlMap"===o.selected?((0,i.wg)(),(0,i.j4)(d,{key:4})):(0,i.kq)("",!0),"PtzControl"===o.selected?((0,i.wg)(),(0,i.j4)(h,{key:5})):(0,i.kq)("",!0)],64)}var Pl=r(93104);function Ml(e,t,r,n,o,a){var s=(0,i.up)("widget-form-cesium-map");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Type",items:o.items,variant:"solo","onUpdate:modelValue":[a.handleSelect,t[0]||(t[0]=function(e){return o.selected=e})],modelValue:o.selected,density:"compact"},null,8,["items","onUpdate:modelValue","modelValue"]),(0,i.Wm)(Pl.G,{color:"info",label:"Zoom on first data",modelValue:o.properties.autoZoomOnFirstMarker,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.properties.autoZoomOnFirstMarker=e}),onChange:a.handleZoomChange,density:"compact"},null,8,["modelValue","onChange"]),"Cesium"===o.selected?((0,i.wg)(),(0,i.j4)(s,{key:0})):(0,i.kq)("",!0)],64)}function Ol(e,t,r,n,o,a){var s=(0,i.up)("VTextFieldNumber");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s,{label:"Map Center Lat",modelValue:n.widget.properties.options.location.latitude,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.widget.properties.options.location.latitude=e})},null,8,["modelValue"]),(0,i.Wm)(s,{label:"Map Center Lon",modelValue:n.widget.properties.options.location.longitude,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.widget.properties.options.location.longitude=e})},null,8,["modelValue"]),(0,i.Wm)(s,{label:"Map Center Alt",modelValue:n.widget.properties.options.location.altitude,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.widget.properties.options.location.altitude=e})},null,8,["modelValue"]),(0,i.Wm)(s,{label:"Map Orientation Heading",modelValue:n.widget.properties.options.orientation.heading,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.widget.properties.options.orientation.heading=e})},null,8,["modelValue"]),(0,i.Wm)(s,{label:"Map Orientation Pitch",modelValue:n.widget.properties.options.orientation.pitch,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.widget.properties.options.orientation.pitch=e})},null,8,["modelValue"])],64)}function Rl(e,t,r,n,o,a){return(0,i.wg)(),(0,i.j4)(Dl.h,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),type:"number",variant:"solo",label:r.label},null,8,["modelValue","label"])}var Ll={name:"VTextFieldNumber",props:["label"],data:function(){return{value:0}},watch:{value:function(){this.$emit("update:modelValue",parseFloat(this.value))}}};const jl=(0,zo.Z)(Ll,[["render",Rl]]);var zl=jl,Bl={name:"WidgetFormCesiumMap",setup:function(e){var t=(0,i.f3)("widget");return t.properties.options||(t.properties.options={}),t.properties.options.location||(t.properties.options.location={longitude:void 0,latitude:void 0,altitude:void 0}),t.properties.options.orientation||(t.properties.options.orientation={pitch:void 0,heading:void 0}),t.properties.options.layers=["Bing Maps Aerial","Bing Maps Aerial with Labels","Bing Maps Roads"],{widget:t}},components:{VTextFieldNumber:zl}};const Fl=(0,zo.Z)(Bl,[["render",Ol]]);var Wl=Fl,Ul={name:"WidgetFormMap",components:{WidgetFormCesiumMap:Wl},data:function(){return{items:["Cesium","OpenLayer","DeckGl","CesiumControl"],selected:void 0,properties:{autoZoomOnFirstMarker:!1}}},setup:function(e){var t=(0,i.f3)("widget");return{widget:t}},beforeMount:function(){this.widget.supportedLayers=["marker","draping","polyline","polygon","frustum"],this.widget.description=this.widget.description||"Map view",this.widget.description="Map view",w(this.widget.type)?(this.selected=this.widget.type.split("View")[0],this.properties=this.widget.properties):this.widget.properties=(0,c.Z)((0,c.Z)({},this.widget.properties),this.properties)},methods:{handleSelect:function(e){this.widget.layers=[],this.widget.type=e+"View",this.widget.name=e},handleZoomChange:function(e,t){this.widget.properties=(0,c.Z)((0,c.Z)({},this.widget.properties),this.properties)}}};const Vl=(0,zo.Z)(Ul,[["render",Ml]]);var Nl=Vl,ql=r(95999);function Hl(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Type",items:o.items,variant:"solo","onUpdate:modelValue":[a.handleSelect,t[0]||(t[0]=function(e){return o.selected=e})],modelValue:o.selected,density:"compact"},null,8,["items","onUpdate:modelValue","modelValue"]),(0,i.Wm)(ql.R,{modelValue:o.properties.refreshRate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.properties.refreshRate=e}),max:5e3,min:"250",step:250,"show-ticks":"always",label:"Refresh Rate","hide-details":"",class:"ma-0 refreshRate",density:"compact",variant:"solo"},{append:(0,i.w5)((function(){return[(0,i.Wm)(Dl.h,{modelValue:o.properties.refreshRate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.properties.refreshRate=e}),type:"number",style:{width:"85px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["modelValue"])],64)}var Yl={name:"WidgetFormChart",data:function(){return{items:["Curve"],selected:void 0,properties:{refreshRate:250}}},setup:function(e){var t=(0,i.f3)("widget");return{widget:t}},beforeMount:function(){this.widget.supportedLayers=["curve"],this.widget.description=this.widget.description||"Chart View",this.widget.description="Chart view",w(this.widget.subType)?(this.selected=this.widget.subType,this.properties=this.widget.properties):this.widget.properties=this.properties},methods:{handleSelect:function(e){this.widget.layers=[],this.widget.subType=e,this.widget.type="ChartView",this.widget.name="ChartView"}}};const Kl=(0,zo.Z)(Yl,[["render",Hl],["__scopeId","data-v-607d2e0a"]]);var Gl=Kl;function $l(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Pl.G,{color:"info",label:"Show Stats",modelValue:o.properties.showStats,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.properties.showStats=e}),density:"compact"},null,8,["modelValue"]),(0,i.Wm)(Pl.G,{color:"info",label:"Show Time",modelValue:o.properties.showTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.properties.showTime=e}),density:"compact"},null,8,["modelValue"])],64)}var Ql={name:"WidgetFormVideo",data:function(){return{properties:{showStats:!0,showTime:!0,css:"video-css"}}},setup:function(e){var t=(0,i.f3)("widget");return{widget:t}},mounted:function(){this.widget.supportedLayers=["videoData"],this.widget.type="VideoView",this.widget.name="video",this.widget.description="Video view",this.widget.properties=this.properties}};const Xl=(0,zo.Z)(Ql,[["render",$l]]);var Jl=Xl;function ec(e,t,r,n,i,o){return null}var tc={name:"TimebarForm"};const rc=(0,zo.Z)(tc,[["render",ec]]);var nc=rc;function ic(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Pl.G,{color:"info",label:"Zoom on first data",modelValue:n.widget.properties.autoZoomOnFirstMarker,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.widget.properties.autoZoomOnFirstMarker=e}),density:"compact"},null,8,["modelValue"]),(0,i.Wm)(Zl.rL,{label:"Server",items:n.servers,variant:"solo",density:"compact",modelValue:n.widget.properties.control.endpointUrl,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.widget.properties.control.endpointUrl=e}),"item-title":"name","item-value":"endpoint"},null,8,["items","modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"System Id",modelValue:n.widget.properties.control.systemId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.widget.properties.control.systemId=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Command Stream Id",modelValue:n.widget.properties.control.cmdStreamId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.widget.properties.control.cmdStreamId=e})},null,8,["modelValue"])],64)}var oc={name:"WidgetFormControlMap",setup:function(e){var t=(0,i.f3)("widget"),r=Lo(),n=(0,Wo.yj)(),o=n.params.dashboardId,a=r.getServersByDashboard(o);return t.properties||(t.properties={}),t.properties.control||(t.properties.control={endpointUrl:void 0,tls:!0,connectorOpts:{username:"uxs-team",password:"WR6zlso9h#"},systemId:void 0,cmdStreamId:void 0}),t.supportedLayers=["marker","draping","polyline","polygon","frustum"],t.type="CesiumControlView",t.name="cesiumControl",t.description="Cesium control",{widget:t,servers:a}}};const ac=(0,zo.Z)(oc,[["render",ic]]);var sc=ac;function lc(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Server",items:n.servers,variant:"solo",density:"compact",modelValue:n.widget.properties.control.endpointUrl,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.widget.properties.control.endpointUrl=e}),"item-title":"name","item-value":"endpoint"},null,8,["items","modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"System Id",modelValue:n.widget.properties.control.systemId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.widget.properties.control.systemId=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Command Stream Id",modelValue:n.widget.properties.control.cmdStreamId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.widget.properties.control.cmdStreamId=e})},null,8,["modelValue"])],64)}var cc={name:"PtzForm",setup:function(e){var t=(0,i.f3)("widget"),r=Lo(),n=(0,Wo.yj)(),o=n.params.dashboardId,a=r.getServersByDashboard(o);return t.properties||(t.properties={}),t.properties.control||(t.properties.control={endpointUrl:void 0,tls:!0,connectorOpts:{username:"uxs-team",password:"WR6zlso9h#"},systemId:void 0,cmdStreamId:void 0}),t.supportedLayers=[],t.type="PtzControl",t.name="ptzControl",t.description="PTZ control",{widget:t,servers:a}}};const uc=(0,zo.Z)(cc,[["render",lc]]);var dc=uc,hc={name:"WidgetFormType",components:{WidgetFormMap:Nl,WidgetFormVideo:Jl,WidgetFormChart:Gl,TimeBarForm:nc,WidgetFormControlMap:sc,PtzForm:dc},data:function(){return{key:0,s:!1,selected:void 0,version:0,items:["Map","Video","Chart","Timebar","ControlMap","PtzControl"]}},setup:function(e){var t=(0,i.f3)("widget");return{widget:t}},beforeMount:function(){this.selected=this.widget.uiType},methods:{onChange:function(e){this.widget.uiType=e,this.widget.layers=[],this.widget.version++,this.widget.type=void 0}}};const pc=(0,zo.Z)(hc,[["render",Al]]);var fc=pc,mc=function(e){return(0,i.dD)("data-v-6795a90b"),e=e(),(0,i.Cn)(),e},vc=mc((function(){return(0,i._)("span",null,"Remove to View",-1)})),gc=mc((function(){return(0,i._)("span",null,"Add to View",-1)}));function yc(e,t,r,n,o,s){var l=(0,i.up)("WidgetFormPointMarkerLayer"),c=(0,i.up)("WidgetFormVideoLayer"),u=(0,i.up)("WidgetFormCurveLayer"),d=(0,i.up)("WidgetFormFrustumLayer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Type",items:n.widget.supportedLayers,variant:"solo",modelValue:n.reactiveLayer.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.reactiveLayer.type=e}),density:"compact"},null,8,["items","modelValue"]),n.reactiveLayer.type?(0,i.WI)(e.$slots,"default",{key:0},(function(){return["marker"===n.reactiveLayer.type?((0,i.wg)(),(0,i.j4)(l,{key:0})):"videoData"===n.reactiveLayer.type?((0,i.wg)(),(0,i.j4)(c,{key:1})):"curve"===n.reactiveLayer.type?((0,i.wg)(),(0,i.j4)(u,{key:2})):"frustum"===n.reactiveLayer.type?((0,i.wg)(),(0,i.j4)(d,{key:3})):(0,i.kq)("",!0),r.editing?(0,i.WI)(e.$slots,"default",{key:4},(function(){return[(0,i.Wm)(Jo.N,{bottom:""},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(a.T,(0,i.dG)({rounded:"",class:"elevation-6 add-layer-btn",icon:"mdi-minus",color:"red"},t,{onClick:s.removeFromWidget}),null,16,["onClick"])]})),default:(0,i.w5)((function(){return[vc]})),_:1})]}),!0):(0,i.WI)(e.$slots,"default",{key:5},(function(){return[(0,i.Wm)(Jo.N,{bottom:""},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(a.T,(0,i.dG)({rounded:"",class:"elevation-6 add-layer-btn",icon:"mdi-plus"},t,{onClick:s.addToWidget}),null,16,["onClick"])]})),default:(0,i.w5)((function(){return[gc]})),_:1})]}),!0)]}),!0):(0,i.kq)("",!0)],64)}var bc={class:"label-anchor"},wc={class:"icon-anchor"};function kc(e,t,r,n,o,a){var s=(0,i.up)("DataSourceMapping"),l=(0,i.up)("ColorPicker"),c=(0,i.up)("VTextFieldNumber"),u=(0,i.up)("MdiIconPicker");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s,{label:"Label DataSource",name:"Label",model:n.layer.ui.label,mapping:a.labelDataSourceMapping,dataSources:n.dataSources,transformFunc:a.labelTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Description",modelValue:n.layer.description,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.layer.description=e})},null,8,["modelValue"]),(0,i.Wm)(s,{label:"Location DataSource",name:"Location",model:n.layer.ui.location,mapping:a.locationDataSourceMapping,dataSources:n.dataSources,transformFunc:a.locationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(s,{label:"Orientation DataSource",name:"Orientation",model:n.layer.ui.orientation,mapping:a.orientationDataSourceMapping,dataSources:n.dataSources,transformFunc:a.orientationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(s,{label:"MarkerId DataSource",name:"MarkerId",model:n.layer.ui.markerId,mapping:a.markerIdDataSourceMapping,dataSources:n.dataSources,transformFunc:a.markerIdTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(l,{modelValue:n.layer.labelColor,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.layer.labelColor=e}),label:"Label color"},null,8,["modelValue"]),(0,i.Wm)(l,{modelValue:n.layer.labelOutlineColor,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.layer.labelOutlineColor=e}),label:"Label outline color"},null,8,["modelValue"]),(0,i.Wm)(l,{modelValue:n.layer.labelBackgroundColor,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.layer.labelBackgroundColor=e}),label:"Label background color"},null,8,["modelValue"]),(0,i.Wm)(c,{label:"Label size",modelValue:n.layer.labelSize,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.layer.labelSize=e})},null,8,["modelValue"]),(0,i._)("div",bc,[(0,i.Wm)(c,{label:"Label Anchor X",modelValue:n.layer.labelOffset[0],"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.layer.labelOffset[0]=e})},null,8,["modelValue"]),(0,i.Wm)(c,{label:"Label Anchor Y",modelValue:n.layer.labelOffset[1],"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.layer.labelOffset[1]=e})},null,8,["modelValue"])]),(0,i.Wm)(Pl.G,{color:"info",label:"Url",modelValue:n.layer.ui.urlIcon,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.layer.ui.urlIcon=e}),density:"compact"},null,8,["modelValue"]),n.layer.ui.urlIcon?((0,i.wg)(),(0,i.j4)(Dl.h,{key:0,variant:"solo",density:"compact",label:"Model",modelValue:n.layer.icon,"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.layer.icon=e})},null,8,["modelValue"])):((0,i.wg)(),(0,i.j4)(u,{key:1,onOnSelect:a.onSelectIcon,defaultIcon:n.icon,label:"Icon"},null,8,["onOnSelect","defaultIcon"])),(0,i.Wm)(ql.R,{modelValue:n.layer.iconScale,"onUpdate:modelValue":t[10]||(t[10]=function(e){return n.layer.iconScale=e}),max:5,min:"0.1",step:.1,"show-ticks":"always",label:"Icon scale","hide-details":"",class:"slider",density:"compact",variant:"solo"},{append:(0,i.w5)((function(){return[(0,i.Wm)(Dl.h,{modelValue:n.layer.iconScale,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.layer.iconScale=e}),type:"number",style:{width:"85px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["modelValue","max","step"]),(0,i.Wm)(l,{modelValue:n.layer.iconColor,"onUpdate:modelValue":t[11]||(t[11]=function(e){return n.layer.iconColor=e}),label:"Icon color"},null,8,["modelValue"]),(0,i._)("div",wc,[(0,i.Wm)(c,{label:"Icon Anchor X",modelValue:n.layer.iconAnchor[0],"onUpdate:modelValue":t[12]||(t[12]=function(e){return n.layer.iconAnchor[0]=e})},null,8,["modelValue"]),(0,i.Wm)(c,{label:"Icon Anchor Y",modelValue:n.layer.iconAnchor[1],"onUpdate:modelValue":t[13]||(t[13]=function(e){return n.layer.iconAnchor[1]=e})},null,8,["modelValue"])])],64)}r(23157);var _c=r(23369),Sc=r(83070),xc=r(5547),Tc=function(e){return(0,i.dD)("data-v-bfa0b52e"),e=e(),(0,i.Cn)(),e},Ic={id:"container",ref:"container"},Cc={key:0,id:"loading-wrapper"},Ec=Tc((function(){return(0,i._)("div",{class:"dots"},[(0,i._)("div",{style:"background-color: #18191A"}),(0,i._)("div",{style:"background-color: #18191A"}),(0,i._)("div",{style:"background-color: #18191A"})],-1)})),Zc=[Ec],Dc={id:"end-of-list",ref:"end-of-list"};function Ac(e,t,r,s,l,c){return(0,i.wg)(),(0,i.j4)(ia.B,{modelValue:l.showDialog,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.showDialog=e}),"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"700px","max-height":"850px"},{activator:(0,i.w5)((function(e){var n=e.props;return[(0,i.Wm)(Dl.h,(0,i.dG)({modelValue:l.selectedIcon,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.selectedIcon=e}),"prepend-inner-icon":"mdi-"+l.selectedIcon,label:r.label},n,{readonly:"",variant:"solo",density:"compact",class:"input-text"}),null,16,["modelValue","prepend-inner-icon","label"])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(_c.K,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(Dl.h,{modelValue:l.searchIcon,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.searchIcon=e}),placeholder:"Search icon","prepend-icon":"mdi-magnify",type:"text",onautocomplete:"off",density:"compact"},null,8,["modelValue"]),(0,i.wy)(((0,i.wg)(),(0,i.j4)(yl.C,{id:"scrolling-techniques-7",class:"overflow-y-auto","max-height":"600"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Sc.D,{cols:"12"},{default:(0,i.w5)((function(){return[(0,i._)("div",Ic,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.itemsToDisplay,(function(e){return(0,i.wg)(),(0,i.j4)(a.T,{key:e,title:e,onClick:function(t){return c.saveIcon(e)},color:"white",class:"mr-2 mb-2",fab:"",small:"",depressed:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-"+(0,o.zw)(e),1)]})),_:2},1024)]})),_:2},1032,["title","onClick"])})),128)),l.loading?((0,i.wg)(),(0,i.iD)("div",Cc,Zc)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",Dc,null,512),[[n.F8,l.page!==l.items.length-1||!l.loading]])],512)]})),_:1})]})),_:1})),[[xc.X,c.onScroll,void 0,{self:!0}]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var Pc=["abacus","abjad-arabic","abjad-hebrew","ab-testing","abugida-devanagari","abugida-thai","access-point-check","access-point-minus","access-point-network-off","access-point-network","access-point-off","access-point-plus","access-point-remove","access-point","account-alert-outline","account-alert","account-arrow-down-outline","account-arrow-down","account-arrow-left-outline","account-arrow-left","account-arrow-right-outline","account-arrow-right","account-arrow-up-outline","account-arrow-up","account-badge-outline","account-badge","account-box-multiple-outline","account-box-multiple","account-box-outline","account-box","account-cancel-outline","account-cancel","account-card-outline","account-card","account-cash-outline","account-cash","account-check-outline","account-check","account-child-circle","account-child-outline","account-child","account-circle-outline","account-circle","account-clock-outline","account-clock","account-cog-outline","account-cog","account-convert-outline","account-convert","account-cowboy-hat-outline","account-cowboy-hat","account-credit-card-outline","account-credit-card","account-details-outline","account-details","account-edit-outline","account-edit","account-eye-outline","account-eye","account-filter-outline","account-filter","account-group-outline","account-group","account-hard-hat-outline","account-hard-hat","account-heart-outline","account-heart","account-injury-outline","account-injury","account-key-outline","account-key","account-lock-open-outline","account-lock-open","account-lock-outline","account-lock","account-minus-outline","account-minus","account-multiple-check-outline","account-multiple-check","account-multiple-minus-outline","account-multiple-minus","account-multiple-outline","account-multiple-plus-outline","account-multiple-plus","account-multiple-remove-outline","account-multiple-remove","account-multiple","account-music-outline","account-music","account-network-off-outline","account-network-off","account-network-outline","account-network","account-off-outline","account-off","account-outline","account-plus-outline","account-plus","account-question-outline","account-question","account-reactivate-outline","account-reactivate","account-remove-outline","account-remove","account-school-outline","account-school","account-search-outline","account-search","account-settings-outline","account-settings","account-star-outline","account-star","account-supervisor-circle-outline","account-supervisor-circle","account-supervisor-outline","account-supervisor","account","account-switch-outline","account-switch","account-sync-outline","account-sync","account-tag-outline","account-tag","account-tie-hat-outline","account-tie-hat","account-tie-outline","account-tie","account-tie-voice-off-outline","account-tie-voice-off","account-tie-voice-outline","account-tie-voice","account-tie-woman","account-voice-off","account-voice","account-wrench-outline","account-wrench","adjust","advertisements-off","advertisements","airbag","airballoon-outline","airballoon","air-conditioner","air-filter","air-horn","air-humidifier-off","air-humidifier","airplane-alert","airplane-check","airplane-clock","airplane-cog","airplane-edit","airplane-landing","airplane-marker","airplane-minus","airplane-off","airplane-plus","airplane-remove","airplane-search","airplane-settings","airplane","airplane-takeoff","airport","air-purifier-off","air-purifier","alarm-bell","alarm-check","alarm-light-off-outline","alarm-light-off","alarm-light-outline","alarm-light","alarm-multiple","alarm-note-off","alarm-note","alarm-off","alarm-panel-outline","alarm-panel","alarm-plus","alarm-snooze","alarm","album","alert-box-outline","alert-box","alert-circle-check-outline","alert-circle-check","alert-circle-outline","alert-circle","alert-decagram-outline","alert-decagram","alert-minus-outline","alert-minus","alert-octagon-outline","alert-octagon","alert-octagram-outline","alert-octagram","alert-outline","alert-plus-outline","alert-plus","alert-remove-outline","alert-remove","alert-rhombus-outline","alert-rhombus","alert","alien-outline","alien","align-horizontal-center","align-horizontal-distribute","align-horizontal-left","align-horizontal-right","align-vertical-bottom","align-vertical-center","align-vertical-distribute","align-vertical-top","allergy","all-inclusive-box-outline","all-inclusive-box","all-inclusive","alpha-a-box-outline","alpha-a-box","alpha-a-circle-outline","alpha-a-circle","alpha-a","alpha-b-box-outline","alpha-b-box","alpha-b-circle-outline","alpha-b-circle","alphabet-aurebesh","alphabet-cyrillic","alphabet-greek","alphabetical-off","alphabetical","alphabetical-variant-off","alphabetical-variant","alphabet-latin","alphabet-piqad","alphabet-tengwar","alpha-b","alpha-c-box-outline","alpha-c-box","alpha-c-circle-outline","alpha-c-circle","alpha-c","alpha-d-box-outline","alpha-d-box","alpha-d-circle-outline","alpha-d-circle","alpha-d","alpha-e-box-outline","alpha-e-box","alpha-e-circle-outline","alpha-e-circle","alpha-e","alpha-f-box-outline","alpha-f-box","alpha-f-circle-outline","alpha-f-circle","alpha-f","alpha-g-box-outline","alpha-g-box","alpha-g-circle-outline","alpha-g-circle","alpha-g","alpha-h-box-outline","alpha-h-box","alpha-h-circle-outline","alpha-h-circle","alpha-h","alpha-i-box-outline","alpha-i-box","alpha-i-circle-outline","alpha-i-circle","alpha-i","alpha-j-box-outline","alpha-j-box","alpha-j-circle-outline","alpha-j-circle","alpha-j","alpha-k-box-outline","alpha-k-box","alpha-k-circle-outline","alpha-k-circle","alpha-k","alpha-l-box-outline","alpha-l-box","alpha-l-circle-outline","alpha-l-circle","alpha-l","alpha-m-box-outline","alpha-m-box","alpha-m-circle-outline","alpha-m-circle","alpha-m","alpha-n-box-outline","alpha-n-box","alpha-n-circle-outline","alpha-n-circle","alpha-n","alpha-o-box-outline","alpha-o-box","alpha-o-circle-outline","alpha-o-circle","alpha-o","alpha-p-box-outline","alpha-p-box","alpha-p-circle-outline","alpha-p-circle","alpha-p","alpha-q-box-outline","alpha-q-box","alpha-q-circle-outline","alpha-q-circle","alpha-q","alpha-r-box-outline","alpha-r-box","alpha-r-circle-outline","alpha-r-circle","alpha-r","alpha-s-box-outline","alpha-s-box","alpha-s-circle-outline","alpha-s-circle","alpha-s","alpha","alpha-t-box-outline","alpha-t-box","alpha-t-circle-outline","alpha-t-circle","alpha-t","alpha-u-box-outline","alpha-u-box","alpha-u-circle-outline","alpha-u-circle","alpha-u","alpha-v-box-outline","alpha-v-box","alpha-v-circle-outline","alpha-v-circle","alpha-v","alpha-w-box-outline","alpha-w-box","alpha-w-circle-outline","alpha-w-circle","alpha-w","alpha-x-box-outline","alpha-x-box","alpha-x-circle-outline","alpha-x-circle","alpha-x","alpha-y-box-outline","alpha-y-box","alpha-y-circle-outline","alpha-y-circle","alpha-y","alpha-z-box-outline","alpha-z-box","alpha-z-circle-outline","alpha-z-circle","alpha-z","altimeter","ambulance","ammunition","ampersand","amplifier-off","amplifier","anchor","android-studio","android","angle-acute","angle-obtuse","angle-right","angularjs","angular","animation-outline","animation-play-outline","animation-play","animation","ansible","antenna","anvil","apache-kafka","api-off","api","apple-finder","apple-icloud","apple-ios","apple-keyboard-caps","apple-keyboard-command","apple-keyboard-control","apple-keyboard-option","apple-keyboard-shift","apple-safari","apple","application-array-outline","application-array","application-braces-outline","application-braces","application-brackets-outline","application-brackets","application-cog-outline","application-cog","application-edit-outline","application-edit","application-export","application-import","application-outline","application-parentheses-outline","application-parentheses","application-settings-outline","application-settings","application","application-variable-outline","application-variable","approximately-equal-box","approximately-equal","apps-box","apps","archive-alert-outline","archive-alert","archive-arrow-down-outline","archive-arrow-down","archive-arrow-up-outline","archive-arrow-up","archive-cancel-outline","archive-cancel","archive-check-outline","archive-check","archive-clock-outline","archive-clock","archive-cog-outline","archive-cog","archive-edit-outline","archive-edit","archive-eye-outline","archive-eye","archive-lock-open-outline","archive-lock-open","archive-lock-outline","archive-lock","archive-marker-outline","archive-marker","archive-minus-outline","archive-minus","archive-music-outline","archive-music","archive-off-outline","archive-off","archive-outline","archive-plus-outline","archive-plus","archive-refresh-outline","archive-refresh","archive-remove-outline","archive-remove","archive-search-outline","archive-search","archive-settings-outline","archive-settings","archive-star-outline","archive-star","archive","archive-sync-outline","archive-sync","arch","arm-flex-outline","arm-flex","arrange-bring-forward","arrange-bring-to-front","arrange-send-backward","arrange-send-to-back","arrow-all","arrow-bottom-left-bold-box-outline","arrow-bottom-left-bold-box","arrow-bottom-left-bold-outline","arrow-bottom-left","arrow-bottom-left-thick","arrow-bottom-left-thin-circle-outline","arrow-bottom-left-thin","arrow-bottom-right-bold-box-outline","arrow-bottom-right-bold-box","arrow-bottom-right-bold-outline","arrow-bottom-right","arrow-bottom-right-thick","arrow-bottom-right-thin-circle-outline","arrow-bottom-right-thin","arrow-collapse-all","arrow-collapse-down","arrow-collapse-horizontal","arrow-collapse-left","arrow-collapse-right","arrow-collapse","arrow-collapse-up","arrow-collapse-vertical","arrow-decision-auto-outline","arrow-decision-auto","arrow-decision-outline","arrow-decision","arrow-down-bold-box-outline","arrow-down-bold-box","arrow-down-bold-circle-outline","arrow-down-bold-circle","arrow-down-bold-hexagon-outline","arrow-down-bold-outline","arrow-down-bold","arrow-down-box","arrow-down-circle-outline","arrow-down-circle","arrow-down-drop-circle-outline","arrow-down-drop-circle","arrow-down-left-bold","arrow-down-left","arrow-down-right-bold","arrow-down-right","arrow-down","arrow-down-thick","arrow-down-thin-circle-outline","arrow-down-thin","arrow-expand-all","arrow-expand-down","arrow-expand-horizontal","arrow-expand-left","arrow-expand-right","arrow-expand","arrow-expand-up","arrow-expand-vertical","arrow-horizontal-lock","arrow-left-bold-box-outline","arrow-left-bold-box","arrow-left-bold-circle-outline","arrow-left-bold-circle","arrow-left-bold-hexagon-outline","arrow-left-bold-outline","arrow-left-bold","arrow-left-bottom-bold","arrow-left-bottom","arrow-left-box","arrow-left-circle-outline","arrow-left-circle","arrow-left-drop-circle-outline","arrow-left-drop-circle","arrow-left-right-bold-outline","arrow-left-right-bold","arrow-left-right","arrow-left","arrow-left-thick","arrow-left-thin-circle-outline","arrow-left-thin","arrow-left-top-bold","arrow-left-top","arrow-projectile-multiple","arrow-projectile","arrow-right-bold-box-outline","arrow-right-bold-box","arrow-right-bold-circle-outline","arrow-right-bold-circle","arrow-right-bold-hexagon-outline","arrow-right-bold-outline","arrow-right-bold","arrow-right-bottom-bold","arrow-right-bottom","arrow-right-box","arrow-right-circle-outline","arrow-right-circle","arrow-right-drop-circle-outline","arrow-right-drop-circle","arrow-right","arrow-right-thick","arrow-right-thin-circle-outline","arrow-right-thin","arrow-right-top-bold","arrow-right-top","arrow-split-horizontal","arrow-split-vertical","arrow-top-left-bold-box-outline","arrow-top-left-bold-box","arrow-top-left-bold-outline","arrow-top-left-bottom-right-bold","arrow-top-left-bottom-right","arrow-top-left","arrow-top-left-thick","arrow-top-left-thin-circle-outline","arrow-top-left-thin","arrow-top-right-bold-box-outline","arrow-top-right-bold-box","arrow-top-right-bold-outline","arrow-top-right-bottom-left-bold","arrow-top-right-bottom-left","arrow-top-right","arrow-top-right-thick","arrow-top-right-thin-circle-outline","arrow-top-right-thin","arrow-u-down-left-bold","arrow-u-down-left","arrow-u-down-right-bold","arrow-u-down-right","arrow-u-left-bottom-bold","arrow-u-left-bottom","arrow-u-left-top-bold","arrow-u-left-top","arrow-up-bold-box-outline","arrow-up-bold-box","arrow-up-bold-circle-outline","arrow-up-bold-circle","arrow-up-bold-hexagon-outline","arrow-up-bold-outline","arrow-up-bold","arrow-up-box","arrow-up-circle-outline","arrow-up-circle","arrow-up-down-bold-outline","arrow-up-down-bold","arrow-up-down","arrow-up-drop-circle-outline","arrow-up-drop-circle","arrow-up-left-bold","arrow-up-left","arrow-up-right-bold","arrow-up-right","arrow-up","arrow-up-thick","arrow-up-thin-circle-outline","arrow-up-thin","arrow-u-right-bottom-bold","arrow-u-right-bottom","arrow-u-right-top-bold","arrow-u-right-top","arrow-u-up-left-bold","arrow-u-up-left","arrow-u-up-right-bold","arrow-u-up-right","arrow-vertical-lock","artboard","artstation","aspect-ratio","assistant","asterisk-circle-outline","asterisk","atlassian","atm","atom","atom-variant","at","attachment-check","attachment-lock","attachment-minus","attachment-off","attachment-plus","attachment-remove","attachment","atv","audio-input-rca","audio-input-stereo-minijack","audio-input-xlr","audio-video-off","audio-video","augmented-reality","aurora","auto-download","auto-fix","autorenew-off","autorenew","auto-upload","av-timer","awning-outline","awning","aws","axe-battle","axe","axis-arrow-info","axis-arrow-lock","axis-arrow","axis-lock","axis","axis-x-arrow-lock","axis-x-arrow","axis-x-rotate-clockwise","axis-x-rotate-counterclockwise","axis-x-y-arrow-lock","axis-y-arrow-lock","axis-y-arrow","axis-y-rotate-clockwise","axis-y-rotate-counterclockwise","axis-z-arrow-lock","axis-z-arrow","axis-z-rotate-clockwise","axis-z-rotate-counterclockwise","babel","baby-bottle-outline","baby-bottle","baby-buggy-off","baby-buggy","baby-carriage-off","baby-carriage","baby-face-outline","baby-face","baby","backburger","backspace-outline","backspace-reverse-outline","backspace-reverse","backspace","backup-restore","bacteria-outline","bacteria","badge-account-alert-outline","badge-account-alert","badge-account-horizontal-outline","badge-account-horizontal","badge-account-outline","badge-account","badminton","bag-carry-on-check","bag-carry-on-off","bag-carry-on","bag-checked","bag-personal-off-outline","bag-personal-off","bag-personal-outline","bag-personal","bag-personal-tag-outline","bag-personal-tag","bag-suitcase-off-outline","bag-suitcase-off","bag-suitcase-outline","bag-suitcase","baguette","balcony","balloon","ballot-outline","ballot-recount-outline","ballot-recount","ballot","bandage","bank-check","bank-circle-outline","bank-circle","bank-minus","bank-off-outline","bank-off","bank-outline","bank-plus","bank-remove","bank","bank-transfer-in","bank-transfer-out","bank-transfer","barcode-off","barcode-scan","barcode","barley-off","barley","barn","barrel-outline","barrel","baseball-bat","baseball-diamond-outline","baseball-diamond","baseball","bash","basketball-hoop-outline","basketball-hoop","basketball","basket-check-outline","basket-check","basket-fill","basket-minus-outline","basket-minus","basket-off-outline","basket-off","basket-outline","basket-plus-outline","basket-plus","basket-remove-outline","basket-remove","basket","basket-unfill","bathtub-outline","bathtub","bat","battery-10-bluetooth","battery-10","battery-20-bluetooth","battery-20","battery-30-bluetooth","battery-30","battery-40-bluetooth","battery-40","battery-50-bluetooth","battery-50","battery-60-bluetooth","battery-60","battery-70-bluetooth","battery-70","battery-80-bluetooth","battery-80","battery-90-bluetooth","battery-90","battery-alert-bluetooth","battery-alert","battery-alert-variant-outline","battery-alert-variant","battery-arrow-down-outline","battery-arrow-down","battery-arrow-up-outline","battery-arrow-up","battery-bluetooth","battery-bluetooth-variant","battery-charging-100","battery-charging-10","battery-charging-20","battery-charging-30","battery-charging-40","battery-charging-50","battery-charging-60","battery-charging-70","battery-charging-80","battery-charging-90","battery-charging-high","battery-charging-low","battery-charging-medium","battery-charging-outline","battery-charging","battery-charging-wireless-10","battery-charging-wireless-20","battery-charging-wireless-30","battery-charging-wireless-40","battery-charging-wireless-50","battery-charging-wireless-60","battery-charging-wireless-70","battery-charging-wireless-80","battery-charging-wireless-90","battery-charging-wireless-alert","battery-charging-wireless-outline","battery-charging-wireless","battery-check-outline","battery-check","battery-clock-outline","battery-clock","battery-heart-outline","battery-heart","battery-heart-variant","battery-high","battery-lock-open","battery-lock","battery-low","battery-medium","battery-minus-outline","battery-minus","battery-minus-variant","battery-negative","battery-off-outline","battery-off","battery-outline","battery-plus-outline","battery-plus","battery-plus-variant","battery-positive","battery-remove-outline","battery-remove","battery","battery-sync-outline","battery-sync","battery-unknown-bluetooth","battery-unknown","beach","beaker-alert-outline","beaker-alert","beaker-check-outline","beaker-check","beaker-minus-outline","beaker-minus","beaker-outline","beaker-plus-outline","beaker-plus","beaker-question-outline","beaker-question","beaker-remove-outline","beaker-remove","beaker","bed-clock","bed-double-outline","bed-double","bed-empty","bed-king-outline","bed-king","bed-outline","bed-queen-outline","bed-queen","bed-single-outline","bed-single","bed","bee-flower","beehive-off-outline","beehive-outline","beekeeper","beer-outline","beer","bee","bell-alert-outline","bell-alert","bell-badge-outline","bell-badge","bell-cancel-outline","bell-cancel","bell-check-outline","bell-check","bell-circle-outline","bell-circle","bell-cog-outline","bell-cog","bell-minus-outline","bell-minus","bell-off-outline","bell-off","bell-outline","bell-plus-outline","bell-plus","bell-remove-outline","bell-remove","bell-ring-outline","bell-ring","bell-sleep-outline","bell-sleep","bell","betamax","beta","biathlon","bicycle-basket","bicycle-cargo","bicycle-electric","bicycle-penny-farthing","bicycle","bike-fast","bike","billboard","billiards-rack","billiards","binoculars","biohazard","bio","bird","bitbucket","bitcoin","black-mesa","blender-outline","blender-software","blender","blinds-horizontal-closed","blinds-horizontal","blinds-open","blinds","blinds-vertical-closed","blinds-vertical","block-helper","blood-bag","bluetooth-audio","bluetooth-connect","bluetooth-off","bluetooth-settings","bluetooth","bluetooth-transfer","blur-linear","blur-off","blur-radial","blur","bolt","bomb-off","bomb","bone-off","bone","book-account-outline","book-account","book-alert-outline","book-alert","book-alphabet","book-arrow-down-outline","book-arrow-down","book-arrow-left-outline","book-arrow-left","book-arrow-right-outline","book-arrow-right","book-arrow-up-outline","book-arrow-up","book-cancel-outline","book-cancel","book-check-outline","book-check","book-clock-outline","book-clock","book-cog-outline","book-cog","book-cross","book-edit-outline","book-edit","book-education-outline","book-education","book-heart-outline","book-heart","book-information-variant","book-lock-open-outline","book-lock-open","book-lock-outline","book-lock","bookmark-box-multiple-outline","bookmark-box-multiple","bookmark-box-outline","bookmark-box","bookmark-check-outline","bookmark-check","book-marker-outline","book-marker","bookmark-minus-outline","bookmark-minus","bookmark-multiple-outline","bookmark-multiple","bookmark-music-outline","bookmark-music","bookmark-off-outline","bookmark-off","bookmark-outline","bookmark-plus-outline","bookmark-plus","bookmark-remove-outline","bookmark-remove","bookmark","book-minus-multiple-outline","book-minus-multiple","book-minus-outline","book-minus","book-multiple-outline","book-multiple","book-music-outline","book-music","book-off-outline","book-off","book-open-blank-variant","book-open-outline","book-open-page-variant-outline","book-open-page-variant","book-open","book-open-variant","book-outline","book-play-outline","book-play","book-plus-multiple-outline","book-plus-multiple","book-plus-outline","book-plus","book-refresh-outline","book-refresh","book-remove-multiple-outline","book-remove-multiple","book-remove-outline","book-remove","book-search-outline","book-search","book-settings-outline","book-settings","bookshelf","book","book-sync-outline","book-sync","book-variant","boombox","boomerang","boom-gate-alert-outline","boom-gate-alert","boom-gate-arrow-down-outline","boom-gate-arrow-down","boom-gate-arrow-up-outline","boom-gate-arrow-up","boom-gate-outline","boom-gate","boom-gate-up-outline","boom-gate-up","bootstrap","border-all","border-all-variant","border-bottom","border-bottom-variant","border-color","border-horizontal","border-inside","border-left","border-left-variant","border-none","border-none-variant","border-outside","border-radius","border-right","border-right-variant","border-style","border-top","border-top-variant","border-vertical","bottle-soda-classic-outline","bottle-soda-classic","bottle-soda-outline","bottle-soda","bottle-tonic-outline","bottle-tonic-plus-outline","bottle-tonic-plus","bottle-tonic-skull-outline","bottle-tonic-skull","bottle-tonic","bottle-wine-outline","bottle-wine","bow-arrow","bowling","bowl-mix-outline","bowl-mix","bowl-outline","bowl","bow-tie","box-cutter-off","box-cutter","boxing-glove","box-shadow","box","braille","brain","bread-slice-outline","bread-slice","bridge","briefcase-account-outline","briefcase-account","briefcase-arrow-left-right-outline","briefcase-arrow-left-right","briefcase-arrow-up-down-outline","briefcase-arrow-up-down","briefcase-check-outline","briefcase-check","briefcase-clock-outline","briefcase-clock","briefcase-download-outline","briefcase-download","briefcase-edit-outline","briefcase-edit","briefcase-eye-outline","briefcase-eye","briefcase-minus-outline","briefcase-minus","briefcase-off-outline","briefcase-off","briefcase-outline","briefcase-plus-outline","briefcase-plus","briefcase-remove-outline","briefcase-remove","briefcase-search-outline","briefcase-search","briefcase","briefcase-upload-outline","briefcase-upload","briefcase-variant-off-outline","briefcase-variant-off","briefcase-variant-outline","briefcase-variant","brightness-1","brightness-2","brightness-3","brightness-4","brightness-5","brightness-6","brightness-7","brightness-auto","brightness-percent","broadcast-off","broadcast","broom","brush-off","brush-outline","brush","brush-variant","bucket-outline","bucket","buffet","bug-check-outline","bug-check","bugle","bug-outline","bug-pause-outline","bug-pause","bug-play-outline","bug-play","bug-stop-outline","bug-stop","bug","bulkhead-light","bulldozer","bulletin-board","bullet","bullhorn-outline","bullhorn","bullhorn-variant-outline","bullhorn-variant","bullseye-arrow","bullseye","bulma","bunk-bed-outline","bunk-bed","bus-alert","bus-articulated-end","bus-articulated-front","bus-clock","bus-double-decker","bus-electric","bus-marker","bus-multiple","bus-school","bus-side","bus-stop-covered","bus-stop","bus-stop-uncovered","bus","butterfly-outline","butterfly","button-cursor","button-pointer","cabin-a-frame","cable-data","cached","cactus","cake-layered","cake","cake-variant-outline","cake-variant","calculator","calculator-variant-outline","calculator-variant","calendar-account-outline","calendar-account","calendar-alert-outline","calendar-alert","calendar-arrow-left","calendar-arrow-right","calendar-badge-outline","calendar-badge","calendar-blank-multiple","calendar-blank-outline","calendar-blank","calendar-check-outline","calendar-check","calendar-clock-outline","calendar-clock","calendar-collapse-horizontal-outline","calendar-collapse-horizontal","calendar-cursor-outline","calendar-cursor","calendar-edit-outline","calendar-edit","calendar-end-outline","calendar-end","calendar-expand-horizontal-outline","calendar-expand-horizontal","calendar-export-outline","calendar-export","calendar-filter-outline","calendar-filter","calendar-heart-outline","calendar-heart","calendar-import-outline","calendar-import","calendar-lock-open-outline","calendar-lock-open","calendar-lock-outline","calendar-lock","calendar-minus-outline","calendar-minus","calendar-month-outline","calendar-month","calendar-multiple-check","calendar-multiple","calendar-multiselect-outline","calendar-multiselect","calendar-outline","calendar-plus-outline","calendar-plus","calendar-question-outline","calendar-question","calendar-range-outline","calendar-range","calendar-refresh-outline","calendar-refresh","calendar-remove-outline","calendar-remove","calendar-search-outline","calendar-search","calendar-star-outline","calendar-star","calendar-start-outline","calendar-start","calendar","calendar-sync-outline","calendar-sync","calendar-text-outline","calendar-text","calendar-today-outline","calendar-today","calendar-week-begin-outline","calendar-week-begin","calendar-weekend-outline","calendar-weekend","calendar-week-outline","calendar-week","call-made","call-merge","call-missed","call-received","call-split","camcorder-off","camcorder","camera-account","camera-burst","camera-control","camera-document-off","camera-document","camera-enhance-outline","camera-enhance","camera-flip-outline","camera-flip","camera-front","camera-front-variant","camera-gopro","camera-image","camera-iris","camera-lock-open-outline","camera-lock-open","camera-lock-outline","camera-lock","camera-marker-outline","camera-marker","camera-metering-center","camera-metering-matrix","camera-metering-partial","camera-metering-spot","camera-off-outline","camera-off","camera-outline","camera-party-mode","camera-plus-outline","camera-plus","camera-rear","camera-rear-variant","camera-retake-outline","camera-retake","camera","camera-switch-outline","camera-switch","camera-timer","camera-wireless-outline","camera-wireless","campfire","cancel","candelabra-fire","candelabra","candle","candycane","candy-off-outline","candy-off","candy-outline","candy","cannabis-off","cannabis","caps-lock","car-2-plus","car-3-plus","carabiner","car-arrow-left","car-arrow-right","caravan","car-back","car-battery","car-brake-abs","car-brake-alert","car-brake-fluid-level","car-brake-hold","car-brake-low-pressure","car-brake-parking","car-brake-retarder","car-brake-temperature","car-brake-worn-linings","car-child-seat","car-clock","car-clutch","car-cog","car-connected","car-convertible","car-coolant-level","car-cruise-control","card-account-details-outline","card-account-details-star-outline","card-account-details-star","card-account-details","card-account-mail-outline","card-account-mail","card-account-phone-outline","card-account-phone","card-bulleted-off-outline","card-bulleted-off","card-bulleted-outline","card-bulleted-settings-outline","card-bulleted-settings","card-bulleted","car-defrost-front","car-defrost-rear","card-minus-outline","card-minus","card-multiple-outline","card-multiple","card-off-outline","card-off","car-door-lock","car-door","card-outline","card-plus-outline","card-plus","card-remove-outline","card-remove","cards-club-outline","cards-club","cards-diamond-outline","cards-diamond","card-search-outline","card-search","cards-heart-outline","cards-heart","cards-outline","cards-playing-club-multiple-outline","cards-playing-club-multiple","cards-playing-club-outline","cards-playing-club","cards-playing-diamond-multiple-outline","cards-playing-diamond-multiple","cards-playing-diamond-outline","cards-playing-diamond","cards-playing-heart-multiple-outline","cards-playing-heart-multiple","cards-playing-heart-outline","cards-playing-heart","cards-playing-outline","cards-playing-spade-multiple-outline","cards-playing-spade-multiple","cards-playing-spade-outline","cards-playing-spade","cards-playing","cards-spade-outline","cards-spade","cards","cards-variant","card","card-text-outline","card-text","car-electric-outline","car-electric","car-emergency","car-esp","car-estate","car-hatchback","car-info","car-key","car-lifted-pickup","car-light-alert","car-light-dimmed","car-light-fog","car-light-high","car-limousine","car-multiple","car-off","car-outline","car-parking-lights","car-pickup","carrot","car-search-outline","car-search","car-seat-cooler","car-seat-heater","car-seat","car-select","car-settings","car-shift-pattern","car-side","car-speed-limiter","car-sports","car","cart-arrow-down","cart-arrow-right","cart-arrow-up","cart-check","cart-heart","car-tire-alert","cart-minus","cart-off","cart-outline","cart-percent","cart-plus","car-traction-control","cart-remove","cart","car-turbocharger","cart-variant","car-wash","car-windshield-outline","car-windshield","car-wireless","car-wrench","case-sensitive-alt","cash-100","cash-check","cash-clock","cash-fast","cash-lock-open","cash-lock","cash-marker","cash-minus","cash-multiple","cash-plus","cash-refund","cash-register","cash-remove","cash","cash-sync","cassette","cast-audio","cast-audio-variant","cast-connected","cast-education","castle","cast-off","cast","cast-variant","cat","cctv-off","cctv","ceiling-fan-light","ceiling-fan","ceiling-light-multiple-outline","ceiling-light-multiple","ceiling-light-outline","ceiling-light","cellphone-arrow-down","cellphone-arrow-down-variant","cellphone-basic","cellphone-charging","cellphone-check","cellphone-cog","cellphone-dock","cellphone-information","cellphone-key","cellphone-link-off","cellphone-link","cellphone-lock","cellphone-marker","cellphone-message-off","cellphone-message","cellphone-nfc-off","cellphone-nfc","cellphone-off","cellphone-play","cellphone-remove","cellphone-screenshot","cellphone-settings","cellphone-sound","cellphone","cellphone-text","cellphone-wireless","centos","certificate-outline","certificate","chair-rolling","chair-school","chandelier","charity","chart-arc","chart-areaspline","chart-areaspline-variant","chart-bar-stacked","chart-bar","chart-bell-curve-cumulative","chart-bell-curve","chart-box-outline","chart-box-plus-outline","chart-box","chart-bubble","chart-donut","chart-donut-variant","chart-gantt","chart-histogram","chart-line-stacked","chart-line","chart-line-variant","chart-multiline","chart-multiple","chart-pie-outline","chart-pie","chart-ppf","chart-sankey","chart-sankey-variant","chart-scatter-plot-hexbin","chart-scatter-plot","chart-timeline","chart-timeline-variant-shimmer","chart-timeline-variant","chart-tree","chart-waterfall","chat-alert-outline","chat-alert","chat-minus-outline","chat-minus","chat-outline","chat-plus-outline","chat-plus","chat-processing-outline","chat-processing","chat-question-outline","chat-question","chat-remove-outline","chat-remove","chat-sleep-outline","chat-sleep","chat","check-all","check-bold","checkbook","checkbox-blank-badge-outline","checkbox-blank-badge","checkbox-blank-circle-outline","checkbox-blank-circle","checkbox-blank-off-outline","checkbox-blank-off","checkbox-blank-outline","checkbox-blank","checkbox-intermediate","checkbox-intermediate-variant","checkbox-marked-circle-outline","checkbox-marked-circle-plus-outline","checkbox-marked-circle","checkbox-marked-outline","checkbox-marked","checkbox-multiple-blank-circle-outline","checkbox-multiple-blank-circle","checkbox-multiple-blank-outline","checkbox-multiple-blank","checkbox-multiple-marked-circle-outline","checkbox-multiple-marked-circle","checkbox-multiple-marked-outline","checkbox-multiple-marked","checkbox-multiple-outline","checkbox-outline","check-circle-outline","check-circle","check-decagram-outline","check-decagram","checkerboard-minus","checkerboard-plus","checkerboard-remove","checkerboard","check-network-outline","check-network","check-outline","check","check-underline-circle-outline","check-underline-circle","check-underline","cheese-off","cheese","chef-hat","chemical-weapon","chess-bishop","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-double-down","chevron-double-left","chevron-double-right","chevron-double-up","chevron-down-box-outline","chevron-down-box","chevron-down-circle-outline","chevron-down-circle","chevron-down","chevron-left-box-outline","chevron-left-box","chevron-left-circle-outline","chevron-left-circle","chevron-left","chevron-right-box-outline","chevron-right-box","chevron-right-circle-outline","chevron-right-circle","chevron-right","chevron-triple-down","chevron-triple-left","chevron-triple-right","chevron-triple-up","chevron-up-box-outline","chevron-up-box","chevron-up-circle-outline","chevron-up-circle","chevron-up","chili-alert-outline","chili-alert","chili-hot-outline","chili-hot","chili-medium-outline","chili-medium","chili-mild-outline","chili-mild","chili-off-outline","chili-off","chip","church-outline","church","cigar-off","cigar","circle-box-outline","circle-box","circle-double","circle-edit-outline","circle-expand","circle-half-full","circle-half","circle-medium","circle-multiple-outline","circle-multiple","circle-off-outline","circle-opacity","circle-outline","circle-slice-1","circle-slice-2","circle-slice-3","circle-slice-4","circle-slice-5","circle-slice-6","circle-slice-7","circle-slice-8","circle-small","circle","circular-saw","city","city-variant-outline","city-variant","clipboard-account-outline","clipboard-account","clipboard-alert-outline","clipboard-alert","clipboard-arrow-down-outline","clipboard-arrow-down","clipboard-arrow-left-outline","clipboard-arrow-left","clipboard-arrow-right-outline","clipboard-arrow-right","clipboard-arrow-up-outline","clipboard-arrow-up","clipboard-check-multiple-outline","clipboard-check-multiple","clipboard-check-outline","clipboard-check","clipboard-clock-outline","clipboard-clock","clipboard-edit-outline","clipboard-edit","clipboard-file-outline","clipboard-file","clipboard-flow-outline","clipboard-flow","clipboard-list-outline","clipboard-list","clipboard-minus-outline","clipboard-minus","clipboard-multiple-outline","clipboard-multiple","clipboard-off-outline","clipboard-off","clipboard-outline","clipboard-play-multiple-outline","clipboard-play-multiple","clipboard-play-outline","clipboard-play","clipboard-plus-outline","clipboard-plus","clipboard-pulse-outline","clipboard-pulse","clipboard-remove-outline","clipboard-remove","clipboard-search-outline","clipboard-search","clipboard","clipboard-text-clock-outline","clipboard-text-clock","clipboard-text-multiple-outline","clipboard-text-multiple","clipboard-text-off-outline","clipboard-text-off","clipboard-text-outline","clipboard-text-play-outline","clipboard-text-play","clipboard-text-search-outline","clipboard-text-search","clipboard-text","clippy","clock-alert-outline","clock-alert","clock-check-outline","clock-check","clock-digital","clock-edit-outline","clock-edit","clock-end","clock-fast","clock-in","clock-minus-outline","clock-minus","clock-outline","clock-out","clock-plus-outline","clock-plus","clock-remove-outline","clock-remove","clock-start","clock","clock-time-eight-outline","clock-time-eight","clock-time-eleven-outline","clock-time-eleven","clock-time-five-outline","clock-time-five","clock-time-four-outline","clock-time-four","clock-time-nine-outline","clock-time-nine","clock-time-one-outline","clock-time-one","clock-time-seven-outline","clock-time-seven","clock-time-six-outline","clock-time-six","clock-time-ten-outline","clock-time-ten","clock-time-three-outline","clock-time-three","clock-time-twelve-outline","clock-time-twelve","clock-time-two-outline","clock-time-two","close-box-multiple-outline","close-box-multiple","close-box-outline","close-box","close-circle-multiple-outline","close-circle-multiple","close-circle-outline","close-circle","closed-caption-outline","closed-caption","close-network-outline","close-network","close-octagon-outline","close-octagon","close-outline","close","close-thick","cloud-alert-outline","cloud-alert","cloud-arrow-down-outline","cloud-arrow-down","cloud-arrow-left-outline","cloud-arrow-left","cloud-arrow-right-outline","cloud-arrow-right","cloud-arrow-up-outline","cloud-arrow-up","cloud-braces","cloud-cancel-outline","cloud-cancel","cloud-check-outline","cloud-check","cloud-check-variant-outline","cloud-check-variant","cloud-circle-outline","cloud-circle","cloud-clock-outline","cloud-clock","cloud-cog-outline","cloud-cog","cloud-download-outline","cloud-download","cloud-lock-open-outline","cloud-lock-open","cloud-lock-outline","cloud-lock","cloud-minus-outline","cloud-minus","cloud-off-outline","cloud-off","cloud-outline","cloud-percent-outline","cloud-percent","cloud-plus-outline","cloud-plus","cloud-print-outline","cloud-print","cloud-question-outline","cloud-question","cloud-refresh-outline","cloud-refresh","cloud-refresh-variant-outline","cloud-refresh-variant","cloud-remove-outline","cloud-remove","cloud-search-outline","cloud-search","clouds","cloud","cloud-sync-outline","cloud-sync","cloud-tags","cloud-upload-outline","cloud-upload","clover","coach-lamp","coach-lamp-variant","coat-rack","code-array","code-braces-box","code-braces","code-brackets","code-equal","code-greater-than-or-equal","code-greater-than","code-json","code-less-than-or-equal","code-less-than","code-not-equal","code-not-equal-variant","code-parentheses-box","code-parentheses","codepen","code-string","code-tags-check","code-tags","coffee-maker-check-outline","coffee-maker-check","coffee-maker-outline","coffee-maker","coffee-off-outline","coffee-off","coffee-outline","coffee","coffee-to-go-outline","coffee-to-go","coffin","cog-box","cog-clockwise","cog-counterclockwise","cog-off-outline","cog-off","cog-outline","cog-pause-outline","cog-pause","cog-play-outline","cog-play","cog-refresh-outline","cog-refresh","cogs","cog-stop-outline","cog-stop","cog","cog-sync-outline","cog-sync","cog-transfer-outline","cog-transfer","collage","collapse-all-outline","collapse-all","color-helper","comma-box-outline","comma-box","comma-circle-outline","comma-circle","comma","comment-account-outline","comment-account","comment-alert-outline","comment-alert","comment-arrow-left-outline","comment-arrow-left","comment-arrow-right-outline","comment-arrow-right","comment-bookmark-outline","comment-bookmark","comment-check-outline","comment-check","comment-edit-outline","comment-edit","comment-eye-outline","comment-eye","comment-flash-outline","comment-flash","comment-minus-outline","comment-minus","comment-multiple-outline","comment-multiple","comment-off-outline","comment-off","comment-outline","comment-plus-outline","comment-plus","comment-processing-outline","comment-processing","comment-question-outline","comment-question","comment-quote-outline","comment-quote","comment-remove-outline","comment-remove","comment-search-outline","comment-search","comment","comment-text-multiple-outline","comment-text-multiple","comment-text-outline","comment-text","compare-horizontal","compare-remove","compare","compare-vertical","compass-off-outline","compass-off","compass-outline","compass-rose","compass","compost","cone-off","cone","connection","console-line","console-network-outline","console-network","console","consolidate","contactless-payment-circle-outline","contactless-payment-circle","contactless-payment","contacts-outline","contacts","contain-end","contain-start","contain","content-copy","content-cut","content-duplicate","content-paste","content-save-alert-outline","content-save-alert","content-save-all-outline","content-save-all","content-save-check-outline","content-save-check","content-save-cog-outline","content-save-cog","content-save-edit-outline","content-save-edit","content-save-minus-outline","content-save-minus","content-save-move-outline","content-save-move","content-save-off-outline","content-save-off","content-save-outline","content-save-plus-outline","content-save-plus","content-save-settings-outline","content-save-settings","content-save","contrast-box","contrast-circle","contrast","controller-classic-outline","controller-classic","controller-off","controller","cookie-alert-outline","cookie-alert","cookie-check-outline","cookie-check","cookie-clock-outline","cookie-clock","cookie-cog-outline","cookie-cog","cookie-edit-outline","cookie-edit","cookie-lock-outline","cookie-lock","cookie-minus-outline","cookie-minus","cookie-off-outline","cookie-off","cookie-outline","cookie-plus-outline","cookie-plus","cookie-refresh-outline","cookie-refresh","cookie-remove-outline","cookie-remove","cookie-settings-outline","cookie-settings","cookie","coolant-temperature","copyleft","copyright","cordova","corn-off","corn","cosine-wave","counter","countertop-outline","countertop","cow-off","cow","cpu-32-bit","cpu-64-bit","cradle-outline","cradle","crane","creation","creative-commons","credit-card-check-outline","credit-card-check","credit-card-chip-outline","credit-card-chip","credit-card-clock-outline","credit-card-clock","credit-card-edit-outline","credit-card-edit","credit-card-fast-outline","credit-card-fast","credit-card-lock-outline","credit-card-lock","credit-card-marker-outline","credit-card-marker","credit-card-minus-outline","credit-card-minus","credit-card-multiple-outline","credit-card-multiple","credit-card-off-outline","credit-card-off","credit-card-outline","credit-card-plus-outline","credit-card-plus","credit-card-refresh-outline","credit-card-refresh","credit-card-refund-outline","credit-card-refund","credit-card-remove-outline","credit-card-remove","credit-card-scan-outline","credit-card-scan","credit-card-search-outline","credit-card-search","credit-card-settings-outline","credit-card-settings","credit-card","credit-card-sync-outline","credit-card-sync","credit-card-wireless-off-outline","credit-card-wireless-off","credit-card-wireless-outline","credit-card-wireless","cricket","crop-free","crop-landscape","crop-portrait","crop-rotate","crop-square","crop","cross-bolnisi","cross-celtic","crosshairs-gps","crosshairs-off","crosshairs-question","crosshairs","cross-outline","cross","crowd","crown-circle-outline","crown-circle","crown-outline","crown","cryengine","crystal-ball","cube-off-outline","cube-off","cube-outline","cube-scan","cube-send","cube","cube-unfolded","cupboard-outline","cupboard","cupcake","cup-off-outline","cup-off","cup-outline","cup","cup-water","curling","currency-bdt","currency-brl","currency-btc","currency-cny","currency-eth","currency-eur-off","currency-eur","currency-fra","currency-gbp","currency-ils","currency-inr","currency-jpy","currency-krw","currency-kzt","currency-mnt","currency-ngn","currency-php","currency-rial","currency-rub","currency-rupee","currency-sign","currency-thb","currency-try","currency-twd","currency-uah","currency-usd-off","currency-usd","current-ac","current-dc","cursor-default-click-outline","cursor-default-click","cursor-default-gesture-outline","cursor-default-gesture","cursor-default-outline","cursor-default","cursor-move","cursor-pointer","cursor-text","curtains-closed","curtains","cylinder-off","cylinder","dance-ballroom","dance-pole","database-alert-outline","database-alert","database-arrow-down-outline","database-arrow-down","database-arrow-left-outline","database-arrow-left","database-arrow-right-outline","database-arrow-right","database-arrow-up-outline","database-arrow-up","database-check-outline","database-check","database-clock-outline","database-clock","database-cog-outline","database-cog","database-edit-outline","database-edit","database-export-outline","database-export","database-eye-off-outline","database-eye-off","database-eye-outline","database-eye","database-import-outline","database-import","database-lock-outline","database-lock","database-marker-outline","database-marker","database-minus-outline","database-minus","database-off-outline","database-off","database-outline","database-plus-outline","database-plus","database-refresh-outline","database-refresh","database-remove-outline","database-remove","database-search-outline","database-search","database-settings-outline","database-settings","database","database-sync-outline","database-sync","data-matrix-edit","data-matrix-minus","data-matrix-plus","data-matrix-remove","data-matrix-scan","data-matrix","deathly-hallows","death-star","death-star-variant","debian","debug-step-into","debug-step-out","debug-step-over","decagram-outline","decagram","decimal-comma-decrease","decimal-comma-increase","decimal-comma","decimal-decrease","decimal-increase","decimal","delete-alert-outline","delete-alert","delete-circle-outline","delete-circle","delete-clock-outline","delete-clock","delete-empty-outline","delete-empty","delete-forever-outline","delete-forever","delete-off-outline","delete-off","delete-outline","delete-restore","delete","delete-sweep-outline","delete-sweep","delete-variant","delta","desk-lamp-off","desk-lamp-on","desk-lamp","deskphone","desk","desktop-classic","desktop-tower-monitor","desktop-tower","details","developer-board","deviantart","devices","dev-to","dharmachakra","diabetes","dialpad","diameter-outline","diameter","diameter-variant","diamond-outline","diamond-stone","diamond","dice-1-outline","dice-1","dice-2-outline","dice-2","dice-3-outline","dice-3","dice-4-outline","dice-4","dice-5-outline","dice-5","dice-6-outline","dice-6","dice-d10-outline","dice-d10","dice-d12-outline","dice-d12","dice-d20-outline","dice-d20","dice-d4-outline","dice-d4","dice-d6-outline","dice-d6","dice-d8-outline","dice-d8","dice-multiple-outline","dice-multiple","digital-ocean","dip-switch","directions-fork","directions","disc-alert","disc-player","disc","dishwasher-alert","dishwasher-off","dishwasher","disqus","distribute-horizontal-center","distribute-horizontal-left","distribute-horizontal-right","distribute-vertical-bottom","distribute-vertical-center","distribute-vertical-top","diversify","diving-flippers","diving-helmet","diving-scuba-flag","diving-scuba-mask","diving-scuba","diving-scuba-tank-multiple","diving-scuba-tank","diving-snorkel","diving","division-box","division","dlna","dna","dns-outline","dns","dock-bottom","docker","dock-left","dock-right","dock-top","dock-window","doctor","dog-service","dog-side-off","dog-side","dog","dolby","dolly","dolphin","domain-off","domain-plus","domain-remove","domain","dome-light","domino-mask","donkey","doorbell","doorbell-video","door-closed-lock","door-closed","door-open","door-sliding-lock","door-sliding-open","door-sliding","door","dot-net","dots-circle","dots-grid","dots-hexagon","dots-horizontal-circle-outline","dots-horizontal-circle","dots-horizontal","dots-square","dots-triangle","dots-vertical-circle-outline","dots-vertical-circle","dots-vertical","download-box-outline","download-box","download-circle-outline","download-circle","download-lock-outline","download-lock","download-multiple","download-network-outline","download-network","download-off-outline","download-off","download-outline","download","drag-horizontal","drag-horizontal-variant","drag","drag-variant","drag-vertical","drag-vertical-variant","drama-masks","drawing-box","drawing","draw-pen","draw","dresser-outline","dresser","drone","dropbox","drupal","duck","dumbbell","dump-truck","earbuds-off-outline","earbuds-off","earbuds-outline","earbuds","ear-hearing-loop","ear-hearing-off","ear-hearing","earth-arrow-right","earth-box-minus","earth-box-off","earth-box-plus","earth-box-remove","earth-box","earth-minus","earth-off","earth-plus","earth-remove","earth","egg-easter","egg-fried","egg-off-outline","egg-off","egg-outline","egg","eiffel-tower","eight-track","eject-circle-outline","eject-circle","eject-outline","eject","electric-switch-closed","electric-switch","electron-framework","elephant","elevation-decline","elevation-rise","elevator-down","elevator-passenger-off-outline","elevator-passenger-off","elevator-passenger-outline","elevator-passenger","elevator","elevator-up","ellipse-outline","ellipse","email-alert-outline","email-alert","email-arrow-left-outline","email-arrow-left","email-arrow-right-outline","email-arrow-right","email-box","email-check-outline","email-check","email-edit-outline","email-edit","email-fast-outline","email-fast","email-lock-outline","email-lock","email-mark-as-unread","email-minus-outline","email-minus","email-multiple-outline","email-multiple","email-newsletter","email-off-outline","email-off","email-open-multiple-outline","email-open-multiple","email-open-outline","email-open","email-outline","email-plus-outline","email-plus","email-remove-outline","email-remove","email-seal-outline","email-seal","email-search-outline","email-search","email","email-sync-outline","email-sync","email-variant","ember","emby","emoticon-angry-outline","emoticon-angry","emoticon-confused-outline","emoticon-confused","emoticon-cool-outline","emoticon-cool","emoticon-cry-outline","emoticon-cry","emoticon-dead-outline","emoticon-dead","emoticon-devil-outline","emoticon-devil","emoticon-excited-outline","emoticon-excited","emoticon-frown-outline","emoticon-frown","emoticon-happy-outline","emoticon-happy","emoticon-kiss-outline","emoticon-kiss","emoticon-lol-outline","emoticon-lol","emoticon-neutral-outline","emoticon-neutral","emoticon-outline","emoticon-poop-outline","emoticon-poop","emoticon-sad-outline","emoticon-sad","emoticon-sick-outline","emoticon-sick","emoticon","emoticon-tongue-outline","emoticon-tongue","emoticon-wink-outline","emoticon-wink","engine-off-outline","engine-off","engine-outline","engine","epsilon","equal-box","equalizer-outline","equalizer","equal","eraser","eraser-variant","escalator-box","escalator-down","escalator","escalator-up","eslint","ethereum","ethernet-cable-off","ethernet-cable","ethernet","et","evernote","ev-plug-ccs1","ev-plug-ccs2","ev-plug-chademo","ev-plug-tesla","ev-plug-type1","ev-plug-type2","ev-station","excavator","exclamation","exclamation-thick","exit-run","exit-to-app","expand-all-outline","expand-all","expansion-card","expansion-card-variant","exponent-box","exponent","export","export-variant","eye-arrow-left-outline","eye-arrow-left","eye-arrow-right-outline","eye-arrow-right","eye-check-outline","eye-check","eye-circle-outline","eye-circle","eyedropper-minus","eyedropper-off","eyedropper-plus","eyedropper-remove","eyedropper","eyedropper-variant","eye-lock-open-outline","eye-lock-open","eye-lock-outline","eye-lock","eye-minus-outline","eye-minus","eye-off-outline","eye-off","eye-outline","eye-plus-outline","eye-plus","eye-refresh-outline","eye-refresh","eye-remove-outline","eye-remove","eye-settings-outline","eye-settings","eye","face-agent","facebook-gaming","facebook-messenger","facebook","facebook-workplace","face-man-outline","face-man-profile","face-man-shimmer-outline","face-man-shimmer","face-man","face-mask-outline","face-mask","face-recognition","face-woman-outline","face-woman-profile","face-woman-shimmer-outline","face-woman-shimmer","face-woman","factory","family-tree","fan-alert","fan-auto","fan-chevron-down","fan-chevron-up","fan-clock","fan-minus","fan-off","fan-plus","fan-remove","fan-speed-1","fan-speed-2","fan-speed-3","fan","fast-forward-10","fast-forward-15","fast-forward-30","fast-forward-45","fast-forward-5","fast-forward-60","fast-forward-outline","fast-forward","faucet","faucet-variant","fax","feather","feature-search-outline","feature-search","fedora","fence-electric","fence","fencing","ferris-wheel","ferry","file-account-outline","file-account","file-alert-outline","file-alert","file-arrow-left-right-outline","file-arrow-left-right","file-arrow-up-down-outline","file-arrow-up-down","file-cabinet","file-cad-box","file-cad","file-cancel-outline","file-cancel","file-certificate-outline","file-certificate","file-chart-check-outline","file-chart-check","file-chart-outline","file-chart","file-check-outline","file-check","file-clock-outline","file-clock","file-cloud-outline","file-cloud","file-code-outline","file-code","file-cog-outline","file-cog","file-compare","file-delimited-outline","file-delimited","file-document-alert-outline","file-document-alert","file-document-arrow-right-outline","file-document-arrow-right","file-document-check-outline","file-document-check","file-document-edit-outline","file-document-edit","file-document-minus-outline","file-document-minus","file-document-multiple-outline","file-document-multiple","file-document-outline","file-document-plus-outline","file-document-plus","file-document-remove-outline","file-document-remove","file-document","file-download-outline","file-download","file-edit-outline","file-edit","file-excel-box-outline","file-excel-box","file-excel-outline","file-excel","file-export-outline","file-export","file-eye-outline","file-eye","file-find-outline","file-find","file-gif-box","file-hidden","file-image-marker-outline","file-image-marker","file-image-minus-outline","file-image-minus","file-image-outline","file-image-plus-outline","file-image-plus","file-image-remove-outline","file-image-remove","file-image","file-import-outline","file-import","file-jpg-box","file-key-outline","file-key","file-link-outline","file-link","file-lock-open-outline","file-lock-open","file-lock-outline","file-lock","file-marker-outline","file-marker","file-minus-outline","file-minus","file-move-outline","file-move","file-multiple-outline","file-multiple","file-music-outline","file-music","file-outline","file-pdf-box","file-percent-outline","file-percent","file-phone-outline","file-phone","file-plus-outline","file-plus","file-png-box","file-powerpoint-box-outline","file-powerpoint-box","file-powerpoint-outline","file-powerpoint","file-presentation-box","file-question-outline","file-question","file-refresh-outline","file-refresh","file-remove-outline","file-remove","file-replace-outline","file-replace","file-restore-outline","file-restore","file-rotate-left-outline","file-rotate-left","file-rotate-right-outline","file-rotate-right","files","file-search-outline","file-search","file-send-outline","file-send","file-settings-outline","file-settings","file-sign","file-star-outline","file-star","file","file-swap-outline","file-swap","file-sync-outline","file-sync","file-table-box-multiple-outline","file-table-box-multiple","file-table-box-outline","file-table-box","file-table-outline","file-table","file-tree-outline","file-tree","file-undo-outline","file-undo","file-upload-outline","file-upload","file-video-outline","file-video","file-word-box-outline","file-word-box","file-word-outline","file-word","file-xml-box","filmstrip-box-multiple","filmstrip-box","filmstrip-off","filmstrip","film","filter-check-outline","filter-check","filter-cog-outline","filter-cog","filter-menu-outline","filter-menu","filter-minus-outline","filter-minus","filter-multiple-outline","filter-multiple","filter-off-outline","filter-off","filter-outline","filter-plus-outline","filter-plus","filter-remove-outline","filter-remove","filter-settings-outline","filter-settings","filter","filter-variant-minus","filter-variant-plus","filter-variant-remove","filter-variant","finance","find-replace","fingerprint-off","fingerprint","fire-alert","firebase","fire-circle","fire-extinguisher","firefox","fire-hydrant-alert","fire-hydrant-off","fire-hydrant","fire-off","fireplace-off","fireplace","fire","fire-truck","firewire","firework-off","firework","fishbowl-outline","fishbowl","fish-off","fish","fit-to-page-outline","fit-to-page","fit-to-screen-outline","fit-to-screen","flag-checkered","flag-minus-outline","flag-minus","flag-off-outline","flag-off","flag-outline","flag-plus-outline","flag-plus","flag-remove-outline","flag-remove","flag","flag-triangle","flag-variant-minus-outline","flag-variant-minus","flag-variant-off-outline","flag-variant-off","flag-variant-outline","flag-variant-plus-outline","flag-variant-plus","flag-variant-remove-outline","flag-variant-remove","flag-variant","flare","flash-alert-outline","flash-alert","flash-auto","flashlight-off","flashlight","flash-off-outline","flash-off","flash-outline","flash-red-eye","flash","flash-triangle-outline","flash-triangle","flask-empty-minus-outline","flask-empty-minus","flask-empty-off-outline","flask-empty-off","flask-empty-outline","flask-empty-plus-outline","flask-empty-plus","flask-empty-remove-outline","flask-empty-remove","flask-empty","flask-minus-outline","flask-minus","flask-off-outline","flask-off","flask-outline","flask-plus-outline","flask-plus","flask-remove-outline","flask-remove","flask-round-bottom-empty-outline","flask-round-bottom-empty","flask-round-bottom-outline","flask-round-bottom","flask","fleur-de-lis","flip-horizontal","flip-to-back","flip-to-front","flip-vertical","floor-lamp-dual-outline","floor-lamp-dual","floor-lamp-outline","floor-lamp","floor-lamp-torchiere-outline","floor-lamp-torchiere","floor-lamp-torchiere-variant-outline","floor-lamp-torchiere-variant","floor-plan","floppy","floppy-variant","flower-outline","flower-pollen-outline","flower-pollen","flower-poppy","flower","flower-tulip-outline","flower-tulip","focus-auto","focus-field-horizontal","focus-field","focus-field-vertical","folder-account-outline","folder-account","folder-alert-outline","folder-alert","folder-arrow-down-outline","folder-arrow-down","folder-arrow-left-outline","folder-arrow-left-right-outline","folder-arrow-left-right","folder-arrow-left","folder-arrow-right-outline","folder-arrow-right","folder-arrow-up-down-outline","folder-arrow-up-down","folder-arrow-up-outline","folder-arrow-up","folder-cancel-outline","folder-cancel","folder-check-outline","folder-check","folder-clock-outline","folder-clock","folder-cog-outline","folder-cog","folder-download-outline","folder-download","folder-edit-outline","folder-edit","folder-eye-outline","folder-eye","folder-file-outline","folder-file","folder-google-drive","folder-heart-outline","folder-heart","folder-hidden","folder-home-outline","folder-home","folder-image","folder-information-outline","folder-information","folder-key-network-outline","folder-key-network","folder-key-outline","folder-key","folder-lock-open-outline","folder-lock-open","folder-lock-outline","folder-lock","folder-marker-outline","folder-marker","folder-minus-outline","folder-minus","folder-move-outline","folder-move","folder-multiple-image","folder-multiple-outline","folder-multiple-plus-outline","folder-multiple-plus","folder-multiple","folder-music-outline","folder-music","folder-network-outline","folder-network","folder-off-outline","folder-off","folder-open-outline","folder-open","folder-outline","folder-play-outline","folder-play","folder-plus-outline","folder-plus","folder-pound-outline","folder-pound","folder-question-outline","folder-question","folder-refresh-outline","folder-refresh","folder-remove-outline","folder-remove","folder-search-outline","folder-search","folder-settings-outline","folder-settings","folder-star-multiple-outline","folder-star-multiple","folder-star-outline","folder-star","folder","folder-swap-outline","folder-swap","folder-sync-outline","folder-sync","folder-table-outline","folder-table","folder-text-outline","folder-text","folder-upload-outline","folder-upload","folder-wrench-outline","folder-wrench","folder-zip-outline","folder-zip","font-awesome","food-apple-outline","food-apple","food-croissant","food-drumstick-off-outline","food-drumstick-off","food-drumstick-outline","food-drumstick","food-fork-drink","food-halal","food-hot-dog","food-kosher","food-off-outline","food-off","food-outline","food-steak-off","food-steak","food","food-takeout-box-outline","food-takeout-box","food-turkey","food-variant-off","food-variant","football-australian","football-helmet","football","foot-print","forest","forklift","format-align-bottom","format-align-center","format-align-justify","format-align-left","format-align-middle","format-align-right","format-align-top","format-annotation-minus","format-annotation-plus","format-bold","format-clear","format-color-fill","format-color-highlight","format-color-marker-cancel","format-color-text","format-columns","format-float-center","format-float-left","format-float-none","format-float-right","format-font-size-decrease","format-font-size-increase","format-font","format-header-1","format-header-2","format-header-3","format-header-4","format-header-5","format-header-6","format-header-decrease","format-header-equal","format-header-increase","format-header-pound","format-horizontal-align-center","format-horizontal-align-left","format-horizontal-align-right","format-indent-decrease","format-indent-increase","format-italic","format-letter-case-lower","format-letter-case","format-letter-case-upper","format-letter-ends-with","format-letter-matches","format-letter-spacing","format-letter-spacing-variant","format-letter-starts-with","format-line-height","format-line-spacing","format-line-style","format-line-weight","format-list-bulleted-square","format-list-bulleted","format-list-bulleted-triangle","format-list-bulleted-type","format-list-checkbox","format-list-checks","format-list-group-plus","format-list-group","format-list-numbered-rtl","format-list-numbered","format-list-text","format-overline","format-page-break","format-page-split","format-paint","format-paragraph-spacing","format-paragraph","format-pilcrow-arrow-left","format-pilcrow-arrow-right","format-pilcrow","format-quote-close-outline","format-quote-close","format-quote-open-outline","format-quote-open","format-rotate-90","format-section","format-size","format-strikethrough","format-strikethrough-variant","format-subscript","format-superscript","format-textbox","format-text-rotation-angle-down","format-text-rotation-angle-up","format-text-rotation-down","format-text-rotation-down-vertical","format-text-rotation-none","format-text-rotation-up","format-text-rotation-vertical","format-text","format-text-variant-outline","format-text-variant","format-text-wrapping-clip","format-text-wrapping-overflow","format-text-wrapping-wrap","format-title","format-underline","format-underline-wavy","format-vertical-align-bottom","format-vertical-align-center","format-vertical-align-top","format-wrap-inline","format-wrap-square","format-wrap-tight","format-wrap-top-bottom","form-dropdown","form-select","form-textarea","form-textbox-lock","form-textbox-password","form-textbox","forum-minus-outline","forum-minus","forum-outline","forum-plus-outline","forum-plus","forum-remove-outline","forum-remove","forum","forwardburger","forward","fountain-pen","fountain-pen-tip","fountain","fraction-one-half","freebsd","french-fries","frequently-asked-questions","fridge-alert-outline","fridge-alert","fridge-bottom","fridge-industrial-alert-outline","fridge-industrial-alert","fridge-industrial-off-outline","fridge-industrial-off","fridge-industrial-outline","fridge-industrial","fridge-off-outline","fridge-off","fridge-outline","fridge","fridge-top","fridge-variant-alert-outline","fridge-variant-alert","fridge-variant-off-outline","fridge-variant-off","fridge-variant-outline","fridge-variant","fruit-cherries-off","fruit-cherries","fruit-citrus-off","fruit-citrus","fruit-grapes-outline","fruit-grapes","fruit-pear","fruit-pineapple","fruit-watermelon","fuel-cell","fuel","fullscreen-exit","fullscreen","function","function-variant","furigana-horizontal","furigana-vertical","fuse-alert","fuse-blade","fuse-off","fuse","gamepad-circle-down","gamepad-circle-left","gamepad-circle-outline","gamepad-circle-right","gamepad-circle","gamepad-circle-up","gamepad-down","gamepad-left","gamepad-outline","gamepad-right","gamepad-round-down","gamepad-round-left","gamepad-round-outline","gamepad-round-right","gamepad-round","gamepad-round-up","gamepad-square-outline","gamepad-square","gamepad","gamepad-up","gamepad-variant-outline","gamepad-variant","gamma","gantry-crane","garage-alert","garage-alert-variant","garage-lock","garage-open","garage-open-variant","garage","garage-variant-lock","garage-variant","gas-burner","gas-cylinder","gas-station-off-outline","gas-station-off","gas-station-outline","gas-station","gate-alert","gate-and","gate-arrow-left","gate-arrow-right","gate-buffer","gate-nand","gate-nor","gate-not","gate-open","gate-or","gate","gate-xnor","gate-xor","gatsby","gauge-empty","gauge-full","gauge-low","gauge","gavel","gender-female","gender-male-female","gender-male-female-variant","gender-male","gender-non-binary","gender-transgender","gentoo","gesture-double-tap","gesture-pinch","gesture-spread","gesture","gesture-swipe-down","gesture-swipe-horizontal","gesture-swipe-left","gesture-swipe-right","gesture-swipe","gesture-swipe-up","gesture-swipe-vertical","gesture-tap-box","gesture-tap-button","gesture-tap-hold","gesture-tap","gesture-two-double-tap","gesture-two-tap","ghost-off-outline","ghost-off","ghost-outline","ghost","gift-off-outline","gift-off","gift-open-outline","gift-open","gift-outline","gift","github","gitlab","git","glass-cocktail-off","glass-cocktail","glasses","glass-flute","glass-fragile","glass-mug-off","glass-mug","glass-mug-variant-off","glass-mug-variant","glass-pint-outline","glass-stange","glass-tulip","glass-wine","globe-light-outline","globe-light","globe-model","gmail","gnome","gog","go-kart","go-kart-track","gold","golf-cart","golf","golf-tee","gondola","goodreads","google-ads","google-analytics","google-assistant","google-cardboard","google-chrome","google-circles-communities","google-circles-extended","google-circles-group","google-circles","google-classroom","google-cloud","google-downasaur","google-drive","google-earth","google-fit","google-glass","google-hangouts","google-keep","google-lens","google-maps","google-my-business","google-nearby","google-play","google-plus","google-podcast","google-spreadsheet","google-street-view","google","google-translate","gradient-horizontal","gradient-vertical","grain","graph-outline","graphql","graph","grass","grave-stone","grease-pencil","greater-than-or-equal","greater-than","greenhouse","grid-large","grid-off","grid","grill-outline","grill","group","guitar-acoustic","guitar-electric","guitar-pick-outline","guitar-pick","guy-fawkes-mask","gymnastics","hail","hair-dryer-outline","hair-dryer","halloween","hamburger-check","hamburger-minus","hamburger-off","hamburger-plus","hamburger-remove","hamburger","hammer-screwdriver","hammer-sickle","hammer","hammer-wrench","hand-back-left-off-outline","hand-back-left-off","hand-back-left-outline","hand-back-left","hand-back-right-off-outline","hand-back-right-off","hand-back-right-outline","hand-back-right","handball","hand-clap-off","hand-clap","hand-coin-outline","hand-coin","handcuffs","hand-cycle","hand-extended-outline","hand-extended","hand-front-left-outline","hand-front-left","hand-front-right-outline","hand-front-right","hand-heart-outline","hand-heart","hand-okay","hand-peace","hand-peace-variant","hand-pointing-down","hand-pointing-left","hand-pointing-right","hand-pointing-up","hand-saw","handshake-outline","handshake","hands-pray","hand-wash-outline","hand-wash","hand-water","hand-wave-outline","hand-wave","hanger","harddisk-plus","harddisk-remove","harddisk","hard-hat","hat-fedora","hazard-lights","hdmi-port","hdr-off","hdr","head-alert-outline","head-alert","head-check-outline","head-check","head-cog-outline","head-cog","head-dots-horizontal-outline","head-dots-horizontal","head-flash-outline","head-flash","head-heart-outline","head-heart","head-lightbulb-outline","head-lightbulb","head-minus-outline","head-minus","head-outline","headphones-bluetooth","headphones-box","headphones-off","headphones-settings","headphones","head-plus-outline","head-plus","head-question-outline","head-question","head-remove-outline","head-remove","headset-dock","headset-off","headset","head-snowflake-outline","head-snowflake","head","head-sync-outline","head-sync","heart-box-outline","heart-box","heart-broken-outline","heart-broken","heart-circle-outline","heart-circle","heart-cog-outline","heart-cog","heart-flash","heart-half-full","heart-half-outline","heart-half","heart-minus-outline","heart-minus","heart-multiple-outline","heart-multiple","heart-off-outline","heart-off","heart-outline","heart-plus-outline","heart-plus","heart-pulse","heart-remove-outline","heart-remove","heart-settings-outline","heart-settings","heart","heating-coil","heat-pump-outline","heat-pump","heat-wave","helicopter","help-box-multiple-outline","help-box-multiple","help-box-outline","help-box","help-circle-outline","help-circle","help-network-outline","help-network","help-rhombus-outline","help-rhombus","help","hexadecimal","hexagon-multiple-outline","hexagon-multiple","hexagon-outline","hexagon-slice-1","hexagon-slice-2","hexagon-slice-3","hexagon-slice-4","hexagon-slice-5","hexagon-slice-6","hexagon","hexagram-outline","hexagram","high-definition-box","high-definition","highway","hiking","history","hockey-puck","hockey-sticks","hololens","home-account","home-alert-outline","home-alert","home-analytics","home-assistant","home-automation","home-battery-outline","home-battery","home-circle-outline","home-circle","home-city-outline","home-city","home-clock-outline","home-clock","home-edit-outline","home-edit","home-export-outline","home-flood","home-floor-0","home-floor-1","home-floor-2","home-floor-3","home-floor-a","home-floor-b","home-floor-g","home-floor-l","home-floor-negative-1","home-group-minus","home-group-plus","home-group-remove","home-group","home-heart","home-import-outline","home-lightbulb-outline","home-lightbulb","home-lightning-bolt-outline","home-lightning-bolt","home-lock-open","home-lock","home-map-marker","home-minus-outline","home-minus","home-modern","home-off-outline","home-off","home-outline","home-plus-outline","home-plus","home-remove-outline","home-remove","home-roof","home-search-outline","home-search","home-silo-outline","home-silo","home","home-switch-outline","home-switch","home-thermometer-outline","home-thermometer","home-variant-outline","home-variant","hook-off","hook","hoop-house","hops","horizontal-rotate-clockwise","horizontal-rotate-counterclockwise","horse-human","horseshoe","horse","horse-variant-fast","horse-variant","hospital-box-outline","hospital-box","hospital-building","hospital-marker","hospital","hot-tub","hours-24","hubspot","hulu","human-baby-changing-table","human-cane","human-capacity-decrease","human-capacity-increase","human-child","human-dolly","human-edit","human-female-boy","human-female-dance","human-female-female","human-female-girl","human-female","human-greeting-proximity","human-greeting","human-greeting-variant","human-handsdown","human-handsup","human-male-board-poll","human-male-board","human-male-boy","human-male-child","human-male-female-child","human-male-female","human-male-girl","human-male-height","human-male-height-variant","human-male-male","human-male","human-non-binary","human-pregnant","human-queue","human-scooter","human","human-walker","human-wheelchair","human-white-cane","humble-bundle","hvac-off","hvac","hydraulic-oil-level","hydraulic-oil-temperature","hydrogen-station","hydro-power","ice-cream-off","ice-cream","ice-pop","id-card","identifier","ideogram-cjk","ideogram-cjk-variant","image-album","image-area-close","image-area","image-auto-adjust","image-broken","image-broken-variant","image-check-outline","image-check","image-edit-outline","image-edit","image-filter-black-white","image-filter-center-focus-strong-outline","image-filter-center-focus-strong","image-filter-center-focus","image-filter-center-focus-weak","image-filter-drama-outline","image-filter-drama","image-filter-frames","image-filter-hdr","image-filter-none","image-filter-tilt-shift","image-filter-vintage","image-frame","image-lock-outline","image-lock","image-marker-outline","image-marker","image-minus-outline","image-minus","image-move","image-multiple-outline","image-multiple","image-off-outline","image-off","image-outline","image-plus-outline","image-plus","image-refresh-outline","image-refresh","image-remove-outline","image-remove","image-search-outline","image-search","image-size-select-actual","image-size-select-large","image-size-select-small","image","image-sync-outline","image-sync","image-text","import","inbox-arrow-down-outline","inbox-arrow-down","inbox-arrow-up-outline","inbox-arrow-up","inbox-full-outline","inbox-full","inbox-multiple-outline","inbox-multiple","inbox-outline","inbox-remove-outline","inbox-remove","inbox","incognito-circle-off","incognito-circle","incognito-off","incognito","induction","infinity","information-off-outline","information-off","information-outline","information","information-variant","instagram","instrument-triangle","integrated-circuit-chip","invert-colors-off","invert-colors","iobroker","ip-network-outline","ip-network","ipod","ip-outline","ip","iron-board","iron-outline","iron","island","iv-bag","jabber","jeepney","jellyfish-outline","jellyfish","jira","jquery","jsfiddle","jump-rope","kabaddi","kangaroo","karate","kayaking","keg","kettle-alert-outline","kettle-alert","kettlebell","kettle-off-outline","kettle-off","kettle-outline","kettle-pour-over","kettle-steam-outline","kettle-steam","kettle","key-alert-outline","key-alert","key-arrow-right","keyboard-backspace","keyboard-caps","keyboard-close-outline","keyboard-close","keyboard-esc","keyboard-f10","keyboard-f11","keyboard-f12","keyboard-f1","keyboard-f2","keyboard-f3","keyboard-f4","keyboard-f5","keyboard-f6","keyboard-f7","keyboard-f8","keyboard-f9","keyboard-off-outline","keyboard-off","keyboard-outline","keyboard-return","keyboard-settings-outline","keyboard-settings","keyboard-space","keyboard","keyboard-tab-reverse","keyboard-tab","keyboard-variant","key-chain","key-chain-variant","key-change","key-link","key-minus","key-outline","key-plus","key-remove","key-star","key","key-variant","key-wireless","khanda","kickstarter","kite-outline","kitesurfing","kite","klingon","knife-military","knife","knob","koala","kodi","kubernetes","label-multiple-outline","label-multiple","label-off-outline","label-off","label-outline","label-percent-outline","label-percent","label","label-variant-outline","label-variant","ladder","ladybug","lambda","lamp-outline","lamps-outline","lamps","lamp","lan-check","lan-connect","land-fields","lan-disconnect","land-plots-circle","land-plots-circle-variant","land-plots","land-rows-horizontal","land-rows-vertical","landslide-outline","landslide","language-cpp","language-csharp","language-css3","language-c","language-fortran","language-go","language-haskell","language-html5","language-javascript","language-java","language-kotlin","language-lua","language-markdown-outline","language-markdown","language-php","language-python","language-r","language-ruby-on-rails","language-ruby","language-rust","language-swift","language-typescript","language-xaml","lan-pending","lan","laptop-account","laptop-off","laptop","laravel","laser-pointer","lasso","lastpass","latitude","launch","lava-lamp","layers-edit","layers-minus","layers-off-outline","layers-off","layers-outline","layers-plus","layers-remove","layers-search-outline","layers-search","layers","layers-triple-outline","layers-triple","lead-pencil","leaf-circle-outline","leaf-circle","leaf-maple-off","leaf-maple","leaf-off","leaf","leak-off","leak","lectern","led-off","led-on","led-outline","led-strip","led-strip-variant-off","led-strip-variant","led-variant-off","led-variant-on","led-variant-outline","leek","less-than-or-equal","less-than","library-outline","library-shelves","library","license","lifebuoy","lightbulb-alert-outline","lightbulb-alert","lightbulb-auto-outline","lightbulb-auto","lightbulb-cfl-off","lightbulb-cfl-spiral-off","lightbulb-cfl-spiral","lightbulb-cfl","lightbulb-fluorescent-tube-outline","lightbulb-fluorescent-tube","lightbulb-group-off-outline","lightbulb-group-off","lightbulb-group-outline","lightbulb-group","lightbulb-multiple-off-outline","lightbulb-multiple-off","lightbulb-multiple-outline","lightbulb-multiple","lightbulb-night-outline","lightbulb-night","lightbulb-off-outline","lightbulb-off","lightbulb-on-10","lightbulb-on-20","lightbulb-on-30","lightbulb-on-40","lightbulb-on-50","lightbulb-on-60","lightbulb-on-70","lightbulb-on-80","lightbulb-on-90","lightbulb-on-outline","lightbulb-on","lightbulb-outline","lightbulb-question-outline","lightbulb-question","lightbulb-spot-off","lightbulb-spot","lightbulb","lightbulb-variant-outline","lightbulb-variant","light-flood-down","light-flood-up","lighthouse-on","lighthouse","lightning-bolt-circle","lightning-bolt-outline","lightning-bolt","light-recessed","light-switch-off","light-switch","line-scan","lingerie","link-box-outline","link-box","link-box-variant-outline","link-box-variant","linkedin","link-lock","link-off","link-plus","link","link-variant-minus","link-variant-off","link-variant-plus","link-variant-remove","link-variant","linux-mint","linux","lipstick","liquid-spot","liquor","list-box-outline","list-box","list-status","litecoin","loading","location-enter","location-exit","lock-alert-outline","lock-alert","lock-check-outline","lock-check","lock-clock","locker-multiple","locker","lock-minus-outline","lock-minus","lock-off-outline","lock-off","lock-open-alert-outline","lock-open-alert","lock-open-check-outline","lock-open-check","lock-open-minus-outline","lock-open-minus","lock-open-outline","lock-open-plus-outline","lock-open-plus","lock-open-remove-outline","lock-open-remove","lock-open","lock-open-variant-outline","lock-open-variant","lock-outline","lock-pattern","lock-percent-open-outline","lock-percent-open","lock-percent-open-variant-outline","lock-percent-open-variant","lock-percent-outline","lock-percent","lock-plus-outline","lock-plus","lock-question","lock-remove-outline","lock-remove","lock-reset","lock-smart","lock","login","login-variant","logout","logout-variant","longitude","looks","lotion-outline","lotion-plus-outline","lotion-plus","lotion","loupe","lumx","lungs","mace","magazine-pistol","magazine-rifle","magic-staff","magnet-on","magnet","magnify-close","magnify-expand","magnify-minus-cursor","magnify-minus-outline","magnify-minus","magnify-plus-cursor","magnify-plus-outline","magnify-plus","magnify-remove-cursor","magnify-remove-outline","magnify-scan","magnify","mailbox-open-outline","mailbox-open","mailbox-open-up-outline","mailbox-open-up","mailbox-outline","mailbox","mailbox-up-outline","mailbox-up","mail","manjaro","mapbox","map-check-outline","map-check","map-clock-outline","map-clock","map-legend","map-marker-account-outline","map-marker-account","map-marker-alert-outline","map-marker-alert","map-marker-check-outline","map-marker-check","map-marker-circle","map-marker-distance","map-marker-down","map-marker-left-outline","map-marker-left","map-marker-minus-outline","map-marker-minus","map-marker-multiple-outline","map-marker-multiple","map-marker-off-outline","map-marker-off","map-marker-outline","map-marker-path","map-marker-plus-outline","map-marker-plus","map-marker-question-outline","map-marker-question","map-marker-radius-outline","map-marker-radius","map-marker-remove-outline","map-marker-remove","map-marker-remove-variant","map-marker-right-outline","map-marker-right","map-marker-star-outline","map-marker-star","map-marker","map-marker-up","map-minus","map-outline","map-plus","map-search-outline","map-search","map","margin","marker-cancel","marker-check","marker","mastodon","material-design","material-ui","math-compass","math-cos","math-integral-box","math-integral","math-log","math-norm-box","math-norm","math-sin","math-tan","matrix","medal-outline","medal","medical-bag","medical-cotton-swab","medication-outline","medication","meditation","memory","menorah-fire","menorah","menu-down-outline","menu-down","menu-left-outline","menu-left","menu-open","menu-right-outline","menu-right","menu","menu-swap-outline","menu-swap","menu-up-outline","menu-up","merge","message-alert-outline","message-alert","message-arrow-left-outline","message-arrow-left","message-arrow-right-outline","message-arrow-right","message-badge-outline","message-badge","message-bookmark-outline","message-bookmark","message-bulleted-off","message-bulleted","message-check-outline","message-check","message-cog-outline","message-cog","message-draw","message-fast-outline","message-fast","message-flash-outline","message-flash","message-image-outline","message-image","message-lock-outline","message-lock","message-minus-outline","message-minus","message-off-outline","message-off","message-outline","message-plus-outline","message-plus","message-processing-outline","message-processing","message-question-outline","message-question","message-reply-outline","message-reply","message-reply-text-outline","message-reply-text","message-settings-outline","message-settings","message-star-outline","message-star","message","message-text-clock-outline","message-text-clock","message-text-fast-outline","message-text-fast","message-text-lock-outline","message-text-lock","message-text-outline","message-text","message-video","meteor","meter-electric-outline","meter-electric","meter-gas-outline","meter-gas","metronome","metronome-tick","microphone-message-off","microphone-message","microphone-minus","microphone-off","microphone-outline","microphone-plus","microphone-question-outline","microphone-question","microphone-settings","microphone","microphone-variant-off","microphone-variant","microscope","micro-sd","microsoft-access","microsoft-azure-devops","microsoft-azure","microsoft-bing","microsoft-dynamics-365","microsoft-edge","microsoft-excel","microsoft-internet-explorer","microsoft-office","microsoft-onedrive","microsoft-onenote","microsoft-outlook","microsoft-powerpoint","microsoft-sharepoint","microsoft","microsoft-teams","microsoft-visual-studio-code","microsoft-visual-studio","microsoft-windows-classic","microsoft-windows","microsoft-word","microsoft-xbox-controller-battery-alert","microsoft-xbox-controller-battery-charging","microsoft-xbox-controller-battery-empty","microsoft-xbox-controller-battery-full","microsoft-xbox-controller-battery-low","microsoft-xbox-controller-battery-medium","microsoft-xbox-controller-battery-unknown","microsoft-xbox-controller-menu","microsoft-xbox-controller-off","microsoft-xbox-controller","microsoft-xbox-controller-view","microsoft-xbox","microwave-off","microwave","middleware-outline","middleware","midi-port","midi","minecraft","mine","minidisc","mini-sd","minus-box-multiple-outline","minus-box-multiple","minus-box-outline","minus-box","minus-circle-multiple-outline","minus-circle-multiple","minus-circle-off-outline","minus-circle-off","minus-circle-outline","minus-circle","minus-network-outline","minus-network","minus","minus-thick","mirror-rectangle","mirror","mirror-variant","mixed-martial-arts","mixed-reality","molecule-co2","molecule-co","molecule","monitor-account","monitor-arrow-down","monitor-arrow-down-variant","monitor-cellphone-star","monitor-cellphone","monitor-dashboard","monitor-edit","monitor-eye","monitor-lock","monitor-multiple","monitor-off","monitor-screenshot","monitor-share","monitor-shimmer","monitor-small","monitor-speaker-off","monitor-speaker","monitor-star","monitor","moon-first-quarter","moon-full","moon-last-quarter","moon-new","moon-waning-crescent","moon-waning-gibbous","moon-waxing-crescent","moon-waxing-gibbous","moped-electric-outline","moped-electric","moped-outline","moped","more","mortar-pestle-plus","mortar-pestle","mosque-outline","mosque","mother-heart","mother-nurse","motion-outline","motion-pause-outline","motion-pause","motion-play-outline","motion-play","motion-sensor-off","motion-sensor","motion","motorbike-electric","motorbike-off","motorbike","mouse-bluetooth","mouse-move-down","mouse-move-up","mouse-move-vertical","mouse-off","mouse","mouse-variant-off","mouse-variant","move-resize","move-resize-variant","movie-check-outline","movie-check","movie-cog-outline","movie-cog","movie-edit-outline","movie-edit","movie-filter-outline","movie-filter","movie-minus-outline","movie-minus","movie-off-outline","movie-off","movie-open-check-outline","movie-open-check","movie-open-cog-outline","movie-open-cog","movie-open-edit-outline","movie-open-edit","movie-open-minus-outline","movie-open-minus","movie-open-off-outline","movie-open-off","movie-open-outline","movie-open-play-outline","movie-open-play","movie-open-plus-outline","movie-open-plus","movie-open-remove-outline","movie-open-remove","movie-open-settings-outline","movie-open-settings","movie-open-star-outline","movie-open-star","movie-open","movie-outline","movie-play-outline","movie-play","movie-plus-outline","movie-plus","movie-remove-outline","movie-remove","movie-roll","movie-search-outline","movie-search","movie-settings-outline","movie-settings","movie-star-outline","movie-star","movie","mower-bag-on","mower-bag","mower-on","mower","muffin","multicast","multimedia","multiplication-box","multiplication","mushroom-off-outline","mushroom-off","mushroom-outline","mushroom","music-accidental-double-flat","music-accidental-double-sharp","music-accidental-flat","music-accidental-natural","music-accidental-sharp","music-box-multiple-outline","music-box-multiple","music-box-outline","music-box","music-circle-outline","music-circle","music-clef-alto","music-clef-bass","music-clef-treble","music-note-bluetooth-off","music-note-bluetooth","music-note-eighth-dotted","music-note-eighth","music-note-half-dotted","music-note-half","music-note-minus","music-note-off-outline","music-note-off","music-note-outline","music-note-plus","music-note-quarter-dotted","music-note-quarter","music-note-sixteenth-dotted","music-note-sixteenth","music-note","music-note-whole-dotted","music-note-whole","music-off","music-rest-eighth","music-rest-half","music-rest-quarter","music-rest-sixteenth","music-rest-whole","music","mustache","nail","nas","nativescript","nature-people","nature","navigation-outline","navigation","navigation-variant-outline","navigation-variant","near-me","necklace","needle-off","needle","netflix","network-off-outline","network-off","network-outline","network-pos","network-strength-1-alert","network-strength-1","network-strength-2-alert","network-strength-2","network-strength-3-alert","network-strength-3","network-strength-4-alert","network-strength-4-cog","network-strength-4","network-strength-off-outline","network-strength-off","network-strength-outline","network","new-box","newspaper-check","newspaper-minus","newspaper-plus","newspaper-remove","newspaper","newspaper-variant-multiple-outline","newspaper-variant-multiple","newspaper-variant-outline","newspaper-variant","nfc-search-variant","nfc","nfc-tap","nfc-variant-off","nfc-variant","ninja","nintendo-game-boy","nintendo-switch","nintendo-wii","nintendo-wiiu","nix","nodejs","noodles","note-alert-outline","note-alert","notebook-check-outline","notebook-check","notebook-edit-outline","notebook-edit","notebook-heart-outline","notebook-heart","notebook-minus-outline","notebook-minus","notebook-multiple","notebook-outline","notebook-plus-outline","notebook-plus","notebook-remove-outline","notebook-remove","notebook","note-check-outline","note-check","note-edit-outline","note-edit","note-minus-outline","note-minus","note-multiple-outline","note-multiple","note-off-outline","note-off","note-outline","note-plus-outline","note-plus","not-equal","not-equal-variant","note-remove-outline","note-remove","note-search-outline","note-search","note","note-text-outline","note-text","notification-clear-all","npm","nuke","null","numeric-0-box-multiple-outline","numeric-0-box-multiple","numeric-0-box-outline","numeric-0-box","numeric-0-circle-outline","numeric-0-circle","numeric-0","numeric-10-box-multiple-outline","numeric-10-box-multiple","numeric-10-box-outline","numeric-10-box","numeric-10-circle-outline","numeric-10-circle","numeric-10","numeric-1-box-multiple-outline","numeric-1-box-multiple","numeric-1-box-outline","numeric-1-box","numeric-1-circle-outline","numeric-1-circle","numeric-1","numeric-2-box-multiple-outline","numeric-2-box-multiple","numeric-2-box-outline","numeric-2-box","numeric-2-circle-outline","numeric-2-circle","numeric-2","numeric-3-box-multiple-outline","numeric-3-box-multiple","numeric-3-box-outline","numeric-3-box","numeric-3-circle-outline","numeric-3-circle","numeric-3","numeric-4-box-multiple-outline","numeric-4-box-multiple","numeric-4-box-outline","numeric-4-box","numeric-4-circle-outline","numeric-4-circle","numeric-4","numeric-5-box-multiple-outline","numeric-5-box-multiple","numeric-5-box-outline","numeric-5-box","numeric-5-circle-outline","numeric-5-circle","numeric-5","numeric-6-box-multiple-outline","numeric-6-box-multiple","numeric-6-box-outline","numeric-6-box","numeric-6-circle-outline","numeric-6-circle","numeric-6","numeric-7-box-multiple-outline","numeric-7-box-multiple","numeric-7-box-outline","numeric-7-box","numeric-7-circle-outline","numeric-7-circle","numeric-7","numeric-8-box-multiple-outline","numeric-8-box-multiple","numeric-8-box-outline","numeric-8-box","numeric-8-circle-outline","numeric-8-circle","numeric-8","numeric-9-box-multiple-outline","numeric-9-box-multiple","numeric-9-box-outline","numeric-9-box","numeric-9-circle-outline","numeric-9-circle","numeric-9-plus-box-multiple-outline","numeric-9-plus-box-multiple","numeric-9-plus-box-outline","numeric-9-plus-box","numeric-9-plus-circle-outline","numeric-9-plus-circle","numeric-9-plus","numeric-9","numeric-negative-1","numeric-off","numeric-positive-1","numeric","nutrition","nut","nuxt","oar","ocarina","oci","ocr","octagon-outline","octagon","octagram-outline","octagram","octahedron-off","octahedron","odnoklassniki","offer","office-building-cog-outline","office-building-cog","office-building-marker-outline","office-building-marker","office-building-minus-outline","office-building-minus","office-building-outline","office-building-plus-outline","office-building-plus","office-building-remove-outline","office-building-remove","office-building","oil-lamp","oil-level","oil","oil-temperature","omega","om","onepassword","one-up","opacity","openid","open-in-app","open-in-new","open-source-initiative","opera","orbit","orbit-variant","order-alphabetical-ascending","order-alphabetical-descending","order-bool-ascending","order-bool-ascending-variant","order-bool-descending","order-bool-descending-variant","order-numeric-ascending","order-numeric-descending","origin","ornament","ornament-variant","outdoor-lamp","overscan","owl","package-check","package-down","package","package-up","package-variant-closed-check","package-variant-closed-minus","package-variant-closed-plus","package-variant-closed-remove","package-variant-closed","package-variant-minus","package-variant-plus","package-variant-remove","package-variant","pac-man","page-first","page-last","page-layout-body","page-layout-footer","page-layout-header-footer","page-layout-header","page-layout-sidebar-left","page-layout-sidebar-right","page-next-outline","page-next","page-previous-outline","page-previous","pail-minus-outline","pail-minus","pail-off-outline","pail-off","pail-outline","pail-plus-outline","pail-plus","pail-remove-outline","pail-remove","pail","palette-advanced","palette-outline","palette","palette-swatch-outline","palette-swatch","palette-swatch-variant","palm-tree","pan-bottom-left","pan-bottom-right","panda","pandora","pan-down","pan-horizontal","pan-left","panorama-fisheye","panorama-horizontal-outline","panorama-horizontal","panorama-outline","panorama-sphere-outline","panorama-sphere","panorama","panorama-variant-outline","panorama-variant","panorama-vertical-outline","panorama-vertical","panorama-wide-angle-outline","panorama-wide-angle","pan-right","pan","pan-top-left","pan-top-right","pan-up","pan-vertical","paperclip-check","paperclip-lock","paperclip-minus","paperclip-off","paperclip-plus","paperclip-remove","paperclip","paper-cut-vertical","paper-roll-outline","paper-roll","parachute-outline","parachute","paragliding","parking","party-popper","passport-biometric","passport","pasta","patio-heater","patreon","pause-box-outline","pause-box","pause-circle-outline","pause-circle","pause-octagon-outline","pause-octagon","pause","paw-off-outline","paw-off","paw-outline","paw","peace","peanut-off-outline","peanut-off","peanut-outline","peanut","pencil-box-multiple-outline","pencil-box-multiple","pencil-box-outline","pencil-box","pencil-circle-outline","pencil-circle","pencil-lock-outline","pencil-lock","pencil-minus-outline","pencil-minus","pencil-off-outline","pencil-off","pencil-outline","pencil-plus-outline","pencil-plus","pencil-remove-outline","pencil-remove","pencil-ruler-outline","pencil-ruler","pencil","penguin","pen-lock","pen-minus","pen-off","pen-plus","pen-remove","pen","pentagon-outline","pentagon","pentagram","percent-box-outline","percent-box","percent-circle-outline","percent-circle","percent-outline","percent","periodic-table","perspective-less","perspective-more","phone-alert-outline","phone-alert","phone-bluetooth-outline","phone-bluetooth","phone-cancel-outline","phone-cancel","phone-check-outline","phone-check","phone-classic-off","phone-classic","phone-clock","phone-dial-outline","phone-dial","phone-forward-outline","phone-forward","phone-hangup-outline","phone-hangup","phone-incoming-outgoing-outline","phone-incoming-outgoing","phone-incoming-outline","phone-incoming","phone-in-talk-outline","phone-in-talk","phone-lock-outline","phone-lock","phone-log-outline","phone-log","phone-message-outline","phone-message","phone-minus-outline","phone-minus","phone-missed-outline","phone-missed","phone-off-outline","phone-off","phone-outgoing-outline","phone-outgoing","phone-outline","phone-paused-outline","phone-paused","phone-plus-outline","phone-plus","phone-refresh-outline","phone-refresh","phone-remove-outline","phone-remove","phone-return-outline","phone-return","phone-ring-outline","phone-ring","phone-rotate-landscape","phone-rotate-portrait","phone-settings-outline","phone-settings","phone","phone-sync-outline","phone-sync","phone-voip","ph","piano-off","piano","pi-box","pickaxe","picture-in-picture-bottom-right-outline","picture-in-picture-bottom-right","picture-in-picture-top-right-outline","picture-in-picture-top-right","pier-crane","pier","piggy-bank-outline","piggy-bank","pig","pig-variant-outline","pig-variant","pi-hole","pillar","pill-multiple","pill-off","pill","pine-tree-box","pine-tree-fire","pine-tree","pin-off-outline","pin-off","pin-outline","pin","pinterest","pinwheel-outline","pinwheel","pipe-disconnected","pipe-leak","pipe","pipe-valve","pipe-wrench","pirate","pistol","piston","pi","pitchfork","pizza","plane-car","plane-train","play-box-lock-open-outline","play-box-lock-open","play-box-lock-outline","play-box-lock","play-box-multiple-outline","play-box-multiple","play-box-outline","play-box","play-circle-outline","play-circle","playlist-check","playlist-edit","playlist-minus","playlist-music-outline","playlist-music","playlist-play","playlist-plus","playlist-remove","playlist-star","play-network-outline","play-network","play-outline","play-pause","play-protected-content","play-speed","play","plex","pliers","plus-box-multiple-outline","plus-box-multiple","plus-box-outline","plus-box","plus-circle-multiple-outline","plus-circle-multiple","plus-circle-outline","plus-circle","plus-lock-open","plus-lock","plus-minus-box","plus-minus","plus-minus-variant","plus-network-outline","plus-network","plus-outline","plus","plus-thick","podcast","podium-bronze","podium-gold","podium-silver","podium","point-of-sale","pokeball","pokemon-go","poker-chip","polaroid","police-badge-outline","police-badge","police-station","poll","polo","polymer","pool","pool-thermometer","popcorn","postage-stamp","post-lamp","post-outline","post","pot-mix-outline","pot-mix","pot-outline","pot-steam-outline","pot-steam","pot","pound-box-outline","pound-box","pound","power-cycle","power-off","power-on","power-plug-off-outline","power-plug-off","power-plug-outline","power-plug","power-settings","powershell","power-sleep","power-socket-au","power-socket-ch","power-socket-de","power-socket-eu","power-socket-fr","power-socket-it","power-socket-jp","power-socket","power-socket-uk","power-socket-us","power-standby","power","prescription","presentation-play","presentation","pretzel","printer-3d-nozzle-alert-outline","printer-3d-nozzle-alert","printer-3d-nozzle-heat-outline","printer-3d-nozzle-heat","printer-3d-nozzle-off-outline","printer-3d-nozzle-off","printer-3d-nozzle-outline","printer-3d-nozzle","printer-3d-off","printer-3d","printer-alert","printer-check","printer-eye","printer-off-outline","printer-off","printer-outline","printer-pos-alert-outline","printer-pos-alert","printer-pos-cancel-outline","printer-pos-cancel","printer-pos-check-outline","printer-pos-check","printer-pos-cog-outline","printer-pos-cog","printer-pos-edit-outline","printer-pos-edit","printer-pos-minus-outline","printer-pos-minus","printer-pos-network-outline","printer-pos-network","printer-pos-off-outline","printer-pos-off","printer-pos-outline","printer-pos-pause-outline","printer-pos-pause","printer-pos-play-outline","printer-pos-play","printer-pos-plus-outline","printer-pos-plus","printer-pos-refresh-outline","printer-pos-refresh","printer-pos-remove-outline","printer-pos-remove","printer-pos-star-outline","printer-pos-star","printer-pos-stop-outline","printer-pos-stop","printer-pos","printer-pos-sync-outline","printer-pos-sync","printer-pos-wrench-outline","printer-pos-wrench","printer-search","printer-settings","printer","printer-wireless","priority-high","priority-low","professional-hexagon","progress-alert","progress-check","progress-clock","progress-close","progress-download","progress-helper","progress-pencil","progress-question","progress-star","progress-upload","progress-wrench","projector-off","projector-screen-off-outline","projector-screen-off","projector-screen-outline","projector-screen","projector-screen-variant-off-outline","projector-screen-variant-off","projector-screen-variant-outline","projector-screen-variant","projector","propane-tank-outline","propane-tank","protocol","publish-off","publish","pulse","pumpkin","pump-off","pump","purse-outline","purse","puzzle-check-outline","puzzle-check","puzzle-edit-outline","puzzle-edit","puzzle-heart-outline","puzzle-heart","puzzle-minus-outline","puzzle-minus","puzzle-outline","puzzle-plus-outline","puzzle-plus","puzzle-remove-outline","puzzle-remove","puzzle-star-outline","puzzle-star","puzzle","pyramid-off","pyramid","qi","qqchat","qrcode-edit","qrcode-minus","qrcode-plus","qrcode-remove","qrcode-scan","qrcode","quadcopter","quality-high","quality-low","quality-medium","quora","rabbit","rabbit-variant-outline","rabbit-variant","racing-helmet","racquetball","radar","radiator-disabled","radiator-off","radiator","radioactive-circle-outline","radioactive-circle","radioactive-off","radioactive","radio-am","radiobox-blank","radiobox-marked","radio-fm","radio-handheld","radiology-box-outline","radiology-box","radio-off","radio","radio-tower","radius-outline","radius","railroad-light","rake","raspberry-pi","raw-off","raw","ray-end-arrow","ray-end","ray-start-arrow","ray-start-end","ray-start","ray-start-vertex-end","ray-vertex","razor-double-edge","razor-single-edge","react","read","receipt-outline","receipt","receipt-text-check-outline","receipt-text-check","receipt-text-minus-outline","receipt-text-minus","receipt-text-outline","receipt-text-plus-outline","receipt-text-plus","receipt-text-remove-outline","receipt-text-remove","receipt-text","record-circle-outline","record-circle","record-player","record-rec","record","rectangle-outline","rectangle","recycle","recycle-variant","reddit","redhat","redo","redo-variant","reflect-horizontal","reflect-vertical","refresh-auto","refresh-circle","refresh","regex","registered-trademark","reiterate","relation-many-to-many","relation-many-to-one-or-many","relation-many-to-one","relation-many-to-only-one","relation-many-to-zero-or-many","relation-many-to-zero-or-one","relation-one-or-many-to-many","relation-one-or-many-to-one-or-many","relation-one-or-many-to-one","relation-one-or-many-to-only-one","relation-one-or-many-to-zero-or-many","relation-one-or-many-to-zero-or-one","relation-one-to-many","relation-one-to-one-or-many","relation-one-to-one","relation-one-to-only-one","relation-one-to-zero-or-many","relation-one-to-zero-or-one","relation-only-one-to-many","relation-only-one-to-one-or-many","relation-only-one-to-one","relation-only-one-to-only-one","relation-only-one-to-zero-or-many","relation-only-one-to-zero-or-one","relation-zero-or-many-to-many","relation-zero-or-many-to-one-or-many","relation-zero-or-many-to-one","relation-zero-or-many-to-only-one","relation-zero-or-many-to-zero-or-many","relation-zero-or-many-to-zero-or-one","relation-zero-or-one-to-many","relation-zero-or-one-to-one-or-many","relation-zero-or-one-to-one","relation-zero-or-one-to-only-one","relation-zero-or-one-to-zero-or-many","relation-zero-or-one-to-zero-or-one","relative-scale","reload-alert","reload","reminder","remote-desktop","remote-off","remote","remote-tv-off","remote-tv","rename-box-outline","rename-box","rename-outline","rename","reorder-horizontal","reorder-vertical","repeat-off","repeat-once","repeat","repeat-variant","replay","reply-all-outline","reply-all","reply-circle","reply-outline","reply","reproduction","resistor-nodes","resistor","resize-bottom-right","resize","responsive","restart-alert","restart-off","restart","restore-alert","restore","rewind-10","rewind-15","rewind-30","rewind-45","rewind-5","rewind-60","rewind-outline","rewind","rhombus-medium-outline","rhombus-medium","rhombus-outline","rhombus-split-outline","rhombus-split","rhombus","ribbon","rice","rickshaw-electric","rickshaw","ring","rivet","road","road-variant","robber","robot-angry-outline","robot-angry","robot-confused-outline","robot-confused","robot-dead-outline","robot-dead","robot-excited-outline","robot-excited","robot-happy-outline","robot-happy","robot-industrial-outline","robot-industrial","robot-love-outline","robot-love","robot-mower-outline","robot-mower","robot-off-outline","robot-off","robot-outline","robot","robot-vacuum-alert","robot-vacuum-off","robot-vacuum","robot-vacuum-variant-alert","robot-vacuum-variant-off","robot-vacuum-variant","rocket-launch-outline","rocket-launch","rocket-outline","rocket","rodent","rollerblade-off","rollerblade","roller-shade-closed","roller-shade","roller-skate-off","roller-skate","rollupjs","rolodex-outline","rolodex","roman-numeral-10","roman-numeral-1","roman-numeral-2","roman-numeral-3","roman-numeral-4","roman-numeral-5","roman-numeral-6","roman-numeral-7","roman-numeral-8","roman-numeral-9","room-service-outline","room-service","rotate-360","rotate-3d","rotate-3d-variant","rotate-left","rotate-left-variant","rotate-orbit","rotate-right","rotate-right-variant","rounded-corner","router-network","router","router-wireless-off","router-wireless-settings","router-wireless","routes-clock","routes","rowing","rss-box","rss-off","rss","rugby","rug","ruler-square-compass","ruler-square","ruler","run-fast","run","rv-truck","sack-percent","sack","safe-square-outline","safe-square","safe","safety-goggles","sail-boat-sink","sail-boat","sale-outline","salesforce","sale","sass","satellite","satellite-uplink","satellite-variant","sausage-off","sausage","saw-blade","sawtooth-wave","saxophone","scale-balance","scale-bathroom","scale-off","scale","scale-unbalanced","scan-helper","scanner-off","scanner","scatter-plot-outline","scatter-plot","scent-off","scent","school-outline","school","scissors-cutting","scooter-electric","scooter","scoreboard-outline","scoreboard","screen-rotation-lock","screen-rotation","screwdriver","screw-flat-top","screw-lag","screw-machine-flat-top","screw-machine-round-top","screw-round-top","script-outline","script","script-text-key-outline","script-text-key","script-text-outline","script-text-play-outline","script-text-play","script-text","sd","seal","seal-variant","search-web","seatbelt","seat-flat-angled","seat-flat","seat-individual-suite","seat-legroom-extra","seat-legroom-normal","seat-legroom-reduced","seat-outline","seat-passenger","seat-recline-extra","seat-recline-normal","seat","security-network","security","seed-off-outline","seed-off","seed-outline","seed-plus-outline","seed-plus","seed","seesaw","segment","select-all","select-arrow-down","select-arrow-up","select-color","select-compare","select-drag","select-group","select-inverse","selection-drag","selection-ellipse-arrow-inside","selection-ellipse-remove","selection-ellipse","selection-marker","selection-multiple-marker","selection-multiple","selection-off","selection-remove","selection-search","selection","select-marker","select-multiple-marker","select-multiple","select-off","select-place","select-remove","select-search","select","semantic-web","send-check-outline","send-check","send-circle-outline","send-circle","send-clock-outline","send-clock","send-lock-outline","send-lock","send-outline","send","serial-port","server-minus","server-network-off","server-network","server-off","server-plus","server-remove","server-security","server","set-all","set-center-right","set-center","set-left-center","set-left-right","set-left","set-merge","set-none","set-right","set-split","set-square","settings-helper","set-top-box","shaker-outline","shaker","shape-circle-plus","shape-outline","shape-oval-plus","shape-plus","shape-polygon-plus","shape-rectangle-plus","shape-square-plus","shape-square-rounded-plus","shape","share-all-outline","share-all","share-circle","share-off-outline","share-off","share-outline","share","share-variant-outline","share-variant","shark-fin-outline","shark-fin","shark-off","shark","sheep","shield-account-outline","shield-account","shield-account-variant-outline","shield-account-variant","shield-airplane-outline","shield-airplane","shield-alert-outline","shield-alert","shield-bug-outline","shield-bug","shield-car","shield-check-outline","shield-check","shield-cross-outline","shield-cross","shield-crown-outline","shield-crown","shield-edit-outline","shield-edit","shield-half-full","shield-half","shield-home-outline","shield-home","shield-key-outline","shield-key","shield-link-variant-outline","shield-link-variant","shield-lock-open-outline","shield-lock-open","shield-lock-outline","shield-lock","shield-moon-outline","shield-moon","shield-off-outline","shield-off","shield-outline","shield-plus-outline","shield-plus","shield-refresh-outline","shield-refresh","shield-remove-outline","shield-remove","shield-search","shield-star-outline","shield-star","shield-sun-outline","shield-sun","shield","shield-sword-outline","shield-sword","shield-sync-outline","shield-sync","shimmer","shipping-pallet","ship-wheel","shoe-ballet","shoe-cleat","shoe-formal","shoe-heel","shoe-print","shoe-sneaker","shopping-music","shopping-outline","shopping-search-outline","shopping-search","shopping","shore","shovel-off","shovel","shower-head","shower","shredder","shuffle-disabled","shuffle","shuffle-variant","shuriken","sickle","sigma-lower","sigma","signal-2g","signal-3g","signal-4g","signal-5g","signal-cellular-1","signal-cellular-2","signal-cellular-3","signal-cellular-outline","signal-distance-variant","signal-hspa-plus","signal-hspa","signal-off","signal","signal-variant","signature-freehand","signature-image","signature","signature-text","sign-caution","sign-direction-minus","sign-direction-plus","sign-direction-remove","sign-direction","sign-language-outline","sign-language","sign-pole","sign-real-estate","sign-text","sign-yield","silo-outline","silo","silverware-clean","silverware-fork-knife","silverware-fork","silverware-spoon","silverware","silverware-variant","sim-alert-outline","sim-alert","sim-off-outline","sim-off","sim-outline","simple-icons","sim","sina-weibo","sine-wave","sitemap-outline","sitemap","size-l","size-m","size-s","size-xl","size-xs","size-xxl","size-xxs","size-xxxl","skateboarding","skateboard","skate-off","skate","skew-less","skew-more","ski-cross-country","skip-backward-outline","skip-backward","skip-forward-outline","skip-forward","skip-next-circle-outline","skip-next-circle","skip-next-outline","skip-next","skip-previous-circle-outline","skip-previous-circle","skip-previous-outline","skip-previous","ski","ski-water","skull-crossbones-outline","skull-crossbones","skull-outline","skull-scan-outline","skull-scan","skull","skype-business","skype","slack","slash-forward-box","slash-forward","sledding","sleep-off","sleep","slide","slope-downhill","slope-uphill","slot-machine-outline","slot-machine","smart-card-off-outline","smart-card-off","smart-card-outline","smart-card-reader-outline","smart-card-reader","smart-card","smog","smoke-detector-alert-outline","smoke-detector-alert","smoke-detector-off-outline","smoke-detector-off","smoke-detector-outline","smoke-detector","smoke-detector-variant-alert","smoke-detector-variant-off","smoke-detector-variant","smoke","smoking-off","smoking-pipe-off","smoking-pipe","smoking","snail","snake","snapchat","snowboard","snowflake-alert","snowflake-check","snowflake-melt","snowflake-off","snowflake","snowflake-thermometer","snowflake-variant","snowman","snowmobile","snowshoeing","soccer-field","soccer","social-distance-2-meters","social-distance-6-feet","sofa-outline","sofa-single-outline","sofa-single","sofa","solar-panel-large","solar-panel","solar-power","solar-power-variant-outline","solar-power-variant","soldering-iron","solid","sony-playstation","sort-alphabetical-ascending","sort-alphabetical-ascending-variant","sort-alphabetical-descending","sort-alphabetical-descending-variant","sort-alphabetical-variant","sort-ascending","sort-bool-ascending","sort-bool-ascending-variant","sort-bool-descending","sort-bool-descending-variant","sort-calendar-ascending","sort-calendar-descending","sort-clock-ascending-outline","sort-clock-ascending","sort-clock-descending-outline","sort-clock-descending","sort-descending","sort-numeric-ascending","sort-numeric-ascending-variant","sort-numeric-descending","sort-numeric-descending-variant","sort-numeric-variant","sort-reverse-variant","sort","sort-variant-lock-open","sort-variant-lock","sort-variant-off","sort-variant-remove","sort-variant","soundbar","soundcloud","source-branch-check","source-branch-minus","source-branch-plus","source-branch-refresh","source-branch-remove","source-branch","source-branch-sync","source-commit-end-local","source-commit-end","source-commit-local","source-commit-next-local","source-commit-start-next-local","source-commit-start","source-commit","source-fork","source-merge","source-pull","source-repository-multiple","source-repository","soy-sauce-off","soy-sauce","space-invaders","space-station","spade","spa-outline","spa","speaker-bluetooth","speaker-message","speaker-multiple","speaker-off","speaker-pause","speaker-play","speaker-stop","speaker","speaker-wireless","spear","speedometer-medium","speedometer-slow","speedometer","spellcheck","sphere-off","sphere","spider","spider-thread","spider-web","spirit-level","spoon-sugar","spotify","spotlight-beam","spotlight","spray-bottle","spray","sprinkler-fire","sprinkler","sprinkler-variant","sprout-outline","sprout","square-circle","square-edit-outline","square-medium-outline","square-medium","square-off-outline","square-off","square-opacity","square-outline","square-root-box","square-root","square-rounded-badge-outline","square-rounded-badge","square-rounded-outline","square-rounded","square-small","square","square-wave","squeegee","ssh","stack-exchange","stack-overflow","stackpath","stadium-outline","stadium","stadium-variant","stairs-box","stairs-down","stairs","stairs-up","stamper","standard-definition","star-box-multiple-outline","star-box-multiple","star-box-outline","star-box","star-check-outline","star-check","star-circle-outline","star-circle","star-cog-outline","star-cog","star-crescent","star-david","star-face","star-four-points-outline","star-four-points","star-half-full","star-half","star-minus-outline","star-minus","star-off-outline","star-off","star-outline","star-plus-outline","star-plus","star-remove-outline","star-remove","star-settings-outline","star-settings","star-shooting-outline","star-shooting","star","star-three-points-outline","star-three-points","state-machine","steam","steering-off","steering","step-backward-2","step-backward","step-forward-2","step-forward","stethoscope","sticker-alert-outline","sticker-alert","sticker-check-outline","sticker-check","sticker-circle-outline","sticker-emoji","sticker-minus-outline","sticker-minus","sticker-outline","sticker-plus-outline","sticker-plus","sticker-remove-outline","sticker-remove","sticker","sticker-text-outline","sticker-text","stocking","stomach","stool-outline","stool","stop-circle-outline","stop-circle","stop","storage-tank-outline","storage-tank","store-24-hour","store-alert-outline","store-alert","store-check-outline","store-check","store-clock-outline","store-clock","store-cog-outline","store-cog","store-edit-outline","store-edit","storefront-check-outline","storefront-check","storefront-edit-outline","storefront-edit","storefront-minus-outline","storefront-minus","storefront-outline","storefront-plus-outline","storefront-plus","storefront-remove-outline","storefront-remove","storefront","store-marker-outline","store-marker","store-minus-outline","store-minus","store-off-outline","store-off","store-outline","store-plus-outline","store-plus","store-remove-outline","store-remove","store-search-outline","store-search","store-settings-outline","store-settings","store","stove","strategy","stretch-to-page-outline","stretch-to-page","string-lights-off","string-lights","subdirectory-arrow-left","subdirectory-arrow-right","submarine","subtitles-outline","subtitles","subway-alert-variant","subway","subway-variant","summit","sun-angle-outline","sun-angle","sun-clock-outline","sun-clock","sun-compass","sunglasses","sun-snowflake","sun-snowflake-variant","sun-thermometer-outline","sun-thermometer","sun-wireless-outline","sun-wireless","surfing","surround-sound-2-0","surround-sound-2-1","surround-sound-3-1","surround-sound-5-1-2","surround-sound-5-1","surround-sound-7-1","surround-sound","svg","swap-horizontal-bold","swap-horizontal-circle-outline","swap-horizontal-circle","swap-horizontal","swap-horizontal-variant","swap-vertical-bold","swap-vertical-circle-outline","swap-vertical-circle","swap-vertical","swap-vertical-variant","swim","switch","sword-cross","sword","syllabary-hangul","syllabary-hiragana","syllabary-katakana-halfwidth","syllabary-katakana","symbol","symfony","synagogue-outline","synagogue","sync-alert","sync-circle","sync-off","sync","table-account","table-alert","table-arrow-down","table-arrow-left","table-arrow-right","table-arrow-up","table-border","table-cancel","table-chair","table-check","table-clock","table-cog","table-column-plus-after","table-column-plus-before","table-column-remove","table-column","table-column-width","table-edit","table-eye-off","table-eye","table-filter","table-furniture","table-headers-eye-off","table-headers-eye","table-heart","table-key","table-large-plus","table-large-remove","table-large","table-lock","table-merge-cells","table-minus","table-multiple","table-network","table-of-contents","table-off","table-picnic","table-pivot","table-plus","table-question","table-refresh","table-remove","table-row-height","table-row-plus-after","table-row-plus-before","table-row-remove","table-row","table-search","table-settings","table-split-cell","table-star","table","table-sync","tablet-cellphone","tablet-dashboard","table-tennis","tablet","tab-minus","tab-plus","tab-remove","tab-search","tab","tab-unselected","taco","tag-arrow-down-outline","tag-arrow-down","tag-arrow-left-outline","tag-arrow-left","tag-arrow-right-outline","tag-arrow-right","tag-arrow-up-outline","tag-arrow-up","tag-check-outline","tag-check","tag-faces","tag-heart-outline","tag-heart","tag-minus-outline","tag-minus","tag-multiple-outline","tag-multiple","tag-off-outline","tag-off","tag-outline","tag-plus-outline","tag-plus","tag-remove-outline","tag-remove","tag-search-outline","tag-search","tag","tag-text-outline","tag-text","tailwind","tally-mark-1","tally-mark-2","tally-mark-3","tally-mark-4","tally-mark-5","tangram","tanker-truck","tank","tape-drive","tape-measure","target-account","target","target-variant","taxi","teamviewer","tea-outline","tea","teddy-bear","telescope","television-ambient-light","television-box","television-classic-off","television-classic","television-guide","television-off","television-pause","television-play","television-shimmer","television-speaker-off","television-speaker","television-stop","television","temperature-celsius","temperature-fahrenheit","temperature-kelvin","temple-buddhist-outline","temple-buddhist","temple-hindu-outline","temple-hindu","tennis-ball","tennis","tent","terraform","terrain","test-tube-empty","test-tube-off","test-tube","text-account","text-box-check-outline","text-box-check","text-box-edit-outline","text-box-edit","text-box-minus-outline","text-box-minus","text-box-multiple-outline","text-box-multiple","text-box-outline","text-box-plus-outline","text-box-plus","text-box-remove-outline","text-box-remove","text-box-search-outline","text-box-search","text-box","text-long","text-recognition","text-search","text-search-variant","text-shadow","text-short","text","texture-box","texture","theater","theme-light-dark","thermometer-alert","thermometer-auto","thermometer-bluetooth","thermometer-check","thermometer-chevron-down","thermometer-chevron-up","thermometer-high","thermometer-lines","thermometer-low","thermometer-minus","thermometer-off","thermometer-plus","thermometer-probe-off","thermometer-probe","thermometer","thermometer-water","thermostat-auto","thermostat-box-auto","thermostat-box","thermostat","thought-bubble-outline","thought-bubble","thumb-down-outline","thumb-down","thumbs-up-down-outline","thumbs-up-down","thumb-up-outline","thumb-up","ticket-account","ticket-confirmation-outline","ticket-confirmation","ticket-outline","ticket-percent-outline","ticket-percent","ticket","tie","tilde-off","tilde","timelapse","timeline-alert-outline","timeline-alert","timeline-check-outline","timeline-check","timeline-clock-outline","timeline-clock","timeline-minus-outline","timeline-minus","timeline-outline","timeline-plus-outline","timeline-plus","timeline-question-outline","timeline-question","timeline-remove-outline","timeline-remove","timeline","timeline-text-outline","timeline-text","timer-10","timer-3","timer-alert-outline","timer-alert","timer-cancel-outline","timer-cancel","timer-check-outline","timer-check","timer-cog-outline","timer-cog","timer-edit-outline","timer-edit","timer-lock-open-outline","timer-lock-open","timer-lock-outline","timer-lock","timer-marker-outline","timer-marker","timer-minus-outline","timer-minus","timer-music-outline","timer-music","timer-off-outline","timer-off","timer-outline","timer-pause-outline","timer-pause","timer-play-outline","timer-play","timer-plus-outline","timer-plus","timer-refresh-outline","timer-refresh","timer-remove-outline","timer-remove","timer-sand-complete","timer-sand-empty","timer-sand-full","timer-sand-paused","timer-sand","timer-settings-outline","timer-settings","timer-star-outline","timer-star","timer-stop-outline","timer-stop","timer","timer-sync-outline","timer-sync","timetable","tire","toaster-off","toaster-oven","toaster","toggle-switch-off-outline","toggle-switch-off","toggle-switch-outline","toggle-switch","toggle-switch-variant-off","toggle-switch-variant","toilet","toolbox-outline","toolbox","tools","tooltip-account","tooltip-cellphone","tooltip-check-outline","tooltip-check","tooltip-edit-outline","tooltip-edit","tooltip-image-outline","tooltip-image","tooltip-minus-outline","tooltip-minus","tooltip-outline","tooltip-plus-outline","tooltip-plus","tooltip-question-outline","tooltip-question","tooltip-remove-outline","tooltip-remove","tooltip","tooltip-text-outline","tooltip-text","toothbrush-electric","toothbrush-paste","toothbrush","tooth-outline","tooth","torch","tortoise","toslink","tournament","tower-beach","tower-fire","town-hall","tow-truck","toy-brick-marker-outline","toy-brick-marker","toy-brick-minus-outline","toy-brick-minus","toy-brick-outline","toy-brick-plus-outline","toy-brick-plus","toy-brick-remove-outline","toy-brick-remove","toy-brick-search-outline","toy-brick-search","toy-brick","track-light-off","track-light","trackpad-lock","trackpad","tractor","tractor-variant","trademark","traffic-cone","traffic-light-outline","traffic-light","train-car-autorack","train-car-box-full","train-car-box-open","train-car-box","train-car-caboose","train-car-centerbeam-full","train-car-centerbeam","train-car-container","train-car-flatbed-car","train-car-flatbed","train-car-flatbed-tank","train-car-gondola-full","train-car-gondola","train-car-hopper-covered","train-car-hopper-full","train-car-hopper","train-car-intermodal","train-car-passenger-door-open","train-car-passenger-door","train-car-passenger","train-car-passenger-variant","train-car","train-car-tank","train","train-variant","tram-side","tram","transcribe-close","transcribe","transfer-down","transfer-left","transfer-right","transfer","transfer-up","transit-connection-horizontal","transit-connection","transit-connection-variant","transit-detour","transition-masked","transition","transit-skip","transit-transfer","translate-off","translate","translate-variant","transmission-tower-export","transmission-tower-import","transmission-tower-off","transmission-tower","trash-can-outline","trash-can","tray-alert","tray-arrow-down","tray-arrow-up","tray-full","tray-minus","tray-plus","tray-remove","tray","treasure-chest","tree-outline","tree","trello","trending-down","trending-neutral","trending-up","triangle-outline","triangle-small-down","triangle-small-up","triangle","triangle-wave","triforce","trophy-award","trophy-broken","trophy-outline","trophy","trophy-variant-outline","trophy-variant","truck-alert-outline","truck-alert","truck-cargo-container","truck-check-outline","truck-check","truck-delivery-outline","truck-delivery","truck-fast-outline","truck-fast","truck-flatbed","truck-minus-outline","truck-minus","truck-outline","truck-plus-outline","truck-plus","truck-remove-outline","truck-remove","truck-snowflake","truck","truck-trailer","trumpet","tshirt-crew-outline","tshirt-crew","tshirt-v-outline","tshirt-v","tsunami","tumble-dryer-alert","tumble-dryer-off","tumble-dryer","tune","tune-variant","tune-vertical","tune-vertical-variant","tunnel-outline","tunnel","turbine","turkey","turnstile-outline","turnstile","turtle","twitch","twitter","two-factor-authentication","typewriter","ubisoft","ubuntu","ufo-outline","ufo","ultra-high-definition","umbraco","umbrella-beach-outline","umbrella-beach","umbrella-closed-outline","umbrella-closed","umbrella-closed-variant","umbrella-outline","umbrella","undo","undo-variant","unfold-less-horizontal","unfold-less-vertical","unfold-more-horizontal","unfold-more-vertical","ungroup","unicode","unicorn","unicorn-variant","unicycle","unity","unreal","update","upload-lock-outline","upload-lock","upload-multiple","upload-network-outline","upload-network","upload-off-outline","upload-off","upload-outline","upload","usb-flash-drive-outline","usb-flash-drive","usb-port","usb","vacuum-outline","vacuum","valve-closed","valve-open","valve","vanish-quarter","vanish","vanity-light","van-passenger","van-utility","variable-box","variable","vector-arrange-above","vector-arrange-below","vector-bezier","vector-circle","vector-circle-variant","vector-combine","vector-curve","vector-difference-ab","vector-difference-ba","vector-difference","vector-ellipse","vector-intersection","vector-line","vector-link","vector-point-edit","vector-point-minus","vector-point-plus","vector-point-select","vector-point","vector-polygon","vector-polygon-variant","vector-polyline-edit","vector-polyline-minus","vector-polyline-plus","vector-polyline-remove","vector-polyline","vector-radius","vector-rectangle","vector-selection","vector-square-close","vector-square-edit","vector-square-minus","vector-square-open","vector-square-plus","vector-square-remove","vector-square","vector-triangle","vector-union","vhs","vibrate-off","vibrate","video-2d","video-3d-off","video-3d","video-3d-variant","video-4k-box","video-account","video-box-off","video-box","video-check-outline","video-check","video-high-definition","video-image","video-input-antenna","video-input-component","video-input-hdmi","video-input-scart","video-input-svideo","video-marker-outline","video-marker","video-minus-outline","video-minus","video-off-outline","video-off","video-outline","video-plus-outline","video-plus","video-stabilization","video","video-switch-outline","video-switch","video-vintage","video-wireless-outline","video-wireless","view-agenda-outline","view-agenda","view-array-outline","view-array","view-carousel-outline","view-carousel","view-column-outline","view-column","view-comfy-outline","view-comfy","view-compact-outline","view-compact","view-dashboard-edit-outline","view-dashboard-edit","view-dashboard-outline","view-dashboard","view-dashboard-variant-outline","view-dashboard-variant","view-day-outline","view-day","view-gallery-outline","view-gallery","view-grid-outline","view-grid-plus-outline","view-grid-plus","view-grid","view-headline","view-list-outline","view-list","view-module-outline","view-module","view-parallel-outline","view-parallel","view-quilt-outline","view-quilt","view-sequential-outline","view-sequential","view-split-horizontal","view-split-vertical","view-stream-outline","view-stream","view-week-outline","view-week","vimeo","violin","virtual-reality","virus-off-outline","virus-off","virus-outline","virus","vlc","voicemail","volcano-outline","volcano","volleyball","volume-equal","volume-high","volume-low","volume-medium","volume-minus","volume-mute","volume-off","volume-plus","volume-source","volume-variant-off","volume-vibrate","vote-outline","vote","vpn","vuejs","vuetify","walk","wallet-giftcard","wallet-membership","wallet-outline","wallet-plus-outline","wallet-plus","wallet","wallet-travel","wall-fire","wallpaper","wall-sconce-flat-outline","wall-sconce-flat","wall-sconce-flat-variant-outline","wall-sconce-flat-variant","wall-sconce-outline","wall-sconce-round-outline","wall-sconce-round","wall-sconce-round-variant-outline","wall-sconce-round-variant","wall-sconce","wall","wan","wardrobe-outline","wardrobe","warehouse","washing-machine-alert","washing-machine-off","washing-machine","watch-export","watch-export-variant","watch-import","watch-import-variant","watch","watch-variant","watch-vibrate-off","watch-vibrate","water-alert-outline","water-alert","water-boiler-alert","water-boiler-auto","water-boiler-off","water-boiler","water-check-outline","water-check","water-circle","waterfall","watering-can-outline","watering-can","watermark","water-minus-outline","water-minus","water-off-outline","water-off","water-opacity","water-outline","water-percent-alert","water-percent","water-plus-outline","water-plus","water-polo","water-pump-off","water-pump","water-remove-outline","water-remove","water","water-sync","water-thermometer-outline","water-thermometer","water-well-outline","water-well","waveform","waves-arrow-left","waves-arrow-right","waves-arrow-up","waves","wave","waze","weather-cloudy-alert","weather-cloudy-arrow-right","weather-cloudy-clock","weather-cloudy","weather-dust","weather-fog","weather-hail","weather-hazy","weather-hurricane","weather-lightning-rainy","weather-lightning","weather-night-partly-cloudy","weather-night","weather-partly-cloudy","weather-partly-lightning","weather-partly-rainy","weather-partly-snowy-rainy","weather-partly-snowy","weather-pouring","weather-rainy","weather-snowy-heavy","weather-snowy-rainy","weather-snowy","weather-sunny-alert","weather-sunny-off","weather-sunny","weather-sunset-down","weather-sunset","weather-sunset-up","weather-tornado","weather-windy","weather-windy-variant","web-box","webcam-off","webcam","web-cancel","web-check","web-clock","webhook","web-minus","web-off","webpack","web-plus","web-refresh","web-remove","webrtc","web","web-sync","wechat","weight-gram","weight-kilogram","weight-lifter","weight-pound","weight","whatsapp","wheel-barrow","wheelchair-accessibility","wheelchair","whistle-outline","whistle","white-balance-auto","white-balance-incandescent","white-balance-iridescent","white-balance-sunny","widgets-outline","widgets","wifi-alert","wifi-arrow-down","wifi-arrow-left-right","wifi-arrow-left","wifi-arrow-right","wifi-arrow-up-down","wifi-arrow-up","wifi-cancel","wifi-check","wifi-cog","wifi-lock-open","wifi-lock","wifi-marker","wifi-minus","wifi-off","wifi-plus","wifi-refresh","wifi-remove","wifi-settings","wifi-star","wifi-strength-1-alert","wifi-strength-1-lock-open","wifi-strength-1-lock","wifi-strength-1","wifi-strength-2-alert","wifi-strength-2-lock-open","wifi-strength-2-lock","wifi-strength-2","wifi-strength-3-alert","wifi-strength-3-lock-open","wifi-strength-3-lock","wifi-strength-3","wifi-strength-4-alert","wifi-strength-4-lock-open","wifi-strength-4-lock","wifi-strength-4","wifi-strength-alert-outline","wifi-strength-lock-open-outline","wifi-strength-lock-outline","wifi-strength-off-outline","wifi-strength-off","wifi-strength-outline","wifi","wifi-sync","wikipedia","window-closed","window-closed-variant","window-close","window-maximize","window-minimize","window-open","window-open-variant","window-restore","window-shutter-alert","window-shutter-auto","window-shutter-cog","window-shutter-open","window-shutter-settings","window-shutter","wind-power-outline","wind-power","windsock","wind-turbine-alert","wind-turbine-check","wind-turbine","wiper","wiper-wash-alert","wiper-wash","wizard-hat","wordpress","wrap-disabled","wrap","wrench-check-outline","wrench-check","wrench-clock-outline","wrench-clock","wrench-cog-outline","wrench-cog","wrench-outline","wrench","xamarin","xml","xmpp","yahoo","yeast","yin-yang","yoga","youtube-gaming","youtube-studio","youtube-subscription","youtube","youtube-tv","yurt","zend","zigbee","zip-box-outline","zip-box","zip-disk","zodiac-aquarius","zodiac-aries","zodiac-cancer","zodiac-capricorn","zodiac-gemini","zodiac-leo","zodiac-libra","zodiac-pisces","zodiac-sagittarius","zodiac-scorpio","zodiac-taurus","zodiac-virgo","z-wave"],Mc=(0,v.Z)((function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,m.Z)(this,e),this.edgeLabel=t,this.children={},this.isWord=r})),Oc=function(){function e(t){(0,m.Z)(this,e),this.root=new Mc(""),t&&this.addWords(t)}return(0,v.Z)(e,[{key:"addWords",value:function(e){var t,r=(0,u.Z)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.addWord(n)}}catch(i){r.e(i)}finally{r.f()}}},{key:"addWord",value:function(e){e=e.toLowerCase();for(var t=this.root,r=0;r<e.length;r++){var n=e[r];if(!(n in t.children)){var i=new Mc(e.substr(r),!0);return void(t.children[n]=i)}var o=t.children[n].edgeLabel,a=Rc(o,e.substr(r));if(o===e.substr(r))return void(t.children[n].isWord=!0);if(a.length<o.length&&a.length===e.substr(r).length){var s=new Mc(e.substr(r),!0);return s.children[o[a.length]]=t.children[n],s.children[o[a.length]].edgeLabel=o.substr(a.length),void(t.children[n]=s)}if(a.length<o.length&&a.length<e.substr(r).length){var l=new Mc(a);return l.children[o[a.length]]=t.children[n],l.children[o[a.length]].edgeLabel=o.substr(a.length),t.children[n]=l,void(l.children[e.substr(r)[a.length]]=new Mc(e.substr(r+a.length),!0))}r+=o.length-1,t=t.children[n]}}},{key:"getWords",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,n,i,o,a,s,l,c,u;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:u=function(){return u=(0,h.Z)((0,d.Z)().mark((function e(t,r){var n,i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isWord&&l.push(r),0!==Object.keys(t.children).length){e.next=3;break}return e.abrupt("return");case 3:n=0,i=Object.keys(t.children);case 4:if(!(n<i.length)){e.next=11;break}return o=i[n],e.next=8,c(t.children[o],r.concat(t.children[o].edgeLabel));case 8:n++,e.next=4;break;case 11:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)},c=function(e,t){return u.apply(this,arguments)},t=t.toLowerCase(),r="",n=this.root,i=0;case 6:if(!(i<t.length)){e.next=22;break}if(o=t[i],!(o in n.children)){e.next=18;break}if(a=n.children[o].edgeLabel,s=Rc(a,t.substr(i)),s.length===a.length||s.length===t.substr(i).length){e.next=13;break}return e.abrupt("return",[]);case 13:r=r.concat(n.children[o].edgeLabel),i+=n.children[o].edgeLabel.length-1,n=n.children[o],e.next=19;break;case 18:return e.abrupt("return",[]);case 19:i++,e.next=6;break;case 22:return l=[],e.next=25,c(n,r);case 25:return e.abrupt("return",l);case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSyncWords",value:function(e){e=e.toLowerCase();for(var t="",r=this.root,n=0;n<e.length;n++){var i=e[n];if(!(i in r.children))return[];var o=r.children[i].edgeLabel,a=Rc(o,e.substr(n));if(a.length!==o.length&&a.length!==e.substr(n).length)return[];t=t.concat(r.children[i].edgeLabel),n+=r.children[i].edgeLabel.length-1,r=r.children[i]}var s=[];function l(e,t){if(e.isWord&&s.push(t),0!==Object.keys(e.children).length)for(var r=0,n=Object.keys(e.children);r<n.length;r++){var i=n[r];l(e.children[i],t.concat(e.children[i].edgeLabel))}}return l(r,t),s}}]),e}();function Rc(e,t){for(var r="",n=0;n<Math.min(e.length,t.length);n++){if(e[n]!==t[n])return r;r+=e[n]}return r}var Lc={name:"MdiIconPicker",props:{defaultIcon:{type:String,default:function(){return"map-marker"}},label:{type:String,default:function(){return"Color"}}},data:function(){return{loading:!1,showDialog:!1,searchIcon:"",selectedIcon:this.defaultIcon,radix:new Oc(Pc),items:[],page:0,itemsToDisplay:[],itemsPerRender:100,minLoadingDuration:50,debouncedWatch:z((function(e,t,r){r(e)}),255)}},created:function(){this.updateList(),this.$watch("data",(function(){this.updateList()}),{deep:!0})},mounted:function(){this.loadItems()},methods:{onScroll:function(){this.loadItems()},saveIcon:function(e){this.selectedIcon=e,this.showDialog=!1,this.$emit("onSelect",this.selectedIcon)},updateList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=(0,Ir.F3)(e,this.itemsPerRender);this.items=t,this.itemsToDisplay=t[0]},loadItems:function(){var e=this;if(this.page!==this.items.length-1){var t=this.$refs["end-of-list"];if(t){var r=t.getBoundingClientRect();if(r.top>=0&&r.bottom<=window.innerHeight&&!this.loading){this.loading=!0,this.page++;var n=performance.now(),i=[].concat((0,xt.Z)(this.itemsToDisplay),(0,xt.Z)(this.items[this.page])),o=performance.now(),a=o-n,s=o-n>this.minLoadingDuration?0:this.minLoadingDuration-a;setTimeout((function(){e.itemsToDisplay=i,e.loading=!1,e.loadItems()}),s)}}}}},watch:{searchIcon:function(e,t){var r=this;this.loading=!0,this.debouncedWatch(e,t,(function(e){r.page=0,r.updateList(r.radix.getSyncWords(e)),r.loading=!1}))}}};const jc=(0,zo.Z)(Lc,[["render",Ac],["__scopeId","data-v-bfa0b52e"]]);var zc=jc,Bc=r(40652),Fc=r(17126);function Wc(e,t,r,n,o,a){return(0,i.wg)(),(0,i.j4)(ia.B,{modelValue:o.showDialog,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.showDialog=e}),"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"350px"},{activator:(0,i.w5)((function(e){var n=e.props;return[(0,i.Wm)(Dl.h,(0,i.dG)({modelValue:o.selectedColor,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.selectedColor=e}),label:r.label},n,{readonly:"",variant:"solo",density:"compact",class:"input-text"}),{"prepend-inner":(0,i.w5)((function(){return[(0,i.Wm)(Bc.V,{color:o.selectedColor,density:"compact",size:"small"},null,8,["color"])]})),_:2},1040,["modelValue","label"])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(_c.K,{class:"d-flex justify-md-space-between"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Fc.J,{"show-swatches":"",modelValue:o.selectedColor,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.selectedColor=e}),mode:"rgba",width:"300"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var Uc={name:"ColorPicker",props:{modelValue:String,label:{type:String,default:function(){return"Color"}}},emits:["update:modelValue","onSelect"],data:function(){return{loading:!1,showDialog:!1,selectedColor:this.modelValue||"#000000"}},watch:{selectedColor:function(){this.$emit("onSelect",this.selectedColor),this.$emit("update:modelValue",this.selectedColor)}}};const Vc=(0,zo.Z)(Uc,[["render",Wc],["__scopeId","data-v-4f505a40"]]);var Nc=Vc,qc=r(68560),Hc=r(16824),Yc=r(23150),Kc=r(34842),Gc={class:"select-container"},$c=["href"],Qc=["href"];function Xc(e,t,r,s,l,c){var u=(0,i.up)("SaveDialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Gc,[(0,i.Wm)(Zl.rL,{label:r.label,items:r.dataSources,"item-title":"name","item-value":"id",variant:"solo",modelValue:r.model.dataSourceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.model.dataSourceId=e}),density:"compact"},null,8,["label","items","modelValue"]),r.model.dataSourceId?((0,i.wg)(),(0,i.j4)(a.T,{key:0,class:"btn-select-func",variant:"tonal",depressed:"",density:"compact",icon:"mdi-dots-horizontal",tile:"",small:"",onClick:(0,n.iM)(c.showFunctionDialog,["stop"]),disabled:!(r.model.dataSourceId&&c.isValidMapping())},null,8,["onClick","disabled"])):(0,i.kq)("",!0),l.showFuncDialog?((0,i.wg)(),(0,i.j4)(u,{key:1,title:s.dialogFuncTitle,name:s.funcName,cssClass:"func-content",onOnClose:c.onClose,onOnSave:c.save},{content:(0,i.w5)((function(){return[(0,i.Wm)(Kc.z,{modelValue:r.model[s.funcName],"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.model[s.funcName]=e}),"auto-grow":"",label:s.dialogFuncTitle,rows:"20",density:"comfortable"},null,8,["modelValue","label"])]})),_:1},8,["title","name","onOnClose","onOnSave"])):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.model,(function(e,t){return(0,i.wg)(),(0,i.iD)(i.HY,null,["dataSourceId"===t||t.startsWith("get")?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(qc.E,{key:0,items:r.mapping.value,label:t,variant:"solo",density:"compact",modelValue:r.model[t],"onUpdate:modelValue":function(e){return r.model[t]=e},"item-title":"uiLabel","return-object":""},{selection:(0,i.w5)((function(e){var t=e.item;return[(0,i.Wm)(Jo.N,{location:"start"},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,$c)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(t.title),1)]})),item:(0,i.w5)((function(e){return[(0,i.Wm)(Yc.l,(0,o.vs)((0,i.F4)(e.props)),{title:(0,i.w5)((function(t){var r=t.title;return[(0,i.Wm)(Jo.N,{location:"start"},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.item.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,Qc)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(r),1)]})),_:2},1040)]})),_:2},1032,["items","label","modelValue","onUpdate:modelValue"]))],64)})),256))],64)}var Jc=r(16572),eu=r(31615);function tu(e,t,r,n,s,l){var c=(0,i.up)("ConfirmDialog");return(0,i.wg)(),(0,i.j4)(ia.B,{"model-value":!0,class:"dialog","content-class":"content-dialog",persistent:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,{elevation:"24",class:"mx-lg-n16 card form"},{default:(0,i.w5)((function(){return[n.title?((0,i.wg)(),(0,i.j4)(Jc.E,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(Hc.o,{align:"center",justify:"center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Sc.D,{cols:"12",lg:"6",md:"6",class:"grey lighten-2 fill-height d-flex flex-column justify-center align-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,{flat:"",tile:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Qo.Z,{class:"text-h6"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(n.title),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(yl.C,{class:"sheet"},{default:(0,i.w5)((function(){return[(0,i._)("div",{class:(0,o.C_)("form-content "+r.cssClass)},[(0,i.WI)(e.$slots,"content",{},void 0,!0)],2)]})),_:3}),(0,i.Wm)(na.h,{class:"actions"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a.T,{icon:"",dark:"",onClick:n.close,density:"compact",class:"cancel",variant:"tonal"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("mdi-close")]})),_:1})]})),_:1},8,["onClick"]),(0,i.Wm)(aa.i,{color:"#e4e4e4",class:"save-toolbar",density:"compact"},{default:(0,i.w5)((function(){return[(0,i.Wm)(oa.C),(0,i.Wm)(eu.l,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(a.T,{variant:"text",onClick:n.save},{default:(0,i.w5)((function(){return[(0,i.Uk)(" Save ")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:3}),(0,i.Wm)(c,{ref:"confirm"},null,512)]})),_:3})}var ru={name:"SaveDialog",emits:["onClose","onSave"],props:["title","cssClass","name"],setup:function(e,t){t.attrs,t.slots;var r=t.emit,n=(t.expose,e.title),o=e.name||n,a={onSave:function(){},onDelete:function(){},onClose:function(){}},s=function(){a.onClose(),r("onClose")},l=function(){a.onSave(),r("onSave"),s()};return(0,i.JJ)("callbacks",a),{title:n,name:o,save:l,close:s}},components:{ConfirmDialog:da},methods:{cancel:function(){this.close()}}};const nu=(0,zo.Z)(ru,[["render",tu],["__scopeId","data-v-4d75fa90"]]);var iu=nu,ou={name:"DataSourceMapping",props:["label","name","dataSources","mapping","model","transformFunc"],components:{SaveDialog:iu},setup:function(e){var t="Function get".concat(e.name,"():"),r="get".concat(e.name);return{dialogFuncTitle:t,funcName:r}},data:function(){return{showFuncDialog:!1}},methods:{onClose:function(){this.showFuncDialog=!1},onSave:function(){this.showFuncDialog=!1},isValidMapping:function(){for(var e in this.model)if(!this.model[e])return!1;return!0},showFunctionDialog:function(){this.model[this.funcName]||(this.model[this.funcName]=this.transformFunc(this.model)),this.showFuncDialog=!0},save:function(){this.showFuncDialog=!1}}};const au=(0,zo.Z)(ou,[["render",Xc],["__scopeId","data-v-2e84f7b0"]]);var su=au;function lu(){return{icon:"https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/map-marker.svg",iconScale:1,zoomLevel:10,iconColor:"#000000CC",iconAnchor:[16,32],class:"PointMarkerLayer",labelOffset:[5,10],labelSize:12,labelColor:void 0,labelOutlineColor:void 0,labelBackgroundColor:void 0}}function cu(){return{icon:"https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/map-marker.svg",iconSize:[16,16],iconAnchor:[16,32],labelOffset:[5,10],iconScale:1,zoomLevel:10,iconColor:"#000000CC",class:"PointMarkerLayer"}}var uu={name:"WidgetFormPointMarkerLayer",components:{DataSourceMapping:su,ColorPicker:Nc,MdiIconPicker:zc,VTextFieldNumber:zl},setup:function(e){var t,r=Po(),n=(0,Wo.yj)(),o=(0,i.f3)("dataSources"),a=(0,i.f3)("reactiveLayer"),s=(0,i.f3)("widget");a.class||(s.name.toLowerCase().startsWith("cesium")?Object.assign(a,lu()):"openlayer"===s.name.toLowerCase()&&Object.assign(a,cu())),a.ui.label||(a.ui.label={dataSourceId:void 0,data:void 0}),a.ui.location||(a.ui.location={dataSourceId:void 0,x:void 0,y:void 0,z:void 0}),a.ui.orientation||(a.ui.orientation={dataSourceId:void 0,heading:void 0}),a.ui.markerId||(a.ui.markerId={dataSourceId:void 0,markerId:void 0}),a.ui.urlIcon=!1,"icon"in a?(t=a.icon.split("/"),t=t[t.length-1].split(".svg")[0]):t="https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/map-marker.svg".split("/")[t.length-1].split(".svg")[0];var l=n.params.dashboardId;return{layer:a,icon:t,sweStore:r,dataSources:o,dashboardId:l}},computed:{labelDataSourceMapping:function(){return this.getMapping(this.layer.ui.label.dataSourceId)},locationDataSourceMapping:function(){return this.getMapping(this.layer.ui.location.dataSourceId)},orientationDataSourceMapping:function(){return this.getMapping(this.layer.ui.orientation.dataSourceId)},markerIdDataSourceMapping:function(){return this.getMapping(this.layer.ui.markerId.dataSourceId)}},watch:{"layer.ui.label.data":{handler:function(e){this.updateFunc()}},"layer.ui.label.getLabel":{handler:function(e){this.updateFunc()}},"labelDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.label={dataSourceId:void 0,data:void 0})}},"layer.ui.location.x":{handler:function(e){this.updateFunc()}},"layer.ui.location.y":{handler:function(e){this.updateFunc()}},"layer.ui.location.z":{handler:function(e){this.updateFunc()}},"layer.ui.location.getLocation":{handler:function(e){this.updateFunc()}},"locationDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.location={dataSourceId:void 0,x:void 0,y:void 0,z:void 0})}},"orientationDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.orientation={dataSourceId:void 0,heading:void 0})}},"layer.ui.orientation.heading":{handler:function(e){this.updateFunc()}},"layer.ui.orientation.getOrientation":{handler:function(e){this.updateFunc()}},"markerIdDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.markerId={dataSourceId:void 0,markerId:void 0})}},"layer.ui.markerId.markerId":{handler:function(e){this.updateFunc()}}},methods:{onSelectIcon:function(e){this.layer.icon="https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/".concat(e,".svg")},updateFunc:function(){if(this.layer.ui.location.x&&this.layer.ui.location.y&&this.layer.ui.location.z){var e,t,r,n;t=this.layer.ui.location.getLocation?this.layer.ui.location.getLocation:this.locationTransformFunc(this.layer.ui.location),r=this.layer.ui.orientation.getOrientation?this.layer.ui.orientation.getOrientation:this.orientationTransformFunc(this.layer.ui.orientation),n=this.layer.ui.markerId.getMarkerId?this.layer.ui.markerId.getMarkerId:this.markerIdTransformFunc(this.layer.ui.markerId),e=this.layer.ui.label.getLabel?this.layer.ui.label.getLabel:this.labelTransformFunc(this.layer.ui.label);var i="";t&&""!==t&&(i=t),r&&""!==r&&(i=i.slice(0,-2)+","+r.slice(1)),n&&""!==n&&(i=i.slice(0,-2)+","+n.slice(1)),e&&""!==e&&(i=i.slice(0,-2)+","+e.slice(1)),this.layer["marker@func"]=i}},locationTransformFunc:function(e){var t,r,n;t="object"===(0,y.Z)(e.x)?"rec".concat(e.x.data.path.replaceAll("/",".")):"".concat(e.x),r="object"===(0,y.Z)(e.y)?"rec".concat(e.y.data.path.replaceAll("/",".")):"".concat(e.y),n="object"===(0,y.Z)(e.z)?"rec".concat(e.z.data.path.replaceAll("/",".")):"".concat(e.z);var i={getLocation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{x:$x$,y:$y$,z:$z$}}}},o=(0,Ir.zr)(i);return o=o.replace("$x$",t),o=o.replace("$y$",r),o=o.replace("$z$",n),o},orientationTransformFunc:function(e){var t="",r=e.heading;if(r){var n="object"===(0,y.Z)(e.heading)?"rec".concat(e.heading.data.path.replaceAll("/",".")):"".concat(e.heading),i={getOrientation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{heading:$heading$}}}};t=(0,Ir.zr)(i),t=t.replace("$heading$",n)}return t},markerIdTransformFunc:function(e){var t="",r=e.markerId;if(r){var n="object"===(0,y.Z)(e.markerId)?"rec".concat(e.markerId.data.path.replaceAll("/",".")):"".concat(e.markerId),i={getMarkerId:{dataSourceIds:[e.dataSourceId],handler:function(e){return $markerId$}}};t=(0,Ir.zr)(i),t=t.replace("$markerId$",n)}return t},labelTransformFunc:function(e){var t="",r="object"===(0,y.Z)(e.data)?"'' + rec".concat(e.data.data.path.replaceAll("/",".")):"'".concat(e.data,"'"),n={};return n.getLabel={dataSourceIds:[e.dataSourceId],handler:function(e){return $label$}},t=(0,Ir.zr)(n),t=t.replace("$label$",r),console.log(t),t},getMapping:function(e){var t=(0,f.qj)({value:[]});return e&&this.sweStore.getDataSourceMapping(this.dashboardId,e).then((function(e){t.value=e})),t}}};const du=(0,zo.Z)(uu,[["render",kc],["__scopeId","data-v-40007516"]]);var hu=du,pu=["href"],fu=["href"];function mu(e,t,r,n,a,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Data Source",items:n.dataSources,"item-title":"name","item-value":"id",variant:"solo",modelValue:n.layer.ui.frameData.dataSourceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.layer.ui.frameData.dataSourceId=e}),density:"compact"},null,8,["items","modelValue"]),(0,i.Wm)(qc.E,{items:s.dataSourceMapping.value,label:"frameData",variant:"solo",density:"compact",modelValue:n.layer.ui.frameData.data,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.layer.ui.frameData.data=e}),"item-title":"uiLabel","return-object":""},{selection:(0,i.w5)((function(e){var t=e.item;return[(0,i.Wm)(Jo.N,{location:"start"},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,pu)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(t.title),1)]})),item:(0,i.w5)((function(e){return[(0,i.Wm)(Yc.l,(0,o.vs)((0,i.F4)(e.props)),{title:(0,i.w5)((function(t){var r=t.title;return[(0,i.Wm)(Jo.N,{location:"start"},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.item.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,fu)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(r),1)]})),_:2},1040)]})),_:1},8,["items","modelValue"])],64)}var vu={name:"WidgetFormVideoLayer",setup:function(e){var t=Po(),r=(0,Wo.yj)(),n=r.params.dashboardId,o=(0,i.f3)("dataSources"),a=(0,i.f3)("reactiveLayer");return a.class||(a.class="VideoDataLayer"),a.ui.frameData||(a.ui.frameData={dataSourceId:void 0,data:void 0}),{layer:a,sweStore:t,dataSources:o,dashboardId:n}},computed:{dataSourceMapping:function(){var e=(0,f.qj)({value:[]});return this.layer.ui.frameData.dataSourceId&&this.sweStore.getDataSourceMapping(this.dashboardId,this.layer.ui.frameData.dataSourceId).then((function(t){e.value=t})),e}},watch:{"layer.ui.frameData.data":{handler:function(e){if(this.layer.ui.frameData.data){var t="object"===(0,y.Z)(this.layer.ui.frameData.data)?"rec".concat(this.layer.ui.frameData.data.data.path.replaceAll("/",".")):"".concat(this.layer.ui.frameData.data),r=(0,Ir.zr)({getFrameData:function(e){return $frameDataPath},getTimestamp:function(e){return e.timestamp}});r=r.replace("$frameDataPath",t),this.layer["getFrameData@func"]=r,this.layer.dataSourceId=this.layer.ui.frameData.dataSourceId}else this.layer.ui.frameData={dataSourceId:void 0,data:void 0}},deep:!0},"dataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.frameData={dataSourceId:void 0,data:void 0})}}}};const gu=(0,zo.Z)(vu,[["render",mu],["__scopeId","data-v-03f64f93"]]);var yu=gu,bu=["href"],wu=["href"],ku=["href"],_u=["href"];function Su(e,t,r,n,a,s){var l=(0,i.up)("ColorPicker");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Data Source",items:n.dataSources,"item-title":"name","item-value":"id",variant:"solo",modelValue:n.layer.ui.values.dataSourceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.layer.ui.values.dataSourceId=e}),density:"compact"},null,8,["items","modelValue"]),(0,i.Wm)(qc.E,{items:s.dataSourceMapping.value,label:"x",variant:"solo",density:"compact",modelValue:n.layer.ui.values.x,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.layer.ui.values.x=e}),"item-title":"uiLabel","return-object":""},{selection:(0,i.w5)((function(e){var t=e.item;return[(0,i.Wm)(Jo.N,null,{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,bu)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(t.title),1)]})),item:(0,i.w5)((function(e){return[(0,i.Wm)(Yc.l,(0,o.vs)((0,i.F4)(e.props)),{title:(0,i.w5)((function(t){var r=t.title;return[(0,i.Wm)(Jo.N,null,{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.item.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,wu)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(r),1)]})),_:2},1040)]})),_:1},8,["items","modelValue"]),(0,i.Wm)(qc.E,{items:s.dataSourceMapping.value,label:"y",variant:"solo",density:"compact",modelValue:n.layer.ui.values.y,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.layer.ui.values.y=e}),"item-title":"uiLabel","return-object":""},{selection:(0,i.w5)((function(e){var t=e.item;return[(0,i.Wm)(Jo.N,null,{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,ku)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(t.title),1)]})),item:(0,i.w5)((function(e){return[(0,i.Wm)(Yc.l,(0,o.vs)((0,i.F4)(e.props)),{title:(0,i.w5)((function(t){var r=t.title;return[(0,i.Wm)(Jo.N,null,{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.item.value.tooltip,(function(e,t){return(0,i.wg)(),(0,i.j4)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i._)("b",null,(0,o.zw)(t),1),(0,i.Uk)(": "),"definition"===t?((0,i.wg)(),(0,i.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(e),9,_u)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(r),1)]})),_:2},1040)]})),_:1},8,["items","modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Legend",modelValue:n.layer.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.layer.name=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Y axis label",modelValue:n.layer.yLabel,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.layer.yLabel=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Max values",modelValue:n.layer.maxValues,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.layer.maxValues=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Stroke width",modelValue:n.layer.stroke,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.layer.stroke=e})},null,8,["modelValue"]),(0,i.Wm)(l,{modelValue:n.layer.lineColor,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.layer.lineColor=e}),label:"Line color"},null,8,["modelValue"]),(0,i.Wm)(l,{modelValue:n.layer.backgroundColor,"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.layer.backgroundColor=e}),label:"Background color"},null,8,["modelValue"])],64)}function xu(){return{"getValues@func":"return { x: rec.timestamp, y: rec.location.alt }",fill:!0,backgroundColor:"#57c1ff80",lineColor:"#57c1ff80",maxValues:25,stroke:1,name:"Chart",class:"CurveLayer"}}var Tu={name:"WidgetFormCurveLayer",components:{ColorPicker:Nc},setup:function(e){var t=Po(),r=(0,Wo.yj)(),n=r.params.dashboardId,o=(0,i.f3)("reactiveLayer"),a=(0,i.f3)("dataSources");return o.class||Object.assign(o,xu()),o.ui.values||(o.ui.values={x:void 0,y:void 0,dataSourceId:void 0}),{layer:o,dataSources:a,sweStore:t,dashboardId:n}},computed:{dataSourceMapping:function(){var e=(0,f.qj)({value:[]});return this.layer.ui.values.dataSourceId&&this.sweStore.getDataSourceMapping(this.dashboardId,this.layer.ui.values.dataSourceId).then((function(t){e.value=t})),e}},watch:{"layer.maxValues":{handler:function(e){this.layer.maxValues=parseInt(e)}},"layer.stroke":{handler:function(e){this.layer.stroke=parseInt(e)}},"layer.ui.values.x":{handler:function(e){this.updateFunc()}},"layer.ui.values.y":{handler:function(e){this.updateFunc()}},"dataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.values={x:void 0,y:void 0,dataSourceId:void 0})}}},methods:{updateFunc:function(){if(this.layer.ui.values.x&&this.layer.ui.values.y){var e,t;e="object"===(0,y.Z)(this.layer.ui.values.x)?"rec".concat(this.layer.ui.values.x.data.path.replaceAll("/",".")):"x: ".concat(this.layer.ui.values.x),t="object"===(0,y.Z)(this.layer.ui.values.y)?"rec".concat(this.layer.ui.values.y.data.path.replaceAll("/",".")):"y: ".concat(this.layer.ui.values.y);var r={getValues:{dataSourceIds:[this.layer.ui.values.dataSourceId],handler:function(e){return{x:$x$,y:$y$}}}},n=(0,Ir.zr)(r);if(n=n.replace("$x$",e),n=n.replace("$y$",t),this.layer["getValues@func"]=n,this.layer.ui.values.y&&this.layer.ui.values.y.data.label&&this.layer.ui.values.y.data.uom){var i=" ".concat(this.layer.ui.values.y.data.label," (").concat(this.layer.ui.values.y.data.uom.code,")");this.layer.yLabel=i,this.layer.name=this.layer.ui.values.y.dataSource.name+" - "+this.layer.ui.values.y.data.label}}}}};const Iu=(0,zo.Z)(Tu,[["render",Su],["__scopeId","data-v-1333c569"]]);var Cu=Iu;function Eu(e,t,r,n,o,a){var s=(0,i.up)("DataSourceMapping"),l=(0,i.up)("ColorPicker");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s,{label:"Origin DataSource",name:"Origin",model:n.layer.ui.origin,mapping:a.originDataSourceMapping,dataSources:n.dataSources,transformFunc:a.originTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(s,{label:"Platform Orientation DataSource",name:"PlatformOrientation",model:n.layer.ui.platformOrientation,mapping:a.platformOrientationDataSourceMapping,dataSources:n.dataSources,transformFunc:a.platformOrientationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(s,{label:"Sensor Orientation DataSource",name:"SensorOrientation",model:n.layer.ui.sensorOrientation,mapping:a.sensorOrientationDataSourceMapping,dataSources:n.dataSources,transformFunc:a.sensorOrientationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(s,{label:"Range DataSource",name:"Range",model:n.layer.ui.range,mapping:a.rangeDataSourceMapping,dataSources:n.dataSources,transformFunc:a.rangeTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(s,{label:"FoV DataSource",name:"Fov",model:n.layer.ui.fov,mapping:a.fovDataSourceMapping,dataSources:n.dataSources,transformFunc:a.fovTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,i.Wm)(l,{modelValue:n.layer.color,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.layer.color=e}),label:"Color"},null,8,["modelValue"]),(0,i.Wm)(ql.R,{modelValue:n.layer.opacity,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.layer.opacity=e}),max:1,min:"0",step:.1,"show-ticks":"always",label:"Opacity","hide-details":"",class:"ma-0 opacity-slider",density:"compact",variant:"solo"},{append:(0,i.w5)((function(){return[(0,i.Wm)(Dl.h,{modelValue:n.layer.opacity,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.layer.opacity=e}),type:"number",style:{width:"85px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["modelValue","max","step"])],64)}function Zu(){return{color:"#B0B0B0B3",opacity:.25,class:"FrustumLayer"}}var Du={name:"WidgetFormFrustumLayer",components:{ColorPicker:Nc,DataSourceMapping:su},setup:function(e){var t=Po(),r=(0,Wo.yj)(),n=r.params.dashboardId,o=(0,i.f3)("dataSources"),a=(0,i.f3)("reactiveLayer"),s=(0,i.f3)("widget");if(!a.class){if("cesium"!==s.name.toLowerCase())throw Error("View ".concat(s.name," does not support Frustum Layer"));Object.assign(a,Zu())}return a.ui.origin||(a.ui.origin={x:void 0,y:void 0,z:void 0,dataSourceId:void 0}),a.ui.range||(a.ui.range={dataSourceId:void 0,data:void 0}),a.ui.fov||(a.ui.fov={dataSourceId:void 0,data:void 0}),a.ui.platformOrientation||(a.ui.platformOrientation={dataSourceId:void 0,pitch:void 0,heading:void 0,roll:void 0}),a.ui.sensorOrientation||(a.ui.sensorOrientation={dataSourceId:void 0,pitch:void 0,yaw:void 0,roll:void 0}),{layer:a,sweStore:t,dataSources:o,dashboardId:n}},computed:{originDataSourceMapping:function(){return this.getMapping(this.layer.ui.origin.dataSourceId)},platformOrientationDataSourceMapping:function(){return this.getMapping(this.layer.ui.platformOrientation.dataSourceId)},sensorOrientationDataSourceMapping:function(){return this.getMapping(this.layer.ui.sensorOrientation.dataSourceId)},fovDataSourceMapping:function(){return this.getMapping(this.layer.ui.fov.dataSourceId)},rangeDataSourceMapping:function(){return this.getMapping(this.layer.ui.range.dataSourceId)}},watch:{"layer.ui.origin":{handler:function(e){this.updateFunc()},deep:!0},"originDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.origin={dataSourceId:void 0,x:void 0,y:void 0,z:void 0})}},"layer.ui.platformOrientation":{handler:function(e){this.updateFunc()},deep:!0},"platformOrientationDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.platformOrientation={dataSourceId:void 0,heading:void 0,pitch:void 0,roll:void 0})}},"layer.ui.sensorOrientation":{handler:function(e){this.updateFunc()},deep:!0},"sensorOrientationDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.sensorOrientation={dataSourceId:void 0,yaw:void 0,pitch:void 0,roll:void 0})}},"layer.ui.fov":{handler:function(e){this.updateFunc()},deep:!0},"fovDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.fov={dataSourceId:void 0,data:void 0})}},"layer.ui.range":{handler:function(e){this.updateFunc()},deep:!0},"rangeDataSourceMapping.value":{handler:function(e,t){w(t)&&Object.keys(t).length>0&&(this.layer.ui.range={dataSourceId:void 0,data:void 0})}}},methods:{updateFunc:function(){if(this.layer.ui.origin.x&&this.layer.ui.origin.y&&this.layer.ui.origin.z&&this.layer.ui.platformOrientation.heading&&this.layer.ui.platformOrientation.pitch&&this.layer.ui.platformOrientation.roll&&this.layer.ui.sensorOrientation.yaw&&this.layer.ui.sensorOrientation.pitch&&this.layer.ui.sensorOrientation.roll&&this.layer.ui.fov.data&&this.layer.ui.range.data){var e,t,r,n,i;e=this.layer.ui.origin.getOrigin?this.layer.ui.origin.getOrigin:this.originTransformFunc(this.layer.ui.origin),t=this.layer.ui.platformOrientation.getPlatformOrientation?this.layer.ui.platformOrientation.getPlatformOrientation:this.platformOrientationTransformFunc(this.layer.ui.platformOrientation),r=this.layer.ui.sensorOrientation.getSensorOrientation?this.layer.ui.sensorOrientation.getSensorOrientation:this.sensorOrientationTransformFunc(this.layer.ui.sensorOrientation),n=this.layer.ui.range.getRange?this.layer.ui.range.getRange:this.rangeTransformFunc(this.layer.ui.range),i=this.layer.ui.fov.getFov?this.layer.ui.fov.getFov:this.fovTransformFunc(this.layer.ui.fov);var o=e;o=o.slice(0,-2)+","+t.slice(1),o=o.slice(0,-2)+","+r.slice(1),o=o.slice(0,-2)+","+n.slice(1),o=o.slice(0,-2)+","+i.slice(1),this.layer["frustum@func"]=o}},originTransformFunc:function(e){var t="object"===(0,y.Z)(e.x)?"rec".concat(e.x.data.path.replaceAll("/",".")):"".concat(e.x),r="object"===(0,y.Z)(e.y)?"rec".concat(e.y.data.path.replaceAll("/",".")):"".concat(e.y),n="object"===(0,y.Z)(e.z)?"rec".concat(e.z.data.path.replaceAll("/",".")):"".concat(e.z),i={getOrigin:{dataSourceIds:[e.dataSourceId],handler:function(e){return{x:$originXPath$,y:$originYPath$,z:$originZPath$}}}},o=(0,Ir.zr)(i);return o=o.replace("$originXPath$",t),o=o.replace("$originYPath$",r),o=o.replace("$originZPath$",n),o},platformOrientationTransformFunc:function(e){var t="object"===(0,y.Z)(e.heading)?"rec".concat(e.heading.data.path.replaceAll("/",".")):"".concat(e.heading),r="object"===(0,y.Z)(e.pitch)?"rec".concat(e.pitch.data.path.replaceAll("/",".")):"".concat(e.pitch),n="object"===(0,y.Z)(e.roll)?"rec".concat(e.roll.data.path.replaceAll("/",".")):"".concat(e.roll),i={getPlatformOrientation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{heading:$platformOrientationHeading$,pitch:$platformOrientationPitch$,roll:$platformOrientationRoll$}}}},o=(0,Ir.zr)(i);return o=o.replace("$platformOrientationHeading$",t),o=o.replace("$platformOrientationPitch$",r),o=o.replace("$platformOrientationRoll$",n),o},sensorOrientationTransformFunc:function(e){var t="object"===(0,y.Z)(e.yaw)?"rec".concat(e.yaw.data.path.replaceAll("/",".")):"".concat(e.yaw),r="object"===(0,y.Z)(e.pitch)?"rec".concat(e.pitch.data.path.replaceAll("/",".")):"".concat(e.pitch),n="object"===(0,y.Z)(e.roll)?"rec".concat(e.roll.data.path.replaceAll("/",".")):"".concat(e.roll),i={getSensorOrientation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{yaw:$sensorOrientationYaw$,pitch:$sensorOrientationPitch$,roll:$sensorOrientationRoll$}}}},o=(0,Ir.zr)(i);return o=o.replace("$sensorOrientationYaw$",t),o=o.replace("$sensorOrientationPitch$",r),o=o.replace("$sensorOrientationRoll$",n),o},rangeTransformFunc:function(e){var t="object"===(0,y.Z)(e.data)?"rec".concat(e.data.data.path.replaceAll("/",".")):"".concat(e.data),r={getRange:{dataSourceIds:[e.dataSourceId],handler:function(e){return $range$}}},n=(0,Ir.zr)(r);return n=n.replace("$range$",t),n},fovTransformFunc:function(e){var t="object"===(0,y.Z)(e.data)?"rec".concat(e.data.data.path.replaceAll("/",".")):"".concat(e.data),r={getFov:{dataSourceIds:[e.dataSourceId],handler:function(e){return $fov$}}},n=(0,Ir.zr)(r);return n=n.replace("$fov$",t),n},getMapping:function(e){var t=(0,f.qj)({value:[]});return e&&this.sweStore.getDataSourceMapping(this.dashboardId,e).then((function(e){t.value=e})),t}}};const Au=(0,zo.Z)(Du,[["render",Eu],["__scopeId","data-v-58a86dc6"]]);var Pu=Au,Mu={name:"WidgetFormLayers",components:{WidgetFormFrustumLayer:Pu,WidgetFormCurveLayer:Cu,WidgetFormVideoLayer:yu,WidgetFormPointMarkerLayer:hu},props:["layer","editing"],setup:function(e){var t,r=Lo(),n=(0,Wo.yj)(),o=r.clientConfig,a=n.params,s=(a.widgetId,a.dashboardId,a.windowId,[]),l=(0,u.Z)(o.servers);try{for(l.s();!(t=l.n()).done;){var c=t.value;s.push.apply(s,(0,xt.Z)(c.dataSources))}}catch(p){l.e(p)}finally{l.f()}var d=(0,i.f3)("widget"),h=(0,f.qj)(e.layer);return(0,i.JJ)("reactiveLayer",h),(0,i.JJ)("dataSources",s),{widget:d,reactiveLayer:h}},methods:{removeFromWidget:function(e){var t,r=[],n=(0,u.Z)(this.widget.layers);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.id!==this.layer.id&&r.push(i)}}catch(o){n.e(o)}finally{n.f()}this.widget.layers=r},addToWidget:function(e){this.widget.layers.push(this.layer)}}};const Ou=(0,zo.Z)(Mu,[["render",yc],["__scopeId","data-v-6795a90b"]]);var Ru=Ou,Lu={name:"WidgetForm",emits:["onClose"],inject:["callbacks"],props:["id","serverId","edit"],components:{WidgetFormLayers:Ru,WidgetFormType:fc},setup:function(e){var t=(0,Wo.yj)(),r=t.params,n=r.dashboardId,o=r.windowId,a=Lo(),s=Eo(),l=(0,xr.Y)(a.getWidgetById(n,o,e.id));w(l)||(l=ko()),l.version=0,l.supportedLayers=[],l=(0,f.qj)(l),(0,i.JJ)("widget",l);var c="";return{widget:l,clientStore:a,uiStore:s,windowId:o,dashboardId:n,formType:c}},beforeMount:function(){this.callbacks.onSave=this.save,this.callbacks.onDelete=this.deleteWidget},methods:{defaultLayer:function(){return wo()},save:function(){console.log("Saving widget form.."),console.log(this.widget);var e=this.clientStore.getWindowById(this.dashboardId,this.windowId);this.edit?this.uiStore.editGridItem(this.dashboardId,e,this.widget):this.uiStore.addGridItem(this.dashboardId,e,this.widget),this.uiStore.setEditMode(!0)},uuid:function(){return L()},deleteWidget:function(){this.uiStore.removeGridItem(this.dashboardId,this.windowId,this.widget.id)}}};const ju=(0,zo.Z)(Lu,[["render",El],["__scopeId","data-v-10b8d6f7"]]);var zu=ju,Bu=r(96422);function Fu(e,t,r,n,o,a){var s=(0,i.up)("Server"),l=(0,i.up)("DataSourceSweForm");return(0,i.wg)(),(0,i.j4)(Bu.O,{"fast-fail":""},{default:(0,i.w5)((function(){return[(0,i.Wm)(s,{modelValue:n.state.server,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.state.server=e})},null,8,["modelValue"]),n.state.server?((0,i.wg)(),(0,i.j4)(Zl.rL,{key:0,label:"Type",items:n.types,variant:"solo",density:"compact",modelValue:n.state.dataSource.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.state.dataSource.type=e})},null,8,["items","modelValue"])):(0,i.kq)("",!0),"SweApiStream"===n.state.dataSource.type?((0,i.wg)(),(0,i.j4)(l,{key:n.state.server})):(0,i.kq)("",!0)]})),_:1})}function Wu(e,t,r,n,o,a){var s=(0,i.up)("ProtocolsForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Name",modelValue:n.state.dataSource.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.state.dataSource.name=e})},null,8,["modelValue"]),(0,i.Wm)(Zl.rL,{label:"System",items:o.systems,variant:"solo",density:"compact","item-title":"name","item-value":"id","return-object":"","onUpdate:modelValue":[a.updateSystem,t[1]||(t[1]=function(e){return o.system=e})],modelValue:o.system},null,8,["items","onUpdate:modelValue","modelValue"]),(0,i.Wm)(Zl.rL,{label:"DataStream",items:o.dataStreams,variant:"solo",density:"compact","return-object":"","item-title":"name","onUpdate:modelValue":[a.updateDataStream,t[2]||(t[2]=function(e){return o.datastream=e})],modelValue:o.datastream},null,8,["items","onUpdate:modelValue","modelValue"]),n.state.dataSource.resource?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(s,{protocols:o.protocols},null,8,["protocols"]),(0,i.Wm)(Zl.rL,{label:"Response Format",items:o.responseFormats,variant:"solo",density:"compact",modelValue:n.state.dataSource.responseFormat,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.state.dataSource.responseFormat=e})},null,8,["items","modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Prefetch batch duration",modelValue:n.state.dataSource.prefetchBatchDuration,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.state.dataSource.prefetchBatchDuration=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Batch size",modelValue:n.state.dataSource.prefetchBatchSize,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.state.dataSource.prefetchBatchSize=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Time shift",modelValue:n.state.dataSource.timeShift,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.state.dataSource.timeShift=e})},null,8,["modelValue"])],64)):(0,i.kq)("",!0)],64)}function Uu(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Protocol",items:r.protocols,variant:"solo",density:"compact","item-title":"title",modelValue:a.state.dataSource.protocol,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.state.dataSource.protocol=e})},null,8,["items","modelValue"]),"mqtt"===a.state.dataSource.protocol?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Username",modelValue:a.state.dataSource.mqttOpts.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.state.dataSource.mqttOpts.username=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"password",modelValue:a.state.dataSource.mqttOpts.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.state.dataSource.mqttOpts.password=e})},null,8,["modelValue"])],64)):"ws"===a.state.dataSource.protocol?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"User name",modelValue:a.state.dataSource.connectorOpts.username,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.state.dataSource.connectorOpts.username=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Password",modelValue:a.state.dataSource.connectorOpts.password,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.state.dataSource.connectorOpts.password=e})},null,8,["modelValue"])],64)):(0,i.kq)("",!0),"mqtt"===a.state.dataSource.protocol?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Prefix",modelValue:a.state.dataSource.mqttOpts.prefix,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.state.dataSource.mqttOpts.prefix=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Endpoint",modelValue:a.state.dataSource.mqttOpts.endpointUrl,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.state.dataSource.mqttOpts.endpointUrl=e})},null,8,["modelValue"])],64)):(0,i.kq)("",!0)],64)}var Vu={name:"ProtocolsForm",props:["protocols"],inject:["state"]};const Nu=(0,zo.Z)(Vu,[["render",Uu],["__scopeId","data-v-2c9f92be"]]);var qu=Nu;function Hu(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Zl.rL,{label:"Modes",items:n.modes,variant:"solo",density:"compact",modelValue:n.state.dataSource.mode,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.state.dataSource.mode=e})},null,8,["items","modelValue"]),"replay"===n.state.dataSource.mode?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Time shift",modelValue:n.state.dataSource.timeShift,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.state.dataSource.timeShift=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Prefetch batch duration",modelValue:n.state.dataSource.prefetchBatchDuration,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.state.dataSource.prefetchBatchDuration=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Prefetch batch size",modelValue:n.state.dataSource.prefetchBatchSize,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.state.dataSource.prefetchBatchSize=e})},null,8,["modelValue"])],64)):(0,i.kq)("",!0)],64)}var Yu={name:"ModeForm",setup:function(e){var t=[{title:"Real Time",value:"realTime"},{title:"Replay",value:"replay"},{title:"Batch",value:"batch"}],r=(0,i.f3)("state");return{modes:t,state:r}},data:function(){return{mode:"realTime",realTime:{startTime:"now",endTime:"2055-01-01T00:00:00Z",timeShift:0,prefetchBatchDuration:5e3,prefetchBatchSize:250},replay:{startTime:"2000-01-01T00:00:00Z",endTime:"2055-01-01T00:00:00Z",timeShift:0,prefetchBatchDuration:5e3,prefetchBatchSize:250}}}};const Ku=(0,zo.Z)(Yu,[["render",Hu]]);var Gu=Ku,$u={name:"DataSourceSweForm",components:{ProtocolsForm:qu,ModeForm:Gu},setup:function(e){var t=Eo(),r=Po(),n=(0,Wo.yj)(),o=n.params.dashboardId,a=(0,i.f3)("state");return a.dataSource.mode="replay",a.dataSource.timeShift||(a.dataSource.timeShift=0),a.dataSource.prefetchBatchDuration||(a.dataSource.prefetchBatchDuration=5e3),a.dataSource.prefetchBatchSize||(a.dataSource.prefetchBatchSize=250),a.specType={resource:void 0,parentId:void 0,keywords:void 0,includedProps:void 0,excludeProps:void 0,roi:void 0,featureOfInterest:void 0,observedProperty:void 0,startTime:void 0,endTime:void 0},{uiStore:t,state:a,sweStore:r,dashboardId:o}},data:function(){return{dataStreams:[],systems:void 0,protocols:[{title:"WebSocket",value:"ws"},{title:"MQTT",value:"mqtt"}],responseFormats:["application/swe+json","application/om+json","application/swe+binary","application/swe+csv","application/swe+xml"],system:void 0,datastream:void 0}},watch:{datastream:function(e){this.state.dataSource.startTime||(this.state.dataSource.startTime=e.phenomenonTime[0],this.state.dataSource.endTime=e.phenomenonTime[1])}},mounted:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){var r,n,i;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.systems){t.next=32;break}return t.prev=1,t.next=4,e.sweStore.getSystems(e.dashboardId,e.state.server.id);case 4:if(e.systems=t.sent,!e.state.dataSource.parentId){t.next=27;break}r=(0,u.Z)(e.systems),t.prev=7,r.s();case 9:if((n=r.n()).done){t.next=16;break}if(i=n.value,i.id!==e.state.dataSource.parentId){t.next=14;break}return e.system=i,t.abrupt("break",16);case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](7),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:if(!e.system){t.next=27;break}return t.next=27,e.fetchDataStream(e.state.dataSource.parentId);case 27:t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](1),e.uiStore.ui.snack={message:"Cannot Fetch Systems",type:"error"};case 32:case"end":return t.stop()}}),t,null,[[1,29],[7,18,21,24]])})))()},methods:{updateSystem:function(e){this.state.dataSource.parentId=e.id,this.fetchDataStream(e.id)},updateDataStream:function(e){this.state.dataSource.resource="/api/datastreams/".concat(e.id,"/observations"),this.state.dataSource.name=e.name},fetchDataStream:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){var n,i,o,a,s;return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.sweStore.getDataStreams(t.dashboardId,t.state.server.id,e);case 2:if(t.dataStreams=r.sent,!t.state.dataSource.resource){r.next=24;break}n=new RegExp("^(.*?)/datastreams/(.*)/observations"),i=t.state.dataSource.resource.match(n)[2],o=(0,u.Z)(t.dataStreams),r.prev=7,o.s();case 9:if((a=o.n()).done){r.next=16;break}if(s=a.value,s.id!==i){r.next=14;break}return t.datastream=s,r.abrupt("break",16);case 14:r.next=9;break;case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](7),o.e(r.t0);case 21:return r.prev=21,o.f(),r.finish(21);case 24:case"end":return r.stop()}}),r,null,[[7,18,21,24]])})))()}}};const Qu=(0,zo.Z)($u,[["render",Wu]]);var Xu=Qu,Ju=function(e){return(0,i.dD)("data-v-234a23f0"),e=e(),(0,i.Cn)(),e},ed=Ju((function(){return(0,i._)("b",null,"id",-1)})),td=Ju((function(){return(0,i._)("b",null,"name",-1)})),rd=Ju((function(){return(0,i._)("b",null,"endpoint",-1)})),nd=Ju((function(){return(0,i._)("b",null,"tls",-1)}));function id(e,t,r,n,a,s){return(0,i.wg)(),(0,i.j4)(Zl.rL,{label:"Server",items:n.servers,variant:"solo",density:"compact","item-title":"name","return-object":""},{selection:(0,i.w5)((function(e){var t=e.item;return[(0,i.Wm)(Jo.N,{location:"start"},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(Xo.t,(0,i.dG)(t,{color:"grey-lighten-1",class:"info-icon-server"}),{default:(0,i.w5)((function(){return[(0,i.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,[(0,i.Wm)(Sc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Hc.o,null,{default:(0,i.w5)((function(){return[ed,(0,i.Uk)(": "+(0,o.zw)(t.raw.id),1)]})),_:2},1024),(0,i.Wm)(Hc.o,null,{default:(0,i.w5)((function(){return[td,(0,i.Uk)(": "+(0,o.zw)(t.raw.name),1)]})),_:2},1024),(0,i.Wm)(Hc.o,null,{default:(0,i.w5)((function(){return[rd,(0,i.Uk)(": "+(0,o.zw)(t.raw.endpoint),1)]})),_:2},1024),(0,i.Wm)(Hc.o,null,{default:(0,i.w5)((function(){return[nd,(0,i.Uk)(": "+(0,o.zw)(t.raw.tls),1)]})),_:2},1024)]})),_:2},1024)])]})),_:2},1024),(0,i.Uk)(" "+(0,o.zw)(t.title),1)]})),_:1},8,["items"])}var od={name:"Server",setup:function(e){var t=Lo(),r=(0,Wo.yj)(),n=r.params.dashboardId,i=t.getServersByDashboard(n);return{servers:i}}};const ad=(0,zo.Z)(od,[["render",id],["__scopeId","data-v-234a23f0"]]);var sd=ad,ld={name:"DataSourceForm",props:["id","serverId","edit"],emits:["onClose"],inject:["callbacks"],components:{Server:sd,DataSourceSweForm:Xu},setup:function(e){var t=Lo(),r=Eo(),n=(0,Wo.yj)(),o=n.params.dashboardId,a=t.getTimeSynchronizerIds(),s=e.id,l=e.serverId,c=t.findDataSourceById(o,s);c=c?(0,xr.Y)(c):mo();var u=t.findServerById(o,l),d={server:u,dataSource:c},h=(0,f.qj)(d);(0,i.JJ)("state",h);var p=[{title:"SWE Rest API",value:"SweApiStream"},{title:"SOS",value:"SosGetResult"}];return{dashboardId:o,clientStore:t,uiStore:r,timeSynchronizerIds:a,state:h,serverId:l,types:p}},beforeMount:function(){this.callbacks.onSave=this.save,this.callbacks.onDelete=this.deleteDataSource},methods:{save:function(){this.edit&&(console.log("editing dataSource.."),this.uiStore.removeDataSource(this.dashboardId,this.serverId,this.state.dataSource)),this.state.dataSource.serverId=this.state.server.id,this.uiStore.addOrEditDataSource(this.dashboardId,this.state.server.id,this.state.dataSource)},deleteDataSource:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("removing "+e.state.dataSource.id+", "+e.state.dataSource.name),e.uiStore.removeDataSource(e.dashboardId,e.serverId,e.state.dataSource);case 2:case"end":return t.stop()}}),t)})))()}}};const cd=(0,zo.Z)(ld,[["render",Fu]]);var ud=cd;function dd(e,t,r,n,o,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Name",modelValue:o.props.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.props.name=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Endpoint",modelValue:o.props.endpoint,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.props.endpoint=e})},null,8,["modelValue"]),(0,i.Wm)(Dl.h,{variant:"solo",density:"compact",label:"Description",modelValue:o.props.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.props.description=e})},null,8,["modelValue"]),(0,i.Wm)(Pl.G,{color:"info",label:"TLS",modelValue:o.props.tls,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.props.tls=e}),density:"compact"},null,8,["modelValue"])],64)}var hd={name:"ServerForm",props:["id"],emits:["onClose"],inject:["callbacks"],components:{ConfirmDialog:da},setup:function(e){var t=Lo(),r=(0,Wo.yj)(),n=r.params.dashboardId;return{dashboardId:n,clientStore:t}},data:function(){return{props:{id:this.id||L(),name:void 0,endpoint:void 0,tls:!0,type:void 0,description:"",tags:[],dataSources:[]},newServer:!0}},beforeMount:function(){var e=this.clientStore.findServerById(this.dashboardId,this.id);e&&(this.props=(0,c.Z)((0,c.Z)({},this.props),e),this.newServer=!1),this.callbacks.onSave=this.save,this.callbacks.onDelete=this.deleteServer},methods:{save:function(){this.newServer?(console.log("adding server ".concat(this.dashboardId,", ").concat(this.props.name)),this.clientStore.addServer(this.dashboardId,this.props)):(console.log("editing server ".concat(this.id,", ").concat(this.props.name)),this.clientStore.editServer(this.id,this.props))},deleteServer:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("removing "+e.props.id+", "+e.props.name),e.clientStore.removeServer(e.dashboardId,e.props.id);case 2:case"end":return t.stop()}}),t)})))()}}};const pd=(0,zo.Z)(hd,[["render",dd]]);var fd=pd;function md(e,t,r,n,s,l){var c=(0,i.up)("ConfirmDialog");return(0,i.wg)(),(0,i.j4)(ia.B,{"model-value":!0,class:"dialog","content-class":"content-dialog",persistent:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,{elevation:"24",class:"mx-lg-n16 card form"},{default:(0,i.w5)((function(){return[n.title?((0,i.wg)(),(0,i.j4)(Jc.E,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(Hc.o,{align:"center",justify:"center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Sc.D,{cols:"12",lg:"6",md:"6",class:"grey lighten-2 fill-height d-flex flex-column justify-center align-center"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Go._,{flat:"",tile:""},{default:(0,i.w5)((function(){return[(0,i.Wm)(Qo.Z,{class:"text-h6"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(n.title),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(yl.C,{class:"sheet"},{default:(0,i.w5)((function(){return[(0,i._)("div",{class:(0,o.C_)("form-content "+r.cssClass)},[(0,i.WI)(e.$slots,"content",{},void 0,!0)],2)]})),_:3}),(0,i.Wm)(na.h,{class:"actions"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a.T,{icon:"",dark:"",onClick:n.close,density:"compact",class:"cancel",variant:"tonal"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("mdi-close")]})),_:1})]})),_:1},8,["onClick"]),(0,i.Wm)(aa.i,{color:"#e4e4e4",class:"save-toolbar",density:"compact"},{default:(0,i.w5)((function(){return[(0,i.Wm)(oa.C),(0,i.Wm)(eu.l,null,{default:(0,i.w5)((function(){return[r.edit?((0,i.wg)(),(0,i.j4)(a.T,{key:0,variant:"text",class:"delete-btn",onClick:l.deleteItemWithConfirm},{default:(0,i.w5)((function(){return[(0,i.Uk)(" Delete ")]})),_:1},8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(a.T,{variant:"text",onClick:n.save},{default:(0,i.w5)((function(){return[(0,i.Uk)(" Save ")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:3}),(0,i.Wm)(c,{ref:"confirm"},null,512)]})),_:3})}var vd={name:"DialogForm",emits:["onClose"],props:["title","edit","cssClass","name"],setup:function(e,t){t.attrs,t.slots;var r=t.emit,n=(t.expose,e.title),o=e.name||n,a={onSave:function(){},onDelete:function(){},onClose:function(){}},s=function(){a.onClose(),r("onClose")},l=function(){a.onSave(),s()},c=function(){a.onDelete(),s()};return(0,i.JJ)("callbacks",a),{title:n,name:o,save:l,deleteItem:c,close:s}},components:{ConfirmDialog:da},methods:{deleteItemWithConfirm:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.confirm.open("Confirm","Are you sure you want to remove this ".concat(e.name," ?"));case 2:if(!t.sent){t.next=4;break}e.deleteItem();case 4:case"end":return t.stop()}}),t)})))()},cancel:function(){this.close()}}};const gd=(0,zo.Z)(vd,[["render",md],["__scopeId","data-v-4faa0264"]]);var yd=gd,bd={name:"Content",components:{DataSourceForm:ud,ServerForm:fd,DialogForm:yd,WidgetForm:zu,Window:fl},setup:function(e){var t=(0,Wo.yj)(),r=t.params,n=r.widgetId,i=r.dashboardId,o=r.windowId;return{widgetId:n,windowId:o,dashboardId:i}},data:function(){return{dataSourceEditorId:void 0,serverId:void 0,serverEditorId:void 0,widgetEditorId:void 0,edit:!1,ServerForm:fd}},beforeMount:function(){var e=this;this.emitter.on("show-datasource-editor",(function(t){e.dataSourceEditorId=t.id,e.serverId=t.serverId,e.edit=t.edit})),this.emitter.on("show-server-editor",(function(t){e.serverEditorId=t.id,e.edit=t.edit})),this.emitter.on("show-widget-editor",(function(t){e.widgetEditorId=t.id,e.edit=t.edit}))},beforeUnmount:function(){this.emitter.off("show-datasource-editor"),this.emitter.off("show-server-editor"),this.emitter.off("show-widget-editor")}};const wd=(0,zo.Z)(bd,[["render",Yo]]);var kd=wd,_d=r.p+"img/logo-georobotix.3f829919.png",Sd=r(78796),xd=r(68275),Td=r(52127),Id=r(4193),Cd=function(e){return(0,i.dD)("data-v-1372117f"),e=e(),(0,i.Cn)(),e},Ed=Cd((function(){return(0,i._)("img",{alt:"logo",src:_d,style:{"max-height":"50%","margin-right":"10px","margin-left":"10px"}},null,-1)})),Zd=Cd((function(){return(0,i._)("span",null,"MorpheusX",-1)})),Dd={class:"actions"};function Ad(e,t,r,n,s,l){var c=this;return(0,i.wg)(),(0,i.j4)(Sd.L,{app:"",color:"secondary",density:"compact",elevation:"3"},{default:(0,i.w5)((function(){return[Ed,(0,i.Wm)(sa.q,{class:"toolbar-title"},{default:(0,i.w5)((function(){return[Zd]})),_:1}),(0,i.Wm)(oa.C),(0,i._)("div",Dd,[l.isRealTimeMode?((0,i.wg)(),(0,i.j4)(Jo.N,{key:0,bottom:""},{activator:(0,i.w5)((function(e){var t=e.props;return[n.popup?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[],64)),(0,i.Wm)(a.T,(0,i.dG)({rounded:"",class:"elevation-0",icon:c.uiStore.ui.connected?"mdi-power-plug":"mdi-power-plug-off",color:c.uiStore.ui.connected?"green":"red"},t,{onClick:l.toggleConnection,disabled:!c.clientStore.initialized}),null,16,["icon","color","onClick","disabled"])]})),default:(0,i.w5)((function(){return[(0,i._)("span",null,(0,o.zw)(c.uiStore.ui.connected?"Disconnect":"Connect"),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(Id.T,{"open-on-click":""},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(a.T,(0,i.dG)({variant:"text",depressed:"",icon:"",tile:"",small:""},t),{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("mdi-plus")]})),_:1})]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i.Wm)(xd.i,{class:"tile"},{default:(0,i.w5)((function(){return[n.popup?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Yc.l,{key:0,onClick:l.handleAddServer,"append-icon":"mdi-server-plus",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Server")]})),_:1})]})),_:1},8,["onClick"])),n.popup?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Yc.l,{key:1,onClick:l.handleAddDataSource,"append-icon":"mdi-database-plus",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("DataSource")]})),_:1})]})),_:1},8,["onClick"])),(0,i.Wm)(Yc.l,{onClick:l.handleAddView,"append-icon":"mdi-form-select",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("View")]})),_:1})]})),_:1},8,["onClick"]),n.popup?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Yc.l,{key:2,onClick:l.handleAddPopupWindow,"append-icon":"mdi-dock-window",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Window")]})),_:1})]})),_:1},8,["onClick"]))]})),_:1})]})),_:1}),n.popup?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(Id.T,{key:1,"open-on-click":""},{activator:(0,i.w5)((function(e){var t=e.props;return[(0,i.Wm)(a.T,(0,i.dG)({variant:"text",depressed:"",icon:"",tile:"",small:""},t),{default:(0,i.w5)((function(){return[(0,i.Wm)(Xo.t,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("mdi-dots-vertical")]})),_:1})]})),_:2},1040)]})),default:(0,i.w5)((function(){return[(0,i.Wm)(xd.i,{class:"tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Yc.l,{onClick:l.handleServerDrawer,"append-icon":"mdi-server-network",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("DataSources")]})),_:1})]})),_:1},8,["onClick"]),(0,i.Wm)(Yc.l,{onClick:l.handleEdit,"append-icon":"mdi-pencil",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Edit")]})),_:1})]})),_:1},8,["onClick"]),(0,i.Wm)(Yc.l,{onClick:l.handleSave,"append-icon":"mdi-content-save",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Save")]})),_:1})]})),_:1},8,["onClick"]),(0,i.Wm)(Yc.l,{onClick:l.handleReset,"append-icon":"mdi-cancel",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,i.w5)((function(){return[(0,i.Wm)(Td.V,null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Reset")]})),_:1})]})),_:1},8,["onClick"])]})),_:1})]})),_:1}))])]})),_:1})}var Pd={components:{},data:function(){return{connected:!1}},props:["popup"],setup:function(e){var t=Eo(),r=Lo(),n=e.popup;return{uiStore:t,clientStore:r,popup:n}},computed:{isRealTimeMode:function(){return"realTime"===this.uiStore.ui.mode}},methods:{handleServerDrawer:function(e){this.uiStore.ui.drawer.server=!0},handleAddView:function(e){this.emitter.emit("show-widget-editor",{id:this.uuid(),edit:!1})},handleAddDataSource:function(e){this.emitter.emit("show-datasource-editor",{id:L(),edit:!1})},handleAddServer:function(e){this.emitter.emit("show-server-editor",{id:L(),edit:!1})},handleSave:function(e){this.emitter.emit("save")},handleLoad:function(e){this.emitter.emit("load")},handleReset:function(e){this.emitter.emit("reset")},handleEdit:function(e){this.uiStore.setEditMode(!this.uiStore.ui.edit)},handleAddPopupWindow:function(e){this.emitter.emit("add-popup")},uuid:function(){return L()},toggleConnection:function(){this.emitter.emit("toggleConnect")}}};const Md=(0,zo.Z)(Pd,[["render",Ad],["__scopeId","data-v-1372117f"]]);var Od=Md;function Rd(e,t,r,n,s,l){return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.dashboard.servers,(function(e,t){return(0,i.wg)(),(0,i.j4)(xd.i,{key:t},{default:(0,i.w5)((function(){return[(0,i.Wm)(Yc.l,{value:e.id,variant:"text",onClick:function(t){return l.select(n.dashboard.id,e)}},{default:(0,i.w5)((function(t){t.item;return[(0,i.Wm)(a.T,{"prepend-icon":"mdi-server-network",variant:"text",color:"grey-darken-1"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.name),1)]})),_:2},1024)]})),_:2},1032,["value","onClick"]),(0,i.Wm)(_c.K,{class:"ds-container"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.dataSources,(function(t,r){return(0,i.wg)(),(0,i.j4)(Sc.D,{key:r},{default:(0,i.w5)((function(){return[(0,i.Wm)(Hc.o,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(a.T,{"prepend-icon":"mdi-database",variant:"text",onClick:function(r){return l.selectDs(n.dashboard,t,e)},class:"ds-btn"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(t.name),1)]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:2},1024),(0,i.Wm)(oa.C,{class:"spacer"})]})),_:2},1024)})),128)}var Ld={name:"ServerList",data:function(){return{selectedServer:void 0}},setup:function(e){var t=(0,Wo.yj)(),r=Lo(),n=t.params.dashboardId,i=r.getDashboardById(n);return{clientStore:r,dashboard:i}},methods:{uuid:function(){return L()},select:function(e,t){this.emitter.emit("show-server-editor",{id:t.id,edit:!0})},selectDs:function(e,t,r){this.emitter.emit("show-datasource-editor",{id:t.id,serverId:r.id,edit:!0})}}};const jd=(0,zo.Z)(Ld,[["render",Rd],["__scopeId","data-v-42be8f96"]]);var zd=jd,Bd={name:"Dashboard",components:{ServerList:zd,Content:kd,Window:fl,Navbar:Od},beforeRouteEnter:function(e,t,r){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(),t=(0,f.Xl)(_o(e,w(window.opener)?"popup":"main-window"));return o.addWindow(s,t),console.log("created new window with id ".concat(t.id)),t}var i=Lo(),o=Eo(),a=e.params,s=a.dashboardId,l=a.windowId,c=!w(l),u=w(window.opener);i.getDashboardByIdFromRemote(s,u).then((function(e){w(e)&&w(e.windows)||(console.log("creating new dashboard with id ".concat(s)),i.createNewDashboard(s,e.name));var t=i.getWindowById(s,l);if(!t&&!window.opener){var o=i.getWindowsByType(s,"main-window");o.length>0&&(console.log("Find existing main window with id ".concat(o[0].id)),t=o[0],c=!0)}t||(t=n(l)),c?r({name:"window",params:{dashboardId:s,windowId:t.id}}):r()}))},setup:function(e){var t=So(),r=Lo(),n=Eo(),o=w(window.opener),a=(0,Wo.yj)(),s=a.params,l=s.dashboardId,c=s.windowId,u=r.getDashboardById(l);if((0,i.JJ)("windowId",c),!o){var d=r.getDefaultTimeSynchronizer(l);d.subscribe((function(e){if(d.getMode()===g.REAL_TIME)switch(e.status){case"connected":n.setConnected(!0);break;case"disconnected":n.setConnected(!1);break;case"not_running":n.setConnected(!1);break}}),[Y.STATUS]),d.onChangedMode=function(e){n.ui.mode=e,console.log("setting mode="+e)}}return{isPopup:o,popupsStore:t,clientStore:r,uiStore:n,windowId:c,dashboard:u}},mounted:function(){var e=this;this.uiStore.setEditMode(!1),this.isPopup?this.init=!0:(this.emitter.on("load",(function(){return e.handleLoad()})),this.emitter.on("save",(function(){return e.handleSave()})),this.emitter.on("reset",(function(){return e.handleReset()})),this.emitter.on("add-popup",(function(){return e.handleAddPopupWindow()})),this.emitter.on("toggleConnect",(function(){return e.toggleConnect()})),this.handleLoad((0,Ir.qo)(this.dashboard.windows)).catch(console.error).then(this.init=!0))},beforeUnmount:function(){this.isPopup||(this.emitter.off("load"),this.emitter.off("save"),this.emitter.off("reset"),this.emitter.off("add-popup"),this.emitter.off("toggleConnect"))},data:function(){return{init:!1}},methods:{toggleConnect:function(){this.uiStore.toggleConnect(this.dashboard.id)},closePopups:function(){this.popupsStore.closePopups()},savePopupsPosition:function(){this.popupsStore.savePopupsPosition(this.dashboard.id)},handleSave:function(){this.savePopupsPosition(),this.clientStore.saveConf(this.dashboard.id),this.uiStore.setEditMode(!1)},handleLoad:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.closePopups(),t.uiStore.loadLayouts(e),r.abrupt("return",new Promise(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(r){var n,i,o,a,s,l,c,h;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.clientStore.getWindowsByType(t.dashboard.id,"popup"),i=(0,u.Z)(n),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=29;break}if(a=o.value,s="width=".concat(a.size.width,", height=").concat(a.size.height,", screenX=").concat(a.pos.x,", ")+"screenY=".concat(a.pos.y,", ")+"directories=no,titlebar=no,scrollbars=no,resizable=yes,status=no,location=no, locationbar=no,toolbar=no,menubar=no",!("getScreenDetails"in window)){e.next=23;break}return console.log("Multi-Screen Window Placement API is supported"),e.prev=9,!1,e.next=13,navigator.permissions.query({name:"window-placement"});case 13:l=e.sent,c=l.state,"granted"===c,e.next=21;break;case 18:throw e.prev=18,e.t0=e["catch"](9),e.t0;case 21:e.next=24;break;case 23:console.warn("Multi-Screen Window Placement API is not supported");case 24:h=t.openNewWindow(s,a.id),h.moveTo(a.pos.x,a.pos.y),r();case 27:e.next=4;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](2),i.e(e.t1);case 34:return e.prev=34,i.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[2,31,34,37],[9,18]])})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return r.stop()}}),r)})))()},handleReset:function(e){this.closePopups(),this.uiStore.reset(this.dashboard.id)},handleAddPopupWindow:function(e){this.openNewWindow()},openNewWindow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"width=800,height=800,resizable=yes,status=no,scrollbars=no,statusbar=no,sidebar=no,location=no,locationbar=no,toolbar=no,menubar=no,personalbar=no",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L(),r=this.$router.resolve({name:"window",params:{dashboardId:this.dashboard.id,windowId:t}}),n=window.open(r.href,t,e);return this.popupsStore.addPopupWindow(t,n),n}}};const Fd=(0,zo.Z)(Bd,[["render",Ho],["__scopeId","data-v-dd05fdc8"]]);var Wd=Fd,Ud=[{path:"/",name:"App",component:Fo,props:!0,redirect:function(e){return{path:"/dashboard/"+L()}}},{path:"/dashboard/:dashboardId",name:"dashboard",component:Wd,props:!0,children:[{path:"window/:windowId",name:"window",component:kd,props:!0}]},{path:"/about",name:"About",component:function(){return r.e(2443).then(r.bind(r,38423))}}],Vd=(0,Wo.p7)({history:(0,Wo.r5)(),routes:Ud}),Nd=Vd,qd=(r(36375),r(68957)),Hd=r(68335),Yd=r(91615),Kd=r(22297),Gd={dark:!1,colors:{background:"#b4c1cc",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#ffffff","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},$d=(0,qd.Rd)({theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:Gd}},components:(0,c.Z)((0,c.Z)({},Kd),Hd),directives:Yd}),Qd=r(52944),Xd=r(59391),Jd=(0,Xd.Z)(),eh=(0,n.ri)(Fo);eh.config.unwrapInjectedRef=!1,eh.config.globalProperties.emitter=Jd;var th=(0,p.WB)();window.pinia=th;var rh=Lo(th),nh=Eo(th);function ih(e,t){if(Array.isArray(t))e=t;else{for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];t[i]instanceof Object&&i in e&&Object.assign(t[i],ih(e[i],t[i]))}Object.assign(e||{},t)}return e}function oh(e,t){var r=new BroadcastChannel("STORE_SYNC-"+e.$id),n=-1;(0,i.YP)((function(){return e.syncVersion}),(function(t){t>n&&(n=t,r.postMessage({id:e.id,version:t,state:Qd.Qc(Qd.Pz(e.$state))}))}),{deep:!0}),r.onmessage=function(t){var r=t.data;r.state.id===e.id&&ih(e,r.state)}}window.opener&&window.opener.pinia&&(rh.$patch(window.opener.pinia.state.value[rh.$id]),nh.$patch(window.opener.pinia.state.value[nh.$id])),window.opener&&window.opener.pinia?(oh(nh),oh(window.opener.pinia.state.value[rh.$id])):(oh(rh),oh(nh)),eh.config.unwrapInjectedRef=!0,eh.use(th),eh.use(Nd),eh.use($d),eh.mount("#app")},58661:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$n:function(){return flattenFilter},F3:function(){return chunkArray},qo:function(){return toArray},vk:function(){return parseFn},zr:function(){return stringifyFn}});var _home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56084),_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3336),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91038),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(78783),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(47042),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82526),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(41817),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(21249),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(92222),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(57327),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(47941),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(54747),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(21703),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(57658),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(74916),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4723),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(26699),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(32023),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(38862),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(15306),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(39714),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(24603),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(28450),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(88386),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_24__);function isMergeableObject(e){return isNonNullObject(e)&&!isSpecial(e)}function chunkArray(e,t){return Array.from({length:Math.ceil(e.length/t)},(function(r,n){return e.slice(n*t,n*t+t)}))}function isNonNullObject(e){return!!e&&"object"===(0,_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_1__.Z)(e)}function isSpecial(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||isReactElement(e)}var canUseSymbol="function"===typeof Symbol&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,t){return!1!==t.clone&&t.isMergeableObject(e)?deepmerge(emptyTarget(e),e,t):e}function defaultArrayMerge(e,t,r){return e.concat(t).map((function(e){return cloneUnlessOtherwiseSpecified(e,r)}))}function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var r=t.customMerge(e);return"function"===typeof r?r:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,t){try{return t in e}catch(r){return!1}}function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function mergeObject(e,t,r){var n={};return r.isMergeableObject(e)&&getKeys(e).forEach((function(t){n[t]=cloneUnlessOtherwiseSpecified(e[t],r)})),getKeys(t).forEach((function(i){propertyIsUnsafe(e,i)||(propertyIsOnObject(e,i)&&r.isMergeableObject(t[i])?n[i]=getMergeFunction(i,r)(e[i],t[i],r):n[i]=cloneUnlessOtherwiseSpecified(t[i],r))})),n}function deepmerge(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||defaultArrayMerge,r.isMergeableObject=r.isMergeableObject||isMergeableObject,r.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var n=Array.isArray(t),i=Array.isArray(e),o=n===i;return o?n?r.arrayMerge(e,t,r):mergeObject(e,t,r):cloneUnlessOtherwiseSpecified(t,r)}function toArray(e){var t=[];for(var r in e)t.push(e[r]);return t}function hex2rgba(e){var t=e.match(/\w\w/g).map((function(e){return parseInt(e,16)})),r=(0,_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(t,4),n=r[0],i=r[1],o=r[2],a=r[3];return[n,i,o,a||1]}function flattenFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n in e)t.includes(n)?r[n]=e[n]:"object"===(0,_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_1__.Z)(e[n])&&flattenFilter(e[n],t,r)}function stringifyFn(e){return JSON.stringify(e,(function(e,t){var r;return t instanceof Function||"function"==typeof t?(r=t.toString().replace(/\n/g,""),r.length<8||"function"!==r.substring(0,8)?"_NuFrRa_"+r:r):t instanceof RegExp?"_PxEgEr_"+t:t}),2)}function parseFn(str,date2obj){var iso8061=!!date2obj&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;return JSON.parse(str,(function(key,value){var prefix;return"string"!=typeof value||value.length<8?value:(prefix=value.substring(0,8),iso8061&&value.match(iso8061)?new Date(value):"function"===prefix?eval("("+value+")"):"_PxEgEr_"===prefix||"_NuFrRa_"===prefix?eval(value.slice(8)):value)}))}deepmerge.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return deepmerge(e,r,t)}),{})}},68475:function(e,t,r){var n,i,o,a=r(53898)["default"],s=r(27539)["default"],l=r(45163)["default"],c=r(83877)["default"],u=r(11469)["default"],d=r(57920)["default"],h=r(46114)["default"],p=r(96643)["default"],f=r(54614)["default"];r(21703),r(41539),r(39714),r(57658),r(26699),r(54747),r(47941),r(40561),r(18264),r(39575),r(78783),r(33948),r(60285),r(41637),r(92222),r(51532),r(9653),r(74916),r(15306),r(4723),r(57327),r(69600),r(82472),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(63408),r(14590),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(23767),r(8585),r(68696),r(82526),r(41817),r(47042),r(73689),r(44048),r(67987),r(76938),r(96649),r(96078),r(6982),r(38706),r(43290),r(73210),r(32023),r(83753),r(50545),r(68309),r(24603),r(28450),r(88386),r(38862),r(30541),r(21249),r(23123),r(77601),r(98145),r(67556),r(81299),r(43371),r(32165),r(69826),r(2707),r(36210),r(30489),r(72443),r(92401),r(4855),r(68304),r(38880),r(49337),r(91038),r(70189),r(64765),function(r){"object"==f(t)?e.exports=r():(i=[],n=r,o="function"===typeof n?n.apply(t,i):n,void 0===o||(e.exports=o))}((function(){return function(){return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l=void 0;if(!s&&l)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}}()({1:[function(e,t,n){(function(r,n){(function(){"use strict";var i=e("events").EventEmitter,o=e("./store"),a=e("./topic-alias-recv"),s=e("./topic-alias-send"),l=e("mqtt-packet"),c=e("./default-message-id-provider"),u=e("readable-stream").Writable,d=e("inherits"),m=e("reinterval"),v=e("rfdc/default"),g=e("./validations"),y=e("xtend"),b=e("debug")("mqttjs:client"),w=r?r.nextTick:function(e){setTimeout(e,0)},k=n.setImmediate||function(e){w(e)},_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},S=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],x={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function T(e,t){var r;t.properties&&(r=t.properties.topicAlias);var n=t.topic.toString();if(0===n.length){if(void 0===r)return new Error("Unregistered Topic Alias");if(void 0===(n=e.topicAliasSend.getTopicByAlias(r)))return new Error("Unregistered Topic Alias");t.topic=n}r&&delete t.properties.topicAlias}function I(e,t,r){b("sendPacket :: packet: %O",t),b("sendPacket :: emitting `packetsend`"),e.emit("packetsend",t),b("sendPacket :: writing to stream");var n=l.writeToStream(t,e.stream,e.options);b("sendPacket :: writeToStream result %s",n),!n&&r?(b("sendPacket :: handle events on `drain` once through callback."),e.stream.once("drain",r)):r&&(b("sendPacket :: invoking cb"),r())}function C(e,t,r,n){b("storeAndSend :: store packet with cmd %s to outgoingStore",t.cmd);var i,o=t;if("publish"===o.cmd&&(o=v(t),i=T(e,o)))return r&&r(i);e.outgoingStore.put(o,(function(i){if(i)return r&&r(i);n(),I(e,t,r)}))}function E(e){b("nop ::",e)}function Z(e,t){var r,n=this;if(!(this instanceof Z))return new Z(e,t);for(r in this.options=t||{},_)void 0===this.options[r]?this.options[r]=_[r]:this.options[r]=t[r];b("MqttClient :: options.protocol",t.protocol),b("MqttClient :: options.protocolVersion",t.protocolVersion),b("MqttClient :: options.username",t.username),b("MqttClient :: options.keepalive",t.keepalive),b("MqttClient :: options.reconnectPeriod",t.reconnectPeriod),b("MqttClient :: options.rejectUnauthorized",t.rejectUnauthorized),b("MqttClient :: options.topicAliasMaximum",t.topicAliasMaximum),this.options.clientId="string"==typeof t.clientId?t.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),b("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.messageIdProvider=void 0===this.options.messageIdProvider?new c:this.options.messageIdProvider,this.outgoingStore=t.outgoingStore||new o,this.incomingStore=t.incomingStore||new o,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,t.topicAliasMaximum>0&&(t.topicAliasMaximum>65535?b("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new a(t.topicAliasMaximum)),this.on("connect",(function(){var e=this.queue;b("connect :: sending queued packets"),function t(){var r=e.shift();b("deliver :: entry %o",r);var i=null;if(r){i=r.packet,b("deliver :: call _sendPacket for %o",i);var o=!0;i.messageId&&0!==i.messageId&&(n.messageIdProvider.register(i.messageId)||(o=!1)),o?n._sendPacket(i,(function(e){r.cb&&r.cb(e),t()})):(b("messageId: %d has already used. The message is skipped and removed.",i.messageId),t())}else n._resubscribe()}()})),this.on("close",(function(){b("close :: connected set to `false`"),this.connected=!1,b("close :: clearing connackTimer"),clearTimeout(this.connackTimer),b("close :: clearing ping timer"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),b("close :: calling _setupReconnect"),this._setupReconnect()})),i.call(this),b("MqttClient :: setting up stream"),this._setupStream()}d(Z,i),Z.prototype._setupStream=function(){var e=this,t=this,r=new u,n=l.parser(this.options),i=null,o=[];function a(){if(o.length)w(s);else{var e=i;i=null,e()}}function s(){b("work :: getting next packet in queue");var e=o.shift();if(e)b("work :: packet pulled from queue"),t._handlePacket(e,a);else{b("work :: no packets in queue");var r=i;i=null,b("work :: done flag is %s",!!r),r&&r()}}b("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),b("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),n.on("packet",(function(e){b("parser :: on packet push to packets array."),o.push(e)})),r._write=function(e,t,r){i=r,b("writable stream :: parsing buffer"),n.parse(e),s()},b("_setupStream :: pipe stream to writable stream"),this.stream.pipe(r),this.stream.on("error",(function(e){b("streamErrorHandler :: error",e.message),S.includes(e.code)?(b("streamErrorHandler :: emitting error"),t.emit("error",e)):E(e)})),this.stream.on("close",(function(){var e;b("(%s)stream :: on close",t.options.clientId),(e=t.outgoing)&&(b("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach((function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))),b("stream: emit close to MqttClient"),t.emit("close")})),b("_setupStream: sending packet `connect`");var c=Object.create(this.options);if(c.cmd="connect",this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),I(this,c),n.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return t.end((function(){return e.emit("error",new Error("Packet has no Authentication Method"))})),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==f(this.options.authPacket)&&I(this,y({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){b("!!connectTimeout hit!! Calling _cleanUp with force `true`"),t._cleanUp(!0)}),this.options.connectTimeout)},Z.prototype._handlePacket=function(e,t){var r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(b("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"auth":this._handleAuth(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},Z.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},Z.prototype.publish=function(e,t,r,n){b("publish :: message `%s` to topic `%s`",t,e);var i=this.options;if("function"==typeof r&&(n=r,r=null),r=y({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;var o=this,a=function(){var a=0;if((1===r.qos||2===r.qos)&&null===(a=o._nextId()))return b("No messageId left"),!1;var s={cmd:"publish",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:a,dup:r.dup};switch(5===i.protocolVersion&&(s.properties=r.properties),b("publish :: qos",r.qos),r.qos){case 1:case 2:o.outgoing[s.messageId]={volatile:!1,cb:n||E},b("MqttClient:publish: packet cmd: %s",s.cmd),o._sendPacket(s,void 0,r.cbStorePut);break;default:b("MqttClient:publish: packet cmd: %s",s.cmd),o._sendPacket(s,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,cbStorePut:r.cbStorePut,callback:n}),this},Z.prototype.subscribe=function(){for(var e=this,t=new Array(arguments.length),r=0;r<arguments.length;r++)t[r]=arguments[r];var n=[],i=t.shift(),o=i.resubscribe,a=t.pop()||E,s=t.pop(),l=this.options.protocolVersion;delete i.resubscribe,"string"==typeof i&&(i=[i]),"function"!=typeof a&&(s=a,a=E);var c=g.validateTopics(i);if(null!==c)return k(a,new Error("Invalid topic "+c)),this;if(this._checkDisconnecting(a))return b("subscribe: discconecting true"),this;var u={qos:0};if(5===l&&(u.nl=!1,u.rap=!1,u.rh=0),s=y(u,s),Array.isArray(i)?i.forEach((function(t){if(b("subscribe: array topic %s",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<s.qos||o){var r={topic:t,qos:s.qos};5===l&&(r.nl=s.nl,r.rap=s.rap,r.rh=s.rh,r.properties=s.properties),b("subscribe: pushing topic `%s` and qos `%s` to subs list",r.topic,r.qos),n.push(r)}})):Object.keys(i).forEach((function(t){if(b("subscribe: object topic %s",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<i[t].qos||o){var r={topic:t,qos:i[t].qos};5===l&&(r.nl=i[t].nl,r.rap=i[t].rap,r.rh=i[t].rh,r.properties=s.properties),b("subscribe: pushing `%s` to subs list",r),n.push(r)}})),!n.length)return a(null,[]),this;var d=function(){var t=e._nextId();if(null===t)return b("No messageId left"),!1;var r={cmd:"subscribe",subscriptions:n,qos:1,retain:!1,dup:!1,messageId:t};if(s.properties&&(r.properties=s.properties),e.options.resubscribe){b("subscribe :: resubscribe true");var i=[];n.forEach((function(t){if(e.options.reconnectPeriod>0){var r={qos:t.qos};5===l&&(r.nl=t.nl||!1,r.rap=t.rap||!1,r.rh=t.rh||0,r.properties=t.properties),e._resubscribeTopics[t.topic]=r,i.push(t.topic)}})),e.messageIdToTopic[r.messageId]=i}return e.outgoing[r.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var r=t.granted,i=0;i<r.length;i+=1)n[i].qos=r[i];a(e,n)}},b("subscribe :: call _sendPacket"),e._sendPacket(r),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!d())&&this._storeProcessingQueue.push({invoke:d,callback:a}),this},Z.prototype.unsubscribe=function(){for(var e=this,t=new Array(arguments.length),r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift(),i=t.pop()||E,o=t.pop();"string"==typeof n&&(n=[n]),"function"!=typeof i&&(o=i,i=E);var a=g.validateTopics(n);if(null!==a)return k(i,new Error("Invalid topic "+a)),this;if(e._checkDisconnecting(i))return this;var s=function(){var t=e._nextId();if(null===t)return b("No messageId left"),!1;var r={cmd:"unsubscribe",qos:1,messageId:t};return"string"==typeof n?r.unsubscriptions=[n]:Array.isArray(n)&&(r.unsubscriptions=n),e.options.resubscribe&&r.unsubscriptions.forEach((function(t){delete e._resubscribeTopics[t]})),"object"==f(o)&&o.properties&&(r.properties=o.properties),e.outgoing[r.messageId]={volatile:!0,cb:i},b("unsubscribe: call _sendPacket"),e._sendPacket(r),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,callback:i}),this},Z.prototype.end=function(e,t,r){var n=this;function i(){b("end :: (%s) :: finish :: calling _cleanUp with force %s",n.options.clientId,e),n._cleanUp(e,(function(){b("end :: finish :: calling process.nextTick on closeStores"),w(function(){b("end :: closeStores: closing incoming and outgoing stores"),n.disconnected=!0,n.incomingStore.close((function(e){n.outgoingStore.close((function(t){if(b("end :: closeStores: emitting end"),n.emit("end"),r){var i=e||t;b("end :: closeStores: invoking callback with args"),r(i)}}))})),n._deferredReconnect&&n._deferredReconnect()}.bind(n))}),t)}return b("end :: (%s)",this.options.clientId),null!=e&&"boolean"==typeof e||(r=t||E,t=e,e=!1,"object"!=f(t)&&(r=t,t=null,"function"!=typeof r&&(r=E))),"object"!=f(t)&&(r=t,t=null),b("end :: cb? %s",!!r),r=r||E,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(b("end :: (%s) :: calling finish in 10ms once outgoing is empty",n.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,i,10))):(b("end :: (%s) :: immediately calling finish",n.options.clientId),i()),this)},Z.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},(function(){t(new Error("Message removed"))})),this},Z.prototype.reconnect=function(e){b("client reconnect");var t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new o,t.outgoingStore=t.options.outgoingStore||new o,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},Z.prototype._reconnect=function(){var e=this;b("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((function(){e._setupStream()})),b("client already connected. disconnecting first.")):(b("_reconnect: calling _setupStream"),this._setupStream())},Z.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(b("_setupReconnect :: emit `offline` state"),this.emit("offline"),b("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),b("_setupReconnect :: setting reconnectTimer for %d ms",e.options.reconnectPeriod),e.reconnectTimer=setInterval((function(){b("reconnectTimer :: reconnect triggered!"),e._reconnect()}),e.options.reconnectPeriod)):b("_setupReconnect :: doing nothing...")},Z.prototype._clearReconnect=function(){b("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},Z.prototype._cleanUp=function(e,t){var r,n=arguments[2];if(t&&(b("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),b("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&(r=this.outgoing)&&(b("flush: queue exists? %b",!!r),Object.keys(r).forEach((function(e){"function"==typeof r[e].cb&&(r[e].cb(new Error("Connection closed")),delete r[e])}))),b("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{var i=y({cmd:"disconnect"},n);b("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(i,k.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(b("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(b("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(b("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())},Z.prototype._sendPacket=function(e,t,r){b("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||E,t=t||E;var n=function(e,t){if(5===e.options.protocolVersion&&"publish"===t.cmd){var r;t.properties&&(r=t.properties.topicAlias);var n=t.topic.toString();if(e.topicAliasSend)if(r){if(0!==n.length&&(b("applyTopicAlias :: register topic: %s - alias: %d",n,r),!e.topicAliasSend.put(n,r)))return b("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}else 0!==n.length&&(e.options.autoAssignTopicAlias?(r=e.topicAliasSend.getAliasByTopic(n))?(t.topic="",t.properties=p(p({},t.properties),{},{topicAlias:r}),b("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",n,r)):(r=e.topicAliasSend.getLruAlias(),e.topicAliasSend.put(n,r),t.properties=p(p({},t.properties),{},{topicAlias:r}),b("applyTopicAlias :: auto assign topic: %s - alias: %d",n,r)):e.options.autoUseTopicAlias&&(r=e.topicAliasSend.getAliasByTopic(n))&&(t.topic="",t.properties=p(p({},t.properties),{},{topicAlias:r}),b("applyTopicAlias :: auto use topic: %s - alias: %d",n,r)));else if(r)return b("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),new Error("Sending Topic Alias out of range")}}(this,e);if(n)t(n);else{if(!this.connected)return"auth"===e.cmd?(this._shiftPingInterval(),void I(this,e,t)):(b("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,r));switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void C(this,e,t,r);default:return void I(this,e,t)}switch(e.qos){case 2:case 1:C(this,e,t,r);break;case 0:default:I(this,e,t)}b("_sendPacket :: (%s) ::  end",this.options.clientId)}},Z.prototype._storePacket=function(e,t,r){b("_storePacket :: packet: %o",e),b("_storePacket :: cb? %s",!!t),r=r||E;var n=e;if("publish"===n.cmd){var i=T(this,n=v(e));if(i)return t&&t(i)}0===(n.qos||0)&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:t}):n.qos>0?(t=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,(function(e){if(e)return t&&t(e);r()}))):t&&t(new Error("No connection to broker"))},Z.prototype._setupPingTimer=function(){b("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=m((function(){e._checkPing()}),1e3*this.options.keepalive))},Z.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},Z.prototype._checkPing=function(){b("_checkPing :: checking ping..."),this.pingResp?(b("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(b("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},Z.prototype._handlePingresp=function(){this.pingResp=!0},Z.prototype._handleConnack=function(e){b("_handleConnack");var t=this.options,r=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));e.properties.topicAliasMaximum>0&&(this.topicAliasSend=new s(e.properties.topicAliasMaximum))}e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(e);else if(r>0){var n=new Error("Connection refused: "+x[r]);n.code=r,this.emit("error",n)}},Z.prototype._handleAuth=function(e){var t=this.options.protocolVersion,r=5===t?e.reasonCode:e.returnCode;if(5!==t){var n=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+t);return n.code=r,void this.emit("error",n)}var i=this;this.handleAuth(e,(function(e,t){if(e)i.emit("error",e);else if(24===r)i.reconnecting=!1,i._sendPacket(t);else{var n=new Error("Connection refused: "+x[r]);e.code=r,i.emit("error",n)}}))},Z.prototype.handleAuth=function(e,t){t()},Z.prototype._handlePublish=function(e,t){b("_handlePublish: packet %o",e),t=void 0!==t?t:E;var r,n=e.topic.toString(),i=e.payload,o=e.qos,a=e.messageId,s=this,l=this.options,c=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion&&(e.properties&&(r=e.properties.topicAlias),void 0!==r))if(0===n.length){if(!(r>0&&r<=65535))return b("_handlePublish :: topic alias out of range. alias: %d",r),void this.emit("error",new Error("Received Topic Alias is out of range"));var u=this.topicAliasRecv.getTopicByAlias(r);if(!u)return b("_handlePublish :: unregistered topic alias. alias: %d",r),void this.emit("error",new Error("Received unregistered Topic Alias"));b("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",n=u,r)}else{if(!this.topicAliasRecv.put(n,r))return b("_handlePublish :: topic alias out of range. alias: %d",r),void this.emit("error",new Error("Received Topic Alias is out of range"));b("_handlePublish :: registered topic: %s - alias: %d",n,r)}switch(b("_handlePublish: qos %d",o),o){case 2:l.customHandleAcks(n,i,e,(function(r,n){return r instanceof Error||(n=r,r=null),r?s.emit("error",r):-1===c.indexOf(n)?s.emit("error",new Error("Wrong reason code for pubrec")):void(n?s._sendPacket({cmd:"pubrec",messageId:a,reasonCode:n},t):s.incomingStore.put(e,(function(){s._sendPacket({cmd:"pubrec",messageId:a},t)})))}));break;case 1:l.customHandleAcks(n,i,e,(function(r,o){return r instanceof Error||(o=r,r=null),r?s.emit("error",r):-1===c.indexOf(o)?s.emit("error",new Error("Wrong reason code for puback")):(o||s.emit("message",n,i,e),void s.handleMessage(e,(function(e){if(e)return t&&t(e);s._sendPacket({cmd:"puback",messageId:a,reasonCode:o},t)})))}));break;case 0:this.emit("message",n,i,e),this.handleMessage(e,t);break;default:b("_handlePublish: unknown QoS. Doing nothing.")}},Z.prototype.handleMessage=function(e,t){t()},Z.prototype._handleAck=function(e){var t,r=e.messageId,n=e.cmd,i=null,o=this.outgoing[r]?this.outgoing[r].cb:null,a=this;if(o){switch(b("_handleAck :: packet type",n),n){case"pubcomp":case"puback":var s=e.reasonCode;s&&s>0&&16!==s&&((t=new Error("Publish error: "+x[s])).code=s,o(t,e)),delete this.outgoing[r],this.outgoingStore.del(e,o),this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue();break;case"pubrec":i={cmd:"pubrel",qos:2,messageId:r};var l=e.reasonCode;l&&l>0&&16!==l?((t=new Error("Publish error: "+x[l])).code=l,o(t,e)):this._sendPacket(i);break;case"suback":delete this.outgoing[r],this.messageIdProvider.deallocate(r);for(var c=0;c<e.granted.length;c++)if(0!=(128&e.granted[c])){var u=this.messageIdToTopic[r];u&&u.forEach((function(e){delete a._resubscribeTopics[e]}))}this._invokeStoreProcessingQueue(),o(null,e);break;case"unsuback":delete this.outgoing[r],this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue(),o(null);break;default:a.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else b("_handleAck :: Server sent an ack in error. Ignoring.")},Z.prototype._handlePubrel=function(e,t){b("handling pubrel packet"),t=void 0!==t?t:E;var r=this,n={cmd:"pubcomp",messageId:e.messageId};r.incomingStore.get(e,(function(e,i){e?r._sendPacket(n,t):(r.emit("message",i.topic,i.payload,i),r.handleMessage(i,(function(e){if(e)return t(e);r.incomingStore.del(i,E),r._sendPacket(n,t)})))}))},Z.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},Z.prototype._nextId=function(){return this.messageIdProvider.allocate()},Z.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},Z.prototype._resubscribe=function(){b("_resubscribe");var e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){b("_resubscribe: protocolVersion 5");for(var t=0;t<e.length;t++){var r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},Z.prototype._onConnect=function(e){if(this.disconnected)this.emit("connect",e);else{var t=this;this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){var n=t.outgoingStore.createStream();function i(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function o(){n.destroy(),n=null,t._flushStoreProcessingQueue(),i()}t.once("close",o),n.on("error",(function(e){i(),t._flushStoreProcessingQueue(),t.removeListener("close",o),t.emit("error",e)})),n.on("end",(function(){var n=!0;for(var a in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[a]){n=!1;break}n?(i(),t.removeListener("close",o),t._invokeAllStoreProcessingQueue(),t.emit("connect",e)):r()})),function e(){if(n){t._storeProcessing=!0;var r,i=n.read(1);i?t._packetIdsDuringStoreProcessing[i.messageId]?e():t.disconnecting||t.reconnectTimer?n.destroy&&n.destroy():(r=t.outgoing[i.messageId]?t.outgoing[i.messageId].cb:null,t.outgoing[i.messageId]={volatile:!1,cb:function(t,n){r&&r(t,n),e()}},t._packetIdsDuringStoreProcessing[i.messageId]=!0,t.messageIdProvider.register(i.messageId)?t._sendPacket(i):b("messageId: %d has already used.",i.messageId)):n.once("readable",e)}}()}()}},Z.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){var e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1},Z.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},Z.prototype._flushStoreProcessingQueue=function(){var e,t=h(this._storeProcessingQueue);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.cbStorePut&&r.cbStorePut(new Error("Connection closed")),r.callback&&r.callback(new Error("Connection closed"))}}catch(n){t.e(n)}finally{t.f()}this._storeProcessingQueue.splice(0)},t.exports=Z}).call(this)}).call(this,e("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(e,t,r){(function(r){(function(){"use strict";var n,i,o,a=e("readable-stream").Transform,s=e("duplexify"),l=!1;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var c="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);var u=function(e,t){var r="alis"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(t,e);return(n=t.my).connectSocket({url:u,protocols:c}),i=function(){var e=new a;return e._write=function(e,t,r){n.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){n.closeSocket({success:function(){e()}})},e}(),o=s.obj(),l||(l=!0,n.onSocketOpen((function(){o.setReadable(i),o.setWritable(i),o.emit("connect")})),n.onSocketMessage((function(e){if("string"==typeof e.data){var t=r.from(e.data,"base64");i.push(t)}else{var n=new FileReader;n.addEventListener("load",(function(){var e=n.result;e=e instanceof ArrayBuffer?r.from(e):r.from(e,"utf8"),i.push(e)})),n.readAsArrayBuffer(e.data)}})),n.onSocketClose((function(){o.end(),o.destroy()})),n.onSocketError((function(e){o.destroy(e)}))),o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(e,t,r){"use strict";var n=e("net"),i=e("debug")("mqttjs:tcp");t.exports=function(e,t){t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost";var r=t.port,o=t.hostname;return i("port %d and host %s",r,o),n.createConnection(r,o)}},{debug:18,net:16}],4:[function(e,t,r){"use strict";var n=e("tls"),i=e("net"),o=e("debug")("mqttjs:tls");t.exports=function(e,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===i.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,o("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);var r=n.connect(t);function a(n){t.rejectUnauthorized&&e.emit("error",n),r.end()}return r.on("secureConnect",(function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",a)})),r.on("error",a),r}},{debug:18,net:16,tls:16}],5:[function(e,t,n){(function(n,i){(function(){"use strict";var o=e("ws"),a=e("debug")("mqttjs:ws"),s=e("duplexify"),l=e("readable-stream").Transform,c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],u=void 0!==n&&"browser"===n.title||"function"==typeof r;function d(e,t){var r=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(e){var t=e;return e.hostname||(t.hostname="localhost"),e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),u||"wss"!==e.protocol||c.forEach((function(r){Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])})),t}t.exports=u?function(e,t){var r;a("browserStreamBuilder");var n=function(e){var t=h(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var r=new URL(document.URL);t.hostname=r.hostname,t.port||(t.port=r.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,o=t.browserBufferTimeout||1e3,c=!t.objectMode,u=function(e,t){var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",n=d(t,e),i=new WebSocket(n,[r]);return i.binaryType="arraybuffer",i}(e,t),p=function(e,t,r){var n=new l({objectModeMode:e.objectMode});return n._write=t,n._flush=r,n}(t,(function e(t,r,a){u.bufferedAmount>n&&setTimeout(e,o,t,r,a),c&&"string"==typeof t&&(t=i.from(t,"utf8"));try{u.send(t)}catch(e){return a(e)}a()}),(function(e){u.close(),e()}));t.objectMode||(p._writev=b),p.on("close",(function(){u.close()}));var f=void 0!==u.addEventListener;function m(){r.setReadable(p),r.setWritable(p),r.emit("connect")}function v(){r.end(),r.destroy()}function g(e){r.destroy(e)}function y(e){var t=e.data;t=t instanceof ArrayBuffer?i.from(t):i.from(t,"utf8"),p.push(t)}function b(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"string"==typeof e[n].chunk?r[n]=i.from(e[n],"utf8"):r[n]=e[n].chunk;this._write(i.concat(r),"binary",t)}return u.readyState===u.OPEN?r=p:(r=r=s(void 0,void 0,t),t.objectMode||(r._writev=b),f?u.addEventListener("open",m):u.onopen=m),r.socket=u,f?(u.addEventListener("close",v),u.addEventListener("error",g),u.addEventListener("message",y)):(u.onclose=v,u.onerror=g,u.onmessage=y),r}:function(e,t){a("streamBuilder");var r=h(t),n=d(r,e),i=function(e,t,r){a("createWebSocket"),a("protocol: "+r.protocolId+" "+r.protocolVersion);var n="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return a("creating new Websocket for url: "+t+" and protocol: "+n),new o(t,[n],r.wsOptions)}(0,n,r),s=o.createWebSocketStream(i,r.wsOptions);return s.url=n,i.on("close",(function(){s.destroy()})),s}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(e,t,r){(function(r){(function(){"use strict";var n,i,o,a=e("readable-stream").Transform,s=e("duplexify");t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);var c=function(e,t){var r="wxs"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(t,e);n=wx.connectSocket({url:c,protocols:[l]}),i=function(){var e=new a;return e._write=function(e,t,r){n.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){n.close({success:function(){e()}})},e}(),(o=s.obj())._destroy=function(e,t){n.close({success:function(){t&&t(e)}})};var u=o.destroy;return o.destroy=function(){o.destroy=u;var e=this;setTimeout((function(){n.close({fail:function(){e._destroy(new Error)}})}),0)}.bind(o),n.onOpen((function(){o.setReadable(i),o.setWritable(i),o.emit("connect")})),n.onMessage((function(e){var t=e.data;t=t instanceof ArrayBuffer?r.from(t):r.from(t,"utf8"),i.push(t)})),n.onClose((function(){o.end(),o.destroy()})),n.onError((function(e){o.destroy(new Error(e.errMsg))})),o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}n.prototype.allocate=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},n.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},n.prototype.register=function(e){return!0},n.prototype.deallocate=function(e){},n.prototype.clear=function(){},t.exports=n},{}],8:[function(e,t,r){"use strict";var n=e("xtend"),i=e("readable-stream").Readable,o={objectMode:!0},a={clean:!0};function s(e){if(!(this instanceof s))return new s(e);this.options=e||{},this.options=n(a,e),this._inflights=new Map}s.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},s.prototype.createStream=function(){var e=new i(o),t=[],r=!1,n=0;return this._inflights.forEach((function(e,r){t.push(e)})),e._read=function(){!r&&n<t.length?this.push(t[n++]):this.push(null)},e.destroy=function(){if(!r){var e=this;r=!0,setTimeout((function(){e.emit("close")}),0)}},e},s.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},s.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},s.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=s},{"readable-stream":69,xtend:81}],9:[function(e,t,r){"use strict";function n(e){if(!(this instanceof n))return new n(e);this.aliasToTopic={},this.max=e}n.prototype.put=function(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)},n.prototype.getTopicByAlias=function(e){return this.aliasToTopic[e]},n.prototype.clear=function(){this.aliasToTopic={}},t.exports=n},{}],10:[function(e,t,r){"use strict";var n=e("lru-cache"),i=e("number-allocator").NumberAllocator;function o(e){if(!(this instanceof o))return new o(e);e>0&&(this.aliasToTopic=new n({max:e}),this.topicToAlias={},this.numberAllocator=new i(1,e),this.max=e,this.length=0)}o.prototype.put=function(e,t){if(0===t||t>this.max)return!1;var r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(e){return this.aliasToTopic.get(e)},o.prototype.getAliasByTopic=function(e){var t=this.topicToAlias[e];return void 0!==t&&this.aliasToTopic.get(t),t},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){var e=this.numberAllocator.firstVacant();return e||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},{"lru-cache":37,"number-allocator":46}],11:[function(e,t,r){"use strict";function n(e){for(var t=e.split("/"),r=0;r<t.length;r++)if("+"!==t[r]){if("#"===t[r])return r===t.length-1;if(-1!==t[r].indexOf("+")||-1!==t[r].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!n(e[t]))return e[t];return null}}},{}],12:[function(e,t,n){(function(n){(function(){"use strict";var i=e("../client"),o=e("../store"),a=e("url"),s=e("xtend"),l=e("debug")("mqttjs"),c={};function u(e,t){if(l("connecting to an MQTT broker..."),"object"!=f(e)||t||(t=e,e=null),t=t||{},e){var r=a.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(t=s(r,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(function(e){var t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!c[t.protocol]){var n=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(e,t){return(!n||t%2!=0)&&"function"==typeof c[e]}))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);var o=new i((function(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),l("calling streambuilder for",t.protocol),c[t.protocol](e,t)}),t);return o.on("error",(function(){})),o}void 0!==n&&"browser"!==n.title||"function"!=typeof r?(c.mqtt=e("./tcp"),c.tcp=e("./tcp"),c.ssl=e("./tls"),c.tls=e("./tls"),c.mqtts=e("./tls")):(c.wx=e("./wx"),c.wxs=e("./wx"),c.ali=e("./ali"),c.alis=e("./ali")),c.ws=e("./ws"),c.wss=e("./ws"),t.exports=u,t.exports.connect=u,t.exports.MqttClient=i,t.exports.Store=o}).call(this)}).call(this,e("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],14:[function(e,t,r){"use strict";var n=e("buffer"),i=n.Buffer,o=Symbol.for("BufferList");function a(e){if(!(this instanceof a))return new a(e);a._init.call(this,e)}a._init=function(e){Object.defineProperty(this,o,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},a.prototype._new=function(e){return new a(e)},a.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,r=0;r<this._bufs.length;r++){var n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},a.prototype._reverseOffset=function(e){for(var t=e[0],r=e[1],n=0;n<t;n++)r+=this._bufs[n].length;return r},a.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},a.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},a.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||i.alloc(0);if(n<=0)return e||i.alloc(0);var o=!!e,a=this._offset(r),s=n-r,l=s,c=o&&t||0,u=a[1];if(0===r&&n===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:i.concat(this._bufs,this.length);for(var d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,c),c+=this._bufs[d].length;return e}if(l<=this._bufs[a[0]].length-u)return o?this._bufs[a[0]].copy(e,t,u,u+l):this._bufs[a[0]].slice(u,u+l);o||(e=i.allocUnsafe(s));for(var h=a[0];h<this._bufs.length;h++){var p=this._bufs[h].length-u;if(!(l>p)){this._bufs[h].copy(e,c,u,u+l),c+=p;break}this._bufs[h].copy(e,c,u),c+=p,l-=p,u&&(u=0)}return e.length>c?e.slice(0,c):e},a.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();var r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},a.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},a.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},a.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},a.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(i.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(i.from(e));return this},a.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},a.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=i.from([e]):"string"==typeof e?e=i.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=i.from(e.buffer,e.byteOffset,e.byteLength):i.isBuffer(e)||(e=i.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var n=this._offset(t),o=n[0],a=n[1];o<this._bufs.length;o++){for(var s=this._bufs[o];a<s.length;)if(s.length-a>=e.length){var l=s.indexOf(e,a);if(-1!==l)return this._reverseOffset([o,l]);a=s.length-e.length+1}else{var c=this._reverseOffset([o,a]);if(this._match(c,e))return c;a++}a=0}return-1},a.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){a.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),a.prototype._isBufferList=function(e){return e instanceof a||a.isBufferList(e)},a.isBufferList=function(e){return null!=e&&e[o]},t.exports=a},{buffer:17}],15:[function(e,t,r){"use strict";var n=e("readable-stream").Duplex,i=e("inherits"),o=e("./BufferList");function a(e){if(!(this instanceof a))return new a(e);if("function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),n.call(this)}i(a,n),Object.assign(a.prototype,o.prototype),a.prototype._new=function(e){return new a(e)},a.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},a.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},a.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},a.prototype._isBufferList=function(e){return e instanceof a||e instanceof o||a.isBufferList(e)},a.isBufferList=o.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=o},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(e,t,r){},{}],17:[function(e,t,r){(function(t){(function(){"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=a,r.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=o(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(e));if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=a.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||W(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(e))}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),o(e<0?0:0|d(e))}function u(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),W(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(W(s))return a;e[r+a]=s}return a}function y(e,t,r,n){return B(j(t,e.length-r),e,r,n)}function b(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function k(e,t,r,n){return B(z(t),e,r,n)}function _(e,t,r,n){return B(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(F(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,n,i){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,l=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),d=0;d<l;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=L(e[o]);return i}function Z(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,i,o){return t=+t,r>>>=0,o||P(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function O(e,t,r,i,o){return t=+t,r>>>=0,o||P(e,0,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return O(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return O(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%l]}return this};var R=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(e,t,r){(function(n){(function(){r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&"%c"===e&&(i=++n)})),e.splice(i,0,r)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){var e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||function(){},t.exports=e("./common")(r);var i=t.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":19,_process:50}],19:[function(e,t,r){t.exports=function(t){function r(e){var t,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),l=a-(t||a);o.diff=l,o.prev=t,o.curr=a,t=a,n[0]=r.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return"%";c++;var i=r.formatters[t];if("function"==typeof i){var a=n[c];e=i.call(o,a),n.splice(c,1),c--}return e})),r.formatArgs.call(o,n),(o.log||r.log).apply(o,n)}}return s.namespace=e,s.useColors=r.useColors(),s.color=r.selectColor(e),s.extend=n,s.destroy=r.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==r.namespaces&&(i=r.namespaces,o=r.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof r.init&&r.init(s),s}function n(e,t){var n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){var e=[].concat(d(r.names.map(i)),d(r.skips.map(i).map((function(e){return"-"+e})))).join(",");return r.enable(""),e},r.enable=function(e){var t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((function(e){r[e]=t[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},{ms:45}],20:[function(e,t,r){(function(r,n){(function(){var i=e("readable-stream"),o=e("end-of-stream"),a=e("inherits"),s=e("stream-shift"),l=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},u=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},d=function(){},h=function e(t,r,n){if(!(this instanceof e))return new e(t,r,n);i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),r&&this.setReadable(r)};a(h,i.Duplex),h.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new h(e,t,r)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=o(e,{writable:!0,readable:!1},u(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),n()},this.uncork()}else this.end()},h.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=o(e,{writable:!1,readable:!0},u(this)),a=function(){r._forward()},s=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",a),this._readable2.on("end",s),this._unread=function(){r._readable2.removeListener("readable",a),r._readable2.removeListener("end",s),n()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=s(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},h.prototype.destroy=function(e,t){if(t||(t=d),this.destroyed)return t(null);this.destroyed=!0;var n=this;r.nextTick((function(){n._destroy(e),t(null)}))},h.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(e,t,r){if(!this.destroyed)return this._corked?c(this,this._write.bind(this,e,t,r)):e===l?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()):r()},h.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},h.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(l),i.Writable.prototype.end.call(this,r))},t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(e,t,r){(function(r){(function(){var n=e("once"),i=function(){},o=function e(t,o,a){if("function"==typeof o)return e(t,null,o);o||(o={}),a=n(a||i);var s=t._writableState,l=t._readableState,c=o.readable||!1!==o.readable&&t.readable,u=o.writable||!1!==o.writable&&t.writable,d=!1,h=function(){t.writable||p()},p=function(){u=!1,c||a.call(t)},f=function(){c=!1,u||a.call(t)},m=function(e){a.call(t,e?new Error("exited with error code: "+e):null)},v=function(e){a.call(t,e)},g=function(){r.nextTick(y)},y=function(){if(!d)return(!c||l&&l.ended&&!l.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:a.call(t,new Error("premature close"))},b=function(){t.req.on("finish",p)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",p),t.on("abort",g),t.req?b():t.on("request",b)):u&&!s&&(t.on("end",h),t.on("close",h)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(t)&&t.on("exit",m),t.on("end",f),t.on("finish",p),!1!==o.error&&t.on("error",v),t.on("close",g),function(){d=!0,t.removeListener("complete",p),t.removeListener("abort",g),t.removeListener("request",b),t.req&&t.req.removeListener("finish",p),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",p),t.removeListener("exit",m),t.removeListener("end",f),t.removeListener("error",v),t.removeListener("close",g)}};t.exports=o}).call(this)}).call(this,e("_process"))},{_process:50,once:48}],22:[function(e,t,r){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(e){s=!1}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,i){var o,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]):(a=e._events=n(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),!s.warned&&(o=u(e))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==("undefined"===typeof console?"undefined":f(console))&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=r,++e._eventsCount;return e}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=o.call(h,n);return i.listener=r,n.wrapFn=i,i}function m(e,t,r){var n=e._events;if(!n)return[];var i=n[t];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length):[]}function v(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){var t,r,n,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(r=a[e]))return!1;var c="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=g(e,n),o=0;o<n;++o)i[o].call(r)}(r,c,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=g(e,i),a=0;a<i;++a)o[a].call(r,n)}(r,c,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,a=g(e,o),s=0;s<o;++s)a[s].call(r,n,i)}(r,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var a=e.length,s=g(e,a),l=0;l<a;++l)s[l].call(r,n,i,o)}(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=g(e,i),a=0;a<i;++a)o[a].apply(r,n)}(r,c,this,i)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,i,o,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=n(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,o=a;break}if(o<0)return this;0===o?r.shift():function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o),1===r.length&&(i[e]=r[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,r,o;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=n(null):delete r[e]),this;if(0===arguments.length){var a,s=i(r);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=f,a/=256,c-=8);e[r+p-f]|=128*m}},{}],24:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=e,this.value=t}return e.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,r=this.leftChild,n=this.rightChild;if(!n)throw new Error("unknown error");var i=n.leftChild,o=n.rightChild;return e&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=t,n.leftChild=this,n.rightChild=o,t&&(t.brother=n),this.parent=n,this.brother=o,this.leftChild=r,this.rightChild=i,o&&(o.parent=n,o.brother=this),r&&(r.parent=this,r.brother=i),i&&(i.parent=this,i.brother=r),n},e.prototype.rotateRight=function(){var e=this.parent,t=this.brother,r=this.leftChild;if(!r)throw new Error("unknown error");var n=this.rightChild,i=r.leftChild,o=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=i,r.rightChild=this,t&&(t.brother=r),i&&(i.parent=r,i.brother=this),this.parent=r,this.brother=i,this.leftChild=o,this.rightChild=n,o&&(o.parent=this,o.brother=n),n&&(n.parent=this,n.brother=o),r},e.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},e.TreeNodeColorType={red:!0,black:!1},e}();Object.freeze(n),r.default=n},{}],26:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function i(e){var t=this;void 0===e&&(e=[]);var r=[],o=0,a=0,s=0,l=0,c=0,u=0;this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){o=s=a=l=c=u=0,h.call(this,i.bucketSize),u=0},this.front=function(){return r[o][a]},this.back=function(){return r[s][l]},this.forEach=function(e){if(!this.empty()){var t=0;if(o!==s){for(c=a;c<i.bucketSize;++c)e(r[o][c],t++);for(c=o+1;c<s;++c)for(var n=0;n<i.bucketSize;++n)e(r[c][n],t++);for(c=0;c<=l;++c)e(r[s][c],t++)}else for(var c=a;c<=l;++c)e(r[o][c],t++)}};var d=function(e){var t=o*i.bucketSize+a,r=t+e,n=s*i.bucketSize+l;if(r<t||r>n)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(r/i.bucketSize),curNodePointerIndex:r%i.bucketSize}};this.getElementByPos=function(e){var t=d(e),n=t.curNodeBucketIndex,i=t.curNodePointerIndex;return r[n][i]},this.eraseElementByPos=function(e){var t=this;if(e<0||e>u)throw new Error("pos should more than 0 and less than queue's size");if(0===e)this.popFront();else if(e===this.size())this.popBack();else{for(var r=[],n=e+1;n<u;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack(),r.forEach((function(e){return t.pushBack(e)}))}},this.eraseElementByValue=function(e){if(!this.empty()){var t=[];this.forEach((function(r){r!==e&&t.push(r)}));for(var r=t.length,n=0;n<r;++n)this.setElementByPos(n,t[n]);this.cut(r-1)}};var h=function(e){for(var t=[],n=e*i.sigma,d=Math.max(Math.ceil(n/i.bucketSize),2),h=0;h<d;++h)t.push(new Array(i.bucketSize));var p=Math.ceil(e/i.bucketSize),f=Math.floor(d/2)-Math.floor(p/2),m=f,v=0;if(this.size())for(h=0;h<p;++h){for(var g=0;g<i.bucketSize;++g)if(t[f+h][g]=this.front(),this.popFront(),this.empty()){m=f+h,v=g;break}if(this.empty())break}r=t,o=f,a=0,s=m,l=v,c=d,u=e};this.pushBack=function(e){this.empty()||(s===c-1&&l===i.bucketSize-1&&h.call(this,this.size()),l<i.bucketSize-1?++l:s<c-1&&(++s,l=0)),++u,r[s][l]=e},this.popBack=function(){this.empty()||(1!==this.size()&&(l>0?--l:o<s&&(--s,l=i.bucketSize-1)),u>0&&--u)},this.setElementByPos=function(e,t){var n=d(e),i=n.curNodeBucketIndex,o=n.curNodePointerIndex;r[i][o]=t},this.insert=function(e,t,r){var n=this;if(void 0===r&&(r=1),0===e)for(;r--;)this.pushFront(t);else if(e===this.size())for(;r--;)this.pushBack(t);else{for(var i=[],o=e;o<u;++o)i.push(this.getElementByPos(o));for(this.cut(e-1),o=0;o<r;++o)this.pushBack(t);i.forEach((function(e){return n.pushBack(e)}))}},this.find=function(e){if(o===s){for(var t=a;t<=l;++t)if(r[o][t]===e)return!0;return!1}for(t=a;t<i.bucketSize;++t)if(r[o][t]===e)return!0;for(t=o+1;t<s;++t)for(var n=0;n<i.bucketSize;++n)if(r[t][n]===e)return!0;for(t=0;t<=l;++t)if(r[s][t]===e)return!0;return!1},this.reverse=function(){for(var e=0,t=u-1;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),++e,--t}},this.unique=function(){if(!this.empty()){var e=[],t=this.front();this.forEach((function(r,n){0!==n&&r===t||(e.push(r),t=r)}));for(var r=0;r<u;++r)this.setElementByPos(r,e[r]);this.cut(e.length-1)}},this.sort=function(e){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);for(var r=0;r<u;++r)this.setElementByPos(r,t[r])},this.pushFront=function(e){this.empty()||(0===o&&0===a&&h.call(this,this.size()),a>0?--a:o>0&&(--o,a=i.bucketSize-1)),++u,r[o][a]=e},this.popFront=function(){this.empty()||(1!==this.size()&&(a<i.bucketSize-1?++a:o<s&&(++o,a=0)),u>0&&--u)},this.shrinkToFit=function(){var e=this,t=[];this.forEach((function(e){t.push(e)}));var n=t.length;r=[];for(var o=Math.ceil(n/i.bucketSize),a=0;a<o;++a)r.push(new Array(i.bucketSize));this.clear(),t.forEach((function(t){return e.pushBack(t)}))},this.cut=function(e){if(e<0)this.clear();else{var t=d(e),r=t.curNodeBucketIndex,n=t.curNodePointerIndex;s=r,l=n,u=e+1}},this[Symbol.iterator]=function(){return function(){var e,t;return n(this,(function(n){switch(n.label){case 0:if(0===u)return[2];if(o!==s)return[3,5];t=a,n.label=1;case 1:return t<=l?[4,r[o][t]]:[3,4];case 2:n.sent(),n.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=a,n.label=6;case 6:return t<i.bucketSize?[4,r[o][t]]:[3,9];case 7:n.sent(),n.label=8;case 8:return++t,[3,6];case 9:t=o+1,n.label=10;case 10:if(!(t<s))return[3,15];e=0,n.label=11;case 11:return e<i.bucketSize?[4,r[t][e]]:[3,14];case 12:n.sent(),n.label=13;case 13:return++e,[3,11];case 14:return++t,[3,10];case 15:t=0,n.label=16;case 16:return t<=l?[4,r[s][t]]:[3,19];case 17:n.sent(),n.label=18;case 18:return++t,[3,16];case 19:return[2]}}))}()},function(){var n=i.bucketSize;e.size?n=e.size():e.length&&(n=e.length);var a=n*i.sigma;c=Math.ceil(a/i.bucketSize),c=Math.max(c,3);for(var l=0;l<c;++l)r.push(new Array(i.bucketSize));var u=Math.ceil(n/i.bucketSize);o=Math.floor(c/2)-Math.floor(u/2),s=o,e.forEach((function(e){return t.pushBack(e)}))}(),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),i.sigma=3,i.bucketSize=5e3,Object.freeze(i),r.default=i},{}],27:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=e("../LinkList/LinkList"),a=e("../Map/Map");function s(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=s.initSize),r=r||function(e){var t,r,n=0,o="";if("number"==typeof e)n=((n=Math.floor(e))<<5)-n,n&=n;else{o="string"!=typeof e?JSON.stringify(e):e;try{for(var a=i(o),s=a.next();!s.done;s=a.next())n=(n<<5)-n+s.value.charCodeAt(0),n&=n}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}return n^n>>>16},0!=(t&t-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,u=[],d=Math.max(s.initSize,Math.min(s.maxSize,t));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,d=t,u=[]},this.forEach=function(e){var t=0;u.forEach((function(r){r.forEach((function(r){e(r,t++)}))}))},this.setElement=function(e,t){var n,l;if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==t&&void 0!==t){var h=r(e)&d-1;if(u[h]){var p=u[h].size();if(u[h]instanceof o.default){try{for(var f=i(u[h]),m=f.next();!m.done;m=f.next()){var v=m.value;if(v.key===e)return void(v.value=t)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(n)throw n.error}}u[h].pushBack({key:e,value:t}),u[h].size()>=s.treeifyThreshold&&(u[h]=new a.default(u[h]))}else u[h].setElement(e,t);var g=u[h].size();c+=g-p}else++c,u[h]=new o.default([{key:e,value:t}]);c>d*s.sigma&&function(e){if(!(e>=s.maxSize)){d=2*e;var t=[];u.forEach((function(n,i){if(!n.empty()){if(n instanceof o.default&&1===n.size()){var l=n.front(),c=l.key,h=l.value;t[r(c)&d-1]=new o.default([{key:c,value:h}])}else if(n instanceof a.default){var p=new o.default,f=new o.default;n.forEach((function(t){0==(r(t.key)&e)?p.pushBack(t):f.pushBack(t)})),p.size()>s.untreeifyThreshold?t[i]=new a.default(p):p.size()&&(t[i]=p),f.size()>s.untreeifyThreshold?t[i+e]=new a.default(f):f.size()&&(t[i+e]=f)}else{var m=new o.default,v=new o.default;n.forEach((function(t){0==(r(t.key)&e)?m.pushBack(t):v.pushBack(t)})),m.size()&&(t[i]=m),v.size()&&(t[i+e]=v)}u[i].clear()}})),u=t}}.call(this,d)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var t,n,o=r(e)&d-1;if(u[o]){if(u[o]instanceof a.default)return u[o].getElementByKey(e);try{for(var s=i(u[o]),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.key===e)return c.value}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},this.eraseElementByKey=function(e){var t,n,l=r(e)&d-1;if(u[l]){var h=u[l].size();if(u[l]instanceof a.default)u[l].eraseElementByKey(e),u[l].size()<=s.untreeifyThreshold&&(u[l]=new o.default(u[l]));else{var p=-1;try{for(var f=i(u[l]),m=f.next();!m.done;m=f.next())if(++p,m.value.key===e){u[l].eraseElementByPos(p);break}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}}var v=u[l].size();c+=v-h}},this.find=function(e){var t,n,o=r(e)&d-1;if(!u[o])return!1;if(u[o]instanceof a.default)return u[o].find(e);try{for(var s=i(u[o]),l=s.next();!l.done;l=s.next())if(l.value.key===e)return!0}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!1},this[Symbol.iterator]=function(){return function(){var e,t,r,o,a,s;return n(this,(function(n){switch(n.label){case 0:e=0,n.label=1;case 1:if(!(e<d))return[3,10];for(;e<d&&!u[e];)++e;if(e>=d)return[3,10];n.label=2;case 2:n.trys.push([2,7,8,9]),a=void 0,t=i(u[e]),r=t.next(),n.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:n.sent(),n.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return o=n.sent(),a={error:o},[3,9];case 8:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return++e,[3,1];case 10:return[2]}}))}()},e.forEach((function(e){var t=e.key,r=e.value;return l.setElement(t,r)})),Object.freeze(this)}s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64,Object.freeze(s),r.default=s},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Set/Set"),a=e("../LinkList/LinkList");function s(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=s.initSize),r=r||function(e){var t=0,r="";if("number"==typeof e)t=((t=Math.floor(e))<<5)-t,t&=t;else{r="string"!=typeof e?JSON.stringify(e):e;for(var n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n),t&=t}return t^t>>>16},0!=(t&t-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,u=[],d=Math.max(s.initSize,Math.min(s.maxSize,t));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,d=t,u=[]},this.forEach=function(e){var t=0;u.forEach((function(r){r.forEach((function(r){e(r,t++)}))}))},this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var t=r(e)&d-1;if(u[t]){var n=u[t].size();if(u[t]instanceof a.default){if(u[t].find(e))return;u[t].pushBack(e),u[t].size()>=s.treeifyThreshold&&(u[t]=new o.default(u[t]))}else u[t].insert(e);var i=u[t].size();c+=i-n}else u[t]=new a.default([e]),++c;c>d*s.sigma&&function(e){if(!(e>=s.maxSize)){d=2*e;var t=[];u.forEach((function(n,i){if(!n.empty()){if(n instanceof a.default&&1===n.size()){var l=n.front();if(void 0===l)throw new Error("unknown error");t[r(l)&d-1]=new a.default([l])}else if(n instanceof o.default){var c=new a.default,h=new a.default;n.forEach((function(t){0==(r(t)&e)?c.pushBack(t):h.pushBack(t)})),c.size()>s.untreeifyThreshold?t[i]=new o.default(c):c.size()&&(t[i]=c),h.size()>s.untreeifyThreshold?t[i+e]=new o.default(h):h.size()&&(t[i+e]=h)}else{var p=new a.default,f=new a.default;n.forEach((function(t){0==(r(t)&e)?p.pushBack(t):f.pushBack(t)})),p.size()&&(t[i]=p),f.size()&&(t[i+e]=f)}u[i].clear()}})),u=t}}.call(this,d)},this.eraseElementByValue=function(e){var t=r(e)&d-1;if(u[t]){var n=u[t].size();u[t].eraseElementByValue(e),u[t]instanceof o.default&&u[t].size()<=s.untreeifyThreshold&&(u[t]=new a.default(u[t]));var i=u[t].size();c+=i-n}},this.find=function(e){var t=r(e)&d-1;return!!u[t]&&u[t].find(e)},this[Symbol.iterator]=function(){return function(){var e,t,r,o,a,s;return n(this,(function(n){switch(n.label){case 0:e=0,n.label=1;case 1:if(!(e<d))return[3,10];for(;e<d&&!u[e];)++e;if(e>=d)return[3,10];n.label=2;case 2:n.trys.push([2,7,8,9]),a=void 0,t=i(u[e]),r=t.next(),n.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:n.sent(),n.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return o=n.sent(),a={error:o},[3,9];case 8:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return++e,[3,1];case 10:return[2]}}))}()},e.forEach((function(e){return l.insert(e)})),Object.freeze(this)}s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64,Object.freeze(s),r.default=s},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(r,"__esModule",{value:!0});var i=function(){return function(e){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=e}}();function o(e){var t=this;void 0===e&&(e=[]);var r=0,o=void 0,a=void 0;this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){o=a=void 0,r=0},this.front=function(){return null===o||void 0===o?void 0:o.value},this.back=function(){return null===a||void 0===a?void 0:a.value},this.forEach=function(e){for(var t=o,r=0;t;){if(void 0===t.value)throw new Error("unknown error");e(t.value,r++),t=t.next}},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more then 0 and less then the list length");for(var t=o;e--&&t;)t=t.next;if(!t||void 0===t.value)throw new Error("unknown error");return t.value},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error("erase pos must more then 0 and less then the list length");if(0===e)this.popFront();else if(e===r-1)this.popBack();else{for(var t=o;e--;){if(!(null===t||void 0===t?void 0:t.next))throw new Error("unknown error");t=t.next}if(!t||!t.pre||!t.next)throw new Error("unknown error");var n=t.pre,i=t.next;i.pre=n,n.next=i,r>0&&--r}},this.eraseElementByValue=function(e){for(;o&&o.value===e;)this.popFront();for(;a&&a.value===e;)this.popBack();if(o)for(var t=o;t;){if(t.value===e){var n=t.pre,i=t.next;i&&(i.pre=n),n&&(n.next=i),r>0&&--r}t=t.next}},this.pushBack=function(e){if(null===e||void 0===e)throw new Error("you can't push null or undefined here");++r;var t=new i(e);a?(a.next=t,t.pre=a,a=t):o=a=t},this.popBack=function(){a&&(r>0&&--r,a&&(o===a?o=a=void 0:(a=a.pre)&&(a.next=void 0)))},this.setElementByPos=function(e,t){if(null===t||void 0===t)throw new Error("you can't set null or undefined here");if(e<0||e>=r)throw new Error("pos must more then 0 and less then the list length");for(var n=o;e--;){if(!n)throw new Error("unknown error");n=n.next}n&&(n.value=t)},this.insert=function(e,t,n){if(void 0===n&&(n=1),null===t||void 0===t)throw new Error("you can't insert null or undefined here");if(e<0||e>r)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(n<0)throw new Error("insert size must more than 0");if(0===e)for(;n--;)this.pushFront(t);else if(e===r)for(;n--;)this.pushBack(t);else{for(var a=o,s=1;s<e;++s){if(!(null===a||void 0===a?void 0:a.next))throw new Error("unknown error");a=null===a||void 0===a?void 0:a.next}if(!a)throw new Error("unknown error");var l=a.next;for(r+=n;n--;)a.next=new i(t),a.next.pre=a,a=a.next;a.next=l,l&&(l.pre=a)}},this.find=function(e){for(var t=o;t;){if(t.value===e)return!0;t=t.next}return!1},this.reverse=function(){for(var e=o,t=a,n=0;e&&t&&2*n<r;){var i=e.value;e.value=t.value,t.value=i,e=e.next,t=t.pre,++n}},this.unique=function(){for(var e=o;e;){for(var t=e;t&&t.next&&t.value===t.next.value;)t=t.next,r>0&&--r;e.next=t.next,e.next&&(e.next.pre=e),e=e.next}},this.sort=function(e){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);var r=o;t.forEach((function(e){r&&(r.value=e,r=r.next)}))},this.pushFront=function(e){if(null===e||void 0===e)throw new Error("you can't push null or undefined here");++r;var t=new i(e);o?(t.next=o,o.pre=t,o=t):o=a=t},this.popFront=function(){o&&(r>0&&--r,o&&(o===a?o=a=void 0:(o=o.next)&&(o.pre=void 0)))},this.merge=function(e){var t=this,n=o;e.forEach((function(e){for(;n&&void 0!==n.value&&n.value<=e;)n=n.next;if(void 0===n)t.pushBack(e),n=a;else if(n===o)t.pushFront(e),n=o;else{++r;var s=n.pre;s&&(s.next=new i(e),s.next.pre=s,s.next.next=n,n&&(n.pre=s.next))}}))},this[Symbol.iterator]=function(){return function(){var e;return n(this,(function(t){switch(t.label){case 0:e=o,t.label=1;case 1:if(void 0===e)return[3,3];if(!e.value)throw new Error("unknown error");return[4,e.value];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))}()},e.forEach((function(e){return t.pushBack(e)})),Object.freeze(this)}Object.freeze(o),r.default=o},{}],30:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Base/TreeNode");function a(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var a=0,s=new o.default;s.color=o.default.TreeNodeColorType.black,this.size=function(){return a},this.empty=function(){return 0===a},this.clear=function(){a=0,s.key=s.value=void 0,s.leftChild=s.rightChild=s.brother=void 0};var l=function e(t){if(!t||void 0===t.key)throw new Error("unknown error");return t.leftChild?e(t.leftChild):t},c=function e(t){if(!t||void 0===t.key)throw new Error("unknown error");return t.rightChild?e(t.rightChild):t};this.front=function(){if(!this.empty()){var e=l(s);if(void 0===e.key||void 0===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}}},this.back=function(){if(!this.empty()){var e=c(s);if(void 0===e.key||void 0===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}}},this.forEach=function(e){var t,r,n=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next())e(a.value,n++)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var n=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next()){var s=a.value;if(n===e)return s;++n}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}throw new Error("unknown Error")};var u=function e(r,n){if(r&&void 0!==r.key&&void 0!==r.value){var i=t(r.key,n);return 0===i?{key:r.key,value:r.value}:i<0?e(r.rightChild,n):e(r.leftChild,n)||{key:r.key,value:r.value}}};this.lowerBound=function(e){return u(s,e)};var d=function e(r,n){if(r&&void 0!==r.key&&void 0!==r.value)return t(r.key,n)<=0?e(r.rightChild,n):e(r.leftChild,n)||{key:r.key,value:r.value}};this.upperBound=function(e){return d(s,e)};var h=function e(r,n){if(r&&void 0!==r.key&&void 0!==r.value){var i=t(r.key,n);return 0===i?{key:r.key,value:r.value}:i>0?e(r.leftChild,n):e(r.rightChild,n)||{key:r.key,value:r.value}}};this.reverseLowerBound=function(e){return h(s,e)};var p=function e(r,n){if(r&&void 0!==r.key&&void 0!==r.value)return t(r.key,n)>=0?e(r.leftChild,n):e(r.rightChild,n)||{key:r.key,value:r.value}};this.reverseUpperBound=function(e){return p(s,e)};var f=function e(t){var r=t.parent;if(!r){if(t===s)return;throw new Error("unknown error")}if(t.color!==o.default.TreeNodeColorType.red){var n=t.brother;if(!n)throw new Error("unknown error");if(t===r.leftChild)if(n.color===o.default.TreeNodeColorType.red){n.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red;var i=r.rotateLeft();s===r&&(s=i),e(t)}else n.color===o.default.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===o.default.TreeNodeColorType.red?(n.color=r.color,r.color=o.default.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),i=r.rotateLeft(),s===r&&(s=i),t.color=o.default.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,e(r)):(n.color=o.default.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),i=n.rotateRight(),s===n&&(s=i),e(t)));else t===r.rightChild&&(n.color===o.default.TreeNodeColorType.red?(n.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red,i=r.rotateRight(),s===r&&(s=i),e(t)):n.color===o.default.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===o.default.TreeNodeColorType.red?(n.color=r.color,r.color=o.default.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),i=r.rotateRight(),s===r&&(s=i),t.color=o.default.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,e(r)):(n.color=o.default.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),i=n.rotateLeft(),s===n&&(s=i),e(t))))}else t.color=o.default.TreeNodeColorType.black},m=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r;var n=e.value;e.value=t.value,t.value=n,e=t}t.leftChild&&(t=c(t.leftChild),r=e.key,e.key=t.key,t.key=r,n=e.value,e.value=t.value,t.value=n,e=t)}f(t),t&&t.remove(),--a,s.color=o.default.TreeNodeColorType.black},v=function e(t,r){return!(!t||void 0===t.key)&&(!!e(t.leftChild,r)||!!r(t)||e(t.rightChild,r))};this.eraseElementByPos=function(e){if(e<0||e>=a)throw new Error("pos must more than 0 and less than set's size");var t=0;v(s,(function(r){return e===t?(m(r),!0):(++t,!1)}))},this.eraseElementByKey=function(e){if(!this.empty()){var r=b(s,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&m(r)}};var g=function e(r,n){if(!r||void 0===r.key)throw new Error("unknown error");var i=t(n,r.key);return i<0?r.leftChild?e(r.leftChild,n):(r.leftChild=new o.default,r.leftChild.parent=r,r.leftChild.brother=r.rightChild,r.rightChild&&(r.rightChild.brother=r.leftChild),r.leftChild):i>0?r.rightChild?e(r.rightChild,n):(r.rightChild=new o.default,r.rightChild.parent=r,r.rightChild.brother=r.leftChild,r.leftChild&&(r.leftChild.brother=r.rightChild),r.rightChild):r},y=function e(t){var r=t.parent;if(!r){if(t===s)return;throw new Error("unknown error")}if(r.color!==o.default.TreeNodeColorType.black&&r.color===o.default.TreeNodeColorType.red){var n=r.brother,i=r.parent;if(!i)throw new Error("unknown error");if(n&&n.color===o.default.TreeNodeColorType.red)n.color=r.color=o.default.TreeNodeColorType.black,i.color=o.default.TreeNodeColorType.red,e(i);else if(!n||n.color===o.default.TreeNodeColorType.black)if(r===i.leftChild)if(t===r.leftChild){r.color=o.default.TreeNodeColorType.black,i.color=o.default.TreeNodeColorType.red;var a=i.rotateRight();i===s&&(s=a)}else t===r.rightChild&&(a=r.rotateLeft(),i===s&&(s=a),e(r));else r===i.rightChild&&(t===r.leftChild?(a=r.rotateRight(),i===s&&(s=a),e(r)):t===r.rightChild&&(r.color=o.default.TreeNodeColorType.black,i.color=o.default.TreeNodeColorType.red,a=i.rotateLeft(),i===s&&(s=a)))}};this.setElement=function(e,r){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==r&&void 0!==r){if(this.empty())return++a,s.key=e,s.value=r,void(s.color=o.default.TreeNodeColorType.black);var n=g(s,e);void 0===n.key||0!==t(n.key,e)?(++a,n.key=e,n.value=r,y(n),s.color=o.default.TreeNodeColorType.black):n.value=r}else this.eraseElementByKey(e)};var b=function e(r,n){if(r&&void 0!==r.key){var i=t(n,r.key);return i<0?e(r.leftChild,n):i>0?e(r.rightChild,n):r}};this.find=function(e){return!!b(s,e)},this.getElementByKey=function(e){var t=b(s,e);if(void 0===(null===t||void 0===t?void 0:t.key)||void 0===(null===t||void 0===t?void 0:t.value))throw new Error("unknown error");return t.value},this.union=function(e){var t=this;e.forEach((function(e){var r=e.key,n=e.value;return t.setElement(r,n)}))},this.getHeight=function(){if(this.empty())return 0;var e=function e(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(s)};var w=function e(t){return n(this,(function(r){switch(r.label){case 0:return t&&void 0!==t.key&&void 0!==t.value?[5,i(e(t.leftChild))]:[2];case 1:return r.sent(),[4,{key:t.key,value:t.value}];case 2:return r.sent(),[5,i(e(t.rightChild))];case 3:return r.sent(),[2]}}))};this[Symbol.iterator]=function(){return w(s)},e.forEach((function(e){var t=e.key,n=e.value;return r.setElement(t,n)})),Object.freeze(this)}Object.freeze(a),r.default=a},{"../Base/TreeNode":25}],31:[function(e,t,r){"use strict";function n(e,t){void 0===e&&(e=[]),t=t||function(e,t){return e>t?-1:e<t?1:0};var r=[];e.forEach((function(e){return r.push(e)}));var n=r.length,i=function(e,t){if(e<0||e>=n)throw new Error("unknown error");if(t<0||t>=n)throw new Error("unknown error");var i=r[e];r[e]=r[t],r[t]=i},o=function(e){if(e<0||e>=n)throw new Error("unknown error");var o=2*e+1,a=2*e+2;o<n&&t(r[e],r[o])>0&&i(e,o),a<n&&t(r[e],r[a])>0&&i(e,a)};!function(){for(var e=Math.floor((n-1)/2);e>=0;--e)for(var o=e,a=2*o+1;a<n;){var s=a+1,l=a;if(s<n&&t(r[a],r[s])>0&&(l=s),t(r[o],r[l])<=0)break;i(o,l),a=2*(o=l)+1}}(),this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,r.length=0},this.push=function(e){if(r.push(e),1!==++n)for(var i=n-1;i>0;){var a=Math.floor((i-1)/2);if(t(r[a],e)<=0)break;o(a),i=a}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=r[n-1];--n;for(var i=0;i<this.size();){var o=2*i+1,a=2*i+2;if(o>=this.size())break;var s=o;if(a<this.size()&&t(r[o],r[a])>0&&(s=a),t(r[s],e)>=0)break;r[i]=r[s],i=s}r[i]=e}else--n},this.top=function(){return r[0]},Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(n),r.default=n},{}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LinkList/LinkList");function i(e){void 0===e&&(e=[]);var t=new n.default(e);this.size=function(){return t.size()},this.empty=function(){return t.empty()},this.clear=function(){t.clear()},this.push=function(e){t.pushBack(e)},this.pop=function(){t.popFront()},this.front=function(){return t.front()},Object.freeze(this)}Object.freeze(i),r.default=i},{"../LinkList/LinkList":29}],33:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Base/TreeNode");function a(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var a=0,s=new o.default;s.color=o.default.TreeNodeColorType.black,this.size=function(){return a},this.empty=function(){return 0===a},this.clear=function(){a=0,s.key=void 0,s.leftChild=s.rightChild=s.brother=s.parent=void 0,s.color=o.default.TreeNodeColorType.black};var l=function e(t){if(!t||void 0===t.key)throw new Error("unknown error");return t.leftChild?e(t.leftChild):t},c=function e(t){if(!t||void 0===t.key)throw new Error("unknown error");return t.rightChild?e(t.rightChild):t};this.front=function(){if(!this.empty())return l(s).key},this.back=function(){if(!this.empty())return c(s).key},this.forEach=function(e){var t,r,n=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next())e(a.value,n++)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var n=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next()){var s=a.value;if(n===e)return s;++n}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}throw new Error("unknown error")};var u=function e(t){var r=t.parent;if(!r){if(t===s)return;throw new Error("unknown error")}if(t.color!==o.default.TreeNodeColorType.red){var n=t.brother;if(!n)throw new Error("unknown error");if(t===r.leftChild)if(n.color===o.default.TreeNodeColorType.red){n.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red;var i=r.rotateLeft();s===r&&(s=i),e(t)}else n.color===o.default.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===o.default.TreeNodeColorType.red?(n.color=r.color,r.color=o.default.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),i=r.rotateLeft(),s===r&&(s=i),t.color=o.default.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,e(r)):(n.color=o.default.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),i=n.rotateRight(),s===n&&(s=i),e(t)));else t===r.rightChild&&(n.color===o.default.TreeNodeColorType.red?(n.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red,i=r.rotateRight(),s===r&&(s=i),e(t)):n.color===o.default.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===o.default.TreeNodeColorType.red?(n.color=r.color,r.color=o.default.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),i=r.rotateRight(),s===r&&(s=i),t.color=o.default.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,e(r)):(n.color=o.default.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),i=n.rotateLeft(),s===n&&(s=i),e(t))))}else t.color=o.default.TreeNodeColorType.black},d=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r,e=t}t.leftChild&&(t=c(t.leftChild),r=e.key,e.key=t.key,t.key=r,e=t)}u(t),t&&t.remove(),--a,s.color=o.default.TreeNodeColorType.black},h=function e(t,r){return!(!t||void 0===t.key)&&(!!e(t.leftChild,r)||!!r(t)||e(t.rightChild,r))};this.eraseElementByPos=function(e){if(e<0||e>=a)throw new Error("pos must more than 0 and less than set's size");var t=0;h(s,(function(r){return e===t?(d(r),!0):(++t,!1)}))},this.eraseElementByValue=function(e){if(!this.empty()){var r=m(s,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&d(r)}};var p=function e(r,n){if(!r||void 0===r.key)throw new Error("unknown error");var i=t(n,r.key);return i<0?r.leftChild?e(r.leftChild,n):(r.leftChild=new o.default,r.leftChild.parent=r,r.leftChild.brother=r.rightChild,r.rightChild&&(r.rightChild.brother=r.leftChild),r.leftChild):i>0?r.rightChild?e(r.rightChild,n):(r.rightChild=new o.default,r.rightChild.parent=r,r.rightChild.brother=r.leftChild,r.leftChild&&(r.leftChild.brother=r.rightChild),r.rightChild):r},f=function e(t){var r=t.parent;if(!r){if(t===s)return;throw new Error("unknown error")}if(r.color!==o.default.TreeNodeColorType.black&&r.color===o.default.TreeNodeColorType.red){var n=r.brother,i=r.parent;if(!i)throw new Error("unknown error");if(n&&n.color===o.default.TreeNodeColorType.red)n.color=r.color=o.default.TreeNodeColorType.black,i.color=o.default.TreeNodeColorType.red,e(i);else if(!n||n.color===o.default.TreeNodeColorType.black)if(r===i.leftChild)if(t===r.leftChild){r.color=o.default.TreeNodeColorType.black,i.color=o.default.TreeNodeColorType.red;var a=i.rotateRight();i===s&&(s=a)}else t===r.rightChild&&(a=r.rotateLeft(),i===s&&(s=a),e(r));else r===i.rightChild&&(t===r.leftChild?(a=r.rotateRight(),i===s&&(s=a),e(r)):t===r.rightChild&&(r.color=o.default.TreeNodeColorType.black,i.color=o.default.TreeNodeColorType.red,a=i.rotateLeft(),i===s&&(s=a)))}};this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++a,s.key=e,void(s.color=o.default.TreeNodeColorType.black);var r=p(s,e);void 0!==r.key&&0===t(r.key,e)||(++a,r.key=e,f(r),s.color=o.default.TreeNodeColorType.black)};var m=function e(r,n){if(r&&void 0!==r.key){var i=t(n,r.key);return i<0?e(r.leftChild,n):i>0?e(r.rightChild,n):r}};this.find=function(e){var r=m(s,e);return void 0!==r&&void 0!==r.key&&0===t(r.key,e)};var v=function e(r,n){if(r&&void 0!==r.key){var i=t(r.key,n);return 0===i?r.key:i<0?e(r.rightChild,n):e(r.leftChild,n)||r.key}};this.lowerBound=function(e){return v(s,e)};var g=function e(r,n){if(r&&void 0!==r.key)return t(r.key,n)<=0?e(r.rightChild,n):e(r.leftChild,n)||r.key};this.upperBound=function(e){return g(s,e)};var y=function e(r,n){if(r&&void 0!==r.key){var i=t(r.key,n);return 0===i?r.key:i>0?e(r.leftChild,n):e(r.rightChild,n)||r.key}};this.reverseLowerBound=function(e){return y(s,e)};var b=function e(r,n){if(r&&void 0!==r.key)return t(r.key,n)>=0?e(r.leftChild,n):e(r.rightChild,n)||r.key};this.reverseUpperBound=function(e){return b(s,e)},this.union=function(e){var t=this;e.forEach((function(e){return t.insert(e)}))},this.getHeight=function(){if(this.empty())return 0;var e=function e(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(s)};var w=function e(t){return n(this,(function(r){switch(r.label){case 0:return t&&void 0!==t.key?[5,i(e(t.leftChild))]:[2];case 1:return r.sent(),[4,t.key];case 2:return r.sent(),[5,i(e(t.rightChild))];case 3:return r.sent(),[2]}}))};this[Symbol.iterator]=function(){return w(s)},e.forEach((function(e){return r.insert(e)})),Object.freeze(this)}Object.freeze(a),r.default=a},{"../Base/TreeNode":25}],34:[function(e,t,r){"use strict";function n(e){var t=this;void 0===e&&(e=[]);var r=0,n=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,n.length=0},this.push=function(e){n.push(e),++r},this.pop=function(){n.pop(),r>0&&--r},this.top=function(){return n[r-1]},e.forEach((function(e){return t.push(e)})),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(n),r.default=n},{}],35:[function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function s(e){var t=this;void 0===e&&(e=[]);var r=0,s=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,s.length=0},this.front=function(){if(!this.empty())return s[0]},this.back=function(){if(!this.empty())return s[r-1]},this.forEach=function(e){s.forEach(e)},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more than 0 and less than vector's size");return s[e]},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more than 0 and less than vector's size");for(var t=e;t<r-1;++t)s[t]=s[t+1];this.popBack()},this.eraseElementByValue=function(e){var t=[];this.forEach((function(r){r!==e&&t.push(r)})),t.forEach((function(e,t){s[t]=e}));for(var n=t.length;r>n;)this.popBack()},this.pushBack=function(e){s.push(e),++r},this.popBack=function(){s.pop(),r>0&&--r},this.setElementByPos=function(e,t){if(e<0||e>=r)throw new Error("pos must more than 0 and less than vector's size");s[e]=t},this.insert=function(e,t,n){if(void 0===n&&(n=1),e<0||e>r)throw new Error("pos must more than 0 and less than or equal to vector's size");s.splice.apply(s,o([e,0],i(new Array(n).fill(t)),!1)),r+=n},this.find=function(e){return s.includes(e)},this.reverse=function(){s.reverse()},this.unique=function(){var e,t=[];this.forEach((function(r,n){0!==n&&r===e||(t.push(r),e=r)})),t.forEach((function(e,t){s[t]=e}));for(var n=t.length;r>n;)this.popBack()},this.sort=function(e){s.sort(e)},this[Symbol.iterator]=function(){return function(){return n(this,(function(e){switch(e.label){case 0:return[5,a(s)];case 1:return[2,e.sent()]}}))}()},e.forEach((function(e){return t.pushBack(e)})),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(s),r.default=s},{}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HashMap=r.HashSet=r.Map=r.Set=r.PriorityQueue=r.Deque=r.LinkList=r.Queue=r.Stack=r.Vector=void 0;var n=e("./Vector/Vector");r.Vector=n.default;var i=e("./Stack/Stack");r.Stack=i.default;var o=e("./Queue/Queue");r.Queue=o.default;var a=e("./LinkList/LinkList");r.LinkList=a.default;var s=e("./Deque/Deque");r.Deque=s.default;var l=e("./PriorityQueue/PriorityQueue");r.PriorityQueue=l.default;var c=e("./Set/Set");r.Set=c.default;var u=e("./Map/Map");r.Map=u.default;var d=e("./HashSet/HashSet");r.HashSet=d.default;var h=e("./HashMap/HashMap");r.HashMap=h.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(e,t,r){"use strict";var n=e("yallist"),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),d=Symbol("dispose"),h=Symbol("noDisposeOnSet"),p=Symbol("lruList"),f=Symbol("cache"),m=Symbol("updateAgeOnGet"),v=function(){return 1},g=function(e,t,r){var n=e[f].get(t);if(n){var i=n.value;if(y(e,i)){if(w(e,n),!e[s])return}else r&&(e[m]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return i.value}},y=function(e,t){if(!t||!t.maxAge&&!e[l])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},b=function(e){if(e[o]>e[i])for(var t=e[p].tail;e[o]>e[i]&&null!==t;){var r=t.prev;w(e,t),t=r}},w=function(e,t){if(t){var r=t.value;e[d]&&e[d](r.key,r.value),e[o]-=r.length,e[f].delete(r.key),e[p].removeNode(t)}},k=c((function e(t,r,n,i,o){u(this,e),this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0})),_=function(e,t,r,n){var i=r.value;y(e,i)&&(w(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=function(){function e(t){if(u(this,e),"number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;var r=t.length||v;if(this[a]="function"!=typeof r?v:r,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[d]=t.dispose,this[h]=t.noDisposeOnSet||!1,this[m]=t.updateAgeOnGet||!1,this.reset()}return c(e,[{key:"max",get:function(){return this[i]},set:function(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,b(this)}},{key:"allowStale",get:function(){return this[s]},set:function(e){this[s]=!!e}},{key:"maxAge",get:function(){return this[l]},set:function(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,b(this)}},{key:"lengthCalculator",get:function(){return this[a]},set:function(e){var t=this;"function"!=typeof e&&(e=v),e!==this[a]&&(this[a]=e,this[o]=0,this[p].forEach((function(e){e.length=t[a](e.value,e.key),t[o]+=e.length}))),b(this)}},{key:"length",get:function(){return this[o]}},{key:"itemCount",get:function(){return this[p].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var r=this[p].tail;null!==r;){var n=r.prev;_(this,e,r,t),r=n}}},{key:"forEach",value:function(e,t){t=t||this;for(var r=this[p].head;null!==r;){var n=r.next;_(this,e,r,t),r=n}}},{key:"keys",value:function(){return this[p].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[p].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[d]&&this[p]&&this[p].length&&this[p].forEach((function(t){return e[d](t.key,t.value)})),this[f]=new Map,this[p]=new n,this[o]=0}},{key:"dump",value:function(){var e=this;return this[p].map((function(t){return!y(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[p]}},{key:"set",value:function(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,s=this[a](t,e);if(this[f].has(e)){if(s>this[i])return w(this,this[f].get(e)),!1;var c=this[f].get(e).value;return this[d]&&(this[h]||this[d](e,c.value)),c.now=n,c.maxAge=r,c.value=t,this[o]+=s-c.length,c.length=s,this.get(e),b(this),!0}var u=new k(e,t,s,n,r);return u.length>this[i]?(this[d]&&this[d](e,t),!1):(this[o]+=u.length,this[p].unshift(u),this[f].set(e,this[p].head),b(this),!0)}},{key:"has",value:function(e){if(!this[f].has(e))return!1;var t=this[f].get(e).value;return!y(this,t)}},{key:"get",value:function(e){return g(this,e,!0)}},{key:"peek",value:function(e){return g(this,e,!1)}},{key:"pop",value:function(){var e=this[p].tail;return e?(w(this,e),e.value):null}},{key:"del",value:function(e){w(this,this[f].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var o=i-t;o>0&&this.set(n.k,n.v,o)}}}},{key:"prune",value:function(){var e=this;this[f].forEach((function(t,r){return g(e,r,!1)}))}}]),e}()},{yallist:83}],38:[function(e,t,r){(function(e){(function(){var r=t.exports;for(var n in r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.codes={},r.types){var i=r.types[n];r.codes[i]=n}for(var o in r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={},r.properties){var a=r.properties[o];r.propertiesCodes[a]=o}function s(t){return[0,1,2].map((function(n){return[0,1].map((function(i){return[0,1].map((function(o){var a=e.alloc(1);return a.writeUInt8(r.codes[t]<<r.CMD_SHIFT|(i?r.DUP_MASK:0)|n<<r.QOS_SHIFT|o,0,!0),a}))}))}))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=s("publish"),r.SUBSCRIBE_HEADER=s("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=s("unsubscribe"),r.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.VERSION131=e.from([131]),r.VERSION132=e.from([132]),r.QOS=[0,1,2].map((function(t){return e.from([t])})),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],39:[function(e,t,r){(function(r){(function(){var n=e("./writeToStream"),i=e("events"),o=function(e){"use strict";s(n,e);var t=l(n);function n(){var e;return u(this,n),e=t.call(this),e._array=new Array(20),e._i=0,e}return c(n,[{key:"write",value:function(e){return this._array[this._i++]=e,!0}},{key:"concat",value:function(){var e,t=0,n=new Array(this._array.length),i=this._array,o=0;for(e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?n[e]=i[e].length:n[e]=r.byteLength(i[e]),t+=n[e];var a=r.allocUnsafe(t);for(e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?(i[e].copy(a,o),o+=n[e]):(a.write(i[e],o),o+=n[e]);return a}}]),n}(i);t.exports=function(e,t){var r=new o;return n(e,r,t),r.concat()}}).call(this)}).call(this,e("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(e,t,r){r.parser=e("./parser").parser,r.generate=e("./generate"),r.writeToStream=e("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(e,t,r){(function(e){(function(){var r=65536,n={},i=e.isBuffer(e.from([1,2]).subarray(0,1));function o(t){var r=e.allocUnsafe(2);return r.writeUInt8(t>>8,0),r.writeUInt8(255&t,1),r}t.exports={cache:n,generateCache:function(){for(var e=0;e<r;e++)n[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(t){var r=0,n=0,o=e.allocUnsafe(4);do{r=t%128|0,(t=t/128|0)>0&&(r|=128),o.writeUInt8(r,n++)}while(t>0&&n<4);return t>0&&(n=0),i?o.subarray(0,n):o.slice(0,n)},generate4ByteBuffer:function(t){var r=e.allocUnsafe(4);return r.writeUInt32BE(t,0),r}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],42:[function(e,t,r){t.exports=function(){"use strict";function e(){u(this,e),this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}return c(e)}()},{}],43:[function(e,t,r){var n=e("bl"),i=e("events"),o=e("./packet"),a=e("./constants"),d=e("debug")("mqtt-packet:parser"),h=function(e){"use strict";s(r,e);var t=l(r);function r(){var e;return u(this,r),e=t.call(this),e.parser=e.constructor.parser,e}return c(r,[{key:"_resetState",value:function(){d("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}},{key:"parse",value:function(e){for(this.error&&this._resetState(),this._list.append(e),d("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,d("parse: state complete. _stateCounter is now: %d",this._stateCounter),d("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return d("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}},{key:"_parseHeader",value:function(){var e=this._list.readUInt8(0);return this.packet.cmd=a.types[e>>a.CMD_SHIFT],this.packet.retain=0!=(e&a.RETAIN_MASK),this.packet.qos=e>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=0!=(e&a.DUP_MASK),d("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}},{key:"_parseLength",value:function(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),d("_parseLength %d",e.value),!!e}},{key:"_parsePayload",value:function(){d("_parsePayload: payload %O",this._list);var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return d("_parsePayload complete result: %s",e),e}},{key:"_parseConnect",value:function(){var e,t,r,n;d("_parseConnect");var i={},o=this.packet,s=this._parseString();if(null===s)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==s&&"MQIsdp"!==s)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=s,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(i.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=0!=(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),o.clean=0!=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));if(5===o.protocolVersion){var l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}var c=this._parseString();if(null===c)return this._emitError(new Error("Packet too short"));if(o.clientId=c,d("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion){var u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(o.will.properties=u)}if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=e,d("_parseConnect: packet.will.topic: %s",o.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));o.will.payload=t,d("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(null===(n=this._parseString()))return this._emitError(new Error("Cannot parse username"));o.username=n,d("_parseConnect: packet.username: %s",o.username)}if(i.password){if(null===(r=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));o.password=r}return this.settings=o,d("_parseConnect: complete"),o}},{key:"_parseConnack",value:function(){d("_parseConnack");var e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}d("_parseConnack: complete")}},{key:"_parsePublish",value:function(){d("_parsePublish");var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),d("_parsePublish: payload from buffer list: %o",e.payload)}}},{key:"_parseSubscribe",value:function(){d("_parseSubscribe");var e,t,r,n,i,o,s,l=this.packet;if(1!==l.qos)return this._emitError(new Error("Wrong subscribe header"));if(l.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(l.properties=c)}for(;this._pos<l.length;){if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=l.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=(t=this._parseByte())&a.SUBSCRIBE_OPTIONS_QOS_MASK,o=0!=(t>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK),i=0!=(t>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK),n=t>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,s={topic:e,qos:r},5===this.settings.protocolVersion?(s.nl=o,s.rap=i,s.rh=n):this.settings.bridgeMode&&(s.rh=0,s.rap=!0,s.nl=!0),d("_parseSubscribe: push subscription `%s` to subscription",s),l.subscriptions.push(s)}}}},{key:"_parseSuback",value:function(){d("_parseSuback");var e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseUnsubscribe",value:function(){d("_parseUnsubscribe");var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){var r=this._parseString();if(null===r)return this._emitError(new Error("Cannot parse topic"));d("_parseUnsubscribe: push topic `%s` to unsubscriptions",r),e.unsubscriptions.push(r)}}}},{key:"_parseUnsuback",value:function(){d("_parseUnsuback");var e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}},{key:"_parseConfirmation",value:function(){d("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);var e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),d("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}},{key:"_parseDisconnect",value:function(){var e=this.packet;if(d("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return d("_parseDisconnect result: true"),!0}},{key:"_parseAuth",value:function(){d("_parseAuth");var e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();var t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),d("_parseAuth: result: true"),!0}},{key:"_parseMessageId",value:function(){var e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(d("_parseMessageId: packet.messageId %d",e.messageId),!0)}},{key:"_parseString",value:function(e){var t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;var n=this._list.toString("utf8",this._pos,r);return this._pos+=t,d("_parseString: result: %s",n),n}},{key:"_parseStringPair",value:function(){return d("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}},{key:"_parseBuffer",value:function(){var e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;var r=this._list.slice(this._pos,t);return this._pos+=e,d("_parseBuffer: result: %o",r),r}},{key:"_parseNum",value:function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,d("_parseNum: result: %s",e),e}},{key:"_parse4ByteNum",value:function(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,d("_parse4ByteNum: result: %s",e),e}},{key:"_parseVarByteNum",value:function(e){d("_parseVarByteNum");for(var t,r=0,n=1,i=0,o=!1,s=this._pos?this._pos:0;r<4&&s+r<this._list.length;){if(i+=n*((t=this._list.readUInt8(s+r++))&a.VARBYTEINT_MASK),n*=128,0==(t&a.VARBYTEINT_FIN_MASK)){o=!0;break}if(this._list.length<=r)break}return!o&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),s&&(this._pos+=r),d("_parseVarByteNum: result: %o",o=!!o&&(e?{bytes:r,value:i}:i)),o}},{key:"_parseByte",value:function(){var e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),d("_parseByte: result: %o",e),e}},{key:"_parseByType",value:function(e){switch(d("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}},{key:"_parseProperties",value:function(){d("_parseProperties");for(var e=this._parseVarByteNum(),t=this._pos+e,r={};this._pos<t;){var n=this._parseByte();if(!n)return this._emitError(new Error("Cannot parse property code type")),!1;var i=a.propertiesCodes[n];if(!i)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==i)r[i]?(Array.isArray(r[i])||(r[i]=[r[i]]),r[i].push(this._parseByType(a.propertiesTypes[i]))):r[i]=this._parseByType(a.propertiesTypes[i]);else{r[i]||(r[i]=Object.create(null));var o=this._parseByType(a.propertiesTypes[i]);if(r[i][o.name])if(Array.isArray(r[i][o.name]))r[i][o.name].push(o.value);else{var s=r[i][o.name];r[i][o.name]=[s],r[i][o.name].push(o.value)}else r[i][o.name]=o.value}}return r}},{key:"_newPacket",value:function(){return d("_newPacket"),this.packet&&(this._list.consume(this.packet.length),d("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),d("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}},{key:"_emitError",value:function(e){d("_emitError"),this.error=e,this.emit("error",e)}}],[{key:"parser",value:function(e){return this instanceof r?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new r).parser(e)}}]),r}(i);t.exports=h},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(e,t,r){(function(r){(function(){var n=e("./constants"),i=r.allocUnsafe(0),o=r.from([0]),a=e("./numbers"),s=e("process-nextick-args").nextTick,l=e("debug")("mqtt-packet:writeToStream"),c=a.cache,u=a.generateNumber,d=a.generateCache,p=a.genBufVariableByteInt,m=a.generate4ByteBuffer,v=x,g=!0;function y(e,t,a){switch(l("generate called"),t.cork&&(t.cork(),s(b,t)),g&&(g=!1,d()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t,i){var o=e||{},a=o.protocolId||"MQTT",s=o.protocolVersion||4,l=o.will,c=o.clean,u=o.keepalive||0,d=o.clientId||"",h=o.username,p=o.password,m=o.properties;void 0===c&&(c=!0);var g=0;if(!a||"string"!=typeof a&&!r.isBuffer(a))return t.emit("error",new Error("Invalid protocolId")),!1;if(g+=a.length+2,3!==s&&4!==s&&5!==s)return t.emit("error",new Error("Invalid protocol version")),!1;if(g+=1,("string"==typeof d||r.isBuffer(d))&&(d||s>=4)&&(d||c))g+=r.byteLength(d)+2;else{if(s<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof u||u<0||u>65535||u%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;if(g+=2,g+=1,5===s){var y=C(t,m);if(!y)return!1;g+=y.length}if(l){if("object"!=f(l))return t.emit("error",new Error("Invalid will")),!1;if(!l.topic||"string"!=typeof l.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(g+=r.byteLength(l.topic)+2,g+=2,l.payload){if(!(l.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;"string"==typeof l.payload?g+=r.byteLength(l.payload):g+=l.payload.length}var b={};if(5===s){if(!(b=C(t,l.properties)))return!1;g+=b.length}}var w=!1;if(null!=h){if(!P(h))return t.emit("error",new Error("Invalid username")),!1;w=!0,g+=r.byteLength(h)+2}if(null!=p){if(!w)return t.emit("error",new Error("Username is required to use password")),!1;if(!P(p))return t.emit("error",new Error("Invalid password")),!1;g+=A(p)+2}t.write(n.CONNECT_HEADER),k(t,g),I(t,a),o.bridgeMode&&(s+=128),t.write(131===s?n.VERSION131:132===s?n.VERSION132:4===s?n.VERSION4:5===s?n.VERSION5:n.VERSION3);var S=0;return S|=null!=h?n.USERNAME_MASK:0,S|=null!=p?n.PASSWORD_MASK:0,S|=l&&l.retain?n.WILL_RETAIN_MASK:0,S|=l&&l.qos?l.qos<<n.WILL_QOS_SHIFT:0,S|=l?n.WILL_FLAG_MASK:0,S|=c?n.CLEAN_SESSION_MASK:0,t.write(r.from([S])),v(t,u),5===s&&y.write(),I(t,d),l&&(5===s&&b.write(),_(t,l.topic),I(t,l.payload)),null!=h&&I(t,h),null!=p&&I(t,p),!0}(e,t);case"connack":return function(e,t,i){var a=i?i.protocolVersion:4,s=e||{},l=5===a?s.reasonCode:s.returnCode,c=s.properties,u=2;if("number"!=typeof l)return t.emit("error",new Error("Invalid return code")),!1;var d=null;if(5===a){if(!(d=C(t,c)))return!1;u+=d.length}return t.write(n.CONNACK_HEADER),k(t,u),t.write(s.sessionPresent?n.SESSIONPRESENT_HEADER:o),t.write(r.from([l])),null!=d&&d.write(),!0}(e,t,a);case"publish":return function(e,t,o){l("publish: packet: %o",e);var a=o?o.protocolVersion:4,s=e||{},c=s.qos||0,u=s.retain?n.RETAIN_MASK:0,d=s.topic,h=s.payload||i,p=s.messageId,f=s.properties,m=0;if("string"==typeof d)m+=r.byteLength(d)+2;else{if(!r.isBuffer(d))return t.emit("error",new Error("Invalid topic")),!1;m+=d.length+2}if(r.isBuffer(h)?m+=h.length:m+=r.byteLength(h),c&&"number"!=typeof p)return t.emit("error",new Error("Invalid messageId")),!1;c&&(m+=2);var g=null;if(5===a){if(!(g=C(t,f)))return!1;m+=g.length}return t.write(n.PUBLISH_HEADER[c][s.dup?1:0][u?1:0]),k(t,m),v(t,A(d)),t.write(d),c>0&&v(t,p),null!=g&&g.write(),l("publish: payload: %o",h),t.write(h)}(e,t,a);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},s=a.cmd||"puback",l=a.messageId,c=a.dup&&"pubrel"===s?n.DUP_MASK:0,u=0,d=a.reasonCode,h=a.properties,p=5===o?3:2;if("pubrel"===s&&(u=1),"number"!=typeof l)return t.emit("error",new Error("Invalid messageId")),!1;var m=null;if(5===o&&"object"==f(h)){if(!(m=E(t,h,i,p)))return!1;p+=m.length}return t.write(n.ACKS[s][u][c][0]),k(t,p),v(t,l),5===o&&t.write(r.from([d])),null!==m&&m.write(),!0}(e,t,a);case"subscribe":return function(e,t,i){l("subscribe: packet: ");var o=i?i.protocolVersion:4,a=e||{},s=a.dup?n.DUP_MASK:0,c=a.messageId,u=a.subscriptions,d=a.properties,p=0;if("number"!=typeof c)return t.emit("error",new Error("Invalid messageId")),!1;p+=2;var m=null;if(5===o){if(!(m=C(t,d)))return!1;p+=m.length}if("object"!=f(u)||!u.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var g=0;g<u.length;g+=1){var y=u[g].topic,b=u[g].qos;if("string"!=typeof y)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof b)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){var w=u[g].nl||!1;if("boolean"!=typeof w)return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;var S=u[g].rap||!1;if("boolean"!=typeof S)return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var x=u[g].rh||0;if("number"!=typeof x||x>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}p+=r.byteLength(y)+2+1}l("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),t.write(n.SUBSCRIBE_HEADER[1][s?1:0][0]),k(t,p),v(t,c),null!==m&&m.write();var T,I=!0,E=h(u);try{for(E.s();!(T=E.n()).done;){var Z=T.value,D=Z.topic,A=Z.qos,P=+Z.nl,M=+Z.rap,O=Z.rh,R=void 0;_(t,D),R=n.SUBSCRIBE_OPTIONS_QOS[A],5===o&&(R|=P?n.SUBSCRIBE_OPTIONS_NL:0,R|=M?n.SUBSCRIBE_OPTIONS_RAP:0,R|=O?n.SUBSCRIBE_OPTIONS_RH[O]:0),I=t.write(r.from([R]))}}catch(L){E.e(L)}finally{E.f()}return I}(e,t,a);case"suback":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},s=a.messageId,l=a.granted,c=a.properties,u=0;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(u+=2,"object"!=f(l)||!l.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var d=0;d<l.length;d+=1){if("number"!=typeof l[d])return t.emit("error",new Error("Invalid qos vector")),!1;u+=1}var h=null;if(5===o){if(!(h=E(t,c,i,u)))return!1;u+=h.length}return t.write(n.SUBACK_HEADER),k(t,u),v(t,s),null!==h&&h.write(),t.write(r.from(l))}(e,t,a);case"unsubscribe":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},s=a.messageId,l=a.dup?n.DUP_MASK:0,c=a.unsubscriptions,u=a.properties,d=0;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(d+=2,"object"!=f(c)||!c.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var h=0;h<c.length;h+=1){if("string"!=typeof c[h])return t.emit("error",new Error("Invalid unsubscriptions")),!1;d+=r.byteLength(c[h])+2}var p=null;if(5===o){if(!(p=C(t,u)))return!1;d+=p.length}t.write(n.UNSUBSCRIBE_HEADER[1][l?1:0][0]),k(t,d),v(t,s),null!==p&&p.write();for(var m=!0,g=0;g<c.length;g++)m=_(t,c[g]);return m}(e,t,a);case"unsuback":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},s=a.messageId,l=a.dup?n.DUP_MASK:0,c=a.granted,u=a.properties,d=a.cmd,h=2;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(5===o){if("object"!=f(c)||!c.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var p=0;p<c.length;p+=1){if("number"!=typeof c[p])return t.emit("error",new Error("Invalid qos vector")),!1;h+=1}}var m=null;if(5===o){if(!(m=E(t,u,i,h)))return!1;h+=m.length}return t.write(n.ACKS[d][0][l][0]),k(t,h),v(t,s),null!==m&&m.write(),5===o&&t.write(r.from(c)),!0}(e,t,a);case"pingreq":case"pingresp":return function(e,t,r){return t.write(n.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},s=a.reasonCode,l=a.properties,c=5===o?1:0,u=null;if(5===o){if(!(u=E(t,l,i,c)))return!1;c+=u.length}return t.write(r.from([n.codes.disconnect<<4])),k(t,c),5===o&&t.write(r.from([s])),null!==u&&u.write(),!0}(e,t,a);case"auth":return function(e,t,i){var o=i?i.protocolVersion:4,a=e||{},s=a.reasonCode,l=a.properties,c=5===o?1:0;5!==o&&t.emit("error",new Error("Invalid mqtt version for auth packet"));var u=E(t,l,i,c);return!!u&&(c+=u.length,t.write(r.from([n.codes.auth<<4])),k(t,c),t.write(r.from([s])),null!==u&&u.write(),!0)}(e,t,a);default:return t.emit("error",new Error("Unknown command")),!1}}function b(e){e.uncork()}Object.defineProperty(y,"cacheNumbers",{get:function(){return v===x},set:function(e){e?(c&&0!==Object.keys(c).length||(g=!0),v=x):(g=!1,v=T)}});var w={};function k(e,t){if(t>n.VARBYTEINT_MAX)return e.emit("error",new Error("Invalid variable byte integer: ".concat(t))),!1;var r=w[t];return r||(r=p(t),t<16384&&(w[t]=r)),l("writeVarByteInt: writing to stream: %o",r),e.write(r)}function _(e,t){var n=r.byteLength(t);return v(e,n),l("writeString: %s",t),e.write(t,"utf8")}function S(e,t,r){_(e,t),_(e,r)}function x(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function T(e,t){var r=u(t);return l("writeNumberGenerated: %o",r),e.write(r)}function I(e,t){"string"==typeof t?_(e,t):t?(v(e,t.length),e.write(t)):v(e,0)}function C(e,t){if("object"!=f(t)||null!=t.length)return{length:1,write:function(){D(e,{},0)}};var i=0;function o(t,i){var o=0;switch(n.propertiesTypes[t]){case"byte":if("boolean"!=typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=2;break;case"int8":if("number"!=typeof i||i<0||i>255)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=2;break;case"binary":if(i&&null===i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=1+r.byteLength(i)+2;break;case"int16":if("number"!=typeof i||i<0||i>65535)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=3;break;case"int32":if("number"!=typeof i||i<0||i>4294967295)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=5;break;case"var":if("number"!=typeof i||i<0||i>268435455)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=1+r.byteLength(p(i));break;case"string":if("string"!=typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=3+r.byteLength(i.toString());break;case"pair":if("object"!=f(i))return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=Object.getOwnPropertyNames(i).reduce((function(e,t){var n=i[t];return Array.isArray(n)?e+=n.reduce((function(e,n){return e+(3+r.byteLength(t.toString())+2+r.byteLength(n.toString()))}),0):e+=3+r.byteLength(t.toString())+2+r.byteLength(i[t].toString()),e}),0);break;default:return e.emit("error",new Error("Invalid property ".concat(t,": ").concat(i))),!1}return o}if(t)for(var a in t){var s=0,l=0,c=t[a];if(Array.isArray(c))for(var u=0;u<c.length;u++){if(!(l=o(a,c[u])))return!1;s+=l}else{if(!(l=o(a,c)))return!1;s=l}if(!s)return!1;i+=s}return{length:r.byteLength(p(i))+i,write:function(){D(e,t,i)}}}function E(e,t,r,n){var i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,a=C(e,t);if(o)for(;n+a.length>o;){var s=i.shift();if(!s||!t[s])return!1;delete t[s],a=C(e,t)}return a}function Z(e,t,i){switch(n.propertiesTypes[t]){case"byte":e.write(r.from([n.properties[t]])),e.write(r.from([+i]));break;case"int8":e.write(r.from([n.properties[t]])),e.write(r.from([i]));break;case"binary":e.write(r.from([n.properties[t]])),I(e,i);break;case"int16":e.write(r.from([n.properties[t]])),v(e,i);break;case"int32":e.write(r.from([n.properties[t]])),function(e,t){var r=m(t);l("write4ByteNumber: %o",r),e.write(r)}(e,i);break;case"var":e.write(r.from([n.properties[t]])),k(e,i);break;case"string":e.write(r.from([n.properties[t]])),_(e,i);break;case"pair":Object.getOwnPropertyNames(i).forEach((function(o){var a=i[o];Array.isArray(a)?a.forEach((function(i){e.write(r.from([n.properties[t]])),S(e,o.toString(),i.toString())})):(e.write(r.from([n.properties[t]])),S(e,o.toString(),a.toString()))}));break;default:return e.emit("error",new Error("Invalid property ".concat(t," value: ").concat(i))),!1}}function D(e,t,r){for(var n in k(e,r),t)if(Object.prototype.hasOwnProperty.call(t,n)&&null!==t[n]){var i=t[n];if(Array.isArray(i))for(var o=0;o<i.length;o++)Z(e,n,i[o]);else Z(e,n,i)}}function A(e){return e?e instanceof r?e.length:r.byteLength(e):0}function P(e){return"string"==typeof e||e instanceof r}t.exports=y}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(e,t,r){var n=1e3,i=60*n,o=60*i,a=24*o,s=7*a,l=365.25*a;function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var r=f(e);if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"weeks":case"week":case"w":return r*s;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=a?c(e,t,a,"day"):t>=o?c(e,t,o,"hour"):t>=i?c(e,t,i,"minute"):t>=n?c(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=a?Math.round(e/a)+"d":t>=o?Math.round(e/o)+"h":t>=i?Math.round(e/i)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],46:[function(e,t,r){var n=e("./lib/number-allocator.js");t.exports.NumberAllocator=n},{"./lib/number-allocator.js":47}],47:[function(e,t,r){"use strict";var n=e("js-sdsl").Set,i=e("debug")("number-allocator:trace"),o=e("debug")("number-allocator:error");function a(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new n([],(function(e,t){return e.compare(t)})),i("Create"),this.clear()}a.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},a.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;var e=this.ss.front(),t=e.low;return t+1<=e.high?++e.low:this.ss.eraseElementByPos(0),i("alloc():"+t),t},s.prototype.use=function(e){var t=new a(e,e),r=this.ss.lowerBound(t);if(r){if(r.equals(t))return this.ss.eraseElementByValue(r),i("use():"+e),!0;if(r.low>e)return!1;if(r.low===e)return++r.low,i("use():"+e),!0;if(r.high===e)return--r.high,i("use():"+e),!0;var n=r.low;return r.low=e+1,this.ss.insert(new a(n,e-1)),i("use():"+e),!0}return i("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)o("free():"+e+" is out of range");else{var t=new a(e,e),r=this.ss.lowerBound(t);if(r){if(r.low<=e&&e<=r.high)return void o("free():"+e+" has already been vacant");if(r===this.ss.front())e+1===r.low?--r.low:this.ss.insert(t);else{var n=this.ss.reverseLowerBound(t);n.high+1===e?e+1===r.low?(this.ss.eraseElementByValue(n),r.low=n.low):n.high=e:e+1===r.low?r.low=e:this.ss.insert(t)}}else{if(r===this.ss.front())return void this.ss.insert(t);var s=this.ss.reverseLowerBound(t);s.high+1===e?s.high=e:this.ss.insert(t)}i("free():"+e)}},s.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());var e,t=h(this.ss);try{for(t.s();!(e=t.n()).done;){var r=e.value;console.log(r)}}catch(n){t.e(n)}finally{t.f()}},t.exports=s},{debug:18,"js-sdsl":36}],48:[function(e,t,r){var n=e("wrappy");function i(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}t.exports=n(i),t.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},{wrappy:79}],49:[function(e,t,r){(function(e){(function(){"use strict";void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this)}).call(this,e("_process"))},{_process:50}],50:[function(e,t,r){var n,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,h=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],51:[function(e,t,n){(function(e){(function(){!function(r){var i="object"==f(n)&&n&&!n.nodeType&&n,o="object"==f(t)&&t&&!t.nodeType&&t,a="object"==f(e)&&e;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var s,l,c=2147483647,u=36,d=1,h=26,p=38,m=700,v=72,g=128,y="-",b=/^xn--/,w=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-d,x=Math.floor,T=String.fromCharCode;function I(e){throw new RangeError(_[e])}function C(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function E(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+C((e=e.replace(k,".")).split("."),t).join(".")}function Z(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function D(e){return C(e,(function(e){var t="";return e>65535&&(t+=T((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+T(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var n=0;for(e=r?x(e/m):e>>1,e+=x(e/t);e>S*h>>1;n+=u)e=x(e/S);return x(n+(S+1)*e/(e+p))}function M(e){var t,r,n,i,o,a,s,l,p,f,m,b=[],w=e.length,k=0,_=g,S=v;for((r=e.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&I("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=k,a=1,s=u;i>=w&&I("invalid-input"),((l=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||l>x((c-k)/a))&&I("overflow"),k+=l*a,!(l<(p=s<=S?d:s>=S+h?h:s-S));s+=u)a>x(c/(f=u-p))&&I("overflow"),a*=f;S=P(k-o,t=b.length+1,0==o),x(k/t)>c-_&&I("overflow"),_+=x(k/t),k%=t,b.splice(k++,0,_)}return D(b)}function O(e){var t,r,n,i,o,a,s,l,p,f,m,b,w,k,_,S=[];for(b=(e=Z(e)).length,t=g,r=0,o=v,a=0;a<b;++a)(m=e[a])<128&&S.push(T(m));for(n=i=S.length,i&&S.push(y);n<b;){for(s=c,a=0;a<b;++a)(m=e[a])>=t&&m<s&&(s=m);for(s-t>x((c-r)/(w=n+1))&&I("overflow"),r+=(s-t)*w,t=s,a=0;a<b;++a)if((m=e[a])<t&&++r>c&&I("overflow"),m==t){for(l=r,p=u;!(l<(f=p<=o?d:p>=o+h?h:p-o));p+=u)_=l-f,k=u-f,S.push(T(A(f+_%k,0))),l=x(_/k);S.push(T(A(l,0))),o=P(r,w,n==i),r=0,++n}++r,++t}return S.join("")}if(s={version:"1.4.1",ucs2:{decode:Z,encode:D},decode:M,encode:O,toASCII:function(e){return E(e,(function(e){return w.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return E(e,(function(e){return b.test(e)?M(e.slice(4).toLowerCase()):e}))}},i&&o)if(t.exports==i)o.exports=s;else for(l in s)s.hasOwnProperty(l)&&(i[l]=s[l]);else r.punycode=s}(this)}).call(this)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,p,f,m=e[u].replace(s,"%20"),v=m.indexOf(r);v>=0?(d=m.substr(0,v),h=m.substr(v+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),n(a,p)?i(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],53:[function(e,t,r){"use strict";var n=function(e){switch(f(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==f(e)?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],54:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":52,"./encode":53}],55:[function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,a,s;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var l=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(l," ").concat(n," ").concat(o(t,"type"))}return s+". Received type ".concat(f(r))}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],56:[function(e,t,r){(function(r){(function(){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(c,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var l=a[s];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":59,inherits:24}],58:[function(e,t,n){(function(r,n){(function(){"use strict";var i;t.exports=T,T.ReadableState=x,e("events").EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),l=e("buffer").Buffer,c=n.Uint8Array||function(){},u=e("util");o=u&&u.debuglog?u.debuglog("stream"):function(){};var d,h,p,f=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(T,s);var _=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function x(t,r,n){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e("string_decoder/").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function T(t){if(i=i||e("./_stream_duplex"),!(this instanceof T))return new T(t);var r=this instanceof i;this._readableState=new x(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,l.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)_(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n)s.endEmitted?_(e,new k):C(e,s,t,!0);else if(s.ended)_(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?C(e,s,t,!1):P(e,s)):C(e,s,t,!1)}else n||(s.reading=!1,P(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&D(e)),P(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},T.prototype.unshift=function(e){return I(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(t){d||(d=e("string_decoder/").StringDecoder);var r=new d(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var E=1073741824;function Z(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function P(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function L(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function W(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):D(this),null;if(0===(e=Z(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Z(r,t))),null===(n=e>0?z(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){_(this,new w("_read()"))},T.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?v:c;function l(t,r){o("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",h),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){o("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",l);var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",u);var d=!1;function h(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==W(i.pipes,e))&&!d&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function p(t){o("onerror",t),v(),e.removeListener("error",p),0===a(e,"error")&&_(e,t)}function f(){e.removeListener("finish",m),v()}function m(){o("onfinish"),e.removeListener("close",f),v()}function v(){o("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",m),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=W(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?D(this):i.reading||r.nextTick(R,this))),n},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(O,this),n},T.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(O,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<S.length;a++)e.on(S[a],this.emit.bind(this,S[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=z,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(t,r){return void 0===p&&(p=e("./internal/streams/from")),p(T,t,r)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(e,t,r){"use strict";t.exports=c;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(e,t,n){(function(r,n){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=T,T.WritableState=x;var a,s={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),c=e("buffer").Buffer,u=n.Uint8Array||function(){},d=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,f=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,y=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,_=d.errorOrDestroy;function S(){}function x(t,n,a){o=o||e("./_stream_duplex"),t=t||{},"boolean"!=typeof a&&(a=n instanceof o),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,_(e,i)):(o(i),e._writableState.errorEmitted=!0,_(e,i),A(e,t))}(e,n,i,t,o);else{var a=Z(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),i?r.nextTick(C,e,n,a,o):C(e,n,a,o)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function T(t){var r=this instanceof(o=o||e("./_stream_duplex"));if(!r&&!a.call(T,this))return new T(t);this._writableState=new x(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function I(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,l=!0;r;)o[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;o.allBuffers=l,I(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,d=r.callback;if(I(e,t,!1,t.objectMode?1:c.length,c,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function Z(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=Z(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(D,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(T,l),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===T&&e&&e._writableState instanceof x}})):a=function(e){return e instanceof this},T.prototype.pipe=function(){_(this,new g)},T.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=S),o.ending?function(e,t){var n=new w;_(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new f("chunk",["string","Buffer"],n)),!o||(_(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,s,n,i,o);return l}(this,o,s,e,t,n)),a},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new m("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(e,t,r){(function(r){(function(){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var r=e[h].read();null!==r&&(e[u]=null,e[a]=null,e[s]=null,t(p(r,!1)))}}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[l]?n(e[l]):t(p(void 0,!0))}))}));var n,i=this[u];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(p(void 0,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);t.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[u]=null,n[a]=null,n[s]=null,e(p(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[a]=null,n[s]=null,t(e)),void(n[l]=e)}var r=n[a];null!==r&&(n[u]=null,n[a]=null,n[s]=null,r(p(void 0,!0))),n[c]=!0})),e.on("readable",function(e){r.nextTick(f,e)}.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":64,_process:50}],62:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=e("buffer").Buffer,s=e("util").inspect,l=s&&s.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),c&&o(t,c),e}()},{buffer:17,util:16}],63:[function(e,t,r){(function(e){(function(){"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(n,a):(a._writableState.errorEmitted=!0,e.nextTick(r,a,t)):e.nextTick(r,a,t):o?(e.nextTick(n,a),o(t)):e.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:50}],64:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){s=!1,c=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,d=!0,s||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",f),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",h),t.on("finish",u),!1!==r.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},{"../../../errors":55}],65:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(e,t,r){"use strict";var n,i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var u,d=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var h=r.map((function(t,i){var o=i<r.length-1;return function(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===n&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var l=!1;return function(e){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}(t,o,i>0,(function(e){u||(u=e),e&&h.forEach(l),o||(h.forEach(l),d(u))}))}));return r.reduce(c)}},{"../../../errors":55,"./end-of-stream":64}],67:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},{"../../../errors":55}],68:[function(e,t,r){t.exports=e("events").EventEmitter},{events:22}],69:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new function(e,t,r){var n=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}(arguments[0],arguments[1],e)}},{}],71:[function(e,t,r){"use strict";t.exports=e("./index.js")()},{"./index.js":72}],72:[function(e,t,r){(function(e){(function(){"use strict";function r(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(o){if("object"!=f(o)||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var a={};for(var s in t.push(o),n.push(a),o){var l=o[s];if("object"!=f(l)||null===l)a[s]=l;else if(l instanceof Date)a[s]=new Date(l);else if(l instanceof Map)a[s]=new Map(i(Array.from(l),e));else if(l instanceof Set)a[s]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))a[s]=r(l);else{var c=t.indexOf(l);a[s]=-1!==c?n[c]:e(l)}}return t.pop(),n.pop(),a}:function e(o){if("object"!=f(o)||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,e);if(o instanceof Map)return new Map(i(Array.from(o),e));if(o instanceof Set)return new Set(i(Array.from(o),e));var a={};for(var s in t.push(o),n.push(a),o)if(!1!==Object.hasOwnProperty.call(o,s)){var l=o[s];if("object"!=f(l)||null===l)a[s]=l;else if(l instanceof Date)a[s]=new Date(l);else if(l instanceof Map)a[s]=new Map(i(Array.from(l),e));else if(l instanceof Set)a[s]=new Set(i(Array.from(l),e));else if(ArrayBuffer.isView(l))a[s]=r(l);else{var c=t.indexOf(l);a[s]=-1!==c?n[c]:e(l)}}return t.pop(),n.pop(),a};function i(e,i){for(var o=Object.keys(e),a=new Array(o.length),s=0;s<o.length;s++){var l=o[s],c=e[l];if("object"!=f(c)||null===c)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(ArrayBuffer.isView(c))a[l]=r(c);else{var u=t.indexOf(c);a[l]=-1!==u?n[u]:i(c)}}return a}}(e):e.proto?function e(n){if("object"!=f(n)||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n){var a=n[o];"object"!=f(a)||null===a?i[o]=a:a instanceof Date?i[o]=new Date(a):a instanceof Map?i[o]=new Map(t(Array.from(a),e)):a instanceof Set?i[o]=new Set(t(Array.from(a),e)):ArrayBuffer.isView(a)?i[o]=r(a):i[o]=e(a)}return i}:function e(n){if("object"!=f(n)||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var i={};for(var o in n)if(!1!==Object.hasOwnProperty.call(n,o)){var a=n[o];"object"!=f(a)||null===a?i[o]=a:a instanceof Date?i[o]=new Date(a):a instanceof Map?i[o]=new Map(t(Array.from(a),e)):a instanceof Set?i[o]=new Set(t(Array.from(a),e)):ArrayBuffer.isView(a)?i[o]=r(a):i[o]=e(a)}return i};function t(e,t){for(var n=Object.keys(e),i=new Array(n.length),o=0;o<n.length;o++){var a=n[o],s=e[a];"object"!=f(s)||null===s?i[a]=s:s instanceof Date?i[a]=new Date(s):ArrayBuffer.isView(s)?i[a]=r(s):i[a]=t(s)}return i}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],73:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:17}],74:[function(e,t,r){t.exports=function(e){var t,r=e._readableState;return r?r.objectMode||"number"==typeof e._duplexState?e.read():e.read((t=r,t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length)):null}},{}],75:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":73}],76:[function(e,t,r){"use strict";var n=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=w,r.resolve=function(e,t){return w(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?w(e,!1,!0).resolveObject(t):t},r.format=function(e){return i.isString(e)&&(e=w(e)),e instanceof o?e.format():o.prototype.format.call(e)},r.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function w(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+f(e));var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var w=e=c.join(s);if(w=w.trim(),!r&&1===e.split("#").length){var k=l.exec(w);if(k)return this.path=w,this.href=w,this.pathname=k[1],k[2]?(this.search=k[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(w);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,w=w.substr(_.length)}if(r||_||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===w.substr(0,2);!x||_&&g[_]||(w=w.substr(2),this.slashes=!0)}if(!g[_]&&(x||_&&!y[_])){for(var T,I,C=-1,E=0;E<h.length;E++)-1!==(Z=w.indexOf(h[E]))&&(-1===C||Z<C)&&(C=Z);for(-1!==(I=-1===C?w.lastIndexOf("@"):w.lastIndexOf("@",C))&&(T=w.slice(0,I),w=w.slice(I+1),this.auth=decodeURIComponent(T)),C=-1,E=0;E<d.length;E++){var Z;-1!==(Z=w.indexOf(d[E]))&&(-1===C||Z<C)&&(C=Z)}-1===C&&(C=w.length),this.host=w.slice(0,C),w=w.slice(C),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var A=this.hostname.split(/\./),P=(E=0,A.length);E<P;E++){var M=A[E];if(M&&!M.match(p)){for(var O="",R=0,L=M.length;R<L;R++)M.charCodeAt(R)>127?O+="x":O+=M[R];if(!O.match(p)){var j=A.slice(0,E),z=A.slice(E+1),B=M.match(m);B&&(j.push(B[1]),z.unshift(B[2])),z.length&&(w="/"+z.join(".")+w),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+F,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!v[S])for(E=0,P=u.length;E<P;E++){var U=u[E];if(-1!==w.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),w=w.split(U).join(V)}}var N=w.indexOf("#");-1!==N&&(this.hash=w.substr(N),w=w.slice(0,N));var q=w.indexOf("?");if(-1!==q?(this.search=w.substr(q),this.query=w.substr(q+1),t&&(this.query=b.parse(this.query)),w=w.slice(0,q)):t&&(this.search="",this.query={}),w&&(this.pathname=w),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var H=this.search||"";this.path=F+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=w||b||r.host&&e.pathname,_=k,S=r.pathname&&r.pathname.split("/")||[],x=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),k=k&&(""===f[0]||""===S[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search))return x&&(r.hostname=r.host=S.shift(),(Z=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Z.shift(),r.host=r.hostname=Z.shift())),r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=S.slice(-1)[0],I=(r.host||e.host||S.length>1)&&("."===T||".."===T)||""===T,C=0,E=S.length;E>=0;E--)"."===(T=S[E])?S.splice(E,1):".."===T?(S.splice(E,1),C++):C&&(S.splice(E,1),C--);if(!k&&!_)for(;C--;C)S.unshift("..");!k||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),I&&"/"!==S.join("/").substr(-1)&&S.push("");var Z,D=""===S[0]||S[0]&&"/"===S[0].charAt(0);return x&&(r.hostname=r.host=D?"":S.length?S.shift():"",(Z=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Z.shift(),r.host=r.hostname=Z.shift())),(k=k||r.host&&S.length)&&!D&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":77,punycode:51,querystring:54}],77:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==f(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],78:[function(e,t,n){(function(e){(function(){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(e,t,r){t.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},{}],80:[function(e,t,r){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],82:[function(e,t,r){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=a().mark((function e(){var t;return a().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},{}],83:[function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var o=[];for(r=0;n&&r<t;r++)o.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),r=0;r<(arguments.length<=2?0:arguments.length-2);r++)n=i(this,n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e("./iterator.js")(n)}catch(e){}},{"./iterator.js":82}]},{},[12])(12)}))},9521:function(){},49125:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,r,n,i){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],i=e[c][2];for(var a=!0,s=0;s<r.length;s++)(!1&i||o>=i)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[s])}))?r.splice(s--,1):(a=!1,i<o&&(o=i));if(a){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,n,i]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,r){return __webpack_require__.f[r](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/about-legacy.52c605bd.js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue3-webpack5:";__webpack_require__.l=function(r,n,i,o){if(e[r])e[r].push(n);else{var a,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){a=u;break}}a||(s=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[n];var d=function(t,n){a.onerror=a.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){__webpack_require__.p="/osh-cloud/morpheusx-dev/"}(),function(){var e={2143:0,6400:0,9397:0,4133:0};__webpack_require__.f.j=function(t,r){var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else if(/^(4133|6400|9397)$/.test(t))e[t]=0;else{var i=new Promise((function(r,i){n=e[t]=[r,i]}));r.push(n[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error,s=function(r){if(__webpack_require__.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,n[1](a)}};__webpack_require__.l(o,s,"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,i,o=r[0],a=r[1],s=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(n in a)__webpack_require__.o(a,n)&&(__webpack_require__.m[n]=a[n]);if(s)var c=s(__webpack_require__)}for(t&&t(r);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(c)},r=self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__=__webpack_require__.O(void 0,[5099,8096,1731,3105,5443,345,846,5691,2104,5898,8380,3071,4004,3144,3750,3402,1738,2207,5885,1537,1836,2549,7795,7512,8945,9180,6568,752,6502,1473,5979,5571,227,6826,9096,798,2215,2402,6617,270,1882,3188,3347,8530,8850,7580,5079,5200,440,552,7090,4693,8038,7286,8440,3924,824,9504,7640,8778,9194,3935,8259,4853,9233,6183,382,2161,1282,3827,9989,2257,7105,9046,7886,1344,6458,4260,2868,9992,1531,8972,5714,2035,101,219,4536,6155,6122,3329,7218,1830,8689,1458,2757,1289,8416,6400,7678,2108,8214,2651,7476,9397,6352,7996,4398,7527,5562,2739,9111,1727,9859,2709,9749,468,2492,7035,1595,1686,2546,5014,899,5136,6452,6326,602,2154,5814,1571,3077,5647,2118,4771,1814,6095,9857,2918,7442,4133],(function(){return __webpack_require__(32903)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app-legacy.e030aea8.js.map