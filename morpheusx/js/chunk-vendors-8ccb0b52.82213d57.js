"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[8440],{74333:function(e,t,r){var n=r(82982),i=r(12572);function a(e,t,r){this._name=t.name,this._id=r,this._uniformMap=e._uniformMaps[r],this._technique=void 0,this._program=void 0,this._values=void 0}Object.defineProperties(a.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}}}),a.prototype.setValue=function(e,t){if(!(0,n.Z)(e))throw new i.Z("name is required.");var r="u_"+e,a=this._uniformMap.values[r];if(!(0,n.Z)(a))throw new i.Z("name must match a parameter name in the material's technique that is targetable and not optimized out.");a.value=a.clone(t,a.value)},a.prototype.getValue=function(e){if(!(0,n.Z)(e))throw new i.Z("name is required.");var t="u_"+e,r=this._uniformMap.values[t];if((0,n.Z)(r))return r.value},t["Z"]=a},55531:function(e,t){function r(e,t,r){for(var n=[],i=e.primitives,a=i.length,o=0;o<a;++o){var u=i[o];n[o]=t[u.material]}this._name=e.name,this._materials=n,this._id=r}Object.defineProperties(r.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},materials:{get:function(){return this._materials}}}),t["Z"]=r},10531:function(e,t,r){var n=r(72248);function i(e,t,r,i,a){this._model=e,this._runtimeNode=r,this._name=t.name,this._id=i,this.useMatrix=!1,this._show=!0,this._matrix=n.Z.clone(a),this._originalMatrix=n.Z.clone(a)}Object.defineProperties(i.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._model._perNodeShowDirty=!0)}},matrix:{get:function(){return this._matrix},set:function(e){this._matrix=n.Z.clone(e,this._matrix),this.useMatrix=!0;var t=this._model;t._cesiumAnimationsDirty=!0,this._runtimeNode.dirtyNumber=t._maxDirtyNumber}},originalMatrix:{get:function(){return this._originalMatrix}}}),i.prototype.setMatrix=function(e){n.Z.clone(e,this._matrix)},t["Z"]=i},32851:function(e,t,r){var n=r(82982),i=r(38443),a=r(20521),o=r(87721),u=r(8743),s=r(42246),f=r(80188),c=r(88453),l=r(56629),m=65534;function _(){}function v(e,t,r,i,a){var o,u=a.vertexCopies,s=a.extraVertices,f=a.outlineCoordinates,c=e.gltf,l=c.meshes[t],_=l.primitives[r],v=c.accessors,h=c.bufferViews;for(var p in _.attributes)if(_.attributes.hasOwnProperty(p)){var b=_.attributes[p],g=v[b];if((0,n.Z)(g)){o=g.count;break}}if((0,n.Z)(o)){var x,y=v[_.indices],E=h[y.bufferView],w=v[i],O=h[w.bufferView],A=e._loadResources,T=A.getBuffer(E),L=A.getBuffer(O),C=5123===y.componentType?new Uint16Array(T.buffer,T.byteOffset+y.byteOffset,y.count):new Uint32Array(T.buffer,T.byteOffset+y.byteOffset,y.count),M=5123===w.componentType?new Uint16Array(L.buffer,L.byteOffset+w.byteOffset,w.count):new Uint32Array(L.buffer,L.byteOffset+w.byteOffset,w.count),V=o,R=[V];for(x=0;x<M.length;x+=2){var S=M[x],I=M[x+1],N=Math.min(S,I),P=Math.max(S,I);R[N*V+P]=1}for(x=0;x<C.length;x+=3){var U=C[x],D=C[x+1],q=C[x+2],B=!1,F=B||d(R,U,D),k=B||d(R,D,q),W=B||d(R,q,U),z=Z(f,U,D,q,F,k,W);while(z>=0){var H;if(H=z===U?u[U]:z===D?u[D]:u[q],void 0===H){H=o+s.length;var K=z;while(K>=o)K=s[K-o];s.push(K),u[z]=H}H>m&&C instanceof Uint16Array&&(C=new Uint32Array(C),y.componentType=5125,E.buffer=c.buffers.push({byteLength:C.byteLength,extras:{_pipeline:{source:C.buffer}}})-1,E.byteLength=C.byteLength,E.byteOffset=0,e._loadResources.buffers[E.buffer]=new Uint8Array(C.buffer,0,C.byteLength),A.indexBuffersToCreate._array.forEach((function(e){e.id===y.bufferView&&(e.componentType=y.componentType)}))),z===U?(U=H,C[x]=H):z===D?(D=H,C[x+1]=H):(q=H,C[x+2]=H),(0,n.Z)(y.max)&&(y.max[0]=Math.max(y.max[0],H)),z=Z(f,U,D,q,F,k,W)}}}}function h(e,t,r,n,i){var a=3*t,o=e[a],u=e[a+1],s=e[a+2];return void 0===o?63:((o===r&&u===n&&s===i)<<0)+((o===r&&u===i&&s===n)<<1)+((o===n&&u===r&&s===i)<<2)+((o===n&&u===i&&s===r)<<3)+((o===i&&u===r&&s===n)<<4)+((o===i&&u===n&&s===r)<<5)}function p(e){return(1&e)+(e>>1&1)+(e>>2&1)+(e>>3&1)+(e>>4&1)+(e>>5&1)}function Z(e,t,r,n,i,a,o){var u=o?1:0,s=i?1:0,f=0,c=h(e,t,u,s,f);if(0===c)return t;var l=0,m=i?1:0,_=a?1:0,v=h(e,r,l,m,_);if(0===v)return r;var Z=o?1:0,d=0,b=a?1:0,g=h(e,n,Z,d,b);if(0===g)return n;var x,y,E,w=c&v&g;if(1&w)x=0,y=1,E=2;else if(2&w)x=0,E=1,y=2;else if(4&w)y=0,x=1,E=2;else if(8&w)y=0,E=1,x=2;else if(16&w)E=0,x=1,y=2;else{if(!(32&w)){var O=p(c),A=p(v),T=p(g);return O<A&&O<T?t:A<T?r:n}E=0,y=1,x=2}var L=3*t;e[L+x]=u,e[L+y]=s,e[L+E]=f;var C=3*r;e[C+x]=l,e[C+y]=m,e[C+E]=_;var M=3*n;return e[M+x]=Z,e[M+y]=d,e[M+E]=b,-1}function d(e,t,r){var n=e[0],i=Math.min(t,r)*n+Math.max(t,r);return 1===e[i]}function b(e){var t=new Uint8Array(e);return t[e-1]=192,8===e?t[e-1]=96:4===e?t[e-1]=48:2===e?t[e-1]=24:1===e&&(t[e-1]=12),t}function g(e,t){var r,n,i=e.gltf,a=e._loadResources;for(r=0;r<t.length;++r){var o=t[r],u=o.extras._pipeline.vertexNumberingScope;o.extras._pipeline.vertexNumberingScope=void 0;var s=u.extraVertices,f=a.getBuffer(o),c=o.byteStride||4,l=s.length,m=new Uint8Array(f.byteLength+l*c);for(m.set(f),n=0;n<l;++n)for(var _=s[n]*c,v=f.length+n*c,h=0;h<c;++h)m[v+h]=m[_+h];o.byteOffset=0,o.byteLength=m.byteLength;var p=i.buffers.push({byteLength:m.byteLength,extras:{_pipeline:{source:m.buffer}}})-1;o.buffer=p,a.buffers[p]=m;var Z=u.accessors;for(n=0;n<Z.length;++n){var d=Z[n];i.accessors[d].count+=l}if(!u.createdOutlines){var b=u.outlineCoordinates,g=new Float32Array(b),x=e.gltf.buffers.push({byteLength:g.byteLength,extras:{_pipeline:{source:g.buffer}}})-1;a.buffers[x]=new Uint8Array(g.buffer,0,g.byteLength);var y=e.gltf.bufferViews.push({buffer:x,byteLength:g.byteLength,byteOffset:0,byteStride:3*Float32Array.BYTES_PER_ELEMENT,target:34962})-1,E=e.gltf.accessors.push({bufferView:y,byteOffset:0,componentType:5126,count:g.length/3,type:"VEC3",min:[0,0,0],max:[1,1,1]})-1,w=u.primitives;for(n=0;n<w.length;++n)w[n].attributes._OUTLINE_COORDINATES=E;a.vertexBuffersToCreate.enqueue(y),u.createdOutlines=!0}}}function x(e){var t,r=e.gltf,n=e._loadResources;for(t=0;t<r.buffers.length;++t){var i=r.buffers[t],a=r.bufferViews.filter(y.bind(void 0,t)),o=a.reduce((function(e,t){return e+t.byteLength}),0);if(o!==i.byteLength){for(var u=new Uint8Array(o),s=0,f=0;f<a.length;++f){var c=a[f],l=n.getBuffer(c);u.set(l,s),c.byteOffset=s,s+=l.byteLength}n.buffers[t]=u,i.extras._pipeline.source=u.buffer,i.byteLength=o}}}function y(e,t){return t.buffer===e}function E(e,t){var r=t.attributes;if(void 0!==r){var i,a=e.gltf;for(var o in r)if(r.hasOwnProperty(o)){var u=r[o],s=a.accessors[u],f=s.bufferView,c=a.bufferViews[f];if((0,n.Z)(c.extras)||(c.extras={}),(0,n.Z)(c.extras._pipeline)||(c.extras._pipeline={}),(0,n.Z)(c.extras._pipeline.vertexNumberingScope)){if(void 0!==i&&c.extras._pipeline.vertexNumberingScope!==i)return}else c.extras._pipeline.vertexNumberingScope=i||{vertexCopies:[],extraVertices:[],outlineCoordinates:[],accessors:[],bufferViews:[],primitives:[],createdOutlines:!1};i=c.extras._pipeline.vertexNumberingScope,i.bufferViews.indexOf(c)<0&&i.bufferViews.push(c),i.accessors.indexOf(u)<0&&i.accessors.push(u)}return i.primitives.push(t),i}}_.hasExtension=function(e){return(0,n.Z)(e.extensionsRequired.CESIUM_primitive_outline)||(0,n.Z)(e.extensionsUsed.CESIUM_primitive_outline)},_.outlinePrimitives=function(e){if(_.hasExtension(e)){var t=e.gltf,r=[];l.Z.mesh(t,(function(t,i){l.Z.meshPrimitive(t,(function(t,a){if((0,n.Z)(t.extensions)){var o=t.extensions.CESIUM_primitive_outline;if((0,n.Z)(o)){var u=E(e,t);void 0!==u&&(r.indexOf(u)<0&&r.push(u),v(e,i,a,o.indices,u))}}}))}));for(var i=0;i<r.length;++i)g(e,r[i].bufferViews);x(e)}},_.createTexture=function(e,t){var r=t.cache.modelOutliningCache;if((0,n.Z)(r)||(r=t.cache.modelOutliningCache={}),(0,n.Z)(r.outlineTexture))return r.outlineTexture;var l=Math.min(4096,a.Z.maximumTextureSize),m=l,_=b(m),v=[];while(m>1)m>>=1,v.push(b(m));var h=new u.Z({context:t,source:{arrayBufferView:_,mipLevels:v},width:l,height:1,pixelFormat:i.Z.LUMINANCE,sampler:new o.Z({wrapS:c.Z.CLAMP_TO_EDGE,wrapT:c.Z.CLAMP_TO_EDGE,minificationFilter:f.Z.LINEAR_MIPMAP_LINEAR,magnificationFilter:s.Z.LINEAR})});return r.outlineTexture=h,h},t["Z"]=_},15322:function(e,t,r){var n=r(48243),i=r(60838),a=r(60216),o=r(63367),u=r(83856),s=r(82982),f=r(71171),c=r(68201),l=r(72248),m=r(87811),_=r(9407),v=r(52200),h=r(53642),p=r(9919),Z=r(56629),d=r(29745),b=r(77072),g=r(66577),x={updateForwardAxis:function(e){var t=e.gltf.extras.sourceVersion;((0,s.Z)(t)&&"2.0"!==t||"2.0"!==x.getAssetVersion(e.gltf))&&(e._gltfForwardAxis=g.Z.X)},getAssetVersion:function(e){return(0,s.Z)(e.asset)&&(0,s.Z)(e.asset.version)?e.asset.version:"1.0"},splitIncompatibleMaterials:function(e){var t=e.accessors,r=e.materials,n={};return Z.Z.mesh(e,(function(e){Z.Z.meshPrimitive(e,(function(e){var i,a,o=e.material,f=r[o],c=e.attributes.JOINTS_0;if((0,s.Z)(c)){var l=t[c];i=l.componentType,a=l.type}var m=(0,s.Z)(c)&&"VEC4"===a,_=(0,s.Z)(e.attributes.COLOR_0),v=(0,s.Z)(e.targets),h=(0,s.Z)(e.attributes.NORMAL),Z=(0,s.Z)(e.attributes.TANGENT),d=(0,s.Z)(e.attributes.TEXCOORD_0),b=d&&(0,s.Z)(e.attributes.TEXCOORD_1),g=(0,s.Z)(e.extensions)&&(0,s.Z)(e.extensions.CESIUM_primitive_outline),x=n[o];if((0,s.Z)(x)){if(x.skinning.skinned!==m||x.hasVertexColors!==_||x.hasMorphTargets!==v||x.hasNormals!==h||x.hasTangents!==Z||x.hasTexCoords!==d||x.hasTexCoord1!==b||x.hasOutline!==g){var y=(0,u.Z)(f,!0);o=(0,p.Z)(r,y),e.material=o,n[o]={skinning:{skinned:m,componentType:i},hasVertexColors:_,hasMorphTargets:v,hasNormals:h,hasTangents:Z,hasTexCoords:d,hasTexCoord1:b,hasOutline:g}}}else n[o]={skinning:{skinned:m,componentType:i},hasVertexColors:_,hasMorphTargets:v,hasNormals:h,hasTangents:Z,hasTexCoords:d,hasTexCoord1:b,hasOutline:g}}))})),n},getShaderVariable:function(e){return"SCALAR"===e?"float":e.toLowerCase()},ModelState:{NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3},getFailedLoadFunction:function(e,t,r){return function(n){e._state=x.ModelState.FAILED;var i="Failed to load "+t+": "+r;(0,s.Z)(n)&&(i+="\n"+n.message),e._readyPromise.reject(new _.Z(i))}},parseBuffers:function(e,t){var r=e._loadResources;Z.Z.buffer(e.gltf,(function(n,i){if((0,s.Z)(n.extras._pipeline.source))r.buffers[i]=n.extras._pipeline.source;else if((0,s.Z)(t)){var a=e._resource.getDerivedResource({url:n.uri});++r.pendingBufferLoads,a.fetchArrayBuffer().then(t(e,i)).otherwise(x.getFailedLoadFunction(e,"buffer",a.url))}}))}},y=new a.Z,E=new a.Z;function w(e,t){return Z.Z.techniqueAttribute(e,(function(e,r){if(e.semantic===t)return r}))}function O(e,t){var r=e.accessors,n=e.materials,i=e.extensions.KHR_techniques_webgl,a=i.techniques,o=i.programs,u=i.shaders,f=t.targets,c=t.attributes;for(var l in f)if(f.hasOwnProperty(l)){var m=f[l];for(var _ in m)"extras"!==_&&(c[_+"_"+l]=m[_])}var v=n[t.material],h=a[v.extensions.KHR_techniques_webgl.technique],p=o[h.program],Z=u[p.vertexShader];for(var d in c)if(c.hasOwnProperty(d)&&!(0,s.Z)(w(h,d))){var b=c[d],g=r[b],y=d.toLowerCase();"_"===y.charAt(0)&&(y=y.slice(1));var E="a_"+y;h.attributes[E]={semantic:d,type:g.componentType};var O=Z.extras._pipeline,A=O.source;A="attribute "+x.getShaderVariable(g.type)+" "+E+";\n"+A,O.source=A}}function A(e,t,r,n){return(0,d.Z)(e,"KHR_techniques_webgl")?function(e,t){if(e.semantic===r&&(!n||!(0,s.Z)(e.node)))return t}:function(e,i){var a=t.parameters[e];if(a.semantic===r&&(!n||!(0,s.Z)(a.node)))return i}}x.computeBoundingSphere=function(e){for(var t=e.gltf,r=t.nodes,i=t.meshes,o=t.scenes[t.scene].nodes,u=o.length,f=[],c=new a.Z(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),m=new a.Z(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),_=0;_<u;++_){var v=r[o[_]];v._transformToRoot=x.getTransform(v),f.push(v);while(f.length>0){v=f.pop();var h=v._transformToRoot,p=v.mesh;if((0,s.Z)(p))for(var Z=i[p],d=Z.primitives,b=d.length,w=0;w<b;++w){var O=d[w].attributes.POSITION;if((0,s.Z)(O)){var A=x.getAccessorMinMax(t,O);if((0,s.Z)(A.min)&&(0,s.Z)(A.max)){var T=a.Z.fromArray(A.min,0,y),L=a.Z.fromArray(A.max,0,E);l.Z.multiplyByPoint(h,T,T),l.Z.multiplyByPoint(h,L,L),a.Z.minimumByComponent(c,T,c),a.Z.maximumByComponent(m,L,m)}}}var C=v.children;if((0,s.Z)(C))for(var M=C.length,V=0;V<M;++V){var R=r[C[V]];R._transformToRoot=x.getTransform(R),l.Z.multiplyTransformation(h,R._transformToRoot,R._transformToRoot),f.push(R)}delete v._transformToRoot}}var S=n.Z.fromCornerPoints(c,m);return e._forwardAxis===g.Z.Z&&n.Z.transformWithoutScale(S,g.Z.Z_UP_TO_X_UP,S),e._upAxis===g.Z.Y?n.Z.transformWithoutScale(S,g.Z.Y_UP_TO_Z_UP,S):e._upAxis===g.Z.X&&n.Z.transformWithoutScale(S,g.Z.X_UP_TO_Z_UP,S),S},x.ensureSemanticExistence=function(e){return Z.Z.mesh(e,(function(t){Z.Z.meshPrimitive(t,(function(t){O(e,t)}))})),e},x.createAttributeLocations=function(e,t){var r={},n=!1,i=1;if(Z.Z.techniqueAttribute(e,(function(e,t){/pos/i.test(t)&&!n?(r[t]=0,n=!0):r[t]=i++})),(0,s.Z)(t))for(var a in t)t.hasOwnProperty(a)&&(r[a]=i++);return r},x.getAccessorMinMax=function(e,t){var r=e.accessors[t],n=r.extensions,i=r.min,a=r.max;if((0,s.Z)(n)){var o=n.WEB3D_quantized_attributes;(0,s.Z)(o)&&(i=o.decodedMin,a=o.decodedMax)}return{min:i,max:a}},x.getAttributeOrUniformBySemantic=function(e,t,r,n){return Z.Z.technique(e,(function(i){if(!(0,s.Z)(r)||i.program===r){var a=Z.Z.techniqueAttribute(i,A(e,i,t,n));return(0,s.Z)(a)?a:Z.Z.techniqueUniform(i,A(e,i,t,n))}}))},x.getDiffuseAttributeOrUniform=function(e,t){var r=x.getAttributeOrUniformBySemantic(e,"COLOR_0",t);return(0,s.Z)(r)||(r=x.getAttributeOrUniformBySemantic(e,"_3DTILESDIFFUSE",t)),r};var T=new a.Z,L=new m.Z,C=new a.Z;function M(e,t,r){t+="(?!\\w)",t=new RegExp(t,"g");var n=e.search(t);return e.replace(t,(function(e,t){return n===t?e:r}))}function V(e,t){var r=e.accessors[t],n=r.extensions;if((0,s.Z)(n))return n.WEB3D_quantized_attributes}function R(e,t,r){var n=t.material,i=e.materials[n];if((0,d.Z)(e,"KHR_techniques_webgl")&&(0,s.Z)(i.extensions)&&(0,s.Z)(i.extensions.KHR_techniques_webgl)){var a=i.extensions.KHR_techniques_webgl.technique,o=e.extensions.KHR_techniques_webgl,u=o.techniques[a];return Z.Z.techniqueAttribute(u,(function(e,t){var n=e.semantic;if(n===r)return t}))}}function S(e){var t={value:e,clone:function(e,t){return e},func:function(){return t.value}};return t}function I(e){var t={value:i.Z.fromArray(e),clone:i.Z.clone,func:function(){return t.value}};return t}function N(e){var t={value:a.Z.fromArray(e),clone:a.Z.clone,func:function(){return t.value}};return t}function P(e){var t={value:o.Z.fromArray(e),clone:o.Z.clone,func:function(){return t.value}};return t}function U(e){var t={value:f.Z.fromColumnMajorArray(e),clone:f.Z.clone,func:function(){return t.value}};return t}function D(e){var t={value:c.Z.fromColumnMajorArray(e),clone:c.Z.clone,func:function(){return t.value}};return t}function q(e){var t={value:l.Z.fromColumnMajorArray(e),clone:l.Z.clone,func:function(){return t.value}};return t}function B(e,t,r){this._value=void 0,this._textureId=e.index,this._textures=t,this._defaultTexture=r}function F(e,t,r){var n=new B(e,t,r);return n.func=function(){return n.value},n}x.getTransform=function(e,t){return(0,s.Z)(e.matrix)?l.Z.fromColumnMajorArray(e.matrix,t):l.Z.fromTranslationQuaternionRotationScale(a.Z.fromArray(e.translation,0,T),m.Z.unpack(e.rotation,0,L),a.Z.fromArray(e.scale,0,C),t)},x.getUsedExtensions=function(e){var t=e.extensionsUsed,r={};if((0,s.Z)(t))for(var n=t.length,i=0;i<n;i++){var a=t[i];r[a]=!0}return r},x.getRequiredExtensions=function(e){var t=e.extensionsRequired,r={};if((0,s.Z)(t))for(var n=t.length,i=0;i<n;i++){var a=t[i];r[a]=!0}return r},x.supportedExtensions={AGI_articulations:!0,CESIUM_RTC:!0,EXT_texture_webp:!0,KHR_blend:!0,KHR_binary_glTF:!0,KHR_texture_basisu:!0,KHR_draco_mesh_compression:!0,KHR_materials_common:!0,KHR_techniques_webgl:!0,KHR_materials_unlit:!0,KHR_materials_pbrSpecularGlossiness:!0,KHR_texture_transform:!0,WEB3D_quantized_attributes:!0},x.checkSupportedExtensions=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){if(!x.supportedExtensions[r])throw new _.Z("Unsupported glTF Extension: "+r);if("EXT_texture_webp"===r&&!1===t)throw new _.Z("Loaded model requires WebP but browser does not support it.")}},x.checkSupportedGlExtensions=function(e,t){if((0,s.Z)(e))for(var r=e.length,n=0;n<r;n++){var i=e[n];if("OES_element_index_uint"!==i)throw new _.Z("Unsupported WebGL Extension: "+i);if(!t.elementIndexUint)throw new _.Z("OES_element_index_uint WebGL extension is not enabled.")}},x.modifyShaderForDracoQuantizedAttributes=function(e,t,r,n){var i={};for(var a in n)if(n.hasOwnProperty(a)){var o=n[a],u=o.quantization;if(!(0,s.Z)(u))continue;var f=R(e,t,a);"_"===a.charAt(0)&&(a=a.substring(1));var c="gltf_u_dec_"+a.toLowerCase();if(!(0,s.Z)(i[c])){var l,m="gltf_decoded_"+a,_=f.replace("a_","gltf_a_dec_"),v=o.componentsPerAttribute;r=M(r,f,_),l=u.octEncoded?"vec3":v>1?"vec"+v:"float",r=l+" "+_+";\n"+r;var p=3===v&&"COLOR_0"===a;p&&(r=M(r,_,"vec4("+_+", 1.0)"));var Z="";if(u.octEncoded){var d=c+"_rangeConstant";r="uniform float "+d+";\n"+r,Z="\nvoid main() {\n    "+_+" = czm_octDecode("+f+".xy, "+d+").zxy;\n    "+m+"();\n}\n"}else{var b=c+"_normConstant",g=c+"_min";r="uniform float "+b+";\nuniform "+l+" "+g+";\n"+r;var x=p?".xyz":"";Z="\nvoid main() {\n    "+_+" = "+g+" + "+f+x+" * "+b+";\n    "+m+"();\n}\n"}r=h.Z.replaceMain(r,m),r+=Z}}return{shader:r}},x.modifyShaderForQuantizedAttributes=function(e,t,r){var n={},i=t.attributes;for(var a in i)if(i.hasOwnProperty(a)){var o=R(e,t,a),u=t.attributes[a];"_"===a.charAt(0)&&(a=a.substring(1));var f="gltf_u_dec_"+a.toLowerCase(),c=f+"_scale",l=f+"_translate";if(!(0,s.Z)(n[f])&&!(0,s.Z)(n[c])){var m=V(e,u);if((0,s.Z)(m)){var _,v=m.decodeMatrix,p="gltf_decoded_"+a,Z=o.replace("a_","gltf_a_dec_"),d=Math.floor(Math.sqrt(v.length));r=M(r,o,Z),_=d>2?"vec"+(d-1):"float",r=_+" "+Z+";\n"+r;var b="";5===d?(r="uniform mat4 "+c+";\n"+r,r="uniform vec4 "+l+";\n"+r,b="\nvoid main() {\n    "+Z+" = "+c+" * "+o+" + "+l+";\n    "+p+"();\n}\n",n[c]={mat:4},n[l]={vec:4}):(r="uniform mat"+d+" "+f+";\n"+r,b="\nvoid main() {\n    "+Z+" = "+_+"("+f+" * vec"+d+"("+o+",1.0));\n    "+p+"();\n}\n",n[f]={mat:d}),r=h.Z.replaceMain(r,p),r+=b}}}return{shader:r,uniforms:n}},Object.defineProperties(B.prototype,{value:{get:function(){if(!(0,s.Z)(this._value)){var e=this._textures[this._textureId];if(!(0,s.Z)(e))return this._defaultTexture;this._value=e}return this._value},set:function(e){this._value=e}}}),B.prototype.clone=function(e){return e},B.prototype.func=void 0;var k={};function W(e){return[e[0],e[1],e[2],e[3],e[5],e[6],e[7],e[8],e[10],e[11],e[12],e[13],e[15],e[16],e[17],e[18]]}function z(e){return[e[20],e[21],e[22],e[23]]}k[v.Z.FLOAT]=S,k[v.Z.FLOAT_VEC2]=I,k[v.Z.FLOAT_VEC3]=N,k[v.Z.FLOAT_VEC4]=P,k[v.Z.INT]=S,k[v.Z.INT_VEC2]=I,k[v.Z.INT_VEC3]=N,k[v.Z.INT_VEC4]=P,k[v.Z.BOOL]=S,k[v.Z.BOOL_VEC2]=I,k[v.Z.BOOL_VEC3]=N,k[v.Z.BOOL_VEC4]=P,k[v.Z.FLOAT_MAT2]=U,k[v.Z.FLOAT_MAT3]=D,k[v.Z.FLOAT_MAT4]=q,k[v.Z.SAMPLER_2D]=F,x.createUniformFunction=function(e,t,r,n){return k[e](t,r,n)},x.createUniformsForDracoQuantizedAttributes=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r],i=n.quantization;if(!(0,s.Z)(i))continue;"_"===r.charAt(0)&&(r=r.substring(1));var a="gltf_u_dec_"+r.toLowerCase();if(i.octEncoded){var o=a+"_rangeConstant",u=(1<<i.quantizationBits)-1;t[o]=S(u).func;continue}var f=a+"_normConstant",c=i.range/(1<<i.quantizationBits);t[f]=S(c).func;var l=a+"_min";switch(n.componentsPerAttribute){case 1:t[l]=S(i.minValues).func;break;case 2:t[l]=I(i.minValues).func;break;case 3:t[l]=N(i.minValues).func;break;case 4:t[l]=P(i.minValues).func;break}}return t},x.createUniformsForQuantizedAttributes=function(e,t,r){var n=e.accessors,i={},a={},o=t.attributes;for(var u in o)if(o.hasOwnProperty(u)){var m=o[u],_=n[m],v=_.extensions;if("_"===u.charAt(0)&&(u=u.substring(1)),(0,s.Z)(v)){var h=v.WEB3D_quantized_attributes;if((0,s.Z)(h)){var p=h.decodeMatrix,Z="gltf_u_dec_"+u.toLowerCase();switch(_.type){case b.Z.SCALAR:a[Z]=U(p).func,i[Z]=!0;break;case b.Z.VEC2:a[Z]=D(p).func,i[Z]=!0;break;case b.Z.VEC3:a[Z]=q(p).func,i[Z]=!0;break;case b.Z.VEC4:var d=Z+"_scale",g=Z+"_translate";a[d]=q(W(p)).func,a[g]=P(z(p)).func,i[d]=!0,i[g]=!0;break}}}}for(var x in r)if(r.hasOwnProperty(x)&&!i[x]){var y=r[x];(0,s.Z)(y.mat)&&(2===y.mat?a[x]=U(f.Z.IDENTITY).func:3===y.mat?a[x]=D(c.Z.IDENTITY).func:4===y.mat&&(a[x]=q(l.Z.IDENTITY).func)),(0,s.Z)(y.vec)&&4===y.vec&&(a[x]=P([0,0,0,0]).func)}return a};var H=new a.Z,K={MODEL:function(e,t){return function(){return e.model}},VIEW:function(e,t){return function(){return e.view}},PROJECTION:function(e,t){return function(){return e.projection}},MODELVIEW:function(e,t){return function(){return e.modelView}},CESIUM_RTC_MODELVIEW:function(e,t){var r=new l.Z;return function(){return(0,s.Z)(t._rtcCenter)?(l.Z.getTranslation(e.model,H),a.Z.add(H,t._rtcCenter,H),l.Z.multiplyByPoint(e.view,H,H),l.Z.setTranslation(e.modelView,H,r)):e.modelView}},MODELVIEWPROJECTION:function(e,t){return function(){return e.modelViewProjection}},MODELINVERSE:function(e,t){return function(){return e.inverseModel}},VIEWINVERSE:function(e,t){return function(){return e.inverseView}},PROJECTIONINVERSE:function(e,t){return function(){return e.inverseProjection}},MODELVIEWINVERSE:function(e,t){return function(){return e.inverseModelView}},MODELVIEWPROJECTIONINVERSE:function(e,t){return function(){return e.inverseModelViewProjection}},MODELINVERSETRANSPOSE:function(e,t){return function(){return e.inverseTransposeModel}},MODELVIEWINVERSETRANSPOSE:function(e,t){return function(){return e.normal}},VIEWPORT:function(e,t){return function(){return e.viewportCartesian4}}};x.getGltfSemanticUniforms=function(){return K},t["Z"]=x}}]);
//# sourceMappingURL=chunk-vendors-8ccb0b52.82213d57.js.map