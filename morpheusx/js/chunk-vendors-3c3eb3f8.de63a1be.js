"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[5079],{56629:function(e,t,n){var i=n(29745),r=n(82982);function o(){}o.objectLegacy=function(e,t){if((0,r.Z)(e))for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],o=t(i,n);if((0,r.Z)(o))return o}},o.object=function(e,t){if((0,r.Z)(e)){const n=e.length;for(let i=0;i<n;i++){const n=e[i],o=t(n,i);if((0,r.Z)(o))return o}}},o.topLevel=function(e,t,n){const i=e[t];return(0,r.Z)(i)&&!Array.isArray(i)?o.objectLegacy(i,n):o.object(i,n)},o.accessor=function(e,t){return o.topLevel(e,"accessors",t)},o.accessorWithSemantic=function(e,t,n){const i={};return o.mesh(e,(function(e){return o.meshPrimitive(e,(function(e){const s=o.meshPrimitiveAttribute(e,(function(e,o){if(0===o.indexOf(t)&&!(0,r.Z)(i[e])){i[e]=!0;const t=n(e);if((0,r.Z)(t))return t}}));return(0,r.Z)(s)?s:o.meshPrimitiveTarget(e,(function(e){return o.meshPrimitiveTargetAttribute(e,(function(e,o){if(0===o.indexOf(t)&&!(0,r.Z)(i[e])){i[e]=!0;const t=n(e);if((0,r.Z)(t))return t}}))}))}))}))},o.accessorContainingVertexAttributeData=function(e,t){const n={};return o.mesh(e,(function(e){return o.meshPrimitive(e,(function(e){const i=o.meshPrimitiveAttribute(e,(function(e){if(!(0,r.Z)(n[e])){n[e]=!0;const i=t(e);if((0,r.Z)(i))return i}}));return(0,r.Z)(i)?i:o.meshPrimitiveTarget(e,(function(e){return o.meshPrimitiveTargetAttribute(e,(function(e){if(!(0,r.Z)(n[e])){n[e]=!0;const i=t(e);if((0,r.Z)(i))return i}}))}))}))}))},o.accessorContainingIndexData=function(e,t){const n={};return o.mesh(e,(function(e){return o.meshPrimitive(e,(function(e){const i=e.indices;if((0,r.Z)(i)&&!(0,r.Z)(n[i])){n[i]=!0;const e=t(i);if((0,r.Z)(e))return e}}))}))},o.animation=function(e,t){return o.topLevel(e,"animations",t)},o.animationChannel=function(e,t){const n=e.channels;return o.object(n,t)},o.animationSampler=function(e,t){const n=e.samplers;return o.object(n,t)},o.buffer=function(e,t){return o.topLevel(e,"buffers",t)},o.bufferView=function(e,t){return o.topLevel(e,"bufferViews",t)},o.camera=function(e,t){return o.topLevel(e,"cameras",t)},o.image=function(e,t){return o.topLevel(e,"images",t)},o.material=function(e,t){return o.topLevel(e,"materials",t)},o.materialValue=function(e,t){let n=e.values;(0,r.Z)(e.extensions)&&(0,r.Z)(e.extensions.KHR_techniques_webgl)&&(n=e.extensions.KHR_techniques_webgl.values);for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if((0,r.Z)(e))return e}},o.mesh=function(e,t){return o.topLevel(e,"meshes",t)},o.meshPrimitive=function(e,t){const n=e.primitives;if((0,r.Z)(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i],o=t(e,i);if((0,r.Z)(o))return o}}},o.meshPrimitiveAttribute=function(e,t){const n=e.attributes;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if((0,r.Z)(e))return e}},o.meshPrimitiveTarget=function(e,t){const n=e.targets;if((0,r.Z)(n)){const e=n.length;for(let i=0;i<e;++i){const e=t(n[i],i);if((0,r.Z)(e))return e}}},o.meshPrimitiveTargetAttribute=function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],o=t(i,n);if((0,r.Z)(o))return o}},o.node=function(e,t){return o.topLevel(e,"nodes",t)},o.nodeInTree=function(e,t,n){const i=e.nodes;if((0,r.Z)(i)){const s=t.length;for(let a=0;a<s;a++){const s=t[a],c=i[s];if((0,r.Z)(c)){let t=n(c,s);if((0,r.Z)(t))return t;const i=c.children;if((0,r.Z)(i)&&(t=o.nodeInTree(e,i,n),(0,r.Z)(t)))return t}}}},o.nodeInScene=function(e,t,n){const i=t.nodes;if((0,r.Z)(i))return o.nodeInTree(e,i,n)},o.program=function(e,t){return(0,i.Z)(e,"KHR_techniques_webgl")?o.object(e.extensions.KHR_techniques_webgl.programs,t):o.topLevel(e,"programs",t)},o.sampler=function(e,t){return o.topLevel(e,"samplers",t)},o.scene=function(e,t){return o.topLevel(e,"scenes",t)},o.shader=function(e,t){return(0,i.Z)(e,"KHR_techniques_webgl")?o.object(e.extensions.KHR_techniques_webgl.shaders,t):o.topLevel(e,"shaders",t)},o.skin=function(e,t){return o.topLevel(e,"skins",t)},o.skinJoint=function(e,t){const n=e.joints;if((0,r.Z)(n)){const e=n.length;for(let i=0;i<e;i++){const e=n[i],o=t(e);if((0,r.Z)(o))return o}}},o.techniqueAttribute=function(e,t){const n=e.attributes;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if((0,r.Z)(e))return e}},o.techniqueUniform=function(e,t){const n=e.uniforms;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if((0,r.Z)(e))return e}},o.techniqueParameter=function(e,t){const n=e.parameters;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=t(n[i],i);if((0,r.Z)(e))return e}},o.technique=function(e,t){return(0,i.Z)(e,"KHR_techniques_webgl")?o.object(e.extensions.KHR_techniques_webgl.techniques,t):o.topLevel(e,"techniques",t)},o.texture=function(e,t){return o.topLevel(e,"textures",t)},t["Z"]=o},99461:function(e,t,n){var i=n(9919);function r(e,t){const n={byteLength:t.length,extras:{_pipeline:{source:t}}},r=(0,i.Z)(e.buffers,n),o={buffer:r,byteOffset:0,byteLength:t.length};return(0,i.Z)(e.bufferViews,o)}t["Z"]=r},32550:function(e,t,n){var i=n(9919),r=n(56629),o=n(93224),s=n(62200),a=n(82982),c=n(52200);function u(e){r.Z.accessor(e,(function(e){(0,a.Z)(e.bufferView)&&(e.byteOffset=(0,s.Z)(e.byteOffset,0))})),r.Z.bufferView(e,(function(e){(0,a.Z)(e.buffer)&&(e.byteOffset=(0,s.Z)(e.byteOffset,0))})),r.Z.mesh(e,(function(t){r.Z.meshPrimitive(t,(function(t){if(t.mode=(0,s.Z)(t.mode,c.Z.TRIANGLES),!(0,a.Z)(t.material)){(0,a.Z)(e.materials)||(e.materials=[]);const n={name:"default"};t.material=(0,i.Z)(e.materials,n)}}))})),r.Z.accessorContainingVertexAttributeData(e,(function(t){const n=e.accessors[t],i=n.bufferView;if(n.normalized=(0,s.Z)(n.normalized,!1),(0,a.Z)(i)){const t=e.bufferViews[i];t.byteStride=(0,o.Z)(e,n),t.target=c.Z.ARRAY_BUFFER}})),r.Z.accessorContainingIndexData(e,(function(t){const n=e.accessors[t],i=n.bufferView;if((0,a.Z)(i)){const t=e.bufferViews[i];t.target=c.Z.ELEMENT_ARRAY_BUFFER}})),r.Z.material(e,(function(e){const t=(0,s.Z)(e.extensions,s.Z.EMPTY_OBJECT),n=t.KHR_materials_common;if((0,a.Z)(n)){const e=n.technique,t=(0,a.Z)(n.values)?n.values:{};return n.values=t,t.ambient=(0,a.Z)(t.ambient)?t.ambient:[0,0,0,1],t.emission=(0,a.Z)(t.emission)?t.emission:[0,0,0,1],t.transparency=(0,s.Z)(t.transparency,1),t.transparent=(0,s.Z)(t.transparent,!1),t.doubleSided=(0,s.Z)(t.doubleSided,!1),void("CONSTANT"!==e&&(t.diffuse=(0,a.Z)(t.diffuse)?t.diffuse:[0,0,0,1],"LAMBERT"!==e&&(t.specular=(0,a.Z)(t.specular)?t.specular:[0,0,0,1],t.shininess=(0,s.Z)(t.shininess,0))))}e.emissiveFactor=(0,s.Z)(e.emissiveFactor,[0,0,0]),e.alphaMode=(0,s.Z)(e.alphaMode,"OPAQUE"),e.doubleSided=(0,s.Z)(e.doubleSided,!1),"MASK"===e.alphaMode&&(e.alphaCutoff=(0,s.Z)(e.alphaCutoff,.5));const i=t.KHR_techniques_webgl;(0,a.Z)(i)&&r.Z.materialValue(e,(function(e){(0,a.Z)(e.index)&&l(e)})),l(e.emissiveTexture),l(e.normalTexture),l(e.occlusionTexture);const o=e.pbrMetallicRoughness;(0,a.Z)(o)&&(o.baseColorFactor=(0,s.Z)(o.baseColorFactor,[1,1,1,1]),o.metallicFactor=(0,s.Z)(o.metallicFactor,1),o.roughnessFactor=(0,s.Z)(o.roughnessFactor,1),l(o.baseColorTexture),l(o.metallicRoughnessTexture));const c=t.KHR_materials_pbrSpecularGlossiness;(0,a.Z)(c)&&(c.diffuseFactor=(0,s.Z)(c.diffuseFactor,[1,1,1,1]),c.specularFactor=(0,s.Z)(c.specularFactor,[1,1,1]),c.glossinessFactor=(0,s.Z)(c.glossinessFactor,1),l(c.specularGlossinessTexture))})),r.Z.animation(e,(function(e){r.Z.animationSampler(e,(function(e){e.interpolation=(0,s.Z)(e.interpolation,"LINEAR")}))}));const t=f(e);return r.Z.node(e,(function(e,n){const i=(0,a.Z)(t[n]);i||(0,a.Z)(e.translation)||(0,a.Z)(e.rotation)||(0,a.Z)(e.scale)?(e.translation=(0,s.Z)(e.translation,[0,0,0]),e.rotation=(0,s.Z)(e.rotation,[0,0,0,1]),e.scale=(0,s.Z)(e.scale,[1,1,1])):e.matrix=(0,s.Z)(e.matrix,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])})),r.Z.sampler(e,(function(e){e.wrapS=(0,s.Z)(e.wrapS,c.Z.REPEAT),e.wrapT=(0,s.Z)(e.wrapT,c.Z.REPEAT)})),(0,a.Z)(e.scenes)&&!(0,a.Z)(e.scene)&&(e.scene=0),e}function f(e){const t={};return r.Z.animation(e,(function(e){r.Z.animationChannel(e,(function(e){const n=e.target,i=n.node,r=n.path;"translation"!==r&&"rotation"!==r&&"scale"!==r||(t[i]=!0)}))})),t}function l(e){(0,a.Z)(e)&&(e.texCoord=(0,s.Z)(e.texCoord,0))}t["Z"]=u},35094:function(e,t,n){var i=n(75954),r=n(9919),o=n(82982);function s(e,t){let n=e.extensionsRequired;(0,o.Z)(n)||(n=[],e.extensionsRequired=n),(0,r.Z)(n,t,!0),(0,i.Z)(e,t)}t["Z"]=s},75954:function(e,t,n){var i=n(9919),r=n(82982);function o(e,t){let n=e.extensionsUsed;(0,r.Z)(n)||(n=[],e.extensionsUsed=n),(0,i.Z)(n,t,!0)}t["Z"]=o},93410:function(e,t,n){var i=n(56629),r=n(82982);function o(e){return i.Z.shader(e,(function(e){s(e)})),i.Z.buffer(e,(function(e){s(e)})),i.Z.image(e,(function(e){s(e)})),s(e),e}function s(e){e.extras=(0,r.Z)(e.extras)?e.extras:{},e.extras._pipeline=(0,r.Z)(e.extras._pipeline)?e.extras._pipeline:{}}t["Z"]=o},9919:function(e,t,n){var i=n(62200);function r(e,t,n){if(n=(0,i.Z)(n,!1),n){const n=e.indexOf(t);if(n>-1)return n}return e.push(t),e.length-1}t["Z"]=r},77324:function(e,t,n){var i=n(93224),r=n(2378),o=n(26806),s=n(23401),a=n(84828),c=n(82982);function u(e,t){const n=e.bufferViews,u=e.buffers,f=t.bufferView,l=(0,o.Z)(t.type);if(!(0,c.Z)(t.bufferView))return{min:(0,s.Z)(new Array(l),0),max:(0,s.Z)(new Array(l),0)};const Z=(0,s.Z)(new Array(l),Number.POSITIVE_INFINITY),h=(0,s.Z)(new Array(l),Number.NEGATIVE_INFINITY),d=n[f],m=d.buffer,p=u[m],_=p.extras._pipeline.source,g=t.count,y=(0,i.Z)(e,t);let b=t.byteOffset+d.byteOffset+_.byteOffset;const v=t.componentType,x=a.Z.getSizeInBytes(v),w=new DataView(_.buffer),O=new Array(l),T=(0,r.Z)(v);for(let i=0;i<g;i++){T(w,b,l,x,O);for(let e=0;e<l;e++){const t=O[e];Z[e]=Math.min(Z[e],t),h[e]=Math.max(h[e],t)}b+=y}return{min:Z,max:h}}t["Z"]=u},11072:function(e,t,n){var i=n(56629),r=n(66553),o=n(82982);function s(e,t){r.Z.typeOf.object("material",e),r.Z.defined("handler",t);const n=e.pbrMetallicRoughness;if((0,o.Z)(n)){if((0,o.Z)(n.baseColorTexture)){const e=n.baseColorTexture,i=t(e.index,e);if((0,o.Z)(i))return i}if((0,o.Z)(n.metallicRoughnessTexture)){const e=n.metallicRoughnessTexture,i=t(e.index,e);if((0,o.Z)(i))return i}}if((0,o.Z)(e.extensions)){const n=e.extensions.KHR_materials_pbrSpecularGlossiness;if((0,o.Z)(n)){if((0,o.Z)(n.diffuseTexture)){const e=n.diffuseTexture,i=t(e.index,e);if((0,o.Z)(i))return i}if((0,o.Z)(n.specularGlossinessTexture)){const e=n.specularGlossinessTexture,i=t(e.index,e);if((0,o.Z)(i))return i}}const i=e.extensions.KHR_materials_common;if((0,o.Z)(i)){const e=i.values.diffuse,n=i.values.ambient,r=i.values.emission,s=i.values.specular;if((0,o.Z)(e)&&(0,o.Z)(e.index)){const n=t(e.index,e);if((0,o.Z)(n))return n}if((0,o.Z)(n)&&(0,o.Z)(n.index)){const e=t(n.index,n);if((0,o.Z)(e))return e}if((0,o.Z)(r)&&(0,o.Z)(r.index)){const e=t(r.index,r);if((0,o.Z)(e))return e}if((0,o.Z)(s)&&(0,o.Z)(s.index)){const e=t(s.index,s);if((0,o.Z)(e))return e}}}const s=i.Z.materialValue(e,(function(e){if((0,o.Z)(e.index)){const n=t(e.index,e);if((0,o.Z)(n))return n}}));if((0,o.Z)(s))return s;if((0,o.Z)(e.emissiveTexture)){const n=e.emissiveTexture,i=t(n.index,n);if((0,o.Z)(i))return i}if((0,o.Z)(e.normalTexture)){const n=e.normalTexture,i=t(n.index,n);if((0,o.Z)(i))return i}if((0,o.Z)(e.occlusionTexture)){const n=e.occlusionTexture,i=t(n.index,n);if((0,o.Z)(i))return i}}t["Z"]=s},93224:function(e,t,n){var i=n(26806),r=n(84828),o=n(82982);function s(e,t){const n=t.bufferView;if((0,o.Z)(n)){const t=e.bufferViews[n];if((0,o.Z)(t.byteStride)&&t.byteStride>0)return t.byteStride}return r.Z.getSizeInBytes(t.componentType)*(0,i.Z)(t.type)}t["Z"]=s},2378:function(e,t,n){var i=n(84828);function r(e){switch(e){case i.Z.BYTE:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getInt8(t+o*i)};case i.Z.UNSIGNED_BYTE:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getUint8(t+o*i)};case i.Z.SHORT:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getInt16(t+o*i,!0)};case i.Z.UNSIGNED_SHORT:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getUint16(t+o*i,!0)};case i.Z.INT:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getInt32(t+o*i,!0)};case i.Z.UNSIGNED_INT:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getUint32(t+o*i,!0)};case i.Z.FLOAT:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getFloat32(t+o*i,!0)};case i.Z.DOUBLE:return function(e,t,n,i,r){for(let o=0;o<n;++o)r[o]=e.getFloat64(t+o*i,!0)}}}t["Z"]=r},72337:function(e,t,n){var i=n(75954),r=n(56629),o=n(62200),s=n(82982),a=n(52200);const c=[a.Z.FUNC_ADD,a.Z.FUNC_ADD],u=[a.Z.ONE,a.Z.ZERO,a.Z.ONE,a.Z.ZERO];function f(e,t){const n=e.enable;return!!(0,s.Z)(n)&&n.indexOf(t)>-1}const l=[a.Z.ZERO,a.Z.ONE,a.Z.SRC_COLOR,a.Z.ONE_MINUS_SRC_COLOR,a.Z.SRC_ALPHA,a.Z.ONE_MINUS_SRC_ALPHA,a.Z.DST_ALPHA,a.Z.ONE_MINUS_DST_ALPHA,a.Z.DST_COLOR,a.Z.ONE_MINUS_DST_COLOR];function Z(e,t){if(!(0,s.Z)(e))return t;for(let n=0;n<4;n++)if(-1===l.indexOf(e[n]))return t;return e}function h(e){const t={},n={},l=e.techniques;return(0,s.Z)(l)?(r.Z.technique(e,(function(e,i){const r=e.states;if((0,s.Z)(r)){const l=n[i]={};if(f(r,a.Z.BLEND)){l.alphaMode="BLEND";const e=r.functions;(0,s.Z)(e)&&((0,s.Z)(e.blendEquationSeparate)||(0,s.Z)(e.blendFuncSeparate))&&(t[i]={blendEquation:(0,o.Z)(e.blendEquationSeparate,c),blendFactors:Z(e.blendFuncSeparate,u)})}f(r,a.Z.CULL_FACE)||(l.doubleSided=!0),delete e.states}})),Object.keys(t).length>0&&((0,s.Z)(e.extensions)||(e.extensions={}),(0,i.Z)(e,"KHR_blend")),r.Z.material(e,(function(e){if((0,s.Z)(e.technique)){const i=n[e.technique];r.Z.objectLegacy(i,(function(t,n){e[n]=t}));const o=t[e.technique];(0,s.Z)(o)&&((0,s.Z)(e.extensions)||(e.extensions={}),e.extensions.KHR_blend=o)}})),e):e}t["Z"]=h},56942:function(e,t,n){var i=n(75954),r=n(35094),o=n(9919),s=n(56629),a=n(82982);function c(e){const t=e.techniques,n={},c={},u={};if((0,a.Z)(t)){const t={programs:[],shaders:[],techniques:[]},f=e.glExtensionsUsed;delete e.glExtensionsUsed,s.Z.technique(e,(function(i,r){const l={name:i.name,program:void 0,attributes:{},uniforms:{}};let Z;if(s.Z.techniqueAttribute(i,(function(e,t){Z=i.parameters[e],l.attributes[t]={semantic:Z.semantic}})),s.Z.techniqueUniform(i,(function(e,t){Z=i.parameters[e],l.uniforms[t]={count:Z.count,node:Z.node,type:Z.type,semantic:Z.semantic,value:Z.value},(0,a.Z)(n[r])||(n[r]={}),n[r][e]=t})),(0,a.Z)(u[i.program]))l.program=u[i.program];else{const n=e.programs[i.program],r={name:n.name,fragmentShader:void 0,vertexShader:void 0,glExtensions:f},s=e.shaders[n.fragmentShader];r.fragmentShader=(0,o.Z)(t.shaders,s,!0);const a=e.shaders[n.vertexShader];r.vertexShader=(0,o.Z)(t.shaders,a,!0),l.program=(0,o.Z)(t.programs,r),u[i.program]=l.program}c[r]=(0,o.Z)(t.techniques,l)})),t.techniques.length>0&&((0,a.Z)(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t,(0,i.Z)(e,"KHR_techniques_webgl"),(0,r.Z)(e,"KHR_techniques_webgl"))}return s.Z.material(e,(function(e){if((0,a.Z)(e.technique)){const t={technique:c[e.technique]};s.Z.objectLegacy(e.values,(function(i,r){(0,a.Z)(t.values)||(t.values={});const o=n[e.technique][r];t.values[o]=i})),(0,a.Z)(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t}delete e.technique,delete e.values})),delete e.techniques,delete e.programs,delete e.shaders,e}t["Z"]=c},26806:function(e,t){function n(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}}t["Z"]=n},52655:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(93410),r=n(82982);function o(e,t){const n=e.extensionsRequired;if((0,r.Z)(n)){const i=n.indexOf(t);i>=0&&n.splice(i,1),0===n.length&&delete e.extensionsRequired}}var s=o;function a(e,t){const n=e.extensionsUsed;if((0,r.Z)(n)){const i=n.indexOf(t);i>=0&&n.splice(i,1),s(e,t),0===n.length&&delete e.extensionsUsed}}var c=a,u=n(62200),f=n(3020),l=n(66659),Z=n(9407);const h=4;function d(e){const t=(0,f.Z)(e);if("glTF"!==t)throw new Z.Z("File is not valid binary glTF");const n=m(e,0,5),i=n[1];if(1!==i&&2!==i)throw new Z.Z("Binary glTF version is not 1 or 2");return 1===i?p(e,n):_(e,n)}function m(e,t,n){const i=new DataView(e.buffer),r=new Array(n);for(let o=0;o<n;++o)r[o]=i.getUint32(e.byteOffset+t+o*h,!0);return r}function p(e,t){const n=t[2],o=t[3],s=t[4];if(0!==s)throw new Z.Z("Binary glTF scene format is not JSON");const a=20,f=a+o,h=(0,l.Z)(e,a,o),d=JSON.parse(h);(0,i.Z)(d);const m=e.subarray(f,n),p=d.buffers;if((0,r.Z)(p)&&Object.keys(p).length>0){const e=(0,u.Z)(p.binary_glTF,p.KHR_binary_glTF);(0,r.Z)(e)&&(e.extras._pipeline.source=m,delete e.uri)}return c(d,"KHR_binary_glTF"),d}function _(e,t){const n=t[2];let o,s,a=12;while(a<n){const t=m(e,a,2),n=t[0],r=t[1];a+=8;const c=e.subarray(a,a+n);if(a+=n,1313821514===r){const e=(0,l.Z)(c);o=JSON.parse(e),(0,i.Z)(o)}else 5130562===r&&(s=c)}if((0,r.Z)(o)&&(0,r.Z)(s)){const e=o.buffers;if((0,r.Z)(e)&&e.length>0){const t=e[0];t.extras._pipeline.source=s}}return o}var g=d},35933:function(e,t,n){var i=n(93224),r=n(2378),o=n(26806),s=n(23401),a=n(84828),c=n(82982);function u(e,t){const n=(0,i.Z)(e,t),u=a.Z.getSizeInBytes(t.componentType),f=(0,o.Z)(t.type),l=t.count,Z=new Array(f*l);if(!(0,c.Z)(t.bufferView))return(0,s.Z)(Z,0),Z;const h=e.bufferViews[t.bufferView],d=e.buffers[h.buffer].extras._pipeline.source;let m=t.byteOffset+h.byteOffset+d.byteOffset;const p=new DataView(d.buffer),_=new Array(f),g=(0,r.Z)(t.componentType);for(let i=0;i<l;++i){g(p,m,f,u,_);for(let e=0;e<f;++e)Z[i*f+e]=_[e];m+=n}return Z}t["Z"]=u},23537:function(e,t,n){var i=n(56629),r=n(82982);function o(e){return i.Z.shader(e,(function(e){s(e)})),i.Z.buffer(e,(function(e){s(e)})),i.Z.image(e,(function(e){s(e)})),s(e),e}function s(e){(0,r.Z)(e.extras)&&((0,r.Z)(e.extras._pipeline)&&delete e.extras._pipeline,0===Object.keys(e.extras).length&&delete e.extras)}t["Z"]=o},37657:function(e,t,n){var i=n(56629),r=n(11072),o=n(29745),s=n(62200),a=n(82982);const c=["mesh","node","material","accessor","bufferView","buffer","texture","sampler","image"];function u(e,t){return t=(0,s.Z)(t,c),c.forEach((function(n){t.indexOf(n)>-1&&l(e,n)})),e}const f={accessor:"accessors",buffer:"buffers",bufferView:"bufferViews",image:"images",node:"nodes",material:"materials",mesh:"meshes",sampler:"samplers",texture:"textures"};function l(e,t){const n=f[t],i=e[n];if((0,a.Z)(i)){let n=0;const r=h[t](e),o=i.length;for(let i=0;i<o;++i)r[i]||(Z[t](e,i-n),n++)}}function Z(){}function h(){}function d(e,t,n){const i=e.nodes[t];return!((0,a.Z)(i.mesh)||(0,a.Z)(i.camera)||(0,a.Z)(i.skin)||(0,a.Z)(i.weights)||(0,a.Z)(i.extras)||(0,a.Z)(i.extensions)&&0!==Object.keys(i.extensions).length||(0,a.Z)(n[t]))&&(!(0,a.Z)(i.children)||0===i.children.filter((function(t){return!d(e,t,n)})).length)}Z.accessor=function(e,t){const n=e.accessors;n.splice(t,1),i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){i.Z.meshPrimitiveAttribute(e,(function(n,i){n>t&&e.attributes[i]--})),i.Z.meshPrimitiveTarget(e,(function(e){i.Z.meshPrimitiveTargetAttribute(e,(function(n,i){n>t&&e[i]--}))}));const n=e.indices;(0,a.Z)(n)&&n>t&&e.indices--}))})),i.Z.skin(e,(function(e){(0,a.Z)(e.inverseBindMatrices)&&e.inverseBindMatrices>t&&e.inverseBindMatrices--})),i.Z.animation(e,(function(e){i.Z.animationSampler(e,(function(e){(0,a.Z)(e.input)&&e.input>t&&e.input--,(0,a.Z)(e.output)&&e.output>t&&e.output--}))}))},Z.buffer=function(e,t){const n=e.buffers;n.splice(t,1),i.Z.bufferView(e,(function(e){(0,a.Z)(e.buffer)&&e.buffer>t&&e.buffer--,(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.EXT_meshopt_compression)&&e.extensions.EXT_meshopt_compression.buffer--}))},Z.bufferView=function(e,t){const n=e.bufferViews;if(n.splice(t,1),i.Z.accessor(e,(function(e){(0,a.Z)(e.bufferView)&&e.bufferView>t&&e.bufferView--})),i.Z.shader(e,(function(e){(0,a.Z)(e.bufferView)&&e.bufferView>t&&e.bufferView--})),i.Z.image(e,(function(e){(0,a.Z)(e.bufferView)&&e.bufferView>t&&e.bufferView--})),(0,o.Z)(e,"KHR_draco_mesh_compression")&&i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.KHR_draco_mesh_compression)&&e.extensions.KHR_draco_mesh_compression.bufferView>t&&e.extensions.KHR_draco_mesh_compression.bufferView--}))})),(0,o.Z)(e,"EXT_feature_metadata")){const n=e.extensions.EXT_feature_metadata,i=n.featureTables;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],r=n.properties;if((0,a.Z)(r))for(const e in r)if(r.hasOwnProperty(e)){const n=r[e];(0,a.Z)(n.bufferView)&&n.bufferView>t&&n.bufferView--,(0,a.Z)(n.arrayOffsetBufferView)&&n.arrayOffsetBufferView>t&&n.arrayOffsetBufferView--,(0,a.Z)(n.stringOffsetBufferView)&&n.stringOffsetBufferView>t&&n.stringOffsetBufferView--}}}},Z.image=function(e,t){const n=e.images;n.splice(t,1),i.Z.texture(e,(function(e){(0,a.Z)(e.source)&&e.source>t&&--e.source;const n=e.extensions;(0,a.Z)(n)&&(0,a.Z)(n.EXT_texture_webp)&&n.EXT_texture_webp.source>t?--e.extensions.EXT_texture_webp.source:(0,a.Z)(n)&&(0,a.Z)(n.KHR_texture_basisu)&&n.KHR_texture_basisu.source>t&&--e.extensions.KHR_texture_basisu.source}))},Z.mesh=function(e,t){const n=e.meshes;n.splice(t,1),i.Z.node(e,(function(e){(0,a.Z)(e.mesh)&&(e.mesh>t?e.mesh--:e.mesh===t&&delete e.mesh)}))},Z.node=function(e,t){const n=e.nodes;n.splice(t,1),i.Z.skin(e,(function(e){(0,a.Z)(e.skeleton)&&e.skeleton>t&&e.skeleton--,e.joints=e.joints.map((function(e){return e>t?e-1:e}))})),i.Z.animation(e,(function(e){i.Z.animationChannel(e,(function(e){(0,a.Z)(e.target)&&(0,a.Z)(e.target.node)&&e.target.node>t&&e.target.node--}))})),i.Z.technique(e,(function(e){i.Z.techniqueUniform(e,(function(e){(0,a.Z)(e.node)&&e.node>t&&e.node--}))})),i.Z.node(e,(function(e){(0,a.Z)(e.children)&&(e.children=e.children.filter((function(e){return e!==t})).map((function(e){return e>t?e-1:e})))})),i.Z.scene(e,(function(e){e.nodes=e.nodes.filter((function(e){return e!==t})).map((function(e){return e>t?e-1:e}))}))},Z.material=function(e,t){const n=e.materials;n.splice(t,1),i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){(0,a.Z)(e.material)&&e.material>t&&e.material--}))}))},Z.sampler=function(e,t){const n=e.samplers;n.splice(t,1),i.Z.texture(e,(function(e){(0,a.Z)(e.sampler)&&e.sampler>t&&--e.sampler}))},Z.texture=function(e,t){const n=e.textures;if(n.splice(t,1),i.Z.material(e,(function(e){(0,r.Z)(e,(function(e,n){n.index>t&&--n.index}))})),(0,o.Z)(e,"EXT_feature_metadata")){i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){const n=e.extensions;if((0,a.Z)(n)&&(0,a.Z)(n.EXT_feature_metadata)){const e=n.EXT_feature_metadata,i=e.featureIdTextures;if((0,a.Z)(i)){const e=i.length;for(let n=0;n<e;++n){const e=i[n],r=e.featureIds.texture;r.index>t&&--r.index}}}}))}));const n=e.extensions.EXT_feature_metadata,r=n.featureTextures;for(const e in r)if(r.hasOwnProperty(e)){const n=r[e],i=n.properties;if((0,a.Z)(i))for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],r=n.texture;r.index>t&&--r.index}}}},h.accessor=function(e){const t={};return i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){i.Z.meshPrimitiveAttribute(e,(function(e){t[e]=!0})),i.Z.meshPrimitiveTarget(e,(function(e){i.Z.meshPrimitiveTargetAttribute(e,(function(e){t[e]=!0}))}));const n=e.indices;(0,a.Z)(n)&&(t[n]=!0)}))})),i.Z.skin(e,(function(e){(0,a.Z)(e.inverseBindMatrices)&&(t[e.inverseBindMatrices]=!0)})),i.Z.animation(e,(function(e){i.Z.animationSampler(e,(function(e){(0,a.Z)(e.input)&&(t[e.input]=!0),(0,a.Z)(e.output)&&(t[e.output]=!0)}))})),(0,o.Z)(e,"EXT_mesh_gpu_instancing")&&i.Z.node(e,(function(e){(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.EXT_mesh_gpu_instancing)&&Object.keys(e.extensions.EXT_mesh_gpu_instancing.attributes).forEach((function(n){const i=e.extensions.EXT_mesh_gpu_instancing.attributes[n];t[i]=!0}))})),t},h.buffer=function(e){const t={};return i.Z.bufferView(e,(function(e){(0,a.Z)(e.buffer)&&(t[e.buffer]=!0),(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.EXT_meshopt_compression)&&(t[e.extensions.EXT_meshopt_compression.buffer]=!0)})),t},h.bufferView=function(e){const t={};if(i.Z.accessor(e,(function(e){(0,a.Z)(e.bufferView)&&(t[e.bufferView]=!0)})),i.Z.shader(e,(function(e){(0,a.Z)(e.bufferView)&&(t[e.bufferView]=!0)})),i.Z.image(e,(function(e){(0,a.Z)(e.bufferView)&&(t[e.bufferView]=!0)})),(0,o.Z)(e,"KHR_draco_mesh_compression")&&i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.KHR_draco_mesh_compression)&&(t[e.extensions.KHR_draco_mesh_compression.bufferView]=!0)}))})),(0,o.Z)(e,"EXT_feature_metadata")){const n=e.extensions.EXT_feature_metadata,i=n.featureTables;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],r=n.properties;if((0,a.Z)(r))for(const e in r)if(r.hasOwnProperty(e)){const n=r[e];(0,a.Z)(n.bufferView)&&(t[n.bufferView]=!0),(0,a.Z)(n.arrayOffsetBufferView)&&(t[n.arrayOffsetBufferView]=!0),(0,a.Z)(n.stringOffsetBufferView)&&(t[n.stringOffsetBufferView]=!0)}}}return t},h.image=function(e){const t={};return i.Z.texture(e,(function(e){(0,a.Z)(e.source)&&(t[e.source]=!0),(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.EXT_texture_webp)?t[e.extensions.EXT_texture_webp.source]=!0:(0,a.Z)(e.extensions)&&(0,a.Z)(e.extensions.KHR_texture_basisu)&&(t[e.extensions.KHR_texture_basisu.source]=!0)})),t},h.mesh=function(e){const t={};return i.Z.node(e,(function(n){if((0,a.Z)(n.mesh&&(0,a.Z)(e.meshes))){const i=e.meshes[n.mesh];(0,a.Z)(i)&&(0,a.Z)(i.primitives)&&i.primitives.length>0&&(t[n.mesh]=!0)}})),t},h.node=function(e){const t={};return i.Z.skin(e,(function(e){(0,a.Z)(e.skeleton)&&(t[e.skeleton]=!0),i.Z.skinJoint(e,(function(e){t[e]=!0}))})),i.Z.animation(e,(function(e){i.Z.animationChannel(e,(function(e){(0,a.Z)(e.target)&&(0,a.Z)(e.target.node)&&(t[e.target.node]=!0)}))})),i.Z.technique(e,(function(e){i.Z.techniqueUniform(e,(function(e){(0,a.Z)(e.node)&&(t[e.node]=!0)}))})),i.Z.node(e,(function(n,i){d(e,i,t)||(t[i]=!0)})),t},h.material=function(e){const t={};return i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){(0,a.Z)(e.material)&&(t[e.material]=!0)}))})),t},h.texture=function(e){const t={};if(i.Z.material(e,(function(e){(0,r.Z)(e,(function(e){t[e]=!0}))})),(0,o.Z)(e,"EXT_feature_metadata")){i.Z.mesh(e,(function(e){i.Z.meshPrimitive(e,(function(e){const n=e.extensions;if((0,a.Z)(n)&&(0,a.Z)(n.EXT_feature_metadata)){const e=n.EXT_feature_metadata,i=e.featureIdTextures;if((0,a.Z)(i)){const e=i.length;for(let n=0;n<e;++n){const e=i[n],r=e.featureIds.texture;t[r.index]=!0}}}}))}));const n=e.extensions.EXT_feature_metadata,r=n.featureTextures;for(const e in r)if(r.hasOwnProperty(e)){const n=r[e],i=n.properties;if((0,a.Z)(i))for(const e in i)if(i.hasOwnProperty(e)){const n=i[e],r=n.texture;t[r.index]=!0}}}return t},h.sampler=function(e){const t={};return i.Z.texture(e,(function(e){(0,a.Z)(e.sampler)&&(t[e.sampler]=!0)})),t},t["Z"]=u},32776:function(e,t,n){var i=n(99461),r=n(56629),o=n(35933),s=n(84828),a=n(52200);function c(e){let t;return r.Z.accessorWithSemantic(e,"JOINTS_0",(function(n){const i=e.accessors[n];t=i.componentType,t===a.Z.BYTE?u(e,i,s.Z.UNSIGNED_BYTE):t!==a.Z.UNSIGNED_BYTE&&t!==a.Z.UNSIGNED_SHORT&&u(e,i,s.Z.UNSIGNED_SHORT)})),r.Z.accessorWithSemantic(e,"WEIGHTS_0",(function(n){const i=e.accessors[n];t=i.componentType,t===a.Z.BYTE?u(e,i,s.Z.UNSIGNED_BYTE):t===a.Z.SHORT&&u(e,i,s.Z.UNSIGNED_SHORT)})),e}function u(e,t,n){const r=s.Z.createTypedArray(n,(0,o.Z)(e,t)),a=new Uint8Array(r.buffer);t.bufferView=(0,i.Z)(e,a),t.componentType=n,t.byteOffset=0}t["Z"]=c},6186:function(e,t,n){var i=n(75954),r=n(9919),o=n(77324),s=n(56629),a=n(93224),c=n(26806),u=n(72337),f=n(56942),l=n(37657),Z=n(32776),h=n(60216),d=n(63367),m=n(83856),p=n(84828),_=n(62200),g=n(82982),y=n(72248),b=n(87811),v=n(52200);const x={.8:A,"1.0":$,"2.0":void 0};function w(e,t){t=(0,_.Z)(t,_.Z.EMPTY_OBJECT);const n=t.targetVersion;let i=e.version;e.asset=(0,_.Z)(e.asset,{version:"1.0"}),e.asset.version=(0,_.Z)(e.asset.version,"1.0"),i=(0,_.Z)(i,e.asset.version).toString(),Object.prototype.hasOwnProperty.call(x,i)||((0,g.Z)(i)&&(i=i.substring(0,3)),Object.prototype.hasOwnProperty.call(x,i)||(i="1.0"));let r=x[i];while((0,g.Z)(r)){if(i===n)break;r(e,t),i=e.asset.version,r=x[i]}return e}function O(e){const t=e.materials;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.instanceTechnique;(0,g.Z)(i)&&(e.technique=i.technique,e.values=i.values,delete e.instanceTechnique)}}function T(e){const t=e.meshes;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.primitives;if((0,g.Z)(i)){const e=i.length;for(let t=0;t<e;++t){const e=i[t],n=(0,_.Z)(e.primitive,v.Z.TRIANGLES);e.mode=(0,_.Z)(e.mode,n),delete e.primitive}}}}function E(e){const t=e.nodes,n=new h.Z,i=new b.Z;for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const e=t[r];if((0,g.Z)(e.rotation)){const t=e.rotation;h.Z.fromArray(t,0,n),b.Z.fromAxisAngle(n,t[3],i),e.rotation=[i.x,i.y,i.z,i.w]}const o=e.instanceSkin;(0,g.Z)(o)&&(e.skeletons=o.skeletons,e.skin=o.skin,e.meshes=o.meshes,delete e.instanceSkin)}}function R(e){const t=e.animations,n=e.accessors,i=e.bufferViews,r=e.buffers,o={},s=new h.Z,a=new b.Z;for(const u in t)if(Object.prototype.hasOwnProperty.call(t,u)){const e=t[u],f=e.channels,l=e.parameters,Z=e.samplers;if((0,g.Z)(f)){const e=f.length;for(let t=0;t<e;++t){const e=f[t];if("rotation"===e.target.path){const t=l[Z[e.sampler].output];if((0,g.Z)(o[t]))continue;o[t]=!0;const u=n[t],f=i[u.bufferView],d=r[f.buffer],m=d.extras._pipeline.source,_=m.byteOffset+f.byteOffset+u.byteOffset,y=u.componentType,v=u.count,x=(0,c.Z)(u.type),w=u.count*x,O=p.Z.createArrayBufferView(y,m.buffer,_,w);for(let e=0;e<v;e++){const t=e*x;h.Z.unpack(O,t,s);const n=O[t+3];b.Z.fromAxisAngle(s,n,a),b.Z.pack(a,O,t)}}}}}}function P(e){const t=e.techniques;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.passes;if((0,g.Z)(i)){const t=(0,_.Z)(e.pass,"defaultPass");if(Object.prototype.hasOwnProperty.call(i,t)){const n=i[t],r=n.instanceProgram;e.attributes=(0,_.Z)(e.attributes,r.attributes),e.program=(0,_.Z)(e.program,r.program),e.uniforms=(0,_.Z)(e.uniforms,r.uniforms),e.states=(0,_.Z)(e.states,n.states)}delete e.passes,delete e.pass}}}function A(e){(0,g.Z)(e.asset)||(e.asset={});const t=e.asset;if(t.version="1.0","string"===typeof t.profile){const e=t.profile.split(" ");t.profile={api:e[0],version:e[1]}}else t.profile={};if((0,g.Z)(e.version)&&delete e.version,O(e),T(e),E(e),R(e),P(e),(0,g.Z)(e.allExtensions)&&(e.extensionsUsed=e.allExtensions,delete e.allExtensions),(0,g.Z)(e.lights)){const t=(0,_.Z)(e.extensions,{});e.extensions=t;const n=(0,_.Z)(t.KHR_materials_common,{});t.KHR_materials_common=n,n.lights=e.lights,delete e.lights,(0,i.Z)(e,"KHR_materials_common")}}function S(e){const t=e.animations;for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n],i=e.parameters;if((0,g.Z)(i)){const t=e.samplers;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n.input=i[n.input],n.output=i[n.output]}delete e.parameters}}}function I(e,t){const n=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];t[i]=n.length,n.push(r),(0,g.Z)(r.name)||(r.name=i)}return n}function V(e){let t;const n={accessors:{},animations:{},buffers:{},bufferViews:{},cameras:{},images:{},materials:{},meshes:{},nodes:{},programs:{},samplers:{},scenes:{},shaders:{},skins:{},textures:{},techniques:{}};let i;const o={},a=e.nodes;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=a[r].jointName,(0,g.Z)(i)&&(o[i]=r));for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&(0,g.Z)(n[r])){const t={},i=e[r];e[r]=I(i,t),n[r]=t}for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(o[i]=n.nodes[o[i]]);(0,g.Z)(e.scene)&&(e.scene=n.scenes[e.scene]),s.Z.bufferView(e,(function(e){(0,g.Z)(e.buffer)&&(e.buffer=n.buffers[e.buffer])})),s.Z.accessor(e,(function(e){(0,g.Z)(e.bufferView)&&(e.bufferView=n.bufferViews[e.bufferView])})),s.Z.shader(e,(function(e){const t=e.extensions;if((0,g.Z)(t)){const i=t.KHR_binary_glTF;(0,g.Z)(i)&&(e.bufferView=n.bufferViews[i.bufferView],delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})),s.Z.program(e,(function(e){(0,g.Z)(e.vertexShader)&&(e.vertexShader=n.shaders[e.vertexShader]),(0,g.Z)(e.fragmentShader)&&(e.fragmentShader=n.shaders[e.fragmentShader])})),s.Z.technique(e,(function(e){(0,g.Z)(e.program)&&(e.program=n.programs[e.program]),s.Z.techniqueParameter(e,(function(e){(0,g.Z)(e.node)&&(e.node=n.nodes[e.node]);const t=e.value;"string"===typeof t&&(e.value={index:n.textures[t]})}))})),s.Z.mesh(e,(function(e){s.Z.meshPrimitive(e,(function(e){(0,g.Z)(e.indices)&&(e.indices=n.accessors[e.indices]),s.Z.meshPrimitiveAttribute(e,(function(t,i){e.attributes[i]=n.accessors[t]})),(0,g.Z)(e.material)&&(e.material=n.materials[e.material])}))})),s.Z.node(e,(function(i){let o=i.children;if((0,g.Z)(o)){const e=o.length;for(t=0;t<e;++t)o[t]=n.nodes[o[t]]}if((0,g.Z)(i.meshes)){const s=i.meshes,a=s.length;if(a>0)for(i.mesh=n.meshes[s[0]],t=1;t<a;++t){const a={mesh:n.meshes[s[t]]},c=(0,r.Z)(e.nodes,a);(0,g.Z)(o)||(o=[],i.children=o),o.push(c)}delete i.meshes}if((0,g.Z)(i.camera)&&(i.camera=n.cameras[i.camera]),(0,g.Z)(i.skin)&&(i.skin=n.skins[i.skin]),(0,g.Z)(i.skeletons)){const t=i.skeletons,r=t.length;if(r>0&&(0,g.Z)(i.skin)){const r=e.skins[i.skin];r.skeleton=n.nodes[t[0]]}delete i.skeletons}(0,g.Z)(i.jointName)&&delete i.jointName})),s.Z.skin(e,(function(e){(0,g.Z)(e.inverseBindMatrices)&&(e.inverseBindMatrices=n.accessors[e.inverseBindMatrices]);const i=e.jointNames;if((0,g.Z)(i)){const n=[],r=i.length;for(t=0;t<r;++t)n[t]=o[i[t]];e.joints=n,delete e.jointNames}})),s.Z.scene(e,(function(e){const i=e.nodes;if((0,g.Z)(i)){const e=i.length;for(t=0;t<e;++t)i[t]=n.nodes[i[t]]}})),s.Z.animation(e,(function(e){const t={};e.samplers=I(e.samplers,t),s.Z.animationSampler(e,(function(e){e.input=n.accessors[e.input],e.output=n.accessors[e.output]})),s.Z.animationChannel(e,(function(e){e.sampler=t[e.sampler];const i=e.target;(0,g.Z)(i)&&(i.node=n.nodes[i.id],delete i.id)}))})),s.Z.material(e,(function(e){(0,g.Z)(e.technique)&&(e.technique=n.techniques[e.technique]),s.Z.materialValue(e,(function(t,i){"string"===typeof t&&(e.values[i]={index:n.textures[t]})}));const t=e.extensions;if((0,g.Z)(t)){const e=t.KHR_materials_common;(0,g.Z)(e)&&s.Z.materialValue(e,(function(t,i){"string"===typeof t&&(e.values[i]={index:n.textures[t]})}))}})),s.Z.image(e,(function(e){const t=e.extensions;if((0,g.Z)(t)){const i=t.KHR_binary_glTF;(0,g.Z)(i)&&(e.bufferView=n.bufferViews[i.bufferView],e.mimeType=i.mimeType,delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})),s.Z.texture(e,(function(e){(0,g.Z)(e.sampler)&&(e.sampler=n.samplers[e.sampler]),(0,g.Z)(e.source)&&(e.source=n.images[e.source])}))}function L(e){s.Z.animation(e,(function(e){s.Z.animationSampler(e,(function(e){delete e.name}))}))}function q(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];Array.isArray(n)&&0===n.length&&delete e[t]}s.Z.node(e,(function(e){(0,g.Z)(e.children)&&0===e.children.length&&delete e.children}))}function C(e){const t=e.asset;delete t.profile,delete t.premultipliedAlpha}const N={CESIUM_RTC:!0,KHR_materials_common:!0,WEB3D_quantized_attributes:!0};function j(e){const t=e.extensionsUsed;if(e.extensionsRequired=(0,_.Z)(e.extensionsRequired,[]),(0,g.Z)(t)){const n=t.length;for(let i=0;i<n;++i){const n=t[i];(0,g.Z)(N[n])&&e.extensionsRequired.push(n)}}}function D(e){s.Z.buffer(e,(function(e){delete e.type}))}function F(e){s.Z.texture(e,(function(e){delete e.format,delete e.internalFormat,delete e.target,delete e.type}))}function k(e){s.Z.mesh(e,(function(e){s.Z.meshPrimitive(e,(function(e){s.Z.meshPrimitiveAttribute(e,(function(t,n){"TEXCOORD"===n?e.attributes.TEXCOORD_0=t:"COLOR"===n&&(e.attributes.COLOR_0=t)})),delete e.attributes.TEXCOORD,delete e.attributes.COLOR}))})),s.Z.technique(e,(function(e){s.Z.techniqueParameter(e,(function(e){const t=e.semantic;(0,g.Z)(t)&&("TEXCOORD"===t?e.semantic="TEXCOORD_0":"COLOR"===t&&(e.semantic="COLOR_0"))}))}))}const H={POSITION:!0,NORMAL:!0,TANGENT:!0},B={COLOR:"COLOR",JOINT:"JOINTS",JOINTS:"JOINTS",TEXCOORD:"TEXCOORD",WEIGHT:"WEIGHTS",WEIGHTS:"WEIGHTS"};function M(e){const t={};s.Z.mesh(e,(function(e){s.Z.meshPrimitive(e,(function(e){s.Z.meshPrimitiveAttribute(e,(function(e,n){if("_"!==n.charAt(0)){const e=n.search(/_[0-9]+/g);let i,r=n,o="_0";e>=0&&(r=n.substring(0,e),o=n.substring(e));const s=B[r];(0,g.Z)(s)?(i=s+o,t[n]=i):(0,g.Z)(H[r])||(i="_"+n,t[n]=i)}}));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n],r=e.attributes[n];(0,g.Z)(r)&&(delete e.attributes[n],e.attributes[i]=r)}}))})),s.Z.technique(e,(function(e){s.Z.techniqueParameter(e,(function(e){const n=t[e.semantic];(0,g.Z)(n)&&(e.semantic=n)}))}))}function U(e){s.Z.camera(e,(function(e){const t=e.perspective;if((0,g.Z)(t)){const e=t.aspectRatio;(0,g.Z)(e)&&0===e&&delete t.aspectRatio;const n=t.yfov;(0,g.Z)(n)&&0===n&&(t.yfov=1)}}))}function K(e,t){return(0,g.Z)(t.byteStride)&&0!==t.byteStride?t.byteStride:(0,a.Z)(e,t)}function X(e){s.Z.buffer(e,(function(e){(0,g.Z)(e.byteLength)||(e.byteLength=e.extras._pipeline.source.length)})),s.Z.accessor(e,(function(t){const n=t.bufferView;if((0,g.Z)(n)){const i=e.bufferViews[n],r=K(e,t),o=t.byteOffset+t.count*r;i.byteLength=Math.max((0,_.Z)(i.byteLength,0),o)}}))}function G(e){let t,n,i;const o=e.bufferViews,a={};s.Z.accessorContainingVertexAttributeData(e,(function(t){const n=e.accessors[t];(0,g.Z)(n.bufferView)&&(a[n.bufferView]=!0)}));const c={};s.Z.accessor(e,(function(e){(0,g.Z)(e.bufferView)&&(c[e.bufferView]=(0,_.Z)(c[e.bufferView],[]),c[e.bufferView].push(e))}));for(const s in c)if(Object.prototype.hasOwnProperty.call(c,s)){i=o[s];const u=c[s];u.sort((function(e,t){return e.byteOffset-t.byteOffset}));let f=0,l=0;const Z=u.length;for(t=0;t<Z;++t){let c=u[t];const h=K(e,c),d=c.byteOffset,p=c.count*h;delete c.byteStride;const _=t<Z-1,g=_?K(e,u[t+1]):void 0;if(h!==g){const e=(0,m.Z)(i,!0);a[s]&&(e.byteStride=h),e.byteOffset+=f,e.byteLength=d+p-f;const Z=(0,r.Z)(o,e);for(n=l;n<=t;++n)c=u[n],c.bufferView=Z,c.byteOffset=c.byteOffset-f;f=_?u[t+1].byteOffset:void 0,l=t+1}}}(0,l.Z)(e,["accessor","bufferView","buffer"])}function z(e){s.Z.accessorWithSemantic(e,"POSITION",(function(t){const n=e.accessors[t];if(!(0,g.Z)(n.min)||!(0,g.Z)(n.max)){const t=(0,o.Z)(e,n);n.min=t.min,n.max=t.max}}))}function Y(e){return(!(0,g.Z)(e.children)||0===e.children.length)&&(!(0,g.Z)(e.meshes)||0===e.meshes.length)&&!(0,g.Z)(e.camera)&&!(0,g.Z)(e.skin)&&!(0,g.Z)(e.skeletons)&&!(0,g.Z)(e.jointName)&&(!(0,g.Z)(e.translation)||h.Z.fromArray(e.translation).equals(h.Z.ZERO))&&(!(0,g.Z)(e.scale)||h.Z.fromArray(e.scale).equals(new h.Z(1,1,1)))&&(!(0,g.Z)(e.rotation)||d.Z.fromArray(e.rotation).equals(new d.Z(0,0,0,1)))&&(!(0,g.Z)(e.matrix)||y.Z.fromColumnMajorArray(e.matrix).equals(y.Z.IDENTITY))&&!(0,g.Z)(e.extensions)&&!(0,g.Z)(e.extras)}function W(e,t){s.Z.scene(e,(function(e){const n=e.nodes;if((0,g.Z)(n)){const e=n.length;for(let i=e;i>=0;--i)if(n[i]===t)return void n.splice(i,1)}})),s.Z.node(e,(function(n,i){if((0,g.Z)(n.children)){const r=n.children.indexOf(t);r>-1&&(n.children.splice(r,1),Y(n)&&W(e,i))}})),delete e.nodes[t]}function J(e){return s.Z.node(e,(function(t,n){Y(t)&&W(e,n)})),e}function Q(e){s.Z.animation(e,(function(t){s.Z.animationSampler(t,(function(t){const n=e.accessors[t.input];if(!(0,g.Z)(n.min)||!(0,g.Z)(n.max)){const t=(0,o.Z)(e,n);n.min=t.min,n.max=t.max}}))}))}function $(e){e.asset=(0,_.Z)(e.asset,{}),e.asset.version="2.0",O(e),S(e),J(e),V(e),L(e),C(e),j(e),X(e),G(e),z(e),Q(e),D(e),F(e),k(e),M(e),(0,Z.Z)(e),U(e),(0,u.Z)(e),(0,f.Z)(e),q(e)}t["Z"]=w},29745:function(e,t,n){var i=n(82982);function r(e,t){return(0,i.Z)(e.extensionsUsed)&&e.extensionsUsed.indexOf(t)>=0}t["Z"]=r},31129:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(66553),r=n(99417),o=n(62200),s=n(82982),a=n(38443),c=n(8743),u=n(80188),f=n(88453),l=n(13222),Z=n(61120),h=n(92454),d=n(29789),m=n(89356);function p(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.resourceCache,n=e.gltf,r=e.textureInfo,s=e.gltfResource,a=e.baseResource,c=e.supportedImageFormats,u=e.cacheKey,f=(0,o.Z)(e.asynchronous,!0);i.Z.typeOf.func("options.resourceCache",t),i.Z.typeOf.object("options.gltf",n),i.Z.typeOf.object("options.textureInfo",r),i.Z.typeOf.object("options.gltfResource",s),i.Z.typeOf.object("options.baseResource",a),i.Z.typeOf.object("options.supportedImageFormats",c);var h=r.index,d=Z.Z.getImageIdFromTexture({gltf:n,textureId:h,supportedImageFormats:c});this._resourceCache=t,this._gltf=n,this._textureInfo=r,this._imageId=d,this._gltfResource=s,this._baseResource=a,this._cacheKey=u,this._asynchronous=f,this._imageLoader=void 0,this._image=void 0,this._mipLevels=void 0,this._texture=void 0,this._state=m.Z.UNLOADED,this._promise=l.Z.defer()}function _(){this.gltf=void 0,this.textureInfo=void 0,this.image=void 0,this.context=void 0,this.texture=void 0}function g(e){var t=document.createElement("canvas");t.width=r.Z.nextPowerOfTwo(e.width),t.height=r.Z.nextPowerOfTwo(e.height);var n=t.getContext("2d");return n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),t}function y(e,t,n,i,o){var l=n.internalFormat,h=!1;a.Z.isCompressedFormat(l)&&!(0,s.Z)(i)&&(h=!0);var d,m=Z.Z.createSampler({gltf:e,textureInfo:t,compressedTextureNoMipmap:h}),p=m.minificationFilter,_=m.wrapS,y=m.wrapT,b=p===u.Z.NEAREST_MIPMAP_NEAREST||p===u.Z.NEAREST_MIPMAP_LINEAR||p===u.Z.LINEAR_MIPMAP_NEAREST||p===u.Z.LINEAR_MIPMAP_LINEAR,v=!(0,s.Z)(l)&&b,x=v||_===f.Z.REPEAT||_===f.Z.MIRRORED_REPEAT||y===f.Z.REPEAT||y===f.Z.MIRRORED_REPEAT,w=!r.Z.isPowerOfTwo(n.width)||!r.Z.isPowerOfTwo(n.height),O=x&&w;return(0,s.Z)(l)?(!o.webgl2&&a.Z.isCompressedFormat(l)&&w&&x&&console.warn("Compressed texture uses REPEAT or MIRRORED_REPEAT texture wrap mode and dimensions are not powers of two. The texture may be rendered incorrectly."),d=c.Z.create({context:o,source:{arrayBufferView:n.bufferView,mipLevels:i},width:n.width,height:n.height,pixelFormat:n.internalFormat,sampler:m})):(O&&(n=g(n)),d=c.Z.create({context:o,source:n,sampler:m,flipY:!1,skipColorSpaceConversion:!0})),v&&d.generateMipmap(),d}(0,s.Z)(Object.create)&&(p.prototype=Object.create(d.Z.prototype),p.prototype.constructor=p),Object.defineProperties(p.prototype,{promise:{get:function(){return this._promise.promise}},cacheKey:{get:function(){return this._cacheKey}},texture:{get:function(){return this._texture}}}),p.prototype.load=function(){var e=this._resourceCache,t=e.loadImage({gltf:this._gltf,imageId:this._imageId,gltfResource:this._gltfResource,baseResource:this._baseResource});this._imageLoader=t,this._state=m.Z.LOADING;var n=this;t.promise.then((function(){n.isDestroyed()||(n._image=t.image,n._mipLevels=t.mipLevels,n._state=m.Z.PROCESSING)})).otherwise((function(e){if(!n.isDestroyed()){n.unload(),n._state=m.Z.FAILED;var t="Failed to load texture";n._promise.reject(n.getError(t,e))}}))},_.prototype.set=function(e,t,n,i,r){this.gltf=e,this.textureInfo=t,this.image=n,this.mipLevels=i,this.context=r},_.prototype.execute=function(){this.texture=y(this.gltf,this.textureInfo,this.image,this.mipLevels,this.context)};var b=new _;p.prototype.process=function(e){if(i.Z.typeOf.object("frameState",e),!(0,s.Z)(this._texture)&&(0,s.Z)(this._image)){var t;if(this._asynchronous){var n=b;n.set(this._gltf,this._textureInfo,this._image,this._mipLevels,e.context);var r=e.jobScheduler;if(!r.execute(n,h.Z.TEXTURE))return;t=n.texture}else t=y(this._gltf,this._textureInfo,this._image,this._mipLevels,e.context);this.unload(),this._texture=t,this._state=m.Z.READY,this._promise.resolve(this)}},p.prototype.unload=function(){(0,s.Z)(this._texture)&&this._texture.destroy(),(0,s.Z)(this._imageLoader)&&this._resourceCache.unload(this._imageLoader),this._imageLoader=void 0,this._image=void 0,this._mipLevels=void 0,this._texture=void 0,this._gltf=void 0}},46398:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(23401),r=n(66553),o=n(62200),s=n(82982),a=n(12572),c=n(99095),u=n(58597),f=n(13222),l=n(77072),Z=n(92454),h=n(7896),d=n(29789),m=n(89356),p=n(52323),_=n(84828);function g(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.resourceCache,n=e.gltf,i=e.gltfResource,c=e.baseResource,u=e.bufferViewId,l=e.draco,Z=e.attributeSemantic,h=e.accessorId,d=e.cacheKey,p=(0,o.Z)(e.asynchronous,!0),_=(0,o.Z)(e.dequantize,!1);r.Z.typeOf.func("options.resourceCache",t),r.Z.typeOf.object("options.gltf",n),r.Z.typeOf.object("options.gltfResource",i),r.Z.typeOf.object("options.baseResource",c);var g=(0,s.Z)(u),y=(0,s.Z)(l),b=(0,s.Z)(Z),v=(0,s.Z)(h);if(g===y)throw new a.Z("One of options.bufferViewId and options.draco must be defined.");if(y&&!b)throw new a.Z("When options.draco is defined options.attributeSemantic must also be defined.");if(y&&!v)throw new a.Z("When options.draco is defined options.accessorId must also be defined.");y&&(r.Z.typeOf.object("options.draco",l),r.Z.typeOf.string("options.attributeSemantic",Z),r.Z.typeOf.number("options.accessorId",h)),this._dequantize=_,this._resourceCache=t,this._gltfResource=i,this._baseResource=c,this._gltf=n,this._bufferViewId=u,this._draco=l,this._attributeSemantic=Z,this._accessorId=h,this._cacheKey=d,this._asynchronous=p,this._bufferViewLoader=void 0,this._dracoLoader=void 0,this._quantization=void 0,this._typedArray=void 0,this._vertexBuffer=void 0,this._state=m.Z.UNLOADED,this._promise=f.Z.defer()}function y(e,t,n,r){var o=e.quantizationBits,s=(1<<o)-1,a=new h.Z.Quantization;if(a.componentDatatype=t,a.octEncoded=e.octEncoded,a.octEncodedZXY=!0,a.type=r,a.octEncoded)a.type=l.Z.VEC2,a.normalizationRange=s;else{var c=l.Z.getMathType(r);c===Number?(a.quantizedVolumeOffset=e.minValues[0],a.quantizedVolumeDimensions=e.range,a.normalizationRange=s):(a.quantizedVolumeOffset=c.unpack(e.minValues),a.quantizedVolumeDimensions=c.unpack((0,i.Z)(new Array(n),e.range)),a.normalizationRange=c.unpack((0,i.Z)(new Array(n),s)))}return a}function b(e){var t=e._resourceCache,n=t.loadDraco({gltf:e._gltf,draco:e._draco,gltfResource:e._gltfResource,baseResource:e._baseResource});e._dracoLoader=n,e._state=m.Z.LOADING,n.promise.then((function(){if(!e.isDestroyed()){var t=n.decodedData.vertexAttributes,i=e._attributeSemantic,r=t[i],o=e._accessorId,a=e._gltf.accessors[o],c=a.type,u=r.array,f=r.data.quantization;(0,s.Z)(f)&&(e._quantization=y(f,r.data.componentDatatype,r.data.componentsPerAttribute,c)),e._typedArray=u,e._state=m.Z.PROCESSING}})).otherwise((function(t){e.isDestroyed()||x(e,t)}))}function v(e){var t=e._resourceCache,n=t.loadBufferView({gltf:e._gltf,bufferViewId:e._bufferViewId,gltfResource:e._gltfResource,baseResource:e._baseResource});e._state=m.Z.LOADING,e._bufferViewLoader=n,n.promise.then((function(){e.isDestroyed()||(e._typedArray=n.typedArray,e._state=m.Z.PROCESSING)})).otherwise((function(t){e.isDestroyed()||x(e,t)}))}function x(e,t){e.unload(),e._state=m.Z.FAILED;var n="Failed to load vertex buffer";t=e.getError(n,t),e._promise.reject(t)}function w(){this.typedArray=void 0,this.dequantize=void 0,this.componentType=void 0,this.type=void 0,this.count=void 0,this.context=void 0,this.vertexBuffer=void 0}function O(e,t,n,i,r,o){t&&n!==_.Z.FLOAT&&(e=p.Z.dequantize(e,n,i,r));var s=c.Z.createVertexBuffer({typedArray:e,context:o,usage:u.Z.STATIC_DRAW});return s.vertexArrayDestroyable=!1,s}(0,s.Z)(Object.create)&&(g.prototype=Object.create(d.Z.prototype),g.prototype.constructor=g),Object.defineProperties(g.prototype,{promise:{get:function(){return this._promise.promise}},cacheKey:{get:function(){return this._cacheKey}},vertexBuffer:{get:function(){return this._vertexBuffer}},quantization:{get:function(){return this._quantization}}}),g.prototype.load=function(){(0,s.Z)(this._draco)?b(this):v(this)},w.prototype.set=function(e,t,n,i,r,o){this.typedArray=e,this.dequantize=t,this.componentType=n,this.type=i,this.count=r,this.context=o},w.prototype.execute=function(){this.vertexBuffer=O(this.typedArray,this.dequantize,this.componentType,this.type,this.count,this.context)};var T=new w;g.prototype.process=function(e){if(r.Z.typeOf.object("frameState",e),(0,s.Z)(this._dracoLoader)&&this._dracoLoader.process(e),(0,s.Z)(this._bufferViewLoader)&&this._bufferViewLoader.process(e),!(0,s.Z)(this._vertexBuffer)&&(0,s.Z)(this._typedArray)){var t,n=this._gltf.accessors[this._accessorId];if(this._asynchronous){var i=T;i.set(this._typedArray,this._dequantize,n.componentType,n.type,n.count,e.context);var o=e.jobScheduler;if(!o.execute(i,Z.Z.BUFFER))return;t=i.vertexBuffer}else t=O(this._typedArray,this._dequantize,n.componentType,n.type,n.count,e.context);this.unload(),this._vertexBuffer=t,this._state=m.Z.READY,this._promise.resolve(this)}},g.prototype.unload=function(){(0,s.Z)(this._vertexBuffer)&&this._vertexBuffer.destroy();var e=this._resourceCache;(0,s.Z)(this._bufferViewLoader)&&e.unload(this._bufferViewLoader),(0,s.Z)(this._dracoLoader)&&e.unload(this._dracoLoader),this._bufferViewLoader=void 0,this._dracoLoader=void 0,this._typedArray=void 0,this._vertexBuffer=void 0,this._gltf=void 0}},85365:function(e,t,n){var i=n(52975),r=n(13865),o=n(62200),s=n(82982),a=n(12572),c=n(14459),u=n(71351),f=n(19043),l=n(10945),Z=n(99417),h=n(96190),d=n(22426),m=n(68985),p=n(9407),_=n(9121),g=n(65581),y=n(13222);function b(){this._image=new Image}function v(e){if(e=(0,o.Z)(e,o.Z.EMPTY_OBJECT),!(0,s.Z)(e.url)&&!(0,s.Z)(e.metadata))throw new a.Z("options.url or options.metadata is required.");var t;if(this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,(0,s.Z)(e.metadata))t=e.metadata;else{var n=m.Z.createIfNeeded(e.url);t=new f.Z(n)}this._metadata=t,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=new u.Z({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new h.Z(-Z.Z.PI,-Z.Z.PI,Z.Z.PI,Z.Z.PI),ellipsoid:e.ellipsoid});var r=e.credit;"string"===typeof r&&(r=new i.Z(r)),this._credit=r,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=23,(0,s.Z)(this._tileDiscardPolicy)||(this._tileDiscardPolicy=new b),this._errorEvent=new c.Z,this._ready=!1;var l,d=this;this._readyPromise=t.readyPromise.then((function(e){if(!t.imageryPresent){var n=new p.Z("The server "+t.url+" doesn't have imagery");return l=_.Z.handleError(l,d,d._errorEvent,n.message,void 0,void 0,void 0,n),y.Z.reject(n)}return _.Z.handleSuccess(l),d._ready=e,e})).otherwise((function(e){return l=_.Z.handleError(l,d,d._errorEvent,e.message,void 0,void 0,void 0,e),y.Z.reject(e)}))}function x(e,t,n,i,r,o){var a=f.Z.tileXYToQuadKey(n,i,r),c=t.imageryVersion;return c=(0,s.Z)(c)&&c>0?c:1,e._metadata.resource.getDerivedResource({url:"flatfile?f1-0"+a+"-i."+c.toString(),request:o})}function w(e){var t="JFIF";if(e[6]===t.charCodeAt(0)&&e[7]===t.charCodeAt(1)&&e[8]===t.charCodeAt(2)&&e[9]===t.charCodeAt(3))return"image/jpeg";var n="PNG";return e[1]===n.charCodeAt(0)&&e[2]===n.charCodeAt(1)&&e[3]===n.charCodeAt(2)?"image/png":void 0}function O(e){var t=g.Z.Reader.create(e),n=t.len,i={};while(t.pos<n){var r=t.uint32();switch(r>>>3){case 1:i.imageType=t.uint32();break;case 2:i.imageData=t.bytes();break;case 3:i.alphaType=t.uint32();break;case 4:i.imageAlpha=t.bytes();break;case 5:var o=i.copyrightIds;if((0,s.Z)(o)||(o=i.copyrightIds=[]),2===(7&r)){var a=t.uint32()+t.pos;while(t.pos<a)o.push(t.uint32())}else o.push(t.uint32());break;default:t.skipType(7&r);break}}var c=i.imageType;if((0,s.Z)(c))switch(c){case 0:i.imageType="image/jpeg";break;case 4:i.imageType="image/png";break;default:throw new p.Z("GoogleEarthEnterpriseImageryProvider: Unsupported image type.")}var u=i.alphaType;return(0,s.Z)(u)&&0!==u&&(console.log("GoogleEarthEnterpriseImageryProvider: External alpha not supported."),delete i.alphaType,delete i.imageAlpha),i}b.prototype.isReady=function(){return!0},b.prototype.shouldDiscardImage=function(e){return e===this._image},Object.defineProperties(v.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tileWidth:{get:function(){if(!this._ready)throw new a.Z("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new a.Z("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new a.Z("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new a.Z("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new a.Z("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new a.Z("rectangle must not be called before the imagery provider is ready.");return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new a.Z("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}}}),v.prototype.getTileCredits=function(e,t,n){if(!this._ready)throw new a.Z("getTileCredits must not be called before the imagery provider is ready.");var i=this._metadata,r=i.getTileInformation(e,t,n);if((0,s.Z)(r)){var o=i.providers[r.imageryProvider];if((0,s.Z)(o))return[o]}},v.prototype.requestImage=function(e,t,n,i){if(!this._ready)throw new a.Z("requestImage must not be called before the imagery provider is ready.");var o=this._tileDiscardPolicy._image,c=this._metadata,u=f.Z.tileXYToQuadKey(e,t,n),Z=c.getTileInformation(e,t,n);if(!(0,s.Z)(Z)){if(c.isValid(u)){var h=new d.Z({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction});return void c.populateSubtree(e,t,n,h)}return o}if(!Z.hasImagery())return o;var m=x(this,Z,e,t,n,i).fetchArrayBuffer();return(0,s.Z)(m)?m.then((function(e){(0,r.Z)(c.key,e);var t,n=new Uint8Array(e),i=c.protoImagery;if((0,s.Z)(i)&&i||(t=w(n)),!(0,s.Z)(t)&&(!(0,s.Z)(i)||i)){var a=O(n);t=a.imageType,n=a.imageData}return(0,s.Z)(t)&&(0,s.Z)(n)?(0,l.Z)({uint8Array:n,format:t,flipY:!0}):o})):void 0},v.prototype.pickFeatures=function(e,t,n,i,r){}},75611:function(e,t,n){var i=n(72e3),r=n(66553),o=n(52975),s=n(62200),a=n(82982),c=n(12572),u=n(14459),f=n(71351),l=n(96190),Z=n(68985),h=n(9407),d=n(9121),m=n(42423),p=n(13222),_=n(95451);function g(e){if(e=(0,s.Z)(e,{}),!(0,a.Z)(e.url))throw new c.Z("options.url is required.");if(!(0,a.Z)(e.channel))throw new c.Z("options.channel is required.");this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=1.9,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;var t=e.url,n=(0,s.Z)(e.path,"/default_map"),i=Z.Z.createIfNeeded(t).getDerivedResource({url:"/"===n[0]?n.substring(1):n});i.appendForwardSlash(),this._resource=i,this._url=t,this._path=n,this._tileDiscardPolicy=e.tileDiscardPolicy,this._channel=e.channel,this._requestType="ImageryMaps",this._credit=new o.Z('<a href="http://www.google.com/enterprise/mapsearth/products/earthenterprise.html"><img src="'+g.logoUrl+'" title="Google Imagery"/></a>'),this._tilingScheme=void 0,this._version=void 0,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=e.maximumLevel,this._errorEvent=new u.Z,this._ready=!1,this._readyPromise=p.Z.defer();var r,_=i.getDerivedResource({url:"query",queryParameters:{request:"Json",vars:"geeServerDefs",is2d:"t"}}),y=this;function b(t){var n,i,o;try{n=JSON.parse(t)}catch(c){n=JSON.parse(t.replace(/([\[\{,])[\n\r ]*([A-Za-z0-9]+)[\n\r ]*:/g,'$1"$2":'))}for(var s=0;s<n.layers.length;s++)if(n.layers[s].id===y._channel){i=n.layers[s];break}if(!(0,a.Z)(i))throw o="Could not find layer with channel (id) of "+y._channel+".",r=d.Z.handleError(r,y,y._errorEvent,o,void 0,void 0,void 0,x),new h.Z(o);if(!(0,a.Z)(i.version))throw o="Could not find a version in channel (id) "+y._channel+".",r=d.Z.handleError(r,y,y._errorEvent,o,void 0,void 0,void 0,x),new h.Z(o);if(y._version=i.version,(0,a.Z)(n.projection)&&"flat"===n.projection)y._tilingScheme=new f.Z({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new l.Z(-Math.PI,-Math.PI,Math.PI,Math.PI),ellipsoid:e.ellipsoid});else{if((0,a.Z)(n.projection)&&"mercator"!==n.projection)throw o="Unsupported projection "+n.projection+".",r=d.Z.handleError(r,y,y._errorEvent,o,void 0,void 0,void 0,x),new h.Z(o);y._tilingScheme=new m.Z({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:e.ellipsoid})}y._ready=!0,y._readyPromise.resolve(!0),d.Z.handleSuccess(r)}function v(e){var t="An error occurred while accessing "+_.url+".";r=d.Z.handleError(r,y,y._errorEvent,t,void 0,void 0,void 0,x),y._readyPromise.reject(new h.Z(t))}function x(){var e=_.fetchText();(0,p.Z)(e,b,v)}x()}Object.defineProperties(g.prototype,{url:{get:function(){return this._url}},path:{get:function(){return this._path}},proxy:{get:function(){return this._resource.proxy}},channel:{get:function(){return this._channel}},tileWidth:{get:function(){if(!this._ready)throw new c.Z("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new c.Z("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new c.Z("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new c.Z("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new c.Z("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},version:{get:function(){if(!this._ready)throw new c.Z("version must not be called before the imagery provider is ready.");return this._version}},requestType:{get:function(){if(!this._ready)throw new c.Z("requestType must not be called before the imagery provider is ready.");return this._requestType}},rectangle:{get:function(){if(!this._ready)throw new c.Z("rectangle must not be called before the imagery provider is ready.");return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new c.Z("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),g.prototype.getTileCredits=function(e,t,n){},g.prototype.requestImage=function(e,t,n,i){if(!this._ready)throw new c.Z("requestImage must not be called before the imagery provider is ready.");var r=this._resource.getDerivedResource({url:"query",request:i,queryParameters:{request:this._requestType,channel:this._channel,version:this._version,x:e,y:t,z:n+1}});return _.Z.loadImage(this,r)},g.prototype.pickFeatures=function(e,t,n,i,r){},g._logoUrl=void 0,Object.defineProperties(g,{logoUrl:{get:function(){return(0,a.Z)(g._logoUrl)||(g._logoUrl=(0,i.Z)("Assets/Images/google_earth_credit.png")),g._logoUrl},set:function(e){r.Z.defined("value",e),g._logoUrl=e}}}),t["Z"]=g}}]);
//# sourceMappingURL=chunk-vendors-3c3eb3f8.de63a1be.js.map