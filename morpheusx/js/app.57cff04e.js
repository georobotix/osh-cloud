(function(){var __webpack_modules__={46700:function(e,t,r){var i={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){var t=n(e);return r(t)}function n(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=n,e.exports=o,o.id=46700},64816:function(e,t,r){"use strict";var i=r(49963),o=r(66252),n=r(3577),a=r(32882),s=r(59671);function l(e,t,r,i,l,c){var u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s.v,{modelValue:i.uiStore.ui.snack.message,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.uiStore.ui.snack.message=e}),color:i.uiStore.ui.snack.type},{actions:(0,o.w5)((function(){return[(0,o.Wm)(a.T,{color:"dark",variant:"text",onClick:t[0]||(t[0]=function(e){return i.uiStore.ui.snack.message=void 0})},{default:(0,o.w5)((function(){return[(0,o.Uk)(" Close ")]})),_:1})]})),default:(0,o.w5)((function(){return[(0,o.Uk)((0,n.zw)(i.uiStore.ui.snack.message)+" ",1)]})),_:1},8,["modelValue","color"]),((0,o.wg)(),(0,o.j4)(u,{key:e.$route.params.dashboardId}))],64)}var c=r(95082),u=r(66347),d=r(50124),h=r(48534),p=(r(82801),r(57658),r(67476)),f=r(2262);const m={REPLAY:"replay",BATCH:"batch",REAL_TIME:"realTime"};Math.pow(2,53);function g(e){return"undefined"!==typeof e&&null!==e}function y(e){return g(e)&&null!==e}function b(e){const[t,r,i]=e.match(/\w\w/g).map((e=>parseInt(e,16)));return[t,r,i]}function v(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),parseInt(e.slice(7,9),16)/255]}function w(e,t){let r=y(e);return r&&typeof e===t}function k(e,t){return w(e,"function",t)}function S(e,t="letiable"){if(!g(e))throw t+" must be defined";return e}function _(e,t="letiable"){if(!g(e)||!e)throw t;return e}function T(e,t,r="letiable"){if(S(e,r),typeof e!==t)throw r+" must be of type "+t;return e}function x(e,t){return T(e,"boolean",t)}function I(e,t){return T(e,"string",t)}function C(e,t){return T(e,"number",t)}function E(e,t){if(C(e,t),e<=0)throw t+" must be a positive number"}function D(e,t){return T(e,"object",t)}function A(e,t="letiable"){if(S(e,t),!Array.isArray(e))throw t+" must be an array";return e}function P(e,t){return T(e,"function",t)}function R(){return"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)}))}function M(e){return e.charAt(0).toUpperCase()+e.slice(1)}function O(e,t,r){var i,o,n,a,s,l=function(){var c=(new Date).getTime(),u=c-a;u<t&&u>=0?i=setTimeout(l,t-u):(i=null,r||(s=e.apply(n,o),i||(n=o=null)))};return function(){n=this,o=arguments,a=(new Date).getTime();var c=r&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(n,o),n=o=null),s}}function L(e,t,r,i,o){var n,a,s,l=null,c=0,u=function(){c=new Date,l=null,s=e.apply(n,a)};return function(){var d=new Date;c||r||(c=d);var h=t-(d-c);return n=o||this,a=arguments,h<=0?(clearTimeout(l),l=null,c=d,s=e.apply(n,a)):!l&&i&&(l=setTimeout(u,h)),s}}function z(e,t){for(const r of Object.keys(t))t[r]instanceof Object&&r in e&&Object.assign(t[r],z(e[r],t[r]));return Object.assign(e||{},t),e}function j(e){let t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.substr(t,r-t);return i.split(",").map(Number)}function F(){return new Worker(r.p+"js/DataSynchronizer.replay.worker.d08ae238.worker.js")}const B="data-synchronizer-",V="data-synchronizer-time-",W="datasource-data-",U="datasource-time-",N={DATA:"data",LAST_TIME:"last-time",MASTER_TIME:"master-time",STATUS:"status",TIME_CHANGED:"time-changed",CLOSED:"closed"};class q{constructor(e){this.worker=e,this.onmessage=null}postMessage(e,t){this.worker.postMessage(e,t)}postMessageWithAck(e,t){const r=R();return new Promise(((i,o)=>{const n=new AbortController;this.worker.addEventListener("message",(e=>{e.data.ackId===r&&(delete e.data.ackId,n.abort(),e.error?o(e.error):i(e.data))}),{signal:n.signal}),e.ackId=r,this.worker.postMessage(e,t)}))}set onmessage(e){this.worker.onmessage=e}terminate(){this.worker&&this.worker.terminate()}}var Z=q;class H{constructor(e,t){this.bufferingTime=1e3,this.id=e.id||R(),this.dataSources=e.dataSources||[],this.replaySpeed=e.replaySpeed||1,this.timerResolution=e.timerResolution||5,this.masterTimeRefreshRate=e.masterTimeRefreshRate||250,this.initialized=!1,this.timeSync=t,this.properties={},this.properties.replaySpeed=this.replaySpeed,this.properties.startTimestamp=void 0,this.properties.endTimestamp=void 0,this.properties.minTimestamp=void 0,this.properties.maxTimestamp=void 0,this.properties.version=0,g(e)&&(g(e.minTime)&&(this.minTimestamp=new Date(e.minTime).getTime()),g(e.maxTime)&&(this.maxTimestamp=new Date(e.maxTime).getTime())),this.computeMinMax()}getId(){return this.id}getTopicId(){return B+this.id}getTimeTopicId(){return V+this.id}getDataSources(){return this.dataSources}computeMinMax(){if(this.dataSources.length>0){let e=Number.MAX_VALUE,t=Number.MIN_VALUE;for(let r of this.dataSources){let i=r.getMinTimeAsTimestamp(),o=r.getMaxTimeAsTimestamp();i<e&&(e=i),o>t&&(t=o)}g(this.minTimestamp)&&this.minTimestamp>e&&(e=this.minTimestamp),g(this.maxTimestamp)&&this.maxTimestamp>t&&(t=this.maxTimestamp),this.properties.minTimestamp=e,this.properties.maxTimestamp=t}else{const e=new Date("1970-01-01T00:00:00Z").getTime(),t=new Date("2055-01-01T00:00:00Z").getTime();this.properties.minTimestamp=this.properties.startTimestamp=e,this.properties.maxTimestamp=this.properties.endTimestamp=t}}getStartTimeAsIsoDate(){return this.properties.startTimestamp?new Date(this.properties.startTimestamp).toISOString():this.getMinTimeAsIsoDate()}getStartTimeAsTimestamp(){return this.properties.startTimestamp}getEndTimeAsIsoDate(){return this.properties.endTimestamp?new Date(this.properties.endTimestamp).toISOString():this.getMaxTimeAsIsoDate()}getEndTimeAsTimestamp(){return this.properties.endTimestamp}getMinTimeAsIsoDate(){return new Date(this.properties.minTimestamp).toISOString()}getMinTimeAsTimestamp(){return this.properties.minTimestamp}getMaxTimeAsIsoDate(){return new Date(this.properties.maxTimestamp).toISOString()}getMaxTimeAsTimestamp(){return this.properties.maxTimestamp}async setStartTime(e,t=!1){this.properties.startTimestamp=new Date(e).getTime(),t||await this.updateAlgo()}async setEndTime(e,t=!1){this.properties.endTimestamp=new Date(e).getTime(),t||await this.updateAlgo()}async setMinTime(e,t=!1){this.minTimestamp=new Date(e).getTime(),this.computeMinMax(),this.timeChanged()}async setMaxTime(e,t=!1){this.maxTimestamp=new Date(e).getTime(),this.computeMinMax(),this.timeChanged()}getReplaySpeed(){return this.replaySpeed}terminate(){null!==this.synchronizerWorker&&(this.synchronizerWorker.terminate(),this.synchronizerWorker=null);for(let e of this.dataSources)e.terminate()}getMode(){return m.REPLAY}async initDataSources(){try{const e=[];for(let t of this.dataSources){const r=await this.createDataSourceForWorker(t);e.push(r)}return this.synchronizerWorker=new Z(new F),this.synchronizerWorker.postMessageWithAck({message:"init",dataSources:e,replaySpeed:this.replaySpeed,timerResolution:this.timerResolution,masterTimeRefreshRate:this.masterTimeRefreshRate,startTimestamp:this.getStartTimeAsTimestamp(),endTimestamp:this.getEndTimeAsTimestamp(),mode:this.getMode(),version:this.version(),topics:{data:this.getTopicId(),time:this.getTimeTopicId()}}).then((()=>{this.initialized=!0}))}catch(error){console.error(error)}}async createDataSourceForWorker(e){const t={bufferingTime:e.properties.bufferingTime||0,timeOut:e.properties.timeOut||0,id:e.getId(),name:e.getName(),minTimestamp:e.getMinTimeAsTimestamp(),maxTimestamp:e.getMaxTimeAsTimestamp()};try{await e.setDataSynchronizer(this.timeSync),e.properties.replaySpeed=this.replaySpeed}catch(r){throw console.error("Cannot set the synchronizer to this DataSource",r),r}return t}timeChanged(){this.onTimeChanged(this.getMinTimeAsTimestamp(),this.getMaxTimeAsTimestamp(),this.getStartTimeAsTimestamp(),this.getEndTimeAsTimestamp())}async addDataSource(e){if(this.dataSources.push(e),this.computeMinMax(),this.initialized){e.setStartTime(this.getStartTimeAsIsoDate()),e.setEndTime(this.getEndTimeAsIsoDate());const t=await this.createDataSourceForWorker(e);return this.synchronizerWorker.postMessageWithAck({message:"add",dataSources:[t]}).then((async()=>{await this.isConnected()&&await e.connect(),this.onAddedDataSource(e.id),this.timeChanged()}))}console.log(`DataSynchronizer not initialized yet, add DataSource ${e.id} as it`),this.timeChanged(),this.onAddedDataSource(e.id)}async removeDataSource(e){if(this.dataSources=this.dataSources.filter((t=>t.id!==e.getId())),0===this.dataSources.length&&await this.reset(),this.computeMinMax(),this.initialized)return await e.disconnect(),await e.removeDataSynchronizer(),this.synchronizerWorker.postMessageWithAck({message:"remove",dataSourceIds:[e.getId()],startTimestamp:this.getStartTimeAsTimestamp(),endTimestamp:this.getEndTimeAsTimestamp()}).then((()=>{this.timeChanged(),this.onRemovedDataSource(e.id)}));console.log(`DataSynchronizer not initialized yet, remove DataSource ${e.id} as it`),await e.removeDataSynchronizer(),this.timeChanged(),this.onRemovedDataSource(e.id)}async push(e,t){if(this.synchronizerWorker)return this.synchronizerWorker.postMessageWithAck({type:"data",dataSourceId:e,data:t})}version(){return this.properties.version}async connect(){if(this.dataSources.length>0)return this.checkInit().then((async()=>{const e=await this.isConnected();return e||this.doConnect()}))}async checkInit(){return g(this.init)||(this.init=this.initDataSources()),this.init}checkStartEndTime(){this.properties.startTimestamp||(this.properties.startTimestamp=this.properties.minTimestamp),this.properties.endTimestamp||(this.properties.endTimestamp=this.properties.maxTimestamp)}async doConnect(){this.checkStartEndTime(),await this.updateAlgo();for(let e of this.dataSources)await e.setTimeRange(this.getStartTimeAsIsoDate(),this.getEndTimeAsIsoDate(),this.getReplaySpeed(),!0);return this.synchronizerWorker.postMessageWithAck({message:"connect",version:this.version()})}async disconnect(){await this.reset();const e=[];for(let t of this.dataSources)e.push(t.disconnect());return Promise.all(e)}async setReplaySpeed(e){return this.replaySpeed=e,this.properties.replaySpeed=e,this.synchronizerWorker.postMessageWithAck({message:"replay-speed",replaySpeed:e})}async setTimeRange(e=this.getStartTimeAsIsoDate(),t=this.getEndTimeAsIsoDate(),r=this.getReplaySpeed(),i=!1){await this.disconnect(),this.incVersion(),this.replaySpeed=r,await this.setStartTime(e,!1),await this.setEndTime(t,!1);const o=[];for(let n of this.dataSources)o.push(n.setTimeRange(this.getStartTimeAsIsoDate(),this.getEndTimeAsIsoDate(),this.getReplaySpeed(),!1,this.getMode(),this.version()));return Promise.all(o)}setStartTimestamp(e){this.properties.startTimestamp=e}async updateAlgo(){for(let t of this.dataSources)t.setStartTimestamp(this.getStartTimeAsTimestamp()),t.setEndTimestamp(this.getEndTimeAsTimestamp());this.computeMinMax();const e=[];for(let t of this.dataSources){const r={bufferingTime:t.properties.bufferingTime||0,timeOut:t.properties.timeOut||0,id:t.getId(),name:t.getName(),minTimestamp:t.getMinTimeAsTimestamp(),maxTimestamp:t.getMaxTimeAsTimestamp()};e.push(r)}return this.synchronizerWorker.postMessageWithAck({message:"time-range",mode:this.getMode(),replaySpeed:this.getReplaySpeed(),startTimestamp:this.getStartTimeAsTimestamp(),endTimestamp:this.getEndTimeAsTimestamp(),version:this.version(),dataSources:e})}async updateProperties(e){const t=[];for(let r of this.dataSources)t.push(r.updateProperties(e));return Promise.all(t)}resetTimes(){this.computeMinMax()}async reset(){return await this.checkInit(),this.synchronizerWorker.postMessageWithAck({message:"reset"}).then((()=>this.resetTimes()))}async getCurrentTime(){return this.synchronizerWorker.postMessageWithAck({message:"current-time"})}async isConnected(){return 0!==this.dataSources.length&&(await this.checkInit(),this.synchronizerWorker.postMessageWithAck({message:"is-connected"}).then((e=>e.data)))}incVersion(){this.properties.version++}async autoUpdateTime(e){const t=[];for(let r of this.dataSources)t.push(r.autoUpdateTime(e));return Promise.all(t)}onTimeChanged(e,t,r,i){}onRemovedDataSource(e){}onAddedDataSource(e){}}var $=H;function Y(){return new Worker(r.p+"js/DataSynchronizer.realtime.worker.b62db558.worker.js")}class G{constructor(e,t){this.bufferingTime=1e3,this.id=e.id||R(),this.dataSources=e.dataSources||[],this.timerResolution=e.timerResolution||5,this.masterTimeRefreshRate=e.masterTimeRefreshRate||250,this.initialized=!1,this.timeSync=t,this.properties={},this.properties.version=0}getId(){return this.id}getDataSources(){return this.dataSources}getTopicId(){return B+this.id}getTimeTopicId(){return V+this.id}setStartTimestamp(e){this.properties.startTimestamp=e}terminate(){null!==this.synchronizerWorker&&(this.synchronizerWorker.terminate(),this.synchronizerWorker=null);for(let e of this.dataSources)e.terminate()}getMode(){return m.REAL_TIME}async initDataSources(){try{const e=[];for(let t of this.dataSources){const r=await this.createDataSourceForWorker(t);e.push(r)}return this.synchronizerWorker=new Z(new Y),this.synchronizerWorker.postMessageWithAck({message:"init",dataSources:e,timerResolution:this.timerResolution,masterTimeRefreshRate:this.masterTimeRefreshRate,mode:m.REAL_TIME,version:this.version(),topics:{data:this.getTopicId(),time:this.getTimeTopicId()}}).then((()=>{this.initialized=!0}))}catch(error){console.log(error)}}async createDataSourceForWorker(e){const t={bufferingTime:e.properties.bufferingTime||0,timeOut:e.properties.timeOut||0,id:e.id,name:e.name};return await e.setDataSynchronizer(this.timeSync),t}async addDataSource(e){if(this.dataSources.push(e),this.initialized){const t=await this.createDataSourceForWorker(e);return this.synchronizerWorker.postMessageWithAck({message:"add",dataSources:[t]}).then((()=>{this.onAddedDataSource(e.id)}))}console.log(`DataSynchronizer not initialized yet, add DataSource ${e.id} as it`)}async removeDataSource(e){if(await e.removeDataSynchronizer(),this.dataSources=this.dataSources.filter((t=>t.id!==e.getId())),0===this.dataSources.length&&await this.reset(),this.initialized)return this.synchronizerWorker.postMessageWithAck({message:"remove",dataSourceIds:[e.getId()]}).then((()=>{this.onRemovedDataSource(e.id)}));console.log(`DataSynchronizer not initialized yet, remove DataSource ${e.id} as it`)}async push(e,t){if(null!==this.synchronizerWorker)return this.synchronizerWorker.postMessageWithAck({type:"data",dataSourceId:e,data:t})}version(){return this.properties.version}async connect(){return await this.checkInit(),this.doConnect()}async checkInit(){return g(this.init)||(this.init=this.initDataSources()),this.init}async doConnect(){for(let e of this.dataSources)await e.connect();return this.synchronizerWorker.postMessageWithAck({message:"connect",version:this.version()})}async disconnect(){await this.reset();const e=[];for(let t of this.dataSources)e.push(t.disconnect());return Promise.all(e)}async updateProperties(e){for(let t of this.dataSources)t.updateProperties(e)}async reset(){return await this.checkInit(),this.synchronizerWorker.postMessageWithAck({message:"reset"})}async getCurrentTime(){return this.synchronizerWorker.postMessageWithAck({message:"current-time"})}async isConnected(){return 0!==this.dataSources.length&&(await this.checkInit(),this.synchronizerWorker.postMessageWithAck({message:"is-connected"}).then((e=>e.data)))}setMinTime(e){}setMaxTime(e){}incVersion(){this.properties.version++}onTimeChanged(e,t){}onRemovedDataSource(e){}onAddedDataSource(e){}}var Q=G;class K{constructor(e){const t=e.id||R();this.dataSynchronizerReplay=new $({...e,id:t+"-replay"},this),this.dataSynchronizerRt=new Q({...e,id:t+"-realtime"},this),this.broadcastChannels=[],this.setMode(e.mode||m.REPLAY).then((()=>{this.dataSynchronizer.onTimeChanged=(e,t,r,i)=>this.onTimeChanged(e,t,r,i),this.dataSynchronizer.onAddedDataSource=e=>this.onAddedDataSource(e),this.dataSynchronizer.onRemovedDataSource=e=>this.onRemovedDataSource(e)}))}getId(){return this.id}async setMode(e){this.dataSynchronizer&&await this.dataSynchronizer.disconnect(),e===m.REPLAY?this.dataSynchronizer=this.dataSynchronizerReplay:e===m.REAL_TIME&&(this.dataSynchronizer=this.dataSynchronizerRt),this.id=this.dataSynchronizer.id;for(let r of this.broadcastChannels)r.close();this.initEventSubscription(),this.broadcastChannels=[];const t=[];for(let r of this.dataSynchronizer.getDataSources())t.push(r.setMode(e));return this.dataSynchronizer.onTimeChanged=(e,t,r,i)=>this.onTimeChanged(e,t,r,i),this.dataSynchronizer.onAddedDataSource=e=>this.onAddedDataSource(e),this.dataSynchronizer.onRemovedDataSource=e=>this.onRemovedDataSource(e),Promise.all(t).then((()=>this.onChangedMode(e)))}initEventSubscription(){this.eventSubscriptionMap={},this.broadcastChannels.push(new BroadcastChannel(this.getTopicId()).onmessage=e=>{const t=e.data.type;if(t in this.eventSubscriptionMap)for(let r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)}),this.broadcastChannels.push(new BroadcastChannel(this.getTimeTopicId()).onmessage=e=>{e.data.type===N.MASTER_TIME&&this.dataSynchronizer.setStartTimestamp(e.data.timestamp);const t=e.data.type;if(t in this.eventSubscriptionMap)for(let r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)})}subscribe(e,t){for(let r=0;r<t.length;r++)t[r]in this.eventSubscriptionMap||(this.eventSubscriptionMap[t[r]]=[]),this.eventSubscriptionMap[t[r]].push(e)}getDataSources(){return this.dataSynchronizer.getDataSources()}getTopicId(){return this.dataSynchronizer.getTopicId()}getTimeTopicId(){return this.dataSynchronizer.getTimeTopicId()}getStartTimeAsIsoDate(){return this.dataSynchronizer.getStartTimeAsIsoDate()}getStartTimeAsTimestamp(){return this.dataSynchronizer.getStartTimeAsTimestamp()}getEndTimeAsIsoDate(){return this.dataSynchronizer.getEndTimeAsIsoDate()}getEndTimeAsTimestamp(){return this.dataSynchronizer.getEndTimeAsTimestamp()}getMinTimeAsIsoDate(){return this.dataSynchronizer.getMinTimeAsIsoDate()}getMinTimeAsTimestamp(){return this.dataSynchronizer.getMinTimeAsTimestamp()}getMaxTimeAsIsoDate(){return this.dataSynchronizer.getMinTimeAsTimestamp()}getMaxTimeAsTimestamp(){return this.dataSynchronizer.getMaxTimeAsTimestamp()}getReplaySpeed(){return this.dataSynchronizer.getReplaySpeed()}terminate(){return this.dataSynchronizer.terminate()}getMode(){return this.dataSynchronizer.getMode()}async autoUpdateTime(e){return this.dataSynchronizerReplay.autoUpdateTime(e)}async initDataSources(){return this.dataSynchronizer.initDataSources()}async addDataSource(e){return await this.dataSynchronizerRt.addDataSource(e),this.dataSynchronizerReplay.addDataSource(e)}async removeDataSource(e){return await this.dataSynchronizerRt.removeDataSource(e),this.dataSynchronizerReplay.removeDataSource(e)}async push(e,t){return this.dataSynchronizer.push(e,t)}version(){return this.dataSynchronizer.version()}async connect(){return this.dataSynchronizer.connect()}async checkInit(){return this.dataSynchronizer.checkInit()}async doConnect(){return this.dataSynchronizer.doConnect()}async disconnect(){return this.dataSynchronizer.disconnect()}async setReplaySpeed(e){return this.dataSynchronizer.setReplaySpeed(e)}async setTimeRange(e=this.getStartTimeAsIsoDate(),t=this.getEndTimeAsIsoDate(),r=this.getReplaySpeed(),i=!1){return this.dataSynchronizer.setTimeRange(e,t,r,i)}async updateProperties(e){return this.dataSynchronizer.updateProperties(e)}async reset(){return this.dataSynchronizer.reset()}async getCurrentTime(){return this.dataSynchronizer.getCurrentTime()}setMinTime(e){this.dataSynchronizer.setMinTime(e)}setMaxTime(e){this.dataSynchronizer.setMaxTime(e)}async isConnected(){return this.dataSynchronizer.isConnected()}minMaxChanged(e=!1){e&&(this.dataSynchronizerReplay.properties.startTimestamp=void 0,this.dataSynchronizerReplay.properties.endTimestamp=void 0),this.dataSynchronizerReplay.computeMinMax(),this.dataSynchronizerReplay.timeChanged()}onTimeChanged(e,t){}onRemovedDataSource(e){}onAddedDataSource(e){}onChangedMode(e){}}var X=K;function J(){return new Worker(r.p+"js/DataSource.worker.01b1607a.worker.js")}const ee={CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",FETCH_STARTED:"fetch-start",FETCH_ENDED:"fetch-end",CLOSED:"closed",CLOSED_ERROR:"closed-error"};class te{constructor(e,t){this.url=e,this.properties=t,this.id="DataConnector-"+R(),this.reconnectTimeout=2e4,this.status=ee.DISCONNECTED}disconnect(){this.checkStatus(ee.DISCONNECTED),this.checkAndClearReconnection()}setUrl(e){this.url=e}getId(){return this.id}getUrl(){return this.url}setReconnectTimeout(e){this.reconnectTimeout=e}onReconnect(){return!0}connect(){}forceReconnect(){this.disconnect(),this.connect()}onChangeStatus(e){}checkStatus(e){e!==this.status&&(this.onChangeStatus(e),this.status=e)}onDisconnect(){}onConnect(){}postRequest(){}publishRequest(){}reset(){}close(){}onClose(e){}onError(e){}}var re=te,ie=(r(23767),r(8585),r(68696),r(68475)),oe=r.n(ie);let ne={};class ae{constructor(e){if(this.properties=e,!g(e))throw Error("endpoint and clientId are mandatory properties");if(!g(e.endpoint))throw Error("endpoint is a mandatory property");if(!g(e.clientId))throw Error("clientId is a mandatory property");this.mqttPrefix="/api",g(e.mqttPrefix)&&(this.mqttPrefix=e.mqttPrefix),this.topics=[];let t={reconnectPeriod:30,connectTimeout:3e4,clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),wsOptions:{binaryType:"arraybuffer"}};g(this.properties.options)&&(t={...t,...this.properties.options}),this.options=t,this.endpoint=e.endpoint+"/mqtt",this.clientId=e.clientId,this.client=null}async subscribe(e,t){if(e in this.topics)return;if(!g(this.client))throw Error("You must connect the client before subscribing any topic");let r;const i=`${this.mqttPrefix}${e}`;return this.topics.push(e),new Promise(((o,n)=>{r=setInterval((()=>{if(this.client.connected)try{i in ne||(ne[i]=[]),ne[i].push({callbackFn:t,topic:e}),this.client.subscribe(`${i}`,(function(e){e?(t(e),n(e)):(console.warn(`Subscribed to ${i}`),o())}))}catch(a){console.error(a)}finally{clearInterval(r)}}),100)}))}publish(e,t){const r=`${this.mqttPrefix}${e}`;this.client.publish(r,t)}async unsubscribe(e){const t=`${this.mqttPrefix}${e}`;return this.client.unsubscribe(t,(e=>{if(delete ne[t],e){const r=`Cannot Unsubscribed topic: ${t} : ${e}`;throw console.error(r),Error(r)}console.warn(`Unsubscribed topic: ${t}`)}))}async unsubscribeAll(){for(let e of this.topics)await this.unsubscribe(e);this.topics=[]}connect(){if(!g(this.client)){this.client=oe().connect(this.endpoint,{...this.options});const e=this;this.client.on("connect",(t=>{console.info(`Mqtt client is connected to ${e.endpoint}`)})),this.client.on("message",this.onMessage.bind(this)),this.client.on("offline",(t=>{throw new Error(`The server ${e.endpoint} seems offline`)})),this.client.on("error",(e=>{throw new Error(error)}))}}async onMessage(e,t){if(e in ne)for(let r of ne[e])r.callbackFn(new Uint8Array(t).subarray(t.byteOffset).buffer,r.topic)}disconnect(){if(!g(this.client))throw Error("The client has not been created yet");this.client.end(),ne={},this.client=null}isConnected(){return g(this.client)&&this.client.connected}}var se=ae;class le{constructor(e){this.props=e}toQueryString(e=[],t=[]){let r="",i="";t.push("replaySpeed");for(let o in this.props)t.includes(o)||(0===e.length||e.includes(o))&&g(this.props[o])&&(r+="f"===o||"format"===o||"responseFormat"===o||"obsFormat"===o?i+o+"="+this.props[o].replaceAll("+","%2B"):i+o+"="+this.props[o],i="&");return r}}var ce=le;class ue extends ce{constructor(e){super({phenomenonTime:void 0,resultTime:void 0,featureOfInterest:void 0,select:void 0,bbox:void 0,location:void 0,format:"application/om+json",replaySpeed:void 0,...e})}}var de=ue;const he={};class pe extends re{constructor(e,t){super(e,{mqttPrefix:t.mqttOpts&&t.mqttOpts.prefix||"/api",...t}),this.interval=-1,this.id=`mqtt-connector-${R()}`}initBc(){let e;this.onMessage=(e,t)=>{this.broadcastChannel.postMessage({data:e,topic:t},[e])},this.broadcastChannel=new BroadcastChannel(this.id),this.broadcastChannel.onmessage=t=>{"subscribe"===t.data.message?(e=t.data.queryString,this.doRequest(t.data.topic,t.data.queryString)):"unsubscribe"===t.data.message&&this.disconnect(t.data.topic+"?"+e)}}getMqttProvider(){let e=this.getUrl();if(e in he)console.warn(`Getting MQTT provider from cache: ${e}`);else{let t={reconnectPeriod:this.reconnectTimeout,connectTimeout:3e4};g(this.properties.mqttOpts)&&(t={...t,...this.properties.mqttOpts}),he[e]=new se({endpoint:e,clientId:R(),options:t,mqttPrefix:this.properties.mqttPrefix}),console.warn(`Stored MQTT provider into cache: ${e}`),he[e].connect(),he[e].checkStatus=this.checkStatus,this.checkStatus(ee.CONNECTED)}return he[e]}checkStatus(e){this.onChangeStatus(e),this.status=e}doRequest(e="",t=undefined){const r=this.getMqttProvider();r.subscribe(`${e}?${t}`,this.onMessage).then((()=>{this.onChangeStatus(ee.CONNECTED)}))}publishRequest(e,t){const r=this.getMqttProvider();r.publish(e,t)}async disconnect(e){const t=he[this.getUrl()];if(g(t)&&t.isConnected())return e?t.unsubscribe(e):t.unsubscribeAll()}connect(){this.doRequest(this.properties.topic||"")}onMessage(e){}isConnected(){return g(he[this.getUrl()])&&he[this.getUrl()].isConnected()}reset(){this.disconnect(),console.log(`Remove provider from cache: ${this.getUrl()}`),delete he[this.getUrl()]}}var fe=pe;const me=5,ge=[];let ye=0,be={},ve={};function we(e,t){let r=e.mqttOpts.endpointUrl;r.endsWith("/")&&(r=r.substring(0,r.length-1));const i=e.tls?"s":"",o="mqtt"+i+"://"+r;return o in ve||(ve[o]=new fe(o,e),ve[o].initBc()),ve[o].id}class ke{constructor(e,t){this.id=t.id||"DataSource-"+R(),this.name=e,this.properties=t,this.eventSubscriptionMap={},this.init=void 0,this.mode=m.REAL_TIME,g(t.mode)&&(this.mode=t.mode),"mqtt"===t.protocol&&(this.properties.mqttOpts.bcId=we(t))}getId(){return this.id}getName(){return this.name}terminate(){null!==this.dataSourceWorker&&this.dataSourceWorker.terminate()}getTopicId(){return W+this.id}subscribe(e,t){for(let r=0;r<t.length;r++)t[r]in this.eventSubscriptionMap||(this.eventSubscriptionMap[t[r]]=[]),this.eventSubscriptionMap[t[r]].push(e)}createWorker(e){return new Z(new J)}async updateProperties(e){return this.properties={...this.properties,...e},this.dataSourceWorker.postMessageWithAck({message:"update-properties",data:e,dsId:this.id})}async connect(){return await this.checkInit(),this.doConnect()}getWorker(){return this.id in be||(g(ge[ye])||(ge[ye]=this.createWorker()),be[this.id]=ye,ye=(ye+1)%me),ge[be[this.id]]}async initDataSource(e=this.properties){return this.dataSourceWorker=this.getWorker(),this.dataSourceWorker.postMessageWithAck({message:"init",id:this.id,properties:e,topics:{data:this.getTopicId()},dsId:this.id}).then((()=>{const e=new BroadcastChannel(this.getTopicId());e.onmessage=e=>{this.handleMessage(e)},this.isInitialized=!0}))}handleMessage(e){const t=e.data.type;if(t in this.eventSubscriptionMap)for(let r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)}resetInit(){this.init=void 0}async checkInit(){return g(this.init)||(this.init=this.initDataSource()),this.init}async doConnect(){return this.dataSourceWorker.postMessageWithAck({message:"connect",dsId:this.id})}async isConnected(){return!!this.init&&this.checkInit().then((()=>this.dataSourceWorker.postMessageWithAck({message:"is-connected",dsId:this.id})))}async disconnect(){return await this.checkInit(),this.dataSourceWorker.postMessageWithAck({message:"disconnect",dsId:this.id})}async onDisconnect(){}reset(){this.init=void 0}onRemovedDataSource(e){}onAddedDataSource(e){}}var Se=ke;class _e extends Se{constructor(e,t){super(e,t),this.dataSynchronizer=void 0,this.properties.version=0}getTimeTopicId(){return U+this.id}getMode(){return m.REAL_TIME}getStartTimeAsIsoDate(){return"now"}getStartTimeAsTimestamp(){return Date.now()}getEndTimeAsIsoDate(){return this.getMaxTimeAsTimestamp()}getEndTimeAsTimestamp(){return this.getMaxTimeAsTimestamp()}getMinTimeAsIsoDate(){return"now"}getMaxTimeAsIsoDate(){return"2055-01-01Z"}getMinTimeAsTimestamp(){return Date.now()}getMaxTimeAsTimestamp(){return new Date("2055-01-01Z").toISOString()}setMinTime(e){}setMaxTime(e){}setStartTimestamp(e){}setEndTimestamp(e){}getReplaySpeed(){return 1}setReplaySpeed(e){}setVersion(e){this.properties.version=e}async setDataSynchronizer(e){return this.dataSynchronizer=e,this.initDataSynchronizerIfPresent()}async initDataSynchronizerIfPresent(){if(this.dataSynchronizer){await this.checkInit();const e=B+this.dataSynchronizer.id;return this.properties.version=this.dataSynchronizer.version(),this.dataSourceWorker.postMessageWithAck({message:"topics",topics:{data:e,time:this.getTimeTopicId(),mode:m.REAL_TIME,sync:this.dataSynchronizer.getTimeTopicId()},dsId:this.id,mode:m.REAL_TIME})}}async removeDataSynchronizer(){return this.dataSourceWorker&&(this.dataSourceWorker.terminate(),this.dataSynchronizer=void 0),this.checkInit()}async disconnect(){return await this.checkInit(),this.dataSourceWorker.postMessageWithAck({message:"disconnect",dsId:this.id,mode:m.REAL_TIME})}async doConnect(){return this.dataSourceWorker.postMessageWithAck({message:"connect",startTime:"now",version:this.version(),dsId:this.id,mode:m.REAL_TIME})}async initDataSource(e){await super.initDataSource(e);const t={data:this.getTopicId(),time:this.getTimeTopicId()};return this.dataSynchronizer&&(t.sync=this.dataSynchronizer.getTimeTopicId()),this.dataSourceWorker.postMessageWithAck({message:"topics",topics:t,dsId:this.id,mode:m.REAL_TIME}).then((()=>{const e=new BroadcastChannel(this.getTimeTopicId());e.onmessage=async e=>{await this.handleTimeMessage(e)}}))}async handleTimeMessage(e){const t=e.data.type;if(t in this.eventSubscriptionMap)for(let r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)}version(){return this.properties.version}}var Te=_e;class xe extends Se{constructor(e,t){super(e,t),this.setMinTime(t.startTime),this.setMaxTime(t.endTime),this.properties.startTimestamp=new Date(t.startTime).getTime(),this.properties.endTimestamp=new Date(t.endTime).getTime(),S(t,"Some properties must be defined"),this.dataSynchronizer=void 0,this.properties.version=0}getTimeTopicId(){return U+this.id}getMode(){return this.properties.mode}getStartTimeAsIsoDate(){return new Date(this.getStartTimeAsTimestamp()).toISOString()}getStartTimeAsTimestamp(){return this.properties.startTimestamp}getEndTimeAsIsoDate(){return new Date(this.getEndTimeAsTimestamp()).toISOString()}getEndTimeAsTimestamp(){return this.properties.endTimestamp}getMinTimeAsIsoDate(){return new Date(this.getMinTimeAsTimestamp()).toISOString()}getMaxTimeAsIsoDate(){return new Date(this.getMaxTimeAsTimestamp()).toISOString()}getMinTimeAsTimestamp(){return this.properties.minTimestamp}getMaxTimeAsTimestamp(){return this.properties.maxTimestamp}setMinTime(e){this.properties.minTimestamp=new Date(e).getTime(),this.computeMinMax()}setMaxTime(e){this.properties.maxTimestamp=new Date(e).getTime(),this.computeMinMax()}setStartTimestamp(e){this.properties.startTimestamp=e,this.computeMinMax()}setEndTimestamp(e){this.properties.endTimestamp=e,this.computeMinMax()}setStartTime(e){this.setStartTimestamp(new Date(e).getTime())}setEndTime(e){this.setEndTimestamp(new Date(e).getTime())}getReplaySpeed(){return this.properties.replaySpeed}setReplaySpeed(e){this.properties.replaySpeed=e}setVersion(e){this.properties.version=e}async setDataSynchronizer(e){return this.dataSynchronizer=e,this.initDataSynchronizerIfPresent()}async initDataSynchronizerIfPresent(){if(this.dataSynchronizer){await this.checkInit();const e=B+this.dataSynchronizer.getId();return this.properties.version=this.dataSynchronizer.version(),this.dataSourceWorker.postMessageWithAck({message:"topics",topics:{data:e,time:this.getTimeTopicId(),sync:this.dataSynchronizer.getTimeTopicId()},dsId:this.id,mode:m.REPLAY})}}async removeDataSynchronizer(){return this.init=void 0,this.dataSynchronizer=void 0,this.checkInit()}async disconnect(){if(g(this.init))try{return this.dataSourceWorker.postMessageWithAck({message:"disconnect",dsId:this.id,mode:m.REPLAY})}catch(e){console.error(e)}}async doConnect(){return this.dataSourceWorker.postMessageWithAck({message:"connect",startTime:this.getStartTimeAsIsoDate(),version:this.version(),dsId:this.id,mode:m.REPLAY})}async initDataSource(e){await super.initDataSource(e);const t={data:this.getTopicId(),time:this.getTimeTopicId()};return this.dataSynchronizer&&(t.sync=this.dataSynchronizer.getTimeTopicId()),this.dataSourceWorker.postMessageWithAck({message:"topics",topics:t,dsId:this.id,mode:m.REPLAY}).then((()=>{const e=new BroadcastChannel(this.getTimeTopicId());e.onmessage=e=>{this.handleTimeMessage(e)}}))}handleTimeMessage(e){const t=e.data.type;if(t in this.eventSubscriptionMap)for(let r=0;r<this.eventSubscriptionMap[t].length;r++)this.eventSubscriptionMap[t][r](e.data)}version(){return this.properties.version}computeMinMax(){this.properties.startTimestamp<this.properties.minTimestamp&&(this.properties.startTimestamp=this.properties.minTimestamp),this.properties.endTimestamp>this.properties.maxTimestamp&&(this.properties.endTimestamp=this.properties.maxTimestamp)}async setTimeRange(e=this.getStartTimeAsIsoDate(),t=this.getEndTimeAsIsoDate(),r=this.getReplaySpeed(),i=!1,o=this.getMode(),n=this.version()){return await this.checkInit(),n!==this.version()&&(this.properties.version=n),this.properties.startTimestamp=new Date(e).getTime(),this.properties.endTimestamp=new Date(t).getTime(),this.computeMinMax(),this.updateProperties({startTime:this.getStartTimeAsIsoDate(),endTime:this.getEndTimeAsIsoDate(),replaySpeed:r,reconnect:i,mode:o,version:n})}}var Ie=xe;class Ce{constructor(e,t){const r=R();this.timeSeriesRealtimeDataSource=new Te(e,{id:r,...t}),this.timeSeriesReplayDataSource=new Ie(e,{id:r,...t}),this.setMode(t.mode)}async setMode(e){if(this.timeSeriesDataSource&&await this.timeSeriesDataSource.disconnect(),!this.timeSeriesDataSource||e!==this.timeSeriesDataSource.getMode())return e===m.REAL_TIME?this.timeSeriesDataSource=this.timeSeriesRealtimeDataSource:this.timeSeriesDataSource=this.timeSeriesReplayDataSource,this.timeSeriesDataSource.resetInit(),this.properties=this.timeSeriesDataSource.properties,this.id=this.timeSeriesDataSource.id,this.name=this.timeSeriesDataSource.name,this.properties.mode=e,this.timeSeriesDataSource.initDataSynchronizerIfPresent()}getTimeTopicId(){return this.timeSeriesDataSource.getTimeTopicId()}getMode(){return this.timeSeriesDataSource.getMode()}setVersion(e){this.timeSeriesDataSource.setVersion(e)}getStartTimeAsIsoDate(){return this.timeSeriesDataSource.getStartTimeAsIsoDate()}getStartTimeAsTimestamp(){return this.timeSeriesDataSource.getStartTimeAsTimestamp()}getEndTimeAsIsoDate(){return this.timeSeriesDataSource.getEndTimeAsIsoDate()}getEndTimeAsTimestamp(){return this.timeSeriesDataSource.getEndTimeAsTimestamp()}getMinTimeAsIsoDate(){return this.timeSeriesDataSource.getMinTimeAsIsoDate()}getMaxTimeAsIsoDate(){return this.timeSeriesDataSource.getMaxTimeAsIsoDate()}getMinTimeAsTimestamp(){return this.timeSeriesDataSource.getMinTimeAsTimestamp()}getMaxTimeAsTimestamp(){return this.timeSeriesDataSource.getMaxTimeAsTimestamp()}setMinTime(e){this.timeSeriesDataSource.setMinTime(e)}setMaxTime(e){this.timeSeriesDataSource.setMaxTime(e)}setStartTimestamp(e){this.timeSeriesDataSource.setStartTimestamp(e)}setEndTimestamp(e){this.timeSeriesDataSource.setEndTimestamp(e)}setStartTime(e){this.timeSeriesDataSource.setStartTime(e)}setEndTime(e){this.timeSeriesDataSource.setEndTime(e)}getReplaySpeed(){return this.timeSeriesDataSource.getReplaySpeed()}setReplaySpeed(e){this.timeSeriesDataSource.setReplaySpeed(e)}async setDataSynchronizer(e){return this.timeSeriesDataSource.setDataSynchronizer(e)}getDataSynchronizer(){return this.timeSeriesDataSource.dataSynchronizer}async removeDataSynchronizer(){return this.timeSeriesDataSource.removeDataSynchronizer()}async disconnect(){return this.timeSeriesDataSource.disconnect()}async doConnect(){return this.timeSeriesDataSource.doConnect()}async initDataSource(e){return this.timeSeriesDataSource.initDataSource(e)}version(){return this.timeSeriesDataSource.version()}async setTimeRange(e=this.getStartTimeAsIsoDate(),t=this.getEndTimeAsIsoDate(),r=this.getReplaySpeed(),i=!1,o=this.getMode(),n=this.version()){return this.timeSeriesDataSource.setTimeRange(e,t,r,i,o,n)}getId(){return this.timeSeriesDataSource.getId()}getName(){return this.timeSeriesDataSource.getName()}terminate(){this.timeSeriesDataSource.terminate()}getTopicId(){return this.timeSeriesDataSource.getTopicId()}subscribe(e,t){this.timeSeriesDataSource.subscribe(e,t)}async updateProperties(e){return this.timeSeriesDataSource.updateProperties(e)}async connect(){return this.timeSeriesDataSource.connect()}async checkInit(){return this.timeSeriesDataSource.checkInit()}async isConnected(){return this.timeSeriesDataSource.isConnected()}reset(){this.timeSeriesDataSource.reset()}onTimeChanged(e,t,r,i){}async autoUpdateTime(e){if(e)return this.createTimeUpdater();this.destroyTimeUpdater()}async createTimeUpdater(){}destroyTimeUpdater(){}}var Ee=Ce;class De{constructor(e){this.properties=e,this.datastreamInterval=void 0}async fetchTime(e){return fetch(e).then((e=>{if(!e.ok){let t=new Error("HTTP status code: "+e.status);throw t.response=e,t.status=e.status,this.onError(t),t}return e})).then((e=>e.json())).then((e=>{if(e&&e.items.length>0&&e.items[0].phenomenonTime&&e.items[0].phenomenonTime.length>1){const t=e.items[0].phenomenonTime[0],r=e.items[0].phenomenonTime[1];this.onTimeChanged(t,r)}}))}async start(){const e=new RegExp("\\/(.*\\/)(.*)\\/observations");if(e.test(this.properties.resource)){const t=e.exec(this.properties.resource),r=t[2],i=`http${this.properties.tls?"s":""}://${this.properties.endpointUrl}/datastreams?id=${r}&select=id,phenomenonTime&f=application%2Fjson`;return this.fetchTime(i).then((()=>{this.datastreamInterval=setInterval((()=>{this.fetchTime(i)}),5e3)}))}throw Error(`Cannot parse dataStream id from resource ${this.properties.resource}`)}onTimeChanged(e,t){}onError(e){}destroy(){clearInterval(this.datastreamInterval)}}var Ae=De;class Pe extends Ee{constructor(e,t){super(e,{reconnectTimeout:5e3,reconnectRetry:10,startTime:"now",endTime:"2055-01-01T00:00:00Z",tls:!1,responseFormat:"application/swe+json",protocol:"http",type:"SweApiStream",mode:m.REAL_TIME,prefetchBatchSize:250,prefetchBatchDuration:5e3,connectorOpts:{},...t})}async createTimeUpdater(){this.timeUpdater=new Ae(this.properties);let e=!0;return this.timeUpdater.onTimeChanged=(t,r)=>{e&&(this.setMinTime(t),e=!1),this.setMaxTime(r),this.getDataSynchronizer()&&this.getDataSynchronizer().minMaxChanged(e)},this.timeUpdater.onError=e=>reject(),this.timeUpdater.start()}destroyTimeUpdater(){this.timeUpdater&&this.timeUpdater.destroy()}}var Re=Pe;r(30541);class Me{constructor(e){this.properties=e,this.init(e)}init(e=this.properties){if(this.data=[],this.propsById={},this.dataSourcesToFn=void 0,this.props={id:"layer-"+R(),filter:!0,name:"",description:"",visible:!0,timestamp:!0},this.dataSourceIds=void 0,g(e.name)&&(this.props.name=e.name),g(e.description)&&(this.props.description=e.description),g(e.dataSourceId)&&(this.dataSourceIds=[e.dataSourceId]),g(e.dataSourceIds)&&(this.dataSourceIds=e.dataSourceIds),this.dataSourceIds||(this.dataSourceIds=[]),g(e.visible)&&(this.props.visible=e.visible),g(e.timestamp)&&(this.props.timestamp=e.timestamp),g(e.onLeftClick)&&P(e.onLeftClick)&&(this.props.onLeftClick=e.onLeftClick),g(e.onRightClick)&&P(e.onRightClick)&&(this.props.onRightClick=e.onRightClick),g(e.onHover)&&P(e.onHover)&&(this.props.onHover=e.onHover),this.initEvents(),this.checkFn("filter")){let e=(e,t,r)=>{this.props.filter=this.getFunc("filter")(e,t,r)};this.addFn(this.getDataSourcesIdsByProperty("filter"),e)}else{this.properties.filter=function(e,t,r){return!0};let e=async(e,t,r)=>{this.props.filter=await this.getFunc("filter")(e,t,r)};this.addFn(this.getDataSourcesIdsByProperty("filter"),e)}if(this.checkFn("getVisible")){let e=async(e,t,r)=>{this.updateProperty("visible",await this.getFunc("getVisible")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getVisible"),e)}if(this.checkFn("getTimestamp")){let e=async(e,t,r)=>{this.updateProperty("timestamp",await this.getFunc("getTimestamp")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getTimestamp"),e)}if(this.checkFn("getName")){let e=async(e,t,r)=>{this.updateProperty("name",await this.getFunc("getName")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getName"),e)}if(this.checkFn("getDescription")){let e=async(e,t,r)=>{this.updateProperty("description",await this.getFunc("getDescription")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getDescription"),e)}}getFunc(e){return this.properties[e].handler||this.properties[e]}checkFn(e){let t=this.properties[e];if(k(t))return S(this.dataSourceIds,"dataSourceIds"),!0;{let r=y(t);return r&&(A(t.dataSourceIds,e+".dataSourceIds"),P(t.handler,e+".handler")),r}}initEvents(){}clear(){}getId(){return this.props.id}select(e){}addFn(e,t,r=!1){g(this.dataSourcesToFn)||(this.dataSourcesToFn={});for(let i=0;i<e.length;i++){let o=e[i];g(this.dataSourcesToFn[o])||(this.dataSourcesToFn[o]=[]),r?this.dataSourcesToFn[o].unshift(t):this.dataSourcesToFn[o].push(t)}}async setData(e,t,r={}){if(this.data=[],r.dataSourceId=e,g(this.dataSourcesToFn)&&e in this.dataSourcesToFn){let i=this.dataSourcesToFn[e];this.props.filter=!0;for(let e=0;e<t.length;e++){for(let o=0;o<i.length;o++)if(await i[o](t[e].data,t[e].data.timestamp,r),!this.props.filter)break;this.props.filter&&this.data.push({...this.props,...this.propsById[this.getId()]})}}}getDataSourcesIds(){if(g(this.dataSourcesToFn)){let e=[];for(let t in this.dataSourcesToFn)e.push(t);return e}return S(this.dataSourceIds,"dataSourceId must be defined"),this.dataSourceIds}getDataSourcesIdsByProperty(e){return this.properties[e].dataSourceIds||this.dataSourceIds}getProps(){return{type:this.type,values:this.data}}reset(){this.init(this.properties)}updateProperty(e,t){this.propsById[this.getId()][e]=t}checkExistingProps(e){return e in this.propsById}setProps(e,t){this.propsById[e]=t}setId(e,t){this.props.id=e,this.checkExistingProps(e)||this.setProps(e,t())}definedId(e,t){if(this.checkFn(`get${M(e)}`)){let r=async(r,i,o)=>{const n=await this.getFunc(`get${M(e)}`)(r,i,o);this.setId(n,(()=>({...t,[e]:n})))};this.addFn(this.getDataSourcesIdsByProperty(`get${M(e)}`),r,!0)}else this.setId(this.getId(),(()=>({...t,[e]:this.getId()})))}getCurrentProps(){return this.propsById[this.getId()]}getIds(){return Object.keys(this.propsById)}}var Oe=Me;class Le extends Oe{constructor(e){super(e),this.type="marker"}init(e=this.properties){super.init(e);const t={markerId:()=>this.getId(),location:null,orientation:{heading:0},icon:null,iconAnchor:[16,16],iconSize:[16,16],iconScale:1,iconColor:void 0,iconOpacity:.75,label:null,labelColor:void 0,labelOutlineColor:void 0,labelBackgroundColor:void 0,labelSize:16,labelScale:1,labelOffset:[0,0],zoomLevel:15,defaultToTerrainElevation:!1,zIndex:0,allowBillboardRotation:!0,options:{}};if(g(e.defaultToTerrainElevation)&&(t.defaultToTerrainElevation=e.defaultToTerrainElevation),y(e.location)&&(D(e.location,"location"),t.location=e.location),y(e.orientation)&&(D(e.orientation,"orientation"),t.orientation=e.orientation),y(e.icon)&&(I(e.icon,"icon"),t.icon=e.icon),y(e.iconAnchor)&&(A(e.iconAnchor,"iconAnchor"),t.iconAnchor=e.iconAnchor),y(e.iconSize)&&(A(e.iconSize,"iconSize"),t.iconSize=e.iconSize),y(e.iconScale)&&(E(e.iconScale,"iconScale"),t.iconScale=e.iconScale),y(e.iconColor)&&(I(e.iconColor,"iconColor"),t.iconColor=e.iconColor),y(e.iconOpacity)&&(I(e.iconOpacity,"iconOpacity"),t.iconOpacity=e.iconOpacity),y(e.label)&&(I(e.label,"label"),t.label=e.label),y(e.labelColor)&&(I(e.labelColor,"labelColor"),t.labelColor=e.labelColor),y(e.labelOutlineColor)&&(I(e.labelOutlineColor,"labelOutlineColor"),t.labelOutlineColor=e.labelOutlineColor),y(e.labelBackgroundColor)&&(I(e.labelBackgroundColor,"labelBackgroundColor"),t.labelBackgroundColor=e.labelBackgroundColor),y(e.labelSize)&&(E(e.labelSize,"labelSize"),t.labelSize=e.labelSize),y(e.labelScale)&&(E(e.labelScale,"labelScale"),t.labelScale=e.labelScale),y(e.labelOffset)&&(A(e.labelOffset,"labelOffset"),t.labelOffset=e.labelOffset),y(e.zoomLevel)&&(E(e.zoomLevel,"zoomLevel"),t.zoomLevel=e.zoomLevel),y(e.zIndex)&&(C(e.zIndex,"zIndex"),t.zIndex=e.zIndex),y(e.allowBillboardRotation)&&(x(e.allowBillboardRotation,"allowBillboardRotation"),t.allowBillboardRotation=e.allowBillboardRotation),this.definedId("markerId",t),this.checkFn("getLocation")){let e=async(e,t,r)=>{this.updateProperty("location",await this.getFunc("getLocation")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getLocation"),e)}if(this.checkFn("getOrientation")){let e=async(e,t,r)=>{this.updateProperty("orientation",await this.getFunc("getOrientation")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getOrientation"),e)}if(this.checkFn("getIcon")){let e=async(e,t,r)=>{this.updateProperty("icon",await this.getFunc("getIcon")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getIcon"),e)}if(this.checkFn("getIconColor")){let e=async(e,t,r)=>{this.updateProperty("iconColor",await this.getFunc("getIconColor")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getIconColor"),e)}if(this.checkFn("getIconScale")){let e=async(e,t,r)=>{this.updateProperty("iconScale",await this.getFunc("getIconScale")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getIconScale"),e)}if(this.checkFn("getLabel")){let e=async(e,t,r)=>{this.updateProperty("label",await this.getFunc("getLabel")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getLabel"),e)}if(this.checkFn("getLabelColor")){let e=async(e,t,r)=>{this.updateProperty("labelColor",await this.getFunc("getLabelColor")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getLabelColor"),e)}if(this.checkFn("getLabelSize")){let e=async(e,t,r)=>{this.updateProperty("labelSize",await this.getFunc("getLabelSize")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getLabelSize"),e)}if(this.checkFn("getZindex")){let e=async(e,t,r)=>{this.updateProperty("zIndex",await this.getFunc("getZindex")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getZindex"),e)}}}var ze=Le;class je extends Oe{constructor(e){super(e),this.type="curve"}init(e=this.properties){super.init(e);const t={xLabel:"",yLabel:"",lineColor:"#399ca5",backgroundColor:"#399ca5",fill:!1,stroke:1,curveId:R(),x:0,y:0,maxValues:10};if(g(e.yLabel)&&(t.yLabel=e.yLabel),g(e.stroke)&&(t.stroke=e.stroke),g(e.maxValues)&&(t.maxValues=e.maxValues),g(e.lineColor)&&(t.lineColor=e.lineColor),g(e.backgroundColor)&&(t.backgroundColor=e.backgroundColor),g(e.fill)&&(t.fill=e.fill),g(e.x)&&(t.x=e.x),g(e.y)&&(t.y=e.y),this.definedId("curveId",t),g(e.getStroke)){let e=async(e,t,r)=>{this.updateProperty("stroke",await this.getFunc("getStroke")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getStroke"),e)}if(g(e.getLineColor)){let e=async(e,t,r)=>{this.updateProperty("lineColor",await this.getFunc("getLineColor")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getLineColor"),e)}if(g(e.getBackgroundColor)){let e=async(e,t,r)=>{this.updateProperty("backgroundColor",await this.getFunc("getBackgroundColor")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getLineColor"),e)}if(g(e.getValues)){let e=async(e,t,r)=>{const i=await this.getFunc("getValues")(e,t,r);this.updateProperty("x",i.x),this.updateProperty("y",i.y)};this.addFn(this.getDataSourcesIdsByProperty("getValues"),e)}}}var Fe=je;const Be=Object.freeze({LONLATALT_WITH_EULER_ANGLES:1,ECEF_WITH_MATRICES:2,ECEF_WITH_QUATERNIONS:3});class Ve extends Oe{constructor(e){super(e),this.type="frustum"}init(e=this.properties){super.init(e);const t={color:"rgb(255,0,0)",opacity:.5,origin:null,fov:null,near:.009,range:null,platformOrientation:{heading:0,pitch:0,roll:0},sensorOrientation:{yaw:0,pitch:0,roll:0},positionMode:Be.LONLATALT_WITH_EULER_ANGLES,aspectRatio:4/3};if(g(e.color)&&(t.color=e.color),g(e.opacity)&&(t.opacity=e.opacity),g(e.near)&&(t.near=e.near),g(e.range)&&(t.range=e.range),g(e.fov)&&(t.fov=e.fov),g(e.positionMode)&&(t.positionMode=e.positionMode),g(e.aspectRatio)&&(t.aspectRatio=e.aspectRatio),this.definedId("frustumId",t),g(e.getColor)){let e=async(e,t,r)=>{this.updateProperty("color",await this.getFunc("getColor")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getColor"),e)}if(g(e.getOrigin)){let e=async(e,t,r)=>{this.updateProperty("origin",await this.getFunc("getOrigin")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getOrigin"),e)}if(g(e.getFov)){let e=async(e,t,r)=>{this.updateProperty("fov",await this.getFunc("getFov")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getFov"),e)}if(g(e.getRange)){let e=async(e,t,r)=>{this.updateProperty("range",await this.getFunc("getRange")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getRange"),e)}if(g(e.getPlatformOrientation)){let e=async(e,t,r)=>{this.updateProperty("platformOrientation",await this.getFunc("getPlatformOrientation")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getPlatformOrientation"),e)}if(g(e.getSensorOrientation)){let e=async(e,t,r)=>{this.updateProperty("sensorOrientation",await this.getFunc("getSensorOrientation")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getSensorOrientation"),e)}if(g(e.getAspectRatio)){let e=async(e,t,r)=>{this.updateProperty("aspectRatio",await this.getFunc("getAspectRatio")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getAspectRatio"),e)}}}var We=Ve;class Ue extends Oe{constructor(e){super(e),this.type="binaryData"}init(e=this.properties){super.init(e);const t={frameData:void 0};if(g(e.frameData)&&(this.props.frameData=e.frameData),this.definedId("dataId",t),g(e.getFrameData)){let e=async(e,t,r)=>{this.updateProperty("frameData",await this.getFunc("getFrameData")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getFrameData"),e)}}}var Ne=Ue;class qe extends Ne{constructor(e){super(e),this.type="videoData"}init(e=this.properties){super.init(e);const t={roll:0};if(g(e.roll)&&(t.roll=e.roll),this.definedId("videoDataId",t),g(e.getRoll)){let e=async(e,t,r)=>{this.updateProperty("roll",await this.getFunc("getRoll")(e,t,r))};this.addFn(this.getDataSourcesIdsByProperty("getRoll"),e)}}}var Ze=qe,He=r(45243),$e=r.n(He);class Ye{constructor(e){this.layers=[],this.lastRec={},this.dataSources=[],this.broadcastChannels=[],this.id="view-"+R(),this.css="",g(e)&&g(e.css)&&(this.css=e.css),S(e&&e.supportedLayers,"supportedLayers"),A(e.supportedLayers,"supportedLayers"),_(e.supportedLayers.length>0,"supportedLayers.length === 0"),this.supportedLayers=e.supportedLayers,this.init(e)}init(e){this.properties=e,this.elementDiv=document.createElement("div"),this.elementDiv.setAttribute("id",this.id),this.elementDiv.setAttribute("class",this.css+" osh-view"),this.divId=this.id;let t=g(e.container)?e.container:document.body,r=!g(e.destroyAfterMutation)||e.destroyAfterMutation,i=document.getElementById(t);if(g(i)&&null!==i?(i.appendChild(this.elementDiv),this.container=i):(document.body.appendChild(this.elementDiv),this.hide(),this.container=document.body),this.beforeAddingItems(e),g(e)){if(g(e.layers))for(let t=0;t<e.layers.length;t++)this.addLayer(e.layers[t]);g(e.visible)&&(document.getElementById(this.divId).style.display=e.visible?"block":"none")}const o=this;let n=new MutationObserver((e=>{e.forEach((function(e){"style"===e.attributeName&&o.onResize()}))}));if(n.observe(this.elementDiv,{attributes:!0}),r){const e=new MutationObserver((function(e){g(document.getElementById(o.divId))||(this.disconnect(),o.destroy())}));e.observe(document.body,{childList:!0})}}hide(){this.elementDiv.style.display="none"}onResize(){}attachTo(e){g(this.elementDiv.parentNode)&&this.elementDiv.parentNode.removeChild(this.elementDiv),document.getElementById(e).appendChild(this.elementDiv),"none"===this.elementDiv.style.display&&(this.elementDiv.style.display="block"),this.onResize()}beforeAddingItems(e){}getId(){return this.id}getDivId(){return this.divId}async setData(e,t){}show(e){}destroy(){this.removeAllFromLayers();for(let e of this.broadcastChannels)e.close(),console.log("closing BC..");this.broadcastChannels=[],g(this.elementDiv)&&this.elementDiv.remove()}addLayer(e){_(this.supportedLayers.includes(e.type),"this layer is not supported: "+e.type+", should be "+this.supportedLayers),this.layers.push(e);let t=e.getDataSourcesIds();for(let r=0;r<t.length;r++){const i=t[r];let o=this;const n=new BroadcastChannel(W+i);n.onmessage=async t=>{if(t.data.type===N.STATUS&&t.data.status===ee.CLOSED_ERROR)o.reset();else if(t.data.type===N.DATA){const r=this;await e.setData(i,t.data.values),await r.setData(i,e.getProps()),o.lastRec[i]=t.data}};const a=new BroadcastChannel(U+i);a.onmessage=e=>{e.data.type===N.TIME_CHANGED&&o.reset()},this.broadcastChannels.push(n),this.broadcastChannels.push(a)}}removeAllFromLayer(e){if(this.layers.includes(e)){for(let t in e.dataSourcesToFn)delete this.lastRec[t];e.reset()}}removeAllFromLayers(){for(let e of this.layers)this.removeAllFromLayer(e)}getDataSourcesId(){let e=[];for(let t=0;t<this.layers.length;t++){let r=this.layers[t];e=e.concat(r.getDataSourcesIds())}return e}reset(){this.removeAllFromLayers()}}var Ge=Ye;class Qe extends Ge{constructor(e){super(e),this.layerIdToMarkers={},this.layerIdToPolylines={},this.layerIdToEllipsoids={},this.layerIdToPolygon={},this.layerIdToFrustum={},this.layerIdToDrapedImage={}}async setData(e,t){const r=t.values;for(let i=0;i<r.length;i++){const e=r[i];"marker"===t.type?this.updateMarker(e):"polyline"===t.type?this.updatePolyline(e):"drapedImage"===t.type?this.updateDrapedImage(e):"ellipse"===t.type?this.updateEllipse(e):"polygon"===t.type?this.updatePolygon(e):"coplanarPolygon"===t.type?this.updateCoPlanarPolygon(e):"frustum"===t.type&&this.updateFrustum(e)}}async addPolygonToLayer(e,t){this.layerIdToPolygon[e.polygonId]=t}async addMarkerToLayer(e,t){this.layerIdToMarkers[e.markerId]=t}async addPolylineToLayer(e,t){this.layerIdToPolylines[e.polylineId]=t}async addEllipseToLayer(e,t){this.layerIdToEllipsoids[e.ellipseId]=t}async addDrapedImageToLayer(e,t){this.layerIdToDrapedImage[e.drapedImageId]=t}async addFrustumToLayer(e,t){this.layerIdToFrustum[e.frustumId]=t}getPolygons(){const e=[];for(let t in this.layerIdToPolygon)e.push(this.layerIdToPolygon[t]);return e}getPolygon(e){return e.polygonId in this.layerIdToPolygon?this.layerIdToPolygon[e.polygonId]:null}getMarker(e){return e.markerId in this.layerIdToMarkers?this.layerIdToMarkers[e.markerId]:null}getMarkers(){const e=[];for(let t in this.layerIdToMarkers)e.push(this.layerIdToMarkers[t]);return e}getPolylines(){const e=[];for(let t in this.layerIdToPolylines)e.push(this.layerIdToPolylines[t]);return e}getEllipsoids(){const e=[];for(let t in this.layerIdToEllipsoids)e.push(this.layerIdToEllipsoids[t]);return e}getPolyline(e){return e.polylineId in this.layerIdToEllipsoids?this.layerIdToPolylines[e.polylineId]:null}getEllipse(e){return e.ellipseId in this.layerIdToEllipsoids?this.layerIdToEllipsoids[e.ellipseId]:null}getPolyline(e){return e.polylineId in this.layerIdToPolylines?this.layerIdToPolylines[e.polylineId]:null}getDrapedImage(e){return e.drapedImageId in this.layerIdToDrapedImage?this.layerIdToDrapedImage[e.drapedImageId]:null}getFrustums(){const e=[];for(let t in this.layerIdToFrustum)e.push(this.layerIdToFrustum[t]);return e}getFrustum(e){return e.frustumId in this.layerIdToFrustum?this.layerIdToFrustum[e.frustumId]:null}getLayer(e){for(let t of this.layers)if(t.props.id===e)return t;return null}removeAllFromLayer(e){this.removeMarkers(e),this.removePolylines(e),this.removeEllipsoids(e),this.removePolygons(e),this.removeDrapedImages(e),this.removeFrustums(e),super.removeAllFromLayer(e)}removePolygons(e){const t=e.getIds()||[];for(let r of t){const e=this.layerIdToPolygon[r];g(e)&&this.removePolygonFromLayer(e),delete this.layerIdToPolygon[r]}}removeMarkers(e){const t=e.getIds()||[];for(let r of t){const e=this.layerIdToMarkers[r];g(e)&&this.removeMarkerFromLayer(e),delete this.layerIdToMarkers[r]}}removeEllipsoids(e){const t=e.getIds()||[];for(let r of t){const e=this.layerIdToEllipsoids[r];g(e)&&this.removeEllipseFromLayer(e),delete this.layerIdToEllipsoids[r]}}removePolylines(e){const t=e.getIds()||[];for(let r of t){const e=this.layerIdToPolylines[r];g(e)&&this.removePolylineFromLayer(e),delete this.layerIdToPolylines[r]}}removeDrapedImages(e){const t=e.getIds()||[];for(let r of t){const e=this.layerIdToDrapedImage[r];g(e)&&this.removeDrapedImageFromLayer(e),delete this.layerIdToDrapedImage[r]}}removeFrustums(e){const t=e.getIds()||[];for(let r of t){const e=this.layerIdToFrustum[r];g(e)&&this.removeFrustumFromLayer(e),delete this.layerIdToFrustum[r]}}removeMarkerFromLayer(e){}removePolylineFromLayer(e){}removeDrapedImageFromLayer(e){}removePolygonFromLayer(e){}onMarkerLeftClick(e,t,r,i){g(r.onLeftClick)&&r.onLeftClick.call(r,e,t,i)}onMarkerRightClick(e,t,r,i){g(r.onRightClick)&&r.onRightClick.call(r,e,t,i)}onMarkerMove(e,t,r,i){g(r.onMove)&&r.onMove.call(r,e,t,i)}onMarkerHover(e,t,r,i){g(r.onHover)&&r.onHover.call(r,e,t,i)}getLayerId(e){const t=e.split("$");return g(t)&&2===t.length?t[0]:null}getMarkerId(e){if(!g(e))return null;const t=e.split("$");return g(t)&&2===t.length?t[1]:null}async updateMarker(){}async updatePolyline(){}async updatePolygon(){}async updateEllipse(){}async updateCoPlanarPolygon(){}async updateDrapedImage(){}}var Ke=Qe;class Xe extends Ke{constructor(e){super({supportedLayers:["marker","draping","polyline","polygon"],...e});let t=document.getElementById(this.divId).className;document.getElementById(this.divId).setAttribute("class",t+" "+this.css)}beforeAddingItems(e){this.initMap(e)}initMap(e){let t={location:new($e().LatLng)(0,0),zoom:3};this.first=!0,this.follow=!1,this.autoZoomOnFirstMarker=!1;let r=this.getDefaultLayers(),i=r[0].layer,o={},n={};o[r[0].name]=r[0].layer,n[r[1].name]=r[1].layer,g(e)&&(g(e.initialView)&&(t={location:new($e().LatLng)(e.initialView.lat,e.initialView.lon),zoom:e.initialView.zoom}),g(e.autoZoomOnFirstMarker)&&(this.autoZoomOnFirstMarker=e.autoZoomOnFirstMarker),g(e.overlayLayers)&&(n=e.overlayLayers),g(e.baseLayers)&&(o=e.baseLayers),g(e.follow)&&(this.follow=e.follow),g(e.defaultLayer)&&(i=e.defaultLayer)),this.map=new($e().Map)(this.divId,{fullscreenControl:!0,layers:i}),$e().control.layers(o,n).addTo(this.map),this.map.setView(t.location,t.zoom)}getDefaultLayers(e){let t=22;g(e)&&e.maxZoom&&(t=e.maxZoom);let r='Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',i="http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",o='<a href="http://www.esri.com/">Esri</a>',n="i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",a=$e().tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"&copy; "+o+", "+n,maxZoom:t,maxNativeZoom:19}),s=$e().tileLayer(i,{id:"mapbox.streets",attribution:r,maxZoom:t});return[{name:"OSM Streets",layer:s},{name:"Esri Satellite",layer:a}]}initLayers(){let e="http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",t='Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',r=new($e().tileLayer)(e,{minZoom:1,maxZoom:22,attribution:t});this.map.addLayer(r)}addMarker(e){S(e.location,"location");let t=null;if(null!==e.icon){let r=$e().icon({iconAnchor:e.iconAnchor,iconUrl:e.icon,iconSize:e.iconSize});t=$e().marker([e.location.y,e.location.x],{icon:r})}else t=$e().marker([e.location.y,e.location.x]);null!==e.label&&t.bindTooltip(e.label,{permanent:!1,direction:"center",offset:$e().point(e.labelOffset[0],e.labelOffset[1])});let r=e.hasOwnProperty("name")&&null!=e.label?e.label:"",i=e.hasOwnProperty("description")&&null!=e.description?e.description:"";return!g(e.onLeftClick)&&(r.length>0||i.length>0)&&t.bindPopup(r+"<div>"+i+"</div>",{offset:$e().point(e.labelOffset[0],e.labelOffset[1])}),t.setZIndexOffset(e.zIndex),t.id=e.id+"$"+e.markerId,t.addTo(this.map),e.hasOwnProperty(e.orientation)&&t.setRotationAngle(e.orientation.heading),t}addPolyline(e){const t=e.locations;let r=[];if(g(t)&&t.length>0)for(let o=0;o<t.length;o++)r.push(new($e().LatLng)(t[o].y,t[o].x));let i=new($e().Polyline)(r,{color:e.color,weight:e.weight,opacity:e.opacity,smoothFactor:e.smoothFactor}).addTo(this.map);return i}async updateMarker(e){let t=this.getMarker(e);if(!g(t)){t=this.addMarker(e),this.addMarkerToLayer(e,t);const r=e.markerId;t.on("click",(i=>this.onMarkerLeftClick(r,t,e,i))),t.on("contextmenu",(i=>this.onMarkerRightClick(r,t,e,i))),t.on("mouseover",(i=>this.onMarkerHover(r,t,e,i)))}let r=e.location.x,i=e.location.y;if(!isNaN(r)&&!isNaN(i)){let o=new($e().LatLng)(i,r);if(t.setLatLng(o),this.first&&this.autoZoomOnFirstMarker||this.follow){const t=$e().latLngBounds([o]);this.map.fitBounds(t,{maxZoom:e.zoomLevel}),this.first&&(this.first=!1)}}if(g(e.orientation)&&t.setRotationAngle(e.orientation.heading),null!==e.icon&&t._icon.iconUrl!==e.icon){let r=$e().icon({iconAnchor:e.iconAnchor,iconUrl:e.icon});t.setIcon(r)}t.setZIndexOffset(e.zIndex)}removeMarkerFromLayer(e){this.map.removeLayer(e)}removePolylineFromLayer(e){this.map.removeLayer(e)}async updatePolyline(e){let t=this.getPolyline(e);if(g(t)){let r=[];const i=e.locations;if(g(i)&&i.length>0)for(let e=0;e<i.length;e++)r.push(new($e().LatLng)(i[e].y,i[e].x));t.setLatLngs(r),t.setStyle({color:e.color,weight:e.weight,opacity:e.opacity})}else{const t=this.addPolyline(e);this.addPolylineToLayer(e,t)}}async updatePolygon(e){let t=this.getPolygon(e);if(g(t)){const r=e.vertices;let i=[];if(g(r)&&r.length>0)for(let e=0;e<r.length-1;e+=2){let t=new($e().LatLng)(r[e+1],r[e]);i.push([t.lat,t.lng])}t.setLatLngs(i),t.setStyle({color:e.outlineColor,weight:e.outlineWidth,fillColor:e.color,fill:!0,fillOpacity:e.opacity})}else{const t=this.addPolygon(e);this.addPolygonToLayer(e,t)}}removePolygonFromLayer(e){this.map.removeLayer(e)}addPolygon(e){const t=e.vertices;let r=[];if(g(t)&&t.length>0)for(let o=0;o<t.length-1;o+=2){let e=new($e().LatLng)(t[o+1],t[o]);r.push([e.lat,e.lng])}let i=new($e().polygon)(r,{color:e.outlineColor,weight:e.outlineWidth,fillColor:e.color,fill:!0,fillOpacity:e.opacity}).addTo(this.map);return i}attachTo(e){super.attachTo(e),this.map.invalidateSize()}onResize(){super.onResize();let e=this;setTimeout((function(){e.map.invalidateSize()}),100)}onChange(e){}}$e().Map=$e().Map.extend({openPopup:function(e){return this._popup=e,this.addLayer(e).fire("popupopen",{popup:this._popup})}}),function(){let e=$e().Marker.prototype._initIcon,t=$e().Marker.prototype._setPos,r="msTransform"===$e().DomUtil.TRANSFORM;$e().Marker.addInitHook((function(){let e=this.options.icon.options.iconAnchor;e&&(e=e[0]+"px "+e[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||e||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0})),$e().Marker.include({_initIcon:function(){e.call(this)},_setPos:function(e){t.call(this,e),this.options.rotationAngle&&(this._icon.style[$e().DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,r?this._icon.style[$e().DomUtil.TRANSFORM]=" rotate("+this.options.rotationAngle+"deg)":this._icon.style[$e().DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(e){return this.options.rotationAngle=e,this.update(),this},setRotationOrigin:function(e){return this.options.rotationOrigin=e,this.update(),this}})}();var Je=Xe;class et extends Ge{constructor(e){if(super({supportedLayers:["videoData"],...e}),this.timestamp=null,g(e.showTime)&&e.showTime&&(this.timestamp=document.createElement("div"),this.timestamp.setAttribute("class","video-time"),document.getElementById(this.divId).appendChild(this.timestamp)),this.imgTag=document.createElement("img"),this.imgTag.setAttribute("class","video-mjpeg"),this.rotation=0,"undefined"!=typeof e&&"undefined"!=typeof e.rotation){this.rotation=e.rotation*Math.PI/180,this.canvas=document.createElement("canvas"),this.canvas.width=640,this.canvas.height=480;var t=this.canvas.getContext("2d");t.translate(0,480),t.rotate(this.rotation),document.getElementById(this.divId).appendChild(this.canvas)}else document.getElementById(this.divId).appendChild(this.imgTag)}async setData(e,t){if("videoData"===t.type){const e=t.values;for(let t=0;t<e.length;t++)this.updateVideo(e[t])}}updateVideo(e){let t=new Blob([e.frameData.data]),r=window.URL.createObjectURL(t),i=this.imgTag.src;this.imgTag.src=r,null!==this.timestamp&&(this.timestamp.innerHTML=new Date(e.timestamp).toISOString()),window.URL.revokeObjectURL(i)}selectDataView(e,t){e.indexOf(this.dataSourceId)>-1||g(this.entity)&&this.entity.getId()===t?document.getElementById(this.divId).setAttribute("class",this.css+" "+this.cssSelected):document.getElementById(this.divId).setAttribute("class",this.css)}reset(){this.imgTag.src=""}async getCanvas(){return this.canvas}}var tt=et;class rt extends Ge{constructor(e){super(e),this.fps=0,this.width=1920,this.height=1080,this.showTime=!1,this.showStats=!1,this.statistics={averageFps:0,frames:0,firstTime:0,bitRate:0,averageBitRate:0},this.framerate=29.67,g(e)&&(g(e.framerate)&&(this.framerate=e.framerate),g(e.directPlay)&&(this.directPlay=e.directPlay),g(e.codec)&&(this.codec=e.codec),g(e.showTime)&&(this.showTime=e.showTime),g(e.showStats)&&(this.showStats=e.showStats),g(e.width)&&(this.width=e.width),g(e.height)&&(this.height=e.height));let t,r,i=document.getElementById(this.divId);(this.showTime||this.showStats)&&(this.textDiv=document.createElement("div"),this.textDiv.setAttribute("width",""+this.width),this.textDiv.setAttribute("height",15),this.textDiv.setAttribute("class","ffmpeg-info"),this.showTime&&(this.textFpsDiv=document.createElement("div"),this.textFpsDiv.setAttribute("class","ffmpeg-fps"),this.textDiv.appendChild(this.textFpsDiv)),this.showStats&&(this.textStatsDiv=document.createElement("div"),this.textStatsDiv.setAttribute("class","ffmpeg-stats"),this.textDiv.appendChild(this.textStatsDiv)),i.appendChild(this.textDiv)),this.domNode=i,g(document.hidden)?(t="hidden",r="visibilitychange"):g(document.msHidden)?(t="msHidden",r="msvisibilitychange"):g(document.webkitHidden)&&(t="webkitHidden",r="webkitvisibilitychange");const o=this;function n(){document.hidden?o.skipFrame=!0:o.skipFrame=!1}document.addEventListener(r,n,!1)}updateStatistics(e){if(this.statistics.frames++,this.statistics.pktSize+=e,0===this.statistics.firstTime)return void(this.statistics.firstTime=performance.now());const t=performance.now();t-this.statistics.firstTime<1e3||(this.statistics.averageFps=(this.statistics.frames-1)/((t-this.statistics.firstTime)/1e3),this.statistics.averageBitRate=(this.statistics.pktSize-e)/((t-this.statistics.firstTime)/1e3),this.statistics.frames=1,this.statistics.pktSize=e,this.statistics.firstTime=t)}onUpdated(e){}destroy(){super.destroy()}onAfterDecoded(e,t){}}var it=rt;const ot={BITMAP:"bitmap",ARRAY:"array"};class nt extends it{constructor(e){if(super({supportedLayers:["videoData"],...e}),!1 in window)throw Error("WebCodec API is not supported");if(this.codecMap={vp9:"vp09.02.10.10.01.09.16.09.01",vp8:"vp08.00.41.08",h264:"avc1.42e01e",h265:"hev1.1.6.L123.00"},this.codec=this.codecMap["h264"],g(e.codec)){if(!e.codec in this.codecMap)throw Error("The codec properties.codec is not supported, the list of supported codec: this.codecMap");this.codec=this.codecMap[e.codec]}this.compression=e.codec,this.canvasElt=this.createCanvas(this.width,this.height),this.domNode.appendChild(this.canvasElt),this.queue=[]}createCanvas(e,t,r){const i=document.createElement("canvas");return i.setAttribute("width",e),i.setAttribute("height",t),g(r)&&i.setAttribute("style",r),i}updateCanvasSize(e,t){this.canvasElt.width=e,this.canvasElt.height=t}async setData(e,t){if("videoData"===t.type){const e=t.values;for(let t=0;t<e.length;t++)await this.updateVideo(e[t])}}async updateVideo(e){this.skipFrame||(this.codecConfigured||(this.codec=this.codecMap[e.frameData.compression.toLowerCase()],this.initDecoder()),await this.decode(e.frameData.data.length,e.frameData.data,e.timestamp,e.roll||0))}reset(){}initDecoder(){this.gl=this.canvasElt.getContext("bitmaprenderer");const e={output:async e=>{let t=!1;this.width===e.codedWidth&&this.height===e.codedHeight||(this.width=e.codedWidth,this.height=e.codedHeight,this.updateCanvasSize(this.width,this.height),t=!0),("closed"===this.videoDecoder.state||t)&&this.videoDecoder.configure({codec:this.codec,codedWidth:this.width,codedHeight:this.height});const r=await createImageBitmap(e);try{await this.handleDocodedFrame(r,this.width,this.height,e.timestamp,this.queue.shift())}finally{e.close()}},error:e=>{this.queue.shift(),console.error(e),"closed"===this.videoDecoder.state&&this.initDecoder()}};try{this.videoDecoder=new VideoDecoder(e),this.videoDecoder.configure({codec:this.codec,codedWidth:this.width,codedHeight:this.height}),this.codecConfigured=!0}catch(t){throw this.elementDiv.remove(),Error("Cannot configure WebCodec API VideoDecoder")}}async handleDocodedFrame(e,t,r,i=0,o=null){try{let n=90*Math.round(o.roll/90);n>180&&(n-=360);let a=1;90===Math.abs(n)&&(a=this.height/this.width);const s=n*Math.PI/180;(this.angleRad&&this.angleRad!==s||this.scale&&this.scale!==a||!this.angleRad||!this.scale)&&(this.canvasElt.style=`transform:rotate(${s}rad) scale(${a})`,this.angleRad=s,this.scale=a),this.gl.transferFromImageBitmap(e),this.onAfterDecoded(e,ot.ARRAY),this.updateStatistics(o.pktSize),this.showTime&&(this.textFpsDiv.innerText=new Date(i).toISOString()+" "),this.showStats&&(this.textStatsDiv.innerText=this.statistics.averageFps.toFixed(2)+" fps, "+(this.statistics.averageBitRate/1e3).toFixed(2)+" kB/s @"+t+"x"+r+"\n "+this.compression),this.onUpdated(this.statistics)}catch(n){console.error(n)}}async decode(e,t,r,i){if(this.codecConfigured){let o=!1;this.codec===this.codecMap["h264"]&&(o=101===t[26]&&1===t[25]&&0===t[24]&&0===t[23]),this.queue.push({roll:i,pktSize:e});let n=new EncodedVideoChunk({timestamp:r,type:o?"key":"delta",data:t});this.videoDecoder.decode(n)}else console.warn("decoder has not been initialized yet")}destroy(){super.destroy()}async getCanvas(){return this.canvasElt}}var at=nt;function st(){return new Worker(r.p+"js/ffmpeg.decode.video.worker.a6f6e9ce.worker.js")}class lt{constructor(e){e=e||{},this.canvasElement=e.canvas||document.createElement("canvas"),this.canvasElement.setAttribute("id",R()),this.contextOptions=e.contextOptions,this.type=e.type||"yuv420",this.customYUV444=e.customYUV444,this.conversionType=e.conversionType||"rec601",this.width=e.width||640,this.height=e.height||320,this.animationTime=e.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.init()}init(){this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),"yuv420"===this.type?(this.drawNextOuptutPictureGL=e=>{var t=this.contextGL,r=this.texturePosBuffer,i=this.uTexturePosBuffer,o=this.vTexturePosBuffer,n=this.yTextureRef,a=this.uTextureRef,s=this.vTextureRef,l=e.yData,c=e.uData,u=e.vData,d=this.width,h=this.height,p=e.yDataPerRow||d,f=e.yRowCnt||h,m=e.uDataPerRow||d/2,g=e.uRowCnt||h/2,y=e.vDataPerRow||m,b=e.vRowCnt||g;let v=90*Math.round(e.roll/90);v>180&&(v-=360),90==Math.abs(v)?(this.canvasElement.width=this.height,this.canvasElement.height=this.width,t.viewport(0,0,h,d)):(this.canvasElement.width=this.width,this.canvasElement.height=this.height,t.viewport(0,0,d,h));var w=0,k=0,S=h/f,_=d/p,T=new Float32Array([_,w,k,w,_,S,k,S]);t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,T,t.DYNAMIC_DRAW),this.customYUV444?(S=h/g,_=d/m):(S=h/2/g,_=d/2/m);var x=new Float32Array([_,w,k,w,_,S,k,S]);t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,x,t.DYNAMIC_DRAW),this.customYUV444?(S=h/b,_=d/y):(S=h/2/b,_=d/2/y);var I=new Float32Array([_,w,k,w,_,S,k,S]);t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,I,t.DYNAMIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,p,f,0,t.LUMINANCE,t.UNSIGNED_BYTE,l),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,m,g,0,t.LUMINANCE,t.UNSIGNED_BYTE,c),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,y,b,0,t.LUMINANCE,t.UNSIGNED_BYTE,u),t.uniform1f(this.rollUniform,v*Math.PI/180),t.drawArrays(t.TRIANGLE_STRIP,0,4)},this.drawNextOuptutPictureBitmapGL=e=>{var t=this.contextGL,r=this.texturePosBuffer,i=this.yTextureRef,o=e.yData,n=this.width,a=this.height,s=n,l=a,c=0,u=0,d=a/l,h=n/s,p=new Float32Array([h,c,u,c,h,d,u,d]);let f=90*Math.round(e.roll/90);f>180&&(f-=360),90==Math.abs(f)?(this.canvasElement.width=this.height,this.canvasElement.height=this.width,t.viewport(0,0,a,n)):(this.canvasElement.width=this.width,this.canvasElement.height=this.height,t.viewport(0,0,n,a)),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,p,t.DYNAMIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.uniform1f(this.rollUniform,f*Math.PI/180),t.drawArrays(t.TRIANGLE_STRIP,0,4)}):"yuv422"===this.type&&(this.drawNextOuptutPictureGL=e=>{var t=this.contextGL,r=this.texturePosBuffer,i=this.textureRef,o=e.data,n=this.width,a=this.height,s=e.dataPerRow||2*n,l=e.rowCnt||a;t.viewport(0,0,n,a);var c=0,u=0,d=a/l,h=n/(s/2),p=new Float32Array([h,c,u,c,h,d,u,d]);t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,p,t.DYNAMIC_DRAW),t.uniform2f(t.getUniformLocation(this.shaderProgram,"resolution"),s,a),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,s,l,0,t.LUMINANCE,t.UNSIGNED_BYTE,o),t.drawArrays(t.TRIANGLE_STRIP,0,4)})}isWebGL(){return this.contextGL}initContextGL(){var e=this.canvasElement,t=null,r=["webgl","experimental-webgl","moz-webgl","webkit-3d"],i=0;while(!t&&i<r.length){var o=r[i];try{t=this.contextOptions?e.getContext(o,this.contextOptions):e.getContext(o)}catch(n){t=null}t&&"function"===typeof t.getParameter||(t=null),++i}this.contextGL=t}initProgram(){var e,t,r=this.contextGL;"yuv420"===this.type?(e=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","uniform float roll;","void main()","{","  vec4 ctr = vec4(0.5, 0.5, 0, 0);","  mat4 rotMatrix = mat4( cos(roll), -sin(roll), 0, 0,","                         sin(roll),  cos(roll), 0, 0,","                         0,          0,         1, 0,","                         0,          0,         0, 1);","  gl_Position = vertexPos;","  textureCoord = mat2(rotMatrix) * (texturePos.xy - vec2(ctr)) + vec2(ctr);","  uTextureCoord = mat2(rotMatrix) * (uTexturePos.xy - vec2(ctr)) + vec2(ctr);","  vTextureCoord = mat2(rotMatrix) * (vTexturePos.xy - vec2(ctr)) + vec2(ctr);","}"].join("\n"),t=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n")):"yuv422"===this.type&&(e=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join("\n"),t=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","}"].join("\n"));var i=[];i="rec709"===this.conversionType?[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1];var o=r.createShader(r.VERTEX_SHADER);r.shaderSource(o,e),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+r.getShaderInfoLog(o));var n=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(n,t),r.compileShader(n),r.getShaderParameter(n,r.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+r.getShaderInfoLog(n));var a=r.createProgram();r.attachShader(a,o),r.attachShader(a,n),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)||console.log("Program failed to compile: "+r.getProgramInfoLog(a)),r.useProgram(a);var s=r.getUniformLocation(a,"YUV2RGB");r.uniformMatrix4fv(s,!1,i),this.rollUniform=r.getUniformLocation(a,"roll"),this.shaderProgram=a}initBuffers(){var e=this.contextGL,t=this.shaderProgram,r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW);var i=e.getAttribLocation(t,"vertexPos");if(e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),this.animationTime){var o=this.animationTime,n=0,a=15,s=function(){n+=a;var r=1*n/o;n>=o?r=1:setTimeout(s,a);var i=-1*r,l=1*r,c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,new Float32Array([l,l,i,l,l,i,i,i]),e.STATIC_DRAW);var u=e.getAttribLocation(t,"vertexPos");e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,0,0);try{e.drawArrays(e.TRIANGLE_STRIP,0,4)}catch(d){}};s()}var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var c=e.getAttribLocation(t,"texturePos");if(e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0),this.texturePosBuffer=l,"yuv420"===this.type){var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var d=e.getAttribLocation(t,"uTexturePos");e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,0,0),this.uTexturePosBuffer=u;var h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var p=e.getAttribLocation(t,"vTexturePos");e.enableVertexAttribArray(p),e.vertexAttribPointer(p,2,e.FLOAT,!1,0,0),this.vTexturePosBuffer=h}}initTextures(){var e=this.contextGL,t=this.shaderProgram;if("yuv420"===this.type){var r=this.initTexture(),i=e.getUniformLocation(t,"ySampler");e.uniform1i(i,0),this.yTextureRef=r;var o=this.initTexture(),n=e.getUniformLocation(t,"uSampler");e.uniform1i(n,1),this.uTextureRef=o;var a=this.initTexture(),s=e.getUniformLocation(t,"vSampler");e.uniform1i(s,2),this.vTextureRef=a}else if("yuv422"===this.type){var l=this.initTexture(),c=e.getUniformLocation(t,"sampler");e.uniform1i(c,0),this.textureRef=l}}initTexture(){var e=this.contextGL,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),t}drawNextOutputPicture(e,t,r,i){var o=this.contextGL;o?this.drawNextOuptutPictureGL(e,t,r,i):this.drawNextOuptutPictureRGBA(e,t,r,i)}drawNextOuptutPictureRGBA(e,t,r,i){var o=this.canvasElement,n=i,a=o.getContext("2d"),s=a.getImageData(0,0,e,t);s.data.set(n),null===r?a.putImageData(s,0,0):a.putImageData(s,-r.left,-r.top,0,0,r.width,r.height)}resize(e,t){this.canvasElement.width=e,this.canvasElement.height=t,this.width=e,this.height=t}}var ct=lt;class ut extends it{constructor(e){super({supportedLayers:["videoData"],...e}),this.directPlay=!1,this.codec="h264",this.yuvCanvas=this.createCanvas(this.width,this.height),this.domNode.appendChild(this.yuvCanvas.canvasElement),this.buf=[],this.bufferingTime=2e3}createCanvas(e,t,r){return new ct({width:e,height:t,contextOptions:{preserveDrawingBuffer:!0}})}async setData(e,t){if("videoData"===t.type){const e=t.values;for(let t=0;t<e.length;t++)this.updateVideo(e[t])}}async updateVideo(e){if(!this.skipFrame)return null==this.decodeWorker&&this.initFFMPEG_DECODER_WORKER(e.frameData.compression),this.decode(e.frameData.data.length,e.frameData.data,e.timestamp,e.roll||0)}reset(){this.skipFrame=!0,this.decodeWorker&&this.decodeWorker.postMessage({message:"release"});let e=new Uint8Array(1);e[0]=128,this.yuvCanvas.drawNextOuptutPictureGL({yData:e,yDataPerRow:1,yRowCnt:1,uData:e,uDataPerRow:1,uRowCnt:1,vData:e,vDataPerRow:1,vRowCnt:1}),this.skipFrame=!1}initFFMPEG_DECODER_WORKER(e){this.decodeWorker=new st,this.decodeWorker.id=R(),this.decodeWorker.postMessage({message:"init",codec:e.toLowerCase()});const t=this;this.decodeWorker.onmessage=function(e){let r=e.data;t.drawFrame(r),this.onAfterDecoded(r,ot.ARRAY),this.updateStatistics(r.pktSize),this.showTime&&(this.textFpsDiv.innerText=new Date(r.timestamp).toISOString()+" "),this.showStats&&(this.textStatsDiv.innerText=this.statistics.averageFps.toFixed(2)+" fps, "+(this.statistics.averageBitRate/1e3).toFixed(2)+" kB/s @"+t.yuvCanvas.width+"x"+t.yuvCanvas.height+"\n "+this.codec),this.onUpdated(this.statistics)}.bind(this)}drawFrame(e){this.yuvCanvas.canvasElement.drawing=!0,this.width===e.frame_width&&this.height===e.frame_height||(this.yuvCanvas.resize(e.frame_width,e.frame_height),this.width=e.frame_width,this.height=e.frame_height),this.yuvCanvas.drawNextOuptutPictureGL({yData:e.frameYData,yDataPerRow:e.frame_width,yRowCnt:e.frame_height,uData:e.frameUData,uDataPerRow:e.frame_width/2,uRowCnt:e.frame_height/2,vData:e.frameVData,vDataPerRow:e.frame_width/2,vRowCnt:e.frame_height/2,roll:e.roll}),this.yuvCanvas.canvasElement.drawing=!1}async decode(e,t,r,i){if(e>0){let o=t.buffer;this.decodeWorker.postMessage({message:"data",pktSize:e,pktData:o,roll:i,byteOffset:t.byteOffset,codec:this.codec,timestamp:r,dataSourceId:this.dataSourceId},[o]),t=null}}destroy(){super.destroy(),g(this.decodeWorker)&&(this.decodeWorker.postMessage({message:"release"}),this.decodeWorker.terminate())}async getCanvas(){return this.yuvCanvas.canvasElement}drawBlank(){let e=new Uint8Array(1);this.yuvCanvas.drawNextOuptutPictureGL({yData:e,yDataPerRow:1,yRowCnt:1,uData:e,uDataPerRow:1,uRowCnt:1,vData:e,vDataPerRow:1,vRowCnt:1})}}var dt=ut;class ht extends Ge{constructor(e){super({supportedLayers:["videoData"],...e}),this.videoView=void 0,this.canvasResolve=void 0,this.useWebCodecApi=!0,"useWebCodecApi"in e&&(this.useWebCodecApi=e["useWebCodecApi"])}createVideoView(e){if("jpeg"===e)this.videoView=new tt({...this.properties,layers:[]});else if("h265"!==e&&this.useWebCodecApi)try{this.videoView=new at({...this.properties,codec:e,layers:[]}),this.videoView.initDecoder()}catch(t){this.videoView=new dt({...this.properties,codec:e,layers:[]})}else this.videoView=new dt({...this.properties,codec:e,layers:[]});this.hide(),this.canvasResolve&&this.canvasResolve(this.videoView.getCanvas()),this.videoView.onAfterDecoded=(e,t)=>{this.onDecode(e,t)}}async setData(e,t){if("videoData"===t.type){const e=t.values;for(let t=0;t<e.length;t++)g(this.videoView)||this.createVideoView(e[t].frameData.compression.toLowerCase()),await this.videoView.updateVideo(e[t])}}async getVideoCanvas(){if(g(this.videoView))return this.videoView.getCanvas();{const e=this;return new Promise((async t=>{e.canvasResolve=t}))}}reset(){super.reset(),g(this.videoView)&&this.videoView.reset()}destroy(){console.warn("Destroying VideoView"),super.destroy(),g(this.videoView)&&this.videoView.destroy()}onDecode(e,t){}}var pt=ht,ft=r(53328);r(86961);class mt extends Ge{constructor(e){super({supportedLayers:["curve"],...e}),ft.kL.register(...ft.zX),this.datasetOptions={};let t="line";this.options={maintainAspectRatio:!1,normalized:!0,scales:{y:{title:{display:!0,text:""}},x:{type:"time",time:{unit:"second"}}},plugins:{},datasets:{},interaction:{},animations:{},layout:{},elements:{}},this.refreshRate=1e3,g(e)&&(e.hasOwnProperty("options")&&z(e.options,this.options),e.hasOwnProperty("type")&&(t=e.type),e.hasOwnProperty("datasetOptions")&&(this.datasetOptions=e.datasetOptions),e.hasOwnProperty("refreshRate")&&(this.refreshRate=e.refreshRate)),this.type=t;let r=document.getElementById(this.divId);this.id=R();let i=document.createElement("canvas");i.setAttribute("id",this.id),r.appendChild(i),this.ctx=i,this.resetting=!1,this.chart=new ft.kL(this.ctx,{type:t,options:this.options}),this.datasets={},this.buffer={},this.lastTimestamp=-1}async setData(e,t){"curve"===t.type&&this.updateCurve(t.values)}parseDate(e){const t=new Date(e);return this.withLeadingZeros(t.getUTCHours())+":"+this.withLeadingZeros(t.getUTCMinutes())+":"+this.withLeadingZeros(t.getUTCSeconds())}withLeadingZeros(e){return(e<10?"0":"")+e}async updateCurve(e){if(this.resetting)return;const t=e[0].curveId;this.chart.options.scales.y.title.text=e[0].yLabel;let r=this.datasets[t];const i=e.map((e=>({x:e.x,y:e.y})));let o=this.getColor(e[0].lineColor),n=this.getColor(e[0].backgroundColor);if(g(r)?(this.datasets[t].backgroundColor=n,this.datasets[t].borderColor=o):(r={...this.datasetOptions,label:e[0].name,fill:e[0].fill,backgroundColor:n,borderColor:o,borderWidth:e[0].stroke,data:i},r={...this.datasetsProps,...r},this.datasets[t]=r,this.chart.data.datasets.push(r),this.buffer[t]=[]),this.buffer[t]=this.buffer[t].concat(i),-1===this.lastTimestamp||Date.now()-this.lastTimestamp>=this.refreshRate){for(let t in this.buffer){const r=this.buffer[t],i=r.length-e[0].maxValues;i>0&&(this.buffer[t]=r.slice(i)),this.datasets[t].data=this.buffer[t]}this.lastTimestamp=Date.now(),this.chart.update("none")}}getColor(e){let t=e;if(t.length>0&&"#"===t.charAt(0))if(9===e.length){const r=v(e);t="rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"}else{const r=b(e);t="rgba("+r[0]+","+r[1]+","+r[2]+", 1.0)"}return t}reset(){this.resetting=!0,super.reset(),this.datasets={},this.chart.data.datasets=[],this.buffer={},this.lastTimestamp=-1,this.resetting=!1}}var gt=mt,yt=(r(71827),r(86850)),bt=r(84157),vt=r(28222),wt=r(68734),kt=r(24121),St=r(80447),_t=r(70097),Tt=r(78168),xt=r(49378),It=r(11114),Ct=r(60188),Et=r(81090),Dt=r(47539),At=r(81332),Pt=r(21280),Rt=r(7517),Mt=r(16712),Ot=r(20686),Lt=r(66421),zt=r.n(Lt),jt=r(58958),Ft=r(51345),Bt=r(3904),Vt=r(98683),Wt=r(39399);class Ut extends Ke{constructor(e){super({supportedLayers:["marker","polyline","polygon","ellipse"],...e})}beforeAddingItems(e){this.initMap(e)}initMap(e){this.map=null,this.first=!0;let t=[],r=this.getDefaultLayers(),i=19,o=new yt.ZP({center:[0,0],zoom:0});if(g(e)&&(e.map&&(this.map=e.map),e.autoZoomOnFirstMarker||(this.first=!1),e.maxZoom&&(i=e.maxZoom),e.overlayLayers&&(t=e.overlayLayers),e.baseLayers&&(r=e.baseLayers),e.initialView&&(o=e.initialView)),!g(this.map)){this.map=new bt.Z,this.map.addInteraction(new St.Z),this.map.addInteraction(new Ot.Z({constrainResolution:!0,duration:200})),this.map.addControl(new _t.Z);const e=new(zt())({tipLabel:"Legend",groupSelectStyle:"children"});this.map.addControl(e),this.map.addControl(new Tt.Z),this.map.setTarget(this.divId),g(this.map.getView())||this.map.setView(o),this.map.getView().setMaxZoom(i),0===this.map.getLayers().getLength()&&(this.map.addLayer(new wt["default"]({title:"Base maps",layers:r})),this.map.addLayer(new wt["default"]({title:"Overlays",layers:t})))}const n=new Rt.Z({condition:Vt.V4,style:null}),a=new Rt.Z({condition:function(e){return"contextmenu"===e.type},style:null}),s=new Rt.Z({condition:Vt.MJ,style:null});this.map.addInteraction(n),this.map.addInteraction(a),this.map.addInteraction(s),this.projection=this.map.getView().getProjection();const l=this;a.on("select",(function(e){if(e.selected.length>0){let t=e.selected[0];const r=l.getMarkerId(t.getId());if(!g(r))return;const i=l.getLayerId(t.getId());if(!g(i))return;const o=l.getLayer(i);if(!g(o))return;l.onMarkerRightClick(r,t,o.props,e)}})),n.on("select",(function(e){if(e.selected.length>0){let t=e.selected[0];const r=l.getMarkerId(t.getId());if(!g(r))return;const i=l.getLayerId(t.getId());if(!g(i))return;const o=l.getLayer(i);if(!g(o))return;l.onMarkerLeftClick(r,t,o.props,e)}})),s.on("select",(function(e){if(e.selected.length>0){let t=e.selected[0];const r=l.getMarkerId(t.getId());if(!g(r))return;const i=l.getLayerId(t.getId());if(!g(i))return;const o=l.getLayer(i);if(!g(o))return;l.onMarkerHover(r,t,o.props,e)}})),this.vectorSource=new xt.Z({wrapX:!1,features:[]}),this.vectorMarkerLayer=new It.Z({source:this.vectorSource}),this.vectorMarkerLayer.setZIndex(1),this.map.addLayer(this.vectorMarkerLayer),this.map.updateSize()}getDefaultLayers(){let e=new vt.Z({source:new Mt.Z});return[e]}onResize(){super.onResize(),g(this.map)&&null!==this.map&&this.map.updateSize()}addMarker(e){if(g(this.map)&&null!==this.map){let t=new Ct.Z((0,kt.vs)([e.location.x,e.location.y],"EPSG:4326",this.projection)),r=new Et.Z({geometry:t,name:"Marker"});if(g(e.icon)&&null!==e.icon){let t=new Dt.ZP({image:new At.Z({opacity:e.iconOpacity,src:e.icon,anchor:e.iconAnchor,anchorYUnits:"pixels",anchorXUnits:"pixels",rotation:e.orientation.heading*Math.PI/180,scale:e.iconScale,size:e.iconSize,color:e.iconColor}),zIndex:e.zIndex,text:new Pt.Z({text:e.label,offsetX:e.labelOffset[0],offsetY:e.labelOffset[1],scale:e.labelScale,fill:new Ft.Z({color:e.labelColor})})});r.setStyle(t)}return r.setId(e.id+"$"+e.markerId),this.vectorSource.addFeature(r),this.first&&(this.first=!1,this.map.getView().setCenter((0,kt.vs)([e.location.x,e.location.y],"EPSG:4326",this.projection)),this.map.getView().setZoom(12)),this.vectorMarkerLayer.setZIndex(e.zIndex),r}return this.onResize(),null}async updateMarker(e){if(!g(e.location))return;let t=this.getMarker(e);if(g(t)){let r=e.location.x,i=e.location.y;if(!isNaN(r)&&!isNaN(i)){let e=(0,kt.vs)([r,i],"EPSG:4326",this.projection);t.getGeometry().setCoordinates(e)}const o=t.getStyle();if(null!==e.icon){if(o.getImage().getSrc()!==e.icon||o.getImage().color!==e.iconColor){const t={anchorYUnits:"pixels",anchorXUnits:"pixels",src:e.icon,color:e.iconColor};o.setImage(new At.Z(t))}o.getImage().setOpacity(e.iconOpacity),o.getImage().setScale(e.iconScale),o.getText().setText(e.label),o.getText().setOffsetX(e.labelOffset[0]),o.getText().setOffsetY(e.labelOffset[1]),o.getText().setScale(e.labelScale),o.getText().getFill().setColor(e.labelColor),o.setZIndex(e.zIndex),o.getImage().setAnchor(e.iconAnchor),o.getImage().setRotation(e.orientation.heading*Math.PI/180)}}else{const t=this.addMarker(e);this.addMarkerToLayer(e,t)}}removeMarkerFromLayer(e){this.vectorSource.removeFeature(e)}addPolyline(e){let t=[];const r=e.locations;for(let s=0;s<r.length;s++)t.push((0,kt.vs)([r[s].x,r[s].y],"EPSG:4326",this.projection));let i=new Bt.Z(t),o=new Et.Z({geometry:i,name:"Line"}),n=new xt.Z({features:[o]}),a=new It.Z({title:e.name,source:n,style:new Dt.ZP({fill:new Ft.Z({color:e.color}),stroke:new jt.Z({color:e.color,width:e.weight})})});return a.setZIndex(0),this.map.addLayer(a),a}async updatePolyline(e){if(!g(e.locations)||e.locations.length<2)return;let t=this.getPolyline(e);if(g(t)){let r=t.getSource(),i=[];const o=e.locations;if(g(o)&&o.length>0){for(let e=0;e<o.length;e++)i.push((0,kt.vs)([o[e].x,o[e].y],"EPSG:4326",this.projection));r.getFeatures()[0].getGeometry().setCoordinates(i)}const n=t.getStyle();n.getStroke().setColor(e.color),n.getStroke().setWidth(e.weight),n.getFill().setColor(e.color)}else t=this.addPolyline(e),this.addPolylineToLayer(e,t)}removePolylineFromLayer(e){this.map.removeLayer(e)}addPolygon(e){let t=[];const r=e.vertices;for(let s=0;s<r.length-1;s+=2)t.push((0,kt.vs)([r[s],r[s+1]],"EPSG:4326",this.projection));let i=new Wt.ZP([t]),o=new Et.Z({geometry:i,name:"Polygon"}),n=new xt.Z({features:[o]}),a=new It.Z({title:e.name,source:n,style:new Dt.ZP({fill:new Ft.Z({color:e.color}),stroke:new jt.Z({color:e.color,width:e.outlineWidth})})});return a.setZIndex(0),this.map.addLayer(a),a}async updatePolygon(e){let t=this.getPolygon(e);if(g(t)){let r=t.getSource(),i=[];const o=e.vertices;if(g(o)&&o.length>0){for(let e=0;e<o.length-1;e+=2)i.push((0,kt.vs)([o[e],o[e+1]],"EPSG:4326",this.projection));r.getFeatures()[0].getGeometry().setCoordinates([i])}const n=t.getStyle();n.getStroke().setColor(e.outlineColor),n.getStroke().setWidth(e.outlineWidth),n.getFill().setColor(e.color)}else t=this.addPolygon(e),this.addPolygonToLayer(e,t)}removePolygonFromLayer(e){this.map.removeLayer(e)}addEllipse(e){const t=e.position,r=e.semiMajorAxis,i=e.semiMinorAxis;let o=(0,kt.vs)([t.x,t.y],"EPSG:4326",this.projection),n=[];const a=Math.PI/180;for(let d=1;d<=360;d++){const e=r*Math.cos(a*d),t=i*Math.sin(a*d),s=o[0]+e,l=o[1]+t;n.push([s,l])}let s=new Wt.ZP([n]),l=new Et.Z({geometry:s,name:"Ellipse"});l.setId(e.id+"$"+e.markerId);let c=new xt.Z({features:[l]}),u=new It.Z({title:e.name,source:c,style:new Dt.ZP({fill:new Ft.Z({color:e.color}),stroke:new jt.Z({color:e.color,width:1})})});return u.setZIndex(e.zIndex),this.map.addLayer(u),u}async updateEllipse(e){if(!g(e.position))return;let t=this.getEllipse(e);if(g(t)){if(!isNaN(e.position.x)&&!isNaN(e.position.y)){let r=t.getSource();const i=e.position,o=e.semiMajorAxis,n=e.semiMinorAxis;let a=(0,kt.vs)([i.x,i.y],"EPSG:4326",this.projection),s=[];const l=Math.PI/180,c=100,u=360/c;for(let e=1;e<=360;e+=u){const t=o*Math.cos(l*e),r=n*Math.sin(l*e),i=a[0]+t,c=a[1]+r;s.push([i,c])}const d=r.getFeatures()[0];d.getGeometry().setCoordinates([s]);const h=t.getStyle();h.getStroke().setColor(e.color),h.getStroke().setWidth(1),h.getFill().setColor(e.color)}}else t=this.addEllipse(e),this.addEllipseToLayer(e,t)}removeEllipseFromLayer(e){this.map.removeLayer(e)}}var Nt=Ut,qt=r(6158),Zt=r.n(qt);class Ht extends Ke{constructor(e){super({supportedLayers:["marker","polyline","polygon"],...e}),this.loaded=!1,this.first=!1}initMap(e){this.map=new qt.Map({container:"map",style:"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",center:[0,0],zoom:2,antialias:!0,...e.mapProperties});const t=this;this.map.on("load",(function(){t.loaded=!0}))}beforeAddingItems(e){this.initMap(e)}async updateMarker(e){if(!this.loaded)return;let t=this.getMarker(e);if(g(t)){let t=this.getMarker(e),r=e.location.x,i=e.location.y;t.setLngLat([r,i]).setRotation(e.orientation.heading),t.getElement().style.backgroundImage=`url(${e.icon})`,t.getElement().style.width=e.iconSize[0]+"px",t.getElement().style.height=e.iconSize[1]+"px",g(e.orientation)&&t.setRotation(e.orientation.heading);let o="Marker";g(e.name)&&""!==e.name?o=e.name:g(e.label)&&""!==e.label&&(o=e.label),t.getPopup().setHTML(`<strong>${o}</strong>`)}else{const t=this.addMarker(e);this.addMarkerToLayer(e,t)}}async updatePolyline(e){if(!this.loaded)return;let t=this.getPolyline(e);if(g(t)){const r=t.source,i=t.id;let o=this.map.getSource(r);const n=o.id,a=[],s=e.locations;for(let e=0;e<s.length;e++)a.push([s[e].x,s[e].y]);o.setData({id:n,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:a}}]}),this.map.setPaintProperty(i,"line-color",e.color),this.map.setPaintProperty(i,"line-width",e.weight),this.map.setPaintProperty(i,"line-opacity",e.opacity)}else{const t=this.addPolyline(e);this.addPolylineToLayer(e,t)}}getDefaultLayers(){}addMarker(e){if(!this.loaded)return;let t="Marker";g(e.name)?t=e.name:g(e.label)&&(t=e.label);const r=document.createElement("div");r.className="marker",r.style.backgroundImage=`url(${e.icon})`,r.style.width=e.iconSize[0]+"px",r.style.height=e.iconSize[1]+"px",r.style.backgroundSize="100%";const i=new qt.Marker({element:r}).setLngLat([e.location.x,e.location.y]).setRotation(e.orientation.heading).setPopup((new qt.Popup).setHTML(`<strong>${t}</strong>`)).addTo(this.map);return i.id=e.id+"$"+e.markerId,!this.first&&this.properties.autoZoomOnFirstMarker&&(this.map.flyTo({center:[e.location.x,e.location.y],zoom:e.zoomLevel,speed:3.5,curve:2,easing(e){return e}}),this.first=!1),i}removeMarkerFromLayer(e){this.loaded&&e.remove()}removePolylineFromLayer(e){this.map.removeLayer(e.id).removeSource(e.source)}removePolygonFromLayer(e){this.map.removeLayer(e.id+"-outline"),this.map.removeLayer(e.id).removeSource(e.source)}addPolyline(e){if(!this.loaded)return;const t=R(),r=R(),i=R(),o={id:r,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[0,0]]}}]};this.map.addSource(i,{type:"geojson",data:o});const n={id:t,type:"line",source:i,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":e.color,"line-width":e.weight,"line-opacity":e.opacity}};return this.map.addLayer(n),n}async updatePolygon(e){if(!this.loaded)return;let t=this.getPolygon(e);if(g(t)){const r=t.source,i=t.id;let o=this.map.getSource(r);const n=o.id;let a=[];const s=e.vertices;if(g(s)&&s.length>0)for(let e=0;e<s.length-1;e+=2)a.push([s[e],s[e+1]]);o.setData({id:n,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[a]}}]}),this.map.setPaintProperty(i,"fill-color",e.color),this.map.setPaintProperty(i,"fill-opacity",e.opacity),this.map.setPaintProperty(i+"-outline","line-color",e.outlineColor),this.map.setPaintProperty(i+"-outline","line-width",e.outlineWidth)}else t=this.addPolygon(e),this.addPolygonToLayer(e,t)}addPolygon(e){e.id,e.polygonId;let t=[];const r=e.vertices;if(g(r)&&r.length>0)for(let l=0;l<r.length-1;l+=2)t.push([r[l],r[l+1]]);const i=R(),o=R(),n=R(),a={id:o,type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[t]}}]};this.map.addSource(n,{type:"geojson",data:a});const s={id:i,type:"fill",source:n,layout:{},paint:{"fill-color":e.color,"fill-opacity":e.opacity}};return this.map.addLayer(s),this.map.addLayer({id:i+"-outline",type:"line",source:n,layout:{},paint:{"line-color":e.outlineColor,"line-width":e.outlineWidth}}),s}onResize(){}}var $t=Ht,Yt=r(56602),Gt=r(68315),Qt=r(13418),Kt=r(13863),Xt=r(41990),Jt=r(33121),er=r(29826),tr=r(520),rr=r(6228),ir=r(52462);class or extends Ke{constructor(e){super({supportedLayers:["marker","polyline","polygon"],...e}),(0,rr.fh)(ir.E);let t=document.getElementById(this.divId).className;document.getElementById(this.divId).setAttribute("class",t+" "+this.css),this.autoZoomOnFirstMarker=!1,g(e)&&g(e.autoZoomOnFirstMarker)&&(this.autoZoomOnFirstMarker=e.autoZoomOnFirstMarker)}beforeAddingItems(e){this.initMap(e)}initMap(e){this.INITIAL_VIEW_STATE={longitude:0,latitude:0,zoom:2,bearing:0,pitch:0};const t=document.createElement("canvas");t.setAttribute("id",R()),t.setAttribute("style","width:100%;height:100%;position:relative;");let r=document.getElementById(this.divId);if(r.appendChild(t),this.deckLayers=[],g(e)&&g(e.deckProps)&&g(e.deckProps.layers))for(let o=0;o<e.deckProps.layers.length;o++){const t=e.deckProps.layers[o].id?e.deckProps.layers[o].id:"base_"+t;this.deckLayers.push(e.deckProps.layers[o])}else this.deckLayers.push(new er.Z({id:"base",data:"https://c.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:0,maxZoom:19,tileSize:256,renderSubLayers:e=>{const{bbox:{west:t,south:r,east:i,north:o}}=e.tile;return new Kt.Z(e,{data:null,image:e.data,bounds:[t,r,i,o]})}}));let i={canvas:t.id,width:"100%",height:"100%",controller:!0,views:[new Yt.Z],initialViewState:this.INITIAL_VIEW_STATE,onViewStateChange:({viewState:e})=>{},layers:this.deckLayers};g(e)&&g(i)&&(i={...i,...e.deckProps}),this.INITIAL_VIEW_STATE=i.initialViewState,this.deckgl=new Gt.Z(i)}async updateMarker(e){const t=e.id+"$"+e.markerId,r=e.markerId;let i,o=e.iconColor;o=g(o)?b(e.iconColor):"#000000",i=e.icon.endsWith("glb")?new tr.Z({id:t,data:[{position:[e.location.x,e.location.y,e.location.z]}],pickable:!0,scenegraph:e.icon,getPosition:e=>e.position,getOrientation:t=>[0,e.orientation.yaw,90],_animations:{"*":{speed:5}},sizeScale:e.iconScale,_lighting:"pbr"}):new Qt.Z({id:t,data:[{position:[e.location.x,e.location.y,e.location.z]}],pickable:!0,iconAtlas:e.icon,iconMapping:{marker:{x:0,y:0,anchorX:e.iconAnchor[0],anchorY:e.iconAnchor[1],width:e.iconSize[0],height:e.iconSize[1],mask:g(e.iconColor)&&"#000000"!==e.iconColor}},getIcon:e=>"marker",getPosition:e=>e.position,sizeScale:e.iconScale,getSize:t=>e.iconSize[1],getColor:e=>o,onHover:(t,i)=>this.onMarkerHover(r,t,e,i),onClick:(t,i)=>i.leftButton?this.onMarkerLeftClick(r,t,e,i):this.onMarkerRightClick(r,t,e,i),zIndex:e.zIndex}),this.addMarkerToLayer(e,i);const n={};this.autoZoomOnFirstMarker&&(this.autoZoomOnFirstMarker=!1,n.initialViewState={...this.INITIAL_VIEW_STATE,longitude:e.location.x,latitude:e.location.y,zoom:e.zoomLevel}),this.render(n)}async updatePolyline(e){const t=e.id+"$"+e.polylineId,r=e.locations.map((e=>[e.x,e.y,e.z||1])),i=[{weight:e.weight,name:e.id,color:this.rgbaToArray(e.color),path:r}],o=new Xt.Z({id:t,data:i,widthUnits:"pixels",widthMinPixels:5,getPath:e=>e.path,getColor:e=>e.color,getWidth:e=>e.weight});this.addPolylineToLayer(e,o),this.render({})}async updatePolygon(e){const t=e.id+"$"+e.polygonId;let r=[];const i=e.vertices;if(g(i)&&i.length>0)for(let l=0;l<i.length-1;l+=2)r.push([i[l],i[l+1]]);let o=j(e.outlineColor).map(((e,t,r)=>t>=3?parseInt(255*e):e)),n=j(e.color).map(((e,t,r)=>t>=3?parseInt(255*e):e));const a=[{outlineWidth:e.outlineWidth,outlineColor:o,name:e.label,color:n,contour:[r]}],s=new Jt.Z({id:t,data:a,widthUnits:"pixels",lineWidthMinPixels:1,stroked:!0,filled:!0,getPolygon:e=>e.contour,getFillColor:e=>e.color,getLineWidth:e=>e.outlineWidth,getLineColor:e=>e.outlineColor});this.addPolygonToLayer(e,s),this.render({})}removeMarker(e){super.removeMarkers(e),this.render({})}removePolylines(e){super.removePolylines(e),this.render({})}removePolygons(e){super.removePolygons(e),this.render({})}render(e){const t=this.getMarkers(),r=this.getPolylines(),i=this.getPolygons();t.sort(((e,t)=>e.props.zIndex>t.props.zIndex?1:t.props.zIndex>e.props.zIndex?-1:0));const o={layers:[...this.deckLayers,...i,...r,...t]};this.deckgl.setProps({...e,...o})}rgbaToArray(e){if(Array.isArray(e))return e;let t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.substr(t,r-t);const o=i.split(",").map(Number);return o[3]=parseInt(100*o[3]),o}}var nr=or,ar=r(72982),sr="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec2 st;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}",lr="varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nvec4 windowToEye(vec4 fragCoord)\n{\n    vec2 uv = fragCoord.xy / czm_viewport.zw;\n    float z_window = czm_unpackDepth(texture2D(czm_globeDepthTexture, uv));\n\n    if (z_window == 0.0)\n        discard;\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord.xy, z_window);\n\n    return eyeCoordinate / eyeCoordinate.w;\n}\n\n// Camera model and frames are based on OpenCV conventions:\n// http://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html\n// we pass in a normalized intrinsic matrix as uniform so we can compute the normalized texture coordinates directly\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n\n    // get fragment 3D pos in eye coordinates using depth buffer value at fragment location\n    vec4 v_posEC = windowToEye(gl_FragCoord);\n\n    // translate to video cam frame\n    vec4 camPosEC = czm_modelViewRelativeToEye * czm_translateRelativeToEye(camPosHigh_1, camPosLow_2);\n    vec4 v_posCam = v_posEC - camPosEC;\n\n    // rotate to video cam frame\n    vec3 lookRay = camAtt_3 * czm_inverseViewRotation3D * v_posCam.xyz;\n\n    // discard if behind camera\n    if (lookRay.z < 0.1)\n        discard;\n\n    // undistort\n    float xn = lookRay.x / lookRay.z;\n    float yn = lookRay.y / lookRay.z;\n    float k1 = camDistR_5[0];\n    float k2 = camDistR_5[1];\n    float k3 = camDistR_5[2];\n    float p1 = camDistT_6[0];\n    float p2 = camDistT_6[1];\n\n    float r2 = xn * xn+ yn * yn;\n    float r4 = r2 * r2;\n    float r6 = r4 * r2;\n    float xd = xn * (1. + k1 * r2 + k2 * r4 + k3 * r6) + 2. * p1 * xn * yn + p2 * (r2 + 2. * xn * xn);\n    float yd = yn * (1. + k1 * r2 + k2 * r4 + k3 * r6) + 2. * p2 * xn * yn + p1 * (r2 + 2. * yn * yn);\n\n    // project with pinhole model\n    vec3 st = camProj_4 * vec3(xd, yd, 1.);\n    st.y = 1.0 - st.y;\n\n    if (st.x < 0.0 || st.x > 1.0 || st.y < 0.0 || st.y > 1.0)\n        discard;\n\n    // get color from material\n    czm_materialInput materialInput;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    materialInput.st = vec2(st.x, st.y);\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n\n    //float depth = pow(v_posEC.z * 0.5 + 0.5, 8.0);\n    //gl_FragColor = vec4(depth, depth, depth, 1.0);\n}";const cr=Object.freeze({LONLATALT_WITH_EULER_ANGLES:1,ECEF_WITH_MATRICES:2,ECEF_WITH_QUATERNIONS:3}),ur=Object.freeze({YAW_PITCH_ROLL:1,YAW_ROLL_PITCH:2,PITCH_YAW_ROLL:3,PITCH_ROLL_YAW:4,ROLL_YAW_PITCH:5,ROLL_PITCH_YAW:6});class dr extends Ke{constructor(e){super({supportedLayers:["marker","drapedImage","polyline","ellipse","polygon","coplanarPolygon","frustum"],autoZoomOnFirstMarker:!0,...e});let t=document.getElementById(this.divId).className;document.getElementById(this.divId).setAttribute("class",t+" "+this.css),this.captureCanvas=document.createElement("canvas"),this.captureCanvas.width=640,this.captureCanvas.height=480,this.tmpHPR=new ar.xix,this.nedQuat=new ar._fP,this.platformQuat=new ar._fP(0,0,0,1),this.sensorQuat=new ar._fP(0,0,0,1),this.camQuat=ar._fP.fromRotationMatrix(ar.Vkp.fromRowMajorArray([0,0,1,1,0,0,0,1,0]))}beforeAddingItems(e){this.first=!0;let t=(0,ar.mqg)();if(e&&e.options&&e.options.layers){const r=e.options.layers;t=t.filter((e=>r.includes(e.name)))}let r,i={baseLayerPicker:!0,imageryProviderViewModels:t,selectedImageryProviderViewModel:t[0],timeline:!1,homeButton:!1,navigationInstructionsInitiallyVisible:!1,navigationHelpButton:!1,geocoder:!0,fullscreenButton:!1,showRenderLoopErrors:!0,animation:!1,scene3DOnly:!0,requestRenderMode:!0,maximumRenderTimeChange:1/0,targetFrameRate:30};g(e)&&(e.hasOwnProperty("options")&&e.options.hasOwnProperty("viewerProps")&&(i={...i,...e.options.viewerProps}),e.hasOwnProperty("options")&&e.options.hasOwnProperty("viewer")&&(r=e.options.viewer)),this.viewer=g(r)?r:new ar.AEx(this.divId,i),this.viewer.terrainProvider=new ar.ZHx,this.viewer.scene.copyGlobeDepth=!0,this.viewer.scene._environmentState.useGlobeDepthFramebuffer=!0,this.viewer.scene.globe.depthTestAgainstTerrain=!0,this.billboardCollection=new ar.vHr,this.labelCollection=new ar.qiJ,this.viewer.scene.primitives.add(this.billboardCollection),this.viewer.scene.primitives.add(this.labelCollection),this.initCallbackEvents(),this.changeToPromptRender=!1;const o=this;let n;this.viewer.scene.postUpdate.addEventListener((()=>{o.changeToPromptRender&&(o.viewer.scene.requestRender(),o.changeToPromptRender=!1)})),e&&e.options&&(e.options.location&&e.options.location.longitude&&e.options.location.latitude&&e.options.location.altitude&&(n||(n={}),n.destination=ar.b91.fromDegrees(e.options.location.longitude,e.options.location.latitude,e.options.location.altitude)),e.options.orientation&&e.options.orientation.heading&&(n||(n={}),n.orientation={heading:ar.ZX$.toRadians(e.options.orientation.heading),pitch:ar.ZX$.toRadians(e.options.orientation.pitch),roll:0},console.log(n.orientation))),n&&this.viewer.camera.flyTo({...n,duration:1})}render(){this.changeToPromptRender=!0}initCallbackEvents(){const e=this,t=t=>{try{let r,i,o=e.viewer.scene.pick(t.position);if(!g(o)||!g(o.id))return;o._id instanceof ar.JHW?r=o._id:o.id instanceof ar.JHW?r=o.id:i=o;let n=r&&r._id||i&&i.id;const a=e.getLayerId(n),s=e.getLayer(a);g(r)&&(e.viewer.selectedEntity=r,o.pixel=t.position,e.onMarkerRightClick(a,o,s.props,{}))}catch(r){console.error(r)}},r=t=>{const r=e.viewer.scene.pick(t.position);if(!g(r)||!g(r.id))return;const i=e.getMarkerId(r.id.id);if(!g(i))return;const o=e.getLayerId(r.id.id);if(!g(o))return;const n=e.getLayer(o);g(n)&&(e.viewer.selectedEntity=r.id,r.pixel=t.position,e.onMarkerRightClick(i,r,n.props,{}))},i=t=>{const r=e.viewer.scene.pick(t.endPosition);if(!g(r)||!g(r.id))return;const i=e.getMarkerId(r.id.id);if(!g(i))return;const o=e.getLayerId(r.id.id);if(!g(o))return;const n=e.getLayer(o);g(n)&&(r.pixel=t.endPosition,e.onMarkerHover(i,r,n.props,{}))};this.viewer.screenSpaceEventHandler.setInputAction(t,ar.Wvr.LEFT_CLICK),this.viewer.screenSpaceEventHandler.setInputAction(r,ar.Wvr.RIGHT_CLICK),this.viewer.screenSpaceEventHandler.setInputAction(i,ar.Wvr.MOUSE_MOVE)}getGroundAltitude(e,t){var r=ar.b91.fromDegrees(t,e,0,this.viewer.scene.globe.ellipsoid,new ar.b91),i=this.viewer.scene.globe.getHeight(ar.Hnq.WGS84.cartesianToCartographic(r));return(void 0===i||i<=0)&&(i=.1),i}panToLayer(e){let t=this.getMarker(e.props);this.viewer.zoomTo(t,new ar.sUm(ar.ZX$.toRadians(0),ar.ZX$.toRadians(-90),2e3))}addImageryProvider(e,t,r,i,o){let n,a,s=0;return o.hasOwnProperty("minLOD")&&(s=o.minLOD),o.hasOwnProperty("maxLOD")&&(n=o.maxLOD),"wms"===e&&(a=new ar.s0_({url:t,layers:r,minimumLevel:s,maximumLevel:n,parameters:{transparent:"true",format:"image/"+i}})),this.viewer.imageryLayers.addImageryProvider(a),a}addMarker(e,t=undefined){const r=e.id+"$"+e.markerId,i=e.icon&&e.icon.endsWith(".glb")||!1,o=e.hasOwnProperty("label")&&null!=e.label?e.label:"",n=new ar.pQ4(-e.iconAnchor[0],-e.iconAnchor[1]),a=g(e.iconColor)?ar.Ilk.fromCssColorString(e.iconColor):ar.Ilk.YELLOW;let s=[0,0,0];g(e.location)&&(s=[e.location.x,e.location.y,e.location.z||0]),g(e.location.z)&&!isNaN(e.location.z)||(s[2]=this.getGroundAltitude(e.location.x,e.location.y),s[2]>1&&(s[2]+=.3));let l=0;if(g(e.orientation)&&g(e.orientation.heading)){const t=e.orientation.heading;l=ar.ZX$.toRadians(t)}let c,u,d,h=ar.b91.fromDegrees(s[0],s[1],s[2]);if(g(e.orientation)&&g(e.orientation.heading)){const t=ar.ZX$.PI/180,r=e.orientation.heading,i=0;c=ar.YRB.headingPitchRollQuaternion(h,new ar.xix(r*t,0,i*t))}i?d={id:void 0,uri:e.icon,scale:e.iconScale,modelM:ar.yGw.IDENTITY.clone(),color:a,colorBlendMode:ar.xp3.MIX,colorBlendAmount:.5,silhouetteColor:a,minimumPixelSize:20,maximumScale:2e4,show:e.visible,heightReference:e.defaultToTerrainElevation?ar.MDq.CLAMP_TO_GROUND:ar.MDq.NONE,alpha:e.opacity,colorBlendAmountEnabled:!0,imageBasedLightingFactor:void 0,lightColor:void 0,distanceDisplayCondition:void 0,nodeTransformations:void 0,articulations:void 0,clippingPlanes:void 0,disableDepthTestDistance:Number.POSITIVE_INFINITY}:u={id:void 0,name:o,description:void 0,position:void 0,image:e.icon,scaleByDistance:new ar.g0P(1e3,1,1e7,0),alignedAxis:this.viewer.camera.pitch<-ar.ZX$.PI/4&&e.allowBillboardRotation?ar.b91.UNIT_Z:ar.b91.ZERO,rotation:l,horizontalOrigin:ar.I5p.LEFT,verticalOrigin:ar.s2f.TOP,pixelOffset:n,pixelOffsetScaleByDistance:new ar.g0P(1e3,1,1e7,0),eyeOffset:new ar.b91(0,0,-1*e.zIndex),show:e.visible,heightReference:e.defaultToTerrainElevation?ar.MDq.CLAMP_TO_GROUND:ar.MDq.NONE,scale:e.iconScale,imageSubRegion:void 0,color:a,width:e.iconSize[0],height:e.iconSize[1],translucencyByDistance:void 0,sizeInMeters:void 0,distanceDisplayCondition:void 0,disableDepthTestDistance:Number.POSITIVE_INFINITY};const p=e.labelColor||"#FFFFFF",f=e.labelSize||16,m=new ar.pQ4(e.labelOffset[0],e.labelOffset[1]),y=e.labelBackgroundColor&&ar.Ilk.fromCssColorString(e.labelBackgroundColor),b=e.labelOutlineColor&&ar.Ilk.fromCssColorString(e.labelOutlineColor),v={backgroundColor:y||void 0,backgroundPadding:void 0,distanceDisplayCondition:void 0,eyeOffset:void 0,fillColor:ar.Ilk.fromCssColorString(p),font:f+"px sans-serif",heightReference:e.defaultToTerrainElevation?ar.MDq.CLAMP_TO_GROUND:ar.MDq.NONE,horizontalOrigin:ar.I5p.CENTER,id:void 0,outlineColor:b||void 0,outlineWidth:b?1:void 0,pixelOffset:m,pixelOffsetScaleByDistance:new ar.g0P(150,1,1e6,0),position:ar.b91.fromDegrees(s[0],s[1],s[2]),scale:void 0,scaleByDistance:new ar.g0P(150,1,1e6,0),show:void 0,showBackground:!!y,style:ar.gF4.FILL_AND_OUTLINE,text:o,totalScale:void 0,translucencyByDistance:void 0,verticalOrigin:ar.s2f.TOP,disableDepthTestDistance:Number.POSITIVE_INFINITY};this.first&&this.properties.autoZoomOnFirstMarker&&(this.viewer.camera.flyTo({destination:ar.b91.fromDegrees(s[0],s[1],s[2]&&s[2]+1e3||1e3),duration:1}),this.first=!1);const w={description:e.description,position:ar.b91.fromDegrees(s[0],s[1],s[2]),orientation:c,id:r,billboard:u,model:d,label:v};if(g(t))return t.billboard=u&&{...u}||void 0,t.model=d&&{...d}||void 0,t.label=v&&{...v}||void 0,t.name=o,t.position=w.position,t.description=w.description,t.orientation=w.orientation,t;{const t=this.viewer.entities.add(w);return e.selected&&(this.viewer.selectedEntity=t),t}}async updateMarker(e){if(!g(e.location))return;let t=this.getMarker(e);this.addMarkerToLayer(e,this.addMarker(e,t)),this.render()}removeMarkerFromLayer(e){this.viewer.entities.remove(e),this.render()}addEllipse(e){const t=e.id+"$"+e.ellipseId,r=e.position,i=e.semiMajorAxis,o=e.semiMinorAxis,n=g(e.height)?e.height:0,a=g(e.extrudedHeight)?e.extrudedHeight:0,s=g(e.rotation)?e.rotation:0,l=g(e.stRotation)?e.stRotation:0,c=e.color,u=g(e.transparency)?e.transparency:.5,d=new ar.aBy({geometry:new ar.JF8({center:ar.b91.fromDegrees(r.x,r.y),semiMajorAxis:i,semiMinorAxis:o,height:n,extrudedHeight:a,rotation:s,stRotation:l}),id:t}),h=new ar.dUq({geometryInstances:d,appearance:new ar.HKI({material:new ar.F5T({fabric:{type:"Color",uniforms:{color:ar.Ilk.fromCssColorString(c).withAlpha(u)}}})}),asynchronous:!1,show:e.visible});return this.viewer.scene.primitives.add(h),h}async updateEllipse(e){if(!g(e.position))return;const t=this.getEllipse(e);g(t)&&this.removeEllipseFromLayer(t),this.addEllipseToLayer(e,this.addEllipse(e)),this.render()}removeEllipseFromLayer(e){this.viewer.scene.primitives.remove(e),this.render()}addPolyline(e){const t=e.id+"$"+e.polylineId,r=e.locations,i=r.map((e=>ar.b91.fromDegrees(e.x,e.y,e.z))).flat();let o;if(e.clampToGround){const r=new ar.aBy({geometry:new ar.gLh({id:t,positions:i,width:e.weight,loop:!1}),id:t});o=new ar.$gM({geometryInstances:r,appearance:new ar.HKI({material:new ar.F5T({fabric:{type:"Color",uniforms:{color:ar.Ilk.fromCssColorString(e.color)}}})}),asynchronous:!1,show:e.visible})}else{const r=new ar.aBy({geometry:new ar.rJf({id:t,positions:i,width:e.weight,loop:!1}),attributes:{color:ar.vSX.fromColor(ar.Ilk.fromCssColorString(e.color))},id:t});o=new ar.WV0({geometryInstances:r,appearance:new ar.rnP,asynchronous:!1,show:e.visible})}return this.viewer.scene.primitives.add(o),o}async updatePolyline(e){if(!g(e.locations)||e.locations.length<2)return;const t=this.getPolyline(e);g(t)&&this.removePolylineFromLayer(t),this.addPolylineToLayer(e,this.addPolyline(e)),this.render()}removePolylineFromLayer(e){this.viewer.scene.primitives.remove(e),this.render()}async updatePolygon(e){let t=this.getPolygon(e);g(t)&&this.removePolygonFromLayer(t),this.addPolygonToLayer(e,this.addPolygon(e)),this.render()}addPolygon(e){const t=e.id+"$"+e.polygonId,r=new ar.aBy({geometry:new ar.i4B({polygonHierarchy:new ar.rVe(ar.b91.fromDegreesArray(e.vertices)),attributes:{color:ar.vSX.fromColor(ar.Ilk.fromRandom({alpha:.5}))}}),id:t}),i=new ar.dUq({geometryInstances:r,appearance:new ar.HKI({material:new ar.F5T({fabric:{type:"Color",uniforms:{color:ar.Ilk.fromCssColorString(e.color).withAlpha(e.opacity)}}})}),asynchronous:!1,show:e.visible});var o=new ar.Dos;o.add({positions:ar.b91.fromDegreesArray(e.vertices),width:e.outlineWidth,loop:!0,material:new ar.F5T({fabric:{type:"Color",uniforms:{color:ar.Ilk.fromCssColorString(e.outlineColor)}}}),show:e.visible});const n=new ar.mL8;return n.add(i),n.add(o),this.viewer.scene.primitives.add(n),n}removePolygonFromLayer(e){e.removeAll(),this.viewer.scene.primitives.remove(e),this.render()}async updateCoPlanarPolygon(e){let t=this.getPolygon(e);g(t)&&(t.removeAll(),this.viewer.scene.primitives.remove(t)),this.addPolygonToLayer(e,this.addCoPlanarPolygon(e)),this.render()}addCoPlanarPolygon(e){const t=e.id+"$"+e.polygonId,r=new ar.aBy({geometry:new ar.iip({polygonHierarchy:new ar.rVe(ar.b91.fromDegreesArrayHeights(e.vertices))}),id:t}),i=new ar.WV0({geometryInstances:r,appearance:new ar.HKI({material:new ar.F5T({fabric:{type:"Color",uniforms:{color:ar.Ilk.fromCssColorString(e.color).withAlpha(e.opacity)}}})}),asynchronous:!1,show:e.visible}),o=new ar.mL8;return o.add(i),this.viewer.scene.primitives.add(o),o}async updateDrapedImage(e){if(!g(e.platformLocation)||!g(e.imageSrc))return;let t=this.getDrapedImage(e);g(t)?await this.addDrapedImage(e,t):this.addDrapedImageToLayer(e,await this.addDrapedImage(e)),this.render()}async addDrapedImage(e,t){let r;const i=new ar.Vkp,o=new ar.Vkp,n=ar.ZX$.PI/180;switch(e.positionMode){case cr.LONLATALT_WITH_EULER_ANGLES:{r=ar.b91.fromDegrees(e.platformLocation.x,e.platformLocation.y,e.platformLocation.z),ar.yGw.getMatrix3(ar.YRB.northEastDownToFixedFrame(r),i);const t=e.platformOrientation;t&&(ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t.heading*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationY(t.pitch*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationX(t.roll*n,o),i));const a=e.gimbalOrientation;if(a){const t="yaw"in a?a.yaw:a.heading,r=a.pitch+90,s=a.roll;switch(e.gimbalEulerAngleOrder){case ur.YAW_PITCH_ROLL:ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationY(r*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationX(s*n,o),i);break;case ur.YAW_ROLL_PITCH:ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationX(s*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationY(r*n,o),i);break;case ur.PITCH_YAW_ROLL:ar.Vkp.multiply(i,ar.Vkp.fromRotationY(r*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationX(s*n,o),i);break;case ur.PITCH_ROLL_YAW:ar.Vkp.multiply(i,ar.Vkp.fromRotationY(r*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationX(s*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t*n,o),i);break;case ur.ROLL_YAW_PITCH:ar.Vkp.multiply(i,ar.Vkp.fromRotationX(s*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationY(r*n,o),i);break;case ur.ROLL_PITCH_YAW:ar.Vkp.multiply(i,ar.Vkp.fromRotationX(s*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationY(r*n,o),i),ar.Vkp.multiply(i,ar.Vkp.fromRotationZ(t*n,o),i);break}}ar.Vkp.fromRotationZ(90*n,o),ar.Vkp.multiply(i,o,i);break}case cr.ECEF_WITH_MATRICES:r=new ar.b91(e.platformLocation.x,e.platformLocation.y,e.platformLocation.z),e.platformOrientation?ar.Vkp.clone(e.platformOrientation,i):ar.Vkp.clone(ar.Vkp.IDENTITY,i),e.gimbalOrientation&&ar.Vkp.multiply(i,e.gimbalOrientation,i);break;case cr.ECEF_WITH_QUATERNIONS:r=new ar.b91(e.platformLocation.x,e.platformLocation.y,e.platformLocation.z),e.platformOrientation?ar.Vkp.fromQuaternion(e.platformOrientation,i):ar.Vkp.clone(ar.Vkp.IDENTITY,i),e.gimbalOrientation&&ar.Vkp.multiply(i,ar.Vkp.fromQuaternion(e.gimbalOrientation,new ar.Vkp),i);break;default:return}const a=e.cameraModel.camProj,s=e.cameraModel.camDistR,l=e.cameraModel.camDistT;let c=e.imageSrc,u=e.snapshot;if(u){let e=this.captureCanvas.getContext("2d");e.drawImage(c,0,0,this.captureCanvas.width,this.captureCanvas.height),c=this.captureCanvas}const d=ar._2c.fromCartesian(r),h=new ar.HKI({renderState:{depthTest:{enabled:!1}},material:new ar.F5T({fabric:{type:"Image",uniforms:{image:c,camPosHigh:d.high,camPosLow:d.low,camAtt:ar.Vkp.toArray(ar.Vkp.transpose(i,new ar.Vkp)),camProj:ar.Vkp.toArray(a),camDistR:s,camDistT:l}}}),vertexShaderSource:sr,fragmentShaderSource:lr});if(!g(t)||u){const t=new ar.DyV({ellipsoid:ar.Hnq.WGS84,rectangle:ar.AeJ.fromDegrees(-180,-90,180,90)}),r=new ar.WV0({geometryInstances:new ar.aBy({geometry:t}),appearance:h,show:e.visible});return this.viewer.scene.primitives.add(r,0),r}return t.appearance=h,t.show=e.visible,t}removeDrapedImageFromLayer(e){this.viewer.scene.primitives.remove(e),this.render()}async updateFrustum(e){if(!g(e.origin)||!g(e.fov)||!g(e.range)||!g(e.sensorOrientation)||!g(e.platformOrientation))return;let t=this.getFrustum(e);g(t)&&(t.removeAll(),this.viewer.scene.primitives.remove(t)),this.addFrustumToLayer(e,this.addFrustum(e)),this.render()}addFrustum(e){const t=e.id+"$"+e.frustumId;let r,i;switch(e.positionMode){case Be.LONLATALT_WITH_EULER_ANGLES:r=ar.b91.fromDegrees(e.origin.x,e.origin.y,e.origin.z),ar.YRB.headingPitchRollQuaternion(r,new ar.xix(0,0,0),ar.Hnq.WGS84,ar.YRB.northEastDownToFixedFrame,this.nedQuat);const t=e.platformOrientation;ar.xix.fromDegrees(-t.heading,-t.pitch,t.roll,this.tmpHPR),ar._fP.fromHeadingPitchRoll(this.tmpHPR,this.platformQuat);const o=e.sensorOrientation;ar.xix.fromDegrees(-o.yaw,-o.pitch,o.roll,this.tmpHPR),ar._fP.fromHeadingPitchRoll(this.tmpHPR,this.sensorQuat),ar._fP.multiply(this.nedQuat,this.platformQuat,this.platformQuat),ar._fP.multiply(this.platformQuat,this.sensorQuat,this.sensorQuat),i=ar._fP.multiply(this.sensorQuat,this.camQuat,this.sensorQuat);break;case Be.ECEF_WITH_MATRICES:r=e.origin,ar._fP.fromRotationMatrix(e.platformOrientation,this.platformQuat),ar._fP.fromRotationMatrix(e.sensorOrientation,this.sensorQuat),i=ar._fP.multiply(this.platformQuat,this.sensorQuat,new ar._fP);break;case Be.ECEF_WITH_QUATERNIONS:r=e.origin,this.platformQuat=e.platformOrientation,this.sensorQuat=e.sensorOrientation,i=ar._fP.multiply(this.platformQuat,this.sensorQuat,new ar._fP);break;default:return}const o=new ar.snB({fov:ar.ZX$.toRadians(e.fov),aspectRatio:e.aspectRatio,near:e.near,far:e.range}),n=new ar.aBy({geometry:new ar.fuF({frustum:o,origin:r,orientation:i,vertexFormat:ar.gBM.POSITION_ONLY}),id:t}),a=new ar.WV0({geometryInstances:n,appearance:new ar.HKI({material:new ar.F5T({fabric:{type:"Color",uniforms:{color:ar.Ilk.fromCssColorString(e.color).withAlpha(e.opacity)}}})}),asynchronous:!1,show:e.visible}),s=new ar.mL8;return s.add(a),this.viewer.scene.primitives.add(s),s}removeFrustumFromLayer(e){g(e)&&(e.removeAll(),this.viewer.scene.primitives.remove(e),this.render())}}var hr=dr,pr=r(3336),fr=r(93024);function mr(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set(["Quantity","Time","Category","Count","Boolean","DataChoice","DataArray","Text"]),n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Set(["elementCount","elementType"]),a=i,s=Array.isArray(t)?e:t;for(var l in t){var c=t[l];if(n.has(l))break;if("Vector"!==c&&"DataRecord"!==c||"name"in t&&(a+="/".concat(t.name)),o.has(c)){var d=(0,fr.Y)(t);d.path=a+"/".concat(t.name),!("label"in d)&&"label"in e&&(d.label=e.label),r.push(d)}else if("object"===(0,pr.Z)(c))mr(s,c,r,a,o,n);else if(Array.isArray(c)){var h,p=(0,u.Z)(c);try{for(p.s();!(h=p.n()).done;){var f=h.value;mr(s,f,r,a,o,n)}}catch(m){p.e(m)}finally{p.f()}}}}var gr=r(58661),yr=r(13087),br=r(62833),vr=r(93806),wr=r(35937);let kr=-1;class Sr extends re{constructor(e,t){super(e,t),this.interval=-1,this.lastReceiveTime=0,this.extraUrl="",this.reconnectRetry=t&&t.reconnectRetry||10}doRequest(e=this.extraUrl,t=this.queryString){if(!this.init){this.extraUrl=e,this.queryString=t;let r=this.getUrl()+e;g(t)&&(r+="?"+t),this.closed=!1,this.init=!0,this.ws=new WebSocket(r),this.ws.binaryType="arraybuffer",this.checkStatus(ee.CONNECTING),console.warn("WebSocket stream connecting"),this.ws.onopen=function(e){this.checkAndClearReconnection(),this.checkStatus(ee.CONNECTED),console.warn("WebSocket stream connected")}.bind(this),this.ws.onmessage=function(e){this.lastReceiveTime=Date.now(),e.data.byteLength>0&&this.onMessage(e.data)}.bind(this),this.ws.onerror=function(e){console.error("WebSocket stream error"),this.checkStatus(ee.CLOSED_ERROR),this.init=!1,this.lastReceiveTime=-1,this.createReconnection(),this.onError(e)}.bind(this),this.ws.onclose=e=>{console.warn("WebSocket stream closed: ",e.reason,e.code),1e3===e.code||this.closed?this.checkStatus(ee.DISCONNECTED):(this.checkStatus(ee.CLOSED_ERROR),this.createReconnection()),this.onClose(e.code)},-1!==this.reconnectionInterval&&(clearInterval(this.reconnectionInterval),this.reconnectionInterval=-1)}}doAsyncRequest(e=this.extraUrl,t=this.queryString){return new Promise((async(r,i)=>{if(!this.init){this.extraUrl=e,this.queryString=t;let o=this.getUrl()+e;g(t)&&(o+="?"+t),this.closed=!1,this.init=!0,this.ws=new WebSocket(o),this.ws.binaryType="arraybuffer",this.checkStatus(ee.CONNECTING),console.warn("WebSocket stream connecting");const n=[];this.ws.onopen=function(e){this.checkAndClearReconnection(),this.checkStatus(ee.CONNECTED),console.warn("WebSocket stream connected")}.bind(this),this.ws.onmessage=function(e){this.lastReceiveTime=Date.now(),e.data.byteLength>0&&n.push(e.data)}.bind(this),this.ws.onerror=function(e){console.error("WebSocket stream error"),this.checkStatus(ee.CLOSED_ERROR),this.init=!1,this.lastReceiveTime=-1,this.createReconnection(),this.onError(e),i(`onError WS: ${e}`)}.bind(this),this.ws.onclose=e=>{console.warn("WebSocket stream closed: ",e.reason,e.code),1e3===e.code||this.closed?this.checkStatus(ee.DISCONNECTED):(this.checkStatus(ee.CLOSED_ERROR),this.createReconnection()),this.onClose(e.code),r(n)},-1!==this.reconnectionInterval&&(clearInterval(this.reconnectionInterval),this.reconnectionInterval=-1)}}))}connect(){this.doRequest()}publishRequest(e,t){g(this.ws)&&this.ws.send(t)}checkAndClearReconnection(){-1!==kr&&(clearInterval(kr),kr=-1)}createReconnection(){if(!this.closed&&-1===kr&&this.onReconnect()){let e=0;const t=this.url;kr=setInterval(function(){let r=Date.now()-this.lastReceiveTime;if(-1===this.lastReceiveTime||r>=this.reconnectTimeout)if(e++>=this.reconnectRetry)console.warn(`Maximum reconnection retries attempted: ${this.reconnectRetry}`),clearInterval(kr);else{let r=t;g(this.extraUrl)&&(r+=this.extraUrl),g(this.queryString)&&(r+="?"+this.queryString),console.warn(`(${e}/${this.reconnectRetry}) trying to reconnect: ${r}`),this.init=!1,this.connect()}}.bind(this),this.reconnectTimeout)}}async disconnect(){this.init=!1,this.closed=!0,null!=this.ws&&this.ws.readyState!==WebSocket.CLOSED&&this.ws.close()}async onMessage(e){}isConnected(){return null!=this.ws&&this.ws.readyState===WebSocket.OPEN}}var _r=Sr;class Tr extends re{constructor(e,t){super(e,t),this.lastReceiveTime=-1,this.interval=-1,this.broadcastChannel=new BroadcastChannel(e),this.broadcastChannel.onmessage=e=>{e.data.topic===this.fullTopic&&this.onMessage(e.data.data)},this.topics=[]}doRequest(e="",t=undefined){this.fullTopic=e+"?"+t,this.broadcastChannel.postMessage({message:"subscribe",connectorId:this.id,topic:e,queryString:t}),this.topics.push(e),this.onChangeStatus(ee.CONNECTED)}disconnect(){this.fullDisconnect(!0)}fullDisconnect(e){if(null!=this.broadcastChannel){for(let e of this.topics)this.broadcastChannel.postMessage({message:"unsubscribe",connectorId:this.id,topic:e});this.broadcastChannel.close(),this.broadcastChannel=null,this.topics=[]}e&&clearInterval(this.interval),this.opened=!1}reconnect(){this.onReconnect(),this.init&&this.fullDisconnect(!1),this.connect()}onMessage(e){}close(){this.disconnect()}isConnected(){return null!==this.broadcastChannel&&this.opened}checkStatus(e){this.onChangeStatus(e),this.status=e}}var xr=Tr;class Ir{constructor(e){S(e.endpointUrl,"endpointUrl"),this.networkProperties=e;let t=e.endpointUrl;t.endsWith("/")&&(t=t.substring(0,t.length-1));const r=e.tls?"s":"";this.url="http"+r+"://"+t,this._network={},g(e.connector)?this._network.stream={connector:e.connector}:g(e.streamProtocol)?this._network.stream={connector:this.createStreamConnector(e)}:this._network.stream={connector:this.createStreamConnector({...e,streamProtocol:"ws"})}}baseUrl(){return this.url}stream(){return this._network.stream.connector}createStreamConnector(e){S(e.streamProtocol,"streamProtocol");let t=e.endpointUrl;"mqtt"===e.streamProtocol&&g(e.mqttOpts)&&(t=e.mqttOpts.endpointUrl),t.endsWith("/")&&(t=t.substring(0,t.length-1));const r=e.tls?"s":"",i=e.streamProtocol+r+"://"+t;return"mqtt"===e.streamProtocol?new xr(e.mqttOpts.bcId,e):"ws"===e.streamProtocol?new _r(i):void 0}connect(){this._network.stream.connector.connect()}getHeaders(){const e={};if("connectorOpts"in this.networkProperties)if("username"in this.networkProperties.connectorOpts&&"password"in this.networkProperties.connectorOpts)e["Authorization"]="Basic "+btoa(this.networkProperties.connectorOpts.username+":"+this.networkProperties.connectorOpts.password);else for(let t in this.networkProperties.connectorOpts)e[t]=this.networkProperties.connectorOpts[t];return e}fetchAsJson(e,t){const r=this.baseUrl()+e+"?"+t,i=this.getHeaders();return fetch(r,{method:"GET",headers:i}).then((function(e){if(!e.ok){const t=new Error(`Got ${e.status} response from ${this.baseUrl()}`);throw t.response=e,t}return e.json()}))}postAsJson(e,t){const r=this.baseUrl()+e,i=this.getHeaders();i["Accept"]="application/json",i["Content-Type"]="application/json",fetch(r,{method:"POST",headers:i,credentials:"include",body:t}).then((function(e){if(!e.ok){const t=new Error(`Got ${e.status} response from ${r}`);throw t.response=e,t}}))}}var Cr=Ir;class Er{constructor(e="application/json"){this.format=e}parseData(e){if("application/om+json"===this.format||"application/json"===this.format)return this.parseOmJsonData(e);if("application/swe+json"===this.format)return this.parseSweJsonData(e);if("application/swe+csv"===this.format)return this.parseSweCsv(e);if("application/swe+xml"===this.format)return this.parseSweXml(e);throw Error(`Unsupported collection format ${this.format}`)}parseOmJsonData(e){return e instanceof ArrayBuffer?JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))).items:e.items}parseSweJsonData(e){return e instanceof ArrayBuffer?JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e))):e}parseSweCsv(e){let t=e instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint8Array(e)):e;return t.split("\n")}parseSweXml(e){return e instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint8Array(e)):e}}var Dr=Er;class Ar{constructor(e,t,r,i,o="json"){this.url=e,this.filter=t,this.pageSize=r,this.parser=i,this.pageOffset=0,this.init=!1,this.total=0,this.collectionDataParser=new Dr(t.props.format),this.responseFormat=o,this.currentPage=-1}hasNext(){return-1!==this.pageOffset}async fetchData(e){const t=`${this.filter.toQueryString()}&offset=${e}&limit=${this.pageSize}`,r=this.url+"?"+t,i=await fetch(r,{method:"GET",headers:{}}).then((e=>{if(!e.ok){const t=new Error(`Got ${e.status} response from ${r}`);throw t.response=e,t}return"json"===this.responseFormat?e.json():"arraybuffer"===this.responseFormat?e.arrayBuffer():void 0}));return this.parseResponse(i)}async parseResponse(e){const t=this.collectionDataParser.parseData(e),r=[];if(Array.isArray(t))for(let i of t)r.push(this.parser.parseData(i));else r.push(t);return r}async nextPage(){if(this.hasNext()){this.currentPage++,this.pageOffset=this.currentPage*this.pageSize;const e=await this.fetchData(this.pageOffset);return(0===e.length||e.length<this.pageSize)&&(this.pageOffset=-1),e}throw Error("Has no more pages")}async page(e){this.currentPage=e,this.pageOffset=this.currentPage*this.pageSize;const t=await this.fetchData(this.pageOffset);return(0===t.length||t.length<this.pageSize)&&(this.pageOffset=-1),t}async previousPage(){if(this.hasPrevious())return this.currentPage--,this.pageOffset=this.currentPage*this.pageSize,this.fetchData(this.pageOffset);throw Error("Has no more pages")}hasPrevious(){return this.currentPage>0}}var Pr=Ar;class Rr extends ce{constructor(e){super({q:void 0,bbox:void 0,location:void 0,parent:void 0,select:void 0,format:"application/json",validTime:void 0,...e})}}var Mr=Rr;const Or={datastreams:{search:"/datastreams",by_id:"/datastreams/{id}",observations:"/datastreams/{id}/observations",schema:"/datastreams/{id}/schema"},systems:{search:"/systems",by_id:"/systems/{sysid}",details:"/systems/{sysid}/details",fois:"/systems/{sysid}/featuresOfInterest",members:"/systems/{sysid}/members",datastreams:"/systems/{sysid}/datastreams",history_ver:"/systems/{sysid}/history/{ver}",control_by_id:"/systems/{sysid}/controls/{dsid}",controls:"/systems/{sysid}/controls",events:"/systems/{sysid}/events",history:"/systems/{sysid}/history"},controls:{commands:"/systems/{sysid}/controls/{dsid}/commands",command_by_id:"/systems/{sysid}/controls/{dsid}/commands/{cmdid}",status:"/systems/{sysid}/controls/{dsid}/status",schema:"/systems/{sysid}/controls/{dsid}/schema"},commands:{status:"/systems/{sysid}/controls/{dsid}/commands/{cmdid}/status"},observations:{search:"/observations",by_id:"/observations/{id}"},fois:{search:"/featuresOfInterest",by_id:"/featuresOfInterest/{id}"}};var Lr=Or;class zr{constructor(e){this.networkProperties=e}parseData(e){}}var jr=zr;class Fr extends ce{constructor(e){super({q:void 0,bbox:void 0,location:void 0,observedProperty:void 0,featureOfInterest:void 0,select:void 0,format:"application/json",obsFormat:"application/om+json",validTime:void 0,phenomenonTime:void 0,resultTime:void 0,...e})}}var Br=Fr;class Vr extends ce{constructor(e){super({q:void 0,bbox:void 0,location:void 0,validTime:void 0,parent:void 0,select:void 0,featureOfInterest:void 0,format:"application/json",...e})}}var Wr=Vr;class Ur extends ce{constructor(e){super({q:void 0,actuableProperty:void 0,observedProperty:void 0,issueTime:void 0,select:void 0,format:"application/json",...e})}}var Nr=Ur;class qr extends ce{constructor(e){super({q:void 0,eventTime:void 0,eventType:void 0,select:void 0,format:"application/json",...e})}}var Zr=qr;class Hr extends ce{constructor(e){super({select:void 0,validTime:void 0,format:"application/json",...e})}}var $r=Hr;class Yr extends Pr{constructor(e,t,r,i){super(e,t,r,i,"arraybuffer")}async parseResponse(e){return this.parser.parseDataBlock(e,this.filter.props.format)}}var Gr=Yr;class Qr{constructor(){this.stack=[],this.time=void 0,this.idRef=void 0}init(e,t,r){this.props=t,this.name=e.name,this.path=r,this.checkTime(e),this.checkId(e),this.build(e)}parseElement(e,t){let r;g(t)&&(this.path=t),g(this.path)&&this.path in this.props.refs?r=new Kr(this.props.refs[this.path]):e.name in this.props.refs?r=new Kr(this.props.refs[e.name]):e.type in this.props.registeredParser?r=this.props.registeredParser[e.type]():e.hasOwnProperty("href")?r="href"in this.props.registeredParser?this.props.registeredParser["href"]():new ti:"DataRecord"===e.type?r=new Xr(e,this.props):"Vector"===e.type?r=new ei(e,this.props):"DataArray"===e.type&&(r=new Jr(e,this.props)),r&&(r.init(e,this.props,this.path),this.stack.push(r))}build(e){}parse(e,t,r){for(let i of this.stack)i.parse(e,t,r)}checkId(e){"id"in e&&(this.idRef=e["id"],this.props.nodesId[this.idRef]=this)}checkIdValue(e){this.idRef&&(this.props.nodesIdValue[this.idRef]=e)}checkTime(e){}getTimePropertyName(){if(!this.time)for(let e of this.stack)if(this.time=e.getTimePropertyName(),this.time)break;return this.time}splitRefName(e){const t=e.split("/");return t.length>0?t[t.length-1]:e}}class Kr extends Qr{constructor(e){super(),this.parser=e}build(e){this.parser&&this.parser.name&&(this.name=this.parser.name)}parse(e,t,r){this.parser.parse(e,t,r)}}class Xr extends Qr{build(e){let t;if(e.hasOwnProperty("fields")?t="fields":e.hasOwnProperty("field")&&(t="field"),!t)return;let r=this.path?this.path+"/":"/";if(Array.isArray(e[t]))for(let i of e[t])this.parseElement(i,r+i.name);else this.parseElement(e[t],r+e[t].name)}parse(e,t,r){if(this.name){const i={};for(let r of this.stack)r.parse(e,t,i);r[this.name]=i}else super.parse(e,t,r)}}class Jr extends Qr{build(e){this.parseElement(e["elementCount"]),this.parseElement(e["elementType"])}parse(e,t,r){const i={};this.stack[0].parse(e,t,i);const o=Object.values(i)[0],n=this.stack[1];let a=[];for(let s=0;s<o;s++){const r={};n.parse(e,t,r),a.push(r)}r[this.name]=a}}class ei extends Qr{build(e){let t="coordinates";"coordinate"in e&&(t="coordinate");let r=this.path?this.path+"/":"/";for(let i of e[t])this.parseElement(i,r+i.name)}parse(e,t,r){const i={};for(let o of this.stack)o.parse(e,t,i);r[this.name]=i}}class ti extends Qr{build(e){const t=e.href;if("#"!==t[0])throw Error(`Href should start with #: ${t}`);const r=t.slice(1);if(!(r in this.props.nodesId))throw Error(`id ${r} not found in the id Tree`);this.id=r,this.parser=this.props.nodesId[r]}parse(e,t,r){this.id in this.props.nodesIdValue?r[this.parser.name]=this.props.nodesIdValue[this.id]:this.parser.parse(e,t,r)}}class ri extends Qr{}var ii=ri;class oi extends Qr{build(e){this.parseElement(e)}}var ni=oi;class ai{constructor(e,t){this.textDecoder=new TextDecoder,this.nodesId={},this.parsers=[],this.count=0,this.props=t,this.parser=new ni}decode(e){if(e instanceof ArrayBuffer)return JSON.parse(this.textDecoder.decode(e));try{return JSON.parse(e)}catch(t){return e}}}var si=ai;class li extends Qr{parse(e,t,r){let i=e.nextToken(this.path);r[this.name]=new Date(i).toISOString()}checkTime(e){!("definition"in e)||"http://www.opengis.net/def/property/OGC/0/SamplingTime"!==e["definition"]&&"http://www.opengis.net/def/property/OGC/0/PhenomenonTime"!==e["definition"]||(this.time=this.name)}}var ci=li;class ui extends si{constructor(e,t={timeShift:0}){super(e,{nodesId:{},nodesIdValue:{},registeredParser:{Time:()=>new ci,Category:()=>new ii,Quantity:()=>new ii,Count:()=>new ii,Boolean:()=>new ii,DataChoice:()=>new ii},refs:{},...t}),this.parser.init(e,this.props)}getTimeField(){return this.parser.getTimePropertyName()}parseDataBlock(e){let t;if(e instanceof ArrayBuffer)t=JSON.parse(this.textDecoder.decode(e));else try{t=JSON.parse(e)}catch(r){t=e}if(Array.isArray(t)){for(let e of t)e["timestamp"]=new Date(e[this.getTimeField()]).getTime()+this.props.timeShift;return t}return t["timestamp"]=new Date(t[this.getTimeField()]).getTime()+this.props.timeShift,[t]}}var di=ui;class hi extends di{constructor(e){super(e)}getTimeField(){return"phenomenonTime"}}var pi=hi;class fi{constructor(e){this.dataObject=e,this.parsers={"application/om+json":{schemaPromise:void 0,parser:void 0},"application/swe+json":{schemaPromise:void 0,parser:void 0},"application/swe+xml":{schemaPromise:void 0,parser:void 0},"application/swe+csv":{schemaPromise:void 0,parser:void 0},"application/swe+binary":{schemaPromise:void 0,parser:void 0}}}async checkParser(e){if(!(e in this.parsers))throw new Error(`Not support format ${e}`);const t=this.parsers[e];return g(t.parser)?t.parser:(g(t.schemaPromise)||(this.parsers[e].schemaPromise=new Promise((async(t,r)=>{try{const r=await this.dataObject.getSchema(new ce({obsFormat:e}));this.init(r,e),t()}catch(i){console.error(i),r(i)}}))),await t.schemaPromise,this.parsers[e].parser)}init(e,t){throw new Error("Unsupported Operation")}async parseDataBlock(e,t="application/om+json"){const r=await this.checkParser(t);return r.parseDataBlock(e)}}var mi=fi;class gi extends di{constructor(e){super(e)}}var yi=gi;class bi extends Qr{build(e){}parseElement(e){}parse(e,t,r){}init(e,t,r){}}var vi=bi;class wi extends Qr{build(e){let t="member";"members"in e&&(t="members");for(let r of e[t])this.parseElement(r)}}var ki=wi;class Si extends Qr{build(e){this.parseElement(e)}}var _i=Si;class Ti{decode(e,t,r=!1){return e.getFloat64(t,r)}length(){return 8}}var xi=Ti;class Ii{decode(e,t,r=!1){return e.getUint32(t,r)}length(){return 4}}var Ci=Ii;class Ei{decode(e,t,r=!1){return e.getInt16(t,r)}length(){return 2}}var Di=Ei;class Ai{decode(e,t,r=!1){return e.getFloat32(t,r)}length(){return 4}}var Pi=Ai;class Ri extends Qr{constructor(e){super(),this.refs={},this.binaryDataTypeDecoder=e}build(e){this.name=this.splitRefName(e.ref),"http://www.opengis.net/def/dataType/OGC/0/double"===e.dataType?this.refs[e.ref]=new xi:"http://www.opengis.net/def/dataType/OGC/0/signedInt"===e.dataType?this.refs[e.ref]=new Ci:"http://www.opengis.net/def/dataType/OGC/0/signedShort"===e.dataType?this.refs[e.ref]=new Di:"http://www.opengis.net/def/dataType/OGC/0/float32"===e.dataType&&(this.refs[e.ref]=new Pi),e.ref in this.refs&&this.binaryDataTypeDecoder.addRef(e.ref,this.refs[e.ref])}}var Mi=Ri;class Oi{decode(e,t,r=!1){const i=e.getUint32(t,r),o=new Uint8Array(e.buffer.slice(t+4,t+4+i));return this.length=()=>i+4,o}length(){return 0}}var Li=Oi;class zi extends Qr{constructor(e){super(),this.binaryDataTypeDecoder=e}build(e){this.staticProps={};for(let t in e)"ref"!==t&&"type"!==t&&(this.staticProps[t]=e[t]);this.name=this.splitRefName(e.ref),this.path=e.ref,this.props.refs[e.ref]=this,this.binaryDataTypeDecoder.addRef(e.ref,new Li),this.binaryDataTypeDecoder.hasBlock=!0}parse(e,t,r){const i={data:e.nextToken(this.path)};for(let o in this.staticProps)i[o]=this.staticProps[o];r[this.name]=i}}var ji=zi;class Fi{constructor(e){this.props=e}init(){}setData(e){this.data=e,this.init()}checkInit(){throw Error("Unsupported Operation")}nextToken(){throw Error("Unsupported Operation")}hasNextBlock(){throw Error("Unsupported Operation")}}var Bi=Fi;class Vi extends Bi{constructor(e){super(e),this.decoders={},this.componentsLength=0}init(){this.data=new DataView(this.data),this.componentIdx=0,this.tokenOffset=0}nextToken(e){let t=this.decoders[e];const r=t.decode(this.data,this.tokenOffset,this.props.littleEndian);return this.tokenOffset+=t.length(),r}hasNextBlock(){return this.tokenOffset<this.data.buffer.byteLength}addRef(e,t){this.decoders[e]=t,this.componentsLength+=t.length()}}var Wi=Vi;class Ui extends Qr{parse(e,t,r){r[this.name]=e.nextToken(this.path)}}var Ni=Ui;class qi extends Qr{parse(e,t,r){let i,o=e.nextToken(this.path);i="INF"===o||"+INF"===o?Number.POSITIVE_INFINITY:"-INF"===o?Number.NEGATIVE_INFINITY:parseFloat(o),r[this.name]=i}}var Zi=qi;class Hi extends Qr{build(e){"value"in e&&(this.value=parseInt(e["value"]))}parse(e,t,r){let i=this.value?this.value:parseInt(e.nextToken(this.path));super.checkIdValue(i),r[this.name]=i}}var $i=Hi;class Yi extends Qr{parse(e,t,r){let i=e.nextToken(this.path);r[this.name]="0"===i||"true"===i.toLowerCase()}}var Gi=Yi;class Qi extends Qr{build(e){let t;e.hasOwnProperty("items")?t="items":e.hasOwnProperty("item")&&(t="item"),this.itemToParserMap={};for(let r of e[t])this.parseElement(r);for(let r of this.stack)this.itemToParserMap[r.name]=r}parse(e,t,r){throw new Error("Unsupported Operation")}}var Ki=Qi;class Xi extends Ki{parse(e,t,r){let i=e.nextToken(this.path);this.itemToParserMap[i].parse(e,t,r)}}var Ji=Xi;class eo extends ci{constructor(){super()}parse(e,t,r){let i=e.nextToken(this.path);r[this.name]=new Date(1e3*i).toISOString()}}var to=eo;class ro extends si{constructor(e,t,r={timeShift:0}){super(e,{nodesId:{},nodesIdValue:{},registeredParser:{},refs:{},...r}),this.resultEncoding=t,this.binaryDataTypeDecoder=new Wi({...t,littleEndian:"littleEndian"===t.byteOrder});const i={nodesId:{},nodesIdValue:{},registeredParser:{member:()=>new _i,Component:()=>new Mi(this.binaryDataTypeDecoder),Block:()=>new ji(this.binaryDataTypeDecoder),BinaryEncoding:()=>new ki},refs:{}},o=new ni;o.init(t,i),this.props.registeredParser={Time:()=>new to,Category:()=>new Ni,Quantity:()=>new Zi,Count:()=>new $i,Boolean:()=>new Gi,DataChoice:()=>new Ji,href:()=>new vi},this.parser.init(e,{...this.props,refs:i.refs},"")}parseDataBlock(e){this.binaryDataTypeDecoder.setData(e);let t=[];while(this.binaryDataTypeDecoder.hasNextBlock()){const e={};this.parser.parse(this.binaryDataTypeDecoder,{},e),e["timestamp"]=new Date(e[this.parser.getTimePropertyName()]).getTime()+this.props.timeShift,t.push(e)}return t}}var io=ro;class oo extends io{constructor(e,t){super(e,t)}}var no=oo;class ao extends Bi{constructor(e){super({blockSeparator:" ",collapseWhiteSpaces:!0,decimalSeparator:".",tokenSeparator:",",...e}),this.init()}init(){this.blocks=[],this.blocksIdx=-1,this.tokens=[],this.tokensIdx=0}checkInit(){-1===this.blocksIdx&&(this.blocks=this.data.split(this.props.blockSeparator),this.blocksIdx=0)}nextToken(){if(this.checkInit(),this.tokensIdx>=this.tokens.length){if(0===this.blocks.length||this.blocksIdx>=this.blocks.length)return null;this.tokens=this.blocks[this.blocksIdx++].split(this.props.tokenSeparator),this.tokensIdx=0}return this.tokens[this.tokensIdx++]}hasNextBlock(){return this.checkInit(),this.blocks.length>0&&this.blocksIdx<this.blocks.length&&""!==this.blocks[this.blocksIdx]}}var so=ao;class lo extends si{constructor(e,t,r={timeShift:0}){super(e,{nodesId:{},nodesIdValue:{},registeredParser:{},refs:{},...r}),this.resultEncoding=t,this.textDataTypeDecoder=new so(this.resultEncoding),this.props.registeredParser={Time:()=>new ci,Category:()=>new Ni,Quantity:()=>new Zi,Count:()=>new $i,Boolean:()=>new Gi,DataChoice:()=>new Ji},this.parser.init(e,this.props,"")}parseDataBlock(e){let t;t=e instanceof ArrayBuffer?this.textDecoder.decode(e):e,this.textDataTypeDecoder.setData(t);let r=[];while(this.textDataTypeDecoder.hasNextBlock()){const e={};this.parser.parse(this.textDataTypeDecoder,{},e),e["timestamp"]=new Date(e[this.parser.getTimePropertyName()]).getTime()+this.props.timeShift,r.push(e)}return r}}var co=lo;class uo extends co{constructor(e,t){super(e,t)}}var ho=uo;class po extends mi{constructor(e){super(e)}init(e,t){if(t in this.parsers&&g(this.parsers[t].parser))return this.parsers[t].parser;if("application/om+json"===t)this.parsers[t].parser=new pi(e.resultSchema);else if("application/swe+json"===t)this.parsers[t].parser=new yi(e.recordSchema);else if("application/swe+binary"===t)this.parsers[t].parser=new no(e.recordSchema,e.recordEncoding);else{if("application/swe+csv"!==t)throw Error(`Not supported parser format: ${t}`);this.parsers[t].parser=new ho(e.recordSchema,e.recordEncoding)}}}var fo=po;class mo extends pi{constructor(e){super(e)}getTimeField(){return"phenomenonTime"}parseDataBlock(e){let t=this.textDecoder.decode(e);const r=JSON.parse(t),i=[];for(let o of r.items)o["timestamp"]=new Date(o[this.getTimeField()]).getTime(),i.push(o);return i}}var go=mo;class yo extends fo{constructor(e){super(e)}init(e,t){if("application/om+json"===t)this.parsers[t].parser=new go(e.resultSchema);else{if("application/swe+xml"===t)throw new Error(`Format not supported ${t}`);super.init(e,t)}}}var bo=yo;class vo extends Cr{constructor(e,t){super(t),this.properties=e,this.sweApiResultParser=new fo(this),this.sweApiResultCollectionDatastreamParser=new bo(this)}streamObservations(e=new de,t=function(){}){return this.stream().onMessage=async r=>{const i=await this.sweApiResultParser.parseDataBlock(r,e.props.format);t(i)},this.stream().doRequest(Lr.datastreams.observations.replace("{id}",this.properties.id),e.toQueryString([],["phenomenonTime"]),"arraybuffer")}async searchObservations(e=new de,t=10,r=this.sweApiResultParser){return new Gr(this.baseUrl()+Lr.datastreams.observations.replace("{id}",this.properties.id),e,t,this.sweApiResultCollectionDatastreamParser)}async getSchema(e=new Br){const t=Lr.datastreams.schema.replace("{id}",this.properties.id),r=e.toQueryString(["select","obsFormat"]);return this.fetchAsJson(t,r)}}var wo=vo;class ko extends jr{parseData(e){return new wo(e,{streamProtocol:"ws",...this.networkProperties})}}var So=ko;class _o extends Cr{constructor(e,t){super(t),this.properties=e}}var To=_o;class xo extends jr{parseData(e){return new To({...e,geometry:e.geometry||void 0,bbox:e.bbox||void 0},this.networkProperties)}}var Io=xo;class Co extends jr{parseData(e){return new Event(e,this.networkProperties)}}var Eo=Co;class Do extends ce{constructor(e){super({q:void 0,actuableProperty:void 0,select:void 0,format:"application/json",issueTime:void 0,executionTime:void 0,reportTime:void 0,statusCode:void 0,...e})}}var Ao=Do;class Po extends mi{constructor(e){super(e)}init(e,t){if("application/om+json"===t)this.parsers[t].parser=new pi(e.commandSchema);else if("application/swe+json"===t)this.parsers[t].parser=new yi(e.commandSchema);else if("application/swe+binary"===t)this.parsers[t].parser=new no(e.commandSchema,e.commandEncoding);else{if("application/swe+csv"!==t)throw Error(`Not supported parser format: ${t}`);this.parsers[t].parser=new ho(e.commandSchema,e.commandEncoding)}}}var Ro=Po;class Mo extends Cr{constructor(e,t){super(t),this.properties=e,this.jsonParser=new Dr(t),this.sweParser=new Ro(this)}async searchStatus(e=new Ao,t=10){return new Pr(this.baseUrl()+Lr.commands.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties["control@id"]).replace("{cmdid}",this.properties.id),e,t,this.jsonParser)}streamStatus(e=new Ao,t=function(){}){this.stream().onMessage=async r=>{const i=await this.sweParser.parseDataBlock(r,e.props.format);t(i)},this.stream().doRequest(Lr.commands.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties["control@id"]).replace("{cmdid}",this.properties.id),e.toQueryString(),"arraybuffer")}}var Oo=Mo;class Lo extends jr{constructor(e,t){super(e),this.systemId=t}parseData(e){return new Oo({...e,systemId:this.systemId},this.networkProperties)}}var zo=Lo;class jo extends Ro{constructor(e){super(e)}init(e,t){if("application/swe+binary"===t)throw new Error(`Format not supported ${t}`);if("application/swe+xml"===t)throw new Error(`Format not supported ${t}`);super.init(e,t)}}var Fo=jo;class Bo extends jr{constructor(e){super(e),this.textDecoder=new TextDecoder}parseData(e,t){let r;return r="arraybuffer"===t?this.textDecoder.decode(e):JSON.parse(e),JSON.parse(r)}}var Vo=Bo;class Wo extends Cr{constructor(e,t){super(t),this.properties=e,this.commandParser=new zo(t,this.properties["system@id"]),this.sweApiResultCollectionControlParser=new Fo(this),this.sweApiResultControlParser=new Ro(this),this.sweApiControlStatusParser=new Vo}async searchCommands(e=new Ao,t=10){return new Gr(this.baseUrl()+Lr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),e,t,this.sweApiResultCollectionControlParser)}streamCommands(e=new Nr,t=function(){}){this.stream().onMessage=async r=>{const i=await this.sweApiResultControlParser.parseDataBlock(r,e.props.format);t(i)},this.stream().doRequest(Lr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),e.toQueryString(),"arraybuffer")}async getCommandById(e,t=new Ao){const r=Lr.controls.command_by_id.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id).replace("{cmdid}",e),i=t.toQueryString(["select","obsFormat"]),o=await this.fetchAsJson(r,i);return this.commandParser.parseData(o)}postCommand(e,t=new Ao){const r=Lr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id);this.postAsJson(r,e)}publishCommand(e,t=new Ao){this.stream().publishRequest(Lr.controls.commands.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),e)}async searchStatus(e=new Nr,t=10){return new Pr(this.baseUrl()+Lr.controls.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),e,t,this.sweApiControlStatusParser)}streamStatus(e=new Nr,t=function(){}){this.stream().onMessage=async e=>{const r=await this.sweApiControlStatusParser.parseData(e,"arraybuffer");t(r)},this.stream().doRequest(Lr.controls.status.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),e.toQueryString(),"arraybuffer")}async getSchema(e=new Nr){const t=Lr.controls.schema.replace("{sysid}",this.properties["system@id"]).replace("{dsid}",this.properties.id),r=e.toQueryString(["select","commandFormat"]);return this.fetchAsJson(t,r)}}var Uo=Wo;class No extends jr{parseData(e){return new Uo(e,{streamProtocol:"ws",...this.networkProperties})}}var qo=No;class Zo extends Cr{constructor(e,t){super(t),this.properties=e,this.sweApiFetchSystemParser=new Yo(t),this.sweApiDataStreamParser=new So(t),this.sweApiFetchFeatureOfInterestParser=new Io(t),this.sweApiFetchEventParser=new Eo(t),this.sweApiFetchControlParser=new qo(t)}async getDetails(e=new Mr){const t=Lr.systems.details.replace("{sysid}",this.properties.id),r=e.toQueryString(["select","format"]);return this.fetchAsJson(t,r)}async searchSubSystems(e=new Mr,t=10){return new Pr(this.baseUrl()+Lr.systems.search,e,t,this.sweApiFetchSystemParser)}async searchDataStreams(e=new Br,t=10){return new Pr(this.baseUrl()+Lr.systems.datastreams.replace("{sysid}",this.properties.id),e,t,this.sweApiDataStreamParser)}async searchFeaturesOfInterest(e=new Wr,t=10){return new Pr(this.baseUrl()+Lr.systems.fois.replace("{sysid}",this.properties.id),e,t,this.sweApiFetchFeatureOfInterestParser)}async searchControls(e=new Nr,t=10){return new Pr(this.baseUrl()+Lr.systems.controls.replace("{sysid}",this.properties.id),e,t,this.sweApiFetchControlParser)}async getControlById(e,t=new Nr){const r=Lr.systems.control_by_id.replace("{sysid}",this.properties.id).replace("{dsid}",e),i=t.toQueryString(["select","format"]),o=await this.fetchAsJson(r,i);return this.sweApiFetchControlParser.parseData(o)}async searchEvents(e=new Zr,t=10){return new Pr(this.baseUrl()+Lr.systems.events.replace("{sysid}",this.properties.id),e,t,this.sweApiFetchEventParser)}async searchHistory(e=new $r,t=10){return new Pr(this.baseUrl()+Lr.systems.history.replace("{sysid}",this.properties.id),e,t,this.sweApiFetchSystemParser)}async searchMembers(e=new Mr,t=10){return new Pr(this.baseUrl()+Lr.systems.members.replace("{sysid}",this.properties.id),e,t,this.sweApiFetchSystemParser)}}var Ho=Zo;class $o extends jr{parseData(e){return new Ho(e,this.networkProperties)}}var Yo=$o;class Go extends Cr{constructor(e){super(e),this.sweApiFetchSystemParser=new Yo(e)}async searchSystems(e=new Mr,t=10){return new Pr(this.baseUrl()+Lr.systems.search,e,t,this.sweApiFetchSystemParser)}async getSystemById(e,t=new Mr){const r=Lr.systems.by_id.replace("{sysid}",e),i=t.toQueryString(["select","format"]),o=await this.fetchAsJson(r,i);return this.sweApiFetchSystemParser.parseData(o)}}var Qo=Go,Ko=function(e){(0,vr.Z)(r,e);var t=(0,wr.Z)(r);function r(e){var i;return(0,yr.Z)(this,r),i=t.call(this,e),i.handleEvents(),i.initControl=!1,i}return(0,br.Z)(r,[{key:"initSweApi",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(){var t,r;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.initControl){e.next=9;break}return t=new Qo(this.properties.control),e.next=4,t.getSystemById(this.properties.control.systemId);case 4:return r=e.sent,e.next=7,r.getControlById(this.properties.control.cmdStreamId);case 7:this.control=e.sent,this.initControl=!0;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleEvents",value:function(){var e=this,t=function(){var t=(0,h.Z)((0,d.Z)().mark((function t(r){var i,o,n,a;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.viewer.scene.pickPosition(r.position),o=ar.Hnq.WGS84.cartesianToCartographic(i),n=ar.ZX$.toDegrees(o.longitude),a=ar.ZX$.toDegrees(o.latitude),t.next=6,e.postCommand(n,a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this.viewer.screenSpaceEventHandler.setInputAction(t,ar.Wvr.LEFT_CLICK)}},{key:"postCommand",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t,r){var i;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={params:{WAYPOINT:{position:{lat:r,lon:t,alt:270},velocity:1e5}}},e.next=3,this.initSweApi();case 3:return e.next=5,this.control.postCommand(JSON.stringify(i));case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(hr),Xo=Ko;function Jo(e){var t,r={},i=(0,u.Z)(e.servers);try{for(i.s();!(t=i.n()).done;){var o,n=t.value,a=(0,u.Z)(n.dataSources);try{for(a.s();!(o=a.n()).done;){var s=o.value;"SweApiStream"===s.type?r[s.id]=rn(s,n):"SosGetResult"===s.type&&(r[s.id]=tn(s,n))}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}return r}function en(e,t){var r,i,o=t.serverId,n=(0,u.Z)(e.servers);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a.id===o){r=a;break}}}catch(s){n.e(s)}finally{n.f()}if(!r)throw Error("Cannot find Server config with id ".concat(t.serverId));if(console.log(t),"SweApiStream"===t.type)return rn(t,r);if("SosGetResult"===t.type)return tn(t,r);throw Error("Not supported DataSource type ".concat(t.type))}function tn(e,t){return(0,f.Xl)(new Re(e.name,(0,c.Z)((0,c.Z)({},e),{},{endpointUrl:t.endpoint,tls:t.tls})))}function rn(e,t){return(0,f.Xl)(new Re(e.name,(0,c.Z)((0,c.Z)({},e),{},{endpointUrl:t.endpoint,tls:t.tls,prefetchBatchSize:50})))}function on(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],o=(0,u.Z)(e.dataSynchronizers);try{for(o.s();!(t=o.n()).done;){var n,a=t.value,s=[],l=(0,u.Z)(r);try{for(l.s();!(n=l.n()).done;){var d=n.value;d.properties.synchronizerId===a.id&&s.push(d)}}catch(p){l.e(p)}finally{l.f()}var h=(0,f.Xl)(new X((0,c.Z)((0,c.Z)({},a),{},{dataSources:s,id:a.id})));i.push(h)}}catch(p){o.e(p)}finally{o.f()}return i}function nn(e){var t,r=[],i=(0,u.Z)(e.layers);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.push(an(o))}}catch(a){i.e(a)}finally{i.f()}var n=(0,c.Z)((0,c.Z)({},e.properties),{},{container:e.id,destroyAfterMutation:!1,layers:r});if("LeafletView"===e.type)return(0,f.Xl)(new Je(n));if("CesiumView"===e.type)return new hr(n);if("OpenLayerView"===e.type)return new Nt(n);if("MapboxView"===e.type)return Zt().accessToken="pk.eyJ1IjoiZ2FrZXdhMzk0MCIsImEiOiJja2I4ZDZkdDAwMzc5MzFwazZubmFhNzVvIn0.i4O5Cls0aaVSVREIzK151w",new $t((0,c.Z)({container:n.container,zoom:3},n));if("DeckGlView"===e.type)return new nr(n);if("VideoView"===e.type)return new pt((0,c.Z)((0,c.Z)({},n),{},{css:"video-view"}));if("ChartView"===e.type)return new gt(n);if("CesiumControlView"===e.type)return new Xo(n);throw Error("Unknown view type ".concat(e.type))}function an(e){if("PointMarkerLayer"===e.class)return new ze(sn(e));if("VideoDataLayer"===e.class)return new Ze(sn(e));if("CurveLayer"===e.class)return new Fe(sn(e));if("FrustumLayer"===e.class)return new We(sn(e));throw Error("Layer unknown type ".concat(e.type))}function sn(e){var t={};for(var r in e){var i=r.split("@func");i.length>1?t=(0,c.Z)((0,c.Z)({},t),(0,gr.vk)(e[r])):t[r]=e[r]}return t}function ln(e){try{var t=[];return mr(e,e,t,[]),t}catch(r){throw r}}window.CESIUM_BASE_URL="./",ar.f3v.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1ODY0NTkzNS02NzI0LTQwNDktODk4Zi0zZDJjOWI2NTdmYTMiLCJpZCI6MTA1NzQsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NTY4NzI1ODJ9.IbAajOLYnsoyKy1BOd7fY1p6GH-wwNVMdMduA2IzGjA";var cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return{synchronizerId:"01",id:e,type:void 0,description:"",connected:!1,tags:[],name:"",responseFormat:"application/swe+json",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"realTime",protocol:"ws",mqttOpts:{prefix:"/api",endpointUrl:""},connectorOpts:{}}},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),t=arguments.length>1?arguments[1]:void 0,r=R();return{id:e,name:t,description:"",tags:[],dataSynchronizers:[{id:r,name:"DataSynchronizer",tags:[],description:"",replaySpeed:2.6,masterTimeRefreshRate:250,mode:"replay"}],servers:[{id:"c5edc2e1-6666-c3de-b583-9e930c07a0ca",endpoint:"api.georobotix.io:443/ogc/t18/api",type:"rest",name:"api.georobotix",description:"",tags:[],tls:!0,dataSources:[{synchronizerId:r,id:R(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Sensor Location",resource:"/datastreams/o7pce3e60s0ie/observations",responseFormat:"application/swe+json",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:R(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Platform Attitude",resource:"/datastreams/mlme3gtdfepvc/observations",responseFormat:"application/swe+json",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:R(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - UAS Video",resource:"/datastreams/h225hesual08g/observations",responseFormat:"application/swe+binary",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:R(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Gimbal Attitude",resource:"/datastreams/h75dmug8e3sae/observations",responseFormat:"application/swe+binary",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"},{synchronizerId:r,id:R(),type:"SweApiStream",description:"",connected:!1,tags:[],name:"MISB Drone - Imaging Sensor Parameters",resource:"/datastreams/nhcs9rp6713ka/observations",responseFormat:"application/swe+binary",prefetchBatchDuration:5e3,prefetchBatchSize:250,mode:"replay",startTime:new Date(Date.now()-6e5).toISOString(),endTime:new Date(Date.now()).toISOString(),protocol:"mqtt",mqttOpts:{prefix:"/api",endpointUrl:"api.georobotix.io:443/ogc/t18"},connectorOpts:{},parentId:"b2rju765gua3c"}]}],windows:{}}};function dn(){for(var e=[],t=1;t<50;t++)e.push({breakpoint:"x"+t,breakpointWidth:50*t,numberOfCols:t,colWidth:40,items:[]});return e}var hn,pn,fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return{id:e,type:void 0,ui:{}}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return{id:e,type:void 0,name:void 0,description:"test view",pos:{x:0,y:0},size:{width:4,height:4},visible:!0,tags:[],layers:[]}},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main-window";return{id:e,type:t,description:"window",bk:void 0,tags:[],visible:!0,pos:{x:0,y:0,z:0},size:{width:100,height:100,unit:"%"},widgets:{}}},yn=(0,p.Q_)("popupsStore",{state:function(){return{id:R(),popupWindows:{}}},getters:{},actions:{addPopupWindow:function(e,t){this.popupWindows[e]=t},isPopupWindow:function(e){return e in this.popupWindows},closePopups:function(){for(var e in this.popupWindows)this.popupWindows[e].close()},savePopupsPosition:function(e){var t=Sn(),r={};for(var i in this.popupWindows){var o=this.popupWindows[i];o.closed?t.removeLayoutById(e,i):(r[i]=o,t.editLayout(e,i,{pos:{x:o.screenLeft,y:o.screenTop,z:0},size:{width:o.innerWidth,height:o.outerHeight}}))}this.popupWindows=r}}});function bn(){return g(hn)||(hn=An()),hn}function vn(){return g(pn)||(pn=yn()),pn}var wn,kn,Sn=(0,p.Q_)("uiStore",{state:function(){return{id:R(),initialized:!1,ui:{edit:!1,connected:!1,layouts:{},mode:"replay",drawer:{server:!1,datasource:!1},snack:{message:void 0,type:void 0}},syncVersion:0}},getters:{isEdit:function(e){return e.ui.edit}},actions:{loadLayouts:function(e){var t,r=(0,u.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=[];for(var n in i.widgets){var a=i.widgets[n];o.push({id:a.id,x:a.pos.x,y:a.pos.y,width:a.size.width,height:a.size.height})}var s=(0,fr.Y)(dn());this.ui.layouts[i.id]=s;var l,c=(0,u.Z)(s);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.items=[];var h,p=(0,u.Z)(o);try{for(p.s();!(h=p.n()).done;){var f=h.value;d.items.push(f)}}catch(m){p.e(m)}finally{p.f()}}}catch(m){c.e(m)}finally{c.f()}}}catch(m){r.e(m)}finally{r.f()}this.initialized=!0},resetFromTimebar:function(e,t,r){var i=hn.getWidgets(e,t);for(var o in i){var n=i[o];this.hookReloadWidget("reset-from-timebar",n)}},reset:function(e){var t=bn();for(var r in this.ui.layouts)if(vn().isPopupWindow(r))delete this.ui.layouts[r],t.removeWindowById(e,r,!1);else{var i,o=this.ui.layouts[r],n=(0,u.Z)(o);try{for(n.s();!(i=n.n()).done;){var a=i.value;a.items=[]}}catch(s){n.e(s)}finally{n.f()}t.removeAllWidgets(e,r,!1)}},setConnected:function(e){this.ui.connected=e,this.updateVersion()},toggleConnect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!this.ui.connected,r=bn();t?r.connect(e):r.disconnect(e),this.updateVersion()},setEditMode:function(e){this.ui.edit=e,this.updateVersion()},removeLayoutById:function(e,t){delete this.ui.layouts[t];var r=bn();r.removeWindowById(e,t),this.updateVersion()},addWindow:function(e,t){var r=dn();this.ui.layouts[t.id]=(0,fr.Y)(r);var i=bn();return i.addWindow(e,t),this.updateVersion(),this.ui.layouts[t.id]},editLayout:function(e,t,r){this.ui.layouts[t].pos=r.pos,this.ui.layouts[t].size=r.size;var i=bn();i.editWindow(e,t,r),this.updateVersion()},removeGridItem:function(e,t,r){var i,o=this.ui.layouts[t],n=(0,u.Z)(o);try{for(n.s();!(i=n.n()).done;){var a=i.value;a.items=a.items.filter((function(e){return e.id!==r}))}}catch(l){n.e(l)}finally{n.f()}var s=bn();s.removeWidget(e,t,r),this.updateVersion()},editGridItemByBreakpoint:function(e,t,r,i,o){var n,a=this.ui.layouts[t.id],s=0,l=(0,u.Z)(a);try{for(l.s();!(n=l.n()).done;){for(var d=n.value,h=0;h<d.items.length;h++){var p=d.items[h];if(p.id===r.id){this.ui.layouts[t.id][s].items[h]=(0,c.Z)((0,c.Z)({},p),o);break}}s++}}catch(m){l.e(m)}finally{l.f()}var f=bn();f.setWidget(e,t,r),this.updateVersion()},hookReloadWidget:function(e,t){return{name:e,widget:t}},editGridItem:function(e,t,r){var i=bn();return i.setWidget(e,t,r),this.hookReloadWidget("editGridItem",r),this.updateVersion(),r},addGridItem:function(e,t,r){t.id in this.ui.layouts||this.loadLayouts([t]);var i,o=this.ui.layouts[t.id],n=(0,u.Z)(o);try{for(n.s();!(i=n.n()).done;){var a=i.value;Array.isArray(a.items)||(a.items=[]);var s,l=0,c=(0,u.Z)(a.items);try{for(c.s();!(s=c.n()).done;){var d=s.value;d.y>=l&&(l=d.y+d.height)}}catch(p){c.e(p)}finally{c.f()}r.pos.y=l,a.items.push({id:r.id,x:r.pos.x,y:r.pos.y,width:r.size.width,height:r.size.height})}}catch(p){n.e(p)}finally{n.f()}var h=bn();h.setWidget(e,t,r),this.updateVersion()},addOrEditDataSource:function(e,t,r){var i=bn();i.addOrEditDataSource(e,t,r,this.ui.connected),this.hookReloadWidget("addOrEditDataSource",r),this.updateVersion()},removeDataSource:function(e,t,r){var i=bn();i.removeDataSource(e,t,r,this.ui.connected),this.hookReloadWidget("removeDataSource",r),this.updateVersion()},updateVersion:function(){this.syncVersion++}}});function _n(){return g(wn)||(wn=An()),wn}function Tn(){return g(kn)||(kn=Sn()),kn}var xn,In=(0,p.Q_)("sweStore",{state:function(){return{id:R(),servers:{},activeIntervalDataStreams:{}}},getters:{},actions:{checkSystems:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function i(){var o,n,a,s,l,c,u;return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t in r.servers){i.next=17;break}return o=_n(),n=o.findServerById(e,t),a=new Qo({protocol:"http",tls:n.tls,endpointUrl:n.endpoint}),i.next=6,a.searchSystems(new Mr({}),10);case 6:s=i.sent,l={};case 8:if(!s.hasNext()){i.next=15;break}return i.next=11,s.nextPage();case 11:for(c=i.sent,u=0;u<c.length;u++)l[c[u].properties.id]={system:c[u],dataStreams:[]};i.next=8;break;case 15:l.timestamp=Date.now(),r.servers[n.id]=l;case 17:case"end":return i.stop()}}),i)})))()},getSystems:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function i(){var o,n,a;return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,r.checkSystems(e,t);case 2:for(a in o=[],r.servers[t])"object"===(0,pr.Z)(r.servers[t][a])&&"system"in r.servers[t][a]&&(n=r.servers[t][a].system,o.push({id:n.properties.id,name:n.properties.properties.name}));return i.abrupt("return",o);case 5:case"end":return i.stop()}}),i)})))()},checkDataStreams:function(e,t,r){var i=this;return(0,h.Z)((0,d.Z)().mark((function o(){var n,a,s,l,c,u,h;return(0,d.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,i.checkSystems(e,t);case 2:if(!(t in i.servers)||!(r in i.servers[t])){o.next=19;break}if(n=i.servers[t][r].dataStreams,0!==n.length){o.next=19;break}return a=i.servers[t][r].system,s=new Br({}),o.next=9,a.searchDataStreams(s,100);case 9:l=o.sent,c=[];case 11:if(!l.hasNext()){o.next=18;break}return o.next=14,l.nextPage();case 14:for(u=o.sent,h=0;h<u.length;h++)c.push(u[h]);o.next=11;break;case 18:i.servers[t][r].dataStreams=c;case 19:case"end":return o.stop()}}),o)})))()},getDataStreams:function(e,t,r){var i=this;return(0,h.Z)((0,d.Z)().mark((function o(){return(0,d.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,i.checkDataStreams(e,t,r);case 2:return o.abrupt("return",i.servers[t][r].dataStreams.map((function(e){return{id:e.properties.id,name:e.properties.name,phenomenonTime:e.properties.phenomenonTime}})));case 3:case"end":return o.stop()}}),o)})))()},getSchema:function(e,t,r,i,o){var n=this;return(0,h.Z)((0,d.Z)().mark((function a(){var s,l,c,h,p;return(0,d.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.checkSystems(e,t);case 2:return a.next=4,n.checkDataStreams(e,t,r);case 4:l=(0,u.Z)(n.servers[t][r].dataStreams),a.prev=5,l.s();case 7:if((c=l.n()).done){a.next=14;break}if(h=c.value,h.properties.id!==i){a.next=12;break}return s=h,a.abrupt("break",14);case 12:a.next=7;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](5),l.e(a.t0);case 19:return a.prev=19,l.f(),a.finish(19);case 22:if(!s){a.next=27;break}return p=new Br({obsFormat:o}),a.next=26,s.getSchema(p);case 26:return a.abrupt("return",a.sent);case 27:case"end":return a.stop()}}),a,null,[[5,16,19,22]])})))()},setActiveUpdateDataSource:function(e,t,r){var i=_n().findDataSourceById(e,t);if(i){var o=i.id,n=(i.parentId,i.resource),a=(i.responseFormat,i.type);i.serverId;if("SweApiStream"===a){var s,l,c=(0,u.Z)(r.getDataSources());try{for(c.s();!(l=c.n()).done;){var p=l.value;if(p.id===o){s=p;break}}}catch(w){c.e(w)}finally{c.f()}if(g(s)){var f=new RegExp("^(.*?)/datastreams/(.*)/observations"),y=n.match(f)[2],b=!0,v=setInterval((0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:fetch("http".concat(s.properties.tls?"s":"","://").concat(s.properties.endpointUrl,"/datastreams?id=").concat(y,"&select=id,phenomenonTime&f=application%2Fjson")).then((function(e){if(!e.ok){var t=new Error("HTTP status code: "+e.status);throw t.response=e,t.status=e.status,t}return e})).then((function(e){return e.json()})).then(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var i,o;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.getMode()===m.REPLAY&&t&&t.items.length>0&&t.items[0].phenomenonTime&&t.items[0].phenomenonTime.length>1&&(i=t.items[0].phenomenonTime[0],o=t.items[0].phenomenonTime[1],b&&(s.setMinTime(i),b=!1),s.setMaxTime(o),r.minMaxChanged(b));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),5e3);this.activeIntervalDataStreams[y]=v}}}},getDataSourceMapping:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function i(){var o,n,a,s,l,c,h,p,f,m,g,y,b,v,w;return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=_n().findDataSourceById(e,t),!o){i.next=22;break}if(o.id,n=o.parentId,a=o.resource,s=o.responseFormat,l=o.type,c=o.serverId,"SweApiStream"!==l){i.next=20;break}return h=new RegExp("^(.*?)/datastreams/(.*)/observations"),p=a.match(h)[2],i.next=8,r.getSchema(e,c,n,p,s);case 8:f=i.sent,i.prev=9,m=ln(f),g=[],y=(0,u.Z)(m);try{for(y.s();!(b=y.n()).done;)v=b.value,w={dataSource:{name:o.name,id:o.id},data:v,tooltip:{}},!1 in w.data&&(w.data["label"]=w.data.name),w.uiLabel="".concat(w.data.label,"  (").concat(w.data.path,")"),(0,gr.$n)(v,["name","definition","code","description"],w.tooltip),g.push(w)}catch(d){y.e(d)}finally{y.f()}return i.abrupt("return",g);case 17:i.prev=17,i.t0=i["catch"](9),Tn().ui.snack={message:i.t0.message,type:"warning"};case 20:i.next=23;break;case 22:throw Error("DataSource ".concat(t," not found for mapping "));case 23:case"end":return i.stop()}}),i,null,[[9,17]])})))()}}}),Cn={user:"webadmin",password:"6uw8vJ9awW+%7yM!",url:"https://api.georobotix.io/ogc/t18/admin-api/dashboards"};function En(){return g(xn)||(xn=In()),xn}var Dn={},An=(0,p.Q_)("clientStore",{state:function(){return{id:R(),clientConfig:{},initialized:!1,syncVersion:0}},getters:{},actions:{getDashboardByIdFromRemote:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function i(){return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,r.checkConf(e,t);case 2:return i.abrupt("return",r.clientConfig);case 3:case"end":return i.stop()}}),i)})))()},saveConf:function(e){var t={Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json"};t["Authorization"]="Basic "+window.btoa("".concat(Cn.user,":").concat(Cn.password)),fetch("".concat(Cn.url,"/").concat(e),{method:"PUT",headers:t,credentials:"include",body:JSON.stringify(this.clientConfig)}).catch((function(e){console.error("There was an error!",e)}))},getDashboardById:function(e){return this.clientConfig},connect:function(e){if(e in Dn){var t,r=(0,u.Z)(Dn);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.connect()}}catch(o){r.e(o)}finally{r.f()}}},disconnect:function(e){if(e in Dn){var t,r=(0,u.Z)(Dn);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.disconnect()}}catch(o){r.e(o)}finally{r.f()}}},loadConf:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{!t&&"servers"in e&&this.addTimeSynchronizers(e.id)}catch(r){throw r}},addServer:function(e,t){this.clientConfig.servers.push(t),this.updateVersion()},removeServer:function(e,t){this.clientConfig.servers=this.clientConfig.servers.filter((function(e){return e.id!==t})),this.updateVersion()},editServer:function(e,t){var r,i=0,o=(0,u.Z)(this.clientConfig.servers);try{for(o.s();!(r=o.n()).done;){var n=r.value;n.id===e&&(this.clientConfig.servers[i]=(0,c.Z)((0,c.Z)({},n),t)),i++}}catch(a){o.e(a)}finally{o.f()}this.updateVersion()},getServersByDashboard:function(e){return this.clientConfig.servers},findServerById:function(e,t){var r,i=(0,u.Z)(this.clientConfig.servers);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id===t)return o}}catch(n){i.e(n)}finally{i.f()}},addTimeSynchronizers:function(e){Dn=[];var t=[],r=Jo((0,f.IU)(this.clientConfig));for(var i in r)t.push(r[i]);for(var o in Dn=on((0,f.IU)(this.clientConfig),t),r)En().setActiveUpdateDataSource(e,o,Dn[0])},getTimeSynchronizerIds:function(){var e,t=[],r=(0,u.Z)(Dn);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(i.id)}}catch(o){r.e(o)}finally{r.f()}return t},createNewDashboard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=un(e,t);return this.clientConfig=r,this.loadConf(this.clientConfig),this.updateVersion(),r},addWindow:function(e,t){this.clientConfig.windows[t.id]=t,this.updateVersion()},editWindow:function(e,t,r){this.clientConfig.windows[t]=(0,c.Z)((0,c.Z)({},this.clientConfig.windows[t]),r),this.updateVersion()},removeWindowById:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];delete this.clientConfig.windows[t],r&&this.updateVersion()},getWindowById:function(e,t){return t in this.clientConfig.windows?this.clientConfig.windows[t]:void 0},getWidgetById:function(e,t,r){return t in this.clientConfig.windows&&r in this.clientConfig.windows[t].widgets?this.clientConfig.windows[t].widgets[r]:void 0},removeWidget:function(e,t,r){delete this.clientConfig.windows[t].widgets[r],this.updateVersion()},removeAllWidgets:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.clientConfig.windows[t].widgets={},r&&this.updateVersion()},loadFromServer:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){var i;return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i={},i["Accept"]="*/*",i["Accept-Encoding"]="gzip, deflate, br",i["Content-Type"]="application/json",i["Authorization"]="Basic "+btoa("".concat(Cn.user,":").concat(Cn.password)),r.next=7,fetch("".concat(Cn.url,"/").concat(e),{method:"GET",headers:i,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){console.error("There was an error!",e)}));case 7:t.clientConfig=r.sent;case 8:case"end":return r.stop()}}),r)})))()},checkConf:function(e,t){var r=this;return(0,h.Z)((0,d.Z)().mark((function i(){return(0,d.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r.initialized){i.next=6;break}return i.next=3,r.loadFromServer(e);case 3:r.loadConf(r.clientConfig,t),console.log(r.clientConfig),r.initialized=!0;case 6:case"end":return i.stop()}}),i)})))()},getWindowsByType:function(e,t){return(0,gr.qo)(this.clientConfig.windows).filter((function(e){return e.type===t}))},setWidget:function(e,t,r){t.id in this.clientConfig.windows||(this.clientConfig.windows[t.id]=t),this.clientConfig.windows[t.id].widgets[r.id]=r,this.updateVersion()},getWidgets:function(e,t){return this.clientConfig.windows[t].widgets},findDataSourceById:function(e,t){var r,i=(0,u.Z)(this.clientConfig.servers);try{for(i.s();!(r=i.n()).done;){var o,n=r.value,a=(0,u.Z)(n.dataSources);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.id===t)return s.serverId=n.id,s}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}},addOrEditDataSource:function(e,t,r,i){var o=this.getDefaultTimeSynchronizer(e);r.synchronizerId=this.clientConfig.dataSynchronizers[0].id;for(var n=0;n<this.clientConfig.servers.length;n++){var a=this.clientConfig.servers[n];if(a.id===t){var s,l=!0,d=0,h=(0,u.Z)(a.dataSources);try{for(h.s();!(s=h.n()).done;){var p=s.value;if(p.id===r.id){this.clientConfig.servers[n].dataSources[d]=(0,c.Z)((0,c.Z)({},p),r),l=!1;break}d++}}catch(g){h.e(g)}finally{h.f()}l&&a.dataSources.push(r);break}}var m=en((0,f.IU)(this.clientConfig),(0,f.IU)(r));o.addDataSource(m)},removeDataSource:function(e,t,r){var i=this;return(0,h.Z)((0,d.Z)().mark((function o(){var n,a,s,l,c,h,p;return(0,d.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:n=0;case 1:if(!(n<i.clientConfig.servers.length)){o.next=9;break}if(a=i.clientConfig.servers[n],a.id!==t){o.next=6;break}return i.clientConfig.servers[n].dataSources=i.clientConfig.servers[n].dataSources.filter((function(e){return e.id!==r.id})),o.abrupt("break",9);case 6:n++,o.next=1;break;case 9:s=i.getDefaultTimeSynchronizer(e),l=s.getDataSources(),c=(0,u.Z)(l),o.prev=12,c.s();case 14:if((h=c.n()).done){o.next=22;break}if(p=h.value,p.id!==r.id){o.next=20;break}return o.next=19,s.removeDataSource(p);case 19:return o.abrupt("break",22);case 20:o.next=14;break;case 22:o.next=27;break;case 24:o.prev=24,o.t0=o["catch"](12),c.e(o.t0);case 27:return o.prev=27,c.f(),o.finish(27);case 30:i.updateVersion();case 31:case"end":return o.stop()}}),o,null,[[12,24,27,30]])})))()},reset:function(e){for(var t in this.clientConfig.windows){var r=this.clientConfig.windows[t];"popup"===r.type?delete this.clientConfig.windows[t]:r.widgets={}}},getDefaultTimeSynchronizer:function(e){return Dn[0]},updateVersion:function(){this.syncVersion++}}}),Pn={name:"App",setup:function(){var e=An(),t=Sn(),r=yn(),i=g(window.opener);return{uiStore:t,clientStore:e,popupsStore:r,isPopup:i}},created:function(){var e=this;this.isPopup||window.addEventListener("beforeunload",(function(t){t.preventDefault(),e.popupsStore.closePopups(),t.returnValue=""}))}},Rn=r(83744);const Mn=(0,Rn.Z)(Pn,[["render",l]]);var On=Mn,Ln=r(22201),zn=r(97718),jn=r(73140),Fn=r(9287),Bn=r(13173);function Vn(e,t,r,i,n,a){var s=(0,o.up)("navbar"),l=(0,o.up)("ServerList"),c=(0,o.up)("Content");return(0,o.wg)(),(0,o.j4)(zn.q,{class:"dashboard"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{popup:i.isPopup},null,8,["popup"]),(0,o.Wm)(Fn.V,{modelValue:i.uiStore.ui.drawer.server,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.uiStore.ui.drawer.server=e}),temporary:"",class:"nav-drawer"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l)]})),_:1},8,["modelValue"]),(0,o.Wm)(jn.O,{class:"main"},{default:(0,o.w5)((function(){return[n.init?((0,o.wg)(),(0,o.j4)(c,{key:e.$route.params.fullPath})):((0,o.wg)(),(0,o.j4)(Bn.L,{key:1,size:100,width:5,indeterminate:"",color:"teal"}))]})),_:1})]})),_:1})}function Wn(e,t,r,i,n,a){var s=(0,o.up)("Window"),l=(0,o.up)("WidgetForm"),c=(0,o.up)("DialogForm"),u=(0,o.up)("DataSourceForm"),d=(0,o.up)("ServerForm"),h=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(h,null,{default:(0,o.w5)((function(r){var i=r.Component;r.route;return[(0,o.Wm)(s,{is:i,ref:"window"},null,8,["is"]),n.widgetEditorId?(0,o.WI)(e.$slots,"default",{key:0},(function(){return[(0,o.Wm)(c,{onOnClose:t[0]||(t[0]=function(e){return n.widgetEditorId=void 0}),cssClass:"widget-form-content",edit:n.edit,name:"widget"},{content:(0,o.w5)((function(e){e.save;return[(0,o.Wm)(l,{id:n.widgetEditorId,edit:n.edit},null,8,["id","edit"])]})),_:1},8,["edit"])]})):n.dataSourceEditorId?(0,o.WI)(e.$slots,"default",{key:1},(function(){return[(0,o.Wm)(c,{title:"DataSource",onOnClose:t[1]||(t[1]=function(e){return n.dataSourceEditorId=void 0}),edit:n.edit},{content:(0,o.w5)((function(e){e.save;return[(0,o.Wm)(u,{id:n.dataSourceEditorId,"server-id":n.serverId,edit:n.edit},null,8,["id","server-id","edit"])]})),_:1},8,["edit"])]})):n.serverEditorId?(0,o.WI)(e.$slots,"default",{key:2},(function(){return[(0,o.Wm)(c,{title:"Server",onOnClose:t[2]||(t[2]=function(e){return n.serverEditorId=void 0}),edit:n.edit},{content:(0,o.w5)((function(e){e.save;return[(0,o.Wm)(d,{id:n.serverEditorId},null,8,["id"])]})),_:1},8,["edit"])]})):(0,o.kq)("",!0)]})),_:3})}function Un(e,t,r,i,n,a){var s=(0,o.up)("Widget"),l=(0,o.up)("dash-item"),c=(0,o.up)("dash-layout"),u=(0,o.up)("dashboard");return(0,o.wg)(),(0,o.j4)(u,{id:"dashApp",ref:"dashboard",key:e.$route.params.windowId},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.uiStore.ui.layouts[i.windowId],(function(e){return(0,o.wg)(),(0,o.j4)(c,(0,o.dG)(e,{debug:!1,key:e.breakpoint,compact:!1}),{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.items,(function(e){return(0,o.wg)(),(0,o.j4)(l,{locked:!i.uiStore.ui.edit,key:e.id,id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,onResizeEnd:a.widgetMoveResizeEnd},{default:(0,o.w5)((function(){return[((0,o.wg)(),(0,o.j4)(s,{ref_for:!0,ref:"widgets",id:e.id,key:e.id,onMoveEnd:a.moveEnd,bk:a.bk},null,8,["id","onMoveEnd","bk"]))]})),_:2},1032,["locked","id","x","y","width","height","onResizeEnd"])})),128))]})),_:2},1040)})),128))]})),_:1})}var Nn=r(51489),qn=r(81209),Zn=r(41888),Hn=r(53289),$n=r(80678),Yn={class:"action-button"},Gn=["id"];function Qn(e,t,r,s,l,c){var u=this,d=(0,o.up)("TimeController"),h=(0,o.up)("PtzView"),p=(0,o.up)("ConfirmDialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Nn._,{elevation:4,width:c.width,height:c.height,color:"#96a2ab52",class:"card"},{default:(0,o.w5)((function(){return[(0,o.Wm)(qn._,{class:"card-item"},{default:(0,o.w5)((function(){return[(0,o._)("div",Yn,[u.uiStore.ui.edit?((0,o.wg)(),(0,o.j4)(a.T,{key:0,class:"delete-view-button",rounded:0,"x-small":"",onClick:(0,i.iM)(c.deleteView,["stop"]),color:"red",density:"compact",flat:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,{icon:"mdi-close",size:"large"})]})),_:1},8,["onClick"])):(0,o.kq)("",!0),u.uiStore.ui.edit?((0,o.wg)(),(0,o.j4)(a.T,{key:1,class:"edit-view-button",rounded:0,"x-small":"",onClick:(0,i.iM)(c.editView,["stop"]),density:"compact",flat:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,{icon:"mdi-pencil",size:"large"})]})),_:1},8,["onClick"])):(0,o.kq)("",!0),l.widget&&l.widget.name&&!l.timeController&&!l.ptzControl?((0,o.wg)(),(0,o.j4)($n.N,{key:2},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o.Uk)(" "+(0,n.zw)(l.widget.name),1)]})),_:1})):(0,o.kq)("",!0)]),(0,o.Wm)(Zn.Z,null,{default:(0,o.w5)((function(){return[l.timeController?((0,o.wg)(),(0,o.j4)(d,{key:0,dataSynchronizer:c.dataSynchronizer,skipTimeStep:"10%",onControlEventFn:c.onControlEvent,trackRealtime:l.trackRealtime},null,8,["dataSynchronizer","onControlEventFn","trackRealtime"])):(0,o.kq)("",!0),l.ptzControl?((0,o.wg)(),(0,o.j4)(h,{key:1,widget:l.widget},null,8,["widget"])):((0,o.wg)(),(0,o.iD)("div",{key:2,id:s.widgetId,class:"widget"},null,8,Gn))]})),_:1})]})),_:1})]})),_:1},8,["width","height"]),(0,o.Wm)(p,{ref:"confirm"},null,512)],64)}var Kn=r(91334),Xn=r(33601),Jn=r(89234),ea=r(27471),ta=r(85030);function ra(e,t,r,s,l,c){return(0,o.wg)(),(0,o.j4)(Xn.B,{modelValue:l.dialog,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.dialog=e}),"max-width":l.options.width,style:{zIndex:1e17},onKeydown:(0,i.D2)(c.cancel,["esc"])},{default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(ea.i,{dark:"",color:l.options.color,dense:"",flat:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(ta.q,{class:"text-body-2 font-weight-bold grey--text"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,n.zw)(l.title),1)]})),_:1})]})),_:1},8,["color"]),(0,o.wy)((0,o.Wm)(Zn.Z,{class:"pa-4 black--text",innerHTML:l.message},null,8,["innerHTML"]),[[i.F8,!!l.message]]),(0,o.Wm)(Kn.h,{class:"pt-3"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Jn.C),l.options.noconfirm?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(a.T,{key:0,color:"grey",text:"",class:"body-2 font-weight-bold",onClick:c.cancel},{default:(0,o.w5)((function(){return[(0,o.Uk)("Cancel")]})),_:1},8,["onClick"])),(0,o.Wm)(a.T,{color:"primary",class:"body-2 font-weight-bold",outlined:"",onClick:c.yes},{default:(0,o.w5)((function(){return[(0,o.Uk)("Yes")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue","max-width","onKeydown"])}var ia={name:"ConfirmDialog",data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"grey lighten-3",width:400,zIndex:200,noconfirm:!1}}},methods:{open:function(e,t,r){var i=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,r),new Promise((function(e,t){i.resolve=e,i.reject=t}))},yes:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}};const oa=(0,Rn.Z)(ia,[["render",ra]]);var na=oa;const aa={style:{width:"100%"}};function sa(e,t,r,i,n,a){const s=(0,o.up)("TimeControllerRealtime"),l=(0,o.up)("TimeControllerReplay"),c=(0,o.up)("TimeControllerBatch");return(0,o.wg)(),(0,o.iD)("div",aa,[n.realTime?((0,o.wg)(),(0,o.j4)(s,{key:0,dataSource:r.dataSource,dataSynchronizer:r.dataSynchronizer,debounce:r.debounce,parseTime:r.parseTime,onEvent:a.onControlEvent},null,8,["dataSource","dataSynchronizer","debounce","parseTime","onEvent"])):(0,o.kq)("",!0),n.replay?((0,o.wg)(),(0,o.j4)(l,{key:1,dataSource:r.dataSource,dataSynchronizer:r.dataSynchronizer,debounce:r.debounce,parseTime:r.parseTime,skipTimeStep:r.skipTimeStep,replaySpeedStep:r.replaySpeedStep,onEvent:a.onControlEvent,"support-realtime":r.supportRealTime},null,8,["dataSource","dataSynchronizer","debounce","parseTime","skipTimeStep","replaySpeedStep","onEvent","support-realtime"])):(0,o.kq)("",!0),n.batch?((0,o.wg)(),(0,o.j4)(c,{key:2,dataSource:r.dataSource,debounce:r.debounce,parseTime:r.parseTime,onEvent:a.onControlEvent},null,8,["dataSource","debounce","parseTime","onEvent"])):(0,o.kq)("",!0)])}const la=e=>((0,o.dD)("data-v-5b61a8a8"),e=e(),(0,o.Cn)(),e),ca=["id"],ua={class:"buttons"},da={class:"actions"},ha={class:"datasource-actions replay"},pa=["id"],fa=la((()=>(0,o._)("i",{class:"fa fa-history"},null,-1))),ma=[fa],ga={class:"control-speed"},ya=["id"],ba=la((()=>(0,o._)("i",{class:"fa fa-minus"},null,-1))),va=[ba],wa=["id"],ka=["id"],Sa=la((()=>(0,o._)("i",{class:"fa fa-plus"},null,-1))),_a=[Sa],Ta={class:"control-back-for"},xa=["id"],Ia=la((()=>(0,o._)("i",{class:"fa fa-fast-backward"},null,-1))),Ca=[Ia],Ea=["id"],Da=la((()=>(0,o._)("i",{class:"fa fa-pause"},null,-1))),Aa=[Da],Pa=["id"],Ra=["id"],Ma=la((()=>(0,o._)("i",{class:"fa fa-fast-forward"},null,-1))),Oa=[Ma];function La(e,t,r,i,a,s){const l=(0,o.up)("RangeSliderReplay"),c=(0,o.up)("ControlTimeReplay");return(0,o.wg)(),(0,o.iD)("div",{id:"control-component-"+this.id,class:"control"},[a.rangeSliderInit&&a.init?((0,o.wg)(),(0,o.j4)(l,{key:0,update:a.update,interval:a.interval,onEvent:s.onRangeSliderEvent,minTimestamp:s.minTimeStamp,maxTimestamp:s.maxTimeStamp,"start-timestamp":s.startTimeStamp,"end-timestamp":s.endTimeStamp,dataSynchronizer:r.dataSynchronizer,ref:"rangeSliderRef"},null,8,["update","interval","onEvent","minTimestamp","maxTimestamp","start-timestamp","end-timestamp","dataSynchronizer"])):(0,o.kq)("",!0),(0,o._)("div",ua,[(0,o._)("div",da,[(0,o._)("div",ha,[r.supportRealTime?((0,o.wg)(),(0,o.iD)("a",{key:0,id:"replay-btn-"+a.id,class:"control-btn clicked",onClick:t[0]||(t[0]=(...e)=>s.toggleRealtime&&s.toggleRealtime(...e))},ma,8,pa)):(0,o.kq)("",!0),(0,o._)("div",ga,[(0,o._)("a",{id:"speed-minus-btn-"+a.id,class:"control-btn",onMouseup:t[1]||(t[1]=(...e)=>s.stopSpeed&&s.stopSpeed(...e)),onMouseleave:t[2]||(t[2]=(...e)=>s.stopSpeed&&s.stopSpeed(...e)),onClick:t[3]||(t[3]=(...e)=>s.decSpeed&&s.decSpeed(...e)),onMousedown:t[4]||(t[4]=(...e)=>s.decSpeedDown&&s.decSpeedDown(...e))},va,40,ya),(0,o._)("span",{class:"chip control-speed-content",id:a.speedId},(0,n.zw)(a.speed>0?a.speed.toFixed(2)+"x":"none"),9,wa),(0,o._)("a",{id:"speed-plus-btn-"+a.id,class:"control-btn",onMouseup:t[5]||(t[5]=(...e)=>s.stopSpeed&&s.stopSpeed(...e)),onMouseleave:t[6]||(t[6]=(...e)=>s.stopSpeed&&s.stopSpeed(...e)),onClick:t[7]||(t[7]=(...e)=>s.incSpeed&&s.incSpeed(...e)),onMousedown:t[8]||(t[8]=(...e)=>s.incSpeedDown&&s.incSpeedDown(...e))},_a,40,ka)]),(0,o._)("div",Ta,[(0,o._)("a",{id:"fast-back-btn-"+a.id,class:"control-btn",onMouseup:t[9]||(t[9]=(...e)=>s.stopBackward&&s.stopBackward(...e)),onMouseleave:t[10]||(t[10]=(...e)=>s.stopBackward&&s.stopBackward(...e)),onMousedown:t[11]||(t[11]=(...e)=>s.doBackward&&s.doBackward(...e))},Ca,40,xa),a.connected?((0,o.wg)(),(0,o.iD)("a",{key:0,id:"pause-btn-"+a.id,class:"control-btn control-btn-pause",onClick:t[12]||(t[12]=(...e)=>s.doPause&&s.doPause(...e))},Aa,8,Ea)):((0,o.wg)(),(0,o.iD)("a",{key:1,id:"play-btn-"+a.id,class:"control-btn control-btn-play"},[(0,o._)("i",{class:"fa fa-play",onClick:t[13]||(t[13]=(...e)=>s.doPlay&&s.doPlay(...e))})],8,Pa)),(0,o._)("a",{id:"fast-forward-btn-"+a.id,class:"control-btn",onMouseup:t[14]||(t[14]=(...e)=>s.stopForward&&s.stopForward(...e)),onMouseleave:t[15]||(t[15]=(...e)=>s.stopForward&&s.stopForward(...e)),onMousedown:t[16]||(t[16]=(...e)=>s.doFastForward&&s.doFastForward(...e))},Oa,40,Ra)]),(0,o.Wm)(c,{htmlCurrentTime:s.htmlCurrentTime,htmlEndTime:s.htmlEndTime},null,8,["htmlCurrentTime","htmlEndTime"])])])])],8,ca)}const za=["id"];function ja(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)("div",{id:n.id,class:"range"},null,8,za)}var Fa=r(9365),Ba=r(10303);class Va extends Ge{constructor(e){super({...e,supportedLayers:["data"]}),this.slider=document.createElement("div"),this.slider.setAttribute("class","core-rangeslider-slider"),document.getElementById(this.divId).appendChild(this.slider);let t=(new Date).getTime(),r=new Date("2055-01-01T00:00:00Z").getTime(),i=t,o=r;this.update=!1,this.dataSourceObject=null,this.debounce=0,this.options={},this.sliding=!1,g(e)&&(g(e.startTime)&&(t=new Date(e.startTime).getTime()),g(e.endTime)&&(r=new Date(e.endTime).getTime()),g(e.minTimeRange)&&(i=new Date(e.minTimeRange).getTime()),g(e.maxTimeRange)&&(o=new Date(e.maxTimeRange).getTime()),g(e.dataSynchronizer)&&(this.dataSourceObject=e.dataSynchronizer),g(e.dataSource)&&(this.dataSourceObject=e.dataSource),g(e.debounce)&&(this.debounce=parseInt(e.debounce)),g(e.options)&&(this.options=e.options),g(e.disabled)&&this.slider.setAttribute("disabled",e.disabled));const n={start:[t,r],range:{min:i,max:o},format:Ba({decimals:0}),behaviour:"drag",connect:!0,animate:!1,pips:{mode:"positions",values:[5,25,50,75],density:1,format:Ba({edit:function(e){return new Date(parseInt(e)).toISOString().replace(".000Z","Z").split("T")[1].split("Z")[0].split(".")[0]}})},...this.options};if(this.maxTimeRangeTimestamp=o,Fa.create(this.slider,n),this.createEvents(),g(this.dataSourceObject)){const e=new BroadcastChannel(this.dataSourceObject.getTimeTopicId());e.onmessage=e=>{this.update||(this.slider.noUiSlider.set([e.data.timestamp]),this.onChange(e.data.timestamp,parseInt(this.slider.noUiSlider.get()[1]),"data"))},this.bc=e}}createActivateButton(){let e=document.createElement("div"),t=document.createElement("a");e.appendChild(t),e.setAttribute("class","core-rangeslider-control");let r=this;e.addEventListener("click",(function(t){e.className.indexOf("core-rangeslider-control-select")>-1?(e.setAttribute("class","core-rangeslider-control"),r.deactivate()):(e.setAttribute("class","core-rangeslider-control-select"),r.activate())})),document.getElementById(this.divId).appendChild(e)}createEvents(){const e=this;this.slider.noUiSlider.on("start",(function(t,r){e.update=!0,e.sliding=!0;const i=parseInt(t[0]),o=parseInt(t[1])||parseInt(e.maxTimeRangeTimestamp);e.onChange(i,o,"start")})),this.slider.noUiSlider.on("slide",(function(t,r){e.sliding=!0,e.update=!0;const i=parseInt(t[0]),o=parseInt(t[1])||parseInt(e.maxTimeRangeTimestamp);e.onChange(i,o,"slide")})),this.slider.noUiSlider.on("end",(function(t,r){if(e.sliding){e.sliding=!1;const r=parseInt(t[0]),i=parseInt(t[1])||parseInt(e.maxTimeRangeTimestamp);e.onChange(r,i,"end"),setTimeout((()=>e.update=!1),e.debounce)}}))}deactivate(){this.slider.setAttribute("disabled",!0)}activate(){this.slider.removeAttribute("disabled")}setData(e,t){const r=t.values;for(let i=0;i<r.length;i++)this.update||this.slider.noUiSlider.set([r[i].timestamp])}setStartTime(e){this.update||this.slider.noUiSlider.set([e])}setTime(e,t){this.update||this.slider.noUiSlider.set([e,t])}setTimeRange(e,t){this.update||this.slider.noUiSlider.updateOptions({range:{min:e,max:t}})}onChange(e,t,r){"end"===r&&this.dataSourceObject.setTimeRange(new Date(e).toISOString(),new Date(t).toISOString(),this.dataSourceObject.properties.replaySpeed,!0)}destroy(){g(this.slider)&&g(this.slider.noUiSlider)&&this.slider.noUiSlider.destroy(),g(this.bc)&&this.bc.close()}disable(){g(this.slider)&&this.slider.setAttribute("disabled",!0)}enable(){g(this.slider)&&this.slider.removeAttribute("disabled")}}var Wa=Va,Ua={name:"RangeSliderReplay",props:["minTimestamp","maxTimestamp","startTimestamp","endTimestamp","interval","waitForTimeChangedEvent","dataSynchronizer"],watch:{minTimestamp(){this.rangeSlider.setTimeRange(this.minTimestamp,this.maxTimestamp)},maxTimestamp(){this.rangeSlider.setTimeRange(this.minTimestamp,this.maxTimestamp)},startTimestamp(){this.rangeSlider.setTime(this.startTimestamp,this.endTimestamp)},endTimestamp(){this.rangeSlider.setTime(this.startTimestamp,this.endTimestamp)}},data(){return{id:R(),rangeSlider:void 0}},mounted(){this.rangeSlider=new Wa({container:this.id,minTimeRange:new Date(this.minTimestamp).toISOString(),maxTimeRange:new Date(this.maxTimestamp).toISOString(),startTime:new Date(this.startTimestamp).toISOString(),endTime:new Date(this.endTimestamp).toISOString(),debounce:200,options:{}});let e=this.update;this.rangeSlider.onChange=(t,r,i)=>{"slide"===i?(e=!0,this.$emit("event",{name:"model",update:!0})):"end"===i&&(e=!1,this.$emit("event",{name:"model",update:!1})),this.interval||this.$emit("event",{name:i,startTimestamp:t,endTimestamp:r}),"end"===i&&this.$emit("event",{name:"doPlay"})},g(this.dataSynchronizer)&&(this.dataSynchronizer.onRemovedDataSource=function(e){0===this.dataSynchronizer.getDataSources().length&&g(this.rangeSlider)&&this.rangeSlider.disable()}.bind(this),this.dataSynchronizer.onAddedDataSource=function(e){console.log("onAdded"),this.dataSynchronizer.getDataSources().length>0&&g(this.rangeSlider)&&this.rangeSlider.enable()}.bind(this))},methods:{setStartTime(e){this.rangeSlider.setStartTime(e)}},beforeUnmount(){this.rangeSlider&&this.rangeSlider.destroy()},beforeDestroy(){this.rangeSlider&&this.rangeSlider.destroy()}};const Na=(0,Rn.Z)(Ua,[["render",ja]]);var qa=Na;const Za=e=>((0,o.dD)("data-v-22f2bd72"),e=e(),(0,o.Cn)(),e),Ha={class:"control-time"},$a=["innerHTML"],Ya=Za((()=>(0,o._)("span",{style:{padding:"0 10px 0 10px"}},"/",-1))),Ga=["innerHTML"];function Qa(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)("div",Ha,[(0,o._)("span",{innerHTML:r.htmlCurrentTime},null,8,$a),Ya,(0,o._)("span",{innerHTML:r.htmlEndTime},null,8,Ga)])}var Ka={name:"ControlTimeReplay",props:["htmlCurrentTime","htmlEndTime"]};const Xa=(0,Rn.Z)(Ka,[["render",Qa],["__scopeId","data-v-22f2bd72"]]);var Ja=Xa,es={name:"TimeControllerReplay",components:{ControlTimeReplay:Ja,RangeSliderReplay:qa},props:{supportRealTime:{type:Boolean,default:()=>!0},dataSource:{type:Object},dataSynchronizer:{type:Object},skipTimeStep:{type:String,default:()=>"5s"},replaySpeedStep:{type:Number,default:()=>.1},debounce:{type:Number,default:()=>800},startTimeAsTimestamp:{type:Number},parseTime:{type:Function,default:function(e){const t=new Date(e),r=t.toISOString(),i=r.substr(0,10),o=r.substr(11,8);return'<div class="box-time"><div><strong>'+o+"</strong></div><div><i><small>("+i+")</small></i></div></div>"}}},data(){return{id:R(),speedId:R(),event:null,dataSourceObject:null,connected:!0,startTimestamp:null,endTimestamp:null,minTimestamp:null,maxTimestamp:null,speed:1,interval:!1,rangeSlider:null,skipTime:0,init:!1,update:!1,lastSynchronizedTimestamp:-1,waitForTimeChangedEvent:!1,rangeSliderInit:!1}},watch:{event(e){this.$emit("event",{event:e,startTimestamp:this.startTimestamp,endTimestamp:this.endTimestamp})}},computed:{minTimeStamp(){return this.minTimestamp},maxTimeStamp(){return this.maxTimestamp},startTimeStamp(){return this.startTimestamp},endTimeStamp(){return this.endTimestamp},htmlCurrentTime(){return this.parseTime(this.startTimestamp)},htmlEndTime(){return this.parseTime(this.endTimestamp)}},beforeMount(){S(this.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),this.dataSourceObject=this.getDataSourceObject()},updated(){},mounted(){this.initComp()},methods:{async initComp(){S(this.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),await this.checkInit(),this.createTimeBc(),this.dataSourceObject.subscribe((async e=>{e.status!==ee.DISCONNECTED&&e.status!==ee.FETCH_ENDED&&e.status!==ee.FETCH_STARTED||(this.connected=await this.dataSourceObject.isConnected())}),[N.STATUS]),this.updateTimeDebounce=O(this.updateTime.bind(this),this.debounce),this.setRangeSliderStartTimeThrottle=L(this.setRangeSliderStartTime.bind(this),this.debounce),this.displayConsoleWarningIncompatibleVersionThrottle=L(this.displayConsoleWarningIncompatibleVersion.bind(this),this.debounce),g(this.dataSynchronizer)&&(this.dataSynchronizer.onAddedDataSource=async()=>{await this.checkInit()})},async checkInit(){if(!this.init&&this.dataSourceObject.getDataSources().length>0)try{this.dataSourceObject.isConnected().then((e=>this.connected=e)),this.minTimestamp=this.dataSourceObject.getMinTimeAsTimestamp(),this.maxTimestamp=this.dataSourceObject.getMaxTimeAsTimestamp(),this.speed=this.dataSourceObject.getReplaySpeed(),this.startTimestamp=this.dataSourceObject.getStartTimeAsTimestamp()?this.dataSourceObject.getStartTimeAsTimestamp():this.minTimestamp,this.endTimestamp=this.dataSourceObject.getEndTimeAsTimestamp()?this.dataSourceObject.getEndTimeAsTimestamp():this.maxTimestamp,this.computeSkipTime(),this.init=!0,this.createRangeSlider()}catch(e){console.error(e)}},computeSkipTime(){if(this.skipTimeStep.endsWith("s"))this.skipTime=1e3*parseFloat(this.skipTimeStep.substring(0,this.skipTimeStep.length-1));else if(this.skipTimeStep.endsWith("%")){const e=this.maxTimestamp-this.minTimestamp,t=parseFloat(this.skipTimeStep.substring(0,this.skipTimeStep.length-1));this.skipTime=t*e/100}},displayConsoleWarningIncompatibleVersionThrottle(){},displayConsoleWarningIncompatibleVersion(){console.warn("Incompatible data version")},createTimeBc(){this.dataSourceObject.subscribe((e=>{e.type===N.CLOSED&&(this.connected=!1),this.waitForTimeChangedEvent&&(e.type===N.MASTER_TIME&&this.displayConsoleWarningIncompatibleVersionThrottle(),e.type===N.TIME_CHANGED)?this.waitForTimeChangedEvent=!1:this.waitForTimeChangedEvent||(e.type===N.MASTER_TIME&&(this.connected||(this.connected=!0),!this.interval&&this.speed>0&&!this.update&&this.setStartTimestamp(e.timestamp)),e.type===N.MASTER_TIME&&(this.lastSynchronizedTimestamp=e.timestamp))}),[N.TIME_CHANGED,N.MASTER_TIME,N.CLOSED])},setStartTimestamp(e){this.startTimestamp=e;const t=this.$refs.rangeSliderRef;t&&t.setStartTime(e)},createRangeSlider(){if(!this.rangeSliderInit){let e={};g(this.dataSynchronizer)?(e.dataSynchronizer=this.dataSynchronizer,this.dataSynchronizer.onTimeChanged=(e,t,r,i)=>{this.minTimestamp=e,this.maxTimestamp=t,this.startTimestamp=r||e,this.endTimestamp=i||t,this.computeSkipTime()}):e.dataSource=this.dataSource,this.rangeSliderInit=!0}},doBackward(){this.interval||(this.interval=setInterval((()=>{let e=parseInt(this.startTimestamp-this.skipTime);e>this.minTimestamp?this.startTimestamp=e:(this.startTimestamp=this.minTimestamp,e=this.minTimestamp),this.setRangeSliderStartTime(e)}),70))},stopBackward(){this.interval&&(clearInterval(this.interval),this.interval=!1,this.update=!0,this.updateTimeDebounce("backward"))},onRangeSliderEvent(e){"startTimestamp"in e&&(this.startTimestamp=e.startTimestamp,this.waitForTimeChangedEvent=!0),"endTimestamp"in e&&(this.endTimestamp=e.endTimestamp,this.waitForTimeChangedEvent=!0),"update"in e&&(this.update=e.update,this.waitForTimeChangedEvent=!0),"waitForTimeChangedEvent"in e&&(this.waitForTimeChangedEvent=e.waitForTimeChangedEvent),"doPlay"===e.name&&this.doPlay()},resetMasterTime(){this.waitForTimeChangedEvent=-1!==this.lastSynchronizedTimestamp,this.lastSynchronizedTimestamp=-1,this.on("time-changed"),this.update=!1},async updateTime(e){this.resetMasterTime(),await this.dataSourceObject.setTimeRange(new Date(this.startTimestamp).toISOString(),new Date(this.endTimestamp).toISOString(),this.speed,!0),this.on(e)},updateTimeDebounce(){},setRangeSliderStartTime(e){const t=this.$refs.rangeSliderRef;t&&t.setStartTime(e)},setRangeSliderStartTimeThrottle(){},stopForward(){this.interval&&(this.update=!0,this.updateTimeDebounce("forward"),clearInterval(this.interval),this.interval=!1)},doFastForward(){this.interval||(this.interval=setInterval((()=>{let e=parseInt(this.startTimestamp+this.skipTime);e<this.maxTimestamp?this.startTimestamp=e:(this.startTimestamp=this.maxTimestamp,e=this.maxTimestamp),this.setRangeSliderStartTime(e)}),70))},doPause(){this.waitForTimeChangedEvent=!0,this.dataSourceObject.disconnect(),this.on("pause"),this.on("time-changed")},doPlay(){this.updateTime("play")},getDataSourceObject(){return g(this.dataSynchronizer)?this.dataSynchronizer:this.dataSource},async toggleRealtime(){this.on("toggle-realtime")},incSpeed(){this.speed>10?this.speed+=10*this.replaySpeedStep:this.speed+=this.replaySpeedStep},incSpeedDown(){this.interval||(this.incSpeedTimeout=setTimeout((()=>{this.interval=setInterval(this.incSpeed,70)}),200))},decSpeed(){let e;e=this.speed>10?this.speed-10*this.replaySpeedStep:this.speed-this.replaySpeedStep,e>=.1?this.speed=e:.1!==this.speed&&(this.speed=.1)},decSpeedDown(){this.speed>.1&&(this.interval||(this.incSpeedTimeout=setTimeout((()=>{this.interval=setInterval(this.decSpeed,70)}),200)))},stopSpeed(){(this.interval||g(this.incSpeedTimeout))&&(this.interval?(clearInterval(this.interval),this.interval=!1):(clearTimeout(this.incSpeedTimeout),this.incSpeedTimeout=null),this.updateTimeDebounce("end"))},on(e,t={}){this.$emit("event",{name:e,...t})},withLeadingZeros(e){return(e<10?"0":"")+e},beforeUnmount(){const e=this.$refs.rangeSliderRef;e&&e.destroy()},beforeDestroy(){const e=this.$refs.rangeSliderRef;e&&e.destroy()}}};const ts=(0,Rn.Z)(es,[["render",La],["__scopeId","data-v-5b61a8a8"]]);var rs=ts;const is=e=>((0,o.dD)("data-v-528e1b34"),e=e(),(0,o.Cn)(),e),os=["id"],ns={class:"buttons"},as={class:"actions"},ss={class:"datasource-actions live"},ls=["id"],cs=is((()=>(0,o._)("i",{class:"fa fa-history"},null,-1))),us=[cs],ds=["id","innerHTML"],hs=is((()=>(0,o._)("span",{class:"chip live"},"LIVE",-1))),ps={key:1,class:"out-of-sync"},fs=["id"],ms=["title"];function gs(e,t,r,i,n,a){const s=(0,o.up)("RangeSliderRealtime");return(0,o.wg)(),(0,o.iD)("div",{id:"control-component-"+this.id,class:"control"},[n.rangeSliderInit&&n.init?((0,o.wg)(),(0,o.j4)(s,{key:0,"start-timestamp":n.masterTime,dataSynchronizer:r.dataSynchronizer,ref:"rangeSliderRef"},null,8,["start-timestamp","dataSynchronizer"])):(0,o.kq)("",!0),(0,o._)("div",ns,[(0,o._)("div",as,[(0,o._)("div",ss,[(0,o._)("a",{id:"replay-btn-"+n.id,class:"control-btn replay",onClick:t[0]||(t[0]=(...e)=>a.toggleReplay&&a.toggleReplay(...e))},us,8,ls)]),n.masterTime?((0,o.wg)(),(0,o.iD)("span",{key:0,id:"current-time-"+n.id,innerHTML:r.parseTime(n.masterTime)},null,8,ds)):(0,o.kq)("",!0),hs,Object.entries(n.outOfSync).length>0?((0,o.wg)(),(0,o.iD)("div",ps,[(0,o._)("a",{id:"out-of-sync-btn-"+n.id,class:"control-btn out-of-sync"},[(0,o._)("i",{class:"fa fa-exclamation-triangle","data-toggle":"tooltip",title:a.renderOutOfSync()},null,8,ms)],8,fs)])):(0,o.kq)("",!0)])])],8,os)}class ys extends Ge{constructor(e){if(super({...e,supportedLayers:["data"]}),this.slider=document.createElement("div"),this.slider.setAttribute("class","core-rangeslider-slider"),document.getElementById(this.divId).appendChild(this.slider),this.update=!1,this.dataSourceObject=null,this.debounce=0,this.options={},this.sliding=!1,this.startTimestamp=(new Date).toISOString(),g(e)&&(g(e.dataSynchronizer)&&(this.dataSourceObject=e.dataSynchronizer),g(e.dataSource)&&(this.dataSourceObject=e.dataSource),g(e.debounce)&&(this.debounce=parseInt(e.debounce)),g(e.startTimestamp)&&(this.startTimestamp=e.startTimestamp),g(e.options)&&(this.options=e.options),this.slider.setAttribute("disabled",e.disabled)),Fa.create(this.slider,{start:this.startTimestamp,range:{min:this.startTimestamp,max:this.startTimestamp+72e5},format:Ba({decimals:0}),behaviour:"drag",connect:!0,animate:!1,pips:{mode:"positions",values:[5,25,50,75],density:1,format:Ba({edit:function(e){return new Date(parseInt(e)).toISOString().replace(".000Z","Z").split("T")[1].split("Z")[0].split(".")[0]}})},...this.options}),g(this.dataSourceObject)){const e=new BroadcastChannel(this.dataSourceObject.getTimeTopicId());e.onmessage=e=>{this.update||e.data.type===N.MASTER_TIME&&(this.slider.noUiSlider.set(e.data.timestamp),this.onChange(e.data.timestamp,"data"))}}}onChange(e,t){}setData(e,t){}}var bs=ys;const vs=["id"];function ws(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)("div",{id:n.id,class:"range"},null,8,vs)}var ks={name:"RangeSliderRealtime",props:["startTimestamp","dataSynchronizer"],data(){return{id:R(),rangeSlider:void 0}},mounted(){this.rangeSlider=new bs({container:this.id,debounce:200,dataSynchronizer:this.dataSynchronizer,startTimestamp:Date.now(),options:{}})},methods:{setStartTime(e){this.rangeSlider.setStartTime(e)},destroy(){this.rangeSlider&&this.rangeSlider.destroy()}},beforeUnmount(){this.destroy()},beforeDestroy(){this.destroy()}};const Ss=(0,Rn.Z)(ks,[["render",ws]]);var _s=Ss,Ts={name:"TimeControllerRealtime",components:{RangeSliderRealtime:_s},props:{dataSource:{type:Object},dataSynchronizer:{type:Object},debounce:{type:Number,default:()=>800},parseTime:{type:Function,default:function(e){const t=new Date(e),r=t.toISOString(),i=r.substr(0,10),o=r.substr(11,8);return'<div class="box-time"><div><strong>'+o+"</strong></div><div><i><small>("+i+")</small></i></div></div>"}}},data(){return{id:R(),event:null,dataSourceObject:null,rangeSliderInit:!1,init:!1,lastSynchronizedTimestamp:-1,outOfSync:{},masterTime:void 0}},watch:{event(e){this.$emit("event",{event:e})}},beforeMount(){S(this.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),this.dataSourceObject=this.getDataSourceObject()},updated(){},mounted(){this.initComp()},methods:{async initComp(){this.init||(S(this.getDataSourceObject(),"either dataSource properties or dataSynchronizer must be defined"),this.subscribeEvents(),this.displayConsoleWarningIncompatibleVersionThrottle=L(this.displayConsoleWarningIncompatibleVersion.bind(this),this.debounce),this.init=!0)},displayConsoleWarningIncompatibleVersionThrottle(){},displayConsoleWarningIncompatibleVersion(){console.warn("Incompatible data version")},subscribeEvents(){const e=g(this.dataSynchronizer);this.dataSourceObject.subscribe((t=>{if(e){if(t.type===N.MASTER_TIME){const e=t.dataSourceId in this.outOfSync;if(t.timestamp<this.lastSynchronizedTimestamp)return void(e||this.dataSynchronizer.getDataSources().forEach((e=>{e.id===t.dataSourceId&&(this.outOfSync[e.id]=e)})));e&&delete this.outOfSync[t.dataSourceId],this.lastSynchronizedTimestamp=t.timestamp,this.masterTime=t.timestamp,this.rangeSliderInit||(this.rangeSliderInit=!0)}}else t.type===N.LAST_TIME&&(this.masterTime=t.timestamp,this.rangeSliderInit||(this.rangeSliderInit=!0))}),[N.TIME_CHANGED,N.MASTER_TIME,N.LAST_TIME,N.DATA])},resetMasterTime(){this.lastSynchronizedTimestamp=-1,this.outOfSync={}},getDataSourceObject(){return g(this.dataSynchronizer)?this.dataSynchronizer:this.dataSource},async toggleReplay(){this.on()},on(){this.$emit("event",{name:"toggle-replay",active:!0,lastTimestamp:this.lastSynchronizedTimestamp})},withLeadingZeros(e){return(e<10?"0":"")+e},renderOutOfSync(){let e="";for(let t in this.outOfSync)e+=this.outOfSync[t].name+" is out of sync\n";return e}},beforeUnmount(){const e=this.$refs.rangeSliderRef;e&&e.destroy()},beforeDestroy(){const e=this.$refs.rangeSliderRef;e&&e.destroy()}};const xs=(0,Rn.Z)(Ts,[["render",gs],["__scopeId","data-v-528e1b34"]]);var Is=xs;const Cs=e=>((0,o.dD)("data-v-1237c57a"),e=e(),(0,o.Cn)(),e),Es=["id"],Ds={class:"buttons"},As={class:"actions"},Ps={class:"datasource-actions replay"},Rs=["id"],Ms=Cs((()=>(0,o._)("i",{class:"fa fa-history"},null,-1))),Os=[Ms];function Ls(e,t,r,i,n,a){const s=(0,o.up)("RangeSliderReplay"),l=(0,o.up)("ControlTimeReplay");return(0,o.wg)(),(0,o.iD)("div",{id:"control-component-"+this.id,class:"control"},[n.rangeSliderInit&&n.init?((0,o.wg)(),(0,o.j4)(s,{key:0,update:n.update,interval:n.interval,onEvent:a.onRangeSliderEvent,minTimestamp:a.minTimeStamp,maxTimestamp:a.maxTimeStamp,"start-timestamp":a.startTimeStamp,"end-timestamp":a.endTimeStamp,ref:"rangeSliderRef"},null,8,["update","interval","onEvent","minTimestamp","maxTimestamp","start-timestamp","end-timestamp"])):(0,o.kq)("",!0),(0,o._)("div",Ds,[(0,o._)("div",As,[(0,o._)("div",Ps,[(0,o._)("a",{id:"replay-btn-"+n.id,class:"control-btn clicked",onClick:t[0]||(t[0]=(...e)=>a.toggleRealtime&&a.toggleRealtime(...e))},Os,8,Rs),(0,o.Wm)(l,{htmlCurrentTime:a.htmlCurrentTime,htmlEndTime:a.htmlEndTime},null,8,["htmlCurrentTime","htmlEndTime"])])])])],8,Es)}var zs={name:"TimeControllerBatch",components:{ControlTimeReplay:Ja,RangeSliderReplay:qa},props:{dataSource:{type:Object},debounce:{type:Number,default:()=>800},parseTime:{type:Function,default:function(e){const t=new Date(e),r=t.toISOString(),i=r.substr(0,10),o=r.substr(11,8);return'<div class="box-time"><div><strong>'+o+"</strong></div><div><i><small>("+i+")</small></i></div></div>"}},startTimeAsTimestamp:{type:String}},data(){return{id:R(),speedId:R(),event:null,connected:!0,startTimestamp:null,endTimestamp:null,minTimestamp:null,maxTimestamp:null,interval:!1,bcTime:null,init:!1,waitForTimeChangedEvent:!1,update:!1,rangeSliderInit:!1}},watch:{event(e){this.$emit("event",{event:e,startTimestamp:this.startTimestamp,endTimestamp:this.endTimestamp})}},computed:{minTimeStamp(){return this.minTimestamp},maxTimeStamp(){return this.maxTimestamp},startTimeStamp(){return this.startTimestamp},endTimeStamp(){return this.endTimestamp},htmlCurrentTime(){return this.parseTime(this.startTimestamp)},htmlEndTime(){return this.parseTime(this.endTimestamp)}},mounted(){this.initComp()},methods:{async initComp(){this.init||(this.minTimestamp=this.dataSource.getMinTimeAsTimestamp(),this.maxTimestamp=this.dataSource.getMaxTimeAsTimestamp(),this.startTimestamp=this.dataSource.getStartTimeAsTimestamp(),this.endTimestamp=this.dataSource.getEndTimeAsTimestamp(),this.createTimeBc(),this.dataSource.subscribe((e=>{e.status===ee.DISCONNECTED||e.status===ee.FETCH_ENDED?this.connected=!1:e.status===ee.FETCH_STARTED&&(this.connected=!0)}),[N.STATUS]),this.createRangeSlider(),this.updateTimeDebounce=O(this.updateTime.bind(this),this.debounce),this.setRangeSliderStartTimeThrottle=L(this.setRangeSliderStartTime.bind(this),this.debounce),this.init=!0,this.dataSource.connect())},destroyBc(){g(this.bcTime)&&this.bcTime.close()},destroyTimeBc(){this.bcTime.close()},createTimeBc(){this.dataSource.subscribe((e=>{this.waitForTimeChangedEvent&&console.log("Waiting for TIME CHANGED EVENT"),this.waitForTimeChangedEvent?e.type===N.MASTER_TIME?this.displayConsoleWarningIncompatibleVersionThrottle():e.type===N.TIME_CHANGED&&(this.waitForTimeChangedEvent=!1):e.type===N.MASTER_TIME&&(this.lastSynchronizedTimestamp=e.timestamp,!this.interval&&this.speed>0&&!this.update&&this.setStartTime(e.timestamp))}),[N.TIME_CHANGED,N.MASTER_TIME])},setStartTime(e){this.startTimestamp=e,this.rangeSlider.setStartTime(this.startTimestamp,this.endTimestamp)},createRangeSlider(){if(!this.rangeSliderInit){let e={};g(this.dataSynchronizer)?(e.dataSynchronizer=this.dataSynchronizer,this.dataSynchronizer.onTimeChanged=function(e,t){this.minTimestamp=new Date(e).getTime(),this.maxTimestamp=new Date(t).getTime(),this.endTimestamp=new Date(t).getTime(),new Date(e).getTime()>this.startTimestamp&&(this.startTimestamp=new Date(e).getTime()),this.rangeStartDate=this.parseTime(this.startTimestamp),this.rangeEndDate=this.parseTime(this.maxTimestamp),this.waitForTimeChangedEvent=!1}.bind(this)):e.dataSource=this.dataSource,this.rangeSliderInit=!0}},doPlay(){this.updateTime("play"),this.connected=!0},resetMasterTime(){this.waitForTimeChangedEvent=-1!==this.lastSynchronizedTimestamp,this.lastSynchronizedTimestamp=-1,this.on("time-changed"),this.update=!1},async updateTime(e){this.resetMasterTime(),this.dataSource.setTimeRange(new Date(this.startTimestamp).toISOString(),new Date(this.endTimestamp).toISOString(),this.speed,!0),this.on(e)},updateTimeDebounce(){},setRangeSliderStartTime(e){this.rangeSlider.setStartTime(e)},setRangeSliderStartTimeThrottle(){},async toggleRealtime(){this.on("toggle-realtime")},on(e,t={}){this.$emit("event",{name:e,...t})},withLeadingZeros(e){return(e<10?"0":"")+e},onRangeSliderEvent(e){"startTimestamp"in e&&(this.startTimestamp=e.startTimestamp),"endTimestamp"in e&&(this.endTimestamp=e.endTimestamp),"update"in e&&(this.update=e.update),"waitForTimeChangedEvent"in e&&(this.waitForTimeChangedEvent=e.waitForTimeChangedEvent),"doPlay"===e.name&&this.doPlay()}}};const js=(0,Rn.Z)(zs,[["render",Ls],["__scopeId","data-v-1237c57a"]]);var Fs=js,Bs={name:"TimeController",components:{TimeControllerBatch:Fs,TimeControllerReplay:rs,TimeControllerRealtime:Is},props:{supportRealTime:{type:Boolean,default:()=>!0},onControlEventFn:{type:Function},dataSource:{type:Object},dataSynchronizer:{type:Object},skipTimeStep:{type:String,default:()=>"5s"},replaySpeedStep:{type:Number,default:()=>.1},debounce:{type:Number,default:()=>800},trackRealtime:{type:String},parseTime:{type:Function,default:function(e){const t=new Date(e),r=t.toISOString(),i=r.substr(0,10),o=r.substr(11,8);return'<div class="box-time"><div><strong>'+o+"</strong></div><div><i><small>("+i+")</small></i></div></div>"}}},data(){return{id:R(),init:!1,replayProps:{},replay:!1,batch:!1,realTime:!1,mode:m.REPLAY,timeNow:-1}},async beforeMount(){this.dataSourceObject=this.getDataSourceObject(),this.mode=this.dataSourceObject.getMode(),this.checkMode()},methods:{getDataSourceObject(){return g(this.dataSynchronizer)?this.dataSynchronizer:this.dataSource},checkMode(){this.batch=!1,this.replay=!1,this.realTime=!1,this.dataSourceObject.getMode()===m.REPLAY?this.replay=!0:this.dataSourceObject.getMode()===m.BATCH?this.batch=!0:this.dataSourceObject.getMode()===m.REAL_TIME&&(this.realTime=!0)},async onControlEvent(e){"toggle-replay"===e.name?(this.timeNow=e.lastTimestamp,await this.dataSourceObject.disconnect(),this.mode===m.BATCH?this.dataSourceObject.setMode(m.BATCH).then((()=>{this.checkMode(),this.dataSourceObject.connect().then((()=>{this.onControlEventFn&&(this.onControlEventFn("play"),this.onControlEventFn("mode","replay")),this.$emit("event","play"),this.$emit("mode","replay")}))})):this.mode!==m.REPLAY&&this.mode!==m.REAL_TIME||(g(this.trackRealtime)?this.dataSourceObject.setMode(m.REPLAY).then((()=>{this.checkMode(),this.getDataSourceObject().autoUpdateTime(!0).then((()=>{this.dataSourceObject.connect().then((()=>{this.onControlEventFn&&(this.onControlEventFn("play"),this.onControlEventFn("mode","replay")),this.$emit("event","play"),this.$emit("mode","replay")}))}))})):this.dataSourceObject.setMode(m.REPLAY).then((()=>{this.checkMode(),this.dataSourceObject.connect().then((()=>{this.onControlEventFn&&(this.onControlEventFn("play"),this.onControlEventFn("mode","replay")),this.$emit("event","play"),this.$emit("mode","replay")}))})))):"toggle-realtime"===e.name&&(await this.dataSourceObject.disconnect(),await this.dataSourceObject.setMode(m.REAL_TIME),this.checkMode(),this.dataSourceObject.connect(),this.onControlEventFn&&(this.onControlEventFn("play"),this.onControlEventFn("mode","realtime")),this.$emit("event","play"),this.$emit("mode","realtime"))}}};const Vs=(0,Rn.Z)(Bs,[["render",sa]]);var Ws=Vs,Us=function(e){return(0,o.dD)("data-v-1562efaf"),e=e(),(0,o.Cn)(),e},Ns=["id"],qs={class:"ptz-zoom"},Zs=Us((function(){return(0,o._)("i",{class:"fa fa-plus-circle","aria-hidden":"true"},null,-1)})),Hs=[Zs],$s=Us((function(){return(0,o._)("div",{class:"ptz-zoom-bar"},null,-1)})),Ys=Us((function(){return(0,o._)("i",{class:"fa fa-minus-circle","aria-hidden":"true"},null,-1)})),Gs=[Ys],Qs={class:"ptz"},Ks=Us((function(){return(0,o._)("div",{cmd:"ptzReset",class:"reset",title:"Center",name:""},null,-1)}));function Xs(e,t,r,i,n,a){var s=this;return(0,o.wg)(),(0,o.iD)("div",{id:i.id,class:"ptz-container"},[(0,o._)("div",qs,[(0,o._)("div",{class:"ptz-zoom-in",onClick:t[0]||(t[0]=function(e){return a.onZoomClick(i.zoomIncrement)})},Hs),$s,(0,o._)("div",{class:"ptz-zoom-out",onClick:t[1]||(t[1]=function(e){return a.onZoomClick(-1*i.zoomIncrement)})},Gs)]),(0,o._)("div",Qs,[(0,o._)("div",{tag:"0",class:"moveUp",onClick:t[2]||(t[2]=function(e){return a.onTiltClick(i.tiltIncrement)}),name:""}),(0,o._)("div",{tag:"91",class:"moveTopLeft",onClick:t[3]||(t[3]=function(e){return a.onTiltPanClick(-1*i.tiltIncrement,i.panIncrement)}),name:""}),(0,o._)("div",{tag:"90",class:"moveTopRight",onClick:t[4]||(t[4]=function(e){return a.onTiltPanClick(i.tiltIncrement,i.panIncrement)}),name:""}),(0,o._)("div",{tag:"6",class:"moveLeft",onClick:t[5]||(t[5]=function(e){return a.onPanClick(-1*i.panIncrement)}),name:""}),Ks,(0,o._)("div",{tag:"4",class:"moveRight",onClick:t[6]||(t[6]=function(e){return s.onPanClick(i.panIncrement)}),name:""}),(0,o._)("div",{tag:"93",class:"moveBottomLeft",onClick:t[7]||(t[7]=function(e){return s.onTiltPanClick(-1*i.tiltIncrement,-1*i.panIncrement)}),name:""}),(0,o._)("div",{tag:"92",class:"moveBottomRight",onClick:t[8]||(t[8]=function(e){return a.onTiltPanClick(i.tiltIncrement,-1*i.panIncrement)}),name:""}),(0,o._)("div",{tag:"2",class:"moveDown",onClick:t[9]||(t[9]=function(e){return a.onTiltClick(-1*i.tiltIncrement)}),name:""})])],8,Ns)}var Js={name:"PtzView",props:["widget"],setup:function(e){var t=R(),r=10,i=10,o=.1;return{id:t,panIncrement:r,tiltIncrement:i,zoomIncrement:o}},data:function(){return{initSwe:!1}},methods:{initSweApi:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){var r,i,o;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.initSwe){t.next=10;break}return r=e.widget.properties,i=new Qo(r.control),t.next=5,i.getSystemById(r.control.systemId);case 5:return o=t.sent,t.next=8,o.getControlById(r.control.cmdStreamId);case 8:e.control=t.sent,e.initSwe=!0;case 10:case"end":return t.stop()}}),t)})))()},onTiltClick:function(e){this.onChange(null,e,null,null)},onTiltPanClick:function(e,t){this.onChange(e,t,null,null)},onPanClick:function(e){this.onChange(e,null,null,null)},onZoomClick:function(e){this.onChange(null,null,e,null)},onChange:function(e,t,r){var i=this;return(0,h.Z)((0,d.Z)().mark((function o(){var n,a,s;return(0,d.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,i.initSweApi();case 2:if(!g(e)){o.next=7;break}return n={params:{rpan:e}},console.log(JSON.stringify(n)),o.next=7,i.control.postCommand(JSON.stringify(n));case 7:if(!g(t)){o.next=12;break}return a={params:{rtilt:t}},console.log(JSON.stringify(a)),o.next=12,i.control.postCommand(JSON.stringify(a));case 12:if(!g(r)){o.next=17;break}return s={params:{rzoom:r}},console.log(JSON.stringify(s)),o.next=17,i.control.postCommand(JSON.stringify(s));case 17:case"end":return o.stop()}}),o)})))()}}};const el=(0,Rn.Z)(Js,[["render",Xs],["__scopeId","data-v-1562efaf"]]);var tl=el,rl={name:"Widget",components:{PtzView:tl,ConfirmDialog:na,TimeController:Ws},inject:["$item"],props:["id","bk"],emits:["moveEnd","resizeEnd"],setup:function(e){var t=(0,o.f3)("windowId"),r=e.id,i=Sn(),n=An(),a=(0,Ln.yj)(),s=a.params.dashboardId;return{widgetId:r,dashboardId:s,uiStore:i,clientStore:n,windowId:t}},data:function(){return{widget:void 0,view:void 0,trackRealtime:"",subscriptions:[],lastPosition:{x:void 0,y:void 0},timeController:!1,ptzControl:!1,versionTimeController:0}},mounted:function(){var e=this;try{this.widget=this.clientStore.getWidgetById(this.dashboardId,this.windowId,this.widgetId),g(this.widget)?"Timebar"===this.widget.uiType?this.timeController=!0:"PtzControl"===this.widget.uiType?this.ptzControl=!0:(this.timeController=!1,this.ptzControl=!1,this.view=nn((0,f.IU)(this.widget))):console.warn("widget not defined!");var t=this.uiStore.$onAction((function(t){var r=t.name,i=(t.store,t.args,t.after);t.onError;"hookReloadWidget"===r&&i((function(t){("addOrEditDataSource"!==t.name&&"removeDataSource"!==t.name||!e.timeController)&&("reset-from-timebar"===t.name?(e.widget=t.widget,e.widget.id===e.widgetId&&e.view&&(e.view.destroy(),e.view=nn((0,f.IU)(e.widget)))):(e.widget=t.widget,e.widget.id===e.widgetId&&(e.view.destroy(),e.view=nn((0,f.IU)(e.widget)))))}))}));this.subscriptions.push(t)}catch(r){console.error(r)}},beforeUnmount:function(){g(this.view)&&this.view.destroy();var e,t=(0,u.Z)(this.subscriptions);try{for(t.s();!(e=t.n()).done;){var r=e.value;r()}}catch(i){t.e(i)}finally{t.f()}},watch:{x:function(){this.lastPosition.x===this.item.x&&this.lastPosition.y===this.item.y||(this.lastPosition.x=this.item.x,this.lastPosition.y=this.item.y,this.$emit("moveEnd",this.item))},y:function(){this.lastPosition.x===this.item.x&&this.lastPosition.y===this.item.y||(this.lastPosition.x=this.item.x,this.lastPosition.y=this.item.y,this.$emit("moveEnd",this.item))}},computed:{dataSynchronizer:function(){return this.clientStore.getDefaultTimeSynchronizer(this.dashboardId)},show:function(){return this.uiStore.ui.connected},item:function(){return this.$item()},x:function(){return this.item?this.item.x:0},y:function(){if(this.item)return this.item.y},width:function(){return this.item?this.item.widthPx:0},height:function(){return this.item?this.item.heightPx:0}},methods:{editView:function(e){this.emitter.emit("show-widget-editor",{id:this.widgetId,edit:!0})},onControlEvent:function(e){"forward"!==e&&"backward"!==e&&"end"!==e&&"replaySpeed"!==e&&"play"!==e||this.uiStore.resetFromTimebar(this.dashboardId,this.windowId,{})},deleteView:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.confirm.open("Confirm","Are you sure you want to remove this view?");case 2:if(!e.sent){e.next=5;break}console.log("removing "+t.widgetId+"from "+t.windowId),t.uiStore.removeGridItem(t.dashboardId,t.windowId,t.widgetId);case 5:case"end":return e.stop()}}),e)})))()}}};const il=(0,Rn.Z)(rl,[["render",Qn],["__scopeId","data-v-5b5959e6"]]);var ol=il,nl=r(58469),al={name:"Window",components:{Widget:ol,Dashboard:nl.Dashboard,DashLayout:nl.DashLayout,DashItem:nl.DashItem},setup:function(e){var t,r=(0,Ln.yj)(),i=Sn(),o=An(),n=r.params,a=n.dashboardId,s=n.windowId,l=R(),c=o.getWindowById(a,s);return{style:t,uiStore:i,uuid:l,clientStore:o,dashboardId:a,windowState:c,windowId:s}},computed:{bk:function(){return this.getBreakpoint()}},methods:{getBreakpoint:function(){return this.$refs.dashboard.currentBreakpoint},moveEnd:function(e){this.moveItem({x:e.x,y:e.y,width:e.width,height:e.height,id:e.id})},widgetMoveResizeEnd:function(e){console.log("resizeEnd"),this.moveItem({x:e.x,y:e.y,width:e.width,height:e.height,id:e.id})},moveItem:function(e){var t=this.clientStore.getWidgetById(this.dashboardId,this.windowState.id,e.id);t.size={width:e.width,height:e.height},t.pos={x:e.x,y:e.y};var r=this.getBreakpoint();this.uiStore.editGridItemByBreakpoint(this.dashboardId,this.windowState,t,r,{x:e.x,y:e.y,width:e.width,height:e.height})}}};const sl=(0,Rn.Z)(al,[["render",Un],["__scopeId","data-v-747c1598"]]);var ll=sl,cl=r(86562),ul=r(80977),dl=r(47477),hl=r(74286),pl=function(e){return(0,o.dD)("data-v-10b8d6f7"),e=e(),(0,o.Cn)(),e},fl=pl((function(){return(0,o._)("div",{class:"d-flex justify-center align-center title"},[(0,o._)("div",{class:"text-h6"},"View")],-1)})),ml={class:"form"},gl={class:"d-flex justify-center align-center title"},yl=pl((function(){return(0,o._)("div",{class:"text-h6"},"Layers",-1)})),bl={class:"form"},vl={class:"d-flex justify-center align-center title"},wl=pl((function(){return(0,o._)("div",{class:"text-h6"},"Layers",-1)})),kl={class:"form"};function Sl(e,t,r,i,n,s){var l=(0,o.up)("WidgetFormType"),c=(0,o.up)("WidgetFormLayers");return(0,o.wg)(),(0,o.j4)(ul.k,{progress:"secondary",continuous:!1,class:"caroussel","hide-delimiters":""},{prev:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(a.T,{variant:"elevated",onClick:t.onClick,icon:"mdi-chevron-left",class:"caroussel-left"},null,8,["onClick"])]})),next:(0,o.w5)((function(e){var t=e.props;return["Timebar"!==i.widget.uiType?((0,o.wg)(),(0,o.j4)(a.T,{key:0,variant:"elevated",onClick:t.onClick,icon:"mdi-chevron-right"},null,8,["onClick"])):(0,o.kq)("",!0)]})),default:(0,o.w5)((function(){return[(0,o.Wm)(dl.f,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(hl.C,{class:"sheet"},{default:(0,o.w5)((function(){return[fl,(0,o._)("div",ml,[(0,o.Wm)(l)])]})),_:1})]})),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.widget.layers,(function(e,t){return(0,o.wg)(),(0,o.j4)(dl.f,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(hl.C,{class:"sheet"},{default:(0,o.w5)((function(){return[(0,o._)("div",gl,[yl,(0,o.Wm)(cl.G,{content:i.widget.layers.length,color:"secondary",class:"badge"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,{icon:"mdi-layers",size:"32px"})]})),_:1},8,["content"])]),(0,o._)("div",bl,[((0,o.wg)(),(0,o.j4)(c,{key:e.id,layer:e,editing:!0},null,8,["layer"]))])]})),_:2},1024)]})),_:2},1024)})),256)),(0,o.Wm)(dl.f,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(hl.C,{class:"sheet"},{default:(0,o.w5)((function(){return[(0,o._)("div",vl,[wl,(0,o.Wm)(cl.G,{content:i.widget.layers.length,color:"secondary",class:"badge"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,{icon:"mdi-layers",size:"32px"})]})),_:1},8,["content"])]),(0,o._)("div",kl,[((0,o.wg)(),(0,o.j4)(c,{key:s.uuid(),ref:"viewFormLayers",layer:s.defaultLayer(),editing:!1},null,8,["layer"]))])]})),_:1})]})),_:1})]})),_:1})}var _l=r(10240),Tl=r(165);function xl(e,t,r,i,n,a){var s=(0,o.up)("WidgetFormMap"),l=(0,o.up)("WidgetFormVideo"),c=(0,o.up)("WidgetFormChart"),u=(0,o.up)("TimeBarForm"),d=(0,o.up)("WidgetFormControlMap"),h=(0,o.up)("PtzForm");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Name",modelValue:i.widget.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.widget.name=e})},null,8,["modelValue"]),(0,o.Wm)(_l.rL,{label:"View",items:n.items,variant:"solo",modelValue:n.selected,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return n.selected=e}),a.onChange],density:"compact"},null,8,["items","modelValue","onUpdate:modelValue"]),"Map"===n.selected?((0,o.wg)(),(0,o.j4)(s,{key:0})):"Video"===n.selected?((0,o.wg)(),(0,o.j4)(l,{key:1})):"Chart"===n.selected?((0,o.wg)(),(0,o.j4)(c,{key:2})):"Timebar"===n.selected?((0,o.wg)(),(0,o.j4)(u,{key:3})):(0,o.kq)("",!0),"ControlMap"===n.selected?((0,o.wg)(),(0,o.j4)(d,{key:4})):(0,o.kq)("",!0),"PtzControl"===n.selected?((0,o.wg)(),(0,o.j4)(h,{key:5})):(0,o.kq)("",!0)],64)}var Il=r(93104);function Cl(e,t,r,i,n,a){var s=(0,o.up)("widget-form-cesium-map");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Type",items:n.items,variant:"solo","onUpdate:modelValue":[a.handleSelect,t[0]||(t[0]=function(e){return n.selected=e})],modelValue:n.selected,density:"compact"},null,8,["items","onUpdate:modelValue","modelValue"]),(0,o.Wm)(Il.G,{color:"info",label:"Zoom on first data",modelValue:n.properties.autoZoomOnFirstMarker,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.properties.autoZoomOnFirstMarker=e}),onChange:a.handleZoomChange,density:"compact"},null,8,["modelValue","onChange"]),"Cesium"===n.selected?((0,o.wg)(),(0,o.j4)(s,{key:0})):(0,o.kq)("",!0)],64)}function El(e,t,r,i,n,a){var s=(0,o.up)("VTextFieldNumber");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s,{label:"Map Center Lat",modelValue:i.widget.properties.options.location.latitude,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.widget.properties.options.location.latitude=e})},null,8,["modelValue"]),(0,o.Wm)(s,{label:"Map Center Lon",modelValue:i.widget.properties.options.location.longitude,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.widget.properties.options.location.longitude=e})},null,8,["modelValue"]),(0,o.Wm)(s,{label:"Map Center Alt",modelValue:i.widget.properties.options.location.altitude,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.widget.properties.options.location.altitude=e})},null,8,["modelValue"]),(0,o.Wm)(s,{label:"Map Orientation Heading",modelValue:i.widget.properties.options.orientation.heading,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.widget.properties.options.orientation.heading=e})},null,8,["modelValue"]),(0,o.Wm)(s,{label:"Map Orientation Pitch",modelValue:i.widget.properties.options.orientation.pitch,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.widget.properties.options.orientation.pitch=e})},null,8,["modelValue"])],64)}function Dl(e,t,r,i,n,a){return(0,o.wg)(),(0,o.j4)(Tl.h,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e}),type:"number",variant:"solo",label:r.label},null,8,["modelValue","label"])}var Al={name:"VTextFieldNumber",props:["label"],data:function(){return{value:0}},watch:{value:function(){this.$emit("update:modelValue",parseFloat(this.value))}}};const Pl=(0,Rn.Z)(Al,[["render",Dl]]);var Rl=Pl,Ml={name:"WidgetFormCesiumMap",setup:function(e){var t=(0,o.f3)("widget");return t.properties.options||(t.properties.options={}),t.properties.options.location||(t.properties.options.location={longitude:void 0,latitude:void 0,altitude:void 0}),t.properties.options.orientation||(t.properties.options.orientation={pitch:void 0,heading:void 0}),t.properties.options.layers=["Bing Maps Aerial","Bing Maps Aerial with Labels","Bing Maps Roads"],{widget:t}},components:{VTextFieldNumber:Rl}};const Ol=(0,Rn.Z)(Ml,[["render",El]]);var Ll=Ol,zl={name:"WidgetFormMap",components:{WidgetFormCesiumMap:Ll},data:function(){return{items:["Cesium","OpenLayer","DeckGl","CesiumControl"],selected:void 0,properties:{autoZoomOnFirstMarker:!1}}},setup:function(e){var t=(0,o.f3)("widget");return{widget:t}},beforeMount:function(){this.widget.supportedLayers=["marker","draping","polyline","polygon","frustum"],this.widget.description=this.widget.description||"Map view",this.widget.description="Map view",g(this.widget.type)?(this.selected=this.widget.type.split("View")[0],this.properties=this.widget.properties):this.widget.properties=(0,c.Z)((0,c.Z)({},this.widget.properties),this.properties)},methods:{handleSelect:function(e){this.widget.layers=[],this.widget.type=e+"View",this.widget.name=e},handleZoomChange:function(e,t){this.widget.properties=(0,c.Z)((0,c.Z)({},this.widget.properties),this.properties)}}};const jl=(0,Rn.Z)(zl,[["render",Cl]]);var Fl=jl,Bl=r(95999);function Vl(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Type",items:n.items,variant:"solo","onUpdate:modelValue":[a.handleSelect,t[0]||(t[0]=function(e){return n.selected=e})],modelValue:n.selected,density:"compact"},null,8,["items","onUpdate:modelValue","modelValue"]),(0,o.Wm)(Bl.R,{modelValue:n.properties.refreshRate,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.properties.refreshRate=e}),max:5e3,min:"250",step:250,"show-ticks":"always",label:"Refresh Rate","hide-details":"",class:"ma-0 refreshRate",density:"compact",variant:"solo"},{append:(0,o.w5)((function(){return[(0,o.Wm)(Tl.h,{modelValue:n.properties.refreshRate,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.properties.refreshRate=e}),type:"number",style:{width:"85px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["modelValue"])],64)}var Wl={name:"WidgetFormChart",data:function(){return{items:["Curve"],selected:void 0,properties:{refreshRate:250}}},setup:function(e){var t=(0,o.f3)("widget");return{widget:t}},beforeMount:function(){this.widget.supportedLayers=["curve"],this.widget.description=this.widget.description||"Chart View",this.widget.description="Chart view",g(this.widget.subType)?(this.selected=this.widget.subType,this.properties=this.widget.properties):this.widget.properties=this.properties},methods:{handleSelect:function(e){this.widget.layers=[],this.widget.subType=e,this.widget.type="ChartView",this.widget.name="ChartView"}}};const Ul=(0,Rn.Z)(Wl,[["render",Vl],["__scopeId","data-v-607d2e0a"]]);var Nl=Ul;function ql(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Il.G,{color:"info",label:"Show Stats",modelValue:n.properties.showStats,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.properties.showStats=e}),density:"compact"},null,8,["modelValue"]),(0,o.Wm)(Il.G,{color:"info",label:"Show Time",modelValue:n.properties.showTime,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.properties.showTime=e}),density:"compact"},null,8,["modelValue"])],64)}var Zl={name:"WidgetFormVideo",data:function(){return{properties:{showStats:!0,showTime:!0,css:"video-css"}}},setup:function(e){var t=(0,o.f3)("widget");return{widget:t}},mounted:function(){this.widget.supportedLayers=["videoData"],this.widget.type="VideoView",this.widget.name="video",this.widget.description="Video view",this.widget.properties=this.properties}};const Hl=(0,Rn.Z)(Zl,[["render",ql]]);var $l=Hl;function Yl(e,t,r,i,o,n){return null}var Gl={name:"TimebarForm"};const Ql=(0,Rn.Z)(Gl,[["render",Yl]]);var Kl=Ql;function Xl(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Il.G,{color:"info",label:"Zoom on first data",modelValue:i.widget.properties.autoZoomOnFirstMarker,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.widget.properties.autoZoomOnFirstMarker=e}),density:"compact"},null,8,["modelValue"]),(0,o.Wm)(_l.rL,{label:"Server",items:i.servers,variant:"solo",density:"compact",modelValue:i.widget.properties.control.endpointUrl,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.widget.properties.control.endpointUrl=e}),"item-title":"name","item-value":"endpoint"},null,8,["items","modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"System Id",modelValue:i.widget.properties.control.systemId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.widget.properties.control.systemId=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Command Stream Id",modelValue:i.widget.properties.control.cmdStreamId,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.widget.properties.control.cmdStreamId=e})},null,8,["modelValue"])],64)}var Jl={name:"WidgetFormControlMap",setup:function(e){var t=(0,o.f3)("widget"),r=An(),i=(0,Ln.yj)(),n=i.params.dashboardId,a=r.getServersByDashboard(n);return t.properties||(t.properties={}),t.properties.control||(t.properties.control={endpointUrl:void 0,tls:!0,connectorOpts:{username:"uxs-team",password:"WR6zlso9h#"},systemId:void 0,cmdStreamId:void 0}),t.supportedLayers=["marker","draping","polyline","polygon","frustum"],t.type="CesiumControlView",t.name="cesiumControl",t.description="Cesium control",{widget:t,servers:a}}};const ec=(0,Rn.Z)(Jl,[["render",Xl]]);var tc=ec;function rc(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Server",items:i.servers,variant:"solo",density:"compact",modelValue:i.widget.properties.control.endpointUrl,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.widget.properties.control.endpointUrl=e}),"item-title":"name","item-value":"endpoint"},null,8,["items","modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"System Id",modelValue:i.widget.properties.control.systemId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.widget.properties.control.systemId=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Command Stream Id",modelValue:i.widget.properties.control.cmdStreamId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.widget.properties.control.cmdStreamId=e})},null,8,["modelValue"])],64)}var ic={name:"PtzForm",setup:function(e){var t=(0,o.f3)("widget"),r=An(),i=(0,Ln.yj)(),n=i.params.dashboardId,a=r.getServersByDashboard(n);return t.properties||(t.properties={}),t.properties.control||(t.properties.control={endpointUrl:void 0,tls:!0,connectorOpts:{username:"uxs-team",password:"WR6zlso9h#"},systemId:void 0,cmdStreamId:void 0}),t.supportedLayers=[],t.type="PtzControl",t.name="ptzControl",t.description="PTZ control",{widget:t,servers:a}}};const oc=(0,Rn.Z)(ic,[["render",rc]]);var nc=oc,ac={name:"WidgetFormType",components:{WidgetFormMap:Fl,WidgetFormVideo:$l,WidgetFormChart:Nl,TimeBarForm:Kl,WidgetFormControlMap:tc,PtzForm:nc},data:function(){return{key:0,s:!1,selected:void 0,version:0,items:["Map","Video","Chart","Timebar","ControlMap","PtzControl"]}},setup:function(e){var t=(0,o.f3)("widget");return{widget:t}},beforeMount:function(){this.selected=this.widget.uiType},methods:{onChange:function(e){this.widget.uiType=e,this.widget.layers=[],this.widget.version++,this.widget.type=void 0}}};const sc=(0,Rn.Z)(ac,[["render",xl]]);var lc=sc,cc=function(e){return(0,o.dD)("data-v-6795a90b"),e=e(),(0,o.Cn)(),e},uc=cc((function(){return(0,o._)("span",null,"Remove to View",-1)})),dc=cc((function(){return(0,o._)("span",null,"Add to View",-1)}));function hc(e,t,r,i,n,s){var l=(0,o.up)("WidgetFormPointMarkerLayer"),c=(0,o.up)("WidgetFormVideoLayer"),u=(0,o.up)("WidgetFormCurveLayer"),d=(0,o.up)("WidgetFormFrustumLayer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Type",items:i.widget.supportedLayers,variant:"solo",modelValue:i.reactiveLayer.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.reactiveLayer.type=e}),density:"compact"},null,8,["items","modelValue"]),i.reactiveLayer.type?(0,o.WI)(e.$slots,"default",{key:0},(function(){return["marker"===i.reactiveLayer.type?((0,o.wg)(),(0,o.j4)(l,{key:0})):"videoData"===i.reactiveLayer.type?((0,o.wg)(),(0,o.j4)(c,{key:1})):"curve"===i.reactiveLayer.type?((0,o.wg)(),(0,o.j4)(u,{key:2})):"frustum"===i.reactiveLayer.type?((0,o.wg)(),(0,o.j4)(d,{key:3})):(0,o.kq)("",!0),r.editing?(0,o.WI)(e.$slots,"default",{key:4},(function(){return[(0,o.Wm)($n.N,{bottom:""},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(a.T,(0,o.dG)({rounded:"",class:"elevation-6 add-layer-btn",icon:"mdi-minus",color:"red"},t,{onClick:s.removeFromWidget}),null,16,["onClick"])]})),default:(0,o.w5)((function(){return[uc]})),_:1})]}),!0):(0,o.WI)(e.$slots,"default",{key:5},(function(){return[(0,o.Wm)($n.N,{bottom:""},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(a.T,(0,o.dG)({rounded:"",class:"elevation-6 add-layer-btn",icon:"mdi-plus"},t,{onClick:s.addToWidget}),null,16,["onClick"])]})),default:(0,o.w5)((function(){return[dc]})),_:1})]}),!0)]}),!0):(0,o.kq)("",!0)],64)}var pc=r(89584),fc={class:"label-anchor"},mc={class:"icon-anchor"};function gc(e,t,r,i,n,a){var s=(0,o.up)("DataSourceMapping"),l=(0,o.up)("ColorPicker"),c=(0,o.up)("VTextFieldNumber"),u=(0,o.up)("MdiIconPicker");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s,{label:"Label DataSource",name:"Label",model:i.layer.ui.label,mapping:a.labelDataSourceMapping,dataSources:i.dataSources,transformFunc:a.labelTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Description",modelValue:i.layer.description,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.layer.description=e})},null,8,["modelValue"]),(0,o.Wm)(s,{label:"Location DataSource",name:"Location",model:i.layer.ui.location,mapping:a.locationDataSourceMapping,dataSources:i.dataSources,transformFunc:a.locationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(s,{label:"Orientation DataSource",name:"Orientation",model:i.layer.ui.orientation,mapping:a.orientationDataSourceMapping,dataSources:i.dataSources,transformFunc:a.orientationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(s,{label:"MarkerId DataSource",name:"MarkerId",model:i.layer.ui.markerId,mapping:a.markerIdDataSourceMapping,dataSources:i.dataSources,transformFunc:a.markerIdTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(l,{modelValue:i.layer.labelColor,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.layer.labelColor=e}),label:"Label color"},null,8,["modelValue"]),(0,o.Wm)(l,{modelValue:i.layer.labelOutlineColor,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.layer.labelOutlineColor=e}),label:"Label outline color"},null,8,["modelValue"]),(0,o.Wm)(l,{modelValue:i.layer.labelBackgroundColor,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.layer.labelBackgroundColor=e}),label:"Label background color"},null,8,["modelValue"]),(0,o.Wm)(c,{label:"Label size",modelValue:i.layer.labelSize,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.layer.labelSize=e})},null,8,["modelValue"]),(0,o._)("div",fc,[(0,o.Wm)(c,{label:"Label Anchor X",modelValue:i.layer.labelOffset[0],"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.layer.labelOffset[0]=e})},null,8,["modelValue"]),(0,o.Wm)(c,{label:"Label Anchor Y",modelValue:i.layer.labelOffset[1],"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.layer.labelOffset[1]=e})},null,8,["modelValue"])]),(0,o.Wm)(Il.G,{color:"info",label:"Url",modelValue:i.layer.ui.urlIcon,"onUpdate:modelValue":t[7]||(t[7]=function(e){return i.layer.ui.urlIcon=e}),density:"compact"},null,8,["modelValue"]),i.layer.ui.urlIcon?((0,o.wg)(),(0,o.j4)(Tl.h,{key:0,variant:"solo",density:"compact",label:"Model",modelValue:i.layer.icon,"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.layer.icon=e})},null,8,["modelValue"])):((0,o.wg)(),(0,o.j4)(u,{key:1,onOnSelect:a.onSelectIcon,defaultIcon:i.icon,label:"Icon"},null,8,["onOnSelect","defaultIcon"])),(0,o.Wm)(Bl.R,{modelValue:i.layer.iconScale,"onUpdate:modelValue":t[10]||(t[10]=function(e){return i.layer.iconScale=e}),max:5,min:"0.1",step:.1,"show-ticks":"always",label:"Icon scale","hide-details":"",class:"slider",density:"compact",variant:"solo"},{append:(0,o.w5)((function(){return[(0,o.Wm)(Tl.h,{modelValue:i.layer.iconScale,"onUpdate:modelValue":t[9]||(t[9]=function(e){return i.layer.iconScale=e}),type:"number",style:{width:"85px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["modelValue","max","step"]),(0,o.Wm)(l,{modelValue:i.layer.iconColor,"onUpdate:modelValue":t[11]||(t[11]=function(e){return i.layer.iconColor=e}),label:"Icon color"},null,8,["modelValue"]),(0,o._)("div",mc,[(0,o.Wm)(c,{label:"Icon Anchor X",modelValue:i.layer.iconAnchor[0],"onUpdate:modelValue":t[12]||(t[12]=function(e){return i.layer.iconAnchor[0]=e})},null,8,["modelValue"]),(0,o.Wm)(c,{label:"Icon Anchor Y",modelValue:i.layer.iconAnchor[1],"onUpdate:modelValue":t[13]||(t[13]=function(e){return i.layer.iconAnchor[1]=e})},null,8,["modelValue"])])],64)}var yc=r(23369),bc=r(83070),vc=r(5547),wc=function(e){return(0,o.dD)("data-v-bfa0b52e"),e=e(),(0,o.Cn)(),e},kc={id:"container",ref:"container"},Sc={key:0,id:"loading-wrapper"},_c=wc((function(){return(0,o._)("div",{class:"dots"},[(0,o._)("div",{style:"background-color: #18191A"}),(0,o._)("div",{style:"background-color: #18191A"}),(0,o._)("div",{style:"background-color: #18191A"})],-1)})),Tc=[_c],xc={id:"end-of-list",ref:"end-of-list"};function Ic(e,t,r,s,l,c){return(0,o.wg)(),(0,o.j4)(Xn.B,{modelValue:l.showDialog,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.showDialog=e}),"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"700px","max-height":"850px"},{activator:(0,o.w5)((function(e){var i=e.props;return[(0,o.Wm)(Tl.h,(0,o.dG)({modelValue:l.selectedIcon,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.selectedIcon=e}),"prepend-inner-icon":"mdi-"+l.selectedIcon,label:r.label},i,{readonly:"",variant:"solo",density:"compact",class:"input-text"}),null,16,["modelValue","prepend-inner-icon","label"])]})),default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(yc.K,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(Tl.h,{modelValue:l.searchIcon,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.searchIcon=e}),placeholder:"Search icon","prepend-icon":"mdi-magnify",type:"text",onautocomplete:"off",density:"compact"},null,8,["modelValue"]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(hl.C,{id:"scrolling-techniques-7",class:"overflow-y-auto","max-height":"600"},{default:(0,o.w5)((function(){return[(0,o.Wm)(bc.D,{cols:"12"},{default:(0,o.w5)((function(){return[(0,o._)("div",kc,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.itemsToDisplay,(function(e){return(0,o.wg)(),(0,o.j4)(a.T,{key:e,title:e,onClick:function(t){return c.saveIcon(e)},color:"white",class:"mr-2 mb-2",fab:"",small:"",depressed:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,null,{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-"+(0,n.zw)(e),1)]})),_:2},1024)]})),_:2},1032,["title","onClick"])})),128)),l.loading?((0,o.wg)(),(0,o.iD)("div",Sc,Tc)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("div",xc,null,512),[[i.F8,l.page!==l.items.length-1||!l.loading]])],512)]})),_:1})]})),_:1})),[[vc.X,c.onScroll,void 0,{self:!0}]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var Cc=["abacus","abjad-arabic","abjad-hebrew","ab-testing","abugida-devanagari","abugida-thai","access-point-check","access-point-minus","access-point-network-off","access-point-network","access-point-off","access-point-plus","access-point-remove","access-point","account-alert-outline","account-alert","account-arrow-down-outline","account-arrow-down","account-arrow-left-outline","account-arrow-left","account-arrow-right-outline","account-arrow-right","account-arrow-up-outline","account-arrow-up","account-badge-outline","account-badge","account-box-multiple-outline","account-box-multiple","account-box-outline","account-box","account-cancel-outline","account-cancel","account-card-outline","account-card","account-cash-outline","account-cash","account-check-outline","account-check","account-child-circle","account-child-outline","account-child","account-circle-outline","account-circle","account-clock-outline","account-clock","account-cog-outline","account-cog","account-convert-outline","account-convert","account-cowboy-hat-outline","account-cowboy-hat","account-credit-card-outline","account-credit-card","account-details-outline","account-details","account-edit-outline","account-edit","account-eye-outline","account-eye","account-filter-outline","account-filter","account-group-outline","account-group","account-hard-hat-outline","account-hard-hat","account-heart-outline","account-heart","account-injury-outline","account-injury","account-key-outline","account-key","account-lock-open-outline","account-lock-open","account-lock-outline","account-lock","account-minus-outline","account-minus","account-multiple-check-outline","account-multiple-check","account-multiple-minus-outline","account-multiple-minus","account-multiple-outline","account-multiple-plus-outline","account-multiple-plus","account-multiple-remove-outline","account-multiple-remove","account-multiple","account-music-outline","account-music","account-network-off-outline","account-network-off","account-network-outline","account-network","account-off-outline","account-off","account-outline","account-plus-outline","account-plus","account-question-outline","account-question","account-reactivate-outline","account-reactivate","account-remove-outline","account-remove","account-school-outline","account-school","account-search-outline","account-search","account-settings-outline","account-settings","account-star-outline","account-star","account-supervisor-circle-outline","account-supervisor-circle","account-supervisor-outline","account-supervisor","account","account-switch-outline","account-switch","account-sync-outline","account-sync","account-tag-outline","account-tag","account-tie-hat-outline","account-tie-hat","account-tie-outline","account-tie","account-tie-voice-off-outline","account-tie-voice-off","account-tie-voice-outline","account-tie-voice","account-tie-woman","account-voice-off","account-voice","account-wrench-outline","account-wrench","adjust","advertisements-off","advertisements","airbag","airballoon-outline","airballoon","air-conditioner","air-filter","air-horn","air-humidifier-off","air-humidifier","airplane-alert","airplane-check","airplane-clock","airplane-cog","airplane-edit","airplane-landing","airplane-marker","airplane-minus","airplane-off","airplane-plus","airplane-remove","airplane-search","airplane-settings","airplane","airplane-takeoff","airport","air-purifier-off","air-purifier","alarm-bell","alarm-check","alarm-light-off-outline","alarm-light-off","alarm-light-outline","alarm-light","alarm-multiple","alarm-note-off","alarm-note","alarm-off","alarm-panel-outline","alarm-panel","alarm-plus","alarm-snooze","alarm","album","alert-box-outline","alert-box","alert-circle-check-outline","alert-circle-check","alert-circle-outline","alert-circle","alert-decagram-outline","alert-decagram","alert-minus-outline","alert-minus","alert-octagon-outline","alert-octagon","alert-octagram-outline","alert-octagram","alert-outline","alert-plus-outline","alert-plus","alert-remove-outline","alert-remove","alert-rhombus-outline","alert-rhombus","alert","alien-outline","alien","align-horizontal-center","align-horizontal-distribute","align-horizontal-left","align-horizontal-right","align-vertical-bottom","align-vertical-center","align-vertical-distribute","align-vertical-top","allergy","all-inclusive-box-outline","all-inclusive-box","all-inclusive","alpha-a-box-outline","alpha-a-box","alpha-a-circle-outline","alpha-a-circle","alpha-a","alpha-b-box-outline","alpha-b-box","alpha-b-circle-outline","alpha-b-circle","alphabet-aurebesh","alphabet-cyrillic","alphabet-greek","alphabetical-off","alphabetical","alphabetical-variant-off","alphabetical-variant","alphabet-latin","alphabet-piqad","alphabet-tengwar","alpha-b","alpha-c-box-outline","alpha-c-box","alpha-c-circle-outline","alpha-c-circle","alpha-c","alpha-d-box-outline","alpha-d-box","alpha-d-circle-outline","alpha-d-circle","alpha-d","alpha-e-box-outline","alpha-e-box","alpha-e-circle-outline","alpha-e-circle","alpha-e","alpha-f-box-outline","alpha-f-box","alpha-f-circle-outline","alpha-f-circle","alpha-f","alpha-g-box-outline","alpha-g-box","alpha-g-circle-outline","alpha-g-circle","alpha-g","alpha-h-box-outline","alpha-h-box","alpha-h-circle-outline","alpha-h-circle","alpha-h","alpha-i-box-outline","alpha-i-box","alpha-i-circle-outline","alpha-i-circle","alpha-i","alpha-j-box-outline","alpha-j-box","alpha-j-circle-outline","alpha-j-circle","alpha-j","alpha-k-box-outline","alpha-k-box","alpha-k-circle-outline","alpha-k-circle","alpha-k","alpha-l-box-outline","alpha-l-box","alpha-l-circle-outline","alpha-l-circle","alpha-l","alpha-m-box-outline","alpha-m-box","alpha-m-circle-outline","alpha-m-circle","alpha-m","alpha-n-box-outline","alpha-n-box","alpha-n-circle-outline","alpha-n-circle","alpha-n","alpha-o-box-outline","alpha-o-box","alpha-o-circle-outline","alpha-o-circle","alpha-o","alpha-p-box-outline","alpha-p-box","alpha-p-circle-outline","alpha-p-circle","alpha-p","alpha-q-box-outline","alpha-q-box","alpha-q-circle-outline","alpha-q-circle","alpha-q","alpha-r-box-outline","alpha-r-box","alpha-r-circle-outline","alpha-r-circle","alpha-r","alpha-s-box-outline","alpha-s-box","alpha-s-circle-outline","alpha-s-circle","alpha-s","alpha","alpha-t-box-outline","alpha-t-box","alpha-t-circle-outline","alpha-t-circle","alpha-t","alpha-u-box-outline","alpha-u-box","alpha-u-circle-outline","alpha-u-circle","alpha-u","alpha-v-box-outline","alpha-v-box","alpha-v-circle-outline","alpha-v-circle","alpha-v","alpha-w-box-outline","alpha-w-box","alpha-w-circle-outline","alpha-w-circle","alpha-w","alpha-x-box-outline","alpha-x-box","alpha-x-circle-outline","alpha-x-circle","alpha-x","alpha-y-box-outline","alpha-y-box","alpha-y-circle-outline","alpha-y-circle","alpha-y","alpha-z-box-outline","alpha-z-box","alpha-z-circle-outline","alpha-z-circle","alpha-z","altimeter","ambulance","ammunition","ampersand","amplifier-off","amplifier","anchor","android-studio","android","angle-acute","angle-obtuse","angle-right","angularjs","angular","animation-outline","animation-play-outline","animation-play","animation","ansible","antenna","anvil","apache-kafka","api-off","api","apple-finder","apple-icloud","apple-ios","apple-keyboard-caps","apple-keyboard-command","apple-keyboard-control","apple-keyboard-option","apple-keyboard-shift","apple-safari","apple","application-array-outline","application-array","application-braces-outline","application-braces","application-brackets-outline","application-brackets","application-cog-outline","application-cog","application-edit-outline","application-edit","application-export","application-import","application-outline","application-parentheses-outline","application-parentheses","application-settings-outline","application-settings","application","application-variable-outline","application-variable","approximately-equal-box","approximately-equal","apps-box","apps","archive-alert-outline","archive-alert","archive-arrow-down-outline","archive-arrow-down","archive-arrow-up-outline","archive-arrow-up","archive-cancel-outline","archive-cancel","archive-check-outline","archive-check","archive-clock-outline","archive-clock","archive-cog-outline","archive-cog","archive-edit-outline","archive-edit","archive-eye-outline","archive-eye","archive-lock-open-outline","archive-lock-open","archive-lock-outline","archive-lock","archive-marker-outline","archive-marker","archive-minus-outline","archive-minus","archive-music-outline","archive-music","archive-off-outline","archive-off","archive-outline","archive-plus-outline","archive-plus","archive-refresh-outline","archive-refresh","archive-remove-outline","archive-remove","archive-search-outline","archive-search","archive-settings-outline","archive-settings","archive-star-outline","archive-star","archive","archive-sync-outline","archive-sync","arch","arm-flex-outline","arm-flex","arrange-bring-forward","arrange-bring-to-front","arrange-send-backward","arrange-send-to-back","arrow-all","arrow-bottom-left-bold-box-outline","arrow-bottom-left-bold-box","arrow-bottom-left-bold-outline","arrow-bottom-left","arrow-bottom-left-thick","arrow-bottom-left-thin-circle-outline","arrow-bottom-left-thin","arrow-bottom-right-bold-box-outline","arrow-bottom-right-bold-box","arrow-bottom-right-bold-outline","arrow-bottom-right","arrow-bottom-right-thick","arrow-bottom-right-thin-circle-outline","arrow-bottom-right-thin","arrow-collapse-all","arrow-collapse-down","arrow-collapse-horizontal","arrow-collapse-left","arrow-collapse-right","arrow-collapse","arrow-collapse-up","arrow-collapse-vertical","arrow-decision-auto-outline","arrow-decision-auto","arrow-decision-outline","arrow-decision","arrow-down-bold-box-outline","arrow-down-bold-box","arrow-down-bold-circle-outline","arrow-down-bold-circle","arrow-down-bold-hexagon-outline","arrow-down-bold-outline","arrow-down-bold","arrow-down-box","arrow-down-circle-outline","arrow-down-circle","arrow-down-drop-circle-outline","arrow-down-drop-circle","arrow-down-left-bold","arrow-down-left","arrow-down-right-bold","arrow-down-right","arrow-down","arrow-down-thick","arrow-down-thin-circle-outline","arrow-down-thin","arrow-expand-all","arrow-expand-down","arrow-expand-horizontal","arrow-expand-left","arrow-expand-right","arrow-expand","arrow-expand-up","arrow-expand-vertical","arrow-horizontal-lock","arrow-left-bold-box-outline","arrow-left-bold-box","arrow-left-bold-circle-outline","arrow-left-bold-circle","arrow-left-bold-hexagon-outline","arrow-left-bold-outline","arrow-left-bold","arrow-left-bottom-bold","arrow-left-bottom","arrow-left-box","arrow-left-circle-outline","arrow-left-circle","arrow-left-drop-circle-outline","arrow-left-drop-circle","arrow-left-right-bold-outline","arrow-left-right-bold","arrow-left-right","arrow-left","arrow-left-thick","arrow-left-thin-circle-outline","arrow-left-thin","arrow-left-top-bold","arrow-left-top","arrow-projectile-multiple","arrow-projectile","arrow-right-bold-box-outline","arrow-right-bold-box","arrow-right-bold-circle-outline","arrow-right-bold-circle","arrow-right-bold-hexagon-outline","arrow-right-bold-outline","arrow-right-bold","arrow-right-bottom-bold","arrow-right-bottom","arrow-right-box","arrow-right-circle-outline","arrow-right-circle","arrow-right-drop-circle-outline","arrow-right-drop-circle","arrow-right","arrow-right-thick","arrow-right-thin-circle-outline","arrow-right-thin","arrow-right-top-bold","arrow-right-top","arrow-split-horizontal","arrow-split-vertical","arrow-top-left-bold-box-outline","arrow-top-left-bold-box","arrow-top-left-bold-outline","arrow-top-left-bottom-right-bold","arrow-top-left-bottom-right","arrow-top-left","arrow-top-left-thick","arrow-top-left-thin-circle-outline","arrow-top-left-thin","arrow-top-right-bold-box-outline","arrow-top-right-bold-box","arrow-top-right-bold-outline","arrow-top-right-bottom-left-bold","arrow-top-right-bottom-left","arrow-top-right","arrow-top-right-thick","arrow-top-right-thin-circle-outline","arrow-top-right-thin","arrow-u-down-left-bold","arrow-u-down-left","arrow-u-down-right-bold","arrow-u-down-right","arrow-u-left-bottom-bold","arrow-u-left-bottom","arrow-u-left-top-bold","arrow-u-left-top","arrow-up-bold-box-outline","arrow-up-bold-box","arrow-up-bold-circle-outline","arrow-up-bold-circle","arrow-up-bold-hexagon-outline","arrow-up-bold-outline","arrow-up-bold","arrow-up-box","arrow-up-circle-outline","arrow-up-circle","arrow-up-down-bold-outline","arrow-up-down-bold","arrow-up-down","arrow-up-drop-circle-outline","arrow-up-drop-circle","arrow-up-left-bold","arrow-up-left","arrow-up-right-bold","arrow-up-right","arrow-up","arrow-up-thick","arrow-up-thin-circle-outline","arrow-up-thin","arrow-u-right-bottom-bold","arrow-u-right-bottom","arrow-u-right-top-bold","arrow-u-right-top","arrow-u-up-left-bold","arrow-u-up-left","arrow-u-up-right-bold","arrow-u-up-right","arrow-vertical-lock","artboard","artstation","aspect-ratio","assistant","asterisk-circle-outline","asterisk","atlassian","atm","atom","atom-variant","at","attachment-check","attachment-lock","attachment-minus","attachment-off","attachment-plus","attachment-remove","attachment","atv","audio-input-rca","audio-input-stereo-minijack","audio-input-xlr","audio-video-off","audio-video","augmented-reality","aurora","auto-download","auto-fix","autorenew-off","autorenew","auto-upload","av-timer","awning-outline","awning","aws","axe-battle","axe","axis-arrow-info","axis-arrow-lock","axis-arrow","axis-lock","axis","axis-x-arrow-lock","axis-x-arrow","axis-x-rotate-clockwise","axis-x-rotate-counterclockwise","axis-x-y-arrow-lock","axis-y-arrow-lock","axis-y-arrow","axis-y-rotate-clockwise","axis-y-rotate-counterclockwise","axis-z-arrow-lock","axis-z-arrow","axis-z-rotate-clockwise","axis-z-rotate-counterclockwise","babel","baby-bottle-outline","baby-bottle","baby-buggy-off","baby-buggy","baby-carriage-off","baby-carriage","baby-face-outline","baby-face","baby","backburger","backspace-outline","backspace-reverse-outline","backspace-reverse","backspace","backup-restore","bacteria-outline","bacteria","badge-account-alert-outline","badge-account-alert","badge-account-horizontal-outline","badge-account-horizontal","badge-account-outline","badge-account","badminton","bag-carry-on-check","bag-carry-on-off","bag-carry-on","bag-checked","bag-personal-off-outline","bag-personal-off","bag-personal-outline","bag-personal","bag-personal-tag-outline","bag-personal-tag","bag-suitcase-off-outline","bag-suitcase-off","bag-suitcase-outline","bag-suitcase","baguette","balcony","balloon","ballot-outline","ballot-recount-outline","ballot-recount","ballot","bandage","bank-check","bank-circle-outline","bank-circle","bank-minus","bank-off-outline","bank-off","bank-outline","bank-plus","bank-remove","bank","bank-transfer-in","bank-transfer-out","bank-transfer","barcode-off","barcode-scan","barcode","barley-off","barley","barn","barrel-outline","barrel","baseball-bat","baseball-diamond-outline","baseball-diamond","baseball","bash","basketball-hoop-outline","basketball-hoop","basketball","basket-check-outline","basket-check","basket-fill","basket-minus-outline","basket-minus","basket-off-outline","basket-off","basket-outline","basket-plus-outline","basket-plus","basket-remove-outline","basket-remove","basket","basket-unfill","bathtub-outline","bathtub","bat","battery-10-bluetooth","battery-10","battery-20-bluetooth","battery-20","battery-30-bluetooth","battery-30","battery-40-bluetooth","battery-40","battery-50-bluetooth","battery-50","battery-60-bluetooth","battery-60","battery-70-bluetooth","battery-70","battery-80-bluetooth","battery-80","battery-90-bluetooth","battery-90","battery-alert-bluetooth","battery-alert","battery-alert-variant-outline","battery-alert-variant","battery-arrow-down-outline","battery-arrow-down","battery-arrow-up-outline","battery-arrow-up","battery-bluetooth","battery-bluetooth-variant","battery-charging-100","battery-charging-10","battery-charging-20","battery-charging-30","battery-charging-40","battery-charging-50","battery-charging-60","battery-charging-70","battery-charging-80","battery-charging-90","battery-charging-high","battery-charging-low","battery-charging-medium","battery-charging-outline","battery-charging","battery-charging-wireless-10","battery-charging-wireless-20","battery-charging-wireless-30","battery-charging-wireless-40","battery-charging-wireless-50","battery-charging-wireless-60","battery-charging-wireless-70","battery-charging-wireless-80","battery-charging-wireless-90","battery-charging-wireless-alert","battery-charging-wireless-outline","battery-charging-wireless","battery-check-outline","battery-check","battery-clock-outline","battery-clock","battery-heart-outline","battery-heart","battery-heart-variant","battery-high","battery-lock-open","battery-lock","battery-low","battery-medium","battery-minus-outline","battery-minus","battery-minus-variant","battery-negative","battery-off-outline","battery-off","battery-outline","battery-plus-outline","battery-plus","battery-plus-variant","battery-positive","battery-remove-outline","battery-remove","battery","battery-sync-outline","battery-sync","battery-unknown-bluetooth","battery-unknown","beach","beaker-alert-outline","beaker-alert","beaker-check-outline","beaker-check","beaker-minus-outline","beaker-minus","beaker-outline","beaker-plus-outline","beaker-plus","beaker-question-outline","beaker-question","beaker-remove-outline","beaker-remove","beaker","bed-clock","bed-double-outline","bed-double","bed-empty","bed-king-outline","bed-king","bed-outline","bed-queen-outline","bed-queen","bed-single-outline","bed-single","bed","bee-flower","beehive-off-outline","beehive-outline","beekeeper","beer-outline","beer","bee","bell-alert-outline","bell-alert","bell-badge-outline","bell-badge","bell-cancel-outline","bell-cancel","bell-check-outline","bell-check","bell-circle-outline","bell-circle","bell-cog-outline","bell-cog","bell-minus-outline","bell-minus","bell-off-outline","bell-off","bell-outline","bell-plus-outline","bell-plus","bell-remove-outline","bell-remove","bell-ring-outline","bell-ring","bell-sleep-outline","bell-sleep","bell","betamax","beta","biathlon","bicycle-basket","bicycle-cargo","bicycle-electric","bicycle-penny-farthing","bicycle","bike-fast","bike","billboard","billiards-rack","billiards","binoculars","biohazard","bio","bird","bitbucket","bitcoin","black-mesa","blender-outline","blender-software","blender","blinds-horizontal-closed","blinds-horizontal","blinds-open","blinds","blinds-vertical-closed","blinds-vertical","block-helper","blood-bag","bluetooth-audio","bluetooth-connect","bluetooth-off","bluetooth-settings","bluetooth","bluetooth-transfer","blur-linear","blur-off","blur-radial","blur","bolt","bomb-off","bomb","bone-off","bone","book-account-outline","book-account","book-alert-outline","book-alert","book-alphabet","book-arrow-down-outline","book-arrow-down","book-arrow-left-outline","book-arrow-left","book-arrow-right-outline","book-arrow-right","book-arrow-up-outline","book-arrow-up","book-cancel-outline","book-cancel","book-check-outline","book-check","book-clock-outline","book-clock","book-cog-outline","book-cog","book-cross","book-edit-outline","book-edit","book-education-outline","book-education","book-heart-outline","book-heart","book-information-variant","book-lock-open-outline","book-lock-open","book-lock-outline","book-lock","bookmark-box-multiple-outline","bookmark-box-multiple","bookmark-box-outline","bookmark-box","bookmark-check-outline","bookmark-check","book-marker-outline","book-marker","bookmark-minus-outline","bookmark-minus","bookmark-multiple-outline","bookmark-multiple","bookmark-music-outline","bookmark-music","bookmark-off-outline","bookmark-off","bookmark-outline","bookmark-plus-outline","bookmark-plus","bookmark-remove-outline","bookmark-remove","bookmark","book-minus-multiple-outline","book-minus-multiple","book-minus-outline","book-minus","book-multiple-outline","book-multiple","book-music-outline","book-music","book-off-outline","book-off","book-open-blank-variant","book-open-outline","book-open-page-variant-outline","book-open-page-variant","book-open","book-open-variant","book-outline","book-play-outline","book-play","book-plus-multiple-outline","book-plus-multiple","book-plus-outline","book-plus","book-refresh-outline","book-refresh","book-remove-multiple-outline","book-remove-multiple","book-remove-outline","book-remove","book-search-outline","book-search","book-settings-outline","book-settings","bookshelf","book","book-sync-outline","book-sync","book-variant","boombox","boomerang","boom-gate-alert-outline","boom-gate-alert","boom-gate-arrow-down-outline","boom-gate-arrow-down","boom-gate-arrow-up-outline","boom-gate-arrow-up","boom-gate-outline","boom-gate","boom-gate-up-outline","boom-gate-up","bootstrap","border-all","border-all-variant","border-bottom","border-bottom-variant","border-color","border-horizontal","border-inside","border-left","border-left-variant","border-none","border-none-variant","border-outside","border-radius","border-right","border-right-variant","border-style","border-top","border-top-variant","border-vertical","bottle-soda-classic-outline","bottle-soda-classic","bottle-soda-outline","bottle-soda","bottle-tonic-outline","bottle-tonic-plus-outline","bottle-tonic-plus","bottle-tonic-skull-outline","bottle-tonic-skull","bottle-tonic","bottle-wine-outline","bottle-wine","bow-arrow","bowling","bowl-mix-outline","bowl-mix","bowl-outline","bowl","bow-tie","box-cutter-off","box-cutter","boxing-glove","box-shadow","box","braille","brain","bread-slice-outline","bread-slice","bridge","briefcase-account-outline","briefcase-account","briefcase-arrow-left-right-outline","briefcase-arrow-left-right","briefcase-arrow-up-down-outline","briefcase-arrow-up-down","briefcase-check-outline","briefcase-check","briefcase-clock-outline","briefcase-clock","briefcase-download-outline","briefcase-download","briefcase-edit-outline","briefcase-edit","briefcase-eye-outline","briefcase-eye","briefcase-minus-outline","briefcase-minus","briefcase-off-outline","briefcase-off","briefcase-outline","briefcase-plus-outline","briefcase-plus","briefcase-remove-outline","briefcase-remove","briefcase-search-outline","briefcase-search","briefcase","briefcase-upload-outline","briefcase-upload","briefcase-variant-off-outline","briefcase-variant-off","briefcase-variant-outline","briefcase-variant","brightness-1","brightness-2","brightness-3","brightness-4","brightness-5","brightness-6","brightness-7","brightness-auto","brightness-percent","broadcast-off","broadcast","broom","brush-off","brush-outline","brush","brush-variant","bucket-outline","bucket","buffet","bug-check-outline","bug-check","bugle","bug-outline","bug-pause-outline","bug-pause","bug-play-outline","bug-play","bug-stop-outline","bug-stop","bug","bulkhead-light","bulldozer","bulletin-board","bullet","bullhorn-outline","bullhorn","bullhorn-variant-outline","bullhorn-variant","bullseye-arrow","bullseye","bulma","bunk-bed-outline","bunk-bed","bus-alert","bus-articulated-end","bus-articulated-front","bus-clock","bus-double-decker","bus-electric","bus-marker","bus-multiple","bus-school","bus-side","bus-stop-covered","bus-stop","bus-stop-uncovered","bus","butterfly-outline","butterfly","button-cursor","button-pointer","cabin-a-frame","cable-data","cached","cactus","cake-layered","cake","cake-variant-outline","cake-variant","calculator","calculator-variant-outline","calculator-variant","calendar-account-outline","calendar-account","calendar-alert-outline","calendar-alert","calendar-arrow-left","calendar-arrow-right","calendar-badge-outline","calendar-badge","calendar-blank-multiple","calendar-blank-outline","calendar-blank","calendar-check-outline","calendar-check","calendar-clock-outline","calendar-clock","calendar-collapse-horizontal-outline","calendar-collapse-horizontal","calendar-cursor-outline","calendar-cursor","calendar-edit-outline","calendar-edit","calendar-end-outline","calendar-end","calendar-expand-horizontal-outline","calendar-expand-horizontal","calendar-export-outline","calendar-export","calendar-filter-outline","calendar-filter","calendar-heart-outline","calendar-heart","calendar-import-outline","calendar-import","calendar-lock-open-outline","calendar-lock-open","calendar-lock-outline","calendar-lock","calendar-minus-outline","calendar-minus","calendar-month-outline","calendar-month","calendar-multiple-check","calendar-multiple","calendar-multiselect-outline","calendar-multiselect","calendar-outline","calendar-plus-outline","calendar-plus","calendar-question-outline","calendar-question","calendar-range-outline","calendar-range","calendar-refresh-outline","calendar-refresh","calendar-remove-outline","calendar-remove","calendar-search-outline","calendar-search","calendar-star-outline","calendar-star","calendar-start-outline","calendar-start","calendar","calendar-sync-outline","calendar-sync","calendar-text-outline","calendar-text","calendar-today-outline","calendar-today","calendar-week-begin-outline","calendar-week-begin","calendar-weekend-outline","calendar-weekend","calendar-week-outline","calendar-week","call-made","call-merge","call-missed","call-received","call-split","camcorder-off","camcorder","camera-account","camera-burst","camera-control","camera-document-off","camera-document","camera-enhance-outline","camera-enhance","camera-flip-outline","camera-flip","camera-front","camera-front-variant","camera-gopro","camera-image","camera-iris","camera-lock-open-outline","camera-lock-open","camera-lock-outline","camera-lock","camera-marker-outline","camera-marker","camera-metering-center","camera-metering-matrix","camera-metering-partial","camera-metering-spot","camera-off-outline","camera-off","camera-outline","camera-party-mode","camera-plus-outline","camera-plus","camera-rear","camera-rear-variant","camera-retake-outline","camera-retake","camera","camera-switch-outline","camera-switch","camera-timer","camera-wireless-outline","camera-wireless","campfire","cancel","candelabra-fire","candelabra","candle","candycane","candy-off-outline","candy-off","candy-outline","candy","cannabis-off","cannabis","caps-lock","car-2-plus","car-3-plus","carabiner","car-arrow-left","car-arrow-right","caravan","car-back","car-battery","car-brake-abs","car-brake-alert","car-brake-fluid-level","car-brake-hold","car-brake-low-pressure","car-brake-parking","car-brake-retarder","car-brake-temperature","car-brake-worn-linings","car-child-seat","car-clock","car-clutch","car-cog","car-connected","car-convertible","car-coolant-level","car-cruise-control","card-account-details-outline","card-account-details-star-outline","card-account-details-star","card-account-details","card-account-mail-outline","card-account-mail","card-account-phone-outline","card-account-phone","card-bulleted-off-outline","card-bulleted-off","card-bulleted-outline","card-bulleted-settings-outline","card-bulleted-settings","card-bulleted","car-defrost-front","car-defrost-rear","card-minus-outline","card-minus","card-multiple-outline","card-multiple","card-off-outline","card-off","car-door-lock","car-door","card-outline","card-plus-outline","card-plus","card-remove-outline","card-remove","cards-club-outline","cards-club","cards-diamond-outline","cards-diamond","card-search-outline","card-search","cards-heart-outline","cards-heart","cards-outline","cards-playing-club-multiple-outline","cards-playing-club-multiple","cards-playing-club-outline","cards-playing-club","cards-playing-diamond-multiple-outline","cards-playing-diamond-multiple","cards-playing-diamond-outline","cards-playing-diamond","cards-playing-heart-multiple-outline","cards-playing-heart-multiple","cards-playing-heart-outline","cards-playing-heart","cards-playing-outline","cards-playing-spade-multiple-outline","cards-playing-spade-multiple","cards-playing-spade-outline","cards-playing-spade","cards-playing","cards-spade-outline","cards-spade","cards","cards-variant","card","card-text-outline","card-text","car-electric-outline","car-electric","car-emergency","car-esp","car-estate","car-hatchback","car-info","car-key","car-lifted-pickup","car-light-alert","car-light-dimmed","car-light-fog","car-light-high","car-limousine","car-multiple","car-off","car-outline","car-parking-lights","car-pickup","carrot","car-search-outline","car-search","car-seat-cooler","car-seat-heater","car-seat","car-select","car-settings","car-shift-pattern","car-side","car-speed-limiter","car-sports","car","cart-arrow-down","cart-arrow-right","cart-arrow-up","cart-check","cart-heart","car-tire-alert","cart-minus","cart-off","cart-outline","cart-percent","cart-plus","car-traction-control","cart-remove","cart","car-turbocharger","cart-variant","car-wash","car-windshield-outline","car-windshield","car-wireless","car-wrench","case-sensitive-alt","cash-100","cash-check","cash-clock","cash-fast","cash-lock-open","cash-lock","cash-marker","cash-minus","cash-multiple","cash-plus","cash-refund","cash-register","cash-remove","cash","cash-sync","cassette","cast-audio","cast-audio-variant","cast-connected","cast-education","castle","cast-off","cast","cast-variant","cat","cctv-off","cctv","ceiling-fan-light","ceiling-fan","ceiling-light-multiple-outline","ceiling-light-multiple","ceiling-light-outline","ceiling-light","cellphone-arrow-down","cellphone-arrow-down-variant","cellphone-basic","cellphone-charging","cellphone-check","cellphone-cog","cellphone-dock","cellphone-information","cellphone-key","cellphone-link-off","cellphone-link","cellphone-lock","cellphone-marker","cellphone-message-off","cellphone-message","cellphone-nfc-off","cellphone-nfc","cellphone-off","cellphone-play","cellphone-remove","cellphone-screenshot","cellphone-settings","cellphone-sound","cellphone","cellphone-text","cellphone-wireless","centos","certificate-outline","certificate","chair-rolling","chair-school","chandelier","charity","chart-arc","chart-areaspline","chart-areaspline-variant","chart-bar-stacked","chart-bar","chart-bell-curve-cumulative","chart-bell-curve","chart-box-outline","chart-box-plus-outline","chart-box","chart-bubble","chart-donut","chart-donut-variant","chart-gantt","chart-histogram","chart-line-stacked","chart-line","chart-line-variant","chart-multiline","chart-multiple","chart-pie-outline","chart-pie","chart-ppf","chart-sankey","chart-sankey-variant","chart-scatter-plot-hexbin","chart-scatter-plot","chart-timeline","chart-timeline-variant-shimmer","chart-timeline-variant","chart-tree","chart-waterfall","chat-alert-outline","chat-alert","chat-minus-outline","chat-minus","chat-outline","chat-plus-outline","chat-plus","chat-processing-outline","chat-processing","chat-question-outline","chat-question","chat-remove-outline","chat-remove","chat-sleep-outline","chat-sleep","chat","check-all","check-bold","checkbook","checkbox-blank-badge-outline","checkbox-blank-badge","checkbox-blank-circle-outline","checkbox-blank-circle","checkbox-blank-off-outline","checkbox-blank-off","checkbox-blank-outline","checkbox-blank","checkbox-intermediate","checkbox-intermediate-variant","checkbox-marked-circle-outline","checkbox-marked-circle-plus-outline","checkbox-marked-circle","checkbox-marked-outline","checkbox-marked","checkbox-multiple-blank-circle-outline","checkbox-multiple-blank-circle","checkbox-multiple-blank-outline","checkbox-multiple-blank","checkbox-multiple-marked-circle-outline","checkbox-multiple-marked-circle","checkbox-multiple-marked-outline","checkbox-multiple-marked","checkbox-multiple-outline","checkbox-outline","check-circle-outline","check-circle","check-decagram-outline","check-decagram","checkerboard-minus","checkerboard-plus","checkerboard-remove","checkerboard","check-network-outline","check-network","check-outline","check","check-underline-circle-outline","check-underline-circle","check-underline","cheese-off","cheese","chef-hat","chemical-weapon","chess-bishop","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-double-down","chevron-double-left","chevron-double-right","chevron-double-up","chevron-down-box-outline","chevron-down-box","chevron-down-circle-outline","chevron-down-circle","chevron-down","chevron-left-box-outline","chevron-left-box","chevron-left-circle-outline","chevron-left-circle","chevron-left","chevron-right-box-outline","chevron-right-box","chevron-right-circle-outline","chevron-right-circle","chevron-right","chevron-triple-down","chevron-triple-left","chevron-triple-right","chevron-triple-up","chevron-up-box-outline","chevron-up-box","chevron-up-circle-outline","chevron-up-circle","chevron-up","chili-alert-outline","chili-alert","chili-hot-outline","chili-hot","chili-medium-outline","chili-medium","chili-mild-outline","chili-mild","chili-off-outline","chili-off","chip","church-outline","church","cigar-off","cigar","circle-box-outline","circle-box","circle-double","circle-edit-outline","circle-expand","circle-half-full","circle-half","circle-medium","circle-multiple-outline","circle-multiple","circle-off-outline","circle-opacity","circle-outline","circle-slice-1","circle-slice-2","circle-slice-3","circle-slice-4","circle-slice-5","circle-slice-6","circle-slice-7","circle-slice-8","circle-small","circle","circular-saw","city","city-variant-outline","city-variant","clipboard-account-outline","clipboard-account","clipboard-alert-outline","clipboard-alert","clipboard-arrow-down-outline","clipboard-arrow-down","clipboard-arrow-left-outline","clipboard-arrow-left","clipboard-arrow-right-outline","clipboard-arrow-right","clipboard-arrow-up-outline","clipboard-arrow-up","clipboard-check-multiple-outline","clipboard-check-multiple","clipboard-check-outline","clipboard-check","clipboard-clock-outline","clipboard-clock","clipboard-edit-outline","clipboard-edit","clipboard-file-outline","clipboard-file","clipboard-flow-outline","clipboard-flow","clipboard-list-outline","clipboard-list","clipboard-minus-outline","clipboard-minus","clipboard-multiple-outline","clipboard-multiple","clipboard-off-outline","clipboard-off","clipboard-outline","clipboard-play-multiple-outline","clipboard-play-multiple","clipboard-play-outline","clipboard-play","clipboard-plus-outline","clipboard-plus","clipboard-pulse-outline","clipboard-pulse","clipboard-remove-outline","clipboard-remove","clipboard-search-outline","clipboard-search","clipboard","clipboard-text-clock-outline","clipboard-text-clock","clipboard-text-multiple-outline","clipboard-text-multiple","clipboard-text-off-outline","clipboard-text-off","clipboard-text-outline","clipboard-text-play-outline","clipboard-text-play","clipboard-text-search-outline","clipboard-text-search","clipboard-text","clippy","clock-alert-outline","clock-alert","clock-check-outline","clock-check","clock-digital","clock-edit-outline","clock-edit","clock-end","clock-fast","clock-in","clock-minus-outline","clock-minus","clock-outline","clock-out","clock-plus-outline","clock-plus","clock-remove-outline","clock-remove","clock-start","clock","clock-time-eight-outline","clock-time-eight","clock-time-eleven-outline","clock-time-eleven","clock-time-five-outline","clock-time-five","clock-time-four-outline","clock-time-four","clock-time-nine-outline","clock-time-nine","clock-time-one-outline","clock-time-one","clock-time-seven-outline","clock-time-seven","clock-time-six-outline","clock-time-six","clock-time-ten-outline","clock-time-ten","clock-time-three-outline","clock-time-three","clock-time-twelve-outline","clock-time-twelve","clock-time-two-outline","clock-time-two","close-box-multiple-outline","close-box-multiple","close-box-outline","close-box","close-circle-multiple-outline","close-circle-multiple","close-circle-outline","close-circle","closed-caption-outline","closed-caption","close-network-outline","close-network","close-octagon-outline","close-octagon","close-outline","close","close-thick","cloud-alert-outline","cloud-alert","cloud-arrow-down-outline","cloud-arrow-down","cloud-arrow-left-outline","cloud-arrow-left","cloud-arrow-right-outline","cloud-arrow-right","cloud-arrow-up-outline","cloud-arrow-up","cloud-braces","cloud-cancel-outline","cloud-cancel","cloud-check-outline","cloud-check","cloud-check-variant-outline","cloud-check-variant","cloud-circle-outline","cloud-circle","cloud-clock-outline","cloud-clock","cloud-cog-outline","cloud-cog","cloud-download-outline","cloud-download","cloud-lock-open-outline","cloud-lock-open","cloud-lock-outline","cloud-lock","cloud-minus-outline","cloud-minus","cloud-off-outline","cloud-off","cloud-outline","cloud-percent-outline","cloud-percent","cloud-plus-outline","cloud-plus","cloud-print-outline","cloud-print","cloud-question-outline","cloud-question","cloud-refresh-outline","cloud-refresh","cloud-refresh-variant-outline","cloud-refresh-variant","cloud-remove-outline","cloud-remove","cloud-search-outline","cloud-search","clouds","cloud","cloud-sync-outline","cloud-sync","cloud-tags","cloud-upload-outline","cloud-upload","clover","coach-lamp","coach-lamp-variant","coat-rack","code-array","code-braces-box","code-braces","code-brackets","code-equal","code-greater-than-or-equal","code-greater-than","code-json","code-less-than-or-equal","code-less-than","code-not-equal","code-not-equal-variant","code-parentheses-box","code-parentheses","codepen","code-string","code-tags-check","code-tags","coffee-maker-check-outline","coffee-maker-check","coffee-maker-outline","coffee-maker","coffee-off-outline","coffee-off","coffee-outline","coffee","coffee-to-go-outline","coffee-to-go","coffin","cog-box","cog-clockwise","cog-counterclockwise","cog-off-outline","cog-off","cog-outline","cog-pause-outline","cog-pause","cog-play-outline","cog-play","cog-refresh-outline","cog-refresh","cogs","cog-stop-outline","cog-stop","cog","cog-sync-outline","cog-sync","cog-transfer-outline","cog-transfer","collage","collapse-all-outline","collapse-all","color-helper","comma-box-outline","comma-box","comma-circle-outline","comma-circle","comma","comment-account-outline","comment-account","comment-alert-outline","comment-alert","comment-arrow-left-outline","comment-arrow-left","comment-arrow-right-outline","comment-arrow-right","comment-bookmark-outline","comment-bookmark","comment-check-outline","comment-check","comment-edit-outline","comment-edit","comment-eye-outline","comment-eye","comment-flash-outline","comment-flash","comment-minus-outline","comment-minus","comment-multiple-outline","comment-multiple","comment-off-outline","comment-off","comment-outline","comment-plus-outline","comment-plus","comment-processing-outline","comment-processing","comment-question-outline","comment-question","comment-quote-outline","comment-quote","comment-remove-outline","comment-remove","comment-search-outline","comment-search","comment","comment-text-multiple-outline","comment-text-multiple","comment-text-outline","comment-text","compare-horizontal","compare-remove","compare","compare-vertical","compass-off-outline","compass-off","compass-outline","compass-rose","compass","compost","cone-off","cone","connection","console-line","console-network-outline","console-network","console","consolidate","contactless-payment-circle-outline","contactless-payment-circle","contactless-payment","contacts-outline","contacts","contain-end","contain-start","contain","content-copy","content-cut","content-duplicate","content-paste","content-save-alert-outline","content-save-alert","content-save-all-outline","content-save-all","content-save-check-outline","content-save-check","content-save-cog-outline","content-save-cog","content-save-edit-outline","content-save-edit","content-save-minus-outline","content-save-minus","content-save-move-outline","content-save-move","content-save-off-outline","content-save-off","content-save-outline","content-save-plus-outline","content-save-plus","content-save-settings-outline","content-save-settings","content-save","contrast-box","contrast-circle","contrast","controller-classic-outline","controller-classic","controller-off","controller","cookie-alert-outline","cookie-alert","cookie-check-outline","cookie-check","cookie-clock-outline","cookie-clock","cookie-cog-outline","cookie-cog","cookie-edit-outline","cookie-edit","cookie-lock-outline","cookie-lock","cookie-minus-outline","cookie-minus","cookie-off-outline","cookie-off","cookie-outline","cookie-plus-outline","cookie-plus","cookie-refresh-outline","cookie-refresh","cookie-remove-outline","cookie-remove","cookie-settings-outline","cookie-settings","cookie","coolant-temperature","copyleft","copyright","cordova","corn-off","corn","cosine-wave","counter","countertop-outline","countertop","cow-off","cow","cpu-32-bit","cpu-64-bit","cradle-outline","cradle","crane","creation","creative-commons","credit-card-check-outline","credit-card-check","credit-card-chip-outline","credit-card-chip","credit-card-clock-outline","credit-card-clock","credit-card-edit-outline","credit-card-edit","credit-card-fast-outline","credit-card-fast","credit-card-lock-outline","credit-card-lock","credit-card-marker-outline","credit-card-marker","credit-card-minus-outline","credit-card-minus","credit-card-multiple-outline","credit-card-multiple","credit-card-off-outline","credit-card-off","credit-card-outline","credit-card-plus-outline","credit-card-plus","credit-card-refresh-outline","credit-card-refresh","credit-card-refund-outline","credit-card-refund","credit-card-remove-outline","credit-card-remove","credit-card-scan-outline","credit-card-scan","credit-card-search-outline","credit-card-search","credit-card-settings-outline","credit-card-settings","credit-card","credit-card-sync-outline","credit-card-sync","credit-card-wireless-off-outline","credit-card-wireless-off","credit-card-wireless-outline","credit-card-wireless","cricket","crop-free","crop-landscape","crop-portrait","crop-rotate","crop-square","crop","cross-bolnisi","cross-celtic","crosshairs-gps","crosshairs-off","crosshairs-question","crosshairs","cross-outline","cross","crowd","crown-circle-outline","crown-circle","crown-outline","crown","cryengine","crystal-ball","cube-off-outline","cube-off","cube-outline","cube-scan","cube-send","cube","cube-unfolded","cupboard-outline","cupboard","cupcake","cup-off-outline","cup-off","cup-outline","cup","cup-water","curling","currency-bdt","currency-brl","currency-btc","currency-cny","currency-eth","currency-eur-off","currency-eur","currency-fra","currency-gbp","currency-ils","currency-inr","currency-jpy","currency-krw","currency-kzt","currency-mnt","currency-ngn","currency-php","currency-rial","currency-rub","currency-rupee","currency-sign","currency-thb","currency-try","currency-twd","currency-uah","currency-usd-off","currency-usd","current-ac","current-dc","cursor-default-click-outline","cursor-default-click","cursor-default-gesture-outline","cursor-default-gesture","cursor-default-outline","cursor-default","cursor-move","cursor-pointer","cursor-text","curtains-closed","curtains","cylinder-off","cylinder","dance-ballroom","dance-pole","database-alert-outline","database-alert","database-arrow-down-outline","database-arrow-down","database-arrow-left-outline","database-arrow-left","database-arrow-right-outline","database-arrow-right","database-arrow-up-outline","database-arrow-up","database-check-outline","database-check","database-clock-outline","database-clock","database-cog-outline","database-cog","database-edit-outline","database-edit","database-export-outline","database-export","database-eye-off-outline","database-eye-off","database-eye-outline","database-eye","database-import-outline","database-import","database-lock-outline","database-lock","database-marker-outline","database-marker","database-minus-outline","database-minus","database-off-outline","database-off","database-outline","database-plus-outline","database-plus","database-refresh-outline","database-refresh","database-remove-outline","database-remove","database-search-outline","database-search","database-settings-outline","database-settings","database","database-sync-outline","database-sync","data-matrix-edit","data-matrix-minus","data-matrix-plus","data-matrix-remove","data-matrix-scan","data-matrix","deathly-hallows","death-star","death-star-variant","debian","debug-step-into","debug-step-out","debug-step-over","decagram-outline","decagram","decimal-comma-decrease","decimal-comma-increase","decimal-comma","decimal-decrease","decimal-increase","decimal","delete-alert-outline","delete-alert","delete-circle-outline","delete-circle","delete-clock-outline","delete-clock","delete-empty-outline","delete-empty","delete-forever-outline","delete-forever","delete-off-outline","delete-off","delete-outline","delete-restore","delete","delete-sweep-outline","delete-sweep","delete-variant","delta","desk-lamp-off","desk-lamp-on","desk-lamp","deskphone","desk","desktop-classic","desktop-tower-monitor","desktop-tower","details","developer-board","deviantart","devices","dev-to","dharmachakra","diabetes","dialpad","diameter-outline","diameter","diameter-variant","diamond-outline","diamond-stone","diamond","dice-1-outline","dice-1","dice-2-outline","dice-2","dice-3-outline","dice-3","dice-4-outline","dice-4","dice-5-outline","dice-5","dice-6-outline","dice-6","dice-d10-outline","dice-d10","dice-d12-outline","dice-d12","dice-d20-outline","dice-d20","dice-d4-outline","dice-d4","dice-d6-outline","dice-d6","dice-d8-outline","dice-d8","dice-multiple-outline","dice-multiple","digital-ocean","dip-switch","directions-fork","directions","disc-alert","disc-player","disc","dishwasher-alert","dishwasher-off","dishwasher","disqus","distribute-horizontal-center","distribute-horizontal-left","distribute-horizontal-right","distribute-vertical-bottom","distribute-vertical-center","distribute-vertical-top","diversify","diving-flippers","diving-helmet","diving-scuba-flag","diving-scuba-mask","diving-scuba","diving-scuba-tank-multiple","diving-scuba-tank","diving-snorkel","diving","division-box","division","dlna","dna","dns-outline","dns","dock-bottom","docker","dock-left","dock-right","dock-top","dock-window","doctor","dog-service","dog-side-off","dog-side","dog","dolby","dolly","dolphin","domain-off","domain-plus","domain-remove","domain","dome-light","domino-mask","donkey","doorbell","doorbell-video","door-closed-lock","door-closed","door-open","door-sliding-lock","door-sliding-open","door-sliding","door","dot-net","dots-circle","dots-grid","dots-hexagon","dots-horizontal-circle-outline","dots-horizontal-circle","dots-horizontal","dots-square","dots-triangle","dots-vertical-circle-outline","dots-vertical-circle","dots-vertical","download-box-outline","download-box","download-circle-outline","download-circle","download-lock-outline","download-lock","download-multiple","download-network-outline","download-network","download-off-outline","download-off","download-outline","download","drag-horizontal","drag-horizontal-variant","drag","drag-variant","drag-vertical","drag-vertical-variant","drama-masks","drawing-box","drawing","draw-pen","draw","dresser-outline","dresser","drone","dropbox","drupal","duck","dumbbell","dump-truck","earbuds-off-outline","earbuds-off","earbuds-outline","earbuds","ear-hearing-loop","ear-hearing-off","ear-hearing","earth-arrow-right","earth-box-minus","earth-box-off","earth-box-plus","earth-box-remove","earth-box","earth-minus","earth-off","earth-plus","earth-remove","earth","egg-easter","egg-fried","egg-off-outline","egg-off","egg-outline","egg","eiffel-tower","eight-track","eject-circle-outline","eject-circle","eject-outline","eject","electric-switch-closed","electric-switch","electron-framework","elephant","elevation-decline","elevation-rise","elevator-down","elevator-passenger-off-outline","elevator-passenger-off","elevator-passenger-outline","elevator-passenger","elevator","elevator-up","ellipse-outline","ellipse","email-alert-outline","email-alert","email-arrow-left-outline","email-arrow-left","email-arrow-right-outline","email-arrow-right","email-box","email-check-outline","email-check","email-edit-outline","email-edit","email-fast-outline","email-fast","email-lock-outline","email-lock","email-mark-as-unread","email-minus-outline","email-minus","email-multiple-outline","email-multiple","email-newsletter","email-off-outline","email-off","email-open-multiple-outline","email-open-multiple","email-open-outline","email-open","email-outline","email-plus-outline","email-plus","email-remove-outline","email-remove","email-seal-outline","email-seal","email-search-outline","email-search","email","email-sync-outline","email-sync","email-variant","ember","emby","emoticon-angry-outline","emoticon-angry","emoticon-confused-outline","emoticon-confused","emoticon-cool-outline","emoticon-cool","emoticon-cry-outline","emoticon-cry","emoticon-dead-outline","emoticon-dead","emoticon-devil-outline","emoticon-devil","emoticon-excited-outline","emoticon-excited","emoticon-frown-outline","emoticon-frown","emoticon-happy-outline","emoticon-happy","emoticon-kiss-outline","emoticon-kiss","emoticon-lol-outline","emoticon-lol","emoticon-neutral-outline","emoticon-neutral","emoticon-outline","emoticon-poop-outline","emoticon-poop","emoticon-sad-outline","emoticon-sad","emoticon-sick-outline","emoticon-sick","emoticon","emoticon-tongue-outline","emoticon-tongue","emoticon-wink-outline","emoticon-wink","engine-off-outline","engine-off","engine-outline","engine","epsilon","equal-box","equalizer-outline","equalizer","equal","eraser","eraser-variant","escalator-box","escalator-down","escalator","escalator-up","eslint","ethereum","ethernet-cable-off","ethernet-cable","ethernet","et","evernote","ev-plug-ccs1","ev-plug-ccs2","ev-plug-chademo","ev-plug-tesla","ev-plug-type1","ev-plug-type2","ev-station","excavator","exclamation","exclamation-thick","exit-run","exit-to-app","expand-all-outline","expand-all","expansion-card","expansion-card-variant","exponent-box","exponent","export","export-variant","eye-arrow-left-outline","eye-arrow-left","eye-arrow-right-outline","eye-arrow-right","eye-check-outline","eye-check","eye-circle-outline","eye-circle","eyedropper-minus","eyedropper-off","eyedropper-plus","eyedropper-remove","eyedropper","eyedropper-variant","eye-lock-open-outline","eye-lock-open","eye-lock-outline","eye-lock","eye-minus-outline","eye-minus","eye-off-outline","eye-off","eye-outline","eye-plus-outline","eye-plus","eye-refresh-outline","eye-refresh","eye-remove-outline","eye-remove","eye-settings-outline","eye-settings","eye","face-agent","facebook-gaming","facebook-messenger","facebook","facebook-workplace","face-man-outline","face-man-profile","face-man-shimmer-outline","face-man-shimmer","face-man","face-mask-outline","face-mask","face-recognition","face-woman-outline","face-woman-profile","face-woman-shimmer-outline","face-woman-shimmer","face-woman","factory","family-tree","fan-alert","fan-auto","fan-chevron-down","fan-chevron-up","fan-clock","fan-minus","fan-off","fan-plus","fan-remove","fan-speed-1","fan-speed-2","fan-speed-3","fan","fast-forward-10","fast-forward-15","fast-forward-30","fast-forward-45","fast-forward-5","fast-forward-60","fast-forward-outline","fast-forward","faucet","faucet-variant","fax","feather","feature-search-outline","feature-search","fedora","fence-electric","fence","fencing","ferris-wheel","ferry","file-account-outline","file-account","file-alert-outline","file-alert","file-arrow-left-right-outline","file-arrow-left-right","file-arrow-up-down-outline","file-arrow-up-down","file-cabinet","file-cad-box","file-cad","file-cancel-outline","file-cancel","file-certificate-outline","file-certificate","file-chart-check-outline","file-chart-check","file-chart-outline","file-chart","file-check-outline","file-check","file-clock-outline","file-clock","file-cloud-outline","file-cloud","file-code-outline","file-code","file-cog-outline","file-cog","file-compare","file-delimited-outline","file-delimited","file-document-alert-outline","file-document-alert","file-document-arrow-right-outline","file-document-arrow-right","file-document-check-outline","file-document-check","file-document-edit-outline","file-document-edit","file-document-minus-outline","file-document-minus","file-document-multiple-outline","file-document-multiple","file-document-outline","file-document-plus-outline","file-document-plus","file-document-remove-outline","file-document-remove","file-document","file-download-outline","file-download","file-edit-outline","file-edit","file-excel-box-outline","file-excel-box","file-excel-outline","file-excel","file-export-outline","file-export","file-eye-outline","file-eye","file-find-outline","file-find","file-gif-box","file-hidden","file-image-marker-outline","file-image-marker","file-image-minus-outline","file-image-minus","file-image-outline","file-image-plus-outline","file-image-plus","file-image-remove-outline","file-image-remove","file-image","file-import-outline","file-import","file-jpg-box","file-key-outline","file-key","file-link-outline","file-link","file-lock-open-outline","file-lock-open","file-lock-outline","file-lock","file-marker-outline","file-marker","file-minus-outline","file-minus","file-move-outline","file-move","file-multiple-outline","file-multiple","file-music-outline","file-music","file-outline","file-pdf-box","file-percent-outline","file-percent","file-phone-outline","file-phone","file-plus-outline","file-plus","file-png-box","file-powerpoint-box-outline","file-powerpoint-box","file-powerpoint-outline","file-powerpoint","file-presentation-box","file-question-outline","file-question","file-refresh-outline","file-refresh","file-remove-outline","file-remove","file-replace-outline","file-replace","file-restore-outline","file-restore","file-rotate-left-outline","file-rotate-left","file-rotate-right-outline","file-rotate-right","files","file-search-outline","file-search","file-send-outline","file-send","file-settings-outline","file-settings","file-sign","file-star-outline","file-star","file","file-swap-outline","file-swap","file-sync-outline","file-sync","file-table-box-multiple-outline","file-table-box-multiple","file-table-box-outline","file-table-box","file-table-outline","file-table","file-tree-outline","file-tree","file-undo-outline","file-undo","file-upload-outline","file-upload","file-video-outline","file-video","file-word-box-outline","file-word-box","file-word-outline","file-word","file-xml-box","filmstrip-box-multiple","filmstrip-box","filmstrip-off","filmstrip","film","filter-check-outline","filter-check","filter-cog-outline","filter-cog","filter-menu-outline","filter-menu","filter-minus-outline","filter-minus","filter-multiple-outline","filter-multiple","filter-off-outline","filter-off","filter-outline","filter-plus-outline","filter-plus","filter-remove-outline","filter-remove","filter-settings-outline","filter-settings","filter","filter-variant-minus","filter-variant-plus","filter-variant-remove","filter-variant","finance","find-replace","fingerprint-off","fingerprint","fire-alert","firebase","fire-circle","fire-extinguisher","firefox","fire-hydrant-alert","fire-hydrant-off","fire-hydrant","fire-off","fireplace-off","fireplace","fire","fire-truck","firewire","firework-off","firework","fishbowl-outline","fishbowl","fish-off","fish","fit-to-page-outline","fit-to-page","fit-to-screen-outline","fit-to-screen","flag-checkered","flag-minus-outline","flag-minus","flag-off-outline","flag-off","flag-outline","flag-plus-outline","flag-plus","flag-remove-outline","flag-remove","flag","flag-triangle","flag-variant-minus-outline","flag-variant-minus","flag-variant-off-outline","flag-variant-off","flag-variant-outline","flag-variant-plus-outline","flag-variant-plus","flag-variant-remove-outline","flag-variant-remove","flag-variant","flare","flash-alert-outline","flash-alert","flash-auto","flashlight-off","flashlight","flash-off-outline","flash-off","flash-outline","flash-red-eye","flash","flash-triangle-outline","flash-triangle","flask-empty-minus-outline","flask-empty-minus","flask-empty-off-outline","flask-empty-off","flask-empty-outline","flask-empty-plus-outline","flask-empty-plus","flask-empty-remove-outline","flask-empty-remove","flask-empty","flask-minus-outline","flask-minus","flask-off-outline","flask-off","flask-outline","flask-plus-outline","flask-plus","flask-remove-outline","flask-remove","flask-round-bottom-empty-outline","flask-round-bottom-empty","flask-round-bottom-outline","flask-round-bottom","flask","fleur-de-lis","flip-horizontal","flip-to-back","flip-to-front","flip-vertical","floor-lamp-dual-outline","floor-lamp-dual","floor-lamp-outline","floor-lamp","floor-lamp-torchiere-outline","floor-lamp-torchiere","floor-lamp-torchiere-variant-outline","floor-lamp-torchiere-variant","floor-plan","floppy","floppy-variant","flower-outline","flower-pollen-outline","flower-pollen","flower-poppy","flower","flower-tulip-outline","flower-tulip","focus-auto","focus-field-horizontal","focus-field","focus-field-vertical","folder-account-outline","folder-account","folder-alert-outline","folder-alert","folder-arrow-down-outline","folder-arrow-down","folder-arrow-left-outline","folder-arrow-left-right-outline","folder-arrow-left-right","folder-arrow-left","folder-arrow-right-outline","folder-arrow-right","folder-arrow-up-down-outline","folder-arrow-up-down","folder-arrow-up-outline","folder-arrow-up","folder-cancel-outline","folder-cancel","folder-check-outline","folder-check","folder-clock-outline","folder-clock","folder-cog-outline","folder-cog","folder-download-outline","folder-download","folder-edit-outline","folder-edit","folder-eye-outline","folder-eye","folder-file-outline","folder-file","folder-google-drive","folder-heart-outline","folder-heart","folder-hidden","folder-home-outline","folder-home","folder-image","folder-information-outline","folder-information","folder-key-network-outline","folder-key-network","folder-key-outline","folder-key","folder-lock-open-outline","folder-lock-open","folder-lock-outline","folder-lock","folder-marker-outline","folder-marker","folder-minus-outline","folder-minus","folder-move-outline","folder-move","folder-multiple-image","folder-multiple-outline","folder-multiple-plus-outline","folder-multiple-plus","folder-multiple","folder-music-outline","folder-music","folder-network-outline","folder-network","folder-off-outline","folder-off","folder-open-outline","folder-open","folder-outline","folder-play-outline","folder-play","folder-plus-outline","folder-plus","folder-pound-outline","folder-pound","folder-question-outline","folder-question","folder-refresh-outline","folder-refresh","folder-remove-outline","folder-remove","folder-search-outline","folder-search","folder-settings-outline","folder-settings","folder-star-multiple-outline","folder-star-multiple","folder-star-outline","folder-star","folder","folder-swap-outline","folder-swap","folder-sync-outline","folder-sync","folder-table-outline","folder-table","folder-text-outline","folder-text","folder-upload-outline","folder-upload","folder-wrench-outline","folder-wrench","folder-zip-outline","folder-zip","font-awesome","food-apple-outline","food-apple","food-croissant","food-drumstick-off-outline","food-drumstick-off","food-drumstick-outline","food-drumstick","food-fork-drink","food-halal","food-hot-dog","food-kosher","food-off-outline","food-off","food-outline","food-steak-off","food-steak","food","food-takeout-box-outline","food-takeout-box","food-turkey","food-variant-off","food-variant","football-australian","football-helmet","football","foot-print","forest","forklift","format-align-bottom","format-align-center","format-align-justify","format-align-left","format-align-middle","format-align-right","format-align-top","format-annotation-minus","format-annotation-plus","format-bold","format-clear","format-color-fill","format-color-highlight","format-color-marker-cancel","format-color-text","format-columns","format-float-center","format-float-left","format-float-none","format-float-right","format-font-size-decrease","format-font-size-increase","format-font","format-header-1","format-header-2","format-header-3","format-header-4","format-header-5","format-header-6","format-header-decrease","format-header-equal","format-header-increase","format-header-pound","format-horizontal-align-center","format-horizontal-align-left","format-horizontal-align-right","format-indent-decrease","format-indent-increase","format-italic","format-letter-case-lower","format-letter-case","format-letter-case-upper","format-letter-ends-with","format-letter-matches","format-letter-spacing","format-letter-spacing-variant","format-letter-starts-with","format-line-height","format-line-spacing","format-line-style","format-line-weight","format-list-bulleted-square","format-list-bulleted","format-list-bulleted-triangle","format-list-bulleted-type","format-list-checkbox","format-list-checks","format-list-group-plus","format-list-group","format-list-numbered-rtl","format-list-numbered","format-list-text","format-overline","format-page-break","format-page-split","format-paint","format-paragraph-spacing","format-paragraph","format-pilcrow-arrow-left","format-pilcrow-arrow-right","format-pilcrow","format-quote-close-outline","format-quote-close","format-quote-open-outline","format-quote-open","format-rotate-90","format-section","format-size","format-strikethrough","format-strikethrough-variant","format-subscript","format-superscript","format-textbox","format-text-rotation-angle-down","format-text-rotation-angle-up","format-text-rotation-down","format-text-rotation-down-vertical","format-text-rotation-none","format-text-rotation-up","format-text-rotation-vertical","format-text","format-text-variant-outline","format-text-variant","format-text-wrapping-clip","format-text-wrapping-overflow","format-text-wrapping-wrap","format-title","format-underline","format-underline-wavy","format-vertical-align-bottom","format-vertical-align-center","format-vertical-align-top","format-wrap-inline","format-wrap-square","format-wrap-tight","format-wrap-top-bottom","form-dropdown","form-select","form-textarea","form-textbox-lock","form-textbox-password","form-textbox","forum-minus-outline","forum-minus","forum-outline","forum-plus-outline","forum-plus","forum-remove-outline","forum-remove","forum","forwardburger","forward","fountain-pen","fountain-pen-tip","fountain","fraction-one-half","freebsd","french-fries","frequently-asked-questions","fridge-alert-outline","fridge-alert","fridge-bottom","fridge-industrial-alert-outline","fridge-industrial-alert","fridge-industrial-off-outline","fridge-industrial-off","fridge-industrial-outline","fridge-industrial","fridge-off-outline","fridge-off","fridge-outline","fridge","fridge-top","fridge-variant-alert-outline","fridge-variant-alert","fridge-variant-off-outline","fridge-variant-off","fridge-variant-outline","fridge-variant","fruit-cherries-off","fruit-cherries","fruit-citrus-off","fruit-citrus","fruit-grapes-outline","fruit-grapes","fruit-pear","fruit-pineapple","fruit-watermelon","fuel-cell","fuel","fullscreen-exit","fullscreen","function","function-variant","furigana-horizontal","furigana-vertical","fuse-alert","fuse-blade","fuse-off","fuse","gamepad-circle-down","gamepad-circle-left","gamepad-circle-outline","gamepad-circle-right","gamepad-circle","gamepad-circle-up","gamepad-down","gamepad-left","gamepad-outline","gamepad-right","gamepad-round-down","gamepad-round-left","gamepad-round-outline","gamepad-round-right","gamepad-round","gamepad-round-up","gamepad-square-outline","gamepad-square","gamepad","gamepad-up","gamepad-variant-outline","gamepad-variant","gamma","gantry-crane","garage-alert","garage-alert-variant","garage-lock","garage-open","garage-open-variant","garage","garage-variant-lock","garage-variant","gas-burner","gas-cylinder","gas-station-off-outline","gas-station-off","gas-station-outline","gas-station","gate-alert","gate-and","gate-arrow-left","gate-arrow-right","gate-buffer","gate-nand","gate-nor","gate-not","gate-open","gate-or","gate","gate-xnor","gate-xor","gatsby","gauge-empty","gauge-full","gauge-low","gauge","gavel","gender-female","gender-male-female","gender-male-female-variant","gender-male","gender-non-binary","gender-transgender","gentoo","gesture-double-tap","gesture-pinch","gesture-spread","gesture","gesture-swipe-down","gesture-swipe-horizontal","gesture-swipe-left","gesture-swipe-right","gesture-swipe","gesture-swipe-up","gesture-swipe-vertical","gesture-tap-box","gesture-tap-button","gesture-tap-hold","gesture-tap","gesture-two-double-tap","gesture-two-tap","ghost-off-outline","ghost-off","ghost-outline","ghost","gift-off-outline","gift-off","gift-open-outline","gift-open","gift-outline","gift","github","gitlab","git","glass-cocktail-off","glass-cocktail","glasses","glass-flute","glass-fragile","glass-mug-off","glass-mug","glass-mug-variant-off","glass-mug-variant","glass-pint-outline","glass-stange","glass-tulip","glass-wine","globe-light-outline","globe-light","globe-model","gmail","gnome","gog","go-kart","go-kart-track","gold","golf-cart","golf","golf-tee","gondola","goodreads","google-ads","google-analytics","google-assistant","google-cardboard","google-chrome","google-circles-communities","google-circles-extended","google-circles-group","google-circles","google-classroom","google-cloud","google-downasaur","google-drive","google-earth","google-fit","google-glass","google-hangouts","google-keep","google-lens","google-maps","google-my-business","google-nearby","google-play","google-plus","google-podcast","google-spreadsheet","google-street-view","google","google-translate","gradient-horizontal","gradient-vertical","grain","graph-outline","graphql","graph","grass","grave-stone","grease-pencil","greater-than-or-equal","greater-than","greenhouse","grid-large","grid-off","grid","grill-outline","grill","group","guitar-acoustic","guitar-electric","guitar-pick-outline","guitar-pick","guy-fawkes-mask","gymnastics","hail","hair-dryer-outline","hair-dryer","halloween","hamburger-check","hamburger-minus","hamburger-off","hamburger-plus","hamburger-remove","hamburger","hammer-screwdriver","hammer-sickle","hammer","hammer-wrench","hand-back-left-off-outline","hand-back-left-off","hand-back-left-outline","hand-back-left","hand-back-right-off-outline","hand-back-right-off","hand-back-right-outline","hand-back-right","handball","hand-clap-off","hand-clap","hand-coin-outline","hand-coin","handcuffs","hand-cycle","hand-extended-outline","hand-extended","hand-front-left-outline","hand-front-left","hand-front-right-outline","hand-front-right","hand-heart-outline","hand-heart","hand-okay","hand-peace","hand-peace-variant","hand-pointing-down","hand-pointing-left","hand-pointing-right","hand-pointing-up","hand-saw","handshake-outline","handshake","hands-pray","hand-wash-outline","hand-wash","hand-water","hand-wave-outline","hand-wave","hanger","harddisk-plus","harddisk-remove","harddisk","hard-hat","hat-fedora","hazard-lights","hdmi-port","hdr-off","hdr","head-alert-outline","head-alert","head-check-outline","head-check","head-cog-outline","head-cog","head-dots-horizontal-outline","head-dots-horizontal","head-flash-outline","head-flash","head-heart-outline","head-heart","head-lightbulb-outline","head-lightbulb","head-minus-outline","head-minus","head-outline","headphones-bluetooth","headphones-box","headphones-off","headphones-settings","headphones","head-plus-outline","head-plus","head-question-outline","head-question","head-remove-outline","head-remove","headset-dock","headset-off","headset","head-snowflake-outline","head-snowflake","head","head-sync-outline","head-sync","heart-box-outline","heart-box","heart-broken-outline","heart-broken","heart-circle-outline","heart-circle","heart-cog-outline","heart-cog","heart-flash","heart-half-full","heart-half-outline","heart-half","heart-minus-outline","heart-minus","heart-multiple-outline","heart-multiple","heart-off-outline","heart-off","heart-outline","heart-plus-outline","heart-plus","heart-pulse","heart-remove-outline","heart-remove","heart-settings-outline","heart-settings","heart","heating-coil","heat-pump-outline","heat-pump","heat-wave","helicopter","help-box-multiple-outline","help-box-multiple","help-box-outline","help-box","help-circle-outline","help-circle","help-network-outline","help-network","help-rhombus-outline","help-rhombus","help","hexadecimal","hexagon-multiple-outline","hexagon-multiple","hexagon-outline","hexagon-slice-1","hexagon-slice-2","hexagon-slice-3","hexagon-slice-4","hexagon-slice-5","hexagon-slice-6","hexagon","hexagram-outline","hexagram","high-definition-box","high-definition","highway","hiking","history","hockey-puck","hockey-sticks","hololens","home-account","home-alert-outline","home-alert","home-analytics","home-assistant","home-automation","home-battery-outline","home-battery","home-circle-outline","home-circle","home-city-outline","home-city","home-clock-outline","home-clock","home-edit-outline","home-edit","home-export-outline","home-flood","home-floor-0","home-floor-1","home-floor-2","home-floor-3","home-floor-a","home-floor-b","home-floor-g","home-floor-l","home-floor-negative-1","home-group-minus","home-group-plus","home-group-remove","home-group","home-heart","home-import-outline","home-lightbulb-outline","home-lightbulb","home-lightning-bolt-outline","home-lightning-bolt","home-lock-open","home-lock","home-map-marker","home-minus-outline","home-minus","home-modern","home-off-outline","home-off","home-outline","home-plus-outline","home-plus","home-remove-outline","home-remove","home-roof","home-search-outline","home-search","home-silo-outline","home-silo","home","home-switch-outline","home-switch","home-thermometer-outline","home-thermometer","home-variant-outline","home-variant","hook-off","hook","hoop-house","hops","horizontal-rotate-clockwise","horizontal-rotate-counterclockwise","horse-human","horseshoe","horse","horse-variant-fast","horse-variant","hospital-box-outline","hospital-box","hospital-building","hospital-marker","hospital","hot-tub","hours-24","hubspot","hulu","human-baby-changing-table","human-cane","human-capacity-decrease","human-capacity-increase","human-child","human-dolly","human-edit","human-female-boy","human-female-dance","human-female-female","human-female-girl","human-female","human-greeting-proximity","human-greeting","human-greeting-variant","human-handsdown","human-handsup","human-male-board-poll","human-male-board","human-male-boy","human-male-child","human-male-female-child","human-male-female","human-male-girl","human-male-height","human-male-height-variant","human-male-male","human-male","human-non-binary","human-pregnant","human-queue","human-scooter","human","human-walker","human-wheelchair","human-white-cane","humble-bundle","hvac-off","hvac","hydraulic-oil-level","hydraulic-oil-temperature","hydrogen-station","hydro-power","ice-cream-off","ice-cream","ice-pop","id-card","identifier","ideogram-cjk","ideogram-cjk-variant","image-album","image-area-close","image-area","image-auto-adjust","image-broken","image-broken-variant","image-check-outline","image-check","image-edit-outline","image-edit","image-filter-black-white","image-filter-center-focus-strong-outline","image-filter-center-focus-strong","image-filter-center-focus","image-filter-center-focus-weak","image-filter-drama-outline","image-filter-drama","image-filter-frames","image-filter-hdr","image-filter-none","image-filter-tilt-shift","image-filter-vintage","image-frame","image-lock-outline","image-lock","image-marker-outline","image-marker","image-minus-outline","image-minus","image-move","image-multiple-outline","image-multiple","image-off-outline","image-off","image-outline","image-plus-outline","image-plus","image-refresh-outline","image-refresh","image-remove-outline","image-remove","image-search-outline","image-search","image-size-select-actual","image-size-select-large","image-size-select-small","image","image-sync-outline","image-sync","image-text","import","inbox-arrow-down-outline","inbox-arrow-down","inbox-arrow-up-outline","inbox-arrow-up","inbox-full-outline","inbox-full","inbox-multiple-outline","inbox-multiple","inbox-outline","inbox-remove-outline","inbox-remove","inbox","incognito-circle-off","incognito-circle","incognito-off","incognito","induction","infinity","information-off-outline","information-off","information-outline","information","information-variant","instagram","instrument-triangle","integrated-circuit-chip","invert-colors-off","invert-colors","iobroker","ip-network-outline","ip-network","ipod","ip-outline","ip","iron-board","iron-outline","iron","island","iv-bag","jabber","jeepney","jellyfish-outline","jellyfish","jira","jquery","jsfiddle","jump-rope","kabaddi","kangaroo","karate","kayaking","keg","kettle-alert-outline","kettle-alert","kettlebell","kettle-off-outline","kettle-off","kettle-outline","kettle-pour-over","kettle-steam-outline","kettle-steam","kettle","key-alert-outline","key-alert","key-arrow-right","keyboard-backspace","keyboard-caps","keyboard-close-outline","keyboard-close","keyboard-esc","keyboard-f10","keyboard-f11","keyboard-f12","keyboard-f1","keyboard-f2","keyboard-f3","keyboard-f4","keyboard-f5","keyboard-f6","keyboard-f7","keyboard-f8","keyboard-f9","keyboard-off-outline","keyboard-off","keyboard-outline","keyboard-return","keyboard-settings-outline","keyboard-settings","keyboard-space","keyboard","keyboard-tab-reverse","keyboard-tab","keyboard-variant","key-chain","key-chain-variant","key-change","key-link","key-minus","key-outline","key-plus","key-remove","key-star","key","key-variant","key-wireless","khanda","kickstarter","kite-outline","kitesurfing","kite","klingon","knife-military","knife","knob","koala","kodi","kubernetes","label-multiple-outline","label-multiple","label-off-outline","label-off","label-outline","label-percent-outline","label-percent","label","label-variant-outline","label-variant","ladder","ladybug","lambda","lamp-outline","lamps-outline","lamps","lamp","lan-check","lan-connect","land-fields","lan-disconnect","land-plots-circle","land-plots-circle-variant","land-plots","land-rows-horizontal","land-rows-vertical","landslide-outline","landslide","language-cpp","language-csharp","language-css3","language-c","language-fortran","language-go","language-haskell","language-html5","language-javascript","language-java","language-kotlin","language-lua","language-markdown-outline","language-markdown","language-php","language-python","language-r","language-ruby-on-rails","language-ruby","language-rust","language-swift","language-typescript","language-xaml","lan-pending","lan","laptop-account","laptop-off","laptop","laravel","laser-pointer","lasso","lastpass","latitude","launch","lava-lamp","layers-edit","layers-minus","layers-off-outline","layers-off","layers-outline","layers-plus","layers-remove","layers-search-outline","layers-search","layers","layers-triple-outline","layers-triple","lead-pencil","leaf-circle-outline","leaf-circle","leaf-maple-off","leaf-maple","leaf-off","leaf","leak-off","leak","lectern","led-off","led-on","led-outline","led-strip","led-strip-variant-off","led-strip-variant","led-variant-off","led-variant-on","led-variant-outline","leek","less-than-or-equal","less-than","library-outline","library-shelves","library","license","lifebuoy","lightbulb-alert-outline","lightbulb-alert","lightbulb-auto-outline","lightbulb-auto","lightbulb-cfl-off","lightbulb-cfl-spiral-off","lightbulb-cfl-spiral","lightbulb-cfl","lightbulb-fluorescent-tube-outline","lightbulb-fluorescent-tube","lightbulb-group-off-outline","lightbulb-group-off","lightbulb-group-outline","lightbulb-group","lightbulb-multiple-off-outline","lightbulb-multiple-off","lightbulb-multiple-outline","lightbulb-multiple","lightbulb-night-outline","lightbulb-night","lightbulb-off-outline","lightbulb-off","lightbulb-on-10","lightbulb-on-20","lightbulb-on-30","lightbulb-on-40","lightbulb-on-50","lightbulb-on-60","lightbulb-on-70","lightbulb-on-80","lightbulb-on-90","lightbulb-on-outline","lightbulb-on","lightbulb-outline","lightbulb-question-outline","lightbulb-question","lightbulb-spot-off","lightbulb-spot","lightbulb","lightbulb-variant-outline","lightbulb-variant","light-flood-down","light-flood-up","lighthouse-on","lighthouse","lightning-bolt-circle","lightning-bolt-outline","lightning-bolt","light-recessed","light-switch-off","light-switch","line-scan","lingerie","link-box-outline","link-box","link-box-variant-outline","link-box-variant","linkedin","link-lock","link-off","link-plus","link","link-variant-minus","link-variant-off","link-variant-plus","link-variant-remove","link-variant","linux-mint","linux","lipstick","liquid-spot","liquor","list-box-outline","list-box","list-status","litecoin","loading","location-enter","location-exit","lock-alert-outline","lock-alert","lock-check-outline","lock-check","lock-clock","locker-multiple","locker","lock-minus-outline","lock-minus","lock-off-outline","lock-off","lock-open-alert-outline","lock-open-alert","lock-open-check-outline","lock-open-check","lock-open-minus-outline","lock-open-minus","lock-open-outline","lock-open-plus-outline","lock-open-plus","lock-open-remove-outline","lock-open-remove","lock-open","lock-open-variant-outline","lock-open-variant","lock-outline","lock-pattern","lock-percent-open-outline","lock-percent-open","lock-percent-open-variant-outline","lock-percent-open-variant","lock-percent-outline","lock-percent","lock-plus-outline","lock-plus","lock-question","lock-remove-outline","lock-remove","lock-reset","lock-smart","lock","login","login-variant","logout","logout-variant","longitude","looks","lotion-outline","lotion-plus-outline","lotion-plus","lotion","loupe","lumx","lungs","mace","magazine-pistol","magazine-rifle","magic-staff","magnet-on","magnet","magnify-close","magnify-expand","magnify-minus-cursor","magnify-minus-outline","magnify-minus","magnify-plus-cursor","magnify-plus-outline","magnify-plus","magnify-remove-cursor","magnify-remove-outline","magnify-scan","magnify","mailbox-open-outline","mailbox-open","mailbox-open-up-outline","mailbox-open-up","mailbox-outline","mailbox","mailbox-up-outline","mailbox-up","mail","manjaro","mapbox","map-check-outline","map-check","map-clock-outline","map-clock","map-legend","map-marker-account-outline","map-marker-account","map-marker-alert-outline","map-marker-alert","map-marker-check-outline","map-marker-check","map-marker-circle","map-marker-distance","map-marker-down","map-marker-left-outline","map-marker-left","map-marker-minus-outline","map-marker-minus","map-marker-multiple-outline","map-marker-multiple","map-marker-off-outline","map-marker-off","map-marker-outline","map-marker-path","map-marker-plus-outline","map-marker-plus","map-marker-question-outline","map-marker-question","map-marker-radius-outline","map-marker-radius","map-marker-remove-outline","map-marker-remove","map-marker-remove-variant","map-marker-right-outline","map-marker-right","map-marker-star-outline","map-marker-star","map-marker","map-marker-up","map-minus","map-outline","map-plus","map-search-outline","map-search","map","margin","marker-cancel","marker-check","marker","mastodon","material-design","material-ui","math-compass","math-cos","math-integral-box","math-integral","math-log","math-norm-box","math-norm","math-sin","math-tan","matrix","medal-outline","medal","medical-bag","medical-cotton-swab","medication-outline","medication","meditation","memory","menorah-fire","menorah","menu-down-outline","menu-down","menu-left-outline","menu-left","menu-open","menu-right-outline","menu-right","menu","menu-swap-outline","menu-swap","menu-up-outline","menu-up","merge","message-alert-outline","message-alert","message-arrow-left-outline","message-arrow-left","message-arrow-right-outline","message-arrow-right","message-badge-outline","message-badge","message-bookmark-outline","message-bookmark","message-bulleted-off","message-bulleted","message-check-outline","message-check","message-cog-outline","message-cog","message-draw","message-fast-outline","message-fast","message-flash-outline","message-flash","message-image-outline","message-image","message-lock-outline","message-lock","message-minus-outline","message-minus","message-off-outline","message-off","message-outline","message-plus-outline","message-plus","message-processing-outline","message-processing","message-question-outline","message-question","message-reply-outline","message-reply","message-reply-text-outline","message-reply-text","message-settings-outline","message-settings","message-star-outline","message-star","message","message-text-clock-outline","message-text-clock","message-text-fast-outline","message-text-fast","message-text-lock-outline","message-text-lock","message-text-outline","message-text","message-video","meteor","meter-electric-outline","meter-electric","meter-gas-outline","meter-gas","metronome","metronome-tick","microphone-message-off","microphone-message","microphone-minus","microphone-off","microphone-outline","microphone-plus","microphone-question-outline","microphone-question","microphone-settings","microphone","microphone-variant-off","microphone-variant","microscope","micro-sd","microsoft-access","microsoft-azure-devops","microsoft-azure","microsoft-bing","microsoft-dynamics-365","microsoft-edge","microsoft-excel","microsoft-internet-explorer","microsoft-office","microsoft-onedrive","microsoft-onenote","microsoft-outlook","microsoft-powerpoint","microsoft-sharepoint","microsoft","microsoft-teams","microsoft-visual-studio-code","microsoft-visual-studio","microsoft-windows-classic","microsoft-windows","microsoft-word","microsoft-xbox-controller-battery-alert","microsoft-xbox-controller-battery-charging","microsoft-xbox-controller-battery-empty","microsoft-xbox-controller-battery-full","microsoft-xbox-controller-battery-low","microsoft-xbox-controller-battery-medium","microsoft-xbox-controller-battery-unknown","microsoft-xbox-controller-menu","microsoft-xbox-controller-off","microsoft-xbox-controller","microsoft-xbox-controller-view","microsoft-xbox","microwave-off","microwave","middleware-outline","middleware","midi-port","midi","minecraft","mine","minidisc","mini-sd","minus-box-multiple-outline","minus-box-multiple","minus-box-outline","minus-box","minus-circle-multiple-outline","minus-circle-multiple","minus-circle-off-outline","minus-circle-off","minus-circle-outline","minus-circle","minus-network-outline","minus-network","minus","minus-thick","mirror-rectangle","mirror","mirror-variant","mixed-martial-arts","mixed-reality","molecule-co2","molecule-co","molecule","monitor-account","monitor-arrow-down","monitor-arrow-down-variant","monitor-cellphone-star","monitor-cellphone","monitor-dashboard","monitor-edit","monitor-eye","monitor-lock","monitor-multiple","monitor-off","monitor-screenshot","monitor-share","monitor-shimmer","monitor-small","monitor-speaker-off","monitor-speaker","monitor-star","monitor","moon-first-quarter","moon-full","moon-last-quarter","moon-new","moon-waning-crescent","moon-waning-gibbous","moon-waxing-crescent","moon-waxing-gibbous","moped-electric-outline","moped-electric","moped-outline","moped","more","mortar-pestle-plus","mortar-pestle","mosque-outline","mosque","mother-heart","mother-nurse","motion-outline","motion-pause-outline","motion-pause","motion-play-outline","motion-play","motion-sensor-off","motion-sensor","motion","motorbike-electric","motorbike-off","motorbike","mouse-bluetooth","mouse-move-down","mouse-move-up","mouse-move-vertical","mouse-off","mouse","mouse-variant-off","mouse-variant","move-resize","move-resize-variant","movie-check-outline","movie-check","movie-cog-outline","movie-cog","movie-edit-outline","movie-edit","movie-filter-outline","movie-filter","movie-minus-outline","movie-minus","movie-off-outline","movie-off","movie-open-check-outline","movie-open-check","movie-open-cog-outline","movie-open-cog","movie-open-edit-outline","movie-open-edit","movie-open-minus-outline","movie-open-minus","movie-open-off-outline","movie-open-off","movie-open-outline","movie-open-play-outline","movie-open-play","movie-open-plus-outline","movie-open-plus","movie-open-remove-outline","movie-open-remove","movie-open-settings-outline","movie-open-settings","movie-open-star-outline","movie-open-star","movie-open","movie-outline","movie-play-outline","movie-play","movie-plus-outline","movie-plus","movie-remove-outline","movie-remove","movie-roll","movie-search-outline","movie-search","movie-settings-outline","movie-settings","movie-star-outline","movie-star","movie","mower-bag-on","mower-bag","mower-on","mower","muffin","multicast","multimedia","multiplication-box","multiplication","mushroom-off-outline","mushroom-off","mushroom-outline","mushroom","music-accidental-double-flat","music-accidental-double-sharp","music-accidental-flat","music-accidental-natural","music-accidental-sharp","music-box-multiple-outline","music-box-multiple","music-box-outline","music-box","music-circle-outline","music-circle","music-clef-alto","music-clef-bass","music-clef-treble","music-note-bluetooth-off","music-note-bluetooth","music-note-eighth-dotted","music-note-eighth","music-note-half-dotted","music-note-half","music-note-minus","music-note-off-outline","music-note-off","music-note-outline","music-note-plus","music-note-quarter-dotted","music-note-quarter","music-note-sixteenth-dotted","music-note-sixteenth","music-note","music-note-whole-dotted","music-note-whole","music-off","music-rest-eighth","music-rest-half","music-rest-quarter","music-rest-sixteenth","music-rest-whole","music","mustache","nail","nas","nativescript","nature-people","nature","navigation-outline","navigation","navigation-variant-outline","navigation-variant","near-me","necklace","needle-off","needle","netflix","network-off-outline","network-off","network-outline","network-pos","network-strength-1-alert","network-strength-1","network-strength-2-alert","network-strength-2","network-strength-3-alert","network-strength-3","network-strength-4-alert","network-strength-4-cog","network-strength-4","network-strength-off-outline","network-strength-off","network-strength-outline","network","new-box","newspaper-check","newspaper-minus","newspaper-plus","newspaper-remove","newspaper","newspaper-variant-multiple-outline","newspaper-variant-multiple","newspaper-variant-outline","newspaper-variant","nfc-search-variant","nfc","nfc-tap","nfc-variant-off","nfc-variant","ninja","nintendo-game-boy","nintendo-switch","nintendo-wii","nintendo-wiiu","nix","nodejs","noodles","note-alert-outline","note-alert","notebook-check-outline","notebook-check","notebook-edit-outline","notebook-edit","notebook-heart-outline","notebook-heart","notebook-minus-outline","notebook-minus","notebook-multiple","notebook-outline","notebook-plus-outline","notebook-plus","notebook-remove-outline","notebook-remove","notebook","note-check-outline","note-check","note-edit-outline","note-edit","note-minus-outline","note-minus","note-multiple-outline","note-multiple","note-off-outline","note-off","note-outline","note-plus-outline","note-plus","not-equal","not-equal-variant","note-remove-outline","note-remove","note-search-outline","note-search","note","note-text-outline","note-text","notification-clear-all","npm","nuke","null","numeric-0-box-multiple-outline","numeric-0-box-multiple","numeric-0-box-outline","numeric-0-box","numeric-0-circle-outline","numeric-0-circle","numeric-0","numeric-10-box-multiple-outline","numeric-10-box-multiple","numeric-10-box-outline","numeric-10-box","numeric-10-circle-outline","numeric-10-circle","numeric-10","numeric-1-box-multiple-outline","numeric-1-box-multiple","numeric-1-box-outline","numeric-1-box","numeric-1-circle-outline","numeric-1-circle","numeric-1","numeric-2-box-multiple-outline","numeric-2-box-multiple","numeric-2-box-outline","numeric-2-box","numeric-2-circle-outline","numeric-2-circle","numeric-2","numeric-3-box-multiple-outline","numeric-3-box-multiple","numeric-3-box-outline","numeric-3-box","numeric-3-circle-outline","numeric-3-circle","numeric-3","numeric-4-box-multiple-outline","numeric-4-box-multiple","numeric-4-box-outline","numeric-4-box","numeric-4-circle-outline","numeric-4-circle","numeric-4","numeric-5-box-multiple-outline","numeric-5-box-multiple","numeric-5-box-outline","numeric-5-box","numeric-5-circle-outline","numeric-5-circle","numeric-5","numeric-6-box-multiple-outline","numeric-6-box-multiple","numeric-6-box-outline","numeric-6-box","numeric-6-circle-outline","numeric-6-circle","numeric-6","numeric-7-box-multiple-outline","numeric-7-box-multiple","numeric-7-box-outline","numeric-7-box","numeric-7-circle-outline","numeric-7-circle","numeric-7","numeric-8-box-multiple-outline","numeric-8-box-multiple","numeric-8-box-outline","numeric-8-box","numeric-8-circle-outline","numeric-8-circle","numeric-8","numeric-9-box-multiple-outline","numeric-9-box-multiple","numeric-9-box-outline","numeric-9-box","numeric-9-circle-outline","numeric-9-circle","numeric-9-plus-box-multiple-outline","numeric-9-plus-box-multiple","numeric-9-plus-box-outline","numeric-9-plus-box","numeric-9-plus-circle-outline","numeric-9-plus-circle","numeric-9-plus","numeric-9","numeric-negative-1","numeric-off","numeric-positive-1","numeric","nutrition","nut","nuxt","oar","ocarina","oci","ocr","octagon-outline","octagon","octagram-outline","octagram","octahedron-off","octahedron","odnoklassniki","offer","office-building-cog-outline","office-building-cog","office-building-marker-outline","office-building-marker","office-building-minus-outline","office-building-minus","office-building-outline","office-building-plus-outline","office-building-plus","office-building-remove-outline","office-building-remove","office-building","oil-lamp","oil-level","oil","oil-temperature","omega","om","onepassword","one-up","opacity","openid","open-in-app","open-in-new","open-source-initiative","opera","orbit","orbit-variant","order-alphabetical-ascending","order-alphabetical-descending","order-bool-ascending","order-bool-ascending-variant","order-bool-descending","order-bool-descending-variant","order-numeric-ascending","order-numeric-descending","origin","ornament","ornament-variant","outdoor-lamp","overscan","owl","package-check","package-down","package","package-up","package-variant-closed-check","package-variant-closed-minus","package-variant-closed-plus","package-variant-closed-remove","package-variant-closed","package-variant-minus","package-variant-plus","package-variant-remove","package-variant","pac-man","page-first","page-last","page-layout-body","page-layout-footer","page-layout-header-footer","page-layout-header","page-layout-sidebar-left","page-layout-sidebar-right","page-next-outline","page-next","page-previous-outline","page-previous","pail-minus-outline","pail-minus","pail-off-outline","pail-off","pail-outline","pail-plus-outline","pail-plus","pail-remove-outline","pail-remove","pail","palette-advanced","palette-outline","palette","palette-swatch-outline","palette-swatch","palette-swatch-variant","palm-tree","pan-bottom-left","pan-bottom-right","panda","pandora","pan-down","pan-horizontal","pan-left","panorama-fisheye","panorama-horizontal-outline","panorama-horizontal","panorama-outline","panorama-sphere-outline","panorama-sphere","panorama","panorama-variant-outline","panorama-variant","panorama-vertical-outline","panorama-vertical","panorama-wide-angle-outline","panorama-wide-angle","pan-right","pan","pan-top-left","pan-top-right","pan-up","pan-vertical","paperclip-check","paperclip-lock","paperclip-minus","paperclip-off","paperclip-plus","paperclip-remove","paperclip","paper-cut-vertical","paper-roll-outline","paper-roll","parachute-outline","parachute","paragliding","parking","party-popper","passport-biometric","passport","pasta","patio-heater","patreon","pause-box-outline","pause-box","pause-circle-outline","pause-circle","pause-octagon-outline","pause-octagon","pause","paw-off-outline","paw-off","paw-outline","paw","peace","peanut-off-outline","peanut-off","peanut-outline","peanut","pencil-box-multiple-outline","pencil-box-multiple","pencil-box-outline","pencil-box","pencil-circle-outline","pencil-circle","pencil-lock-outline","pencil-lock","pencil-minus-outline","pencil-minus","pencil-off-outline","pencil-off","pencil-outline","pencil-plus-outline","pencil-plus","pencil-remove-outline","pencil-remove","pencil-ruler-outline","pencil-ruler","pencil","penguin","pen-lock","pen-minus","pen-off","pen-plus","pen-remove","pen","pentagon-outline","pentagon","pentagram","percent-box-outline","percent-box","percent-circle-outline","percent-circle","percent-outline","percent","periodic-table","perspective-less","perspective-more","phone-alert-outline","phone-alert","phone-bluetooth-outline","phone-bluetooth","phone-cancel-outline","phone-cancel","phone-check-outline","phone-check","phone-classic-off","phone-classic","phone-clock","phone-dial-outline","phone-dial","phone-forward-outline","phone-forward","phone-hangup-outline","phone-hangup","phone-incoming-outgoing-outline","phone-incoming-outgoing","phone-incoming-outline","phone-incoming","phone-in-talk-outline","phone-in-talk","phone-lock-outline","phone-lock","phone-log-outline","phone-log","phone-message-outline","phone-message","phone-minus-outline","phone-minus","phone-missed-outline","phone-missed","phone-off-outline","phone-off","phone-outgoing-outline","phone-outgoing","phone-outline","phone-paused-outline","phone-paused","phone-plus-outline","phone-plus","phone-refresh-outline","phone-refresh","phone-remove-outline","phone-remove","phone-return-outline","phone-return","phone-ring-outline","phone-ring","phone-rotate-landscape","phone-rotate-portrait","phone-settings-outline","phone-settings","phone","phone-sync-outline","phone-sync","phone-voip","ph","piano-off","piano","pi-box","pickaxe","picture-in-picture-bottom-right-outline","picture-in-picture-bottom-right","picture-in-picture-top-right-outline","picture-in-picture-top-right","pier-crane","pier","piggy-bank-outline","piggy-bank","pig","pig-variant-outline","pig-variant","pi-hole","pillar","pill-multiple","pill-off","pill","pine-tree-box","pine-tree-fire","pine-tree","pin-off-outline","pin-off","pin-outline","pin","pinterest","pinwheel-outline","pinwheel","pipe-disconnected","pipe-leak","pipe","pipe-valve","pipe-wrench","pirate","pistol","piston","pi","pitchfork","pizza","plane-car","plane-train","play-box-lock-open-outline","play-box-lock-open","play-box-lock-outline","play-box-lock","play-box-multiple-outline","play-box-multiple","play-box-outline","play-box","play-circle-outline","play-circle","playlist-check","playlist-edit","playlist-minus","playlist-music-outline","playlist-music","playlist-play","playlist-plus","playlist-remove","playlist-star","play-network-outline","play-network","play-outline","play-pause","play-protected-content","play-speed","play","plex","pliers","plus-box-multiple-outline","plus-box-multiple","plus-box-outline","plus-box","plus-circle-multiple-outline","plus-circle-multiple","plus-circle-outline","plus-circle","plus-lock-open","plus-lock","plus-minus-box","plus-minus","plus-minus-variant","plus-network-outline","plus-network","plus-outline","plus","plus-thick","podcast","podium-bronze","podium-gold","podium-silver","podium","point-of-sale","pokeball","pokemon-go","poker-chip","polaroid","police-badge-outline","police-badge","police-station","poll","polo","polymer","pool","pool-thermometer","popcorn","postage-stamp","post-lamp","post-outline","post","pot-mix-outline","pot-mix","pot-outline","pot-steam-outline","pot-steam","pot","pound-box-outline","pound-box","pound","power-cycle","power-off","power-on","power-plug-off-outline","power-plug-off","power-plug-outline","power-plug","power-settings","powershell","power-sleep","power-socket-au","power-socket-ch","power-socket-de","power-socket-eu","power-socket-fr","power-socket-it","power-socket-jp","power-socket","power-socket-uk","power-socket-us","power-standby","power","prescription","presentation-play","presentation","pretzel","printer-3d-nozzle-alert-outline","printer-3d-nozzle-alert","printer-3d-nozzle-heat-outline","printer-3d-nozzle-heat","printer-3d-nozzle-off-outline","printer-3d-nozzle-off","printer-3d-nozzle-outline","printer-3d-nozzle","printer-3d-off","printer-3d","printer-alert","printer-check","printer-eye","printer-off-outline","printer-off","printer-outline","printer-pos-alert-outline","printer-pos-alert","printer-pos-cancel-outline","printer-pos-cancel","printer-pos-check-outline","printer-pos-check","printer-pos-cog-outline","printer-pos-cog","printer-pos-edit-outline","printer-pos-edit","printer-pos-minus-outline","printer-pos-minus","printer-pos-network-outline","printer-pos-network","printer-pos-off-outline","printer-pos-off","printer-pos-outline","printer-pos-pause-outline","printer-pos-pause","printer-pos-play-outline","printer-pos-play","printer-pos-plus-outline","printer-pos-plus","printer-pos-refresh-outline","printer-pos-refresh","printer-pos-remove-outline","printer-pos-remove","printer-pos-star-outline","printer-pos-star","printer-pos-stop-outline","printer-pos-stop","printer-pos","printer-pos-sync-outline","printer-pos-sync","printer-pos-wrench-outline","printer-pos-wrench","printer-search","printer-settings","printer","printer-wireless","priority-high","priority-low","professional-hexagon","progress-alert","progress-check","progress-clock","progress-close","progress-download","progress-helper","progress-pencil","progress-question","progress-star","progress-upload","progress-wrench","projector-off","projector-screen-off-outline","projector-screen-off","projector-screen-outline","projector-screen","projector-screen-variant-off-outline","projector-screen-variant-off","projector-screen-variant-outline","projector-screen-variant","projector","propane-tank-outline","propane-tank","protocol","publish-off","publish","pulse","pumpkin","pump-off","pump","purse-outline","purse","puzzle-check-outline","puzzle-check","puzzle-edit-outline","puzzle-edit","puzzle-heart-outline","puzzle-heart","puzzle-minus-outline","puzzle-minus","puzzle-outline","puzzle-plus-outline","puzzle-plus","puzzle-remove-outline","puzzle-remove","puzzle-star-outline","puzzle-star","puzzle","pyramid-off","pyramid","qi","qqchat","qrcode-edit","qrcode-minus","qrcode-plus","qrcode-remove","qrcode-scan","qrcode","quadcopter","quality-high","quality-low","quality-medium","quora","rabbit","rabbit-variant-outline","rabbit-variant","racing-helmet","racquetball","radar","radiator-disabled","radiator-off","radiator","radioactive-circle-outline","radioactive-circle","radioactive-off","radioactive","radio-am","radiobox-blank","radiobox-marked","radio-fm","radio-handheld","radiology-box-outline","radiology-box","radio-off","radio","radio-tower","radius-outline","radius","railroad-light","rake","raspberry-pi","raw-off","raw","ray-end-arrow","ray-end","ray-start-arrow","ray-start-end","ray-start","ray-start-vertex-end","ray-vertex","razor-double-edge","razor-single-edge","react","read","receipt-outline","receipt","receipt-text-check-outline","receipt-text-check","receipt-text-minus-outline","receipt-text-minus","receipt-text-outline","receipt-text-plus-outline","receipt-text-plus","receipt-text-remove-outline","receipt-text-remove","receipt-text","record-circle-outline","record-circle","record-player","record-rec","record","rectangle-outline","rectangle","recycle","recycle-variant","reddit","redhat","redo","redo-variant","reflect-horizontal","reflect-vertical","refresh-auto","refresh-circle","refresh","regex","registered-trademark","reiterate","relation-many-to-many","relation-many-to-one-or-many","relation-many-to-one","relation-many-to-only-one","relation-many-to-zero-or-many","relation-many-to-zero-or-one","relation-one-or-many-to-many","relation-one-or-many-to-one-or-many","relation-one-or-many-to-one","relation-one-or-many-to-only-one","relation-one-or-many-to-zero-or-many","relation-one-or-many-to-zero-or-one","relation-one-to-many","relation-one-to-one-or-many","relation-one-to-one","relation-one-to-only-one","relation-one-to-zero-or-many","relation-one-to-zero-or-one","relation-only-one-to-many","relation-only-one-to-one-or-many","relation-only-one-to-one","relation-only-one-to-only-one","relation-only-one-to-zero-or-many","relation-only-one-to-zero-or-one","relation-zero-or-many-to-many","relation-zero-or-many-to-one-or-many","relation-zero-or-many-to-one","relation-zero-or-many-to-only-one","relation-zero-or-many-to-zero-or-many","relation-zero-or-many-to-zero-or-one","relation-zero-or-one-to-many","relation-zero-or-one-to-one-or-many","relation-zero-or-one-to-one","relation-zero-or-one-to-only-one","relation-zero-or-one-to-zero-or-many","relation-zero-or-one-to-zero-or-one","relative-scale","reload-alert","reload","reminder","remote-desktop","remote-off","remote","remote-tv-off","remote-tv","rename-box-outline","rename-box","rename-outline","rename","reorder-horizontal","reorder-vertical","repeat-off","repeat-once","repeat","repeat-variant","replay","reply-all-outline","reply-all","reply-circle","reply-outline","reply","reproduction","resistor-nodes","resistor","resize-bottom-right","resize","responsive","restart-alert","restart-off","restart","restore-alert","restore","rewind-10","rewind-15","rewind-30","rewind-45","rewind-5","rewind-60","rewind-outline","rewind","rhombus-medium-outline","rhombus-medium","rhombus-outline","rhombus-split-outline","rhombus-split","rhombus","ribbon","rice","rickshaw-electric","rickshaw","ring","rivet","road","road-variant","robber","robot-angry-outline","robot-angry","robot-confused-outline","robot-confused","robot-dead-outline","robot-dead","robot-excited-outline","robot-excited","robot-happy-outline","robot-happy","robot-industrial-outline","robot-industrial","robot-love-outline","robot-love","robot-mower-outline","robot-mower","robot-off-outline","robot-off","robot-outline","robot","robot-vacuum-alert","robot-vacuum-off","robot-vacuum","robot-vacuum-variant-alert","robot-vacuum-variant-off","robot-vacuum-variant","rocket-launch-outline","rocket-launch","rocket-outline","rocket","rodent","rollerblade-off","rollerblade","roller-shade-closed","roller-shade","roller-skate-off","roller-skate","rollupjs","rolodex-outline","rolodex","roman-numeral-10","roman-numeral-1","roman-numeral-2","roman-numeral-3","roman-numeral-4","roman-numeral-5","roman-numeral-6","roman-numeral-7","roman-numeral-8","roman-numeral-9","room-service-outline","room-service","rotate-360","rotate-3d","rotate-3d-variant","rotate-left","rotate-left-variant","rotate-orbit","rotate-right","rotate-right-variant","rounded-corner","router-network","router","router-wireless-off","router-wireless-settings","router-wireless","routes-clock","routes","rowing","rss-box","rss-off","rss","rugby","rug","ruler-square-compass","ruler-square","ruler","run-fast","run","rv-truck","sack-percent","sack","safe-square-outline","safe-square","safe","safety-goggles","sail-boat-sink","sail-boat","sale-outline","salesforce","sale","sass","satellite","satellite-uplink","satellite-variant","sausage-off","sausage","saw-blade","sawtooth-wave","saxophone","scale-balance","scale-bathroom","scale-off","scale","scale-unbalanced","scan-helper","scanner-off","scanner","scatter-plot-outline","scatter-plot","scent-off","scent","school-outline","school","scissors-cutting","scooter-electric","scooter","scoreboard-outline","scoreboard","screen-rotation-lock","screen-rotation","screwdriver","screw-flat-top","screw-lag","screw-machine-flat-top","screw-machine-round-top","screw-round-top","script-outline","script","script-text-key-outline","script-text-key","script-text-outline","script-text-play-outline","script-text-play","script-text","sd","seal","seal-variant","search-web","seatbelt","seat-flat-angled","seat-flat","seat-individual-suite","seat-legroom-extra","seat-legroom-normal","seat-legroom-reduced","seat-outline","seat-passenger","seat-recline-extra","seat-recline-normal","seat","security-network","security","seed-off-outline","seed-off","seed-outline","seed-plus-outline","seed-plus","seed","seesaw","segment","select-all","select-arrow-down","select-arrow-up","select-color","select-compare","select-drag","select-group","select-inverse","selection-drag","selection-ellipse-arrow-inside","selection-ellipse-remove","selection-ellipse","selection-marker","selection-multiple-marker","selection-multiple","selection-off","selection-remove","selection-search","selection","select-marker","select-multiple-marker","select-multiple","select-off","select-place","select-remove","select-search","select","semantic-web","send-check-outline","send-check","send-circle-outline","send-circle","send-clock-outline","send-clock","send-lock-outline","send-lock","send-outline","send","serial-port","server-minus","server-network-off","server-network","server-off","server-plus","server-remove","server-security","server","set-all","set-center-right","set-center","set-left-center","set-left-right","set-left","set-merge","set-none","set-right","set-split","set-square","settings-helper","set-top-box","shaker-outline","shaker","shape-circle-plus","shape-outline","shape-oval-plus","shape-plus","shape-polygon-plus","shape-rectangle-plus","shape-square-plus","shape-square-rounded-plus","shape","share-all-outline","share-all","share-circle","share-off-outline","share-off","share-outline","share","share-variant-outline","share-variant","shark-fin-outline","shark-fin","shark-off","shark","sheep","shield-account-outline","shield-account","shield-account-variant-outline","shield-account-variant","shield-airplane-outline","shield-airplane","shield-alert-outline","shield-alert","shield-bug-outline","shield-bug","shield-car","shield-check-outline","shield-check","shield-cross-outline","shield-cross","shield-crown-outline","shield-crown","shield-edit-outline","shield-edit","shield-half-full","shield-half","shield-home-outline","shield-home","shield-key-outline","shield-key","shield-link-variant-outline","shield-link-variant","shield-lock-open-outline","shield-lock-open","shield-lock-outline","shield-lock","shield-moon-outline","shield-moon","shield-off-outline","shield-off","shield-outline","shield-plus-outline","shield-plus","shield-refresh-outline","shield-refresh","shield-remove-outline","shield-remove","shield-search","shield-star-outline","shield-star","shield-sun-outline","shield-sun","shield","shield-sword-outline","shield-sword","shield-sync-outline","shield-sync","shimmer","shipping-pallet","ship-wheel","shoe-ballet","shoe-cleat","shoe-formal","shoe-heel","shoe-print","shoe-sneaker","shopping-music","shopping-outline","shopping-search-outline","shopping-search","shopping","shore","shovel-off","shovel","shower-head","shower","shredder","shuffle-disabled","shuffle","shuffle-variant","shuriken","sickle","sigma-lower","sigma","signal-2g","signal-3g","signal-4g","signal-5g","signal-cellular-1","signal-cellular-2","signal-cellular-3","signal-cellular-outline","signal-distance-variant","signal-hspa-plus","signal-hspa","signal-off","signal","signal-variant","signature-freehand","signature-image","signature","signature-text","sign-caution","sign-direction-minus","sign-direction-plus","sign-direction-remove","sign-direction","sign-language-outline","sign-language","sign-pole","sign-real-estate","sign-text","sign-yield","silo-outline","silo","silverware-clean","silverware-fork-knife","silverware-fork","silverware-spoon","silverware","silverware-variant","sim-alert-outline","sim-alert","sim-off-outline","sim-off","sim-outline","simple-icons","sim","sina-weibo","sine-wave","sitemap-outline","sitemap","size-l","size-m","size-s","size-xl","size-xs","size-xxl","size-xxs","size-xxxl","skateboarding","skateboard","skate-off","skate","skew-less","skew-more","ski-cross-country","skip-backward-outline","skip-backward","skip-forward-outline","skip-forward","skip-next-circle-outline","skip-next-circle","skip-next-outline","skip-next","skip-previous-circle-outline","skip-previous-circle","skip-previous-outline","skip-previous","ski","ski-water","skull-crossbones-outline","skull-crossbones","skull-outline","skull-scan-outline","skull-scan","skull","skype-business","skype","slack","slash-forward-box","slash-forward","sledding","sleep-off","sleep","slide","slope-downhill","slope-uphill","slot-machine-outline","slot-machine","smart-card-off-outline","smart-card-off","smart-card-outline","smart-card-reader-outline","smart-card-reader","smart-card","smog","smoke-detector-alert-outline","smoke-detector-alert","smoke-detector-off-outline","smoke-detector-off","smoke-detector-outline","smoke-detector","smoke-detector-variant-alert","smoke-detector-variant-off","smoke-detector-variant","smoke","smoking-off","smoking-pipe-off","smoking-pipe","smoking","snail","snake","snapchat","snowboard","snowflake-alert","snowflake-check","snowflake-melt","snowflake-off","snowflake","snowflake-thermometer","snowflake-variant","snowman","snowmobile","snowshoeing","soccer-field","soccer","social-distance-2-meters","social-distance-6-feet","sofa-outline","sofa-single-outline","sofa-single","sofa","solar-panel-large","solar-panel","solar-power","solar-power-variant-outline","solar-power-variant","soldering-iron","solid","sony-playstation","sort-alphabetical-ascending","sort-alphabetical-ascending-variant","sort-alphabetical-descending","sort-alphabetical-descending-variant","sort-alphabetical-variant","sort-ascending","sort-bool-ascending","sort-bool-ascending-variant","sort-bool-descending","sort-bool-descending-variant","sort-calendar-ascending","sort-calendar-descending","sort-clock-ascending-outline","sort-clock-ascending","sort-clock-descending-outline","sort-clock-descending","sort-descending","sort-numeric-ascending","sort-numeric-ascending-variant","sort-numeric-descending","sort-numeric-descending-variant","sort-numeric-variant","sort-reverse-variant","sort","sort-variant-lock-open","sort-variant-lock","sort-variant-off","sort-variant-remove","sort-variant","soundbar","soundcloud","source-branch-check","source-branch-minus","source-branch-plus","source-branch-refresh","source-branch-remove","source-branch","source-branch-sync","source-commit-end-local","source-commit-end","source-commit-local","source-commit-next-local","source-commit-start-next-local","source-commit-start","source-commit","source-fork","source-merge","source-pull","source-repository-multiple","source-repository","soy-sauce-off","soy-sauce","space-invaders","space-station","spade","spa-outline","spa","speaker-bluetooth","speaker-message","speaker-multiple","speaker-off","speaker-pause","speaker-play","speaker-stop","speaker","speaker-wireless","spear","speedometer-medium","speedometer-slow","speedometer","spellcheck","sphere-off","sphere","spider","spider-thread","spider-web","spirit-level","spoon-sugar","spotify","spotlight-beam","spotlight","spray-bottle","spray","sprinkler-fire","sprinkler","sprinkler-variant","sprout-outline","sprout","square-circle","square-edit-outline","square-medium-outline","square-medium","square-off-outline","square-off","square-opacity","square-outline","square-root-box","square-root","square-rounded-badge-outline","square-rounded-badge","square-rounded-outline","square-rounded","square-small","square","square-wave","squeegee","ssh","stack-exchange","stack-overflow","stackpath","stadium-outline","stadium","stadium-variant","stairs-box","stairs-down","stairs","stairs-up","stamper","standard-definition","star-box-multiple-outline","star-box-multiple","star-box-outline","star-box","star-check-outline","star-check","star-circle-outline","star-circle","star-cog-outline","star-cog","star-crescent","star-david","star-face","star-four-points-outline","star-four-points","star-half-full","star-half","star-minus-outline","star-minus","star-off-outline","star-off","star-outline","star-plus-outline","star-plus","star-remove-outline","star-remove","star-settings-outline","star-settings","star-shooting-outline","star-shooting","star","star-three-points-outline","star-three-points","state-machine","steam","steering-off","steering","step-backward-2","step-backward","step-forward-2","step-forward","stethoscope","sticker-alert-outline","sticker-alert","sticker-check-outline","sticker-check","sticker-circle-outline","sticker-emoji","sticker-minus-outline","sticker-minus","sticker-outline","sticker-plus-outline","sticker-plus","sticker-remove-outline","sticker-remove","sticker","sticker-text-outline","sticker-text","stocking","stomach","stool-outline","stool","stop-circle-outline","stop-circle","stop","storage-tank-outline","storage-tank","store-24-hour","store-alert-outline","store-alert","store-check-outline","store-check","store-clock-outline","store-clock","store-cog-outline","store-cog","store-edit-outline","store-edit","storefront-check-outline","storefront-check","storefront-edit-outline","storefront-edit","storefront-minus-outline","storefront-minus","storefront-outline","storefront-plus-outline","storefront-plus","storefront-remove-outline","storefront-remove","storefront","store-marker-outline","store-marker","store-minus-outline","store-minus","store-off-outline","store-off","store-outline","store-plus-outline","store-plus","store-remove-outline","store-remove","store-search-outline","store-search","store-settings-outline","store-settings","store","stove","strategy","stretch-to-page-outline","stretch-to-page","string-lights-off","string-lights","subdirectory-arrow-left","subdirectory-arrow-right","submarine","subtitles-outline","subtitles","subway-alert-variant","subway","subway-variant","summit","sun-angle-outline","sun-angle","sun-clock-outline","sun-clock","sun-compass","sunglasses","sun-snowflake","sun-snowflake-variant","sun-thermometer-outline","sun-thermometer","sun-wireless-outline","sun-wireless","surfing","surround-sound-2-0","surround-sound-2-1","surround-sound-3-1","surround-sound-5-1-2","surround-sound-5-1","surround-sound-7-1","surround-sound","svg","swap-horizontal-bold","swap-horizontal-circle-outline","swap-horizontal-circle","swap-horizontal","swap-horizontal-variant","swap-vertical-bold","swap-vertical-circle-outline","swap-vertical-circle","swap-vertical","swap-vertical-variant","swim","switch","sword-cross","sword","syllabary-hangul","syllabary-hiragana","syllabary-katakana-halfwidth","syllabary-katakana","symbol","symfony","synagogue-outline","synagogue","sync-alert","sync-circle","sync-off","sync","table-account","table-alert","table-arrow-down","table-arrow-left","table-arrow-right","table-arrow-up","table-border","table-cancel","table-chair","table-check","table-clock","table-cog","table-column-plus-after","table-column-plus-before","table-column-remove","table-column","table-column-width","table-edit","table-eye-off","table-eye","table-filter","table-furniture","table-headers-eye-off","table-headers-eye","table-heart","table-key","table-large-plus","table-large-remove","table-large","table-lock","table-merge-cells","table-minus","table-multiple","table-network","table-of-contents","table-off","table-picnic","table-pivot","table-plus","table-question","table-refresh","table-remove","table-row-height","table-row-plus-after","table-row-plus-before","table-row-remove","table-row","table-search","table-settings","table-split-cell","table-star","table","table-sync","tablet-cellphone","tablet-dashboard","table-tennis","tablet","tab-minus","tab-plus","tab-remove","tab-search","tab","tab-unselected","taco","tag-arrow-down-outline","tag-arrow-down","tag-arrow-left-outline","tag-arrow-left","tag-arrow-right-outline","tag-arrow-right","tag-arrow-up-outline","tag-arrow-up","tag-check-outline","tag-check","tag-faces","tag-heart-outline","tag-heart","tag-minus-outline","tag-minus","tag-multiple-outline","tag-multiple","tag-off-outline","tag-off","tag-outline","tag-plus-outline","tag-plus","tag-remove-outline","tag-remove","tag-search-outline","tag-search","tag","tag-text-outline","tag-text","tailwind","tally-mark-1","tally-mark-2","tally-mark-3","tally-mark-4","tally-mark-5","tangram","tanker-truck","tank","tape-drive","tape-measure","target-account","target","target-variant","taxi","teamviewer","tea-outline","tea","teddy-bear","telescope","television-ambient-light","television-box","television-classic-off","television-classic","television-guide","television-off","television-pause","television-play","television-shimmer","television-speaker-off","television-speaker","television-stop","television","temperature-celsius","temperature-fahrenheit","temperature-kelvin","temple-buddhist-outline","temple-buddhist","temple-hindu-outline","temple-hindu","tennis-ball","tennis","tent","terraform","terrain","test-tube-empty","test-tube-off","test-tube","text-account","text-box-check-outline","text-box-check","text-box-edit-outline","text-box-edit","text-box-minus-outline","text-box-minus","text-box-multiple-outline","text-box-multiple","text-box-outline","text-box-plus-outline","text-box-plus","text-box-remove-outline","text-box-remove","text-box-search-outline","text-box-search","text-box","text-long","text-recognition","text-search","text-search-variant","text-shadow","text-short","text","texture-box","texture","theater","theme-light-dark","thermometer-alert","thermometer-auto","thermometer-bluetooth","thermometer-check","thermometer-chevron-down","thermometer-chevron-up","thermometer-high","thermometer-lines","thermometer-low","thermometer-minus","thermometer-off","thermometer-plus","thermometer-probe-off","thermometer-probe","thermometer","thermometer-water","thermostat-auto","thermostat-box-auto","thermostat-box","thermostat","thought-bubble-outline","thought-bubble","thumb-down-outline","thumb-down","thumbs-up-down-outline","thumbs-up-down","thumb-up-outline","thumb-up","ticket-account","ticket-confirmation-outline","ticket-confirmation","ticket-outline","ticket-percent-outline","ticket-percent","ticket","tie","tilde-off","tilde","timelapse","timeline-alert-outline","timeline-alert","timeline-check-outline","timeline-check","timeline-clock-outline","timeline-clock","timeline-minus-outline","timeline-minus","timeline-outline","timeline-plus-outline","timeline-plus","timeline-question-outline","timeline-question","timeline-remove-outline","timeline-remove","timeline","timeline-text-outline","timeline-text","timer-10","timer-3","timer-alert-outline","timer-alert","timer-cancel-outline","timer-cancel","timer-check-outline","timer-check","timer-cog-outline","timer-cog","timer-edit-outline","timer-edit","timer-lock-open-outline","timer-lock-open","timer-lock-outline","timer-lock","timer-marker-outline","timer-marker","timer-minus-outline","timer-minus","timer-music-outline","timer-music","timer-off-outline","timer-off","timer-outline","timer-pause-outline","timer-pause","timer-play-outline","timer-play","timer-plus-outline","timer-plus","timer-refresh-outline","timer-refresh","timer-remove-outline","timer-remove","timer-sand-complete","timer-sand-empty","timer-sand-full","timer-sand-paused","timer-sand","timer-settings-outline","timer-settings","timer-star-outline","timer-star","timer-stop-outline","timer-stop","timer","timer-sync-outline","timer-sync","timetable","tire","toaster-off","toaster-oven","toaster","toggle-switch-off-outline","toggle-switch-off","toggle-switch-outline","toggle-switch","toggle-switch-variant-off","toggle-switch-variant","toilet","toolbox-outline","toolbox","tools","tooltip-account","tooltip-cellphone","tooltip-check-outline","tooltip-check","tooltip-edit-outline","tooltip-edit","tooltip-image-outline","tooltip-image","tooltip-minus-outline","tooltip-minus","tooltip-outline","tooltip-plus-outline","tooltip-plus","tooltip-question-outline","tooltip-question","tooltip-remove-outline","tooltip-remove","tooltip","tooltip-text-outline","tooltip-text","toothbrush-electric","toothbrush-paste","toothbrush","tooth-outline","tooth","torch","tortoise","toslink","tournament","tower-beach","tower-fire","town-hall","tow-truck","toy-brick-marker-outline","toy-brick-marker","toy-brick-minus-outline","toy-brick-minus","toy-brick-outline","toy-brick-plus-outline","toy-brick-plus","toy-brick-remove-outline","toy-brick-remove","toy-brick-search-outline","toy-brick-search","toy-brick","track-light-off","track-light","trackpad-lock","trackpad","tractor","tractor-variant","trademark","traffic-cone","traffic-light-outline","traffic-light","train-car-autorack","train-car-box-full","train-car-box-open","train-car-box","train-car-caboose","train-car-centerbeam-full","train-car-centerbeam","train-car-container","train-car-flatbed-car","train-car-flatbed","train-car-flatbed-tank","train-car-gondola-full","train-car-gondola","train-car-hopper-covered","train-car-hopper-full","train-car-hopper","train-car-intermodal","train-car-passenger-door-open","train-car-passenger-door","train-car-passenger","train-car-passenger-variant","train-car","train-car-tank","train","train-variant","tram-side","tram","transcribe-close","transcribe","transfer-down","transfer-left","transfer-right","transfer","transfer-up","transit-connection-horizontal","transit-connection","transit-connection-variant","transit-detour","transition-masked","transition","transit-skip","transit-transfer","translate-off","translate","translate-variant","transmission-tower-export","transmission-tower-import","transmission-tower-off","transmission-tower","trash-can-outline","trash-can","tray-alert","tray-arrow-down","tray-arrow-up","tray-full","tray-minus","tray-plus","tray-remove","tray","treasure-chest","tree-outline","tree","trello","trending-down","trending-neutral","trending-up","triangle-outline","triangle-small-down","triangle-small-up","triangle","triangle-wave","triforce","trophy-award","trophy-broken","trophy-outline","trophy","trophy-variant-outline","trophy-variant","truck-alert-outline","truck-alert","truck-cargo-container","truck-check-outline","truck-check","truck-delivery-outline","truck-delivery","truck-fast-outline","truck-fast","truck-flatbed","truck-minus-outline","truck-minus","truck-outline","truck-plus-outline","truck-plus","truck-remove-outline","truck-remove","truck-snowflake","truck","truck-trailer","trumpet","tshirt-crew-outline","tshirt-crew","tshirt-v-outline","tshirt-v","tsunami","tumble-dryer-alert","tumble-dryer-off","tumble-dryer","tune","tune-variant","tune-vertical","tune-vertical-variant","tunnel-outline","tunnel","turbine","turkey","turnstile-outline","turnstile","turtle","twitch","twitter","two-factor-authentication","typewriter","ubisoft","ubuntu","ufo-outline","ufo","ultra-high-definition","umbraco","umbrella-beach-outline","umbrella-beach","umbrella-closed-outline","umbrella-closed","umbrella-closed-variant","umbrella-outline","umbrella","undo","undo-variant","unfold-less-horizontal","unfold-less-vertical","unfold-more-horizontal","unfold-more-vertical","ungroup","unicode","unicorn","unicorn-variant","unicycle","unity","unreal","update","upload-lock-outline","upload-lock","upload-multiple","upload-network-outline","upload-network","upload-off-outline","upload-off","upload-outline","upload","usb-flash-drive-outline","usb-flash-drive","usb-port","usb","vacuum-outline","vacuum","valve-closed","valve-open","valve","vanish-quarter","vanish","vanity-light","van-passenger","van-utility","variable-box","variable","vector-arrange-above","vector-arrange-below","vector-bezier","vector-circle","vector-circle-variant","vector-combine","vector-curve","vector-difference-ab","vector-difference-ba","vector-difference","vector-ellipse","vector-intersection","vector-line","vector-link","vector-point-edit","vector-point-minus","vector-point-plus","vector-point-select","vector-point","vector-polygon","vector-polygon-variant","vector-polyline-edit","vector-polyline-minus","vector-polyline-plus","vector-polyline-remove","vector-polyline","vector-radius","vector-rectangle","vector-selection","vector-square-close","vector-square-edit","vector-square-minus","vector-square-open","vector-square-plus","vector-square-remove","vector-square","vector-triangle","vector-union","vhs","vibrate-off","vibrate","video-2d","video-3d-off","video-3d","video-3d-variant","video-4k-box","video-account","video-box-off","video-box","video-check-outline","video-check","video-high-definition","video-image","video-input-antenna","video-input-component","video-input-hdmi","video-input-scart","video-input-svideo","video-marker-outline","video-marker","video-minus-outline","video-minus","video-off-outline","video-off","video-outline","video-plus-outline","video-plus","video-stabilization","video","video-switch-outline","video-switch","video-vintage","video-wireless-outline","video-wireless","view-agenda-outline","view-agenda","view-array-outline","view-array","view-carousel-outline","view-carousel","view-column-outline","view-column","view-comfy-outline","view-comfy","view-compact-outline","view-compact","view-dashboard-edit-outline","view-dashboard-edit","view-dashboard-outline","view-dashboard","view-dashboard-variant-outline","view-dashboard-variant","view-day-outline","view-day","view-gallery-outline","view-gallery","view-grid-outline","view-grid-plus-outline","view-grid-plus","view-grid","view-headline","view-list-outline","view-list","view-module-outline","view-module","view-parallel-outline","view-parallel","view-quilt-outline","view-quilt","view-sequential-outline","view-sequential","view-split-horizontal","view-split-vertical","view-stream-outline","view-stream","view-week-outline","view-week","vimeo","violin","virtual-reality","virus-off-outline","virus-off","virus-outline","virus","vlc","voicemail","volcano-outline","volcano","volleyball","volume-equal","volume-high","volume-low","volume-medium","volume-minus","volume-mute","volume-off","volume-plus","volume-source","volume-variant-off","volume-vibrate","vote-outline","vote","vpn","vuejs","vuetify","walk","wallet-giftcard","wallet-membership","wallet-outline","wallet-plus-outline","wallet-plus","wallet","wallet-travel","wall-fire","wallpaper","wall-sconce-flat-outline","wall-sconce-flat","wall-sconce-flat-variant-outline","wall-sconce-flat-variant","wall-sconce-outline","wall-sconce-round-outline","wall-sconce-round","wall-sconce-round-variant-outline","wall-sconce-round-variant","wall-sconce","wall","wan","wardrobe-outline","wardrobe","warehouse","washing-machine-alert","washing-machine-off","washing-machine","watch-export","watch-export-variant","watch-import","watch-import-variant","watch","watch-variant","watch-vibrate-off","watch-vibrate","water-alert-outline","water-alert","water-boiler-alert","water-boiler-auto","water-boiler-off","water-boiler","water-check-outline","water-check","water-circle","waterfall","watering-can-outline","watering-can","watermark","water-minus-outline","water-minus","water-off-outline","water-off","water-opacity","water-outline","water-percent-alert","water-percent","water-plus-outline","water-plus","water-polo","water-pump-off","water-pump","water-remove-outline","water-remove","water","water-sync","water-thermometer-outline","water-thermometer","water-well-outline","water-well","waveform","waves-arrow-left","waves-arrow-right","waves-arrow-up","waves","wave","waze","weather-cloudy-alert","weather-cloudy-arrow-right","weather-cloudy-clock","weather-cloudy","weather-dust","weather-fog","weather-hail","weather-hazy","weather-hurricane","weather-lightning-rainy","weather-lightning","weather-night-partly-cloudy","weather-night","weather-partly-cloudy","weather-partly-lightning","weather-partly-rainy","weather-partly-snowy-rainy","weather-partly-snowy","weather-pouring","weather-rainy","weather-snowy-heavy","weather-snowy-rainy","weather-snowy","weather-sunny-alert","weather-sunny-off","weather-sunny","weather-sunset-down","weather-sunset","weather-sunset-up","weather-tornado","weather-windy","weather-windy-variant","web-box","webcam-off","webcam","web-cancel","web-check","web-clock","webhook","web-minus","web-off","webpack","web-plus","web-refresh","web-remove","webrtc","web","web-sync","wechat","weight-gram","weight-kilogram","weight-lifter","weight-pound","weight","whatsapp","wheel-barrow","wheelchair-accessibility","wheelchair","whistle-outline","whistle","white-balance-auto","white-balance-incandescent","white-balance-iridescent","white-balance-sunny","widgets-outline","widgets","wifi-alert","wifi-arrow-down","wifi-arrow-left-right","wifi-arrow-left","wifi-arrow-right","wifi-arrow-up-down","wifi-arrow-up","wifi-cancel","wifi-check","wifi-cog","wifi-lock-open","wifi-lock","wifi-marker","wifi-minus","wifi-off","wifi-plus","wifi-refresh","wifi-remove","wifi-settings","wifi-star","wifi-strength-1-alert","wifi-strength-1-lock-open","wifi-strength-1-lock","wifi-strength-1","wifi-strength-2-alert","wifi-strength-2-lock-open","wifi-strength-2-lock","wifi-strength-2","wifi-strength-3-alert","wifi-strength-3-lock-open","wifi-strength-3-lock","wifi-strength-3","wifi-strength-4-alert","wifi-strength-4-lock-open","wifi-strength-4-lock","wifi-strength-4","wifi-strength-alert-outline","wifi-strength-lock-open-outline","wifi-strength-lock-outline","wifi-strength-off-outline","wifi-strength-off","wifi-strength-outline","wifi","wifi-sync","wikipedia","window-closed","window-closed-variant","window-close","window-maximize","window-minimize","window-open","window-open-variant","window-restore","window-shutter-alert","window-shutter-auto","window-shutter-cog","window-shutter-open","window-shutter-settings","window-shutter","wind-power-outline","wind-power","windsock","wind-turbine-alert","wind-turbine-check","wind-turbine","wiper","wiper-wash-alert","wiper-wash","wizard-hat","wordpress","wrap-disabled","wrap","wrench-check-outline","wrench-check","wrench-clock-outline","wrench-clock","wrench-cog-outline","wrench-cog","wrench-outline","wrench","xamarin","xml","xmpp","yahoo","yeast","yin-yang","yoga","youtube-gaming","youtube-studio","youtube-subscription","youtube","youtube-tv","yurt","zend","zigbee","zip-box-outline","zip-box","zip-disk","zodiac-aquarius","zodiac-aries","zodiac-cancer","zodiac-capricorn","zodiac-gemini","zodiac-leo","zodiac-libra","zodiac-pisces","zodiac-sagittarius","zodiac-scorpio","zodiac-taurus","zodiac-virgo","z-wave"],Ec=(0,br.Z)((function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,yr.Z)(this,e),this.edgeLabel=t,this.children={},this.isWord=r})),Dc=function(){function e(t){(0,yr.Z)(this,e),this.root=new Ec(""),t&&this.addWords(t)}return(0,br.Z)(e,[{key:"addWords",value:function(e){var t,r=(0,u.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.addWord(i)}}catch(o){r.e(o)}finally{r.f()}}},{key:"addWord",value:function(e){e=e.toLowerCase();for(var t=this.root,r=0;r<e.length;r++){var i=e[r];if(!(i in t.children)){var o=new Ec(e.substr(r),!0);return void(t.children[i]=o)}var n=t.children[i].edgeLabel,a=Ac(n,e.substr(r));if(n===e.substr(r))return void(t.children[i].isWord=!0);if(a.length<n.length&&a.length===e.substr(r).length){var s=new Ec(e.substr(r),!0);return s.children[n[a.length]]=t.children[i],s.children[n[a.length]].edgeLabel=n.substr(a.length),void(t.children[i]=s)}if(a.length<n.length&&a.length<e.substr(r).length){var l=new Ec(a);return l.children[n[a.length]]=t.children[i],l.children[n[a.length]].edgeLabel=n.substr(a.length),t.children[i]=l,void(l.children[e.substr(r)[a.length]]=new Ec(e.substr(r+a.length),!0))}r+=n.length-1,t=t.children[i]}}},{key:"getWords",value:function(){var e=(0,h.Z)((0,d.Z)().mark((function e(t){var r,i,o,n,a,s,l,c,u;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:u=function(){return u=(0,h.Z)((0,d.Z)().mark((function e(t,r){var i,o,n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isWord&&l.push(r),0!==Object.keys(t.children).length){e.next=3;break}return e.abrupt("return");case 3:i=0,o=Object.keys(t.children);case 4:if(!(i<o.length)){e.next=11;break}return n=o[i],e.next=8,c(t.children[n],r.concat(t.children[n].edgeLabel));case 8:i++,e.next=4;break;case 11:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)},c=function(e,t){return u.apply(this,arguments)},t=t.toLowerCase(),r="",i=this.root,o=0;case 6:if(!(o<t.length)){e.next=22;break}if(n=t[o],!(n in i.children)){e.next=18;break}if(a=i.children[n].edgeLabel,s=Ac(a,t.substr(o)),s.length===a.length||s.length===t.substr(o).length){e.next=13;break}return e.abrupt("return",[]);case 13:r=r.concat(i.children[n].edgeLabel),o+=i.children[n].edgeLabel.length-1,i=i.children[n],e.next=19;break;case 18:return e.abrupt("return",[]);case 19:o++,e.next=6;break;case 22:return l=[],e.next=25,c(i,r);case 25:return e.abrupt("return",l);case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSyncWords",value:function(e){e=e.toLowerCase();for(var t="",r=this.root,i=0;i<e.length;i++){var o=e[i];if(!(o in r.children))return[];var n=r.children[o].edgeLabel,a=Ac(n,e.substr(i));if(a.length!==n.length&&a.length!==e.substr(i).length)return[];t=t.concat(r.children[o].edgeLabel),i+=r.children[o].edgeLabel.length-1,r=r.children[o]}var s=[];function l(e,t){if(e.isWord&&s.push(t),0!==Object.keys(e.children).length)for(var r=0,i=Object.keys(e.children);r<i.length;r++){var o=i[r];l(e.children[o],t.concat(e.children[o].edgeLabel))}}return l(r,t),s}}]),e}();function Ac(e,t){for(var r="",i=0;i<Math.min(e.length,t.length);i++){if(e[i]!==t[i])return r;r+=e[i]}return r}var Pc={name:"MdiIconPicker",props:{defaultIcon:{type:String,default:function(){return"map-marker"}},label:{type:String,default:function(){return"Color"}}},data:function(){return{loading:!1,showDialog:!1,searchIcon:"",selectedIcon:this.defaultIcon,radix:new Dc(Cc),items:[],page:0,itemsToDisplay:[],itemsPerRender:100,minLoadingDuration:50,debouncedWatch:O((function(e,t,r){r(e)}),255)}},created:function(){this.updateList(),this.$watch("data",(function(){this.updateList()}),{deep:!0})},mounted:function(){this.loadItems()},methods:{onScroll:function(){this.loadItems()},saveIcon:function(e){this.selectedIcon=e,this.showDialog=!1,this.$emit("onSelect",this.selectedIcon)},updateList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=(0,gr.F3)(e,this.itemsPerRender);this.items=t,this.itemsToDisplay=t[0]},loadItems:function(){var e=this;if(this.page!==this.items.length-1){var t=this.$refs["end-of-list"];if(t){var r=t.getBoundingClientRect();if(r.top>=0&&r.bottom<=window.innerHeight&&!this.loading){this.loading=!0,this.page++;var i=performance.now(),o=[].concat((0,pc.Z)(this.itemsToDisplay),(0,pc.Z)(this.items[this.page])),n=performance.now(),a=n-i,s=n-i>this.minLoadingDuration?0:this.minLoadingDuration-a;setTimeout((function(){e.itemsToDisplay=o,e.loading=!1,e.loadItems()}),s)}}}}},watch:{searchIcon:function(e,t){var r=this;this.loading=!0,this.debouncedWatch(e,t,(function(e){r.page=0,r.updateList(r.radix.getSyncWords(e)),r.loading=!1}))}}};const Rc=(0,Rn.Z)(Pc,[["render",Ic],["__scopeId","data-v-bfa0b52e"]]);var Mc=Rc,Oc=r(40652),Lc=r(17126);function zc(e,t,r,i,n,a){return(0,o.wg)(),(0,o.j4)(Xn.B,{modelValue:n.showDialog,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.showDialog=e}),"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"350px"},{activator:(0,o.w5)((function(e){var i=e.props;return[(0,o.Wm)(Tl.h,(0,o.dG)({modelValue:n.selectedColor,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.selectedColor=e}),label:r.label},i,{readonly:"",variant:"solo",density:"compact",class:"input-text"}),{"prepend-inner":(0,o.w5)((function(){return[(0,o.Wm)(Oc.V,{color:n.selectedColor,density:"compact",size:"small"},null,8,["color"])]})),_:2},1040,["modelValue","label"])]})),default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(yc.K,{class:"d-flex justify-md-space-between"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Lc.J,{"show-swatches":"",modelValue:n.selectedColor,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.selectedColor=e}),mode:"rgba",width:"300"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var jc={name:"ColorPicker",props:{modelValue:String,label:{type:String,default:function(){return"Color"}}},emits:["update:modelValue","onSelect"],data:function(){return{loading:!1,showDialog:!1,selectedColor:this.modelValue||"#000000"}},watch:{selectedColor:function(){this.$emit("onSelect",this.selectedColor),this.$emit("update:modelValue",this.selectedColor)}}};const Fc=(0,Rn.Z)(jc,[["render",zc],["__scopeId","data-v-4f505a40"]]);var Bc=Fc,Vc=r(68560),Wc=r(16824),Uc=r(23150),Nc=r(34842),qc={class:"select-container"},Zc=["href"],Hc=["href"];function $c(e,t,r,s,l,c){var u=(0,o.up)("SaveDialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",qc,[(0,o.Wm)(_l.rL,{label:r.label,items:r.dataSources,"item-title":"name","item-value":"id",variant:"solo",modelValue:r.model.dataSourceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.model.dataSourceId=e}),density:"compact"},null,8,["label","items","modelValue"]),r.model.dataSourceId?((0,o.wg)(),(0,o.j4)(a.T,{key:0,class:"btn-select-func",variant:"tonal",depressed:"",density:"compact",icon:"mdi-dots-horizontal",tile:"",small:"",onClick:(0,i.iM)(c.showFunctionDialog,["stop"]),disabled:!(r.model.dataSourceId&&c.isValidMapping())},null,8,["onClick","disabled"])):(0,o.kq)("",!0),l.showFuncDialog?((0,o.wg)(),(0,o.j4)(u,{key:1,title:s.dialogFuncTitle,name:s.funcName,cssClass:"func-content",onOnClose:c.onClose,onOnSave:c.save},{content:(0,o.w5)((function(){return[(0,o.Wm)(Nc.z,{modelValue:r.model[s.funcName],"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.model[s.funcName]=e}),"auto-grow":"",label:s.dialogFuncTitle,rows:"20",density:"comfortable"},null,8,["modelValue","label"])]})),_:1},8,["title","name","onOnClose","onOnSave"])):(0,o.kq)("",!0)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.model,(function(e,t){return(0,o.wg)(),(0,o.iD)(o.HY,null,["dataSourceId"===t||t.startsWith("get")?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Vc.E,{key:0,items:r.mapping.value,label:t,variant:"solo",density:"compact",modelValue:r.model[t],"onUpdate:modelValue":function(e){return r.model[t]=e},"item-title":"uiLabel","return-object":""},{selection:(0,o.w5)((function(e){var t=e.item;return[(0,o.Wm)($n.N,{location:"start"},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,Zc)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(t.title),1)]})),item:(0,o.w5)((function(e){return[(0,o.Wm)(Uc.l,(0,n.vs)((0,o.F4)(e.props)),{title:(0,o.w5)((function(t){var r=t.title;return[(0,o.Wm)($n.N,{location:"start"},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.item.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,Hc)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(r),1)]})),_:2},1040)]})),_:2},1032,["items","label","modelValue","onUpdate:modelValue"]))],64)})),256))],64)}var Yc=r(16572),Gc=r(31615);function Qc(e,t,r,i,s,l){var c=(0,o.up)("ConfirmDialog");return(0,o.wg)(),(0,o.j4)(Xn.B,{"model-value":!0,class:"dialog","content-class":"content-dialog",persistent:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,{elevation:"24",class:"mx-lg-n16 card form"},{default:(0,o.w5)((function(){return[i.title?((0,o.wg)(),(0,o.j4)(Yc.E,{key:0},{default:(0,o.w5)((function(){return[(0,o.Wm)(Wc.o,{align:"center",justify:"center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(bc.D,{cols:"12",lg:"6",md:"6",class:"grey lighten-2 fill-height d-flex flex-column justify-center align-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,{flat:"",tile:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Zn.Z,{class:"text-h6"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,n.zw)(i.title),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})):(0,o.kq)("",!0),(0,o.Wm)(hl.C,{class:"sheet"},{default:(0,o.w5)((function(){return[(0,o._)("div",{class:(0,n.C_)("form-content "+r.cssClass)},[(0,o.WI)(e.$slots,"content",{},void 0,!0)],2)]})),_:3}),(0,o.Wm)(Kn.h,{class:"actions"},{default:(0,o.w5)((function(){return[(0,o.Wm)(a.T,{icon:"",dark:"",onClick:i.close,density:"compact",class:"cancel",variant:"tonal"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("mdi-close")]})),_:1})]})),_:1},8,["onClick"]),(0,o.Wm)(ea.i,{color:"#e4e4e4",class:"save-toolbar",density:"compact"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Jn.C),(0,o.Wm)(Gc.l,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(a.T,{variant:"text",onClick:i.save},{default:(0,o.w5)((function(){return[(0,o.Uk)(" Save ")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:3}),(0,o.Wm)(c,{ref:"confirm"},null,512)]})),_:3})}var Kc={name:"SaveDialog",emits:["onClose","onSave"],props:["title","cssClass","name"],setup:function(e,t){t.attrs,t.slots;var r=t.emit,i=(t.expose,e.title),n=e.name||i,a={onSave:function(){},onDelete:function(){},onClose:function(){}},s=function(){a.onClose(),r("onClose")},l=function(){a.onSave(),r("onSave"),s()};return(0,o.JJ)("callbacks",a),{title:i,name:n,save:l,close:s}},components:{ConfirmDialog:na},methods:{cancel:function(){this.close()}}};const Xc=(0,Rn.Z)(Kc,[["render",Qc],["__scopeId","data-v-4d75fa90"]]);var Jc=Xc,eu={name:"DataSourceMapping",props:["label","name","dataSources","mapping","model","transformFunc"],components:{SaveDialog:Jc},setup:function(e){var t="Function get".concat(e.name,"():"),r="get".concat(e.name);return{dialogFuncTitle:t,funcName:r}},data:function(){return{showFuncDialog:!1}},methods:{onClose:function(){this.showFuncDialog=!1},onSave:function(){this.showFuncDialog=!1},isValidMapping:function(){for(var e in this.model)if(!this.model[e])return!1;return!0},showFunctionDialog:function(){this.model[this.funcName]||(this.model[this.funcName]=this.transformFunc(this.model)),this.showFuncDialog=!0},save:function(){this.showFuncDialog=!1}}};const tu=(0,Rn.Z)(eu,[["render",$c],["__scopeId","data-v-2e84f7b0"]]);var ru=tu;function iu(){return{icon:"https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/map-marker.svg",iconScale:1,zoomLevel:10,iconColor:"#000000CC",iconAnchor:[16,32],class:"PointMarkerLayer",labelOffset:[5,10],labelSize:12,labelColor:void 0,labelOutlineColor:void 0,labelBackgroundColor:void 0}}function ou(){return{icon:"https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/map-marker.svg",iconSize:[16,16],iconAnchor:[16,32],labelOffset:[5,10],iconScale:1,zoomLevel:10,iconColor:"#000000CC",class:"PointMarkerLayer"}}var nu={name:"WidgetFormPointMarkerLayer",components:{DataSourceMapping:ru,ColorPicker:Bc,MdiIconPicker:Mc,VTextFieldNumber:Rl},setup:function(e){var t,r=In(),i=(0,Ln.yj)(),n=(0,o.f3)("dataSources"),a=(0,o.f3)("reactiveLayer"),s=(0,o.f3)("widget");a.class||(s.name.toLowerCase().startsWith("cesium")?Object.assign(a,iu()):"openlayer"===s.name.toLowerCase()&&Object.assign(a,ou())),a.ui.label||(a.ui.label={dataSourceId:void 0,data:void 0}),a.ui.location||(a.ui.location={dataSourceId:void 0,x:void 0,y:void 0,z:void 0}),a.ui.orientation||(a.ui.orientation={dataSourceId:void 0,heading:void 0}),a.ui.markerId||(a.ui.markerId={dataSourceId:void 0,markerId:void 0}),a.ui.urlIcon=!1,"icon"in a?(t=a.icon.split("/"),t=t[t.length-1].split(".svg")[0]):t="https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/map-marker.svg".split("/")[t.length-1].split(".svg")[0];var l=i.params.dashboardId;return{layer:a,icon:t,sweStore:r,dataSources:n,dashboardId:l}},computed:{labelDataSourceMapping:function(){return this.getMapping(this.layer.ui.label.dataSourceId)},locationDataSourceMapping:function(){return this.getMapping(this.layer.ui.location.dataSourceId)},orientationDataSourceMapping:function(){return this.getMapping(this.layer.ui.orientation.dataSourceId)},markerIdDataSourceMapping:function(){return this.getMapping(this.layer.ui.markerId.dataSourceId)}},watch:{"layer.ui.label.data":{handler:function(e){this.updateFunc()}},"layer.ui.label.getLabel":{handler:function(e){this.updateFunc()}},"labelDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.label={dataSourceId:void 0,data:void 0})}},"layer.ui.location.x":{handler:function(e){this.updateFunc()}},"layer.ui.location.y":{handler:function(e){this.updateFunc()}},"layer.ui.location.z":{handler:function(e){this.updateFunc()}},"layer.ui.location.getLocation":{handler:function(e){this.updateFunc()}},"locationDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.location={dataSourceId:void 0,x:void 0,y:void 0,z:void 0})}},"orientationDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.orientation={dataSourceId:void 0,heading:void 0})}},"layer.ui.orientation.heading":{handler:function(e){this.updateFunc()}},"layer.ui.orientation.getOrientation":{handler:function(e){this.updateFunc()}},"markerIdDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.markerId={dataSourceId:void 0,markerId:void 0})}},"layer.ui.markerId.markerId":{handler:function(e){this.updateFunc()}}},methods:{onSelectIcon:function(e){this.layer.icon="https://storage.googleapis.com/grx-morpheusx-icons/mdi-svg/".concat(e,".svg")},updateFunc:function(){if(this.layer.ui.location.x&&this.layer.ui.location.y&&this.layer.ui.location.z){var e,t,r,i;t=this.layer.ui.location.getLocation?this.layer.ui.location.getLocation:this.locationTransformFunc(this.layer.ui.location),r=this.layer.ui.orientation.getOrientation?this.layer.ui.orientation.getOrientation:this.orientationTransformFunc(this.layer.ui.orientation),i=this.layer.ui.markerId.getMarkerId?this.layer.ui.markerId.getMarkerId:this.markerIdTransformFunc(this.layer.ui.markerId),e=this.layer.ui.label.getLabel?this.layer.ui.label.getLabel:this.labelTransformFunc(this.layer.ui.label);var o="";t&&""!==t&&(o=t),r&&""!==r&&(o=o.slice(0,-2)+","+r.slice(1)),i&&""!==i&&(o=o.slice(0,-2)+","+i.slice(1)),e&&""!==e&&(o=o.slice(0,-2)+","+e.slice(1)),this.layer["marker@func"]=o}},locationTransformFunc:function(e){var t,r,i;t="object"===(0,pr.Z)(e.x)?"rec".concat(e.x.data.path.replaceAll("/",".")):"".concat(e.x),r="object"===(0,pr.Z)(e.y)?"rec".concat(e.y.data.path.replaceAll("/",".")):"".concat(e.y),i="object"===(0,pr.Z)(e.z)?"rec".concat(e.z.data.path.replaceAll("/",".")):"".concat(e.z);var o={getLocation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{x:$x$,y:$y$,z:$z$}}}},n=(0,gr.zr)(o);return n=n.replace("$x$",t),n=n.replace("$y$",r),n=n.replace("$z$",i),n},orientationTransformFunc:function(e){var t="",r=e.heading;if(r){var i="object"===(0,pr.Z)(e.heading)?"rec".concat(e.heading.data.path.replaceAll("/",".")):"".concat(e.heading),o={getOrientation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{heading:$heading$}}}};t=(0,gr.zr)(o),t=t.replace("$heading$",i)}return t},markerIdTransformFunc:function(e){var t="",r=e.markerId;if(r){var i="object"===(0,pr.Z)(e.markerId)?"rec".concat(e.markerId.data.path.replaceAll("/",".")):"".concat(e.markerId),o={getMarkerId:{dataSourceIds:[e.dataSourceId],handler:function(e){return $markerId$}}};t=(0,gr.zr)(o),t=t.replace("$markerId$",i)}return t},labelTransformFunc:function(e){var t="",r="object"===(0,pr.Z)(e.data)?"'' + rec".concat(e.data.data.path.replaceAll("/",".")):"'".concat(e.data,"'"),i={};return i.getLabel={dataSourceIds:[e.dataSourceId],handler:function(e){return $label$}},t=(0,gr.zr)(i),t=t.replace("$label$",r),console.log(t),t},getMapping:function(e){var t=(0,f.qj)({value:[]});return e&&this.sweStore.getDataSourceMapping(this.dashboardId,e).then((function(e){t.value=e})),t}}};const au=(0,Rn.Z)(nu,[["render",gc],["__scopeId","data-v-40007516"]]);var su=au,lu=["href"],cu=["href"];function uu(e,t,r,i,a,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Data Source",items:i.dataSources,"item-title":"name","item-value":"id",variant:"solo",modelValue:i.layer.ui.frameData.dataSourceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.layer.ui.frameData.dataSourceId=e}),density:"compact"},null,8,["items","modelValue"]),(0,o.Wm)(Vc.E,{items:s.dataSourceMapping.value,label:"frameData",variant:"solo",density:"compact",modelValue:i.layer.ui.frameData.data,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.layer.ui.frameData.data=e}),"item-title":"uiLabel","return-object":""},{selection:(0,o.w5)((function(e){var t=e.item;return[(0,o.Wm)($n.N,{location:"start"},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,lu)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(t.title),1)]})),item:(0,o.w5)((function(e){return[(0,o.Wm)(Uc.l,(0,n.vs)((0,o.F4)(e.props)),{title:(0,o.w5)((function(t){var r=t.title;return[(0,o.Wm)($n.N,{location:"start"},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.item.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,cu)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(r),1)]})),_:2},1040)]})),_:1},8,["items","modelValue"])],64)}var du={name:"WidgetFormVideoLayer",setup:function(e){var t=In(),r=(0,Ln.yj)(),i=r.params.dashboardId,n=(0,o.f3)("dataSources"),a=(0,o.f3)("reactiveLayer");return a.class||(a.class="VideoDataLayer"),a.ui.frameData||(a.ui.frameData={dataSourceId:void 0,data:void 0}),{layer:a,sweStore:t,dataSources:n,dashboardId:i}},computed:{dataSourceMapping:function(){var e=(0,f.qj)({value:[]});return this.layer.ui.frameData.dataSourceId&&this.sweStore.getDataSourceMapping(this.dashboardId,this.layer.ui.frameData.dataSourceId).then((function(t){e.value=t})),e}},watch:{"layer.ui.frameData.data":{handler:function(e){if(this.layer.ui.frameData.data){var t="object"===(0,pr.Z)(this.layer.ui.frameData.data)?"rec".concat(this.layer.ui.frameData.data.data.path.replaceAll("/",".")):"".concat(this.layer.ui.frameData.data),r=(0,gr.zr)({getFrameData:function(e){return $frameDataPath},getTimestamp:function(e){return e.timestamp}});r=r.replace("$frameDataPath",t),this.layer["getFrameData@func"]=r,this.layer.dataSourceId=this.layer.ui.frameData.dataSourceId}else this.layer.ui.frameData={dataSourceId:void 0,data:void 0}},deep:!0},"dataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.frameData={dataSourceId:void 0,data:void 0})}}}};const hu=(0,Rn.Z)(du,[["render",uu],["__scopeId","data-v-03f64f93"]]);var pu=hu,fu=["href"],mu=["href"],gu=["href"],yu=["href"];function bu(e,t,r,i,a,s){var l=(0,o.up)("ColorPicker");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Data Source",items:i.dataSources,"item-title":"name","item-value":"id",variant:"solo",modelValue:i.layer.ui.values.dataSourceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.layer.ui.values.dataSourceId=e}),density:"compact"},null,8,["items","modelValue"]),(0,o.Wm)(Vc.E,{items:s.dataSourceMapping.value,label:"x",variant:"solo",density:"compact",modelValue:i.layer.ui.values.x,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.layer.ui.values.x=e}),"item-title":"uiLabel","return-object":""},{selection:(0,o.w5)((function(e){var t=e.item;return[(0,o.Wm)($n.N,null,{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,fu)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(t.title),1)]})),item:(0,o.w5)((function(e){return[(0,o.Wm)(Uc.l,(0,n.vs)((0,o.F4)(e.props)),{title:(0,o.w5)((function(t){var r=t.title;return[(0,o.Wm)($n.N,null,{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.item.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,mu)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(r),1)]})),_:2},1040)]})),_:1},8,["items","modelValue"]),(0,o.Wm)(Vc.E,{items:s.dataSourceMapping.value,label:"y",variant:"solo",density:"compact",modelValue:i.layer.ui.values.y,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.layer.ui.values.y=e}),"item-title":"uiLabel","return-object":""},{selection:(0,o.w5)((function(e){var t=e.item;return[(0,o.Wm)($n.N,null,{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,gu)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(t.title),1)]})),item:(0,o.w5)((function(e){return[(0,o.Wm)(Uc.l,(0,n.vs)((0,o.F4)(e.props)),{title:(0,o.w5)((function(t){var r=t.title;return[(0,o.Wm)($n.N,null,{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.item.value.tooltip,(function(e,t){return(0,o.wg)(),(0,o.j4)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o._)("b",null,(0,n.zw)(t),1),(0,o.Uk)(": "),"definition"===t?((0,o.wg)(),(0,o.iD)("a",{key:0,href:e,target:"_blank",rel:"noopener noreferrer"},(0,n.zw)(e),9,yu)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,n.zw)(e),1)],64))]})),_:2},1024)})),256))]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(r),1)]})),_:2},1040)]})),_:1},8,["items","modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Legend",modelValue:i.layer.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.layer.name=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Y axis label",modelValue:i.layer.yLabel,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.layer.yLabel=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Max values",modelValue:i.layer.maxValues,"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.layer.maxValues=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Stroke width",modelValue:i.layer.stroke,"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.layer.stroke=e})},null,8,["modelValue"]),(0,o.Wm)(l,{modelValue:i.layer.lineColor,"onUpdate:modelValue":t[7]||(t[7]=function(e){return i.layer.lineColor=e}),label:"Line color"},null,8,["modelValue"]),(0,o.Wm)(l,{modelValue:i.layer.backgroundColor,"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.layer.backgroundColor=e}),label:"Background color"},null,8,["modelValue"])],64)}function vu(){return{"getValues@func":"return { x: rec.timestamp, y: rec.location.alt }",fill:!0,backgroundColor:"#57c1ff80",lineColor:"#57c1ff80",maxValues:25,stroke:1,name:"Chart",class:"CurveLayer"}}var wu={name:"WidgetFormCurveLayer",components:{ColorPicker:Bc},setup:function(e){var t=In(),r=(0,Ln.yj)(),i=r.params.dashboardId,n=(0,o.f3)("reactiveLayer"),a=(0,o.f3)("dataSources");return n.class||Object.assign(n,vu()),n.ui.values||(n.ui.values={x:void 0,y:void 0,dataSourceId:void 0}),{layer:n,dataSources:a,sweStore:t,dashboardId:i}},computed:{dataSourceMapping:function(){var e=(0,f.qj)({value:[]});return this.layer.ui.values.dataSourceId&&this.sweStore.getDataSourceMapping(this.dashboardId,this.layer.ui.values.dataSourceId).then((function(t){e.value=t})),e}},watch:{"layer.maxValues":{handler:function(e){this.layer.maxValues=parseInt(e)}},"layer.stroke":{handler:function(e){this.layer.stroke=parseInt(e)}},"layer.ui.values.x":{handler:function(e){this.updateFunc()}},"layer.ui.values.y":{handler:function(e){this.updateFunc()}},"dataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.values={x:void 0,y:void 0,dataSourceId:void 0})}}},methods:{updateFunc:function(){if(this.layer.ui.values.x&&this.layer.ui.values.y){var e,t;e="object"===(0,pr.Z)(this.layer.ui.values.x)?"rec".concat(this.layer.ui.values.x.data.path.replaceAll("/",".")):"x: ".concat(this.layer.ui.values.x),t="object"===(0,pr.Z)(this.layer.ui.values.y)?"rec".concat(this.layer.ui.values.y.data.path.replaceAll("/",".")):"y: ".concat(this.layer.ui.values.y);var r={getValues:{dataSourceIds:[this.layer.ui.values.dataSourceId],handler:function(e){return{x:$x$,y:$y$}}}},i=(0,gr.zr)(r);if(i=i.replace("$x$",e),i=i.replace("$y$",t),this.layer["getValues@func"]=i,this.layer.ui.values.y&&this.layer.ui.values.y.data.label&&this.layer.ui.values.y.data.uom){var o=" ".concat(this.layer.ui.values.y.data.label," (").concat(this.layer.ui.values.y.data.uom.code,")");this.layer.yLabel=o,this.layer.name=this.layer.ui.values.y.dataSource.name+" - "+this.layer.ui.values.y.data.label}}}}};const ku=(0,Rn.Z)(wu,[["render",bu],["__scopeId","data-v-1333c569"]]);var Su=ku;function _u(e,t,r,i,n,a){var s=(0,o.up)("DataSourceMapping"),l=(0,o.up)("ColorPicker");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s,{label:"Origin DataSource",name:"Origin",model:i.layer.ui.origin,mapping:a.originDataSourceMapping,dataSources:i.dataSources,transformFunc:a.originTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(s,{label:"Platform Orientation DataSource",name:"PlatformOrientation",model:i.layer.ui.platformOrientation,mapping:a.platformOrientationDataSourceMapping,dataSources:i.dataSources,transformFunc:a.platformOrientationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(s,{label:"Sensor Orientation DataSource",name:"SensorOrientation",model:i.layer.ui.sensorOrientation,mapping:a.sensorOrientationDataSourceMapping,dataSources:i.dataSources,transformFunc:a.sensorOrientationTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(s,{label:"Range DataSource",name:"Range",model:i.layer.ui.range,mapping:a.rangeDataSourceMapping,dataSources:i.dataSources,transformFunc:a.rangeTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(s,{label:"FoV DataSource",name:"Fov",model:i.layer.ui.fov,mapping:a.fovDataSourceMapping,dataSources:i.dataSources,transformFunc:a.fovTransformFunc},null,8,["model","mapping","dataSources","transformFunc"]),(0,o.Wm)(l,{modelValue:i.layer.color,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.layer.color=e}),label:"Color"},null,8,["modelValue"]),(0,o.Wm)(Bl.R,{modelValue:i.layer.opacity,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.layer.opacity=e}),max:1,min:"0",step:.1,"show-ticks":"always",label:"Opacity","hide-details":"",class:"ma-0 opacity-slider",density:"compact",variant:"solo"},{append:(0,o.w5)((function(){return[(0,o.Wm)(Tl.h,{modelValue:i.layer.opacity,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.layer.opacity=e}),type:"number",style:{width:"85px"},density:"compact","hide-details":"",variant:"outlined"},null,8,["modelValue"])]})),_:1},8,["modelValue","max","step"])],64)}function Tu(){return{color:"#B0B0B0B3",opacity:.25,class:"FrustumLayer"}}var xu={name:"WidgetFormFrustumLayer",components:{ColorPicker:Bc,DataSourceMapping:ru},setup:function(e){var t=In(),r=(0,Ln.yj)(),i=r.params.dashboardId,n=(0,o.f3)("dataSources"),a=(0,o.f3)("reactiveLayer"),s=(0,o.f3)("widget");if(!a.class){if("cesium"!==s.name.toLowerCase())throw Error("View ".concat(s.name," does not support Frustum Layer"));Object.assign(a,Tu())}return a.ui.origin||(a.ui.origin={x:void 0,y:void 0,z:void 0,dataSourceId:void 0}),a.ui.range||(a.ui.range={dataSourceId:void 0,data:void 0}),a.ui.fov||(a.ui.fov={dataSourceId:void 0,data:void 0}),a.ui.platformOrientation||(a.ui.platformOrientation={dataSourceId:void 0,pitch:void 0,heading:void 0,roll:void 0}),a.ui.sensorOrientation||(a.ui.sensorOrientation={dataSourceId:void 0,pitch:void 0,yaw:void 0,roll:void 0}),{layer:a,sweStore:t,dataSources:n,dashboardId:i}},computed:{originDataSourceMapping:function(){return this.getMapping(this.layer.ui.origin.dataSourceId)},platformOrientationDataSourceMapping:function(){return this.getMapping(this.layer.ui.platformOrientation.dataSourceId)},sensorOrientationDataSourceMapping:function(){return this.getMapping(this.layer.ui.sensorOrientation.dataSourceId)},fovDataSourceMapping:function(){return this.getMapping(this.layer.ui.fov.dataSourceId)},rangeDataSourceMapping:function(){return this.getMapping(this.layer.ui.range.dataSourceId)}},watch:{"layer.ui.origin":{handler:function(e){this.updateFunc()},deep:!0},"originDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.origin={dataSourceId:void 0,x:void 0,y:void 0,z:void 0})}},"layer.ui.platformOrientation":{handler:function(e){this.updateFunc()},deep:!0},"platformOrientationDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.platformOrientation={dataSourceId:void 0,heading:void 0,pitch:void 0,roll:void 0})}},"layer.ui.sensorOrientation":{handler:function(e){this.updateFunc()},deep:!0},"sensorOrientationDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.sensorOrientation={dataSourceId:void 0,yaw:void 0,pitch:void 0,roll:void 0})}},"layer.ui.fov":{handler:function(e){this.updateFunc()},deep:!0},"fovDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.fov={dataSourceId:void 0,data:void 0})}},"layer.ui.range":{handler:function(e){this.updateFunc()},deep:!0},"rangeDataSourceMapping.value":{handler:function(e,t){g(t)&&Object.keys(t).length>0&&(this.layer.ui.range={dataSourceId:void 0,data:void 0})}}},methods:{updateFunc:function(){if(this.layer.ui.origin.x&&this.layer.ui.origin.y&&this.layer.ui.origin.z&&this.layer.ui.platformOrientation.heading&&this.layer.ui.platformOrientation.pitch&&this.layer.ui.platformOrientation.roll&&this.layer.ui.sensorOrientation.yaw&&this.layer.ui.sensorOrientation.pitch&&this.layer.ui.sensorOrientation.roll&&this.layer.ui.fov.data&&this.layer.ui.range.data){var e,t,r,i,o;e=this.layer.ui.origin.getOrigin?this.layer.ui.origin.getOrigin:this.originTransformFunc(this.layer.ui.origin),t=this.layer.ui.platformOrientation.getPlatformOrientation?this.layer.ui.platformOrientation.getPlatformOrientation:this.platformOrientationTransformFunc(this.layer.ui.platformOrientation),r=this.layer.ui.sensorOrientation.getSensorOrientation?this.layer.ui.sensorOrientation.getSensorOrientation:this.sensorOrientationTransformFunc(this.layer.ui.sensorOrientation),i=this.layer.ui.range.getRange?this.layer.ui.range.getRange:this.rangeTransformFunc(this.layer.ui.range),o=this.layer.ui.fov.getFov?this.layer.ui.fov.getFov:this.fovTransformFunc(this.layer.ui.fov);var n=e;n=n.slice(0,-2)+","+t.slice(1),n=n.slice(0,-2)+","+r.slice(1),n=n.slice(0,-2)+","+i.slice(1),n=n.slice(0,-2)+","+o.slice(1),this.layer["frustum@func"]=n}},originTransformFunc:function(e){var t="object"===(0,pr.Z)(e.x)?"rec".concat(e.x.data.path.replaceAll("/",".")):"".concat(e.x),r="object"===(0,pr.Z)(e.y)?"rec".concat(e.y.data.path.replaceAll("/",".")):"".concat(e.y),i="object"===(0,pr.Z)(e.z)?"rec".concat(e.z.data.path.replaceAll("/",".")):"".concat(e.z),o={getOrigin:{dataSourceIds:[e.dataSourceId],handler:function(e){return{x:$originXPath$,y:$originYPath$,z:$originZPath$}}}},n=(0,gr.zr)(o);return n=n.replace("$originXPath$",t),n=n.replace("$originYPath$",r),n=n.replace("$originZPath$",i),n},platformOrientationTransformFunc:function(e){var t="object"===(0,pr.Z)(e.heading)?"rec".concat(e.heading.data.path.replaceAll("/",".")):"".concat(e.heading),r="object"===(0,pr.Z)(e.pitch)?"rec".concat(e.pitch.data.path.replaceAll("/",".")):"".concat(e.pitch),i="object"===(0,pr.Z)(e.roll)?"rec".concat(e.roll.data.path.replaceAll("/",".")):"".concat(e.roll),o={getPlatformOrientation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{heading:$platformOrientationHeading$,pitch:$platformOrientationPitch$,roll:$platformOrientationRoll$}}}},n=(0,gr.zr)(o);return n=n.replace("$platformOrientationHeading$",t),n=n.replace("$platformOrientationPitch$",r),n=n.replace("$platformOrientationRoll$",i),n},sensorOrientationTransformFunc:function(e){var t="object"===(0,pr.Z)(e.yaw)?"rec".concat(e.yaw.data.path.replaceAll("/",".")):"".concat(e.yaw),r="object"===(0,pr.Z)(e.pitch)?"rec".concat(e.pitch.data.path.replaceAll("/",".")):"".concat(e.pitch),i="object"===(0,pr.Z)(e.roll)?"rec".concat(e.roll.data.path.replaceAll("/",".")):"".concat(e.roll),o={getSensorOrientation:{dataSourceIds:[e.dataSourceId],handler:function(e){return{yaw:$sensorOrientationYaw$,pitch:$sensorOrientationPitch$,roll:$sensorOrientationRoll$}}}},n=(0,gr.zr)(o);return n=n.replace("$sensorOrientationYaw$",t),n=n.replace("$sensorOrientationPitch$",r),n=n.replace("$sensorOrientationRoll$",i),n},rangeTransformFunc:function(e){var t="object"===(0,pr.Z)(e.data)?"rec".concat(e.data.data.path.replaceAll("/",".")):"".concat(e.data),r={getRange:{dataSourceIds:[e.dataSourceId],handler:function(e){return $range$}}},i=(0,gr.zr)(r);return i=i.replace("$range$",t),i},fovTransformFunc:function(e){var t="object"===(0,pr.Z)(e.data)?"rec".concat(e.data.data.path.replaceAll("/",".")):"".concat(e.data),r={getFov:{dataSourceIds:[e.dataSourceId],handler:function(e){return $fov$}}},i=(0,gr.zr)(r);return i=i.replace("$fov$",t),i},getMapping:function(e){var t=(0,f.qj)({value:[]});return e&&this.sweStore.getDataSourceMapping(this.dashboardId,e).then((function(e){t.value=e})),t}}};const Iu=(0,Rn.Z)(xu,[["render",_u],["__scopeId","data-v-58a86dc6"]]);var Cu=Iu,Eu={name:"WidgetFormLayers",components:{WidgetFormFrustumLayer:Cu,WidgetFormCurveLayer:Su,WidgetFormVideoLayer:pu,WidgetFormPointMarkerLayer:su},props:["layer","editing"],setup:function(e){var t,r=An(),i=(0,Ln.yj)(),n=r.clientConfig,a=i.params,s=(a.widgetId,a.dashboardId,a.windowId,[]),l=(0,u.Z)(n.servers);try{for(l.s();!(t=l.n()).done;){var c=t.value;s.push.apply(s,(0,pc.Z)(c.dataSources))}}catch(p){l.e(p)}finally{l.f()}var d=(0,o.f3)("widget"),h=(0,f.qj)(e.layer);return(0,o.JJ)("reactiveLayer",h),(0,o.JJ)("dataSources",s),{widget:d,reactiveLayer:h}},methods:{removeFromWidget:function(e){var t,r=[],i=(0,u.Z)(this.widget.layers);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.id!==this.layer.id&&r.push(o)}}catch(n){i.e(n)}finally{i.f()}this.widget.layers=r},addToWidget:function(e){this.widget.layers.push(this.layer)}}};const Du=(0,Rn.Z)(Eu,[["render",hc],["__scopeId","data-v-6795a90b"]]);var Au=Du,Pu={name:"WidgetForm",emits:["onClose"],inject:["callbacks"],props:["id","serverId","edit"],components:{WidgetFormLayers:Au,WidgetFormType:lc},setup:function(e){var t=(0,Ln.yj)(),r=t.params,i=r.dashboardId,n=r.windowId,a=An(),s=Sn(),l=(0,fr.Y)(a.getWidgetById(i,n,e.id));g(l)||(l=mn()),l.version=0,l.supportedLayers=[],l=(0,f.qj)(l),(0,o.JJ)("widget",l);var c="";return{widget:l,clientStore:a,uiStore:s,windowId:n,dashboardId:i,formType:c}},beforeMount:function(){this.callbacks.onSave=this.save,this.callbacks.onDelete=this.deleteWidget},methods:{defaultLayer:function(){return fn()},save:function(){console.log("Saving widget form.."),console.log(this.widget);var e=this.clientStore.getWindowById(this.dashboardId,this.windowId);this.edit?this.uiStore.editGridItem(this.dashboardId,e,this.widget):this.uiStore.addGridItem(this.dashboardId,e,this.widget),this.uiStore.setEditMode(!0)},uuid:function(){return R()},deleteWidget:function(){this.uiStore.removeGridItem(this.dashboardId,this.windowId,this.widget.id)}}};const Ru=(0,Rn.Z)(Pu,[["render",Sl],["__scopeId","data-v-10b8d6f7"]]);var Mu=Ru,Ou=r(96422);function Lu(e,t,r,i,n,a){var s=(0,o.up)("Server"),l=(0,o.up)("DataSourceSweForm");return(0,o.wg)(),(0,o.j4)(Ou.O,{"fast-fail":""},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{modelValue:i.state.server,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.state.server=e})},null,8,["modelValue"]),i.state.server?((0,o.wg)(),(0,o.j4)(_l.rL,{key:0,label:"Type",items:i.types,variant:"solo",density:"compact",modelValue:i.state.dataSource.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.state.dataSource.type=e})},null,8,["items","modelValue"])):(0,o.kq)("",!0),"SweApiStream"===i.state.dataSource.type?((0,o.wg)(),(0,o.j4)(l,{key:i.state.server})):(0,o.kq)("",!0)]})),_:1})}function zu(e,t,r,i,n,a){var s=(0,o.up)("ProtocolsForm");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Name",modelValue:i.state.dataSource.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.state.dataSource.name=e})},null,8,["modelValue"]),(0,o.Wm)(_l.rL,{label:"System",items:n.systems,variant:"solo",density:"compact","item-title":"name","item-value":"id","return-object":"","onUpdate:modelValue":[a.updateSystem,t[1]||(t[1]=function(e){return n.system=e})],modelValue:n.system},null,8,["items","onUpdate:modelValue","modelValue"]),(0,o.Wm)(_l.rL,{label:"DataStream",items:n.dataStreams,variant:"solo",density:"compact","return-object":"","item-title":"name","onUpdate:modelValue":[a.updateDataStream,t[2]||(t[2]=function(e){return n.datastream=e})],modelValue:n.datastream},null,8,["items","onUpdate:modelValue","modelValue"]),i.state.dataSource.resource?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(s,{protocols:n.protocols},null,8,["protocols"]),(0,o.Wm)(_l.rL,{label:"Response Format",items:n.responseFormats,variant:"solo",density:"compact",modelValue:i.state.dataSource.responseFormat,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.state.dataSource.responseFormat=e})},null,8,["items","modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Prefetch batch duration",modelValue:i.state.dataSource.prefetchBatchDuration,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.state.dataSource.prefetchBatchDuration=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Batch size",modelValue:i.state.dataSource.prefetchBatchSize,"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.state.dataSource.prefetchBatchSize=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Time shift",modelValue:i.state.dataSource.timeShift,"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.state.dataSource.timeShift=e})},null,8,["modelValue"])],64)):(0,o.kq)("",!0)],64)}function ju(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Protocol",items:r.protocols,variant:"solo",density:"compact","item-title":"title",modelValue:a.state.dataSource.protocol,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.state.dataSource.protocol=e})},null,8,["items","modelValue"]),"mqtt"===a.state.dataSource.protocol?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Username",modelValue:a.state.dataSource.mqttOpts.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.state.dataSource.mqttOpts.username=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"password",modelValue:a.state.dataSource.mqttOpts.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.state.dataSource.mqttOpts.password=e})},null,8,["modelValue"])],64)):"ws"===a.state.dataSource.protocol?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"User name",modelValue:a.state.dataSource.connectorOpts.username,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.state.dataSource.connectorOpts.username=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Password",modelValue:a.state.dataSource.connectorOpts.password,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.state.dataSource.connectorOpts.password=e})},null,8,["modelValue"])],64)):(0,o.kq)("",!0),"mqtt"===a.state.dataSource.protocol?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Prefix",modelValue:a.state.dataSource.mqttOpts.prefix,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.state.dataSource.mqttOpts.prefix=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Endpoint",modelValue:a.state.dataSource.mqttOpts.endpointUrl,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.state.dataSource.mqttOpts.endpointUrl=e})},null,8,["modelValue"])],64)):(0,o.kq)("",!0)],64)}var Fu={name:"ProtocolsForm",props:["protocols"],inject:["state"]};const Bu=(0,Rn.Z)(Fu,[["render",ju],["__scopeId","data-v-2c9f92be"]]);var Vu=Bu;function Wu(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_l.rL,{label:"Modes",items:i.modes,variant:"solo",density:"compact",modelValue:i.state.dataSource.mode,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.state.dataSource.mode=e})},null,8,["items","modelValue"]),"replay"===i.state.dataSource.mode?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Time shift",modelValue:i.state.dataSource.timeShift,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.state.dataSource.timeShift=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Prefetch batch duration",modelValue:i.state.dataSource.prefetchBatchDuration,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.state.dataSource.prefetchBatchDuration=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Prefetch batch size",modelValue:i.state.dataSource.prefetchBatchSize,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.state.dataSource.prefetchBatchSize=e})},null,8,["modelValue"])],64)):(0,o.kq)("",!0)],64)}var Uu={name:"ModeForm",setup:function(e){var t=[{title:"Real Time",value:"realTime"},{title:"Replay",value:"replay"},{title:"Batch",value:"batch"}],r=(0,o.f3)("state");return{modes:t,state:r}},data:function(){return{mode:"realTime",realTime:{startTime:"now",endTime:"2055-01-01T00:00:00Z",timeShift:0,prefetchBatchDuration:5e3,prefetchBatchSize:250},replay:{startTime:"2000-01-01T00:00:00Z",endTime:"2055-01-01T00:00:00Z",timeShift:0,prefetchBatchDuration:5e3,prefetchBatchSize:250}}}};const Nu=(0,Rn.Z)(Uu,[["render",Wu]]);var qu=Nu,Zu={name:"DataSourceSweForm",components:{ProtocolsForm:Vu,ModeForm:qu},setup:function(e){var t=Sn(),r=In(),i=(0,Ln.yj)(),n=i.params.dashboardId,a=(0,o.f3)("state");return a.dataSource.mode="replay",a.dataSource.timeShift||(a.dataSource.timeShift=0),a.dataSource.prefetchBatchDuration||(a.dataSource.prefetchBatchDuration=5e3),a.dataSource.prefetchBatchSize||(a.dataSource.prefetchBatchSize=250),a.specType={resource:void 0,parentId:void 0,keywords:void 0,includedProps:void 0,excludeProps:void 0,roi:void 0,featureOfInterest:void 0,observedProperty:void 0,startTime:void 0,endTime:void 0},{uiStore:t,state:a,sweStore:r,dashboardId:n}},data:function(){return{dataStreams:[],systems:void 0,protocols:[{title:"WebSocket",value:"ws"},{title:"MQTT",value:"mqtt"}],responseFormats:["application/swe+json","application/om+json","application/swe+binary","application/swe+csv","application/swe+xml"],system:void 0,datastream:void 0}},watch:{datastream:function(e){this.state.dataSource.startTime||(this.state.dataSource.startTime=e.phenomenonTime[0],this.state.dataSource.endTime=e.phenomenonTime[1])}},mounted:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){var r,i,o;return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.systems){t.next=32;break}return t.prev=1,t.next=4,e.sweStore.getSystems(e.dashboardId,e.state.server.id);case 4:if(e.systems=t.sent,!e.state.dataSource.parentId){t.next=27;break}r=(0,u.Z)(e.systems),t.prev=7,r.s();case 9:if((i=r.n()).done){t.next=16;break}if(o=i.value,o.id!==e.state.dataSource.parentId){t.next=14;break}return e.system=o,t.abrupt("break",16);case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](7),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:if(!e.system){t.next=27;break}return t.next=27,e.fetchDataStream(e.state.dataSource.parentId);case 27:t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](1),e.uiStore.ui.snack={message:"Cannot Fetch Systems",type:"error"};case 32:case"end":return t.stop()}}),t,null,[[1,29],[7,18,21,24]])})))()},methods:{updateSystem:function(e){this.state.dataSource.parentId=e.id,this.fetchDataStream(e.id)},updateDataStream:function(e){this.state.dataSource.resource="/api/datastreams/".concat(e.id,"/observations"),this.state.dataSource.name=e.name},fetchDataStream:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){var i,o,n,a,s;return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.sweStore.getDataStreams(t.dashboardId,t.state.server.id,e);case 2:if(t.dataStreams=r.sent,!t.state.dataSource.resource){r.next=24;break}i=new RegExp("^(.*?)/datastreams/(.*)/observations"),o=t.state.dataSource.resource.match(i)[2],n=(0,u.Z)(t.dataStreams),r.prev=7,n.s();case 9:if((a=n.n()).done){r.next=16;break}if(s=a.value,s.id!==o){r.next=14;break}return t.datastream=s,r.abrupt("break",16);case 14:r.next=9;break;case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](7),n.e(r.t0);case 21:return r.prev=21,n.f(),r.finish(21);case 24:case"end":return r.stop()}}),r,null,[[7,18,21,24]])})))()}}};const Hu=(0,Rn.Z)(Zu,[["render",zu]]);var $u=Hu,Yu=function(e){return(0,o.dD)("data-v-234a23f0"),e=e(),(0,o.Cn)(),e},Gu=Yu((function(){return(0,o._)("b",null,"id",-1)})),Qu=Yu((function(){return(0,o._)("b",null,"name",-1)})),Ku=Yu((function(){return(0,o._)("b",null,"endpoint",-1)})),Xu=Yu((function(){return(0,o._)("b",null,"tls",-1)}));function Ju(e,t,r,i,a,s){return(0,o.wg)(),(0,o.j4)(_l.rL,{label:"Server",items:i.servers,variant:"solo",density:"compact","item-title":"name","return-object":""},{selection:(0,o.w5)((function(e){var t=e.item;return[(0,o.Wm)($n.N,{location:"start"},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(Hn.t,(0,o.dG)(t,{color:"grey-lighten-1",class:"info-icon-server"}),{default:(0,o.w5)((function(){return[(0,o.Uk)(" mdi-information ")]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,[(0,o.Wm)(bc.D,{cols:"12",class:"flex",justify:"space-between"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Wc.o,null,{default:(0,o.w5)((function(){return[Gu,(0,o.Uk)(": "+(0,n.zw)(t.raw.id),1)]})),_:2},1024),(0,o.Wm)(Wc.o,null,{default:(0,o.w5)((function(){return[Qu,(0,o.Uk)(": "+(0,n.zw)(t.raw.name),1)]})),_:2},1024),(0,o.Wm)(Wc.o,null,{default:(0,o.w5)((function(){return[Ku,(0,o.Uk)(": "+(0,n.zw)(t.raw.endpoint),1)]})),_:2},1024),(0,o.Wm)(Wc.o,null,{default:(0,o.w5)((function(){return[Xu,(0,o.Uk)(": "+(0,n.zw)(t.raw.tls),1)]})),_:2},1024)]})),_:2},1024)])]})),_:2},1024),(0,o.Uk)(" "+(0,n.zw)(t.title),1)]})),_:1},8,["items"])}var ed={name:"Server",setup:function(e){var t=An(),r=(0,Ln.yj)(),i=r.params.dashboardId,o=t.getServersByDashboard(i);return{servers:o}}};const td=(0,Rn.Z)(ed,[["render",Ju],["__scopeId","data-v-234a23f0"]]);var rd=td,id={name:"DataSourceForm",props:["id","serverId","edit"],emits:["onClose"],inject:["callbacks"],components:{Server:rd,DataSourceSweForm:$u},setup:function(e){var t=An(),r=Sn(),i=(0,Ln.yj)(),n=i.params.dashboardId,a=t.getTimeSynchronizerIds(),s=e.id,l=e.serverId,c=t.findDataSourceById(n,s);c=c?(0,fr.Y)(c):cn();var u=t.findServerById(n,l),d={server:u,dataSource:c},h=(0,f.qj)(d);(0,o.JJ)("state",h);var p=[{title:"SWE Rest API",value:"SweApiStream"},{title:"SOS",value:"SosGetResult"}];return{dashboardId:n,clientStore:t,uiStore:r,timeSynchronizerIds:a,state:h,serverId:l,types:p}},beforeMount:function(){this.callbacks.onSave=this.save,this.callbacks.onDelete=this.deleteDataSource},methods:{save:function(){this.edit&&(console.log("editing dataSource.."),this.uiStore.removeDataSource(this.dashboardId,this.serverId,this.state.dataSource)),this.state.dataSource.serverId=this.state.server.id,this.uiStore.addOrEditDataSource(this.dashboardId,this.state.server.id,this.state.dataSource)},deleteDataSource:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("removing "+e.state.dataSource.id+", "+e.state.dataSource.name),e.uiStore.removeDataSource(e.dashboardId,e.serverId,e.state.dataSource);case 2:case"end":return t.stop()}}),t)})))()}}};const od=(0,Rn.Z)(id,[["render",Lu]]);var nd=od;function ad(e,t,r,i,n,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Name",modelValue:n.props.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.props.name=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Endpoint",modelValue:n.props.endpoint,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.props.endpoint=e})},null,8,["modelValue"]),(0,o.Wm)(Tl.h,{variant:"solo",density:"compact",label:"Description",modelValue:n.props.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.props.description=e})},null,8,["modelValue"]),(0,o.Wm)(Il.G,{color:"info",label:"TLS",modelValue:n.props.tls,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.props.tls=e}),density:"compact"},null,8,["modelValue"])],64)}var sd={name:"ServerForm",props:["id"],emits:["onClose"],inject:["callbacks"],components:{ConfirmDialog:na},setup:function(e){var t=An(),r=(0,Ln.yj)(),i=r.params.dashboardId;return{dashboardId:i,clientStore:t}},data:function(){return{props:{id:this.id||R(),name:void 0,endpoint:void 0,tls:!0,type:void 0,description:"",tags:[],dataSources:[]},newServer:!0}},beforeMount:function(){var e=this.clientStore.findServerById(this.dashboardId,this.id);e&&(this.props=(0,c.Z)((0,c.Z)({},this.props),e),this.newServer=!1),this.callbacks.onSave=this.save,this.callbacks.onDelete=this.deleteServer},methods:{save:function(){this.newServer?(console.log("adding server ".concat(this.dashboardId,", ").concat(this.props.name)),this.clientStore.addServer(this.dashboardId,this.props)):(console.log("editing server ".concat(this.id,", ").concat(this.props.name)),this.clientStore.editServer(this.id,this.props))},deleteServer:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("removing "+e.props.id+", "+e.props.name),e.clientStore.removeServer(e.dashboardId,e.props.id);case 2:case"end":return t.stop()}}),t)})))()}}};const ld=(0,Rn.Z)(sd,[["render",ad]]);var cd=ld;function ud(e,t,r,i,s,l){var c=(0,o.up)("ConfirmDialog");return(0,o.wg)(),(0,o.j4)(Xn.B,{"model-value":!0,class:"dialog","content-class":"content-dialog",persistent:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,{elevation:"24",class:"mx-lg-n16 card form"},{default:(0,o.w5)((function(){return[i.title?((0,o.wg)(),(0,o.j4)(Yc.E,{key:0},{default:(0,o.w5)((function(){return[(0,o.Wm)(Wc.o,{align:"center",justify:"center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(bc.D,{cols:"12",lg:"6",md:"6",class:"grey lighten-2 fill-height d-flex flex-column justify-center align-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Nn._,{flat:"",tile:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(Zn.Z,{class:"text-h6"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,n.zw)(i.title),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})):(0,o.kq)("",!0),(0,o.Wm)(hl.C,{class:"sheet"},{default:(0,o.w5)((function(){return[(0,o._)("div",{class:(0,n.C_)("form-content "+r.cssClass)},[(0,o.WI)(e.$slots,"content",{},void 0,!0)],2)]})),_:3}),(0,o.Wm)(Kn.h,{class:"actions"},{default:(0,o.w5)((function(){return[(0,o.Wm)(a.T,{icon:"",dark:"",onClick:i.close,density:"compact",class:"cancel",variant:"tonal"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("mdi-close")]})),_:1})]})),_:1},8,["onClick"]),(0,o.Wm)(ea.i,{color:"#e4e4e4",class:"save-toolbar",density:"compact"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Jn.C),(0,o.Wm)(Gc.l,null,{default:(0,o.w5)((function(){return[r.edit?((0,o.wg)(),(0,o.j4)(a.T,{key:0,variant:"text",class:"delete-btn",onClick:l.deleteItemWithConfirm},{default:(0,o.w5)((function(){return[(0,o.Uk)(" Delete ")]})),_:1},8,["onClick"])):(0,o.kq)("",!0),(0,o.Wm)(a.T,{variant:"text",onClick:i.save},{default:(0,o.w5)((function(){return[(0,o.Uk)(" Save ")]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:3}),(0,o.Wm)(c,{ref:"confirm"},null,512)]})),_:3})}var dd={name:"DialogForm",emits:["onClose"],props:["title","edit","cssClass","name"],setup:function(e,t){t.attrs,t.slots;var r=t.emit,i=(t.expose,e.title),n=e.name||i,a={onSave:function(){},onDelete:function(){},onClose:function(){}},s=function(){a.onClose(),r("onClose")},l=function(){a.onSave(),s()},c=function(){a.onDelete(),s()};return(0,o.JJ)("callbacks",a),{title:i,name:n,save:l,deleteItem:c,close:s}},components:{ConfirmDialog:na},methods:{deleteItemWithConfirm:function(){var e=this;return(0,h.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.confirm.open("Confirm","Are you sure you want to remove this ".concat(e.name," ?"));case 2:if(!t.sent){t.next=4;break}e.deleteItem();case 4:case"end":return t.stop()}}),t)})))()},cancel:function(){this.close()}}};const hd=(0,Rn.Z)(dd,[["render",ud],["__scopeId","data-v-4faa0264"]]);var pd=hd,fd={name:"Content",components:{DataSourceForm:nd,ServerForm:cd,DialogForm:pd,WidgetForm:Mu,Window:ll},setup:function(e){var t=(0,Ln.yj)(),r=t.params,i=r.widgetId,o=r.dashboardId,n=r.windowId;return{widgetId:i,windowId:n,dashboardId:o}},data:function(){return{dataSourceEditorId:void 0,serverId:void 0,serverEditorId:void 0,widgetEditorId:void 0,edit:!1,ServerForm:cd}},beforeMount:function(){var e=this;this.emitter.on("show-datasource-editor",(function(t){e.dataSourceEditorId=t.id,e.serverId=t.serverId,e.edit=t.edit})),this.emitter.on("show-server-editor",(function(t){e.serverEditorId=t.id,e.edit=t.edit})),this.emitter.on("show-widget-editor",(function(t){e.widgetEditorId=t.id,e.edit=t.edit}))},beforeUnmount:function(){this.emitter.off("show-datasource-editor"),this.emitter.off("show-server-editor"),this.emitter.off("show-widget-editor")}};const md=(0,Rn.Z)(fd,[["render",Wn]]);var gd=md,yd=r.p+"img/logo-georobotix.3f829919.png",bd=r(78796),vd=r(68275),wd=r(52127),kd=r(4193),Sd=function(e){return(0,o.dD)("data-v-1372117f"),e=e(),(0,o.Cn)(),e},_d=Sd((function(){return(0,o._)("img",{alt:"logo",src:yd,style:{"max-height":"50%","margin-right":"10px","margin-left":"10px"}},null,-1)})),Td=Sd((function(){return(0,o._)("span",null,"MorpheusX",-1)})),xd={class:"actions"};function Id(e,t,r,i,s,l){var c=this;return(0,o.wg)(),(0,o.j4)(bd.L,{app:"",color:"secondary",density:"compact",elevation:"3"},{default:(0,o.w5)((function(){return[_d,(0,o.Wm)(ta.q,{class:"toolbar-title"},{default:(0,o.w5)((function(){return[Td]})),_:1}),(0,o.Wm)(Jn.C),(0,o._)("div",xd,[l.isRealTimeMode?((0,o.wg)(),(0,o.j4)($n.N,{key:0,bottom:""},{activator:(0,o.w5)((function(e){var t=e.props;return[i.popup?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[],64)),(0,o.Wm)(a.T,(0,o.dG)({rounded:"",class:"elevation-0",icon:c.uiStore.ui.connected?"mdi-power-plug":"mdi-power-plug-off",color:c.uiStore.ui.connected?"green":"red"},t,{onClick:l.toggleConnection,disabled:!c.clientStore.initialized}),null,16,["icon","color","onClick","disabled"])]})),default:(0,o.w5)((function(){return[(0,o._)("span",null,(0,n.zw)(c.uiStore.ui.connected?"Disconnect":"Connect"),1)]})),_:1})):(0,o.kq)("",!0),(0,o.Wm)(kd.T,{"open-on-click":""},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(a.T,(0,o.dG)({variant:"text",depressed:"",icon:"",tile:"",small:""},t),{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("mdi-plus")]})),_:1})]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o.Wm)(vd.i,{class:"tile"},{default:(0,o.w5)((function(){return[i.popup?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Uc.l,{key:0,onClick:l.handleAddServer,"append-icon":"mdi-server-plus",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Server")]})),_:1})]})),_:1},8,["onClick"])),i.popup?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Uc.l,{key:1,onClick:l.handleAddDataSource,"append-icon":"mdi-database-plus",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("DataSource")]})),_:1})]})),_:1},8,["onClick"])),(0,o.Wm)(Uc.l,{onClick:l.handleAddView,"append-icon":"mdi-form-select",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("View")]})),_:1})]})),_:1},8,["onClick"]),i.popup?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Uc.l,{key:2,onClick:l.handleAddPopupWindow,"append-icon":"mdi-dock-window",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Window")]})),_:1})]})),_:1},8,["onClick"]))]})),_:1})]})),_:1}),i.popup?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(kd.T,{key:1,"open-on-click":""},{activator:(0,o.w5)((function(e){var t=e.props;return[(0,o.Wm)(a.T,(0,o.dG)({variant:"text",depressed:"",icon:"",tile:"",small:""},t),{default:(0,o.w5)((function(){return[(0,o.Wm)(Hn.t,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("mdi-dots-vertical")]})),_:1})]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o.Wm)(vd.i,{class:"tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Uc.l,{onClick:l.handleServerDrawer,"append-icon":"mdi-server-network",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("DataSources")]})),_:1})]})),_:1},8,["onClick"]),(0,o.Wm)(Uc.l,{onClick:l.handleEdit,"append-icon":"mdi-pencil",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Edit")]})),_:1})]})),_:1},8,["onClick"]),(0,o.Wm)(Uc.l,{onClick:l.handleSave,"append-icon":"mdi-content-save",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Save")]})),_:1})]})),_:1},8,["onClick"]),(0,o.Wm)(Uc.l,{onClick:l.handleReset,"append-icon":"mdi-cancel",density:"compact","min-height":"30",class:"sub-tile"},{default:(0,o.w5)((function(){return[(0,o.Wm)(wd.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)("Reset")]})),_:1})]})),_:1},8,["onClick"])]})),_:1})]})),_:1}))])]})),_:1})}var Cd={components:{},data:function(){return{connected:!1}},props:["popup"],setup:function(e){var t=Sn(),r=An(),i=e.popup;return{uiStore:t,clientStore:r,popup:i}},computed:{isRealTimeMode:function(){return"realTime"===this.uiStore.ui.mode}},methods:{handleServerDrawer:function(e){this.uiStore.ui.drawer.server=!0},handleAddView:function(e){this.emitter.emit("show-widget-editor",{id:this.uuid(),edit:!1})},handleAddDataSource:function(e){this.emitter.emit("show-datasource-editor",{id:R(),edit:!1})},handleAddServer:function(e){this.emitter.emit("show-server-editor",{id:R(),edit:!1})},handleSave:function(e){this.emitter.emit("save")},handleLoad:function(e){this.emitter.emit("load")},handleReset:function(e){this.emitter.emit("reset")},handleEdit:function(e){this.uiStore.setEditMode(!this.uiStore.ui.edit)},handleAddPopupWindow:function(e){this.emitter.emit("add-popup")},uuid:function(){return R()},toggleConnection:function(){this.emitter.emit("toggleConnect")}}};const Ed=(0,Rn.Z)(Cd,[["render",Id],["__scopeId","data-v-1372117f"]]);var Dd=Ed;function Ad(e,t,r,i,s,l){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.dashboard.servers,(function(e,t){return(0,o.wg)(),(0,o.j4)(vd.i,{key:t},{default:(0,o.w5)((function(){return[(0,o.Wm)(Uc.l,{value:e.id,variant:"text",onClick:function(t){return l.select(i.dashboard.id,e)}},{default:(0,o.w5)((function(t){t.item;return[(0,o.Wm)(a.T,{"prepend-icon":"mdi-server-network",variant:"text",color:"grey-darken-1"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,n.zw)(e.name),1)]})),_:2},1024)]})),_:2},1032,["value","onClick"]),(0,o.Wm)(yc.K,{class:"ds-container"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.dataSources,(function(t,r){return(0,o.wg)(),(0,o.j4)(bc.D,{key:r},{default:(0,o.w5)((function(){return[(0,o.Wm)(Wc.o,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(a.T,{"prepend-icon":"mdi-database",variant:"text",onClick:function(r){return l.selectDs(i.dashboard,t,e)},class:"ds-btn"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,n.zw)(t.name),1)]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:2},1024),(0,o.Wm)(Jn.C,{class:"spacer"})]})),_:2},1024)})),128)}var Pd={name:"ServerList",data:function(){return{selectedServer:void 0}},setup:function(e){var t=(0,Ln.yj)(),r=An(),i=t.params.dashboardId,o=r.getDashboardById(i);return{clientStore:r,dashboard:o}},methods:{uuid:function(){return R()},select:function(e,t){this.emitter.emit("show-server-editor",{id:t.id,edit:!0})},selectDs:function(e,t,r){this.emitter.emit("show-datasource-editor",{id:t.id,serverId:r.id,edit:!0})}}};const Rd=(0,Rn.Z)(Pd,[["render",Ad],["__scopeId","data-v-42be8f96"]]);var Md=Rd,Od={name:"Dashboard",components:{ServerList:Md,Content:gd,Window:ll,Navbar:Dd},beforeRouteEnter:function(e,t,r){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),t=(0,f.Xl)(gn(e,g(window.opener)?"popup":"main-window"));return n.addWindow(s,t),console.log("created new window with id ".concat(t.id)),t}var o=An(),n=Sn(),a=e.params,s=a.dashboardId,l=a.windowId,c=!g(l),u=g(window.opener);o.getDashboardByIdFromRemote(s,u).then((function(e){g(e)&&g(e.windows)||(console.log("creating new dashboard with id ".concat(s)),o.createNewDashboard(s,e.name));var t=o.getWindowById(s,l);if(!t&&!window.opener){var n=o.getWindowsByType(s,"main-window");n.length>0&&(console.log("Find existing main window with id ".concat(n[0].id)),t=n[0],c=!0)}t||(t=i(l)),c?r({name:"window",params:{dashboardId:s,windowId:t.id}}):r()}))},setup:function(e){var t=yn(),r=An(),i=Sn(),n=g(window.opener),a=(0,Ln.yj)(),s=a.params,l=s.dashboardId,c=s.windowId,u=r.getDashboardById(l);if((0,o.JJ)("windowId",c),!n){var d=r.getDefaultTimeSynchronizer(l);d.subscribe((function(e){if(d.getMode()===m.REAL_TIME)switch(e.status){case"connected":i.setConnected(!0);break;case"disconnected":i.setConnected(!1);break;case"not_running":i.setConnected(!1);break}}),[N.STATUS]),d.onChangedMode=function(e){i.ui.mode=e,console.log("setting mode="+e)}}return{isPopup:n,popupsStore:t,clientStore:r,uiStore:i,windowId:c,dashboard:u}},mounted:function(){var e=this;this.uiStore.setEditMode(!1),this.isPopup?this.init=!0:(this.emitter.on("load",(function(){return e.handleLoad()})),this.emitter.on("save",(function(){return e.handleSave()})),this.emitter.on("reset",(function(){return e.handleReset()})),this.emitter.on("add-popup",(function(){return e.handleAddPopupWindow()})),this.emitter.on("toggleConnect",(function(){return e.toggleConnect()})),this.handleLoad((0,gr.qo)(this.dashboard.windows)).catch(console.error).then(this.init=!0))},beforeUnmount:function(){this.isPopup||(this.emitter.off("load"),this.emitter.off("save"),this.emitter.off("reset"),this.emitter.off("add-popup"),this.emitter.off("toggleConnect"))},data:function(){return{init:!1}},methods:{toggleConnect:function(){this.uiStore.toggleConnect(this.dashboard.id)},closePopups:function(){this.popupsStore.closePopups()},savePopupsPosition:function(){this.popupsStore.savePopupsPosition(this.dashboard.id)},handleSave:function(){this.savePopupsPosition(),this.clientStore.saveConf(this.dashboard.id),this.uiStore.setEditMode(!1)},handleLoad:function(e){var t=this;return(0,h.Z)((0,d.Z)().mark((function r(){return(0,d.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.closePopups(),t.uiStore.loadLayouts(e),r.abrupt("return",new Promise(function(){var e=(0,h.Z)((0,d.Z)().mark((function e(r){var i,o,n,a,s,l,c,h;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.clientStore.getWindowsByType(t.dashboard.id,"popup"),o=(0,u.Z)(i),e.prev=2,o.s();case 4:if((n=o.n()).done){e.next=29;break}if(a=n.value,s="width=".concat(a.size.width,", height=").concat(a.size.height,", screenX=").concat(a.pos.x,", ")+"screenY=".concat(a.pos.y,", ")+"directories=no,titlebar=no,scrollbars=no,resizable=yes,status=no,location=no, locationbar=no,toolbar=no,menubar=no",!("getScreenDetails"in window)){e.next=23;break}return console.log("Multi-Screen Window Placement API is supported"),e.prev=9,!1,e.next=13,navigator.permissions.query({name:"window-placement"});case 13:l=e.sent,c=l.state,"granted"===c,e.next=21;break;case 18:throw e.prev=18,e.t0=e["catch"](9),e.t0;case 21:e.next=24;break;case 23:console.warn("Multi-Screen Window Placement API is not supported");case 24:h=t.openNewWindow(s,a.id),h.moveTo(a.pos.x,a.pos.y),r();case 27:e.next=4;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](2),o.e(e.t1);case 34:return e.prev=34,o.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[2,31,34,37],[9,18]])})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return r.stop()}}),r)})))()},handleReset:function(e){this.closePopups(),this.uiStore.reset(this.dashboard.id)},handleAddPopupWindow:function(e){this.openNewWindow()},openNewWindow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"width=800,height=800,resizable=yes,status=no,scrollbars=no,statusbar=no,sidebar=no,location=no,locationbar=no,toolbar=no,menubar=no,personalbar=no",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R(),r=this.$router.resolve({name:"window",params:{dashboardId:this.dashboard.id,windowId:t}}),i=window.open(r.href,t,e);return this.popupsStore.addPopupWindow(t,i),i}}};const Ld=(0,Rn.Z)(Od,[["render",Vn],["__scopeId","data-v-dd05fdc8"]]);var zd=Ld,jd=[{path:"/",name:"App",component:On,props:!0,redirect:function(e){return{path:"/dashboard/"+R()}}},{path:"/dashboard/:dashboardId",name:"dashboard",component:zd,props:!0,children:[{path:"window/:windowId",name:"window",component:gd,props:!0}]},{path:"/about",name:"About",component:function(){return r.e(2443).then(r.bind(r,38423))}}],Fd=(0,Ln.p7)({history:(0,Ln.r5)(),routes:jd}),Bd=Fd,Vd=(r(36375),r(68957)),Wd=r(97792),Ud=r(91615),Nd=r(22297),qd={dark:!1,colors:{background:"#b4c1cc",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#ffffff","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},Zd=(0,Vd.Rd)({theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:qd}},components:(0,c.Z)((0,c.Z)({},Nd),Wd),directives:Ud}),Hd=r(52944),$d=r(59391),Yd=(0,$d.Z)(),Gd=(0,i.ri)(On);Gd.config.unwrapInjectedRef=!1,Gd.config.globalProperties.emitter=Yd;var Qd=(0,p.WB)();window.pinia=Qd;var Kd=An(Qd),Xd=Sn(Qd);function Jd(e,t){if(Array.isArray(t))e=t;else{for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];t[o]instanceof Object&&o in e&&Object.assign(t[o],Jd(e[o],t[o]))}Object.assign(e||{},t)}return e}function eh(e,t){var r=new BroadcastChannel("STORE_SYNC-"+e.$id),i=-1;(0,o.YP)((function(){return e.syncVersion}),(function(t){t>i&&(i=t,r.postMessage({id:e.id,version:t,state:Hd.Qc(Hd.Pz(e.$state))}))}),{deep:!0}),r.onmessage=function(t){var r=t.data;r.state.id===e.id&&Jd(e,r.state)}}window.opener&&window.opener.pinia&&(Kd.$patch(window.opener.pinia.state.value[Kd.$id]),Xd.$patch(window.opener.pinia.state.value[Xd.$id])),window.opener&&window.opener.pinia?(eh(Xd),eh(window.opener.pinia.state.value[Kd.$id])):(eh(Kd),eh(Xd)),Gd.config.unwrapInjectedRef=!0,Gd.use(Qd),Gd.use(Bd),Gd.use(Zd),Gd.mount("#app")},58661:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$n:function(){return flattenFilter},F3:function(){return chunkArray},qo:function(){return toArray},vk:function(){return parseFn},zr:function(){return stringifyFn}});var _home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56084),_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3336),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57658),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__);function isMergeableObject(e){return isNonNullObject(e)&&!isSpecial(e)}function chunkArray(e,t){return Array.from({length:Math.ceil(e.length/t)},(function(r,i){return e.slice(i*t,i*t+t)}))}function isNonNullObject(e){return!!e&&"object"===(0,_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_2__.Z)(e)}function isSpecial(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||isReactElement(e)}var canUseSymbol="function"===typeof Symbol&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,t){return!1!==t.clone&&t.isMergeableObject(e)?deepmerge(emptyTarget(e),e,t):e}function defaultArrayMerge(e,t,r){return e.concat(t).map((function(e){return cloneUnlessOtherwiseSpecified(e,r)}))}function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var r=t.customMerge(e);return"function"===typeof r?r:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,t){try{return t in e}catch(r){return!1}}function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function mergeObject(e,t,r){var i={};return r.isMergeableObject(e)&&getKeys(e).forEach((function(t){i[t]=cloneUnlessOtherwiseSpecified(e[t],r)})),getKeys(t).forEach((function(o){propertyIsUnsafe(e,o)||(propertyIsOnObject(e,o)&&r.isMergeableObject(t[o])?i[o]=getMergeFunction(o,r)(e[o],t[o],r):i[o]=cloneUnlessOtherwiseSpecified(t[o],r))})),i}function deepmerge(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||defaultArrayMerge,r.isMergeableObject=r.isMergeableObject||isMergeableObject,r.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var i=Array.isArray(t),o=Array.isArray(e),n=i===o;return n?i?r.arrayMerge(e,t,r):mergeObject(e,t,r):cloneUnlessOtherwiseSpecified(t,r)}function toArray(e){var t=[];for(var r in e)t.push(e[r]);return t}function hex2rgba(e){var t=e.match(/\w\w/g).map((function(e){return parseInt(e,16)})),r=(0,_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(t,4),i=r[0],o=r[1],n=r[2],a=r[3];return[i,o,n,a||1]}function flattenFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var i in e)t.includes(i)?r[i]=e[i]:"object"===(0,_home_nevro_Progs_progs_local_git_repo_OSH_gitlab_morpheusx_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_2__.Z)(e[i])&&flattenFilter(e[i],t,r)}function stringifyFn(e){return JSON.stringify(e,(function(e,t){var r;return t instanceof Function||"function"==typeof t?(r=t.toString().replace(/\n/g,""),r.length<8||"function"!==r.substring(0,8)?"_NuFrRa_"+r:r):t instanceof RegExp?"_PxEgEr_"+t:t}),2)}function parseFn(str,date2obj){var iso8061=!!date2obj&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;return JSON.parse(str,(function(key,value){var prefix;return"string"!=typeof value||value.length<8?value:(prefix=value.substring(0,8),iso8061&&value.match(iso8061)?new Date(value):"function"===prefix?eval("("+value+")"):"_PxEgEr_"===prefix||"_NuFrRa_"===prefix?eval(value.slice(8)):value)}))}deepmerge.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return deepmerge(e,r,t)}),{})}},68475:function(e,t,r){r(57658),r(23767),r(8585),r(68696),r(30541),function(t){e.exports=t()}((function(){return function(){return function e(t,r,i){function o(a,s){if(!r[a]){if(!t[a]){var l=void 0;if(!s&&l)return require(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return o(t[a][1][e]||e)}),u,u.exports,e,t,r,i)}return r[a].exports}for(var n=void 0,a=0;a<i.length;a++)o(i[a]);return o}}()({1:[function(e,t,i){(function(r,i){(function(){"use strict";const o=e("events").EventEmitter,n=e("./store"),a=e("./topic-alias-recv"),s=e("./topic-alias-send"),l=e("mqtt-packet"),c=e("./default-message-id-provider"),u=e("readable-stream").Writable,d=e("inherits"),h=e("reinterval"),p=e("rfdc/default"),f=e("./validations"),m=e("xtend"),g=e("debug")("mqttjs:client"),y=r?r.nextTick:function(e){setTimeout(e,0)},b=i.setImmediate||function(e){y(e)},v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],k={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function S(e,t){let r;t.properties&&(r=t.properties.topicAlias);let i=t.topic.toString();if(0===i.length){if(void 0===r)return new Error("Unregistered Topic Alias");if(void 0===(i=e.topicAliasSend.getTopicByAlias(r)))return new Error("Unregistered Topic Alias");t.topic=i}r&&delete t.properties.topicAlias}function _(e,t,r){g("sendPacket :: packet: %O",t),g("sendPacket :: emitting `packetsend`"),e.emit("packetsend",t),g("sendPacket :: writing to stream");const i=l.writeToStream(t,e.stream,e.options);g("sendPacket :: writeToStream result %s",i),!i&&r?(g("sendPacket :: handle events on `drain` once through callback."),e.stream.once("drain",r)):r&&(g("sendPacket :: invoking cb"),r())}function T(e,t,r,i){g("storeAndSend :: store packet with cmd %s to outgoingStore",t.cmd);let o,n=t;if("publish"===n.cmd&&(n=p(t),o=S(e,n)))return r&&r(o);e.outgoingStore.put(n,(function(o){if(o)return r&&r(o);i(),_(e,t,r)}))}function x(e){g("nop ::",e)}function I(e,t){let r;const i=this;if(!(this instanceof I))return new I(e,t);for(r in this.options=t||{},v)void 0===this.options[r]?this.options[r]=v[r]:this.options[r]=t[r];g("MqttClient :: options.protocol",t.protocol),g("MqttClient :: options.protocolVersion",t.protocolVersion),g("MqttClient :: options.username",t.username),g("MqttClient :: options.keepalive",t.keepalive),g("MqttClient :: options.reconnectPeriod",t.reconnectPeriod),g("MqttClient :: options.rejectUnauthorized",t.rejectUnauthorized),g("MqttClient :: options.topicAliasMaximum",t.topicAliasMaximum),this.options.clientId="string"==typeof t.clientId?t.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),g("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.messageIdProvider=void 0===this.options.messageIdProvider?new c:this.options.messageIdProvider,this.outgoingStore=t.outgoingStore||new n,this.incomingStore=t.incomingStore||new n,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,t.topicAliasMaximum>0&&(t.topicAliasMaximum>65535?g("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new a(t.topicAliasMaximum)),this.on("connect",(function(){const e=this.queue;g("connect :: sending queued packets"),function t(){const r=e.shift();g("deliver :: entry %o",r);let o=null;if(!r)return void i._resubscribe();o=r.packet,g("deliver :: call _sendPacket for %o",o);let n=!0;o.messageId&&0!==o.messageId&&(i.messageIdProvider.register(o.messageId)||(n=!1)),n?i._sendPacket(o,(function(e){r.cb&&r.cb(e),t()})):(g("messageId: %d has already used. The message is skipped and removed.",o.messageId),t())}()})),this.on("close",(function(){g("close :: connected set to `false`"),this.connected=!1,g("close :: clearing connackTimer"),clearTimeout(this.connackTimer),g("close :: clearing ping timer"),null!==i.pingTimer&&(i.pingTimer.clear(),i.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),g("close :: calling _setupReconnect"),this._setupReconnect()})),o.call(this),g("MqttClient :: setting up stream"),this._setupStream()}d(I,o),I.prototype._setupStream=function(){const e=this,t=new u,r=l.parser(this.options);let i=null;const o=[];function n(){if(o.length)y(a);else{const e=i;i=null,e()}}function a(){g("work :: getting next packet in queue");const t=o.shift();if(t)g("work :: packet pulled from queue"),e._handlePacket(t,n);else{g("work :: no packets in queue");const e=i;i=null,g("work :: done flag is %s",!!e),e&&e()}}g("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),g("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(function(e){g("parser :: on packet push to packets array."),o.push(e)})),t._write=function(e,t,o){i=o,g("writable stream :: parsing buffer"),r.parse(e),a()},g("_setupStream :: pipe stream to writable stream"),this.stream.pipe(t),this.stream.on("error",(function(t){g("streamErrorHandler :: error",t.message),w.includes(t.code)?(g("streamErrorHandler :: emitting error"),e.emit("error",t)):x(t)})),this.stream.on("close",(function(){var t;g("(%s)stream :: on close",e.options.clientId),(t=e.outgoing)&&(g("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(t).forEach((function(e){t[e].volatile&&"function"==typeof t[e].cb&&(t[e].cb(new Error("Connection closed")),delete t[e])}))),g("stream: emit close to MqttClient"),e.emit("close")})),g("_setupStream: sending packet `connect`");const s=Object.create(this.options);if(s.cmd="connect",this.topicAliasRecv&&(s.properties||(s.properties={}),this.topicAliasRecv&&(s.properties.topicAliasMaximum=this.topicAliasRecv.max)),_(this,s),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return e.end((()=>this.emit("error",new Error("Packet has no Authentication Method")))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket&&_(this,m({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){g("!!connectTimeout hit!! Calling _cleanUp with force `true`"),e._cleanUp(!0)}),this.options.connectTimeout)},I.prototype._handlePacket=function(e,t){const r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(g("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"auth":this._handleAuth(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},I.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},I.prototype.publish=function(e,t,r,i){g("publish :: message `%s` to topic `%s`",t,e);const o=this.options;if("function"==typeof r&&(i=r,r=null),r=m({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(i))return this;const n=this,a=function(){let a=0;if((1===r.qos||2===r.qos)&&null===(a=n._nextId()))return g("No messageId left"),!1;const s={cmd:"publish",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:a,dup:r.dup};switch(5===o.protocolVersion&&(s.properties=r.properties),g("publish :: qos",r.qos),r.qos){case 1:case 2:n.outgoing[s.messageId]={volatile:!1,cb:i||x},g("MqttClient:publish: packet cmd: %s",s.cmd),n._sendPacket(s,void 0,r.cbStorePut);break;default:g("MqttClient:publish: packet cmd: %s",s.cmd),n._sendPacket(s,i,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,cbStorePut:r.cbStorePut,callback:i}),this},I.prototype.subscribe=function(){const e=this,t=new Array(arguments.length);for(let d=0;d<arguments.length;d++)t[d]=arguments[d];const r=[];let i=t.shift();const o=i.resubscribe;let n=t.pop()||x,a=t.pop();const s=this.options.protocolVersion;delete i.resubscribe,"string"==typeof i&&(i=[i]),"function"!=typeof n&&(a=n,n=x);const l=f.validateTopics(i);if(null!==l)return b(n,new Error("Invalid topic "+l)),this;if(this._checkDisconnecting(n))return g("subscribe: discconecting true"),this;const c={qos:0};if(5===s&&(c.nl=!1,c.rap=!1,c.rh=0),a=m(c,a),Array.isArray(i)?i.forEach((function(t){if(g("subscribe: array topic %s",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<a.qos||o){const e={topic:t,qos:a.qos};5===s&&(e.nl=a.nl,e.rap=a.rap,e.rh=a.rh,e.properties=a.properties),g("subscribe: pushing topic `%s` and qos `%s` to subs list",e.topic,e.qos),r.push(e)}})):Object.keys(i).forEach((function(t){if(g("subscribe: object topic %s",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<i[t].qos||o){const e={topic:t,qos:i[t].qos};5===s&&(e.nl=i[t].nl,e.rap=i[t].rap,e.rh=i[t].rh,e.properties=a.properties),g("subscribe: pushing `%s` to subs list",e),r.push(e)}})),!r.length)return n(null,[]),this;const u=function(){const t=e._nextId();if(null===t)return g("No messageId left"),!1;const i={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:t};if(a.properties&&(i.properties=a.properties),e.options.resubscribe){g("subscribe :: resubscribe true");const t=[];r.forEach((function(r){if(e.options.reconnectPeriod>0){const i={qos:r.qos};5===s&&(i.nl=r.nl||!1,i.rap=r.rap||!1,i.rh=r.rh||0,i.properties=r.properties),e._resubscribeTopics[r.topic]=i,t.push(r.topic)}})),e.messageIdToTopic[i.messageId]=t}return e.outgoing[i.messageId]={volatile:!0,cb:function(e,t){if(!e){const e=t.granted;for(let t=0;t<e.length;t+=1)r[t].qos=e[t]}n(e,r)}},g("subscribe :: call _sendPacket"),e._sendPacket(i),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!u())&&this._storeProcessingQueue.push({invoke:u,callback:n}),this},I.prototype.unsubscribe=function(){const e=this,t=new Array(arguments.length);for(let s=0;s<arguments.length;s++)t[s]=arguments[s];let r=t.shift(),i=t.pop()||x,o=t.pop();"string"==typeof r&&(r=[r]),"function"!=typeof i&&(o=i,i=x);const n=f.validateTopics(r);if(null!==n)return b(i,new Error("Invalid topic "+n)),this;if(e._checkDisconnecting(i))return this;const a=function(){const t=e._nextId();if(null===t)return g("No messageId left"),!1;const n={cmd:"unsubscribe",qos:1,messageId:t};return"string"==typeof r?n.unsubscriptions=[r]:Array.isArray(r)&&(n.unsubscriptions=r),e.options.resubscribe&&n.unsubscriptions.forEach((function(t){delete e._resubscribeTopics[t]})),"object"==typeof o&&o.properties&&(n.properties=o.properties),e.outgoing[n.messageId]={volatile:!0,cb:i},g("unsubscribe: call _sendPacket"),e._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,callback:i}),this},I.prototype.end=function(e,t,r){const i=this;function o(){g("end :: (%s) :: finish :: calling _cleanUp with force %s",i.options.clientId,e),i._cleanUp(e,(()=>{g("end :: finish :: calling process.nextTick on closeStores"),y(function(){g("end :: closeStores: closing incoming and outgoing stores"),i.disconnected=!0,i.incomingStore.close((function(e){i.outgoingStore.close((function(t){if(g("end :: closeStores: emitting end"),i.emit("end"),r){const i=e||t;g("end :: closeStores: invoking callback with args"),r(i)}}))})),i._deferredReconnect&&i._deferredReconnect()}.bind(i))}),t)}return g("end :: (%s)",this.options.clientId),null!=e&&"boolean"==typeof e||(r=t||x,t=e,e=!1,"object"!=typeof t&&(r=t,t=null,"function"!=typeof r&&(r=x))),"object"!=typeof t&&(r=t,t=null),g("end :: cb? %s",!!r),r=r||x,this.disconnecting?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(g("end :: (%s) :: calling finish in 10ms once outgoing is empty",i.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(g("end :: (%s) :: immediately calling finish",i.options.clientId),o()),this)},I.prototype.removeOutgoingMessage=function(e){const t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},(function(){t(new Error("Message removed"))})),this},I.prototype.reconnect=function(e){g("client reconnect");const t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new n,t.outgoingStore=t.options.outgoingStore||new n,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},I.prototype._reconnect=function(){g("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((()=>{this._setupStream()})),g("client already connected. disconnecting first.")):(g("_reconnect: calling _setupStream"),this._setupStream())},I.prototype._setupReconnect=function(){const e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(g("_setupReconnect :: emit `offline` state"),this.emit("offline"),g("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),g("_setupReconnect :: setting reconnectTimer for %d ms",e.options.reconnectPeriod),e.reconnectTimer=setInterval((function(){g("reconnectTimer :: reconnect triggered!"),e._reconnect()}),e.options.reconnectPeriod)):g("_setupReconnect :: doing nothing...")},I.prototype._clearReconnect=function(){g("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},I.prototype._cleanUp=function(e,t){const r=arguments[2];if(t&&(g("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),g("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&(i=this.outgoing)&&(g("flush: queue exists? %b",!!i),Object.keys(i).forEach((function(e){"function"==typeof i[e].cb&&(i[e].cb(new Error("Connection closed")),delete i[e])}))),g("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const e=m({cmd:"disconnect"},r);g("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(e,b.bind(null,this.stream.end.bind(this.stream)))}var i;this.disconnecting||(g("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(g("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(g("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())},I.prototype._sendPacket=function(e,t,r){g("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||x,t=t||x;const i=function(e,t){if(5===e.options.protocolVersion&&"publish"===t.cmd){let r;t.properties&&(r=t.properties.topicAlias);const i=t.topic.toString();if(e.topicAliasSend)if(r){if(0!==i.length&&(g("applyTopicAlias :: register topic: %s - alias: %d",i,r),!e.topicAliasSend.put(i,r)))return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}else 0!==i.length&&(e.options.autoAssignTopicAlias?(r=e.topicAliasSend.getAliasByTopic(i))?(t.topic="",t.properties={...t.properties,topicAlias:r},g("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",i,r)):(r=e.topicAliasSend.getLruAlias(),e.topicAliasSend.put(i,r),t.properties={...t.properties,topicAlias:r},g("applyTopicAlias :: auto assign topic: %s - alias: %d",i,r)):e.options.autoUseTopicAlias&&(r=e.topicAliasSend.getAliasByTopic(i))&&(t.topic="",t.properties={...t.properties,topicAlias:r},g("applyTopicAlias :: auto use topic: %s - alias: %d",i,r)));else if(r)return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}}(this,e);if(i)t(i);else{if(!this.connected)return"auth"===e.cmd?(this._shiftPingInterval(),void _(this,e,t)):(g("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,r));switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void T(this,e,t,r);default:return void _(this,e,t)}switch(e.qos){case 2:case 1:T(this,e,t,r);break;case 0:default:_(this,e,t)}g("_sendPacket :: (%s) ::  end",this.options.clientId)}},I.prototype._storePacket=function(e,t,r){g("_storePacket :: packet: %o",e),g("_storePacket :: cb? %s",!!t),r=r||x;let i=e;if("publish"===i.cmd){const r=S(this,i=p(e));if(r)return t&&t(r)}0===(i.qos||0)&&this.queueQoSZero||"publish"!==i.cmd?this.queue.push({packet:i,cb:t}):i.qos>0?(t=this.outgoing[i.messageId]?this.outgoing[i.messageId].cb:null,this.outgoingStore.put(i,(function(e){if(e)return t&&t(e);r()}))):t&&t(new Error("No connection to broker"))},I.prototype._setupPingTimer=function(){g("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=h((function(){e._checkPing()}),1e3*this.options.keepalive))},I.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},I.prototype._checkPing=function(){g("_checkPing :: checking ping..."),this.pingResp?(g("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(g("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},I.prototype._handlePingresp=function(){this.pingResp=!0},I.prototype._handleConnack=function(e){g("_handleConnack");const t=this.options,r=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));e.properties.topicAliasMaximum>0&&(this.topicAliasSend=new s(e.properties.topicAliasMaximum))}e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)}if(0===r)this.reconnecting=!1,this._onConnect(e);else if(r>0){const e=new Error("Connection refused: "+k[r]);e.code=r,this.emit("error",e)}},I.prototype._handleAuth=function(e){const t=this.options.protocolVersion,r=5===t?e.reasonCode:e.returnCode;if(5!==t){const e=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+t);return e.code=r,void this.emit("error",e)}const i=this;this.handleAuth(e,(function(e,t){if(e)i.emit("error",e);else if(24===r)i.reconnecting=!1,i._sendPacket(t);else{const t=new Error("Connection refused: "+k[r]);e.code=r,i.emit("error",t)}}))},I.prototype.handleAuth=function(e,t){t()},I.prototype._handlePublish=function(e,t){g("_handlePublish: packet %o",e),t=void 0!==t?t:x;let r=e.topic.toString();const i=e.payload,o=e.qos,n=e.messageId,a=this,s=this.options,l=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let t;if(e.properties&&(t=e.properties.topicAlias),void 0!==t)if(0===r.length){if(!(t>0&&t<=65535))return g("_handlePublish :: topic alias out of range. alias: %d",t),void this.emit("error",new Error("Received Topic Alias is out of range"));{const e=this.topicAliasRecv.getTopicByAlias(t);if(!e)return g("_handlePublish :: unregistered topic alias. alias: %d",t),void this.emit("error",new Error("Received unregistered Topic Alias"));g("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",r=e,t)}}else{if(!this.topicAliasRecv.put(r,t))return g("_handlePublish :: topic alias out of range. alias: %d",t),void this.emit("error",new Error("Received Topic Alias is out of range"));g("_handlePublish :: registered topic: %s - alias: %d",r,t)}}switch(g("_handlePublish: qos %d",o),o){case 2:s.customHandleAcks(r,i,e,(function(r,i){return r instanceof Error||(i=r,r=null),r?a.emit("error",r):-1===l.indexOf(i)?a.emit("error",new Error("Wrong reason code for pubrec")):void(i?a._sendPacket({cmd:"pubrec",messageId:n,reasonCode:i},t):a.incomingStore.put(e,(function(){a._sendPacket({cmd:"pubrec",messageId:n},t)})))}));break;case 1:s.customHandleAcks(r,i,e,(function(o,s){return o instanceof Error||(s=o,o=null),o?a.emit("error",o):-1===l.indexOf(s)?a.emit("error",new Error("Wrong reason code for puback")):(s||a.emit("message",r,i,e),void a.handleMessage(e,(function(e){if(e)return t&&t(e);a._sendPacket({cmd:"puback",messageId:n,reasonCode:s},t)})))}));break;case 0:this.emit("message",r,i,e),this.handleMessage(e,t);break;default:g("_handlePublish: unknown QoS. Doing nothing.")}},I.prototype.handleMessage=function(e,t){t()},I.prototype._handleAck=function(e){const t=e.messageId,r=e.cmd;let i=null;const o=this.outgoing[t]?this.outgoing[t].cb:null,n=this;let a;if(o){switch(g("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{const r=e.reasonCode;r&&r>0&&16!==r&&((a=new Error("Publish error: "+k[r])).code=r,o(a,e)),delete this.outgoing[t],this.outgoingStore.del(e,o),this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue();break}case"pubrec":{i={cmd:"pubrel",qos:2,messageId:t};const r=e.reasonCode;r&&r>0&&16!==r?((a=new Error("Publish error: "+k[r])).code=r,o(a,e)):this._sendPacket(i);break}case"suback":delete this.outgoing[t],this.messageIdProvider.deallocate(t);for(let r=0;r<e.granted.length;r++)if(0!=(128&e.granted[r])){const e=this.messageIdToTopic[t];e&&e.forEach((function(e){delete n._resubscribeTopics[e]}))}this._invokeStoreProcessingQueue(),o(null,e);break;case"unsuback":delete this.outgoing[t],this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue(),o(null);break;default:n.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else g("_handleAck :: Server sent an ack in error. Ignoring.")},I.prototype._handlePubrel=function(e,t){g("handling pubrel packet"),t=void 0!==t?t:x;const r=this,i={cmd:"pubcomp",messageId:e.messageId};r.incomingStore.get(e,(function(e,o){e?r._sendPacket(i,t):(r.emit("message",o.topic,o.payload,o),r.handleMessage(o,(function(e){if(e)return t(e);r.incomingStore.del(o,x),r._sendPacket(i,t)})))}))},I.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},I.prototype._nextId=function(){return this.messageIdProvider.allocate()},I.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},I.prototype._resubscribe=function(){g("_resubscribe");const e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){g("_resubscribe: protocolVersion 5");for(let t=0;t<e.length;t++){const r={};r[e[t]]=this._resubscribeTopics[e[t]],r.resubscribe=!0,this.subscribe(r,{properties:r[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},I.prototype._onConnect=function(e){if(this.disconnected)return void this.emit("connect",e);const t=this;this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){let i=t.outgoingStore.createStream();function o(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function n(){i.destroy(),i=null,t._flushStoreProcessingQueue(),o()}t.once("close",n),i.on("error",(function(e){o(),t._flushStoreProcessingQueue(),t.removeListener("close",n),t.emit("error",e)})),i.on("end",(function(){let i=!0;for(const e in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[e]){i=!1;break}i?(o(),t.removeListener("close",n),t._invokeAllStoreProcessingQueue(),t.emit("connect",e)):r()})),function e(){if(!i)return;t._storeProcessing=!0;const r=i.read(1);let o;r?t._packetIdsDuringStoreProcessing[r.messageId]?e():t.disconnecting||t.reconnectTimer?i.destroy&&i.destroy():(o=t.outgoing[r.messageId]?t.outgoing[r.messageId].cb:null,t.outgoing[r.messageId]={volatile:!1,cb:function(t,r){o&&o(t,r),e()}},t._packetIdsDuringStoreProcessing[r.messageId]=!0,t.messageIdProvider.register(r.messageId)?t._sendPacket(r):g("messageId: %d has already used.",r.messageId)):i.once("readable",e)}()}()},I.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1},I.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},I.prototype._flushStoreProcessingQueue=function(){for(const e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},t.exports=I}).call(this)}).call(this,e("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(e,t,r){(function(r){(function(){"use strict";const i=e("readable-stream").Transform,o=e("duplexify");let n,a,s,l=!1;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");const c="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);const u=function(e,t){const r="alis"===e.protocol?"wss":"ws";let i=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(i=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(i=e.transformWsUrl(i,e,t)),i}(t,e);return(n=t.my).connectSocket({url:u,protocols:c}),a=function(){const e=new i;return e._write=function(e,t,r){n.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){n.closeSocket({success:function(){e()}})},e}(),s=o.obj(),l||(l=!0,n.onSocketOpen((function(){s.setReadable(a),s.setWritable(a),s.emit("connect")})),n.onSocketMessage((function(e){if("string"==typeof e.data){const t=r.from(e.data,"base64");a.push(t)}else{const t=new FileReader;t.addEventListener("load",(function(){let e=t.result;e=e instanceof ArrayBuffer?r.from(e):r.from(e,"utf8"),a.push(e)})),t.readAsArrayBuffer(e.data)}})),n.onSocketClose((function(){s.end(),s.destroy()})),n.onSocketError((function(e){s.destroy(e)}))),s}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(e,t,r){"use strict";const i=e("net"),o=e("debug")("mqttjs:tcp");t.exports=function(e,t){t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost";const r=t.port,n=t.hostname;return o("port %d and host %s",r,n),i.createConnection(r,n)}},{debug:18,net:16}],4:[function(e,t,r){"use strict";const i=e("tls"),o=e("net"),n=e("debug")("mqttjs:tls");t.exports=function(e,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===o.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,n("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);const r=i.connect(t);function a(i){t.rejectUnauthorized&&e.emit("error",i),r.end()}return r.on("secureConnect",(function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",a)})),r.on("error",a),r}},{debug:18,net:16,tls:16}],5:[function(e,t,i){(function(i,o){(function(){"use strict";const n=e("ws"),a=e("debug")("mqttjs:ws"),s=e("duplexify"),l=e("readable-stream").Transform,c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],u=void 0!==i&&"browser"===i.title||"function"==typeof r;function d(e,t){let r=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(e){const t=e;return e.hostname||(t.hostname="localhost"),e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),u||"wss"!==e.protocol||c.forEach((function(r){Object.prototype.hasOwnProperty.call(e,r)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,r)&&(t.wsOptions[r]=e[r])})),t}t.exports=u?function(e,t){let r;a("browserStreamBuilder");const i=function(e){const t=h(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");const e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=e.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,n=t.browserBufferTimeout||1e3,c=!t.objectMode,u=function(e,t){const r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",i=d(t,e),o=new WebSocket(i,[r]);return o.binaryType="arraybuffer",o}(e,t),p=function(e,t,r){const i=new l({objectModeMode:e.objectMode});return i._write=t,i._flush=r,i}(t,(function e(t,r,a){u.bufferedAmount>i&&setTimeout(e,n,t,r,a),c&&"string"==typeof t&&(t=o.from(t,"utf8"));try{u.send(t)}catch(e){return a(e)}a()}),(function(e){u.close(),e()}));t.objectMode||(p._writev=v),p.on("close",(()=>{u.close()}));const f=void 0!==u.addEventListener;function m(){r.setReadable(p),r.setWritable(p),r.emit("connect")}function g(){r.end(),r.destroy()}function y(e){r.destroy(e)}function b(e){let t=e.data;t=t instanceof ArrayBuffer?o.from(t):o.from(t,"utf8"),p.push(t)}function v(e,t){const r=new Array(e.length);for(let i=0;i<e.length;i++)"string"==typeof e[i].chunk?r[i]=o.from(e[i],"utf8"):r[i]=e[i].chunk;this._write(o.concat(r),"binary",t)}return u.readyState===u.OPEN?r=p:(r=r=s(void 0,void 0,t),t.objectMode||(r._writev=v),f?u.addEventListener("open",m):u.onopen=m),r.socket=u,f?(u.addEventListener("close",g),u.addEventListener("error",y),u.addEventListener("message",b)):(u.onclose=g,u.onerror=y,u.onmessage=b),r}:function(e,t){a("streamBuilder");const r=h(t),i=d(r,e),o=function(e,t,r){a("createWebSocket"),a("protocol: "+r.protocolId+" "+r.protocolVersion);const i="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";return a("creating new Websocket for url: "+t+" and protocol: "+i),new n(t,[i],r.wsOptions)}(0,i,r),s=n.createWebSocketStream(o,r.wsOptions);return s.url=i,o.on("close",(()=>{s.destroy()})),s}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(e,t,r){(function(r){(function(){"use strict";const i=e("readable-stream").Transform,o=e("duplexify");let n,a,s;t.exports=function(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");const l="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(t);const c=function(e,t){const r="wxs"===e.protocol?"wss":"ws";let i=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(i=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(i=e.transformWsUrl(i,e,t)),i}(t,e);n=wx.connectSocket({url:c,protocols:[l]}),a=function(){const e=new i;return e._write=function(e,t,r){n.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){n.close({success:function(){e()}})},e}(),(s=o.obj())._destroy=function(e,t){n.close({success:function(){t&&t(e)}})};const u=s.destroy;return s.destroy=function(){s.destroy=u;const e=this;setTimeout((function(){n.close({fail:function(){e._destroy(new Error)}})}),0)}.bind(s),n.onOpen((function(){s.setReadable(a),s.setWritable(a),s.emit("connect")})),n.onMessage((function(e){let t=e.data;t=t instanceof ArrayBuffer?r.from(t):r.from(t,"utf8"),a.push(t)})),n.onClose((function(){s.end(),s.destroy()})),n.onError((function(e){s.destroy(new Error(e.errMsg))})),s}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(e,t,r){"use strict";function i(){if(!(this instanceof i))return new i;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}i.prototype.allocate=function(){const e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},i.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},i.prototype.register=function(e){return!0},i.prototype.deallocate=function(e){},i.prototype.clear=function(){},t.exports=i},{}],8:[function(e,t,r){"use strict";const i=e("xtend"),o=e("readable-stream").Readable,n={objectMode:!0},a={clean:!0};function s(e){if(!(this instanceof s))return new s(e);this.options=e||{},this.options=i(a,e),this._inflights=new Map}s.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},s.prototype.createStream=function(){const e=new o(n),t=[];let r=!1,i=0;return this._inflights.forEach((function(e,r){t.push(e)})),e._read=function(){!r&&i<t.length?this.push(t[i++]):this.push(null)},e.destroy=function(){if(r)return;const e=this;r=!0,setTimeout((function(){e.emit("close")}),0)},e},s.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},s.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},s.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=s},{"readable-stream":69,xtend:81}],9:[function(e,t,r){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.aliasToTopic={},this.max=e}i.prototype.put=function(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)},i.prototype.getTopicByAlias=function(e){return this.aliasToTopic[e]},i.prototype.clear=function(){this.aliasToTopic={}},t.exports=i},{}],10:[function(e,t,r){"use strict";const i=e("lru-cache"),o=e("number-allocator").NumberAllocator;function n(e){if(!(this instanceof n))return new n(e);e>0&&(this.aliasToTopic=new i({max:e}),this.topicToAlias={},this.numberAllocator=new o(1,e),this.max=e,this.length=0)}n.prototype.put=function(e,t){if(0===t||t>this.max)return!1;const r=this.aliasToTopic.get(t);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.length,!0},n.prototype.getTopicByAlias=function(e){return this.aliasToTopic.get(e)},n.prototype.getAliasByTopic=function(e){const t=this.topicToAlias[e];return void 0!==t&&this.aliasToTopic.get(t),t},n.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},n.prototype.getLruAlias=function(){const e=this.numberAllocator.firstVacant();return e||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=n},{"lru-cache":37,"number-allocator":46}],11:[function(e,t,r){"use strict";function i(e){const t=e.split("/");for(let r=0;r<t.length;r++)if("+"!==t[r]){if("#"===t[r])return r===t.length-1;if(-1!==t[r].indexOf("+")||-1!==t[r].indexOf("#"))return!1}return!0}t.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(let t=0;t<e.length;t++)if(!i(e[t]))return e[t];return null}}},{}],12:[function(e,t,i){(function(i){(function(){"use strict";const o=e("../client"),n=e("../store"),a=e("url"),s=e("xtend"),l=e("debug")("mqttjs"),c={};function u(e,t){if(l("connecting to an MQTT broker..."),"object"!=typeof e||t||(t=e,e=null),t=t||{},e){const r=a.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(t=s(r,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(function(e){let t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!c[t.protocol]){const e=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(t,r){return(!e||r%2!=0)&&"function"==typeof c[t]}))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);const r=new o((function(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),l("calling streambuilder for",t.protocol),c[t.protocol](e,t)}),t);return r.on("error",(function(){})),r}void 0!==i&&"browser"!==i.title||"function"!=typeof r?(c.mqtt=e("./tcp"),c.tcp=e("./tcp"),c.ssl=e("./tls"),c.tls=e("./tls"),c.mqtts=e("./tls")):(c.wx=e("./wx"),c.wxs=e("./wx"),c.ali=e("./ali"),c.alis=e("./ali")),c.ws=e("./ws"),c.wss=e("./ws"),t.exports=u,t.exports.connect=u,t.exports.MqttClient=o,t.exports.Store=n}).call(this)}).call(this,e("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),r=t[0],i=t[1];return 3*(r+i)/4-i},r.toByteArray=function(e){var t,r,i=c(e),a=i[0],s=i[1],l=new n(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},r.fromByteArray=function(e){for(var t,r=e.length,o=r%3,n=[],a=0,s=r-o;a<s;a+=16383)n.push(u(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[r-1],n.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],n.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),n.join("")};for(var i=[],o=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var o,n,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(n=o)>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],14:[function(e,t,r){"use strict";const{Buffer:i}=e("buffer"),o=Symbol.for("BufferList");function n(e){if(!(this instanceof n))return new n(e);n._init.call(this,e)}n._init=function(e){Object.defineProperty(this,o,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},n.prototype._new=function(e){return new n(e)},n.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const i=t+this._bufs[r].length;if(e<i||r===this._bufs.length-1)return[r,e-t];t=i}},n.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let i=0;i<t;i++)r+=this._bufs[i].length;return r},n.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},n.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},n.prototype.copy=function(e,t,r,o){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof o||o>this.length)&&(o=this.length),r>=this.length)return e||i.alloc(0);if(o<=0)return e||i.alloc(0);const n=!!e,a=this._offset(r),s=o-r;let l=s,c=n&&t||0,u=a[1];if(0===r&&o===this.length){if(!n)return 1===this._bufs.length?this._bufs[0]:i.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[a[0]].length-u)return n?this._bufs[a[0]].copy(e,t,u,u+l):this._bufs[a[0]].slice(u,u+l);n||(e=i.allocUnsafe(s));for(let i=a[0];i<this._bufs.length;i++){const t=this._bufs[i].length-u;if(!(l>t)){this._bufs[i].copy(e,c,u,u+l),c+=t;break}this._bufs[i].copy(e,c,u),c+=t,l-=t,u&&(u=0)}return e.length>c?e.slice(0,c):e},n.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),i=this._offset(t),o=this._bufs.slice(r[0],i[0]+1);return 0===i[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),0!==r[1]&&(o[0]=o[0].slice(r[1])),this._new(o)},n.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},n.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},n.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},n.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(i.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(i.from(e));return this},n.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},n.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=i.from([e]):"string"==typeof e?e=i.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=i.from(e.buffer,e.byteOffset,e.byteLength):i.isBuffer(e)||(e=i.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const o=this._offset(t);let n=o[0],a=o[1];for(;n<this._bufs.length;n++){const t=this._bufs[n];for(;a<t.length;)if(t.length-a>=e.length){const r=t.indexOf(e,a);if(-1!==r)return this._reverseOffset([n,r]);a=t.length-e.length+1}else{const t=this._reverseOffset([n,a]);if(this._match(t,e))return t;a++}a=0}return-1},n.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){n.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),n.prototype._isBufferList=function(e){return e instanceof n||n.isBufferList(e)},n.isBufferList=function(e){return null!=e&&e[o]},t.exports=n},{buffer:17}],15:[function(e,t,r){"use strict";const i=e("readable-stream").Duplex,o=e("inherits"),n=e("./BufferList");function a(e){if(!(this instanceof a))return new a(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}n._init.call(this,e),i.call(this)}o(a,i),Object.assign(a.prototype,n.prototype),a.prototype._new=function(e){return new a(e)},a.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},a.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},a.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},a.prototype._isBufferList=function(e){return e instanceof a||e instanceof n||a.isBufferList(e)},a.isBufferList=n.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=n},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(e,t,r){},{}],17:[function(e,t,r){(function(t){(function(){"use strict";var t=e("base64-js"),i=e("ieee754");r.Buffer=a,r.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function n(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),i=n(r),o=i.write(e,t);return o!==r&&(i=i.slice(0,o)),i}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),i.__proto__=a.prototype,i}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return a.from(i,t,r);var o=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=n(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||V(e.length)?n(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),n(e<0?0:0|d(e))}function u(e){for(var t=e.length<0?0:0|d(e.length),r=n(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(o)return i?-1:z(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function f(e,t,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),V(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=a.from(t,i)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,i,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,i,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,i,o){var n,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(n=r;n<s;n++)if(c(e,n)===c(t,-1===u?0:n-u)){if(-1===u&&(u=n),n-u+1===l)return u*a}else-1!==u&&(n-=n-u),u=-1}else for(r+l>s&&(r=s-l),n=r;n>=0;n--){for(var d=!0,h=0;h<l;h++)if(c(e,n+h)!==c(t,h)){d=!1;break}if(d)return n}return-1}function g(e,t,r,i){r=Number(r)||0;var o=e.length-r;i?(i=Number(i))>o&&(i=o):i=o;var n=t.length;i>n/2&&(i=n/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(V(s))return a;e[r+a]=s}return a}function y(e,t,r,i){return F(z(t,e.length-r),e,r,i)}function b(e,t,r,i){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function v(e,t,r,i){return b(e,t,r,i)}function w(e,t,r,i){return F(j(t),e,r,i)}function k(e,t,r,i){return F(function(e,t){for(var r,i,o,n=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),i=r>>8,o=r%256,n.push(o),n.push(i);return n}(t,e.length-r),e,r,i)}function S(e,r,i){return 0===r&&i===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,i))}function _(e,t,r){r=Math.min(e.length,r);for(var i=[],o=t;o<r;){var n,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(n=e[o+1]))&&(l=(31&c)<<6|63&n)>127&&(u=l);break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(l=(15&c)<<12|(63&n)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&n)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),o+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=T));return r}(i)}r.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}(e,t,r)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,o=0,n=Math.min(r,i);o<n;++o)if(e[o]!==t[o]){r=e[o],i=t[o];break}return r<i?-1:i<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=a.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var n=e[r];if(B(n,Uint8Array)&&(n=a.from(n)),!a.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(i,o),o+=n.length}return i},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):function(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return _(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,r,i,o){if(B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=r)return 0;if(i>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var n=o-i,s=r-t,l=Math.min(n,s),c=this.slice(i,o),u=e.slice(t,r),d=0;d<l;++d)if(c[d]!==u[d]){n=c[d],s=u[d];break}return n<s?-1:s<n?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return f(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return f(this,e,t,r,!1)},a.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var n=!1;;)switch(i){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function x(e,t,r){var i="";r=Math.min(e.length,r);for(var o=t;o<r;++o)i+=String.fromCharCode(127&e[o]);return i}function I(e,t,r){var i="";r=Math.min(e.length,r);for(var o=t;o<r;++o)i+=String.fromCharCode(e[o]);return i}function C(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",n=t;n<r;++n)o+=L(e[n]);return o}function E(e,t,r){for(var i=e.slice(t,r),o="",n=0;n<i.length;n+=2)o+=String.fromCharCode(i[n]+256*i[n+1]);return o}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,i,o,n){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<n)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function P(e,t,r,i,o,n){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,o,n){return t=+t,r>>>=0,n||P(e,0,r,4),i.write(e,t,r,o,23,4),r+4}function M(e,t,r,o,n){return t=+t,r>>>=0,n||P(e,0,r,8),i.write(e,t,r,o,52,8),r+8}a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return i.__proto__=a.prototype,i},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var i=this[e],o=1,n=0;++n<t&&(o*=256);)i+=this[e+n]*o;return i},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},a.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var i=this[e],o=1,n=0;++n<t&&(o*=256);)i+=this[e+n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var i=t,o=1,n=this[e+--i];i>0&&(o*=256);)n+=this[e+--i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||A(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,n=0;for(this[t]=255&e;++n<r&&(o*=256);)this[t+n]=e/o&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||A(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,n=1;for(this[t+o]=255&e;--o>=0&&(n*=256);)this[t+o]=e/n&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var o=Math.pow(2,8*r-1);A(this,e,t,r,o-1,-o)}var n=0,a=1,s=0;for(this[t]=255&e;++n<r&&(a*=256);)e<0&&0===s&&0!==this[t+n-1]&&(s=1),this[t+n]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var o=Math.pow(2,8*r-1);A(this,e,t,r,o-1,-o)}var n=r-1,a=1,s=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===s&&0!==this[t+n+1]&&(s=1),this[t+n]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,i){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var o=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,i);else if(this===e&&r<t&&t<i)for(var n=o-1;n>=0;--n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),t);return o},a.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var s=a.isBuffer(e)?e:a.from(e,i),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var i=e.length,o=null,n=[],a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&n.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&n.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function j(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,i){for(var o=0;o<i&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(e,t,r){(function(i){(function(){r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&"%c"===e&&(o=++i)})),e.splice(o,0,r)},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(r);const{formatters:o}=t.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":19,_process:50}],19:[function(e,t,r){t.exports=function(t){function r(e){let t,o,n,a=null;function s(...e){if(!s.enabled)return;const i=s,o=Number(new Date),n=o-(t||o);i.diff=n,i.prev=t,i.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,o)=>{if("%%"===t)return"%";a++;const n=r.formatters[o];if("function"==typeof n){const r=e[a];t=n.call(i,r),e.splice(a,1),a--}return t})),r.formatArgs.call(i,e),(i.log||r.log).apply(i,e)}return s.namespace=e,s.useColors=r.useColors(),s.color=r.selectColor(e),s.extend=i,s.destroy=r.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==r.namespaces&&(o=r.namespaces,n=r.enabled(e)),n),set:e=>{a=e}}),"function"==typeof r.init&&r.init(s),s}function i(e,t){const i=r(this.namespace+(void 0===t?":":t)+e);return i.log=this.log,i}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(o),...r.skips.map(o).map((e=>"-"+e))].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),o=i.length;for(t=0;t<o;t++)i[t]&&("-"===(e=i[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,i;for(t=0,i=r.skips.length;t<i;t++)if(r.skips[t].test(e))return!1;for(t=0,i=r.names.length;t<i;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((e=>{r[e]=t[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},{ms:45}],20:[function(e,t,r){(function(r,i){(function(){var o=e("readable-stream"),n=e("end-of-stream"),a=e("inherits"),s=e("stream-shift"),l=i.from&&i.from!==Uint8Array.from?i.from([0]):new i([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},u=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},d=function(){},h=function(e,t,r){if(!(this instanceof h))return new h(e,t,r);o.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};a(h,o.Duplex),h.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new h(e,t,r)},h.prototype.cork=function(){1==++this._corked&&this.emit("cork")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},h.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,i=n(e,{writable:!0,readable:!1},u(this,this._forwardEnd)),o=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(o),this._writable=e,this._writable.on("drain",o),this._unwrite=function(){t._writable.removeListener("drain",o),i()},this.uncork()}else this.end()},h.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,i=n(e,{writable:!1,readable:!0},u(this)),a=function(){r._forward()},s=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new o.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",a),this._readable2.on("end",s),this._unread=function(){r._readable2.removeListener("readable",a),r._readable2.removeListener("end",s),i()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=s(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},h.prototype.destroy=function(e,t){if(t||(t=d),this.destroyed)return t(null);this.destroyed=!0;var i=this;r.nextTick((function(){i._destroy(e),t(null)}))},h.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},h.prototype._write=function(e,t,r){if(!this.destroyed)return this._corked?c(this,this._write.bind(this,e,t,r)):e===l?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()):r()},h.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){var r,i;r=t._forwardEnd&&t._writable,i=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},r?r._writableState&&r._writableState.finished?i():r._writableState?r.end(i):(r.end(),i()):i()}))},h.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(l),o.Writable.prototype.end.call(this,r))},t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(e,t,r){(function(r){(function(){var i=e("once"),o=function(){},n=function(e,t,a){if("function"==typeof t)return n(e,null,t);t||(t={}),a=i(a||o);var s=e._writableState,l=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,d=!1,h=function(){e.writable||p()},p=function(){u=!1,c||a.call(e)},f=function(){c=!1,u||a.call(e)},m=function(t){a.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){a.call(e,t)},y=function(){r.nextTick(b)},b=function(){if(!d)return(!c||l&&l.ended&&!l.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:a.call(e,new Error("premature close"))},v=function(){e.req.on("finish",p)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",p),e.on("abort",y),e.req?v():e.on("request",v)):u&&!s&&(e.on("end",h),e.on("close",h)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",f),e.on("finish",p),!1!==t.error&&e.on("error",g),e.on("close",y),function(){d=!0,e.removeListener("complete",p),e.removeListener("abort",y),e.removeListener("request",v),e.req&&e.req.removeListener("finish",p),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("exit",m),e.removeListener("end",f),e.removeListener("error",g),e.removeListener("close",y)}};t.exports=n}).call(this)}).call(this,e("_process"))},{_process:50,once:48}],22:[function(e,t,r){var i=Object.create||function(e){var t=function(){};return t.prototype=e,new t},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},n=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(e){s=!1}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,o){var n,a,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]):(a=e._events=i(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=o?[r,s]:[s,r]:o?s.unshift(r):s.push(r),!s.warned&&(n=u(e))&&n>0&&s.length>n){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=r,++e._eventsCount;return e}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=n.call(h,i);return o.listener=r,i.wrapFn=o,o}function f(e,t,r){var i=e._events;if(!i)return[];var o=i[t];return o?"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):g(o,o.length):[]}function m(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function g(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){var t,r,i,o,n,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(r=a[e]))return!1;var c="function"==typeof r;switch(i=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var i=e.length,o=g(e,i),n=0;n<i;++n)o[n].call(r)}(r,c,this);break;case 2:!function(e,t,r,i){if(t)e.call(r,i);else for(var o=e.length,n=g(e,o),a=0;a<o;++a)n[a].call(r,i)}(r,c,this,arguments[1]);break;case 3:!function(e,t,r,i,o){if(t)e.call(r,i,o);else for(var n=e.length,a=g(e,n),s=0;s<n;++s)a[s].call(r,i,o)}(r,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,i,o,n){if(t)e.call(r,i,o,n);else for(var a=e.length,s=g(e,a),l=0;l<a;++l)s[l].call(r,i,o,n)}(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),n=1;n<i;n++)o[n-1]=arguments[n];!function(e,t,r,i){if(t)e.apply(r,i);else for(var o=e.length,n=g(e,o),a=0;a<o;++a)n[a].apply(r,i)}(r,c,this,o)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,o,n,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(r=o[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=i(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(e,t){for(var r=t,i=r+1,o=e.length;i<o;r+=1,i+=1)e[r]=e[i];e.pop()}(r,n),1===r.length&&(o[e]=r[0]),o.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,r,n;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=i(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=i(null):delete r[e]),this;if(0===arguments.length){var a,s=o(r);for(n=0;n<s.length;++n)"removeListener"!==(a=s[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(e,t,r){r.read=function(e,t,r,i,o){var n,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?o-1:0,h=r?-1:1,p=e[t+d];for(d+=h,n=p&(1<<-u)-1,p>>=-u,u+=s;u>0;n=256*n+e[t+d],d+=h,u-=8);for(a=n&(1<<-u)-1,n>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===n)n=1-c;else{if(n===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),n-=c}return(p?-1:1)*a*Math.pow(2,n-i)},r.write=function(e,t,r,i,o,n){var a,s,l,c=8*n-o-1,u=(1<<c)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:n-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+p]=255&a,p+=f,a/=256,c-=8);e[r+p-f]|=128*m}},{}],24:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=e,this.value=t}return e.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,r=this.leftChild,i=this.rightChild;if(!i)throw new Error("unknown error");var o=i.leftChild,n=i.rightChild;return e&&(e.leftChild===this?e.leftChild=i:e.rightChild===this&&(e.rightChild=i)),i.parent=e,i.brother=t,i.leftChild=this,i.rightChild=n,t&&(t.brother=i),this.parent=i,this.brother=n,this.leftChild=r,this.rightChild=o,n&&(n.parent=i,n.brother=this),r&&(r.parent=this,r.brother=o),o&&(o.parent=this,o.brother=r),i},e.prototype.rotateRight=function(){var e=this.parent,t=this.brother,r=this.leftChild;if(!r)throw new Error("unknown error");var i=this.rightChild,o=r.leftChild,n=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=o,r.rightChild=this,t&&(t.brother=r),o&&(o.parent=r,o.brother=this),this.parent=r,this.brother=o,this.leftChild=n,this.rightChild=i,n&&(n.parent=this,n.brother=i),i&&(i.parent=this,i.brother=n),r},e.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},e.TreeNodeColorType={red:!0,black:!1},e}();Object.freeze(i),r.default=i},{}],26:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}};function o(e){var t=this;void 0===e&&(e=[]);var r=[],n=0,a=0,s=0,l=0,c=0,u=0;this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){n=s=a=l=c=u=0,h.call(this,o.bucketSize),u=0},this.front=function(){return r[n][a]},this.back=function(){return r[s][l]},this.forEach=function(e){if(!this.empty()){var t=0;if(n!==s){for(c=a;c<o.bucketSize;++c)e(r[n][c],t++);for(c=n+1;c<s;++c)for(var i=0;i<o.bucketSize;++i)e(r[c][i],t++);for(c=0;c<=l;++c)e(r[s][c],t++)}else for(var c=a;c<=l;++c)e(r[n][c],t++)}};var d=function(e){var t=n*o.bucketSize+a,r=t+e,i=s*o.bucketSize+l;if(r<t||r>i)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(r/o.bucketSize),curNodePointerIndex:r%o.bucketSize}};this.getElementByPos=function(e){var t=d(e),i=t.curNodeBucketIndex,o=t.curNodePointerIndex;return r[i][o]},this.eraseElementByPos=function(e){var t=this;if(e<0||e>u)throw new Error("pos should more than 0 and less than queue's size");if(0===e)this.popFront();else if(e===this.size())this.popBack();else{for(var r=[],i=e+1;i<u;++i)r.push(this.getElementByPos(i));this.cut(e),this.popBack(),r.forEach((function(e){return t.pushBack(e)}))}},this.eraseElementByValue=function(e){if(!this.empty()){var t=[];this.forEach((function(r){r!==e&&t.push(r)}));for(var r=t.length,i=0;i<r;++i)this.setElementByPos(i,t[i]);this.cut(r-1)}};var h=function(e){for(var t=[],i=e*o.sigma,d=Math.max(Math.ceil(i/o.bucketSize),2),h=0;h<d;++h)t.push(new Array(o.bucketSize));var p=Math.ceil(e/o.bucketSize),f=Math.floor(d/2)-Math.floor(p/2),m=f,g=0;if(this.size())for(h=0;h<p;++h){for(var y=0;y<o.bucketSize;++y)if(t[f+h][y]=this.front(),this.popFront(),this.empty()){m=f+h,g=y;break}if(this.empty())break}r=t,n=f,a=0,s=m,l=g,c=d,u=e};this.pushBack=function(e){this.empty()||(s===c-1&&l===o.bucketSize-1&&h.call(this,this.size()),l<o.bucketSize-1?++l:s<c-1&&(++s,l=0)),++u,r[s][l]=e},this.popBack=function(){this.empty()||(1!==this.size()&&(l>0?--l:n<s&&(--s,l=o.bucketSize-1)),u>0&&--u)},this.setElementByPos=function(e,t){var i=d(e),o=i.curNodeBucketIndex,n=i.curNodePointerIndex;r[o][n]=t},this.insert=function(e,t,r){var i=this;if(void 0===r&&(r=1),0===e)for(;r--;)this.pushFront(t);else if(e===this.size())for(;r--;)this.pushBack(t);else{for(var o=[],n=e;n<u;++n)o.push(this.getElementByPos(n));for(this.cut(e-1),n=0;n<r;++n)this.pushBack(t);o.forEach((function(e){return i.pushBack(e)}))}},this.find=function(e){if(n===s){for(var t=a;t<=l;++t)if(r[n][t]===e)return!0;return!1}for(t=a;t<o.bucketSize;++t)if(r[n][t]===e)return!0;for(t=n+1;t<s;++t)for(var i=0;i<o.bucketSize;++i)if(r[t][i]===e)return!0;for(t=0;t<=l;++t)if(r[s][t]===e)return!0;return!1},this.reverse=function(){for(var e=0,t=u-1;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),++e,--t}},this.unique=function(){if(!this.empty()){var e=[],t=this.front();this.forEach((function(r,i){0!==i&&r===t||(e.push(r),t=r)}));for(var r=0;r<u;++r)this.setElementByPos(r,e[r]);this.cut(e.length-1)}},this.sort=function(e){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);for(var r=0;r<u;++r)this.setElementByPos(r,t[r])},this.pushFront=function(e){this.empty()||(0===n&&0===a&&h.call(this,this.size()),a>0?--a:n>0&&(--n,a=o.bucketSize-1)),++u,r[n][a]=e},this.popFront=function(){this.empty()||(1!==this.size()&&(a<o.bucketSize-1?++a:n<s&&(++n,a=0)),u>0&&--u)},this.shrinkToFit=function(){var e=this,t=[];this.forEach((function(e){t.push(e)}));var i=t.length;r=[];for(var n=Math.ceil(i/o.bucketSize),a=0;a<n;++a)r.push(new Array(o.bucketSize));this.clear(),t.forEach((function(t){return e.pushBack(t)}))},this.cut=function(e){if(e<0)this.clear();else{var t=d(e),r=t.curNodeBucketIndex,i=t.curNodePointerIndex;s=r,l=i,u=e+1}},this[Symbol.iterator]=function(){return function(){var e,t;return i(this,(function(i){switch(i.label){case 0:if(0===u)return[2];if(n!==s)return[3,5];t=a,i.label=1;case 1:return t<=l?[4,r[n][t]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=a,i.label=6;case 6:return t<o.bucketSize?[4,r[n][t]]:[3,9];case 7:i.sent(),i.label=8;case 8:return++t,[3,6];case 9:t=n+1,i.label=10;case 10:if(!(t<s))return[3,15];e=0,i.label=11;case 11:return e<o.bucketSize?[4,r[t][e]]:[3,14];case 12:i.sent(),i.label=13;case 13:return++e,[3,11];case 14:return++t,[3,10];case 15:t=0,i.label=16;case 16:return t<=l?[4,r[s][t]]:[3,19];case 17:i.sent(),i.label=18;case 18:return++t,[3,16];case 19:return[2]}}))}()},function(){var i=o.bucketSize;e.size?i=e.size():e.length&&(i=e.length);var a=i*o.sigma;c=Math.ceil(a/o.bucketSize),c=Math.max(c,3);for(var l=0;l<c;++l)r.push(new Array(o.bucketSize));var u=Math.ceil(i/o.bucketSize);n=Math.floor(c/2)-Math.floor(u/2),s=n,e.forEach((function(e){return t.pushBack(e)}))}(),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),o.sigma=3,o.bucketSize=5e3,Object.freeze(o),r.default=o},{}],27:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var n=e("../LinkList/LinkList"),a=e("../Map/Map");function s(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=s.initSize),r=r||function(e){var t,r,i=0,n="";if("number"==typeof e)i=((i=Math.floor(e))<<5)-i,i&=i;else{n="string"!=typeof e?JSON.stringify(e):e;try{for(var a=o(n),s=a.next();!s.done;s=a.next())i=(i<<5)-i+s.value.charCodeAt(0),i&=i}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}}return i^i>>>16},0!=(t&t-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,u=[],d=Math.max(s.initSize,Math.min(s.maxSize,t));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,d=t,u=[]},this.forEach=function(e){var t=0;u.forEach((function(r){r.forEach((function(r){e(r,t++)}))}))},this.setElement=function(e,t){var i,l;if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==t&&void 0!==t){var h=r(e)&d-1;if(u[h]){var p=u[h].size();if(u[h]instanceof n.default){try{for(var f=o(u[h]),m=f.next();!m.done;m=f.next()){var g=m.value;if(g.key===e)return void(g.value=t)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(i)throw i.error}}u[h].pushBack({key:e,value:t}),u[h].size()>=s.treeifyThreshold&&(u[h]=new a.default(u[h]))}else u[h].setElement(e,t);var y=u[h].size();c+=y-p}else++c,u[h]=new n.default([{key:e,value:t}]);c>d*s.sigma&&function(e){if(!(e>=s.maxSize)){d=2*e;var t=[];u.forEach((function(i,o){if(!i.empty()){if(i instanceof n.default&&1===i.size()){var l=i.front(),c=l.key,h=l.value;t[r(c)&d-1]=new n.default([{key:c,value:h}])}else if(i instanceof a.default){var p=new n.default,f=new n.default;i.forEach((function(t){0==(r(t.key)&e)?p.pushBack(t):f.pushBack(t)})),p.size()>s.untreeifyThreshold?t[o]=new a.default(p):p.size()&&(t[o]=p),f.size()>s.untreeifyThreshold?t[o+e]=new a.default(f):f.size()&&(t[o+e]=f)}else{var m=new n.default,g=new n.default;i.forEach((function(t){0==(r(t.key)&e)?m.pushBack(t):g.pushBack(t)})),m.size()&&(t[o]=m),g.size()&&(t[o+e]=g)}u[o].clear()}})),u=t}}.call(this,d)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var t,i,n=r(e)&d-1;if(u[n]){if(u[n]instanceof a.default)return u[n].getElementByKey(e);try{for(var s=o(u[n]),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.key===e)return c.value}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}},this.eraseElementByKey=function(e){var t,i,l=r(e)&d-1;if(u[l]){var h=u[l].size();if(u[l]instanceof a.default)u[l].eraseElementByKey(e),u[l].size()<=s.untreeifyThreshold&&(u[l]=new n.default(u[l]));else{var p=-1;try{for(var f=o(u[l]),m=f.next();!m.done;m=f.next())if(++p,m.value.key===e){u[l].eraseElementByPos(p);break}}catch(e){t={error:e}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(t)throw t.error}}}var g=u[l].size();c+=g-h}},this.find=function(e){var t,i,n=r(e)&d-1;if(!u[n])return!1;if(u[n]instanceof a.default)return u[n].find(e);try{for(var s=o(u[n]),l=s.next();!l.done;l=s.next())if(l.value.key===e)return!0}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return!1},this[Symbol.iterator]=function(){return function(){var e,t,r,n,a,s;return i(this,(function(i){switch(i.label){case 0:e=0,i.label=1;case 1:if(!(e<d))return[3,10];for(;e<d&&!u[e];)++e;if(e>=d)return[3,10];i.label=2;case 2:i.trys.push([2,7,8,9]),a=void 0,t=o(u[e]),r=t.next(),i.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:i.sent(),i.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return n=i.sent(),a={error:n},[3,9];case 8:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return++e,[3,1];case 10:return[2]}}))}()},e.forEach((function(e){var t=e.key,r=e.value;return l.setElement(t,r)})),Object.freeze(this)}s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64,Object.freeze(s),r.default=s},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Set/Set"),a=e("../LinkList/LinkList");function s(e,t,r){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=s.initSize),r=r||function(e){var t=0,r="";if("number"==typeof e)t=((t=Math.floor(e))<<5)-t,t&=t;else{r="string"!=typeof e?JSON.stringify(e):e;for(var i=0;i<r.length;i++)t=(t<<5)-t+r.charCodeAt(i),t&=t}return t^t>>>16},0!=(t&t-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,u=[],d=Math.max(s.initSize,Math.min(s.maxSize,t));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,d=t,u=[]},this.forEach=function(e){var t=0;u.forEach((function(r){r.forEach((function(r){e(r,t++)}))}))},this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var t=r(e)&d-1;if(u[t]){var i=u[t].size();if(u[t]instanceof a.default){if(u[t].find(e))return;u[t].pushBack(e),u[t].size()>=s.treeifyThreshold&&(u[t]=new n.default(u[t]))}else u[t].insert(e);var o=u[t].size();c+=o-i}else u[t]=new a.default([e]),++c;c>d*s.sigma&&function(e){if(!(e>=s.maxSize)){d=2*e;var t=[];u.forEach((function(i,o){if(!i.empty()){if(i instanceof a.default&&1===i.size()){var l=i.front();if(void 0===l)throw new Error("unknown error");t[r(l)&d-1]=new a.default([l])}else if(i instanceof n.default){var c=new a.default,h=new a.default;i.forEach((function(t){0==(r(t)&e)?c.pushBack(t):h.pushBack(t)})),c.size()>s.untreeifyThreshold?t[o]=new n.default(c):c.size()&&(t[o]=c),h.size()>s.untreeifyThreshold?t[o+e]=new n.default(h):h.size()&&(t[o+e]=h)}else{var p=new a.default,f=new a.default;i.forEach((function(t){0==(r(t)&e)?p.pushBack(t):f.pushBack(t)})),p.size()&&(t[o]=p),f.size()&&(t[o+e]=f)}u[o].clear()}})),u=t}}.call(this,d)},this.eraseElementByValue=function(e){var t=r(e)&d-1;if(u[t]){var i=u[t].size();u[t].eraseElementByValue(e),u[t]instanceof n.default&&u[t].size()<=s.untreeifyThreshold&&(u[t]=new a.default(u[t]));var o=u[t].size();c+=o-i}},this.find=function(e){var t=r(e)&d-1;return!!u[t]&&u[t].find(e)},this[Symbol.iterator]=function(){return function(){var e,t,r,n,a,s;return i(this,(function(i){switch(i.label){case 0:e=0,i.label=1;case 1:if(!(e<d))return[3,10];for(;e<d&&!u[e];)++e;if(e>=d)return[3,10];i.label=2;case 2:i.trys.push([2,7,8,9]),a=void 0,t=o(u[e]),r=t.next(),i.label=3;case 3:return r.done?[3,6]:[4,r.value];case 4:i.sent(),i.label=5;case 5:return r=t.next(),[3,3];case 6:return[3,9];case 7:return n=i.sent(),a={error:n},[3,9];case 8:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return++e,[3,1];case 10:return[2]}}))}()},e.forEach((function(e){return l.insert(e)})),Object.freeze(this)}s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64,Object.freeze(s),r.default=s},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){return function(e){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=e}}();function n(e){var t=this;void 0===e&&(e=[]);var r=0,n=void 0,a=void 0;this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){n=a=void 0,r=0},this.front=function(){return null===n||void 0===n?void 0:n.value},this.back=function(){return null===a||void 0===a?void 0:a.value},this.forEach=function(e){for(var t=n,r=0;t;){if(void 0===t.value)throw new Error("unknown error");e(t.value,r++),t=t.next}},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more then 0 and less then the list length");for(var t=n;e--&&t;)t=t.next;if(!t||void 0===t.value)throw new Error("unknown error");return t.value},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error("erase pos must more then 0 and less then the list length");if(0===e)this.popFront();else if(e===r-1)this.popBack();else{for(var t=n;e--;){if(!(null===t||void 0===t?void 0:t.next))throw new Error("unknown error");t=t.next}if(!t||!t.pre||!t.next)throw new Error("unknown error");var i=t.pre,o=t.next;o.pre=i,i.next=o,r>0&&--r}},this.eraseElementByValue=function(e){for(;n&&n.value===e;)this.popFront();for(;a&&a.value===e;)this.popBack();if(n)for(var t=n;t;){if(t.value===e){var i=t.pre,o=t.next;o&&(o.pre=i),i&&(i.next=o),r>0&&--r}t=t.next}},this.pushBack=function(e){if(null===e||void 0===e)throw new Error("you can't push null or undefined here");++r;var t=new o(e);a?(a.next=t,t.pre=a,a=t):n=a=t},this.popBack=function(){a&&(r>0&&--r,a&&(n===a?n=a=void 0:(a=a.pre)&&(a.next=void 0)))},this.setElementByPos=function(e,t){if(null===t||void 0===t)throw new Error("you can't set null or undefined here");if(e<0||e>=r)throw new Error("pos must more then 0 and less then the list length");for(var i=n;e--;){if(!i)throw new Error("unknown error");i=i.next}i&&(i.value=t)},this.insert=function(e,t,i){if(void 0===i&&(i=1),null===t||void 0===t)throw new Error("you can't insert null or undefined here");if(e<0||e>r)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(i<0)throw new Error("insert size must more than 0");if(0===e)for(;i--;)this.pushFront(t);else if(e===r)for(;i--;)this.pushBack(t);else{for(var a=n,s=1;s<e;++s){if(!(null===a||void 0===a?void 0:a.next))throw new Error("unknown error");a=null===a||void 0===a?void 0:a.next}if(!a)throw new Error("unknown error");var l=a.next;for(r+=i;i--;)a.next=new o(t),a.next.pre=a,a=a.next;a.next=l,l&&(l.pre=a)}},this.find=function(e){for(var t=n;t;){if(t.value===e)return!0;t=t.next}return!1},this.reverse=function(){for(var e=n,t=a,i=0;e&&t&&2*i<r;){var o=e.value;e.value=t.value,t.value=o,e=e.next,t=t.pre,++i}},this.unique=function(){for(var e=n;e;){for(var t=e;t&&t.next&&t.value===t.next.value;)t=t.next,r>0&&--r;e.next=t.next,e.next&&(e.next.pre=e),e=e.next}},this.sort=function(e){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);var r=n;t.forEach((function(e){r&&(r.value=e,r=r.next)}))},this.pushFront=function(e){if(null===e||void 0===e)throw new Error("you can't push null or undefined here");++r;var t=new o(e);n?(t.next=n,n.pre=t,n=t):n=a=t},this.popFront=function(){n&&(r>0&&--r,n&&(n===a?n=a=void 0:(n=n.next)&&(n.pre=void 0)))},this.merge=function(e){var t=this,i=n;e.forEach((function(e){for(;i&&void 0!==i.value&&i.value<=e;)i=i.next;if(void 0===i)t.pushBack(e),i=a;else if(i===n)t.pushFront(e),i=n;else{++r;var s=i.pre;s&&(s.next=new o(e),s.next.pre=s,s.next.next=i,i&&(i.pre=s.next))}}))},this[Symbol.iterator]=function(){return function(){var e;return i(this,(function(t){switch(t.label){case 0:e=n,t.label=1;case 1:if(void 0===e)return[3,3];if(!e.value)throw new Error("unknown error");return[4,e.value];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))}()},e.forEach((function(e){return t.pushBack(e)})),Object.freeze(this)}Object.freeze(n),r.default=n},{}],30:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Base/TreeNode");function a(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var a=0,s=new n.default;s.color=n.default.TreeNodeColorType.black,this.size=function(){return a},this.empty=function(){return 0===a},this.clear=function(){a=0,s.key=s.value=void 0,s.leftChild=s.rightChild=s.brother=void 0};var l=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},c=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.rightChild?c(e.rightChild):e};this.front=function(){if(!this.empty()){var e=l(s);if(void 0===e.key||void 0===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}}},this.back=function(){if(!this.empty()){var e=c(s);if(void 0===e.key||void 0===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}}},this.forEach=function(e){var t,r,i=0;try{for(var n=o(this),a=n.next();!a.done;a=n.next())e(a.value,i++)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var i=0;try{for(var n=o(this),a=n.next();!a.done;a=n.next()){var s=a.value;if(i===e)return s;++i}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}throw new Error("unknown Error")};var u=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value){var i=t(e.key,r);return 0===i?{key:e.key,value:e.value}:i<0?u(e.rightChild,r):u(e.leftChild,r)||{key:e.key,value:e.value}}};this.lowerBound=function(e){return u(s,e)};var d=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,r)<=0?d(e.rightChild,r):d(e.leftChild,r)||{key:e.key,value:e.value}};this.upperBound=function(e){return d(s,e)};var h=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value){var i=t(e.key,r);return 0===i?{key:e.key,value:e.value}:i>0?h(e.leftChild,r):h(e.rightChild,r)||{key:e.key,value:e.value}}};this.reverseLowerBound=function(e){return h(s,e)};var p=function(e,r){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,r)>=0?p(e.leftChild,r):p(e.rightChild,r)||{key:e.key,value:e.value}};this.reverseUpperBound=function(e){return p(s,e)};var f=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(e.color!==n.default.TreeNodeColorType.red){var r=e.brother;if(!r)throw new Error("unknown error");if(e===t.leftChild)if(r.color===n.default.TreeNodeColorType.red){r.color=n.default.TreeNodeColorType.black,t.color=n.default.TreeNodeColorType.red;var i=t.rotateLeft();s===t&&(s=i),f(e)}else r.color===n.default.TreeNodeColorType.black&&(r.rightChild&&r.rightChild.color===n.default.TreeNodeColorType.red?(r.color=t.color,t.color=n.default.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=n.default.TreeNodeColorType.black),i=t.rotateLeft(),s===t&&(s=i),e.color=n.default.TreeNodeColorType.black):r.rightChild&&r.rightChild.color!==n.default.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==n.default.TreeNodeColorType.red?r.leftChild&&r.leftChild.color!==n.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==n.default.TreeNodeColorType.black||(r.color=n.default.TreeNodeColorType.red,f(t)):(r.color=n.default.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=n.default.TreeNodeColorType.black),i=r.rotateRight(),s===r&&(s=i),f(e)));else e===t.rightChild&&(r.color===n.default.TreeNodeColorType.red?(r.color=n.default.TreeNodeColorType.black,t.color=n.default.TreeNodeColorType.red,i=t.rotateRight(),s===t&&(s=i),f(e)):r.color===n.default.TreeNodeColorType.black&&(r.leftChild&&r.leftChild.color===n.default.TreeNodeColorType.red?(r.color=t.color,t.color=n.default.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=n.default.TreeNodeColorType.black),i=t.rotateRight(),s===t&&(s=i),e.color=n.default.TreeNodeColorType.black):r.leftChild&&r.leftChild.color!==n.default.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==n.default.TreeNodeColorType.red?r.leftChild&&r.leftChild.color!==n.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==n.default.TreeNodeColorType.black||(r.color=n.default.TreeNodeColorType.red,f(t)):(r.color=n.default.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=n.default.TreeNodeColorType.black),i=r.rotateLeft(),s===r&&(s=i),f(e))))}else e.color=n.default.TreeNodeColorType.black},m=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r;var i=e.value;e.value=t.value,t.value=i,e=t}t.leftChild&&(t=c(t.leftChild),r=e.key,e.key=t.key,t.key=r,i=e.value,e.value=t.value,t.value=i,e=t)}f(t),t&&t.remove(),--a,s.color=n.default.TreeNodeColorType.black},g=function(e,t){return!(!e||void 0===e.key)&&(!!g(e.leftChild,t)||!!t(e)||g(e.rightChild,t))};this.eraseElementByPos=function(e){if(e<0||e>=a)throw new Error("pos must more than 0 and less than set's size");var t=0;g(s,(function(r){return e===t?(m(r),!0):(++t,!1)}))},this.eraseElementByKey=function(e){if(!this.empty()){var r=v(s,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&m(r)}};var y=function(e,r){if(!e||void 0===e.key)throw new Error("unknown error");var i=t(r,e.key);return i<0?e.leftChild?y(e.leftChild,r):(e.leftChild=new n.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):i>0?e.rightChild?y(e.rightChild,r):(e.rightChild=new n.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},b=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(t.color!==n.default.TreeNodeColorType.black&&t.color===n.default.TreeNodeColorType.red){var r=t.brother,i=t.parent;if(!i)throw new Error("unknown error");if(r&&r.color===n.default.TreeNodeColorType.red)r.color=t.color=n.default.TreeNodeColorType.black,i.color=n.default.TreeNodeColorType.red,b(i);else if(!r||r.color===n.default.TreeNodeColorType.black)if(t===i.leftChild)if(e===t.leftChild){t.color=n.default.TreeNodeColorType.black,i.color=n.default.TreeNodeColorType.red;var o=i.rotateRight();i===s&&(s=o)}else e===t.rightChild&&(o=t.rotateLeft(),i===s&&(s=o),b(t));else t===i.rightChild&&(e===t.leftChild?(o=t.rotateRight(),i===s&&(s=o),b(t)):e===t.rightChild&&(t.color=n.default.TreeNodeColorType.black,i.color=n.default.TreeNodeColorType.red,o=i.rotateLeft(),i===s&&(s=o)))}};this.setElement=function(e,r){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==r&&void 0!==r){if(this.empty())return++a,s.key=e,s.value=r,void(s.color=n.default.TreeNodeColorType.black);var i=y(s,e);void 0===i.key||0!==t(i.key,e)?(++a,i.key=e,i.value=r,b(i),s.color=n.default.TreeNodeColorType.black):i.value=r}else this.eraseElementByKey(e)};var v=function(e,r){if(e&&void 0!==e.key){var i=t(r,e.key);return i<0?v(e.leftChild,r):i>0?v(e.rightChild,r):e}};this.find=function(e){return!!v(s,e)},this.getElementByKey=function(e){var t=v(s,e);if(void 0===(null===t||void 0===t?void 0:t.key)||void 0===(null===t||void 0===t?void 0:t.value))throw new Error("unknown error");return t.value},this.union=function(e){var t=this;e.forEach((function(e){var r=e.key,i=e.value;return t.setElement(r,i)}))},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(s)};var w=function(e){return i(this,(function(t){switch(t.label){case 0:return e&&void 0!==e.key&&void 0!==e.value?[5,o(w(e.leftChild))]:[2];case 1:return t.sent(),[4,{key:e.key,value:e.value}];case 2:return t.sent(),[5,o(w(e.rightChild))];case 3:return t.sent(),[2]}}))};this[Symbol.iterator]=function(){return w(s)},e.forEach((function(e){var t=e.key,i=e.value;return r.setElement(t,i)})),Object.freeze(this)}Object.freeze(a),r.default=a},{"../Base/TreeNode":25}],31:[function(e,t,r){"use strict";function i(e,t){void 0===e&&(e=[]),t=t||function(e,t){return e>t?-1:e<t?1:0};var r=[];e.forEach((function(e){return r.push(e)}));var i=r.length,o=function(e,t){if(e<0||e>=i)throw new Error("unknown error");if(t<0||t>=i)throw new Error("unknown error");var o=r[e];r[e]=r[t],r[t]=o},n=function(e){if(e<0||e>=i)throw new Error("unknown error");var n=2*e+1,a=2*e+2;n<i&&t(r[e],r[n])>0&&o(e,n),a<i&&t(r[e],r[a])>0&&o(e,a)};!function(){for(var e=Math.floor((i-1)/2);e>=0;--e)for(var n=e,a=2*n+1;a<i;){var s=a+1,l=a;if(s<i&&t(r[a],r[s])>0&&(l=s),t(r[n],r[l])<=0)break;o(n,l),a=2*(n=l)+1}}(),this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,r.length=0},this.push=function(e){if(r.push(e),1!==++i)for(var o=i-1;o>0;){var a=Math.floor((o-1)/2);if(t(r[a],e)<=0)break;n(a),o=a}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=r[i-1];--i;for(var o=0;o<this.size();){var n=2*o+1,a=2*o+2;if(n>=this.size())break;var s=n;if(a<this.size()&&t(r[n],r[a])>0&&(s=a),t(r[s],e)>=0)break;r[o]=r[s],o=s}r[o]=e}else--i},this.top=function(){return r[0]},Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(i),r.default=i},{}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../LinkList/LinkList");function o(e){void 0===e&&(e=[]);var t=new i.default(e);this.size=function(){return t.size()},this.empty=function(){return t.empty()},this.clear=function(){t.clear()},this.push=function(e){t.pushBack(e)},this.pop=function(){t.popFront()},this.front=function(){return t.front()},Object.freeze(this)}Object.freeze(o),r.default=o},{"../LinkList/LinkList":29}],33:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Base/TreeNode");function a(e,t){var r=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var a=0,s=new n.default;s.color=n.default.TreeNodeColorType.black,this.size=function(){return a},this.empty=function(){return 0===a},this.clear=function(){a=0,s.key=void 0,s.leftChild=s.rightChild=s.brother=s.parent=void 0,s.color=n.default.TreeNodeColorType.black};var l=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},c=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.rightChild?c(e.rightChild):e};this.front=function(){if(!this.empty())return l(s).key},this.back=function(){if(!this.empty())return c(s).key},this.forEach=function(e){var t,r,i=0;try{for(var n=o(this),a=n.next();!a.done;a=n.next())e(a.value,i++)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,r;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var i=0;try{for(var n=o(this),a=n.next();!a.done;a=n.next()){var s=a.value;if(i===e)return s;++i}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}throw new Error("unknown error")};var u=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(e.color!==n.default.TreeNodeColorType.red){var r=e.brother;if(!r)throw new Error("unknown error");if(e===t.leftChild)if(r.color===n.default.TreeNodeColorType.red){r.color=n.default.TreeNodeColorType.black,t.color=n.default.TreeNodeColorType.red;var i=t.rotateLeft();s===t&&(s=i),u(e)}else r.color===n.default.TreeNodeColorType.black&&(r.rightChild&&r.rightChild.color===n.default.TreeNodeColorType.red?(r.color=t.color,t.color=n.default.TreeNodeColorType.black,r.rightChild&&(r.rightChild.color=n.default.TreeNodeColorType.black),i=t.rotateLeft(),s===t&&(s=i),e.color=n.default.TreeNodeColorType.black):r.rightChild&&r.rightChild.color!==n.default.TreeNodeColorType.black||!r.leftChild||r.leftChild.color!==n.default.TreeNodeColorType.red?r.leftChild&&r.leftChild.color!==n.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==n.default.TreeNodeColorType.black||(r.color=n.default.TreeNodeColorType.red,u(t)):(r.color=n.default.TreeNodeColorType.red,r.leftChild&&(r.leftChild.color=n.default.TreeNodeColorType.black),i=r.rotateRight(),s===r&&(s=i),u(e)));else e===t.rightChild&&(r.color===n.default.TreeNodeColorType.red?(r.color=n.default.TreeNodeColorType.black,t.color=n.default.TreeNodeColorType.red,i=t.rotateRight(),s===t&&(s=i),u(e)):r.color===n.default.TreeNodeColorType.black&&(r.leftChild&&r.leftChild.color===n.default.TreeNodeColorType.red?(r.color=t.color,t.color=n.default.TreeNodeColorType.black,r.leftChild&&(r.leftChild.color=n.default.TreeNodeColorType.black),i=t.rotateRight(),s===t&&(s=i),e.color=n.default.TreeNodeColorType.black):r.leftChild&&r.leftChild.color!==n.default.TreeNodeColorType.black||!r.rightChild||r.rightChild.color!==n.default.TreeNodeColorType.red?r.leftChild&&r.leftChild.color!==n.default.TreeNodeColorType.black||r.rightChild&&r.rightChild.color!==n.default.TreeNodeColorType.black||(r.color=n.default.TreeNodeColorType.red,u(t)):(r.color=n.default.TreeNodeColorType.red,r.rightChild&&(r.rightChild.color=n.default.TreeNodeColorType.black),i=r.rotateLeft(),s===r&&(s=i),u(e))))}else e.color=n.default.TreeNodeColorType.black},d=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var r=e.key;e.key=t.key,t.key=r,e=t}t.leftChild&&(t=c(t.leftChild),r=e.key,e.key=t.key,t.key=r,e=t)}u(t),t&&t.remove(),--a,s.color=n.default.TreeNodeColorType.black},h=function(e,t){return!(!e||void 0===e.key)&&(!!h(e.leftChild,t)||!!t(e)||h(e.rightChild,t))};this.eraseElementByPos=function(e){if(e<0||e>=a)throw new Error("pos must more than 0 and less than set's size");var t=0;h(s,(function(r){return e===t?(d(r),!0):(++t,!1)}))},this.eraseElementByValue=function(e){if(!this.empty()){var r=m(s,e);void 0!==r&&void 0!==r.key&&0===t(r.key,e)&&d(r)}};var p=function(e,r){if(!e||void 0===e.key)throw new Error("unknown error");var i=t(r,e.key);return i<0?e.leftChild?p(e.leftChild,r):(e.leftChild=new n.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):i>0?e.rightChild?p(e.rightChild,r):(e.rightChild=new n.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},f=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(t.color!==n.default.TreeNodeColorType.black&&t.color===n.default.TreeNodeColorType.red){var r=t.brother,i=t.parent;if(!i)throw new Error("unknown error");if(r&&r.color===n.default.TreeNodeColorType.red)r.color=t.color=n.default.TreeNodeColorType.black,i.color=n.default.TreeNodeColorType.red,f(i);else if(!r||r.color===n.default.TreeNodeColorType.black)if(t===i.leftChild)if(e===t.leftChild){t.color=n.default.TreeNodeColorType.black,i.color=n.default.TreeNodeColorType.red;var o=i.rotateRight();i===s&&(s=o)}else e===t.rightChild&&(o=t.rotateLeft(),i===s&&(s=o),f(t));else t===i.rightChild&&(e===t.leftChild?(o=t.rotateRight(),i===s&&(s=o),f(t)):e===t.rightChild&&(t.color=n.default.TreeNodeColorType.black,i.color=n.default.TreeNodeColorType.red,o=i.rotateLeft(),i===s&&(s=o)))}};this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++a,s.key=e,void(s.color=n.default.TreeNodeColorType.black);var r=p(s,e);void 0!==r.key&&0===t(r.key,e)||(++a,r.key=e,f(r),s.color=n.default.TreeNodeColorType.black)};var m=function(e,r){if(e&&void 0!==e.key){var i=t(r,e.key);return i<0?m(e.leftChild,r):i>0?m(e.rightChild,r):e}};this.find=function(e){var r=m(s,e);return void 0!==r&&void 0!==r.key&&0===t(r.key,e)};var g=function(e,r){if(e&&void 0!==e.key){var i=t(e.key,r);return 0===i?e.key:i<0?g(e.rightChild,r):g(e.leftChild,r)||e.key}};this.lowerBound=function(e){return g(s,e)};var y=function(e,r){if(e&&void 0!==e.key)return t(e.key,r)<=0?y(e.rightChild,r):y(e.leftChild,r)||e.key};this.upperBound=function(e){return y(s,e)};var b=function(e,r){if(e&&void 0!==e.key){var i=t(e.key,r);return 0===i?e.key:i>0?b(e.leftChild,r):b(e.rightChild,r)||e.key}};this.reverseLowerBound=function(e){return b(s,e)};var v=function(e,r){if(e&&void 0!==e.key)return t(e.key,r)>=0?v(e.leftChild,r):v(e.rightChild,r)||e.key};this.reverseUpperBound=function(e){return v(s,e)},this.union=function(e){var t=this;e.forEach((function(e){return t.insert(e)}))},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(s)};var w=function(e){return i(this,(function(t){switch(t.label){case 0:return e&&void 0!==e.key?[5,o(w(e.leftChild))]:[2];case 1:return t.sent(),[4,e.key];case 2:return t.sent(),[5,o(w(e.rightChild))];case 3:return t.sent(),[2]}}))};this[Symbol.iterator]=function(){return w(s)},e.forEach((function(e){return r.insert(e)})),Object.freeze(this)}Object.freeze(a),r.default=a},{"../Base/TreeNode":25}],34:[function(e,t,r){"use strict";function i(e){var t=this;void 0===e&&(e=[]);var r=0,i=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,i.length=0},this.push=function(e){i.push(e),++r},this.pop=function(){i.pop(),r>0&&--r},this.top=function(){return i[r-1]},e.forEach((function(e){return t.push(e)})),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(i),r.default=i},{}],35:[function(e,t,r){"use strict";var i=this&&this.__generator||function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function s(e){var t=this;void 0===e&&(e=[]);var r=0,s=[];this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,s.length=0},this.front=function(){if(!this.empty())return s[0]},this.back=function(){if(!this.empty())return s[r-1]},this.forEach=function(e){s.forEach(e)},this.getElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more than 0 and less than vector's size");return s[e]},this.eraseElementByPos=function(e){if(e<0||e>=r)throw new Error("pos must more than 0 and less than vector's size");for(var t=e;t<r-1;++t)s[t]=s[t+1];this.popBack()},this.eraseElementByValue=function(e){var t=[];this.forEach((function(r){r!==e&&t.push(r)})),t.forEach((function(e,t){s[t]=e}));for(var i=t.length;r>i;)this.popBack()},this.pushBack=function(e){s.push(e),++r},this.popBack=function(){s.pop(),r>0&&--r},this.setElementByPos=function(e,t){if(e<0||e>=r)throw new Error("pos must more than 0 and less than vector's size");s[e]=t},this.insert=function(e,t,i){if(void 0===i&&(i=1),e<0||e>r)throw new Error("pos must more than 0 and less than or equal to vector's size");s.splice.apply(s,n([e,0],o(new Array(i).fill(t)),!1)),r+=i},this.find=function(e){return s.includes(e)},this.reverse=function(){s.reverse()},this.unique=function(){var e,t=[];this.forEach((function(r,i){0!==i&&r===e||(t.push(r),e=r)})),t.forEach((function(e,t){s[t]=e}));for(var i=t.length;r>i;)this.popBack()},this.sort=function(e){s.sort(e)},this[Symbol.iterator]=function(){return function(){return i(this,(function(e){switch(e.label){case 0:return[5,a(s)];case 1:return[2,e.sent()]}}))}()},e.forEach((function(e){return t.pushBack(e)})),Object.freeze(this)}Object.defineProperty(r,"__esModule",{value:!0}),Object.freeze(s),r.default=s},{}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HashMap=r.HashSet=r.Map=r.Set=r.PriorityQueue=r.Deque=r.LinkList=r.Queue=r.Stack=r.Vector=void 0;var i=e("./Vector/Vector");r.Vector=i.default;var o=e("./Stack/Stack");r.Stack=o.default;var n=e("./Queue/Queue");r.Queue=n.default;var a=e("./LinkList/LinkList");r.LinkList=a.default;var s=e("./Deque/Deque");r.Deque=s.default;var l=e("./PriorityQueue/PriorityQueue");r.PriorityQueue=l.default;var c=e("./Set/Set");r.Set=c.default;var u=e("./Map/Map");r.Map=u.default;var d=e("./HashSet/HashSet");r.HashSet=d.default;var h=e("./HashMap/HashMap");r.HashMap=h.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(e,t,r){"use strict";const i=e("yallist"),o=Symbol("max"),n=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1,m=(e,t,r)=>{const i=e[h].get(t);if(i){const t=i.value;if(g(e,t)){if(b(e,i),!e[s])return}else r&&(e[p]&&(i.value.now=Date.now()),e[d].unshiftNode(i));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},y=e=>{if(e[n]>e[o])for(let t=e[d].tail;e[n]>e[o]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[n]-=r.length,e[h].delete(r.key),e[d].removeNode(t)}};class v{constructor(e,t,r,i,o){this.key=e,this.value=t,this.length=r,this.now=i,this.maxAge=o||0}}const w=(e,t,r,i)=>{let o=r.value;g(e,o)&&(b(e,r),e[s]||(o=void 0)),o&&t.call(i,o.value,o.key,e)};t.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||f;if(this[a]="function"!=typeof t?f:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,y(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[n]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[n]+=e.length}))),y(this)}get lengthCalculator(){return this[a]}get length(){return this[n]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const i=r.prev;w(this,e,r,t),r=i}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const i=r.next;w(this,e,r,t),r=i}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[h]=new Map,this[d]=new i,this[n]=0}dump(){return this[d].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const i=r?Date.now():0,s=this[a](t,e);if(this[h].has(e)){if(s>this[o])return b(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[c]&&(this[u]||this[c](e,a.value)),a.now=i,a.maxAge=r,a.value=t,this[n]+=s-a.length,a.length=s,this.get(e),y(this),!0}const p=new v(e,t,s,i,r);return p.length>this[o]?(this[c]&&this[c](e,t),!1):(this[n]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],o=i.e||0;if(0===o)this.set(i.k,i.v);else{const e=o-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[h].forEach(((e,t)=>m(this,t,!1)))}}},{yallist:83}],38:[function(e,t,r){(function(e){(function(){const r=t.exports;r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.codes={};for(const e in r.types){const t=r.types[e];r.codes[t]=e}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(const e in r.properties){const t=r.properties[e];r.propertiesCodes[t]=e}function i(t){return[0,1,2].map((i=>[0,1].map((o=>[0,1].map((n=>{const a=e.alloc(1);return a.writeUInt8(r.codes[t]<<r.CMD_SHIFT|(o?r.DUP_MASK:0)|i<<r.QOS_SHIFT|n,0,!0),a}))))))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=i("publish"),r.SUBSCRIBE_HEADER=i("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=i("unsubscribe"),r.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.VERSION131=e.from([131]),r.VERSION132=e.from([132]),r.QOS=[0,1,2].map((t=>e.from([t]))),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],39:[function(e,t,r){(function(r){(function(){const i=e("./writeToStream"),o=e("events");class n extends o{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0;const t=new Array(this._array.length),i=this._array;let o,n=0;for(o=0;o<i.length&&void 0!==i[o];o++)"string"!=typeof i[o]?t[o]=i[o].length:t[o]=r.byteLength(i[o]),e+=t[o];const a=r.allocUnsafe(e);for(o=0;o<i.length&&void 0!==i[o];o++)"string"!=typeof i[o]?(i[o].copy(a,n),n+=t[o]):(a.write(i[o],n),n+=t[o]);return a}}t.exports=function(e,t){const r=new n;return i(e,r,t),r.concat()}}).call(this)}).call(this,e("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(e,t,r){r.parser=e("./parser").parser,r.generate=e("./generate"),r.writeToStream=e("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(e,t,r){(function(e){(function(){const r=65536,i={},o=e.isBuffer(e.from([1,2]).subarray(0,1));function n(t){const r=e.allocUnsafe(2);return r.writeUInt8(t>>8,0),r.writeUInt8(255&t,1),r}t.exports={cache:i,generateCache:function(){for(let e=0;e<r;e++)i[e]=n(e)},generateNumber:n,genBufVariableByteInt:function(t){let r=0,i=0;const n=e.allocUnsafe(4);do{r=t%128|0,(t=t/128|0)>0&&(r|=128),n.writeUInt8(r,i++)}while(t>0&&i<4);return t>0&&(i=0),o?n.subarray(0,i):n.slice(0,i)},generate4ByteBuffer:function(t){const r=e.allocUnsafe(4);return r.writeUInt32BE(t,0),r}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],42:[function(e,t,r){t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},{}],43:[function(e,t,r){const i=e("bl"),o=e("events"),n=e("./packet"),a=e("./constants"),s=e("debug")("mqtt-packet:parser");class l extends o{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof l?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new l).parser(e)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new n,this.error=null,this._list=i(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=a.types[e>>a.CMD_SHIFT],this.packet.retain=0!=(e&a.RETAIN_MASK),this.packet.qos=e>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=0!=(e&a.DUP_MASK),s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){let e,t,r,i;s("_parseConnect");const o={},n=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(new Error("Invalid protocolId"));if(n.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(n.protocolVersion=this._list.readUInt8(this._pos),n.protocolVersion>=128&&(n.bridgeMode=!0,n.protocolVersion=n.protocolVersion-128),3!==n.protocolVersion&&4!==n.protocolVersion&&5!==n.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,o.will&&(n.will={},n.will.retain=0!=(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),n.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),n.clean=0!=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK),this._pos++,n.keepalive=this._parseNum(),-1===n.keepalive)return this._emitError(new Error("Packet too short"));if(5===n.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(n.properties=e)}const c=this._parseString();if(null===c)return this._emitError(new Error("Packet too short"));if(n.clientId=c,s("_parseConnect: packet.clientId: %s",n.clientId),o.will){if(5===n.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(n.will.properties=e)}if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(n.will.topic=e,s("_parseConnect: packet.will.topic: %s",n.will.topic),null===(t=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));n.will.payload=t,s("_parseConnect: packet.will.paylaod: %s",n.will.payload)}if(o.username){if(null===(i=this._parseString()))return this._emitError(new Error("Cannot parse username"));n.username=i,s("_parseConnect: packet.username: %s",n.username)}if(o.password){if(null===(r=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));n.password=r}return this.settings=n,s("_parseConnect: complete"),n}_parseConnack(){s("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");const e=this.packet;let t,r,i,o,n,l,c;if(1!==e.qos)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));i=(r=this._parseByte())&a.SUBSCRIBE_OPTIONS_QOS_MASK,l=0!=(r>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK),n=0!=(r>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK),o=r>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,c={topic:t,qos:i},5===this.settings.protocolVersion?(c.nl=l,c.rap=n,c.rh=o):this.settings.bridgeMode&&(c.rh=0,c.rap=!0,c.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",c),e.subscriptions.push(c)}}}_parseSuback(){s("_parseSuback");const e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){s("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){const t=this._parseString();if(null===t)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){s("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}_parseDisconnect(){const e=this.packet;if(s("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");const e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),s("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;const i=this._list.toString("utf8",this._pos,r);return this._pos+=t,s("_parseString: result: %s",i),i}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;const r=this._list.slice(this._pos,t);return this._pos+=e,s("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");let t,r=0,i=1,o=0,n=!1;const l=this._pos?this._pos:0;for(;r<4&&l+r<this._list.length;){if(o+=i*((t=this._list.readUInt8(l+r++))&a.VARBYTEINT_MASK),i*=128,0==(t&a.VARBYTEINT_FIN_MASK)){n=!0;break}if(this._list.length<=r)break}return!n&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),l&&(this._pos+=r),s("_parseVarByteNum: result: %o",n=!!n&&(e?{bytes:r,value:o}:o)),n}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");const e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){const e=this._parseByte();if(!e)return this._emitError(new Error("Cannot parse property code type")),!1;const t=a.propertiesCodes[e];if(!t)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==t)r[t]?(Array.isArray(r[t])||(r[t]=[r[t]]),r[t].push(this._parseByType(a.propertiesTypes[t]))):r[t]=this._parseByType(a.propertiesTypes[t]);else{r[t]||(r[t]=Object.create(null));const e=this._parseByType(a.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{const i=r[t][e.name];r[t][e.name]=[i],r[t][e.name].push(e.value)}else r[t][e.name]=e.value}}return r}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new n,this._pos=0,!0}_emitError(e){s("_emitError"),this.error=e,this.emit("error",e)}}t.exports=l},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(e,t,r){(function(r){(function(){const i=e("./constants"),o=r.allocUnsafe(0),n=r.from([0]),a=e("./numbers"),s=e("process-nextick-args").nextTick,l=e("debug")("mqtt-packet:writeToStream"),c=a.cache,u=a.generateNumber,d=a.generateCache,h=a.genBufVariableByteInt,p=a.generate4ByteBuffer;let f=S,m=!0;function g(e,t,a){switch(l("generate called"),t.cork&&(t.cork(),s(y,t)),m&&(m=!1,d()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t,o){const n=e||{},a=n.protocolId||"MQTT";let s=n.protocolVersion||4;const l=n.will;let c=n.clean;const u=n.keepalive||0,d=n.clientId||"",h=n.username,p=n.password,m=n.properties;void 0===c&&(c=!0);let g=0;if(!a||"string"!=typeof a&&!r.isBuffer(a))return t.emit("error",new Error("Invalid protocolId")),!1;if(g+=a.length+2,3!==s&&4!==s&&5!==s)return t.emit("error",new Error("Invalid protocol version")),!1;if(g+=1,("string"==typeof d||r.isBuffer(d))&&(d||s>=4)&&(d||c))g+=r.byteLength(d)+2;else{if(s<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof u||u<0||u>65535||u%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;if(g+=2,g+=1,5===s){var y=x(t,m);if(!y)return!1;g+=y.length}if(l){if("object"!=typeof l)return t.emit("error",new Error("Invalid will")),!1;if(!l.topic||"string"!=typeof l.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(g+=r.byteLength(l.topic)+2,g+=2,l.payload){if(!(l.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;"string"==typeof l.payload?g+=r.byteLength(l.payload):g+=l.payload.length}var b={};if(5===s){if(!(b=x(t,l.properties)))return!1;g+=b.length}}let k=!1;if(null!=h){if(!A(h))return t.emit("error",new Error("Invalid username")),!1;k=!0,g+=r.byteLength(h)+2}if(null!=p){if(!k)return t.emit("error",new Error("Username is required to use password")),!1;if(!A(p))return t.emit("error",new Error("Invalid password")),!1;g+=D(p)+2}t.write(i.CONNECT_HEADER),v(t,g),T(t,a),n.bridgeMode&&(s+=128),t.write(131===s?i.VERSION131:132===s?i.VERSION132:4===s?i.VERSION4:5===s?i.VERSION5:i.VERSION3);let S=0;return S|=null!=h?i.USERNAME_MASK:0,S|=null!=p?i.PASSWORD_MASK:0,S|=l&&l.retain?i.WILL_RETAIN_MASK:0,S|=l&&l.qos?l.qos<<i.WILL_QOS_SHIFT:0,S|=l?i.WILL_FLAG_MASK:0,S|=c?i.CLEAN_SESSION_MASK:0,t.write(r.from([S])),f(t,u),5===s&&y.write(),T(t,d),l&&(5===s&&b.write(),w(t,l.topic),T(t,l.payload)),null!=h&&T(t,h),null!=p&&T(t,p),!0}(e,t);case"connack":return function(e,t,o){const a=o?o.protocolVersion:4,s=e||{},l=5===a?s.reasonCode:s.returnCode,c=s.properties;let u=2;if("number"!=typeof l)return t.emit("error",new Error("Invalid return code")),!1;let d=null;if(5===a){if(!(d=x(t,c)))return!1;u+=d.length}return t.write(i.CONNACK_HEADER),v(t,u),t.write(s.sessionPresent?i.SESSIONPRESENT_HEADER:n),t.write(r.from([l])),null!=d&&d.write(),!0}(e,t,a);case"publish":return function(e,t,n){l("publish: packet: %o",e);const a=n?n.protocolVersion:4,s=e||{},c=s.qos||0,u=s.retain?i.RETAIN_MASK:0,d=s.topic,h=s.payload||o,p=s.messageId,m=s.properties;let g=0;if("string"==typeof d)g+=r.byteLength(d)+2;else{if(!r.isBuffer(d))return t.emit("error",new Error("Invalid topic")),!1;g+=d.length+2}if(r.isBuffer(h)?g+=h.length:g+=r.byteLength(h),c&&"number"!=typeof p)return t.emit("error",new Error("Invalid messageId")),!1;c&&(g+=2);let y=null;if(5===a){if(!(y=x(t,m)))return!1;g+=y.length}return t.write(i.PUBLISH_HEADER[c][s.dup?1:0][u?1:0]),v(t,g),f(t,D(d)),t.write(d),c>0&&f(t,p),null!=y&&y.write(),l("publish: payload: %o",h),t.write(h)}(e,t,a);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,o){const n=o?o.protocolVersion:4,a=e||{},s=a.cmd||"puback",l=a.messageId,c=a.dup&&"pubrel"===s?i.DUP_MASK:0;let u=0;const d=a.reasonCode,h=a.properties;let p=5===n?3:2;if("pubrel"===s&&(u=1),"number"!=typeof l)return t.emit("error",new Error("Invalid messageId")),!1;let m=null;if(5===n&&"object"==typeof h){if(!(m=I(t,h,o,p)))return!1;p+=m.length}return t.write(i.ACKS[s][u][c][0]),v(t,p),f(t,l),5===n&&t.write(r.from([d])),null!==m&&m.write(),!0}(e,t,a);case"subscribe":return function(e,t,o){l("subscribe: packet: ");const n=o?o.protocolVersion:4,a=e||{},s=a.dup?i.DUP_MASK:0,c=a.messageId,u=a.subscriptions,d=a.properties;let h=0;if("number"!=typeof c)return t.emit("error",new Error("Invalid messageId")),!1;h+=2;let p=null;if(5===n){if(!(p=x(t,d)))return!1;h+=p.length}if("object"!=typeof u||!u.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(let i=0;i<u.length;i+=1){const e=u[i].topic,o=u[i].qos;if("string"!=typeof e)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof o)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===n){const e=u[i].nl||!1;if("boolean"!=typeof e)return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;const r=u[i].rap||!1;if("boolean"!=typeof r)return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const o=u[i].rh||0;if("number"!=typeof o||o>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}h+=r.byteLength(e)+2+1}l("subscribe: writing to stream: %o",i.SUBSCRIBE_HEADER),t.write(i.SUBSCRIBE_HEADER[1][s?1:0][0]),v(t,h),f(t,c),null!==p&&p.write();let m=!0;for(const l of u){const e=l.topic,o=l.qos,a=+l.nl,s=+l.rap,c=l.rh;let u;w(t,e),u=i.SUBSCRIBE_OPTIONS_QOS[o],5===n&&(u|=a?i.SUBSCRIBE_OPTIONS_NL:0,u|=s?i.SUBSCRIBE_OPTIONS_RAP:0,u|=c?i.SUBSCRIBE_OPTIONS_RH[c]:0),m=t.write(r.from([u]))}return m}(e,t,a);case"suback":return function(e,t,o){const n=o?o.protocolVersion:4,a=e||{},s=a.messageId,l=a.granted,c=a.properties;let u=0;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(u+=2,"object"!=typeof l||!l.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(let r=0;r<l.length;r+=1){if("number"!=typeof l[r])return t.emit("error",new Error("Invalid qos vector")),!1;u+=1}let d=null;if(5===n){if(!(d=I(t,c,o,u)))return!1;u+=d.length}return t.write(i.SUBACK_HEADER),v(t,u),f(t,s),null!==d&&d.write(),t.write(r.from(l))}(e,t,a);case"unsubscribe":return function(e,t,o){const n=o?o.protocolVersion:4,a=e||{},s=a.messageId,l=a.dup?i.DUP_MASK:0,c=a.unsubscriptions,u=a.properties;let d=0;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(d+=2,"object"!=typeof c||!c.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(let i=0;i<c.length;i+=1){if("string"!=typeof c[i])return t.emit("error",new Error("Invalid unsubscriptions")),!1;d+=r.byteLength(c[i])+2}let h=null;if(5===n){if(!(h=x(t,u)))return!1;d+=h.length}t.write(i.UNSUBSCRIBE_HEADER[1][l?1:0][0]),v(t,d),f(t,s),null!==h&&h.write();let p=!0;for(let r=0;r<c.length;r++)p=w(t,c[r]);return p}(e,t,a);case"unsuback":return function(e,t,o){const n=o?o.protocolVersion:4,a=e||{},s=a.messageId,l=a.dup?i.DUP_MASK:0,c=a.granted,u=a.properties,d=a.cmd;let h=2;if("number"!=typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(5===n){if("object"!=typeof c||!c.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(let e=0;e<c.length;e+=1){if("number"!=typeof c[e])return t.emit("error",new Error("Invalid qos vector")),!1;h+=1}}let p=null;if(5===n){if(!(p=I(t,u,o,h)))return!1;h+=p.length}return t.write(i.ACKS[d][0][l][0]),v(t,h),f(t,s),null!==p&&p.write(),5===n&&t.write(r.from(c)),!0}(e,t,a);case"pingreq":case"pingresp":return function(e,t,r){return t.write(i.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,o){const n=o?o.protocolVersion:4,a=e||{},s=a.reasonCode,l=a.properties;let c=5===n?1:0,u=null;if(5===n){if(!(u=I(t,l,o,c)))return!1;c+=u.length}return t.write(r.from([i.codes.disconnect<<4])),v(t,c),5===n&&t.write(r.from([s])),null!==u&&u.write(),!0}(e,t,a);case"auth":return function(e,t,o){const n=o?o.protocolVersion:4,a=e||{},s=a.reasonCode,l=a.properties;let c=5===n?1:0;5!==n&&t.emit("error",new Error("Invalid mqtt version for auth packet"));const u=I(t,l,o,c);return!!u&&(c+=u.length,t.write(r.from([i.codes.auth<<4])),v(t,c),t.write(r.from([s])),null!==u&&u.write(),!0)}(e,t,a);default:return t.emit("error",new Error("Unknown command")),!1}}function y(e){e.uncork()}Object.defineProperty(g,"cacheNumbers",{get:()=>f===S,set(e){e?(c&&0!==Object.keys(c).length||(m=!0),f=S):(m=!1,f=_)}});const b={};function v(e,t){if(t>i.VARBYTEINT_MAX)return e.emit("error",new Error(`Invalid variable byte integer: ${t}`)),!1;let r=b[t];return r||(r=h(t),t<16384&&(b[t]=r)),l("writeVarByteInt: writing to stream: %o",r),e.write(r)}function w(e,t){const i=r.byteLength(t);return f(e,i),l("writeString: %s",t),e.write(t,"utf8")}function k(e,t,r){w(e,t),w(e,r)}function S(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function _(e,t){const r=u(t);return l("writeNumberGenerated: %o",r),e.write(r)}function T(e,t){"string"==typeof t?w(e,t):t?(f(e,t.length),e.write(t)):f(e,0)}function x(e,t){if("object"!=typeof t||null!=t.length)return{length:1,write(){E(e,{},0)}};let o=0;function n(t,o){let n=0;switch(i.propertiesTypes[t]){case"byte":if("boolean"!=typeof o)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=2;break;case"int8":if("number"!=typeof o||o<0||o>255)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=2;break;case"binary":if(o&&null===o)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=1+r.byteLength(o)+2;break;case"int16":if("number"!=typeof o||o<0||o>65535)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=3;break;case"int32":if("number"!=typeof o||o<0||o>4294967295)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=5;break;case"var":if("number"!=typeof o||o<0||o>268435455)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=1+r.byteLength(h(o));break;case"string":if("string"!=typeof o)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=3+r.byteLength(o.toString());break;case"pair":if("object"!=typeof o)return e.emit("error",new Error(`Invalid ${t}: ${o}`)),!1;n+=Object.getOwnPropertyNames(o).reduce(((e,t)=>{const i=o[t];return Array.isArray(i)?e+=i.reduce(((e,i)=>e+(3+r.byteLength(t.toString())+2+r.byteLength(i.toString()))),0):e+=3+r.byteLength(t.toString())+2+r.byteLength(o[t].toString()),e}),0);break;default:return e.emit("error",new Error(`Invalid property ${t}: ${o}`)),!1}return n}if(t)for(const r in t){let e=0,i=0;const a=t[r];if(Array.isArray(a))for(let t=0;t<a.length;t++){if(!(i=n(r,a[t])))return!1;e+=i}else{if(!(i=n(r,a)))return!1;e=i}if(!e)return!1;o+=e}return{length:r.byteLength(h(o))+o,write(){E(e,t,o)}}}function I(e,t,r,i){const o=["reasonString","userProperties"],n=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let a=x(e,t);if(n)for(;i+a.length>n;){const r=o.shift();if(!r||!t[r])return!1;delete t[r],a=x(e,t)}return a}function C(e,t,o){switch(i.propertiesTypes[t]){case"byte":e.write(r.from([i.properties[t]])),e.write(r.from([+o]));break;case"int8":e.write(r.from([i.properties[t]])),e.write(r.from([o]));break;case"binary":e.write(r.from([i.properties[t]])),T(e,o);break;case"int16":e.write(r.from([i.properties[t]])),f(e,o);break;case"int32":e.write(r.from([i.properties[t]])),function(e,t){const r=p(t);l("write4ByteNumber: %o",r),e.write(r)}(e,o);break;case"var":e.write(r.from([i.properties[t]])),v(e,o);break;case"string":e.write(r.from([i.properties[t]])),w(e,o);break;case"pair":Object.getOwnPropertyNames(o).forEach((n=>{const a=o[n];Array.isArray(a)?a.forEach((o=>{e.write(r.from([i.properties[t]])),k(e,n.toString(),o.toString())})):(e.write(r.from([i.properties[t]])),k(e,n.toString(),a.toString()))}));break;default:return e.emit("error",new Error(`Invalid property ${t} value: ${o}`)),!1}}function E(e,t,r){v(e,r);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&null!==t[i]){const r=t[i];if(Array.isArray(r))for(let t=0;t<r.length;t++)C(e,i,r[t]);else C(e,i,r)}}function D(e){return e?e instanceof r?e.length:r.byteLength(e):0}function A(e){return"string"==typeof e||e instanceof r}t.exports=g}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(e,t,r){var i=1e3,o=60*i,n=60*o,a=24*n,s=7*a,l=365.25*a;function c(e,t,r,i){var o=t>=1.5*r;return Math.round(e/r)+" "+i+(o?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"weeks":case"week":case"w":return r*s;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*n;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=a?c(e,t,a,"day"):t>=n?c(e,t,n,"hour"):t>=o?c(e,t,o,"minute"):t>=i?c(e,t,i,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=a?Math.round(e/a)+"d":t>=n?Math.round(e/n)+"h":t>=o?Math.round(e/o)+"m":t>=i?Math.round(e/i)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],46:[function(e,t,r){const i=e("./lib/number-allocator.js");t.exports.NumberAllocator=i},{"./lib/number-allocator.js":47}],47:[function(e,t,r){"use strict";const i=e("js-sdsl").Set,o=e("debug")("number-allocator:trace"),n=e("debug")("number-allocator:error");function a(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new i([],((e,t)=>e.compare(t))),o("Create"),this.clear()}a.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},a.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return o("alloc():empty"),null;const e=this.ss.front(),t=e.low;return t+1<=e.high?++e.low:this.ss.eraseElementByPos(0),o("alloc():"+t),t},s.prototype.use=function(e){const t=new a(e,e),r=this.ss.lowerBound(t);if(r){if(r.equals(t))return this.ss.eraseElementByValue(r),o("use():"+e),!0;if(r.low>e)return!1;if(r.low===e)return++r.low,o("use():"+e),!0;if(r.high===e)return--r.high,o("use():"+e),!0;const i=r.low;return r.low=e+1,this.ss.insert(new a(i,e-1)),o("use():"+e),!0}return o("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)return void n("free():"+e+" is out of range");const t=new a(e,e),r=this.ss.lowerBound(t);if(r){if(r.low<=e&&e<=r.high)return void n("free():"+e+" has already been vacant");if(r===this.ss.front())e+1===r.low?--r.low:this.ss.insert(t);else{const i=this.ss.reverseLowerBound(t);i.high+1===e?e+1===r.low?(this.ss.eraseElementByValue(i),r.low=i.low):i.high=e:e+1===r.low?r.low=e:this.ss.insert(t)}}else{if(r===this.ss.front())return void this.ss.insert(t);const i=this.ss.reverseLowerBound(t);i.high+1===e?i.high=e:this.ss.insert(t)}o("free():"+e)},s.prototype.clear=function(){o("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(const e of this.ss)console.log(e)},t.exports=s},{debug:18,"js-sdsl":36}],48:[function(e,t,r){var i=e("wrappy");function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function n(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}t.exports=i(o),t.exports.strict=i(n),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})}))},{wrappy:79}],49:[function(e,t,r){(function(e){(function(){"use strict";void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,i,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,i)}));case 4:return e.nextTick((function(){t.call(null,r,i,o)}));default:for(n=new Array(s-1),a=0;a<n.length;)n[a++]=arguments[a];return e.nextTick((function(){t.apply(null,n)}))}}}:t.exports=e}).call(this)}).call(this,e("_process"))},{_process:50}],50:[function(e,t,r){var i,o,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,u=[],d=!1,h=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],51:[function(e,t,i){(function(e){(function(){!function(r){var o="object"==typeof i&&i&&!i.nodeType&&i,n="object"==typeof t&&t&&!t.nodeType&&t,a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var s,l,c=2147483647,u=36,d=1,h=26,p=38,f=700,m=72,g=128,y="-",b=/^xn--/,v=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-d,_=Math.floor,T=String.fromCharCode;function x(e){throw new RangeError(k[e])}function I(e,t){for(var r=e.length,i=[];r--;)i[r]=t(e[r]);return i}function C(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+I((e=e.replace(w,".")).split("."),t).join(".")}function E(e){for(var t,r,i=[],o=0,n=e.length;o<n;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<n?56320==(64512&(r=e.charCodeAt(o++)))?i.push(((1023&t)<<10)+(1023&r)+65536):(i.push(t),o--):i.push(t);return i}function D(e){return I(e,(function(e){var t="";return e>65535&&(t+=T((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+T(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var i=0;for(e=r?_(e/f):e>>1,e+=_(e/t);e>S*h>>1;i+=u)e=_(e/S);return _(i+(S+1)*e/(e+p))}function R(e){var t,r,i,o,n,a,s,l,p,f,b,v=[],w=e.length,k=0,S=g,T=m;for((r=e.lastIndexOf(y))<0&&(r=0),i=0;i<r;++i)e.charCodeAt(i)>=128&&x("not-basic"),v.push(e.charCodeAt(i));for(o=r>0?r+1:0;o<w;){for(n=k,a=1,s=u;o>=w&&x("invalid-input"),((l=(b=e.charCodeAt(o++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:u)>=u||l>_((c-k)/a))&&x("overflow"),k+=l*a,!(l<(p=s<=T?d:s>=T+h?h:s-T));s+=u)a>_(c/(f=u-p))&&x("overflow"),a*=f;T=P(k-n,t=v.length+1,0==n),_(k/t)>c-S&&x("overflow"),S+=_(k/t),k%=t,v.splice(k++,0,S)}return D(v)}function M(e){var t,r,i,o,n,a,s,l,p,f,b,v,w,k,S,I=[];for(v=(e=E(e)).length,t=g,r=0,n=m,a=0;a<v;++a)(b=e[a])<128&&I.push(T(b));for(i=o=I.length,o&&I.push(y);i<v;){for(s=c,a=0;a<v;++a)(b=e[a])>=t&&b<s&&(s=b);for(s-t>_((c-r)/(w=i+1))&&x("overflow"),r+=(s-t)*w,t=s,a=0;a<v;++a)if((b=e[a])<t&&++r>c&&x("overflow"),b==t){for(l=r,p=u;!(l<(f=p<=n?d:p>=n+h?h:p-n));p+=u)S=l-f,k=u-f,I.push(T(A(f+S%k,0))),l=_(S/k);I.push(T(A(l,0))),n=P(r,w,i==o),r=0,++i}++r,++t}return I.join("")}if(s={version:"1.4.1",ucs2:{decode:E,encode:D},decode:R,encode:M,toASCII:function(e){return C(e,(function(e){return v.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return C(e,(function(e){return b.test(e)?R(e.slice(4).toLowerCase()):e}))}},o&&n)if(t.exports==o)n.exports=s;else for(l in s)s.hasOwnProperty(l)&&(o[l]=s[l]);else r.punycode=s}(this)}).call(this)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(e,t,r){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,n){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;n&&"number"==typeof n.maxKeys&&(l=n.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,p,f,m=e[u].replace(s,"%20"),g=m.indexOf(r);g>=0?(d=m.substr(0,g),h=m.substr(g+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),i(a,p)?o(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],53:[function(e,t,r){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(a(e),(function(a){var s=encodeURIComponent(i(a))+r;return o(e[a])?n(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+r+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i],i));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],54:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":52,"./encode":53}],55:[function(e,t,r){"use strict";var i={};function o(e,t,r){r||(r=Error);var o=function(e){var r,i;function o(r,i,o){return e.call(this,function(e,r,i){return"string"==typeof t?t:t(e,r,i)}(r,i,o))||this}return i=e,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,o}(r);o.prototype.name=r.name,o.prototype.code=e,i[e]=o}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s;if("string"==typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var l=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],56:[function(e,t,r){(function(r){(function(){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var o=e("./_stream_readable"),n=e("./_stream_writable");e("inherits")(c,o);for(var a=i(n.prototype),s=0;s<a.length;s++){var l=a[s];c.prototype[l]||(c.prototype[l]=n.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(e,t,r){"use strict";t.exports=o;var i=e("./_stream_transform");function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}e("inherits")(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":59,inherits:24}],58:[function(e,t,i){(function(r,i){(function(){"use strict";var o;t.exports=x,x.ReadableState=T,e("events").EventEmitter;var n,a=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),l=e("buffer").Buffer,c=i.Uint8Array||function(){},u=e("util");n=u&&u.debuglog?u.debuglog("stream"):function(){};var d,h,p,f=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,b=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(x,s);var S=m.errorOrDestroy,_=["error","close","destroy","pause","resume"];function T(t,r,i){o=o||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof o),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e("string_decoder/").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function x(t){if(o=o||e("./_stream_duplex"),!(this instanceof x))return new x(t);var r=this instanceof o;this._readableState=new T(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,r,i,o){n("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}(e,s);else if(o||(a=function(e,t){var r,i;return i=t,l.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i)s.endEmitted?S(e,new k):C(e,s,t,!0);else if(s.ended)S(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?C(e,s,t,!1):R(e,s)):C(e,s,t,!1)}else i||(s.reading=!1,R(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function C(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),R(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},x.prototype.unshift=function(e){return I(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){d||(d=e("string_decoder/").StringDecoder);var r=new d(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,o="";null!==i;)o+=r.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var E=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(P,e))}function P(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function R(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){n("readable nexttick read 0"),e.read(0)}function z(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(V,t,e))}function V(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function W(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}x.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&B(this),null;var i,o=t.needReadable;return n("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",o=!0),t.ended||t.reading?n("reading or ended",o=!1):o&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(i=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==i&&this.emit("data",i),i},x.prototype._read=function(e){S(this,new w("_read()"))},x.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,n("pipe count=%d opts=%j",o.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?g:c;function l(t,r){n("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,n("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",l),i.removeListener("end",c),i.removeListener("end",g),i.removeListener("data",h),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){n("onend"),e.end()}o.endEmitted?r.nextTick(s):i.once("end",s),e.on("unpipe",l);var u=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,j(e))}}(i);e.on("drain",u);var d=!1;function h(t){n("ondata");var r=e.write(t);n("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==W(o.pipes,e))&&!d&&(n("false write response, pause",o.awaitDrain),o.awaitDrain++),i.pause())}function p(t){n("onerror",t),g(),e.removeListener("error",p),0===a(e,"error")&&S(e,t)}function f(){e.removeListener("finish",m),g()}function m(){n("onfinish"),e.removeListener("close",f),g()}function g(){n("unpipe"),i.unpipe(e)}return i.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",m),e.emit("pipe",i),o.flowing||(n("pipe resume"),i.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<o;n++)i[n].emit("unpipe",this,{hasUnpiped:!1});return this}var a=W(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var i=s.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,n("on readable",o.length,o.reading),o.length?A(this):o.reading||r.nextTick(L,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var i=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(O,this),i},x.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(O,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(z,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),(!r.objectMode||null!==o&&void 0!==o)&&(r.objectMode||o&&o.length)&&(t.push(o)||(i=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<_.length;a++)e.on(_[a],this.emit.bind(this,_[a]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=F,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,r){return void 0===p&&(p=e("./internal/streams/from")),p(x,t,r)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(e,t,r){"use strict";t.exports=c;var i=e("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,n=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new n);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new o("_transform()"))},c.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var o=this._readableState;(i.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(e,t,i){(function(r,i){(function(){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var o=i.callback;t.pendingcb--,o(r),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var n;t.exports=x,x.WritableState=T;var a,s={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),c=e("buffer").Buffer,u=i.Uint8Array||function(){},d=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,f=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function _(){}function T(t,i,a){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof a&&(a=i instanceof n),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,o=i.sync,n=i.writecb;if("function"!=typeof n)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,o,n){--t.pendingcb,i?(r.nextTick(n,o),r.nextTick(P,e,t),e._writableState.errorEmitted=!0,S(e,o)):(n(o),e._writableState.errorEmitted=!0,S(e,o),P(e,t))}(e,i,o,t,n);else{var a=D(i)||e.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||E(e,i),o?r.nextTick(C,e,i,a,n):C(e,i,a,n)}}(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(t){var r=this instanceof(n=n||e("./_stream_duplex"));if(!r&&!a.call(x,this))return new x(t);this._writableState=new T(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function I(e,t,r,i,o,n,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(o,t.onwrite):e._write(o,n,t.onwrite),t.sync=!1}function C(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var s=0,l=!0;r;)n[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;n.allBuffers=l,I(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,d=r.callback;if(I(e,t,!1,t.objectMode?1:c.length,c,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var i=D(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var o=e._readableState;(!o||o.autoDestroy&&o.endEmitted)&&e.destroy()}return i}e("inherits")(x,l),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===x&&e&&e._writableState instanceof T}})):a=function(e){return e instanceof this},x.prototype.pipe=function(){S(this,new y)},x.prototype.write=function(e,t,i){var o,n=this._writableState,a=!1,s=!n.objectMode&&(o=e,c.isBuffer(o)||o instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=_),n.ending?function(e,t){var i=new w;S(e,i),r.nextTick(t,i)}(this,i):(s||function(e,t,i,o){var n;return null===i?n=new v:"string"==typeof i||t.objectMode||(n=new f("chunk",["string","Buffer"],i)),!n||(S(e,n),r.nextTick(o,n),!1)}(this,n,e,i))&&(n.pendingcb++,a=function(e,t,r,i,o,n){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,i,o);i!==a&&(r=!0,o="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:o,isBuf:r,callback:n,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,s,i,o,n);return l}(this,n,s,e,t,i)),a},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new m("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,i){var o=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||function(e,t,i){t.ending=!0,P(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,o,i),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(e,t,r){(function(r){(function(){"use strict";var i;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var r=e[h].read();null!==r&&(e[u]=null,e[a]=null,e[s]=null,t(p(r,!1)))}}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((o(i={get stream(){return this[h]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,i){r.nextTick((function(){e[l]?i(e[l]):t(p(void 0,!0))}))}));var i,o=this[u];if(o)i=new Promise(function(e,t){return function(r,i){e.then((function(){t[c]?r(p(void 0,!0)):t[d](r,i)}),i)}}(o,this));else{var n=this[h].read();if(null!==n)return Promise.resolve(p(n,!1));i=new Promise(this[d])}return this[u]=i,i}},Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),m);t.exports=function(e){var t,i=Object.create(g,(o(t={},h,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,c,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var r=i[h].read();r?(i[u]=null,i[a]=null,i[s]=null,e(p(r,!1))):(i[a]=e,i[s]=t)},writable:!0}),t));return i[u]=null,n(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[s];return null!==t&&(i[u]=null,i[a]=null,i[s]=null,t(e)),void(i[l]=e)}var r=i[a];null!==r&&(i[u]=null,i[a]=null,i[s]=null,r(p(void 0,!0))),i[c]=!0})),e.on("readable",function(e){r.nextTick(f,e)}.bind(null,i)),i}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":64,_process:50}],62:[function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=e("buffer").Buffer,s=e("util").inspect,l=s&&s.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,i,o=a.allocUnsafe(e>>>0),n=this.head,s=0;n;)t=n.data,r=o,i=s,a.prototype.copy.call(t,r,i),s+=n.data.length,n=n.next;return o}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var o=t.data,n=e>o.length?o.length:e;if(n===o.length?i+=o:i+=o.slice(0,e),0===(e-=n)){n===o.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(n));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,n=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,n),0===(e-=n)){n===o.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(n));break}++i}return this.length-=i,t}},{key:l,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&n(t.prototype,r),c&&n(t,c),e}()},{buffer:17,util:16}],63:[function(e,t,r){(function(e){(function(){"use strict";function r(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}t.exports={destroy:function(t,n){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,t)):e.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!n&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(i,a):(a._writableState.errorEmitted=!0,e.nextTick(r,a,t)):e.nextTick(r,a,t):n?(e.nextTick(i,a),n(t)):e.nextTick(i,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:50}],64:[function(e,t,r){"use strict";var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}t.exports=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.apply(this,i)}}}(n||o);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){s=!1,c=!0,a||n.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,d=!0,s||n.call(t)},p=function(e){n.call(t,e)},f=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new i),n.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new i),n.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",f),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",h),t.on("finish",u),!1!==r.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},{"../../../errors":55}],65:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(e,t,r){"use strict";var i,o=e("../../../errors").codes,n=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var u,d=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new n("streams");var h=r.map((function(t,o){var n=o<r.length-1;return function(t,r,o,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var s=!1;t.on("close",(function(){s=!0})),void 0===i&&(i=e("./end-of-stream")),i(t,{readable:r,writable:o},(function(e){if(e)return n(e);s=!0,n()}));var l=!1;return function(e){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void n(e||new a("pipe"))}}(t,n,o>0,(function(e){u||(u=e),e&&h.forEach(l),n||(h.forEach(l),d(u))}))}));return r.reduce(c)}},{"../../../errors":55,"./end-of-stream":64}],67:[function(e,t,r){"use strict";var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,o){var n=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new i(o?r:"highWaterMark",n);return Math.floor(n)}return e.objectMode?16:16384}}},{"../../../errors":55}],68:[function(e,t,r){t.exports=e("events").EventEmitter},{events:22}],69:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new function(e,t,r){var i=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=i._interval),i._interval&&clearInterval(i._interval),i._interval=setInterval(i._callback,e,i._args)},this.clear=function(){i._interval&&(clearInterval(i._interval),i._interval=void 0)},this.destroy=function(){i._interval&&clearInterval(i._interval),i._callback=void 0,i._interval=void 0,i._args=void 0}}(arguments[0],arguments[1],e)}},{}],71:[function(e,t,r){"use strict";t.exports=e("./index.js")()},{"./index.js":72}],72:[function(e,t,r){(function(e){(function(){"use strict";function r(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(e){return(e=e||{}).circles?function(e){var t=[],i=[];return e.proto?function e(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return o(n,e);if(n instanceof Map)return new Map(o(Array.from(n),e));if(n instanceof Set)return new Set(o(Array.from(n),e));var a={};for(var s in t.push(n),i.push(a),n){var l=n[s];if("object"!=typeof l||null===l)a[s]=l;else if(l instanceof Date)a[s]=new Date(l);else if(l instanceof Map)a[s]=new Map(o(Array.from(l),e));else if(l instanceof Set)a[s]=new Set(o(Array.from(l),e));else if(ArrayBuffer.isView(l))a[s]=r(l);else{var c=t.indexOf(l);a[s]=-1!==c?i[c]:e(l)}}return t.pop(),i.pop(),a}:function e(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return o(n,e);if(n instanceof Map)return new Map(o(Array.from(n),e));if(n instanceof Set)return new Set(o(Array.from(n),e));var a={};for(var s in t.push(n),i.push(a),n)if(!1!==Object.hasOwnProperty.call(n,s)){var l=n[s];if("object"!=typeof l||null===l)a[s]=l;else if(l instanceof Date)a[s]=new Date(l);else if(l instanceof Map)a[s]=new Map(o(Array.from(l),e));else if(l instanceof Set)a[s]=new Set(o(Array.from(l),e));else if(ArrayBuffer.isView(l))a[s]=r(l);else{var c=t.indexOf(l);a[s]=-1!==c?i[c]:e(l)}}return t.pop(),i.pop(),a};function o(e,o){for(var n=Object.keys(e),a=new Array(n.length),s=0;s<n.length;s++){var l=n[s],c=e[l];if("object"!=typeof c||null===c)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(ArrayBuffer.isView(c))a[l]=r(c);else{var u=t.indexOf(c);a[l]=-1!==u?i[u]:o(c)}}return a}}(e):e.proto?function e(i){if("object"!=typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,e);if(i instanceof Map)return new Map(t(Array.from(i),e));if(i instanceof Set)return new Set(t(Array.from(i),e));var o={};for(var n in i){var a=i[n];"object"!=typeof a||null===a?o[n]=a:a instanceof Date?o[n]=new Date(a):a instanceof Map?o[n]=new Map(t(Array.from(a),e)):a instanceof Set?o[n]=new Set(t(Array.from(a),e)):ArrayBuffer.isView(a)?o[n]=r(a):o[n]=e(a)}return o}:function e(i){if("object"!=typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,e);if(i instanceof Map)return new Map(t(Array.from(i),e));if(i instanceof Set)return new Set(t(Array.from(i),e));var o={};for(var n in i)if(!1!==Object.hasOwnProperty.call(i,n)){var a=i[n];"object"!=typeof a||null===a?o[n]=a:a instanceof Date?o[n]=new Date(a):a instanceof Map?o[n]=new Map(t(Array.from(a),e)):a instanceof Set?o[n]=new Set(t(Array.from(a),e)):ArrayBuffer.isView(a)?o[n]=r(a):o[n]=e(a)}return o};function t(e,t){for(var i=Object.keys(e),o=new Array(i.length),n=0;n<i.length;n++){var a=i[n],s=e[a];"object"!=typeof s||null===s?o[a]=s:s instanceof Date?o[a]=new Date(s):ArrayBuffer.isView(s)?o[a]=r(s):o[a]=t(s)}return o}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],73:[function(e,t,r){var i=e("buffer"),o=i.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=i:(n(i,r),r.Buffer=a),a.prototype=Object.create(o.prototype),n(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=o(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:17}],74:[function(e,t,r){t.exports=function(e){var t,r=e._readableState;return r?r.objectMode||"number"==typeof e._duplexState?e.read():e.read((t=r,t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length)):null}},{}],75:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,o=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}r.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},n.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var o=a(t[i]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--i<r||-2===o?0:(o=a(t[i]))>=0?(o>0&&(e.lastNeed=o-2),o):--i<r||-2===o?0:(o=a(t[i]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":73}],76:[function(e,t,r){"use strict";var i=e("punycode"),o=e("./util");function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=v,r.resolve=function(e,t){return v(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},r.format=function(e){return o.isString(e)&&(e=v(e)),e instanceof n?e.format():n.prototype.format.call(e)},r.Url=n;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function v(e,t,r){if(e&&o.isObject(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}n.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),s=-1!==n&&n<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var v=e=c.join(s);if(v=v.trim(),!r&&1===e.split("#").length){var w=l.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=a.exec(v);if(k){var S=(k=k[0]).toLowerCase();this.protocol=S,v=v.substr(k.length)}if(r||k||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===v.substr(0,2);!_||k&&g[k]||(v=v.substr(2),this.slashes=!0)}if(!g[k]&&(_||k&&!y[k])){for(var T,x,I=-1,C=0;C<h.length;C++)-1!==(E=v.indexOf(h[C]))&&(-1===I||E<I)&&(I=E);for(-1!==(x=-1===I?v.lastIndexOf("@"):v.lastIndexOf("@",I))&&(T=v.slice(0,x),v=v.slice(x+1),this.auth=decodeURIComponent(T)),I=-1,C=0;C<d.length;C++){var E;-1!==(E=v.indexOf(d[C]))&&(-1===I||E<I)&&(I=E)}-1===I&&(I=v.length),this.host=v.slice(0,I),v=v.slice(I),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var A=this.hostname.split(/\./),P=(C=0,A.length);C<P;C++){var R=A[C];if(R&&!R.match(p)){for(var M="",O=0,L=R.length;O<L;O++)R.charCodeAt(O)>127?M+="x":M+=R[O];if(!M.match(p)){var z=A.slice(0,C),j=A.slice(C+1),F=R.match(f);F&&(z.push(F[1]),j.unshift(F[2])),j.length&&(v="/"+j.join(".")+v),this.hostname=z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=i.toASCII(this.hostname));var B=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+B,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!m[S])for(C=0,P=u.length;C<P;C++){var W=u[C];if(-1!==v.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),v=v.split(W).join(U)}}var N=v.indexOf("#");-1!==N&&(this.hash=v.substr(N),v=v.slice(0,N));var q=v.indexOf("?");if(-1!==q?(this.search=v.substr(q),this.query=v.substr(q+1),t&&(this.query=b.parse(this.query)),v=v.slice(0,q)):t&&(this.search="",this.query={}),v&&(this.pathname=v),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var Z=this.search||"";this.path=B+Z}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,a="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+n+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},n.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(o.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,i=Object.keys(this),a=0;a<i.length;a++){var s=i[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",b=r.search||"";r.path=m+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),k=w||v||r.host&&e.pathname,S=k,_=r.pathname&&r.pathname.split("/")||[],T=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(T&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),k=k&&(""===f[0]||""===_[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=f;else if(f.length)_||(_=[]),_.pop(),_=_.concat(f),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return T&&(r.hostname=r.host=_.shift(),(D=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=D.shift(),r.host=r.hostname=D.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=_.slice(-1)[0],I=(r.host||e.host||_.length>1)&&("."===x||".."===x)||""===x,C=0,E=_.length;E>=0;E--)"."===(x=_[E])?_.splice(E,1):".."===x?(_.splice(E,1),C++):C&&(_.splice(E,1),C--);if(!k&&!S)for(;C--;C)_.unshift("..");!k||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),I&&"/"!==_.join("/").substr(-1)&&_.push("");var D,A=""===_[0]||_[0]&&"/"===_[0].charAt(0);return T&&(r.hostname=r.host=A?"":_.length?_.shift():"",(D=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=D.shift(),r.host=r.hostname=D.shift())),(k=k||r.host&&_.length)&&!A&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":77,punycode:51,querystring:54}],77:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],78:[function(e,t,i){(function(e){(function(){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var i=!1;return function(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(e,t,r){t.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){i[e]=t[e]})),i;function i(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),o=e[e.length-1];return"function"==typeof i&&i!==o&&Object.keys(o).forEach((function(e){i[e]=o[e]})),i}}},{}],80:[function(e,t,r){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)i.call(r,o)&&(e[o]=r[o])}return e};var i=Object.prototype.hasOwnProperty},{}],82:[function(e,t,r){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],83:[function(e,t,r){"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var i=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function n(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,i){if(!(this instanceof s))return new s(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=i,i.Node=s,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;null!==r;i++)e.call(t,r.value,i,this),r=r.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;null!==r;i--)e.call(t,r.value,i,this),r=r.prev},i.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},i.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},i.prototype.map=function(e,t){t=t||this;for(var r=new i,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},i.prototype.mapReverse=function(e,t){t=t||this;for(var r=new i,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},i.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,r=this.head.value}for(var o=0;null!==i;o++)r=e(r,i.value,o),i=i.next;return r},i.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==i;o--)r=e(r,i.value,o),i=i.prev;return r},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,n=this.head;null!==n&&o<e;o++)n=n.next;for(;null!==n&&o<t;o++,n=n.next)r.push(n.value);return r},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,n=this.tail;null!==n&&o>t;o--)n=n.prev;for(;null!==n&&o>e;o--,n=n.prev)r.push(n.value);return r},i.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,n=this.head;null!==n&&i<e;i++)n=n.next;var a=[];for(i=0;n&&i<t;i++)a.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),i=0;i<r.length;i++)n=o(this,n,r[i]);return a},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};try{e("./iterator.js")(i)}catch(e){}},{"./iterator.js":82}]},{},[12])(12)}))},9521:function(){},49125:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,r,i,o){if(!r){var n=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],o=e[c][2];for(var a=!0,s=0;s<r.length;s++)(!1&o||n>=o)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[s])}))?r.splice(s--,1):(a=!1,o<n&&(n=o));if(a){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,r){return __webpack_require__.f[r](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/about.52c605bd.js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue3-webpack5:";__webpack_require__.l=function(r,i,o,n){if(e[r])e[r].push(i);else{var a,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(s=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=function(t,i){a.onerror=a.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(i)})),t)return t(i)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){__webpack_require__.p="/osh-cloud/morpheusx-dev/"}(),function(){var e={2143:0,6400:0,9397:0,4133:0};__webpack_require__.f.j=function(t,r){var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else if(/^(4133|6400|9397)$/.test(t))e[t]=0;else{var o=new Promise((function(r,o){i=e[t]=[r,o]}));r.push(i[2]=o);var n=__webpack_require__.p+__webpack_require__.u(t),a=new Error,s=function(r){if(__webpack_require__.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",a.name="ChunkLoadError",a.type=o,a.request=n,i[1](a)}};__webpack_require__.l(n,s,"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,n=r[0],a=r[1],s=r[2],l=0;if(n.some((function(t){return 0!==e[t]}))){for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(s)var c=s(__webpack_require__)}for(t&&t(r);l<n.length;l++)o=n[l],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(c)},r=self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__=__webpack_require__.O(void 0,[5099,8096,1731,3105,5443,345,846,5691,2104,5898,8380,3071,4004,3144,3750,3402,1738,2207,5885,1537,1836,2549,7795,7512,8945,9180,6568,752,6502,1473,5979,5571,227,6826,9096,798,2215,2402,6617,270,1882,3188,3347,8530,8850,7580,5079,5200,440,552,7090,4693,8038,7286,8440,3924,824,9504,7640,8778,9194,3935,8259,4853,9233,6183,382,2161,1282,3827,9989,2257,7105,9046,7886,1344,6458,4260,2868,9992,1531,8972,5714,2035,101,219,4536,9840,3329,7218,1830,8689,1458,2757,1289,8416,6400,7678,2108,8214,2651,7476,9397,6352,7996,4398,7527,5562,2739,9111,1727,9859,2709,9749,468,2492,7035,1595,1686,2546,5014,899,5136,6452,6326,602,2154,5814,1571,3077,5647,2118,4771,1814,9857,7442,4133],(function(){return __webpack_require__(64816)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.57cff04e.js.map