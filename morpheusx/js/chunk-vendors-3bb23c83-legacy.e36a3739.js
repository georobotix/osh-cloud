"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[5571],{92244:function(e,t,r){var i=r(60216),n=r(72248),a=r(52200),o=new i.Z;function s(e){this._size=e.size,this._datatype=e.datatype,this.getValue=e.getValue}var u={};u[a.Z.FLOAT]="float",u[a.Z.FLOAT_VEC2]="vec2",u[a.Z.FLOAT_VEC3]="vec3",u[a.Z.FLOAT_VEC4]="vec4",u[a.Z.INT]="int",u[a.Z.INT_VEC2]="ivec2",u[a.Z.INT_VEC3]="ivec3",u[a.Z.INT_VEC4]="ivec4",u[a.Z.BOOL]="bool",u[a.Z.BOOL_VEC2]="bvec2",u[a.Z.BOOL_VEC3]="bvec3",u[a.Z.BOOL_VEC4]="bvec4",u[a.Z.FLOAT_MAT2]="mat2",u[a.Z.FLOAT_MAT3]="mat3",u[a.Z.FLOAT_MAT4]="mat4",u[a.Z.SAMPLER_2D]="sampler2D",u[a.Z.SAMPLER_CUBE]="samplerCube",s.prototype.getDeclaration=function(e){var t="uniform "+u[this._datatype]+" "+e,r=this._size;return t+=1===r?";":"["+r.toString()+"];",t};var _={czm_viewport:new s({size:1,datatype:a.Z.FLOAT_VEC4,getValue:function(e){return e.viewportCartesian4}}),czm_viewportOrthographic:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.viewportOrthographic}}),czm_viewportTransformation:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.viewportTransformation}}),czm_globeDepthTexture:new s({size:1,datatype:a.Z.SAMPLER_2D,getValue:function(e){return e.globeDepthTexture}}),czm_model:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.model}}),czm_inverseModel:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseModel}}),czm_view:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.view}}),czm_view3D:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.view3D}}),czm_viewRotation:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.viewRotation}}),czm_viewRotation3D:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.viewRotation3D}}),czm_inverseView:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseView}}),czm_inverseView3D:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseView3D}}),czm_inverseViewRotation:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation}}),czm_inverseViewRotation3D:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation3D}}),czm_projection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.projection}}),czm_inverseProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseProjection}}),czm_infiniteProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.infiniteProjection}}),czm_modelView:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.modelView}}),czm_modelView3D:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.modelView3D}}),czm_modelViewRelativeToEye:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.modelViewRelativeToEye}}),czm_inverseModelView:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseModelView}}),czm_inverseModelView3D:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseModelView3D}}),czm_viewProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.viewProjection}}),czm_inverseViewProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseViewProjection}}),czm_modelViewProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.modelViewProjection}}),czm_inverseModelViewProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.inverseModelViewProjection}}),czm_modelViewProjectionRelativeToEye:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.modelViewProjectionRelativeToEye}}),czm_modelViewInfiniteProjection:new s({size:1,datatype:a.Z.FLOAT_MAT4,getValue:function(e){return e.modelViewInfiniteProjection}}),czm_orthographicIn3D:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.orthographicIn3D?1:0}}),czm_normal:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.normal}}),czm_normal3D:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.normal3D}}),czm_inverseNormal:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.inverseNormal}}),czm_inverseNormal3D:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.inverseNormal3D}}),czm_eyeHeight:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.eyeHeight}}),czm_eyeHeight2D:new s({size:1,datatype:a.Z.FLOAT_VEC2,getValue:function(e){return e.eyeHeight2D}}),czm_entireFrustum:new s({size:1,datatype:a.Z.FLOAT_VEC2,getValue:function(e){return e.entireFrustum}}),czm_currentFrustum:new s({size:1,datatype:a.Z.FLOAT_VEC2,getValue:function(e){return e.currentFrustum}}),czm_frustumPlanes:new s({size:1,datatype:a.Z.FLOAT_VEC4,getValue:function(e){return e.frustumPlanes}}),czm_farDepthFromNearPlusOne:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.farDepthFromNearPlusOne}}),czm_log2FarDepthFromNearPlusOne:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.log2FarDepthFromNearPlusOne}}),czm_oneOverLog2FarDepthFromNearPlusOne:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.oneOverLog2FarDepthFromNearPlusOne}}),czm_sunPositionWC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.sunPositionWC}}),czm_sunPositionColumbusView:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.sunPositionColumbusView}}),czm_sunDirectionEC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.sunDirectionEC}}),czm_sunDirectionWC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.sunDirectionWC}}),czm_moonDirectionEC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.moonDirectionEC}}),czm_lightDirectionEC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.lightDirectionEC}}),czm_lightDirectionWC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.lightDirectionWC}}),czm_lightColor:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.lightColor}}),czm_lightColorHdr:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.lightColorHdr}}),czm_encodedCameraPositionMCHigh:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCHigh}}),czm_encodedCameraPositionMCLow:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCLow}}),czm_viewerPositionWC:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return n.Z.getTranslation(e.inverseView,o)}}),czm_frameNumber:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.frameState.frameNumber}}),czm_morphTime:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.frameState.morphTime}}),czm_sceneMode:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.frameState.mode}}),czm_pass:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.pass}}),czm_backgroundColor:new s({size:1,datatype:a.Z.FLOAT_VEC4,getValue:function(e){return e.backgroundColor}}),czm_brdfLut:new s({size:1,datatype:a.Z.SAMPLER_2D,getValue:function(e){return e.brdfLut}}),czm_environmentMap:new s({size:1,datatype:a.Z.SAMPLER_CUBE,getValue:function(e){return e.environmentMap}}),czm_specularEnvironmentMaps:new s({size:1,datatype:a.Z.SAMPLER_2D,getValue:function(e){return e.specularEnvironmentMaps}}),czm_specularEnvironmentMapSize:new s({size:1,datatype:a.Z.FLOAT_VEC2,getValue:function(e){return e.specularEnvironmentMapsDimensions}}),czm_specularEnvironmentMapsMaximumLOD:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.specularEnvironmentMapsMaximumLOD}}),czm_sphericalHarmonicCoefficients:new s({size:9,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.sphericalHarmonicCoefficients}}),czm_temeToPseudoFixed:new s({size:1,datatype:a.Z.FLOAT_MAT3,getValue:function(e){return e.temeToPseudoFixedMatrix}}),czm_pixelRatio:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.pixelRatio}}),czm_fogDensity:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.fogDensity}}),czm_imagerySplitPosition:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.imagerySplitPosition}}),czm_geometricToleranceOverMeter:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.geometricToleranceOverMeter}}),czm_minimumDisableDepthTestDistance:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.minimumDisableDepthTestDistance}}),czm_invertClassificationColor:new s({size:1,datatype:a.Z.FLOAT_VEC4,getValue:function(e){return e.invertClassificationColor}}),czm_gamma:new s({size:1,datatype:a.Z.FLOAT,getValue:function(e){return e.gamma}}),czm_ellipsoidRadii:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.ellipsoid.radii}}),czm_ellipsoidInverseRadii:new s({size:1,datatype:a.Z.FLOAT_VEC3,getValue:function(e){return e.ellipsoid.oneOverRadii}})};t["Z"]=_},99095:function(e,t,r){var i=r(66553),n=r(62200),a=r(82982),o=r(86511),s=r(12572),u=r(22832),_=r(52200),h=r(58597);function f(e){if(e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),i.Z.defined("options.context",e.context),!(0,a.Z)(e.typedArray)&&!(0,a.Z)(e.sizeInBytes))throw new s.Z("Either options.sizeInBytes or options.typedArray is required.");if((0,a.Z)(e.typedArray)&&(0,a.Z)(e.sizeInBytes))throw new s.Z("Cannot pass in both options.sizeInBytes and options.typedArray.");if((0,a.Z)(e.typedArray)&&(i.Z.typeOf.object("options.typedArray",e.typedArray),i.Z.typeOf.number("options.typedArray.byteLength",e.typedArray.byteLength)),!h.Z.validate(e.usage))throw new s.Z("usage is invalid.");var t=e.context._gl,r=e.bufferTarget,o=e.typedArray,u=e.sizeInBytes,_=e.usage,f=(0,a.Z)(o);f&&(u=o.byteLength),i.Z.typeOf.number.greaterThan("sizeInBytes",u,0);var c=t.createBuffer();t.bindBuffer(r,c),t.bufferData(r,f?o:u,_),t.bindBuffer(r,null),this._gl=t,this._webgl2=e.context._webgl2,this._bufferTarget=r,this._sizeInBytes=u,this._usage=_,this._buffer=c,this.vertexArrayDestroyable=!0}f.createVertexBuffer=function(e){return i.Z.defined("options.context",e.context),new f({context:e.context,bufferTarget:_.Z.ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage})},f.createIndexBuffer=function(e){if(i.Z.defined("options.context",e.context),!u.Z.validate(e.indexDatatype))throw new s.Z("Invalid indexDatatype.");if(e.indexDatatype===u.Z.UNSIGNED_INT&&!e.context.elementIndexUint)throw new s.Z("IndexDatatype.UNSIGNED_INT requires OES_element_index_uint, which is not supported on this system.  Check context.elementIndexUint.");var t=e.context,r=e.indexDatatype,n=u.Z.getSizeInBytes(r),a=new f({context:t,bufferTarget:_.Z.ELEMENT_ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage}),o=a.sizeInBytes/n;return Object.defineProperties(a,{indexDatatype:{get:function(){return r}},bytesPerIndex:{get:function(){return n}},numberOfIndices:{get:function(){return o}}}),a},Object.defineProperties(f.prototype,{sizeInBytes:{get:function(){return this._sizeInBytes}},usage:{get:function(){return this._usage}}}),f.prototype._getBuffer=function(){return this._buffer},f.prototype.copyFromArrayView=function(e,t){t=(0,n.Z)(t,0),i.Z.defined("arrayView",e),i.Z.typeOf.number.lessThanOrEquals("offsetInBytes + arrayView.byteLength",t+e.byteLength,this._sizeInBytes);var r=this._gl,a=this._bufferTarget;r.bindBuffer(a,this._buffer),r.bufferSubData(a,t,e),r.bindBuffer(a,null)},f.prototype.copyFromBuffer=function(e,t,r,i){if(!this._webgl2)throw new s.Z("A WebGL 2 context is required.");if(!(0,a.Z)(e))throw new s.Z("readBuffer must be defined.");if(!(0,a.Z)(i)||i<=0)throw new s.Z("sizeInBytes must be defined and be greater than zero.");if(!(0,a.Z)(t)||t<0||t+i>e._sizeInBytes)throw new s.Z("readOffset must be greater than or equal to zero and readOffset + sizeInBytes must be less than of equal to readBuffer.sizeInBytes.");if(!(0,a.Z)(r)||r<0||r+i>this._sizeInBytes)throw new s.Z("writeOffset must be greater than or equal to zero and writeOffset + sizeInBytes must be less than of equal to this.sizeInBytes.");if(this._buffer===e._buffer&&(r>=t&&r<t+i||t>r&&t<r+i))throw new s.Z("When readBuffer is equal to this, the ranges [readOffset + sizeInBytes) and [writeOffset, writeOffset + sizeInBytes) must not overlap.");if(this._bufferTarget===_.Z.ELEMENT_ARRAY_BUFFER&&e._bufferTarget!==_.Z.ELEMENT_ARRAY_BUFFER||this._bufferTarget!==_.Z.ELEMENT_ARRAY_BUFFER&&e._bufferTarget===_.Z.ELEMENT_ARRAY_BUFFER)throw new s.Z("Can not copy an index buffer into another buffer type.");var n=_.Z.COPY_READ_BUFFER,o=_.Z.COPY_WRITE_BUFFER,u=this._gl;u.bindBuffer(o,this._buffer),u.bindBuffer(n,e._buffer),u.copyBufferSubData(n,o,t,r,i),u.bindBuffer(o,null),u.bindBuffer(n,null)},f.prototype.getBufferData=function(e,t,r,i){if(t=(0,n.Z)(t,0),r=(0,n.Z)(r,0),!this._webgl2)throw new s.Z("A WebGL 2 context is required.");if(!(0,a.Z)(e))throw new s.Z("arrayView is required.");var o,u,h=e.byteLength;if((0,a.Z)(i)?(o=i,(0,a.Z)(h)?u=1:(h=e.length,u=e.BYTES_PER_ELEMENT)):(0,a.Z)(h)?(o=h-r,u=1):(h=e.length,o=h-r,u=e.BYTES_PER_ELEMENT),r<0||r>h)throw new s.Z("destinationOffset must be greater than zero and less than the arrayView length.");if(r+o>h)throw new s.Z("destinationOffset + length must be less than or equal to the arrayViewLength.");if(t<0||t>this._sizeInBytes)throw new s.Z("sourceOffset must be greater than zero and less than the buffers size.");if(t+o*u>this._sizeInBytes)throw new s.Z("sourceOffset + length must be less than the buffers size.");var f=this._gl,c=_.Z.COPY_READ_BUFFER;f.bindBuffer(c,this._buffer),f.getBufferSubData(c,t,e,r,i),f.bindBuffer(c,null)},f.prototype.isDestroyed=function(){return!1},f.prototype.destroy=function(){return this._gl.deleteBuffer(this._buffer),(0,o.Z)(this)},t["Z"]=f},58597:function(e,t,r){var i=r(52200),n={STREAM_DRAW:i.Z.STREAM_DRAW,STATIC_DRAW:i.Z.STATIC_DRAW,DYNAMIC_DRAW:i.Z.DYNAMIC_DRAW,validate:function(e){return e===n.STREAM_DRAW||e===n.STATIC_DRAW||e===n.DYNAMIC_DRAW}};t["Z"]=Object.freeze(n)},39899:function(e,t,r){var i=r(59947),n=r(62200);function a(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),this.color=e.color,this.depth=e.depth,this.stencil=e.stencil,this.renderState=e.renderState,this.framebuffer=e.framebuffer,this.owner=e.owner,this.pass=e.pass}a.ALL=Object.freeze(new a({color:new i.Z(0,0,0,0),depth:1,stencil:0})),a.prototype.execute=function(e,t){e.clear(this,t)},t["Z"]=a},92357:function(e,t,r){var i=r(62200),n=r(8379);function a(e){e=(0,i.Z)(e,i.Z.EMPTY_OBJECT),this.vertexArray=e.vertexArray,this.fragmentShaderSource=e.fragmentShaderSource,this.shaderProgram=e.shaderProgram,this.uniformMap=e.uniformMap,this.outputTexture=e.outputTexture,this.preExecute=e.preExecute,this.postExecute=e.postExecute,this.canceled=e.canceled,this.persists=(0,i.Z)(e.persists,!1),this.pass=n.Z.COMPUTE,this.owner=e.owner}a.prototype.execute=function(e){e.execute(this)},t["Z"]=a},18157:function(e,t,r){var i,n=r(88108),a=r(66553),o=r(59947),s=r(82982),u=r(86511),_=r(12572),h=r(97264),f=r(59629),c=r(39899),l=r(60072),d=r(2932),m=r(10667),p=r(46588);function g(e){this._context=e}var T=new l.Z({primitiveType:h.Z.TRIANGLES}),x=new c.Z({color:new o.Z(0,0,0,0)});function E(e,t){return new d.Z({context:e,colorTextures:[t],destroyAttachments:!1})}function Z(e,t){return p.Z.fromCache({context:e,vertexShaderSource:f.Z,fragmentShaderSource:t,attributeLocations:{position:0,textureCoordinates:1}})}function A(e,t){return(0,s.Z)(i)&&i.viewport.width===e&&i.viewport.height===t||(i=m.Z.fromCache({viewport:new n.Z(0,0,e,t)})),i}g.prototype.execute=function(e){if(a.Z.defined("computeCommand",e),(0,s.Z)(e.preExecute)&&e.preExecute(e),!(0,s.Z)(e.fragmentShaderSource)&&!(0,s.Z)(e.shaderProgram))throw new _.Z("computeCommand.fragmentShaderSource or computeCommand.shaderProgram is required.");a.Z.defined("computeCommand.outputTexture",e.outputTexture);var t=e.outputTexture,r=t.width,i=t.height,n=this._context,o=(0,s.Z)(e.vertexArray)?e.vertexArray:n.getViewportQuadVertexArray(),u=(0,s.Z)(e.shaderProgram)?e.shaderProgram:Z(n,e.fragmentShaderSource),h=E(n,t),f=A(r,i),c=e.uniformMap,l=x;l.framebuffer=h,l.renderState=f,l.execute(n);var d=T;d.vertexArray=o,d.renderState=f,d.shaderProgram=u,d.uniformMap=c,d.framebuffer=h,d.execute(n),h.destroy(),e.persists||(u.destroy(),(0,s.Z)(e.vertexArray)&&o.destroy()),(0,s.Z)(e.postExecute)&&e.postExecute(t)},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return(0,u.Z)(this)},t["Z"]=g},19385:function(e,t,r){var i=r(66553),n=r(83856),a=r(59947),o=r(84828),s=r(39960),u=r(62200),_=r(82982),h=r(86511),f=r(12572),c=r(82408),l=r(13616),d=r(54973),m=r(72248),p=r(38443),g=r(97264),T=r(9407),x=r(52200),E=r(59629),Z=r(58597),A=r(39899),w=r(20521),b=r(51107),y=r(60072),v=r(65121),C=r(21572),F=r(10667),O=r(5631),L=r(46588),S=r(8743),I=r(32158),R=r(79140),P=r(18192);function M(e,t){var r="WebGL Error:  ";switch(t){case e.INVALID_ENUM:r+="INVALID_ENUM";break;case e.INVALID_VALUE:r+="INVALID_VALUE";break;case e.INVALID_OPERATION:r+="INVALID_OPERATION";break;case e.OUT_OF_MEMORY:r+="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:r+="CONTEXT_LOST_WEBGL lost";break;default:r+="Unknown ("+t+")"}return r}function V(e,t,r,i){for(var n=M(e,i)+": "+t.name+"(",a=0;a<r.length;++a)0!==a&&(n+=", "),n+=r[a];return n+=");",n}function B(e,t,r){var i=e.getError();if(i!==e.NO_ERROR)throw new T.Z(V(e,t,r,i))}function z(e,t,r){return{get:function(){var i=e[t];return r(e,"get: "+t,i),e[t]},set:function(i){e[t]=i,r(e,"set: "+t,i)}}}function D(e,t){if(!(0,_.Z)(t))return e;function r(r){return function(){var i=r.apply(e,arguments);return t(e,r,arguments),i}}var i={};for(var n in e){var a=e[n];a instanceof Function?i[n]=r(a):Object.defineProperty(i,n,z(e,n,t))}return i}function N(e,t){for(var r=t.length,i=0;i<r;++i){var n=e.getExtension(t[i]);if(n)return n}}function U(e,t){if("undefined"===typeof WebGLRenderingContext)throw new T.Z("The browser does not support WebGL.  Visit http://get.webgl.org.");i.Z.defined("canvas",e),this._canvas=e,t=(0,n.Z)(t,!0),t=(0,u.Z)(t,{}),t.allowTextureFilterAnisotropic=(0,u.Z)(t.allowTextureFilterAnisotropic,!0);var r=(0,u.Z)(t.webgl,{});r.alpha=(0,u.Z)(r.alpha,!1),r.stencil=(0,u.Z)(r.stencil,!0);var o,h=(0,u.Z)(t.requestWebgl2,!1)&&"undefined"!==typeof WebGL2RenderingContext,f=!1,c=t.getWebGLStub;if((0,_.Z)(c))o=c(e,r);else if(h&&(o=e.getContext("webgl2",r)||e.getContext("experimental-webgl2",r)||void 0,(0,_.Z)(o)&&(f=!0)),(0,_.Z)(o)||(o=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)||void 0),!(0,_.Z)(o))throw new T.Z("The browser supports WebGL, but initialization failed.");this._originalGLContext=o,this._gl=o,this._webgl2=f,this._id=(0,s.Z)(),this.validateFramebuffer=!1,this.validateShaderProgram=!1,this.logShaderCompilation=!1,this._throwOnWebGLError=!1,this._shaderCache=new O.Z(this),this._textureCache=new I.Z;var l=o;this._stencilBits=l.getParameter(l.STENCIL_BITS),w.Z._maximumCombinedTextureImageUnits=l.getParameter(l.MAX_COMBINED_TEXTURE_IMAGE_UNITS),w.Z._maximumCubeMapSize=l.getParameter(l.MAX_CUBE_MAP_TEXTURE_SIZE),w.Z._maximumFragmentUniformVectors=l.getParameter(l.MAX_FRAGMENT_UNIFORM_VECTORS),w.Z._maximumTextureImageUnits=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS),w.Z._maximumRenderbufferSize=l.getParameter(l.MAX_RENDERBUFFER_SIZE),w.Z._maximumTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),w.Z._maximumVaryingVectors=l.getParameter(l.MAX_VARYING_VECTORS),w.Z._maximumVertexAttributes=l.getParameter(l.MAX_VERTEX_ATTRIBS),w.Z._maximumVertexTextureImageUnits=l.getParameter(l.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w.Z._maximumVertexUniformVectors=l.getParameter(l.MAX_VERTEX_UNIFORM_VECTORS);var m=l.getParameter(l.ALIASED_LINE_WIDTH_RANGE);w.Z._minimumAliasedLineWidth=m[0],w.Z._maximumAliasedLineWidth=m[1];var p=l.getParameter(l.ALIASED_POINT_SIZE_RANGE);w.Z._minimumAliasedPointSize=p[0],w.Z._maximumAliasedPointSize=p[1];var g=l.getParameter(l.MAX_VIEWPORT_DIMS);w.Z._maximumViewportWidth=g[0],w.Z._maximumViewportHeight=g[1];var E=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT);w.Z._highpFloatSupported=0!==E.precision;var Z=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_INT);w.Z._highpIntSupported=0!==Z.rangeMax,this._antialias=l.getContextAttributes().antialias,this._standardDerivatives=!!N(l,["OES_standard_derivatives"]),this._blendMinmax=!!N(l,["EXT_blend_minmax"]),this._elementIndexUint=!!N(l,["OES_element_index_uint"]),this._depthTexture=!!N(l,["WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"]),this._fragDepth=!!N(l,["EXT_frag_depth"]),this._debugShaders=N(l,["WEBGL_debug_shaders"]),this._textureFloat=!!N(l,["OES_texture_float"]),this._textureHalfFloat=!!N(l,["OES_texture_half_float"]),this._textureFloatLinear=!!N(l,["OES_texture_float_linear"]),this._textureHalfFloatLinear=!!N(l,["OES_texture_half_float_linear"]),this._colorBufferFloat=!!N(l,["EXT_color_buffer_float","WEBGL_color_buffer_float"]),this._floatBlend=!!N(l,["EXT_float_blend"]),this._colorBufferHalfFloat=!!N(l,["EXT_color_buffer_half_float"]),this._s3tc=!!N(l,["WEBGL_compressed_texture_s3tc","MOZ_WEBGL_compressed_texture_s3tc","WEBKIT_WEBGL_compressed_texture_s3tc"]),this._pvrtc=!!N(l,["WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc"]),this._astc=!!N(l,["WEBGL_compressed_texture_astc"]),this._etc=!!N(l,["WEBG_compressed_texture_etc"]),this._etc1=!!N(l,["WEBGL_compressed_texture_etc1"]),this._bc7=!!N(l,["EXT_texture_compression_bptc"]),d.Z.setKTX2SupportedFormats(this._s3tc,this._pvrtc,this._astc,this._etc,this._etc1,this._bc7);var A,b,y,C,L,S,P,M,V,B,z=t.allowTextureFilterAnisotropic?N(l,["EXT_texture_filter_anisotropic","WEBKIT_EXT_texture_filter_anisotropic"]):void 0;if(this._textureFilterAnisotropic=z,w.Z._maximumTextureFilterAnisotropy=(0,_.Z)(z)?l.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1,f){var D=this;A=function(){return D._gl.createVertexArray()},b=function(e){D._gl.bindVertexArray(e)},y=function(e){D._gl.deleteVertexArray(e)},C=function(e,t,r,i,n){l.drawElementsInstanced(e,t,r,i,n)},L=function(e,t,r,i){l.drawArraysInstanced(e,t,r,i)},S=function(e,t){l.vertexAttribDivisor(e,t)},P=function(e){l.drawBuffers(e)}}else M=N(l,["OES_vertex_array_object"]),(0,_.Z)(M)&&(A=function(){return M.createVertexArrayOES()},b=function(e){M.bindVertexArrayOES(e)},y=function(e){M.deleteVertexArrayOES(e)}),V=N(l,["ANGLE_instanced_arrays"]),(0,_.Z)(V)&&(C=function(e,t,r,i,n){V.drawElementsInstancedANGLE(e,t,r,i,n)},L=function(e,t,r,i){V.drawArraysInstancedANGLE(e,t,r,i)},S=function(e,t){V.vertexAttribDivisorANGLE(e,t)}),B=N(l,["WEBGL_draw_buffers"]),(0,_.Z)(B)&&(P=function(e){B.drawBuffersWEBGL(e)});this.glCreateVertexArray=A,this.glBindVertexArray=b,this.glDeleteVertexArray=y,this.glDrawElementsInstanced=C,this.glDrawArraysInstanced=L,this.glVertexAttribDivisor=S,this.glDrawBuffers=P,this._vertexArrayObject=!!M,this._instancedArrays=!!V,this._drawBuffers=!!B,w.Z._maximumDrawBuffers=this.drawBuffers?l.getParameter(x.Z.MAX_DRAW_BUFFERS):1,w.Z._maximumColorAttachments=this.drawBuffers?l.getParameter(x.Z.MAX_COLOR_ATTACHMENTS):1,this._clearColor=new a.Z(0,0,0,0),this._clearDepth=1,this._clearStencil=0;var U=new R.Z,G=new v.Z(this),W=F.Z.fromCache();this._defaultPassState=G,this._defaultRenderState=W,this._defaultTexture=void 0,this._defaultEmissiveTexture=void 0,this._defaultNormalTexture=void 0,this._defaultCubeMap=void 0,this._us=U,this._currentRenderState=W,this._currentPassState=G,this._currentFramebuffer=void 0,this._maxFrameTextureUnitIndex=0,this._vertexAttribDivisors=[],this._previousDrawInstanced=!1;for(var X=0;X<w.Z._maximumVertexAttributes;X++)this._vertexAttribDivisors.push(0);this._pickObjects={},this._nextPickColor=new Uint32Array(1),this.options=t,this.cache={},F.Z.apply(l,W,G)}var G,W={};function X(e){if(e.validateFramebuffer){var t=e._gl,r=t.checkFramebufferStatus(t.FRAMEBUFFER);if(r!==t.FRAMEBUFFER_COMPLETE){var i;switch(r){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:i="Framebuffer is not complete.  Incomplete attachment: at least one attachment point with a renderbuffer or texture attached has its attached object no longer in existence or has an attached image with a width or height of zero, or the color attachment point has a non-color-renderable image attached, or the depth attachment point has a non-depth-renderable image attached, or the stencil attachment point has a non-stencil-renderable image attached.  Color-renderable formats include GL_RGBA4, GL_RGB5_A1, and GL_RGB565. GL_DEPTH_COMPONENT16 is the only depth-renderable format. GL_STENCIL_INDEX8 is the only stencil-renderable format.";break;case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:i="Framebuffer is not complete.  Incomplete dimensions: not all attached images have the same width and height.";break;case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:i="Framebuffer is not complete.  Missing attachment: no images are attached to the framebuffer.";break;case t.FRAMEBUFFER_UNSUPPORTED:i="Framebuffer is not complete.  Unsupported: the combination of internal formats of the attached images violates an implementation-dependent set of restrictions.";break}throw new f.Z(i)}}}function Y(e,t,r,i){var n=e._currentRenderState,a=e._currentPassState;e._currentRenderState=t,e._currentPassState=r,F.Z.partialApply(e._gl,n,t,a,r,i)}function H(e,t){if(t!==e._currentFramebuffer){e._currentFramebuffer=t;var r=G;if((0,_.Z)(t))t._bind(),X(e),r=t._getActiveColorAttachments();else{var i=e._gl;i.bindFramebuffer(i.FRAMEBUFFER,null)}e.drawBuffers&&e.glDrawBuffers(r)}}Object.defineProperties(U.prototype,{id:{get:function(){return this._id}},webgl2:{get:function(){return this._webgl2}},canvas:{get:function(){return this._canvas}},shaderCache:{get:function(){return this._shaderCache}},textureCache:{get:function(){return this._textureCache}},uniformState:{get:function(){return this._us}},stencilBits:{get:function(){return this._stencilBits}},stencilBuffer:{get:function(){return this._stencilBits>=8}},antialias:{get:function(){return this._antialias}},standardDerivatives:{get:function(){return this._standardDerivatives||this._webgl2}},floatBlend:{get:function(){return this._floatBlend}},blendMinmax:{get:function(){return this._blendMinmax||this._webgl2}},elementIndexUint:{get:function(){return this._elementIndexUint||this._webgl2}},depthTexture:{get:function(){return this._depthTexture||this._webgl2}},floatingPointTexture:{get:function(){return this._webgl2||this._textureFloat}},halfFloatingPointTexture:{get:function(){return this._webgl2||this._textureHalfFloat}},textureFloatLinear:{get:function(){return this._textureFloatLinear}},textureHalfFloatLinear:{get:function(){return this._webgl2&&this._textureFloatLinear||!this._webgl2&&this._textureHalfFloatLinear}},textureFilterAnisotropic:{get:function(){return!!this._textureFilterAnisotropic}},s3tc:{get:function(){return this._s3tc}},pvrtc:{get:function(){return this._pvrtc}},astc:{get:function(){return this._astc}},etc:{get:function(){return this._etc}},etc1:{get:function(){return this._etc1}},bc7:{get:function(){return this._bc7}},supportsBasis:{get:function(){return this._s3tc||this._pvrtc||this._astc||this._etc||this._etc1||this._bc7}},vertexArrayObject:{get:function(){return this._vertexArrayObject||this._webgl2}},fragmentDepth:{get:function(){return this._fragDepth||this._webgl2}},instancedArrays:{get:function(){return this._instancedArrays||this._webgl2}},colorBufferFloat:{get:function(){return this._colorBufferFloat}},colorBufferHalfFloat:{get:function(){return this._webgl2&&this._colorBufferFloat||!this._webgl2&&this._colorBufferHalfFloat}},drawBuffers:{get:function(){return this._drawBuffers||this._webgl2}},debugShaders:{get:function(){return this._debugShaders}},throwOnWebGLError:{get:function(){return this._throwOnWebGLError},set:function(e){this._throwOnWebGLError=e,this._gl=D(this._originalGLContext,e?B:void 0)}},defaultTexture:{get:function(){return void 0===this._defaultTexture&&(this._defaultTexture=new S.Z({context:this,source:{width:1,height:1,arrayBufferView:new Uint8Array([255,255,255,255])},flipY:!1})),this._defaultTexture}},defaultEmissiveTexture:{get:function(){return void 0===this._defaultEmissiveTexture&&(this._defaultEmissiveTexture=new S.Z({context:this,pixelFormat:p.Z.RGB,source:{width:1,height:1,arrayBufferView:new Uint8Array([0,0,0])},flipY:!1})),this._defaultEmissiveTexture}},defaultNormalTexture:{get:function(){return void 0===this._defaultNormalTexture&&(this._defaultNormalTexture=new S.Z({context:this,pixelFormat:p.Z.RGB,source:{width:1,height:1,arrayBufferView:new Uint8Array([128,128,255])},flipY:!1})),this._defaultNormalTexture}},defaultCubeMap:{get:function(){if(void 0===this._defaultCubeMap){var e={width:1,height:1,arrayBufferView:new Uint8Array([255,255,255,255])};this._defaultCubeMap=new b.Z({context:this,source:{positiveX:e,negativeX:e,positiveY:e,negativeY:e,positiveZ:e,negativeZ:e},flipY:!1})}return this._defaultCubeMap}},drawingBufferHeight:{get:function(){return this._gl.drawingBufferHeight}},drawingBufferWidth:{get:function(){return this._gl.drawingBufferWidth}},defaultFramebuffer:{get:function(){return W}}}),"undefined"!==typeof WebGLRenderingContext&&(G=[x.Z.BACK]);var k=new A.Z;function j(e,t,r,i,n){if((0,_.Z)(t)&&n.depthTest&&n.depthTest.enabled&&!t.hasDepthAttachment)throw new f.Z("The depth test can not be enabled (drawCommand.renderState.depthTest.enabled) because the framebuffer (drawCommand.framebuffer) does not have a depth or depth-stencil renderbuffer.");H(e,t),Y(e,n,r,!1),i._bind(),e._maxFrameTextureUnitIndex=Math.max(e._maxFrameTextureUnitIndex,i.maximumTextureUnitIndex)}function q(e,t,r,n){var a=t._primitiveType,o=t._vertexArray,s=t._offset,h=t._count,c=t.instanceCount;if(!g.Z.validate(a))throw new f.Z("drawCommand.primitiveType is required and must be valid.");if(i.Z.defined("drawCommand.vertexArray",o),i.Z.typeOf.number.greaterThanOrEquals("drawCommand.offset",s,0),(0,_.Z)(h)&&i.Z.typeOf.number.greaterThanOrEquals("drawCommand.count",h,0),i.Z.typeOf.number.greaterThanOrEquals("drawCommand.instanceCount",c,0),c>0&&!e.instancedArrays)throw new f.Z("Instanced arrays extension is not supported");e._us.model=(0,u.Z)(t._modelMatrix,m.Z.IDENTITY),r._setUniforms(n,e._us,e.validateShaderProgram),o._bind();var l=o.indexBuffer;(0,_.Z)(l)?(s*=l.bytesPerIndex,h=(0,u.Z)(h,l.numberOfIndices),0===c?e._gl.drawElements(a,h,l.indexDatatype,s):e.glDrawElementsInstanced(a,h,l.indexDatatype,s,c)):(h=(0,u.Z)(h,o.numberOfVertices),0===c?e._gl.drawArrays(a,s,h):e.glDrawArraysInstanced(a,s,h,c)),o._unBind()}U.prototype.clear=function(e,t){e=(0,u.Z)(e,k),t=(0,u.Z)(t,this._defaultPassState);var r=this._gl,i=0,n=e.color,o=e.depth,s=e.stencil;(0,_.Z)(n)&&(a.Z.equals(this._clearColor,n)||(a.Z.clone(n,this._clearColor),r.clearColor(n.red,n.green,n.blue,n.alpha)),i|=r.COLOR_BUFFER_BIT),(0,_.Z)(o)&&(o!==this._clearDepth&&(this._clearDepth=o,r.clearDepth(o)),i|=r.DEPTH_BUFFER_BIT),(0,_.Z)(s)&&(s!==this._clearStencil&&(this._clearStencil=s,r.clearStencil(s)),i|=r.STENCIL_BUFFER_BIT);var h=(0,u.Z)(e.renderState,this._defaultRenderState);Y(this,h,t,!0);var f=(0,u.Z)(e.framebuffer,t.framebuffer);H(this,f),r.clear(i)},U.prototype.draw=function(e,t,r,n){i.Z.defined("drawCommand",e),i.Z.defined("drawCommand.shaderProgram",e._shaderProgram),t=(0,u.Z)(t,this._defaultPassState);var a=(0,u.Z)(e._framebuffer,t.framebuffer),o=(0,u.Z)(e._renderState,this._defaultRenderState);r=(0,u.Z)(r,e._shaderProgram),n=(0,u.Z)(n,e._uniformMap),j(this,a,t,r,o),q(this,e,r,n)},U.prototype.endFrame=function(){var e=this._gl;e.useProgram(null),this._currentFramebuffer=void 0,e.bindFramebuffer(e.FRAMEBUFFER,null);var t=G;this.drawBuffers&&this.glDrawBuffers(t);var r=this._maxFrameTextureUnitIndex;this._maxFrameTextureUnitIndex=0;for(var i=0;i<r;++i)e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null)},U.prototype.readPixels=function(e){var t=this._gl;e=(0,u.Z)(e,u.Z.EMPTY_OBJECT);var r=Math.max((0,u.Z)(e.x,0),0),n=Math.max((0,u.Z)(e.y,0),0),a=(0,u.Z)(e.width,t.drawingBufferWidth),o=(0,u.Z)(e.height,t.drawingBufferHeight),s=e.framebuffer;i.Z.typeOf.number.greaterThan("readState.width",a,0),i.Z.typeOf.number.greaterThan("readState.height",o,0);var h=C.Z.UNSIGNED_BYTE;(0,_.Z)(s)&&s.numberOfColorAttachments>0&&(h=s.getColorTexture(0).pixelDatatype);var f=p.Z.createTypedArray(p.Z.RGBA,h,a,o);return H(this,s),t.readPixels(r,n,a,o,p.Z.RGBA,C.Z.toWebGLConstant(h,this),f),f};var K={position:0,textureCoordinates:1};function J(e,t,r){this._pickObjects=e,this.key=t,this.color=r}U.prototype.getViewportQuadVertexArray=function(){var e=this.cache.viewportQuad_vertexArray;if(!(0,_.Z)(e)){var t=new c.Z({attributes:{position:new l.Z({componentDatatype:o.Z.FLOAT,componentsPerAttribute:2,values:[-1,-1,1,-1,1,1,-1,1]}),textureCoordinates:new l.Z({componentDatatype:o.Z.FLOAT,componentsPerAttribute:2,values:[0,0,1,0,1,1,0,1]})},indices:new Uint16Array([0,1,2,0,2,3]),primitiveType:g.Z.TRIANGLES});e=P.Z.fromGeometry({context:this,geometry:t,attributeLocations:K,bufferUsage:Z.Z.STATIC_DRAW,interleave:!0}),this.cache.viewportQuad_vertexArray=e}return e},U.prototype.createViewportQuadCommand=function(e,t){return t=(0,u.Z)(t,u.Z.EMPTY_OBJECT),new y.Z({vertexArray:this.getViewportQuadVertexArray(),primitiveType:g.Z.TRIANGLES,renderState:t.renderState,shaderProgram:L.Z.fromCache({context:this,vertexShaderSource:E.Z,fragmentShaderSource:e,attributeLocations:K}),uniformMap:t.uniformMap,owner:t.owner,framebuffer:t.framebuffer,pass:t.pass})},U.prototype.getObjectByPickColor=function(e){return i.Z.defined("pickColor",e),this._pickObjects[e.toRgba()]},Object.defineProperties(J.prototype,{object:{get:function(){return this._pickObjects[this.key]},set:function(e){this._pickObjects[this.key]=e}}}),J.prototype.destroy=function(){delete this._pickObjects[this.key]},U.prototype.createPickId=function(e){i.Z.defined("object",e),++this._nextPickColor[0];var t=this._nextPickColor[0];if(0===t)throw new T.Z("Out of unique Pick IDs.");return this._pickObjects[t]=e,new J(this._pickObjects,t,a.Z.fromRgba(t))},U.prototype.isDestroyed=function(){return!1},U.prototype.destroy=function(){var e=this.cache;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];(0,_.Z)(r.destroy)&&r.destroy()}return this._shaderCache=this._shaderCache.destroy(),this._textureCache=this._textureCache.destroy(),this._defaultTexture=this._defaultTexture&&this._defaultTexture.destroy(),this._defaultEmissiveTexture=this._defaultEmissiveTexture&&this._defaultEmissiveTexture.destroy(),this._defaultNormalTexture=this._defaultNormalTexture&&this._defaultNormalTexture.destroy(),this._defaultCubeMap=this._defaultCubeMap&&this._defaultCubeMap.destroy(),(0,h.Z)(this)},t["Z"]=U},20521:function(e,t){var r={_maximumCombinedTextureImageUnits:0,_maximumCubeMapSize:0,_maximumFragmentUniformVectors:0,_maximumTextureImageUnits:0,_maximumRenderbufferSize:0,_maximumTextureSize:0,_maximumVaryingVectors:0,_maximumVertexAttributes:0,_maximumVertexTextureImageUnits:0,_maximumVertexUniformVectors:0,_minimumAliasedLineWidth:0,_maximumAliasedLineWidth:0,_minimumAliasedPointSize:0,_maximumAliasedPointSize:0,_maximumViewportWidth:0,_maximumViewportHeight:0,_maximumTextureFilterAnisotropy:0,_maximumDrawBuffers:0,_maximumColorAttachments:0,_highpFloatSupported:!1,_highpIntSupported:!1};Object.defineProperties(r,{maximumCombinedTextureImageUnits:{get:function(){return r._maximumCombinedTextureImageUnits}},maximumCubeMapSize:{get:function(){return r._maximumCubeMapSize}},maximumFragmentUniformVectors:{get:function(){return r._maximumFragmentUniformVectors}},maximumTextureImageUnits:{get:function(){return r._maximumTextureImageUnits}},maximumRenderbufferSize:{get:function(){return r._maximumRenderbufferSize}},maximumTextureSize:{get:function(){return r._maximumTextureSize}},maximumVaryingVectors:{get:function(){return r._maximumVaryingVectors}},maximumVertexAttributes:{get:function(){return r._maximumVertexAttributes}},maximumVertexTextureImageUnits:{get:function(){return r._maximumVertexTextureImageUnits}},maximumVertexUniformVectors:{get:function(){return r._maximumVertexUniformVectors}},minimumAliasedLineWidth:{get:function(){return r._minimumAliasedLineWidth}},maximumAliasedLineWidth:{get:function(){return r._maximumAliasedLineWidth}},minimumAliasedPointSize:{get:function(){return r._minimumAliasedPointSize}},maximumAliasedPointSize:{get:function(){return r._maximumAliasedPointSize}},maximumViewportWidth:{get:function(){return r._maximumViewportWidth}},maximumViewportHeight:{get:function(){return r._maximumViewportHeight}},maximumTextureFilterAnisotropy:{get:function(){return r._maximumTextureFilterAnisotropy}},maximumDrawBuffers:{get:function(){return r._maximumDrawBuffers}},maximumColorAttachments:{get:function(){return r._maximumColorAttachments}},highpFloatSupported:{get:function(){return r._highpFloatSupported}},highpIntSupported:{get:function(){return r._highpIntSupported}}}),t["Z"]=r},51107:function(e,t,r){var i=r(66553),n=r(62200),a=r(82982),o=r(86511),s=r(12572),u=r(99417),_=r(38443),h=r(20521),f=r(60136),c=r(45368),l=r(21572),d=r(87721),m=r(42246),p=r(80188);function g(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),i.Z.defined("options.context",e.context);var t,r,o=e.context,u=e.source;if((0,a.Z)(u)){var c=[u.positiveX,u.negativeX,u.positiveY,u.negativeY,u.positiveZ,u.negativeZ];if(!c[0]||!c[1]||!c[2]||!c[3]||!c[4]||!c[5])throw new s.Z("options.source requires positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ faces.");t=c[0].width,r=c[0].height;for(var m=1;m<6;++m)if(Number(c[m].width)!==t||Number(c[m].height)!==r)throw new s.Z("Each face in options.source must have the same width and height.")}else t=e.width,r=e.height;var p=t,g=(0,n.Z)(e.pixelDatatype,l.Z.UNSIGNED_BYTE),T=(0,n.Z)(e.pixelFormat,_.Z.RGBA),x=_.Z.toInternalFormat(T,g,o);if(!(0,a.Z)(t)||!(0,a.Z)(r))throw new s.Z("options requires a source field to create an initialized cube map or width and height fields to create a blank cube map.");if(t!==r)throw new s.Z("Width must equal height.");if(p<=0)throw new s.Z("Width and height must be greater than zero.");if(p>h.Z.maximumCubeMapSize)throw new s.Z("Width and height must be less than or equal to the maximum cube map size ("+h.Z.maximumCubeMapSize+").  Check maximumCubeMapSize.");if(!_.Z.validate(T))throw new s.Z("Invalid options.pixelFormat.");if(_.Z.isDepthFormat(T))throw new s.Z("options.pixelFormat cannot be DEPTH_COMPONENT or DEPTH_STENCIL.");if(!l.Z.validate(g))throw new s.Z("Invalid options.pixelDatatype.");if(g===l.Z.FLOAT&&!o.floatingPointTexture)throw new s.Z("When options.pixelDatatype is FLOAT, this WebGL implementation must support the OES_texture_float extension.");if(g===l.Z.HALF_FLOAT&&!o.halfFloatingPointTexture)throw new s.Z("When options.pixelDatatype is HALF_FLOAT, this WebGL implementation must support the OES_texture_half_float extension.");var E=6*_.Z.textureSizeInBytes(T,g,p,p),Z=e.preMultiplyAlpha||T===_.Z.RGB||T===_.Z.LUMINANCE,A=(0,n.Z)(e.flipY,!0),w=(0,n.Z)(e.skipColorSpaceConversion,!1),b=o._gl,y=b.TEXTURE_CUBE_MAP,v=b.createTexture();function C(e,r,i,n,s){var u=r.arrayBufferView;(0,a.Z)(u)||(u=r.bufferView);var h=4;(0,a.Z)(u)&&(h=_.Z.alignmentInBytes(T,g,t)),b.pixelStorei(b.UNPACK_ALIGNMENT,h),s?b.pixelStorei(b.UNPACK_COLORSPACE_CONVERSION_WEBGL,b.NONE):b.pixelStorei(b.UNPACK_COLORSPACE_CONVERSION_WEBGL,b.BROWSER_DEFAULT_WEBGL),(0,a.Z)(u)?(b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),n&&(u=_.Z.flipY(u,T,g,p,p)),b.texImage2D(e,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),u)):(b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,n),b.texImage2D(e,0,x,T,l.Z.toWebGLConstant(g,o),r))}b.activeTexture(b.TEXTURE0),b.bindTexture(y,v),(0,a.Z)(u)?(C(b.TEXTURE_CUBE_MAP_POSITIVE_X,u.positiveX,Z,A,w),C(b.TEXTURE_CUBE_MAP_NEGATIVE_X,u.negativeX,Z,A,w),C(b.TEXTURE_CUBE_MAP_POSITIVE_Y,u.positiveY,Z,A,w),C(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,u.negativeY,Z,A,w),C(b.TEXTURE_CUBE_MAP_POSITIVE_Z,u.positiveZ,Z,A,w),C(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,u.negativeZ,Z,A,w)):(b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),null),b.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_X,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),null),b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Y,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),null),b.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),null),b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Z,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),null),b.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,x,p,p,0,T,l.Z.toWebGLConstant(g,o),null)),b.bindTexture(y,null),this._context=o,this._textureFilterAnisotropic=o._textureFilterAnisotropic,this._textureTarget=y,this._texture=v,this._pixelFormat=T,this._pixelDatatype=g,this._size=p,this._hasMipmap=!1,this._sizeInBytes=E,this._preMultiplyAlpha=Z,this._flipY=A,this._sampler=void 0;var F=(0,a.Z)(u);this._positiveX=new f.Z(o,v,y,b.TEXTURE_CUBE_MAP_POSITIVE_X,x,T,g,p,Z,A,F),this._negativeX=new f.Z(o,v,y,b.TEXTURE_CUBE_MAP_NEGATIVE_X,x,T,g,p,Z,A,F),this._positiveY=new f.Z(o,v,y,b.TEXTURE_CUBE_MAP_POSITIVE_Y,x,T,g,p,Z,A,F),this._negativeY=new f.Z(o,v,y,b.TEXTURE_CUBE_MAP_NEGATIVE_Y,x,T,g,p,Z,A,F),this._positiveZ=new f.Z(o,v,y,b.TEXTURE_CUBE_MAP_POSITIVE_Z,x,T,g,p,Z,A,F),this._negativeZ=new f.Z(o,v,y,b.TEXTURE_CUBE_MAP_NEGATIVE_Z,x,T,g,p,Z,A,F),this.sampler=(0,a.Z)(e.sampler)?e.sampler:new d.Z}Object.defineProperties(g.prototype,{positiveX:{get:function(){return this._positiveX}},negativeX:{get:function(){return this._negativeX}},positiveY:{get:function(){return this._positiveY}},negativeY:{get:function(){return this._negativeY}},positiveZ:{get:function(){return this._positiveZ}},negativeZ:{get:function(){return this._negativeZ}},sampler:{get:function(){return this._sampler},set:function(e){var t=e.minificationFilter,r=e.magnificationFilter,i=t===p.Z.NEAREST_MIPMAP_NEAREST||t===p.Z.NEAREST_MIPMAP_LINEAR||t===p.Z.LINEAR_MIPMAP_NEAREST||t===p.Z.LINEAR_MIPMAP_LINEAR,n=this._context,o=this._pixelDatatype;(o===l.Z.FLOAT&&!n.textureFloatLinear||o===l.Z.HALF_FLOAT&&!n.textureHalfFloatLinear)&&(t=i?p.Z.NEAREST_MIPMAP_NEAREST:p.Z.NEAREST,r=m.Z.NEAREST);var s=n._gl,u=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(u,this._texture),s.texParameteri(u,s.TEXTURE_MIN_FILTER,t),s.texParameteri(u,s.TEXTURE_MAG_FILTER,r),s.texParameteri(u,s.TEXTURE_WRAP_S,e.wrapS),s.texParameteri(u,s.TEXTURE_WRAP_T,e.wrapT),(0,a.Z)(this._textureFilterAnisotropic)&&s.texParameteri(u,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),s.bindTexture(u,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},width:{get:function(){return this._size}},height:{get:function(){return this._size}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},_target:{get:function(){return this._textureTarget}}}),g.prototype.generateMipmap=function(e){if(e=(0,n.Z)(e,c.Z.DONT_CARE),this._size>1&&!u.Z.isPowerOfTwo(this._size))throw new s.Z("width and height must be a power of two to call generateMipmap().");if(!c.Z.validate(e))throw new s.Z("hint is invalid.");this._hasMipmap=!0;var t=this._context._gl,r=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(r,this._texture),t.generateMipmap(r),t.bindTexture(r,null)},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),this._positiveX=(0,o.Z)(this._positiveX),this._negativeX=(0,o.Z)(this._negativeX),this._positiveY=(0,o.Z)(this._positiveY),this._negativeY=(0,o.Z)(this._negativeY),this._positiveZ=(0,o.Z)(this._positiveZ),this._negativeZ=(0,o.Z)(this._negativeZ),(0,o.Z)(this)},t["Z"]=g},60136:function(e,t,r){var i=r(66553),n=r(62200),a=r(82982),o=r(12572),s=r(38443),u=r(21572);function _(e,t,r,i,n,a,o,s,u,_,h){this._context=e,this._texture=t,this._textureTarget=r,this._targetFace=i,this._pixelDatatype=o,this._internalFormat=n,this._pixelFormat=a,this._size=s,this._preMultiplyAlpha=u,this._flipY=_,this._initialized=h}Object.defineProperties(_.prototype,{pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},_target:{get:function(){return this._targetFace}}}),_.prototype.copyFrom=function(e){i.Z.defined("options",e);var t=(0,n.Z)(e.xOffset,0),r=(0,n.Z)(e.yOffset,0);if(i.Z.defined("options.source",e.source),i.Z.typeOf.number.greaterThanOrEquals("xOffset",t,0),i.Z.typeOf.number.greaterThanOrEquals("yOffset",r,0),t+e.source.width>this._size)throw new o.Z("xOffset + options.source.width must be less than or equal to width.");if(r+e.source.height>this._size)throw new o.Z("yOffset + options.source.height must be less than or equal to height.");var _=e.source,h=this._context._gl,f=this._textureTarget,c=this._targetFace;h.activeTexture(h.TEXTURE0),h.bindTexture(f,this._texture);var l=_.width,d=_.height,m=_.arrayBufferView,p=this._size,g=this._pixelFormat,T=this._internalFormat,x=this._pixelDatatype,E=this._preMultiplyAlpha,Z=this._flipY,A=(0,n.Z)(e.skipColorSpaceConversion,!1),w=4;(0,a.Z)(m)&&(w=s.Z.alignmentInBytes(g,x,l)),h.pixelStorei(h.UNPACK_ALIGNMENT,w),A?h.pixelStorei(h.UNPACK_COLORSPACE_CONVERSION_WEBGL,h.NONE):h.pixelStorei(h.UNPACK_COLORSPACE_CONVERSION_WEBGL,h.BROWSER_DEFAULT_WEBGL);var b=!1;if(!this._initialized){if(0===t&&0===r&&l===p&&d===p)(0,a.Z)(m)?(h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1),Z&&(m=s.Z.flipY(m,g,x,p,p)),h.texImage2D(c,0,T,p,p,0,g,u.Z.toWebGLConstant(x,this._context),m)):(h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,Z),h.texImage2D(c,0,T,g,u.Z.toWebGLConstant(x,this._context),_)),b=!0;else{h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);var y=s.Z.createTypedArray(g,x,p,p);h.texImage2D(c,0,T,p,p,0,g,u.Z.toWebGLConstant(x,this._context),y)}this._initialized=!0}b||((0,a.Z)(m)?(h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1),Z&&(m=s.Z.flipY(m,g,x,l,d)),h.texSubImage2D(c,0,t,r,l,d,g,u.Z.toWebGLConstant(x,this._context),m)):(h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,Z),h.texSubImage2D(c,0,t,r,g,u.Z.toWebGLConstant(x,this._context),_))),h.bindTexture(f,null)},_.prototype.copyFromFramebuffer=function(e,t,r,a,s,_){if(e=(0,n.Z)(e,0),t=(0,n.Z)(t,0),r=(0,n.Z)(r,0),a=(0,n.Z)(a,0),s=(0,n.Z)(s,this._size),_=(0,n.Z)(_,this._size),i.Z.typeOf.number.greaterThanOrEquals("xOffset",e,0),i.Z.typeOf.number.greaterThanOrEquals("yOffset",t,0),i.Z.typeOf.number.greaterThanOrEquals("framebufferXOffset",r,0),i.Z.typeOf.number.greaterThanOrEquals("framebufferYOffset",a,0),e+s>this._size)throw new o.Z("xOffset + source.width must be less than or equal to width.");if(t+_>this._size)throw new o.Z("yOffset + source.height must be less than or equal to height.");if(this._pixelDatatype===u.Z.FLOAT)throw new o.Z("Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.");if(this._pixelDatatype===u.Z.HALF_FLOAT)throw new o.Z("Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.");var h=this._context._gl,f=this._textureTarget;h.activeTexture(h.TEXTURE0),h.bindTexture(f,this._texture),h.copyTexSubImage2D(this._targetFace,0,e,t,r,a,s,_),h.bindTexture(f,null),this._initialized=!0},t["Z"]=_},60072:function(e,t,r){var i=r(62200),n=r(82982),a=r(97264);function o(e){e=(0,i.Z)(e,i.Z.EMPTY_OBJECT),this._boundingVolume=e.boundingVolume,this._orientedBoundingBox=e.orientedBoundingBox,this._cull=(0,i.Z)(e.cull,!0),this._occlude=(0,i.Z)(e.occlude,!0),this._modelMatrix=e.modelMatrix,this._primitiveType=(0,i.Z)(e.primitiveType,a.Z.TRIANGLES),this._vertexArray=e.vertexArray,this._count=e.count,this._offset=(0,i.Z)(e.offset,0),this._instanceCount=(0,i.Z)(e.instanceCount,0),this._shaderProgram=e.shaderProgram,this._uniformMap=e.uniformMap,this._renderState=e.renderState,this._framebuffer=e.framebuffer,this._pass=e.pass,this._executeInClosestFrustum=(0,i.Z)(e.executeInClosestFrustum,!1),this._owner=e.owner,this._debugShowBoundingVolume=(0,i.Z)(e.debugShowBoundingVolume,!1),this._debugOverlappingFrustums=0,this._castShadows=(0,i.Z)(e.castShadows,!1),this._receiveShadows=(0,i.Z)(e.receiveShadows,!1),this._pickId=e.pickId,this._pickOnly=(0,i.Z)(e.pickOnly,!1),this._depthForTranslucentClassification=(0,i.Z)(e.depthForTranslucentClassification,!1),this.dirty=!0,this.lastDirtyTime=0,this.derivedCommands={}}Object.defineProperties(o.prototype,{boundingVolume:{get:function(){return this._boundingVolume},set:function(e){this._boundingVolume!==e&&(this._boundingVolume=e,this.dirty=!0)}},orientedBoundingBox:{get:function(){return this._orientedBoundingBox},set:function(e){this._orientedBoundingBox!==e&&(this._orientedBoundingBox=e,this.dirty=!0)}},cull:{get:function(){return this._cull},set:function(e){this._cull!==e&&(this._cull=e,this.dirty=!0)}},occlude:{get:function(){return this._occlude},set:function(e){this._occlude!==e&&(this._occlude=e,this.dirty=!0)}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){this._modelMatrix!==e&&(this._modelMatrix=e,this.dirty=!0)}},primitiveType:{get:function(){return this._primitiveType},set:function(e){this._primitiveType!==e&&(this._primitiveType=e,this.dirty=!0)}},vertexArray:{get:function(){return this._vertexArray},set:function(e){this._vertexArray!==e&&(this._vertexArray=e,this.dirty=!0)}},count:{get:function(){return this._count},set:function(e){this._count!==e&&(this._count=e,this.dirty=!0)}},offset:{get:function(){return this._offset},set:function(e){this._offset!==e&&(this._offset=e,this.dirty=!0)}},instanceCount:{get:function(){return this._instanceCount},set:function(e){this._instanceCount!==e&&(this._instanceCount=e,this.dirty=!0)}},shaderProgram:{get:function(){return this._shaderProgram},set:function(e){this._shaderProgram!==e&&(this._shaderProgram=e,this.dirty=!0)}},castShadows:{get:function(){return this._castShadows},set:function(e){this._castShadows!==e&&(this._castShadows=e,this.dirty=!0)}},receiveShadows:{get:function(){return this._receiveShadows},set:function(e){this._receiveShadows!==e&&(this._receiveShadows=e,this.dirty=!0)}},uniformMap:{get:function(){return this._uniformMap},set:function(e){this._uniformMap!==e&&(this._uniformMap=e,this.dirty=!0)}},renderState:{get:function(){return this._renderState},set:function(e){this._renderState!==e&&(this._renderState=e,this.dirty=!0)}},framebuffer:{get:function(){return this._framebuffer},set:function(e){this._framebuffer!==e&&(this._framebuffer=e,this.dirty=!0)}},pass:{get:function(){return this._pass},set:function(e){this._pass!==e&&(this._pass=e,this.dirty=!0)}},executeInClosestFrustum:{get:function(){return this._executeInClosestFrustum},set:function(e){this._executeInClosestFrustum!==e&&(this._executeInClosestFrustum=e,this.dirty=!0)}},owner:{get:function(){return this._owner},set:function(e){this._owner!==e&&(this._owner=e,this.dirty=!0)}},debugShowBoundingVolume:{get:function(){return this._debugShowBoundingVolume},set:function(e){this._debugShowBoundingVolume!==e&&(this._debugShowBoundingVolume=e,this.dirty=!0)}},debugOverlappingFrustums:{get:function(){return this._debugOverlappingFrustums},set:function(e){this._debugOverlappingFrustums!==e&&(this._debugOverlappingFrustums=e,this.dirty=!0)}},pickId:{get:function(){return this._pickId},set:function(e){this._pickId!==e&&(this._pickId=e,this.dirty=!0)}},pickOnly:{get:function(){return this._pickOnly},set:function(e){this._pickOnly!==e&&(this._pickOnly=e,this.dirty=!0)}},depthForTranslucentClassification:{get:function(){return this._depthForTranslucentClassification},set:function(e){this._depthForTranslucentClassification!==e&&(this._depthForTranslucentClassification=e,this.dirty=!0)}}}),o.shallowClone=function(e,t){if((0,n.Z)(e))return(0,n.Z)(t)||(t=new o),t._boundingVolume=e._boundingVolume,t._orientedBoundingBox=e._orientedBoundingBox,t._cull=e._cull,t._occlude=e._occlude,t._modelMatrix=e._modelMatrix,t._primitiveType=e._primitiveType,t._vertexArray=e._vertexArray,t._count=e._count,t._offset=e._offset,t._instanceCount=e._instanceCount,t._shaderProgram=e._shaderProgram,t._uniformMap=e._uniformMap,t._renderState=e._renderState,t._framebuffer=e._framebuffer,t._pass=e._pass,t._executeInClosestFrustum=e._executeInClosestFrustum,t._owner=e._owner,t._debugShowBoundingVolume=e._debugShowBoundingVolume,t._debugOverlappingFrustums=e._debugOverlappingFrustums,t._castShadows=e._castShadows,t._receiveShadows=e._receiveShadows,t._pickId=e._pickId,t._pickOnly=e._pickOnly,t._depthForTranslucentClassification=e._depthForTranslucentClassification,t.dirty=!0,t.lastDirtyTime=0,t},o.prototype.execute=function(e,t){e.draw(this,t)},t["Z"]=o},2932:function(e,t,r){var i=r(66553),n=r(62200),a=r(82982),o=r(86511),s=r(12572),u=r(38443),_=r(20521),h=r(21572);function f(e,t,r){var i=e._gl;i.framebufferTexture2D(i.FRAMEBUFFER,t,r._target,r._texture,0)}function c(e,t,r){var i=e._gl;i.framebufferRenderbuffer(i.FRAMEBUFFER,t,i.RENDERBUFFER,r._getRenderbuffer())}function l(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=e.context;i.Z.defined("options.context",t);var r=t._gl,o=_.Z.maximumColorAttachments;if(this._gl=r,this._framebuffer=r.createFramebuffer(),this._colorTextures=[],this._colorRenderbuffers=[],this._activeColorAttachments=[],this._depthTexture=void 0,this._depthRenderbuffer=void 0,this._stencilRenderbuffer=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this.destroyAttachments=(0,n.Z)(e.destroyAttachments,!0),(0,a.Z)(e.colorTextures)&&(0,a.Z)(e.colorRenderbuffers))throw new s.Z("Cannot have both color texture and color renderbuffer attachments.");if((0,a.Z)(e.depthTexture)&&(0,a.Z)(e.depthRenderbuffer))throw new s.Z("Cannot have both a depth texture and depth renderbuffer attachment.");if((0,a.Z)(e.depthStencilTexture)&&(0,a.Z)(e.depthStencilRenderbuffer))throw new s.Z("Cannot have both a depth-stencil texture and depth-stencil renderbuffer attachment.");var l,d,m,p,g,T=(0,a.Z)(e.depthTexture)||(0,a.Z)(e.depthRenderbuffer),x=(0,a.Z)(e.depthStencilTexture)||(0,a.Z)(e.depthStencilRenderbuffer);if(T&&x)throw new s.Z("Cannot have both a depth and depth-stencil attachment.");if((0,a.Z)(e.stencilRenderbuffer)&&x)throw new s.Z("Cannot have both a stencil and depth-stencil attachment.");if(T&&(0,a.Z)(e.stencilRenderbuffer))throw new s.Z("Cannot have both a depth and stencil attachment.");if(this._bind(),(0,a.Z)(e.colorTextures)){var E=e.colorTextures;if(p=this._colorTextures.length=this._activeColorAttachments.length=E.length,p>o)throw new s.Z("The number of color attachments exceeds the number supported.");for(m=0;m<p;++m){if(l=E[m],!u.Z.isColorFormat(l.pixelFormat))throw new s.Z("The color-texture pixel-format must be a color format.");if(l.pixelDatatype===h.Z.FLOAT&&!t.colorBufferFloat)throw new s.Z("The color texture pixel datatype is FLOAT and the WebGL implementation does not support the EXT_color_buffer_float or WEBGL_color_buffer_float extensions. See Context.colorBufferFloat.");if(l.pixelDatatype===h.Z.HALF_FLOAT&&!t.colorBufferHalfFloat)throw new s.Z("The color texture pixel datatype is HALF_FLOAT and the WebGL implementation does not support the EXT_color_buffer_half_float extension. See Context.colorBufferHalfFloat.");g=this._gl.COLOR_ATTACHMENT0+m,f(this,g,l),this._activeColorAttachments[m]=g,this._colorTextures[m]=l}}if((0,a.Z)(e.colorRenderbuffers)){var Z=e.colorRenderbuffers;if(p=this._colorRenderbuffers.length=this._activeColorAttachments.length=Z.length,p>o)throw new s.Z("The number of color attachments exceeds the number supported.");for(m=0;m<p;++m)d=Z[m],g=this._gl.COLOR_ATTACHMENT0+m,c(this,g,d),this._activeColorAttachments[m]=g,this._colorRenderbuffers[m]=d}if((0,a.Z)(e.depthTexture)){if(l=e.depthTexture,l.pixelFormat!==u.Z.DEPTH_COMPONENT)throw new s.Z("The depth-texture pixel-format must be DEPTH_COMPONENT.");f(this,this._gl.DEPTH_ATTACHMENT,l),this._depthTexture=l}if((0,a.Z)(e.depthRenderbuffer)&&(d=e.depthRenderbuffer,c(this,this._gl.DEPTH_ATTACHMENT,d),this._depthRenderbuffer=d),(0,a.Z)(e.stencilRenderbuffer)&&(d=e.stencilRenderbuffer,c(this,this._gl.STENCIL_ATTACHMENT,d),this._stencilRenderbuffer=d),(0,a.Z)(e.depthStencilTexture)){if(l=e.depthStencilTexture,l.pixelFormat!==u.Z.DEPTH_STENCIL)throw new s.Z("The depth-stencil pixel-format must be DEPTH_STENCIL.");f(this,this._gl.DEPTH_STENCIL_ATTACHMENT,l),this._depthStencilTexture=l}(0,a.Z)(e.depthStencilRenderbuffer)&&(d=e.depthStencilRenderbuffer,c(this,this._gl.DEPTH_STENCIL_ATTACHMENT,d),this._depthStencilRenderbuffer=d),this._unBind()}Object.defineProperties(l.prototype,{status:{get:function(){this._bind();var e=this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER);return this._unBind(),e}},numberOfColorAttachments:{get:function(){return this._activeColorAttachments.length}},depthTexture:{get:function(){return this._depthTexture}},depthRenderbuffer:{get:function(){return this._depthRenderbuffer}},stencilRenderbuffer:{get:function(){return this._stencilRenderbuffer}},depthStencilTexture:{get:function(){return this._depthStencilTexture}},depthStencilRenderbuffer:{get:function(){return this._depthStencilRenderbuffer}},hasDepthAttachment:{get:function(){return!!(this.depthTexture||this.depthRenderbuffer||this.depthStencilTexture||this.depthStencilRenderbuffer)}}}),l.prototype._bind=function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},l.prototype._unBind=function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},l.prototype._getActiveColorAttachments=function(){return this._activeColorAttachments},l.prototype.getColorTexture=function(e){if(!(0,a.Z)(e)||e<0||e>=this._colorTextures.length)throw new s.Z("index is required, must be greater than or equal to zero and must be less than the number of color attachments.");return this._colorTextures[e]},l.prototype.getColorRenderbuffer=function(e){if(!(0,a.Z)(e)||e<0||e>=this._colorRenderbuffers.length)throw new s.Z("index is required, must be greater than or equal to zero and must be less than the number of color attachments.");return this._colorRenderbuffers[e]},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){if(this.destroyAttachments){for(var e=0,t=this._colorTextures,r=t.length;e<r;++e){var i=t[e];(0,a.Z)(i)&&i.destroy()}var n=this._colorRenderbuffers;for(r=n.length,e=0;e<r;++e){var s=n[e];(0,a.Z)(s)&&s.destroy()}this._depthTexture=this._depthTexture&&this._depthTexture.destroy(),this._depthRenderbuffer=this._depthRenderbuffer&&this._depthRenderbuffer.destroy(),this._stencilRenderbuffer=this._stencilRenderbuffer&&this._stencilRenderbuffer.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy()}return this._gl.deleteFramebuffer(this._framebuffer),(0,o.Z)(this)},t["Z"]=l},45368:function(e,t,r){var i=r(52200),n={DONT_CARE:i.Z.DONT_CARE,FASTEST:i.Z.FASTEST,NICEST:i.Z.NICEST,validate:function(e){return e===n.DONT_CARE||e===n.FASTEST||e===n.NICEST}};t["Z"]=Object.freeze(n)},8379:function(e,t){var r={ENVIRONMENT:0,COMPUTE:1,GLOBE:2,TERRAIN_CLASSIFICATION:3,CESIUM_3D_TILE:4,CESIUM_3D_TILE_CLASSIFICATION:5,CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW:6,OPAQUE:7,TRANSLUCENT:8,OVERLAY:9,NUMBER_OF_PASSES:10};t["Z"]=Object.freeze(r)},65121:function(e,t){function r(e){this.context=e,this.framebuffer=void 0,this.blendingEnabled=void 0,this.scissorTest=void 0,this.viewport=void 0}t["Z"]=r}}]);
//# sourceMappingURL=chunk-vendors-3bb23c83-legacy.e36a3739.js.map