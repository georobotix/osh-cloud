define(["exports","./GeometryOffsetAttribute-e8e698d7","./Transforms-62a339c3","./Matrix2-92b7fb9d","./RuntimeError-4fdc4459","./ComponentDatatype-9ed50558","./when-8166c7dd","./GeometryAttribute-6f4c3b93","./GeometryAttributes-50becc99","./VertexFormat-c0801687"],(function(e,t,a,r,n,i,o,m,u,s){"use strict";var y=new r.Cartesian3;function f(e){e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT);var a=e.minimum,i=e.maximum;if(n.Check.typeOf.object("min",a),n.Check.typeOf.object("max",i),o.defined(e.offsetAttribute)&&e.offsetAttribute===t.GeometryOffsetAttribute.TOP)throw new n.DeveloperError("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");var m=o.defaultValue(e.vertexFormat,s.VertexFormat.DEFAULT);this._minimum=r.Cartesian3.clone(a),this._maximum=r.Cartesian3.clone(i),this._vertexFormat=m,this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxGeometry"}f.fromDimensions=function(e){e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT);var t=e.dimensions;n.Check.typeOf.object("dimensions",t),n.Check.typeOf.number.greaterThanOrEquals("dimensions.x",t.x,0),n.Check.typeOf.number.greaterThanOrEquals("dimensions.y",t.y,0),n.Check.typeOf.number.greaterThanOrEquals("dimensions.z",t.z,0);var a=r.Cartesian3.multiplyByScalar(t,.5,new r.Cartesian3);return new f({minimum:r.Cartesian3.negate(a,new r.Cartesian3),maximum:a,vertexFormat:e.vertexFormat,offsetAttribute:e.offsetAttribute})},f.fromAxisAlignedBoundingBox=function(e){return n.Check.typeOf.object("boundingBox",e),new f({minimum:e.minimum,maximum:e.maximum})},f.packedLength=2*r.Cartesian3.packedLength+s.VertexFormat.packedLength+1,f.pack=function(e,t,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",t),a=o.defaultValue(a,0),r.Cartesian3.pack(e._minimum,t,a),r.Cartesian3.pack(e._maximum,t,a+r.Cartesian3.packedLength),s.VertexFormat.pack(e._vertexFormat,t,a+2*r.Cartesian3.packedLength),t[a+2*r.Cartesian3.packedLength+s.VertexFormat.packedLength]=o.defaultValue(e._offsetAttribute,-1),t};var p,c=new r.Cartesian3,x=new r.Cartesian3,b=new s.VertexFormat,d={minimum:c,maximum:x,vertexFormat:b,offsetAttribute:void 0};f.unpack=function(e,t,a){n.Check.defined("array",e),t=o.defaultValue(t,0);var i=r.Cartesian3.unpack(e,t,c),m=r.Cartesian3.unpack(e,t+r.Cartesian3.packedLength,x),u=s.VertexFormat.unpack(e,t+2*r.Cartesian3.packedLength,b),y=e[t+2*r.Cartesian3.packedLength+s.VertexFormat.packedLength];return o.defined(a)?(a._minimum=r.Cartesian3.clone(i,a._minimum),a._maximum=r.Cartesian3.clone(m,a._maximum),a._vertexFormat=s.VertexFormat.clone(u,a._vertexFormat),a._offsetAttribute=-1===y?void 0:y,a):(d.offsetAttribute=-1===y?void 0:y,new f(d))},f.createGeometry=function(e){var n=e._minimum,s=e._maximum,f=e._vertexFormat;if(!r.Cartesian3.equals(n,s)){var p,c,x=new u.GeometryAttributes;if(f.position&&(f.st||f.normal||f.tangent||f.bitangent)){if(f.position&&(c=new Float64Array(72),c[0]=n.x,c[1]=n.y,c[2]=s.z,c[3]=s.x,c[4]=n.y,c[5]=s.z,c[6]=s.x,c[7]=s.y,c[8]=s.z,c[9]=n.x,c[10]=s.y,c[11]=s.z,c[12]=n.x,c[13]=n.y,c[14]=n.z,c[15]=s.x,c[16]=n.y,c[17]=n.z,c[18]=s.x,c[19]=s.y,c[20]=n.z,c[21]=n.x,c[22]=s.y,c[23]=n.z,c[24]=s.x,c[25]=n.y,c[26]=n.z,c[27]=s.x,c[28]=s.y,c[29]=n.z,c[30]=s.x,c[31]=s.y,c[32]=s.z,c[33]=s.x,c[34]=n.y,c[35]=s.z,c[36]=n.x,c[37]=n.y,c[38]=n.z,c[39]=n.x,c[40]=s.y,c[41]=n.z,c[42]=n.x,c[43]=s.y,c[44]=s.z,c[45]=n.x,c[46]=n.y,c[47]=s.z,c[48]=n.x,c[49]=s.y,c[50]=n.z,c[51]=s.x,c[52]=s.y,c[53]=n.z,c[54]=s.x,c[55]=s.y,c[56]=s.z,c[57]=n.x,c[58]=s.y,c[59]=s.z,c[60]=n.x,c[61]=n.y,c[62]=n.z,c[63]=s.x,c[64]=n.y,c[65]=n.z,c[66]=s.x,c[67]=n.y,c[68]=s.z,c[69]=n.x,c[70]=n.y,c[71]=s.z,x.position=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:c})),f.normal){var b=new Float32Array(72);b[0]=0,b[1]=0,b[2]=1,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=1,b[9]=0,b[10]=0,b[11]=1,b[12]=0,b[13]=0,b[14]=-1,b[15]=0,b[16]=0,b[17]=-1,b[18]=0,b[19]=0,b[20]=-1,b[21]=0,b[22]=0,b[23]=-1,b[24]=1,b[25]=0,b[26]=0,b[27]=1,b[28]=0,b[29]=0,b[30]=1,b[31]=0,b[32]=0,b[33]=1,b[34]=0,b[35]=0,b[36]=-1,b[37]=0,b[38]=0,b[39]=-1,b[40]=0,b[41]=0,b[42]=-1,b[43]=0,b[44]=0,b[45]=-1,b[46]=0,b[47]=0,b[48]=0,b[49]=1,b[50]=0,b[51]=0,b[52]=1,b[53]=0,b[54]=0,b[55]=1,b[56]=0,b[57]=0,b[58]=1,b[59]=0,b[60]=0,b[61]=-1,b[62]=0,b[63]=0,b[64]=-1,b[65]=0,b[66]=0,b[67]=-1,b[68]=0,b[69]=0,b[70]=-1,b[71]=0,x.normal=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:b})}if(f.st){var d=new Float32Array(48);d[0]=0,d[1]=0,d[2]=1,d[3]=0,d[4]=1,d[5]=1,d[6]=0,d[7]=1,d[8]=1,d[9]=0,d[10]=0,d[11]=0,d[12]=0,d[13]=1,d[14]=1,d[15]=1,d[16]=0,d[17]=0,d[18]=1,d[19]=0,d[20]=1,d[21]=1,d[22]=0,d[23]=1,d[24]=1,d[25]=0,d[26]=0,d[27]=0,d[28]=0,d[29]=1,d[30]=1,d[31]=1,d[32]=1,d[33]=0,d[34]=0,d[35]=0,d[36]=0,d[37]=1,d[38]=1,d[39]=1,d[40]=0,d[41]=0,d[42]=1,d[43]=0,d[44]=1,d[45]=1,d[46]=0,d[47]=1,x.st=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:d})}if(f.tangent){var A=new Float32Array(72);A[0]=1,A[1]=0,A[2]=0,A[3]=1,A[4]=0,A[5]=0,A[6]=1,A[7]=0,A[8]=0,A[9]=1,A[10]=0,A[11]=0,A[12]=-1,A[13]=0,A[14]=0,A[15]=-1,A[16]=0,A[17]=0,A[18]=-1,A[19]=0,A[20]=0,A[21]=-1,A[22]=0,A[23]=0,A[24]=0,A[25]=1,A[26]=0,A[27]=0,A[28]=1,A[29]=0,A[30]=0,A[31]=1,A[32]=0,A[33]=0,A[34]=1,A[35]=0,A[36]=0,A[37]=-1,A[38]=0,A[39]=0,A[40]=-1,A[41]=0,A[42]=0,A[43]=-1,A[44]=0,A[45]=0,A[46]=-1,A[47]=0,A[48]=-1,A[49]=0,A[50]=0,A[51]=-1,A[52]=0,A[53]=0,A[54]=-1,A[55]=0,A[56]=0,A[57]=-1,A[58]=0,A[59]=0,A[60]=1,A[61]=0,A[62]=0,A[63]=1,A[64]=0,A[65]=0,A[66]=1,A[67]=0,A[68]=0,A[69]=1,A[70]=0,A[71]=0,x.tangent=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:A})}if(f.bitangent){var l=new Float32Array(72);l[0]=0,l[1]=1,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=1,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=1,l[14]=0,l[15]=0,l[16]=1,l[17]=0,l[18]=0,l[19]=1,l[20]=0,l[21]=0,l[22]=1,l[23]=0,l[24]=0,l[25]=0,l[26]=1,l[27]=0,l[28]=0,l[29]=1,l[30]=0,l[31]=0,l[32]=1,l[33]=0,l[34]=0,l[35]=1,l[36]=0,l[37]=0,l[38]=1,l[39]=0,l[40]=0,l[41]=1,l[42]=0,l[43]=0,l[44]=1,l[45]=0,l[46]=0,l[47]=1,l[48]=0,l[49]=0,l[50]=1,l[51]=0,l[52]=0,l[53]=1,l[54]=0,l[55]=0,l[56]=1,l[57]=0,l[58]=0,l[59]=1,l[60]=0,l[61]=0,l[62]=1,l[63]=0,l[64]=0,l[65]=1,l[66]=0,l[67]=0,l[68]=1,l[69]=0,l[70]=0,l[71]=1,x.bitangent=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:l})}p=new Uint16Array(36),p[0]=0,p[1]=1,p[2]=2,p[3]=0,p[4]=2,p[5]=3,p[6]=6,p[7]=5,p[8]=4,p[9]=7,p[10]=6,p[11]=4,p[12]=8,p[13]=9,p[14]=10,p[15]=8,p[16]=10,p[17]=11,p[18]=14,p[19]=13,p[20]=12,p[21]=15,p[22]=14,p[23]=12,p[24]=18,p[25]=17,p[26]=16,p[27]=19,p[28]=18,p[29]=16,p[30]=20,p[31]=21,p[32]=22,p[33]=20,p[34]=22,p[35]=23}else c=new Float64Array(24),c[0]=n.x,c[1]=n.y,c[2]=n.z,c[3]=s.x,c[4]=n.y,c[5]=n.z,c[6]=s.x,c[7]=s.y,c[8]=n.z,c[9]=n.x,c[10]=s.y,c[11]=n.z,c[12]=n.x,c[13]=n.y,c[14]=s.z,c[15]=s.x,c[16]=n.y,c[17]=s.z,c[18]=s.x,c[19]=s.y,c[20]=s.z,c[21]=n.x,c[22]=s.y,c[23]=s.z,x.position=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:c}),p=new Uint16Array(36),p[0]=4,p[1]=5,p[2]=6,p[3]=4,p[4]=6,p[5]=7,p[6]=1,p[7]=0,p[8]=3,p[9]=1,p[10]=3,p[11]=2,p[12]=1,p[13]=6,p[14]=5,p[15]=1,p[16]=2,p[17]=6,p[18]=2,p[19]=3,p[20]=7,p[21]=2,p[22]=7,p[23]=6,p[24]=3,p[25]=0,p[26]=4,p[27]=3,p[28]=4,p[29]=7,p[30]=0,p[31]=1,p[32]=5,p[33]=0,p[34]=5,p[35]=4;var C=r.Cartesian3.subtract(s,n,y),v=.5*r.Cartesian3.magnitude(C);if(o.defined(e._offsetAttribute)){var h=c.length,z=new Uint8Array(h/3),w=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(z,w),x.applyOffset=new m.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:z})}return new m.Geometry({attributes:x,indices:p,primitiveType:m.PrimitiveType.TRIANGLES,boundingSphere:new a.BoundingSphere(r.Cartesian3.ZERO,v),offsetAttribute:e._offsetAttribute})}},f.getUnitBox=function(){return o.defined(p)||(p=f.createGeometry(f.fromDimensions({dimensions:new r.Cartesian3(1,1,1),vertexFormat:s.VertexFormat.POSITION_ONLY}))),p},e.BoxGeometry=f}));