define(["exports","./arrayRemoveDuplicates-198208a4","./Matrix2-92b7fb9d","./when-8166c7dd","./ComponentDatatype-9ed50558","./PolylinePipeline-fd9260c9"],(function(e,i,t,r,n,a){"use strict";var o={};function l(e,i){return n.CesiumMath.equalsEpsilon(e.latitude,i.latitude,n.CesiumMath.EPSILON10)&&n.CesiumMath.equalsEpsilon(e.longitude,i.longitude,n.CesiumMath.EPSILON10)}var s=new t.Cartographic,h=new t.Cartographic;function g(e,n,a,o){n=i.arrayRemoveDuplicates(n,t.Cartesian3.equalsEpsilon);var g=n.length;if(!(g<2)){var p=r.defined(o),u=r.defined(a),c=new Array(g),d=new Array(g),y=new Array(g),v=n[0];c[0]=v;var m=e.cartesianToCartographic(v,s);u&&(m.height=a[0]),d[0]=m.height,y[0]=p?o[0]:0;for(var f=d[0],P=y[0],A=f===P,C=1,w=1;w<g;++w){var b=n[w],M=e.cartesianToCartographic(b,h);u&&(M.height=a[w]),A=A&&0===M.height,l(m,M)?m.height<M.height&&(d[C-1]=M.height):(c[C]=b,d[C]=M.height,y[C]=p?o[w]:0,A=A&&d[C]===y[C],t.Cartographic.clone(M,m),++C)}if(!(A||C<2))return c.length=C,d.length=C,y.length=C,{positions:c,topHeights:d,bottomHeights:y}}}var p=new Array(2),u=new Array(2),c={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};o.computePositions=function(e,i,t,o,l,s){var h=g(e,i,t,o);if(r.defined(h)){i=h.positions,t=h.topHeights,o=h.bottomHeights;var d,y,v=i.length,m=v-2,f=n.CesiumMath.chordLength(l,e.maximumRadius),P=c;if(P.minDistance=f,P.ellipsoid=e,s){var A,C=0;for(A=0;A<v-1;A++)C+=a.PolylinePipeline.numberOfPoints(i[A],i[A+1],f)+1;d=new Float64Array(3*C),y=new Float64Array(3*C);var w=p,b=u;P.positions=w,P.height=b;var M=0;for(A=0;A<v-1;A++){w[0]=i[A],w[1]=i[A+1],b[0]=t[A],b[1]=t[A+1];var E=a.PolylinePipeline.generateArc(P);d.set(E,M),b[0]=o[A],b[1]=o[A+1],y.set(a.PolylinePipeline.generateArc(P),M),M+=E.length}}else P.positions=i,P.height=t,d=new Float64Array(a.PolylinePipeline.generateArc(P)),P.height=o,y=new Float64Array(a.PolylinePipeline.generateArc(P));return{bottomPositions:y,topPositions:d,numCorners:m}}},e.WallGeometryLibrary=o}));