define(["./arrayRemoveDuplicates-198208a4","./Transforms-62a339c3","./Matrix2-92b7fb9d","./RuntimeError-4fdc4459","./ComponentDatatype-9ed50558","./CoplanarPolygonGeometryLibrary-ce606f0c","./when-8166c7dd","./GeometryAttribute-6f4c3b93","./GeometryAttributes-50becc99","./GeometryInstance-c790ce17","./GeometryPipeline-54fb0bb4","./IndexDatatype-797210ca","./PolygonGeometryLibrary-e5495823","./combine-a5c4cc47","./WebGLConstants-0664004c","./OrientedBoundingBox-ed23852c","./EllipsoidTangentPlane-5d8b4bd3","./AxisAlignedBoundingBox-b0cd1e39","./IntersectionTests-4f28a69c","./Plane-049255eb","./AttributeCompression-212262a3","./EncodedCartesian3-4a314cb8","./ArcType-13a53523","./EllipsoidRhumbLine-51654311","./PolygonPipeline-7fb6627c"],(function(e,r,t,n,o,i,a,y,c,l,p,s,u,d,m,f,g,b,h,v,P,G,C,k,L){"use strict";function T(e){for(var r=e.length,t=new Float64Array(3*r),n=s.IndexDatatype.createTypedArray(r,2*r),i=0,a=0,l=0;l<r;l++){var p=e[l];t[i++]=p.x,t[i++]=p.y,t[i++]=p.z,n[a++]=l,n[a++]=(l+1)%r}var u=new c.GeometryAttributes({position:new y.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:t})});return new y.Geometry({attributes:u,indices:n,primitiveType:y.PrimitiveType.LINES})}function E(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT);var r=e.polygonHierarchy;n.Check.defined("options.polygonHierarchy",r),this._polygonHierarchy=r,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=u.PolygonGeometryLibrary.computeHierarchyPackedLength(r)+1}E.fromPositions=function(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),n.Check.defined("options.positions",e.positions);var r={polygonHierarchy:{positions:e.positions}};return new E(r)},E.pack=function(e,r,t){return n.Check.typeOf.object("value",e),n.Check.defined("array",r),t=a.defaultValue(t,0),t=u.PolygonGeometryLibrary.packPolygonHierarchy(e._polygonHierarchy,r,t),r[t]=e.packedLength,r};var H={polygonHierarchy:{}};function A(e,r){return a.defined(r)&&(e=E.unpack(e,r)),e._ellipsoid=t.Ellipsoid.clone(e._ellipsoid),E.createGeometry(e)}return E.unpack=function(e,r,t){n.Check.defined("array",e),r=a.defaultValue(r,0);var o=u.PolygonGeometryLibrary.unpackPolygonHierarchy(e,r);r=o.startingIndex,delete o.startingIndex;var i=e[r];return a.defined(t)||(t=new E(H)),t._polygonHierarchy=o,t.packedLength=i,t},E.createGeometry=function(n){var o=n._polygonHierarchy,a=o.positions;if(a=e.arrayRemoveDuplicates(a,t.Cartesian3.equalsEpsilon,!0),!(a.length<3)){var c=i.CoplanarPolygonGeometryLibrary.validOutline(a);if(c){var s=u.PolygonGeometryLibrary.polygonOutlinesFromHierarchy(o,!1);if(0!==s.length){for(var d=[],m=0;m<s.length;m++){var f=new l.GeometryInstance({geometry:T(s[m])});d.push(f)}var g=p.GeometryPipeline.combineInstances(d)[0],b=r.BoundingSphere.fromPoints(o.positions);return new y.Geometry({attributes:g.attributes,indices:g.indices,primitiveType:g.primitiveType,boundingSphere:b})}}}},A}));