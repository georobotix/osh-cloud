define(["./when-8166c7dd","./Transforms-62a339c3","./Matrix2-92b7fb9d","./RuntimeError-4fdc4459","./ComponentDatatype-9ed50558","./FrustumGeometry-5e81e036","./GeometryAttribute-6f4c3b93","./GeometryAttributes-50becc99","./combine-a5c4cc47","./WebGLConstants-0664004c","./Plane-049255eb","./VertexFormat-c0801687"],(function(e,t,r,n,a,i,u,o,c,s,p,m){"use strict";var h=0,f=1;function d(a){n.Check.typeOf.object("options",a),n.Check.typeOf.object("options.frustum",a.frustum),n.Check.typeOf.object("options.origin",a.origin),n.Check.typeOf.object("options.orientation",a.orientation);var u,o,c=a.frustum,s=a.orientation,p=a.origin,m=e.defaultValue(a._drawNearPlane,!0);c instanceof i.PerspectiveFrustum?(u=h,o=i.PerspectiveFrustum.packedLength):c instanceof i.OrthographicFrustum&&(u=f,o=i.OrthographicFrustum.packedLength),this._frustumType=u,this._frustum=c.clone(),this._origin=r.Cartesian3.clone(p),this._orientation=t.Quaternion.clone(s),this._drawNearPlane=m,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+o+r.Cartesian3.packedLength+t.Quaternion.packedLength}d.pack=function(a,u,o){n.Check.typeOf.object("value",a),n.Check.defined("array",u),o=e.defaultValue(o,0);var c=a._frustumType,s=a._frustum;return u[o++]=c,c===h?(i.PerspectiveFrustum.pack(s,u,o),o+=i.PerspectiveFrustum.packedLength):(i.OrthographicFrustum.pack(s,u,o),o+=i.OrthographicFrustum.packedLength),r.Cartesian3.pack(a._origin,u,o),o+=r.Cartesian3.packedLength,t.Quaternion.pack(a._orientation,u,o),o+=t.Quaternion.packedLength,u[o]=a._drawNearPlane?1:0,u};var k=new i.PerspectiveFrustum,g=new i.OrthographicFrustum,y=new t.Quaternion,_=new r.Cartesian3;function l(t,r){return e.defined(r)&&(t=d.unpack(t,r)),d.createGeometry(t)}return d.unpack=function(a,u,o){n.Check.defined("array",a),u=e.defaultValue(u,0);var c,s=a[u++];s===h?(c=i.PerspectiveFrustum.unpack(a,u,k),u+=i.PerspectiveFrustum.packedLength):(c=i.OrthographicFrustum.unpack(a,u,g),u+=i.OrthographicFrustum.packedLength);var p=r.Cartesian3.unpack(a,u,_);u+=r.Cartesian3.packedLength;var m=t.Quaternion.unpack(a,u,y);u+=t.Quaternion.packedLength;var f=1===a[u];if(!e.defined(o))return new d({frustum:c,origin:p,orientation:m,_drawNearPlane:f});var l=s===o._frustumType?o._frustum:void 0;return o._frustum=c.clone(l),o._frustumType=s,o._origin=r.Cartesian3.clone(p,o._origin),o._orientation=t.Quaternion.clone(m,o._orientation),o._drawNearPlane=f,o},d.createGeometry=function(e){var r=e._frustumType,n=e._frustum,c=e._origin,s=e._orientation,p=e._drawNearPlane,m=new Float64Array(24);i.FrustumGeometry._computeNearFarPlanes(c,s,r,n,m);for(var h,f,d=new o.GeometryAttributes({position:new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:m})}),k=p?2:1,g=new Uint16Array(8*(k+1)),y=p?0:1;y<2;++y)h=p?8*y:0,f=4*y,g[h]=f,g[h+1]=f+1,g[h+2]=f+1,g[h+3]=f+2,g[h+4]=f+2,g[h+5]=f+3,g[h+6]=f+3,g[h+7]=f;for(y=0;y<2;++y)h=8*(k+y),f=4*y,g[h]=f,g[h+1]=f+4,g[h+2]=f+1,g[h+3]=f+5,g[h+4]=f+2,g[h+5]=f+6,g[h+6]=f+3,g[h+7]=f+7;return new u.Geometry({attributes:d,indices:g,primitiveType:u.PrimitiveType.LINES,boundingSphere:t.BoundingSphere.fromVertices(m)})},l}));