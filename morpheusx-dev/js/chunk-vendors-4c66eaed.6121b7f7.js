"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[3188],{75464:function(e,t,r){var n=r(99417),i={HIGHLIGHT:0,REPLACE:1,MIX:2,getColorBlend:function(e,t){return e===i.HIGHLIGHT?0:e===i.REPLACE?1:e===i.MIX?n.Z.clamp(t,n.Z.EPSILON4,1):void 0}};t["Z"]=Object.freeze(i)},67984:function(e,t,r){var n=r(62200),i=r(82982),a=r(86511),o=r(3020),s=r(9407),u=r(13222);function c(e,t,r,n,i,a){this._tileset=e,this._tile=t,this._resource=r,this._contents=[],this._readyPromise=u.Z.defer(),this._groupMetadata=void 0,l(this,n,i,a)}Object.defineProperties(c.prototype,{featurePropertiesDirty:{get:function(){for(var e=this._contents,t=e.length,r=0;r<t;++r)if(e[r].featurePropertiesDirty)return!0;return!1},set:function(e){for(var t=this._contents,r=t.length,n=0;n<r;++n)t[n].featurePropertiesDirty=e}},featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){return this._contents}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){}},groupMetadata:{get:function(){return this._groupMetadata},set:function(e){this._groupMetadata=e;for(var t=this._contents,r=t.length,n=0;n<r;++n)t[n].groupMetadata=e}}});var h=Uint32Array.BYTES_PER_ELEMENT;function l(e,t,r,a){r=(0,n.Z)(r,0);var c=new Uint8Array(t),l=new DataView(t);r+=h;var d=l.getUint32(r,!0);if(1!==d)throw new s.Z("Only Composite Tile version 1 is supported. Version "+d+" is not.");r+=h,r+=h;var f=l.getUint32(r,!0);r+=h;for(var p=[],m=0;m<f;++m){var _=(0,o.Z)(c,r),Z=l.getUint32(r+2*h,!0),g=a[_];if(!(0,i.Z)(g))throw new s.Z("Unknown tile content type, "+_+", inside Composite tile");var v=g(e._tileset,e._tile,e._resource,t,r);e._contents.push(v),p.push(v.readyPromise),r+=Z}u.Z.all(p).then((function(){e._readyPromise.resolve(e)})).otherwise((function(t){e._readyPromise.reject(t)}))}c.prototype.hasProperty=function(e,t){return!1},c.prototype.getFeature=function(e){},c.prototype.applyDebugSettings=function(e,t){for(var r=this._contents,n=r.length,i=0;i<n;++i)r[i].applyDebugSettings(e,t)},c.prototype.applyStyle=function(e){for(var t=this._contents,r=t.length,n=0;n<r;++n)t[n].applyStyle(e)},c.prototype.update=function(e,t){for(var r=this._contents,n=r.length,i=0;i<n;++i)r[i].update(e,t)},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){for(var e=this._contents,t=e.length,r=0;r<t;++r)e[r].destroy();return(0,a.Z)(this)},t["Z"]=c},50451:function(e,t,r){var n=r(83856),i=r(82982),a=r(19427);function o(e,t){this._conditionsExpression=(0,n.Z)(e,!0),this._conditions=e.conditions,this._runtimeConditions=void 0,u(this,t)}function s(e,t){this.condition=e,this.expression=t}function u(e,t){var r=[],n=e._conditions;if((0,i.Z)(n)){for(var o=n.length,u=0;u<o;++u){var c=n[u],h=String(c[0]),l=String(c[1]);r.push(new s(new a.Z(h,t),new a.Z(l,t)))}e._runtimeConditions=r}}Object.defineProperties(o.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),o.prototype.evaluate=function(e,t){var r=this._runtimeConditions;if((0,i.Z)(r))for(var n=r.length,a=0;a<n;++a){var o=r[a];if(o.condition.evaluate(e))return o.expression.evaluate(e,t)}},o.prototype.evaluateColor=function(e,t){var r=this._runtimeConditions;if((0,i.Z)(r))for(var n=r.length,a=0;a<n;++a){var o=r[a];if(o.condition.evaluate(e))return o.expression.evaluateColor(e,t)}},o.prototype.getShaderFunction=function(e,t,r,n){var a=this._runtimeConditions;if((0,i.Z)(a)&&0!==a.length){for(var o="",s=a.length,u=0;u<s;++u){var c=a[u],h=c.condition.getShaderExpression(t,r),l=c.expression.getShaderExpression(t,r);o+="    "+(0===u?"if":"else if")+" ("+h+")\n    {\n        return "+l+";\n    }\n"}return o=n+" "+e+"\n{\n"+o+"    return "+n+"(1.0);\n}\n",o}},o.prototype.getVariables=function(){var e=[],t=this._runtimeConditions;if(!(0,i.Z)(t)||0===t.length)return e;for(var r=t.length,n=0;n<r;++n){var a=t[n];e.push.apply(e,a.condition.getVariables()),e.push.apply(e,a.expression.getVariables())}return e=e.filter((function(e,t,r){return r.indexOf(e)===t})),e},t["Z"]=o},48187:function(e,t,r){var n=r(60216),i=r(66553),a=r(62200),o=r(99417),s=o.Z.toRadians(30);function u(e){this._angle=(0,a.Z)(e,s)}Object.defineProperties(u.prototype,{angle:{get:function(){return this._angle},set:function(e){i.Z.typeOf.number("value",e),this._angle=e}}}),u.prototype.emit=function(e){var t=Math.tan(this._angle),r=o.Z.randomBetween(0,o.Z.TWO_PI),i=o.Z.randomBetween(0,t),a=i*Math.cos(r),s=i*Math.sin(r),u=1;e.velocity=n.Z.fromElements(a,s,u,e.velocity),n.Z.normalize(e.velocity,e.velocity),e.position=n.Z.clone(n.Z.ZERO,e.position)}},67442:function(e,t,r){var n=r(8629),i=r(72e3),a=r(66553),o=r(52975),s=r(62200),u=r(82982),c=r(86511),h=r(93922),l=576,d=100,f="#ffffff",p="#48b";function m(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];if(o.Z.equals(i,t))return!0}return!1}function _(e){var t=e._previousCesiumCredit,r=e._currentCesiumCredit;o.Z.equals(r,t)||((0,u.Z)(t)&&e._cesiumCreditContainer.removeChild(t.element),(0,u.Z)(r)&&e._cesiumCreditContainer.appendChild(r.element),e._previousCesiumCredit=r)}var Z,g="cesium-credit-delimiter";function v(e){var t=document.createElement("span");return t.textContent=e,t.className=g,t}function y(e,t){if((0,u.Z)(t)){var r=document.createElement(t);r._creditId=e._creditId,r.appendChild(e),e=r}return e}function b(e,t,r,n){for(var i=e.childNodes,a=-1,o=0;o<t.length;++o){var s=t[o];if((0,u.Z)(s)){if(a=o,(0,u.Z)(r)&&(a*=2,o>0)){var c=a-1;if(i.length<=c)e.appendChild(v(r));else{var h=i[c];h.className!==g&&e.replaceChild(v(r),h)}}var l=s.element;if(i.length<=a)e.appendChild(y(l,n));else{var d=i[a];d._creditId!==s._id&&e.replaceChild(y(l,n),d)}}}++a;while(a<i.length)e.removeChild(i[a])}function x(e){var t=e._lightboxCredits,r=e.viewport.clientWidth,n=e.viewport.clientHeight;r!==e._lastViewportWidth&&(r<l?(t.className="cesium-credit-lightbox cesium-credit-lightbox-mobile",t.style.marginTop="0"):(t.className="cesium-credit-lightbox cesium-credit-lightbox-expanded",t.style.marginTop=Math.floor(.5*(n-t.clientHeight))+"px"),e._lastViewportWidth=r),r>=l&&n!==e._lastViewportHeight&&(t.style.marginTop=Math.floor(.5*(n-t.clientHeight))+"px",e._lastViewportHeight=n)}function w(e,t){var r=e+" {";for(var n in t)t.hasOwnProperty(n)&&(r+=n+": "+t[n]+"; ");return r+=" }\n",r}function C(){var e="";e+=w(".cesium-credit-lightbox-overlay",{display:"none","z-index":"1",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","background-color":"rgba(80, 80, 80, 0.8)"}),e+=w(".cesium-credit-lightbox",{"background-color":"#303336",color:f,position:"relative","min-height":d+"px",margin:"auto"}),e+=w(".cesium-credit-lightbox > ul > li a, .cesium-credit-lightbox > ul > li a:visited",{color:f}),e+=w(".cesium-credit-lightbox > ul > li a:hover",{color:p}),e+=w(".cesium-credit-lightbox.cesium-credit-lightbox-expanded",{border:"1px solid #444","border-radius":"5px","max-width":"370px"}),e+=w(".cesium-credit-lightbox.cesium-credit-lightbox-mobile",{height:"100%",width:"100%"}),e+=w(".cesium-credit-lightbox-title",{padding:"20px 20px 0 20px"}),e+=w(".cesium-credit-lightbox-close",{"font-size":"18pt",cursor:"pointer",position:"absolute",top:"0",right:"6px",color:f}),e+=w(".cesium-credit-lightbox-close:hover",{color:p}),e+=w(".cesium-credit-lightbox > ul",{margin:"0",padding:"12px 20px 12px 40px","font-size":"13px"}),e+=w(".cesium-credit-lightbox > ul > li",{"padding-bottom":"6px"}),e+=w(".cesium-credit-lightbox > ul > li *",{padding:"0",margin:"0"}),e+=w(".cesium-credit-expand-link",{"padding-left":"5px",cursor:"pointer","text-decoration":"underline",color:f}),e+=w(".cesium-credit-expand-link:hover",{color:p}),e+=w(".cesium-credit-text",{color:f}),e+=w(".cesium-credit-textContainer *, .cesium-credit-logoContainer *",{display:"inline"});var t=document.head,r=document.createElement("style");r.innerHTML=e,t.insertBefore(r,t.firstChild)}function E(e,t,r){a.Z.defined("container",e);var i=this;r=(0,s.Z)(r,document.body);var u=document.createElement("div");u.className="cesium-credit-lightbox-overlay",r.appendChild(u);var c=document.createElement("div");function h(e){c.contains(e.target)||i.hideLightbox()}c.className="cesium-credit-lightbox",u.appendChild(c),u.addEventListener("click",h,!1);var l=document.createElement("div");l.className="cesium-credit-lightbox-title",l.textContent="Data provided by:",c.appendChild(l);var d=document.createElement("a");d.onclick=this.hideLightbox.bind(this),d.innerHTML="&times;",d.className="cesium-credit-lightbox-close",c.appendChild(d);var f=document.createElement("ul");c.appendChild(f);var p=document.createElement("div");p.className="cesium-credit-logoContainer",p.style.display="inline",e.appendChild(p);var m=document.createElement("div");m.className="cesium-credit-textContainer",m.style.display="inline",e.appendChild(m);var _=document.createElement("a");_.className="cesium-credit-expand-link",_.onclick=this.showLightbox.bind(this),_.textContent="Data attribution",e.appendChild(_),C();var Z=o.Z.clone(E.cesiumCredit);this._delimiter=(0,s.Z)(t," â€¢ "),this._screenContainer=m,this._cesiumCreditContainer=p,this._lastViewportHeight=void 0,this._lastViewportWidth=void 0,this._lightboxCredits=c,this._creditList=f,this._lightbox=u,this._hideLightbox=h,this._expandLink=_,this._expanded=!1,this._defaultCredits=[],this._cesiumCredit=Z,this._previousCesiumCredit=void 0,this._currentCesiumCredit=Z,this._currentFrameCredits={screenCredits:new n.Z,lightboxCredits:new n.Z},this._defaultCredit=void 0,this.viewport=r,this.container=e}function T(){if(!(0,u.Z)(Z)){var e=(0,i.Z)("Assets/Images/ion-credit.png");if(0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("data:")){var t=new h.Z(e);e=t.path()}Z=new o.Z('<a href="https://cesium.com/" target="_blank"><img src="'+e+'" title="Cesium ion"/></a>',!0)}return E._cesiumCreditInitialized||(E._cesiumCredit=Z,E._cesiumCreditInitialized=!0),Z}E.prototype.addCredit=function(e){if(a.Z.defined("credit",e),e._isIon)return(0,u.Z)(this._defaultCredit)||(this._defaultCredit=o.Z.clone(T())),void(this._currentCesiumCredit=this._defaultCredit);e.showOnScreen?this._currentFrameCredits.screenCredits.set(e.id,e):this._currentFrameCredits.lightboxCredits.set(e.id,e)},E.prototype.addDefaultCredit=function(e){a.Z.defined("credit",e);var t=this._defaultCredits;m(t,e)||t.push(e)},E.prototype.removeDefaultCredit=function(e){a.Z.defined("credit",e);var t=this._defaultCredits,r=t.indexOf(e);-1!==r&&t.splice(r,1)},E.prototype.showLightbox=function(){this._lightbox.style.display="block",this._expanded=!0},E.prototype.hideLightbox=function(){this._lightbox.style.display="none",this._expanded=!1},E.prototype.update=function(){this._expanded&&x(this)},E.prototype.beginFrame=function(){var e=this._currentFrameCredits,t=e.screenCredits;t.removeAll();for(var r=this._defaultCredits,n=0;n<r.length;++n){var i=r[n];t.set(i.id,i)}e.lightboxCredits.removeAll(),o.Z.equals(E.cesiumCredit,this._cesiumCredit)||(this._cesiumCredit=o.Z.clone(E.cesiumCredit)),this._currentCesiumCredit=this._cesiumCredit},E.prototype.endFrame=function(){var e=this._currentFrameCredits.screenCredits.values;b(this._screenContainer,e,this._delimiter,void 0);var t=this._currentFrameCredits.lightboxCredits.values;this._expandLink.style.display=t.length>0?"inline":"none",b(this._creditList,t,void 0,"li"),_(this)},E.prototype.destroy=function(){return this._lightbox.removeEventListener("click",this._hideLightbox,!1),this.container.removeChild(this._cesiumCreditContainer),this.container.removeChild(this._screenContainer),this.container.removeChild(this._expandLink),this.viewport.removeChild(this._lightbox),(0,c.Z)(this)},E.prototype.isDestroyed=function(){return!1},E._cesiumCredit=void 0,E._cesiumCreditInitialized=!1,Object.defineProperties(E,{cesiumCredit:{get:function(){return T(),E._cesiumCredit},set:function(e){E._cesiumCredit=e,E._cesiumCreditInitialized=!0}}}),t["Z"]=E},71593:function(e,t,r){var n=r(52200),i={FRONT:n.Z.FRONT,BACK:n.Z.BACK,FRONT_AND_BACK:n.Z.FRONT_AND_BACK};t["Z"]=Object.freeze(i)},93030:function(e,t,r){var n=r(60838),i=r(60216),a=r(66553),o=r(62200),s=r(82982);function u(e,t){if(e=(0,o.Z)(e,o.Z.EMPTY_OBJECT),this._show=(0,o.Z)(e.show,!0),this._position=i.Z.clone((0,o.Z)(e.position,i.Z.ZERO)),!(0,s.Z)(e.scale)&&(0,s.Z)(e.maximumSize))this._maximumSize=i.Z.clone(e.maximumSize),this._scale=new n.Z(this._maximumSize.x,this._maximumSize.y);else{this._scale=n.Z.clone((0,o.Z)(e.scale,new n.Z(20,12)));var r=new i.Z(this._scale.x,this._scale.y,Math.min(this._scale.x,this._scale.y)/1.5);this._maximumSize=i.Z.clone((0,o.Z)(e.maximumSize,r))}this._slice=(0,o.Z)(e.slice,-1),this._brightness=(0,o.Z)(e.brightness,1),this._cloudCollection=t,this._index=-1}var c=u.SHOW_INDEX=0,h=u.POSITION_INDEX=1,l=u.SCALE_INDEX=2,d=u.MAXIMUM_SIZE_INDEX=3,f=u.SLICE_INDEX=4,p=u.BRIGHTNESS_INDEX=5;function m(e,t){var r=e._cloudCollection;(0,s.Z)(r)&&(r._updateCloud(e,t),e._dirty=!0)}u.NUMBER_OF_PROPERTIES=6,Object.defineProperties(u.prototype,{show:{get:function(){return this._show},set:function(e){a.Z.typeOf.bool("value",e),this._show!==e&&(this._show=e,m(this,c))}},position:{get:function(){return this._position},set:function(e){a.Z.typeOf.object("value",e);var t=this._position;i.Z.equals(t,e)||(i.Z.clone(e,t),m(this,h))}},scale:{get:function(){return this._scale},set:function(e){a.Z.typeOf.object("value",e);var t=this._scale;n.Z.equals(t,e)||(n.Z.clone(e,t),m(this,l))}},maximumSize:{get:function(){return this._maximumSize},set:function(e){a.Z.typeOf.object("value",e);var t=this._maximumSize;i.Z.equals(t,e)||(i.Z.clone(e,t),m(this,d))}},slice:{get:function(){return this._slice},set:function(e){console.log(e),a.Z.typeOf.number("value",e);var t=this._slice;t!==e&&(this._slice=e,m(this,f))}},brightness:{get:function(){return this._brightness},set:function(e){a.Z.typeOf.number("value",e);var t=this._brightness;t!==e&&(this._brightness=e,m(this,p))}}}),u.prototype._destroy=function(){this._cloudCollection=void 0},t["Z"]=u},74414:function(e,t,r){var n=r(62200),i=r(82982),a=r(12572),o=r(12804);function s(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=e.attributeName,r=e.perInstanceAttribute;if(!(0,i.Z)(t))throw new a.Z("options.attributeName is required.");(0,i.Z)(r)||(r=!1);var s,u=(0,n.Z)(e.glslDatatype,"vec3"),c="v_"+t;if("normal"===t||"tangent"===t||"bitangent"===t)s="vec4 getColor() { return vec4(("+c+" + vec3(1.0)) * 0.5, 1.0); }\n";else switch("st"===t&&(u="vec2"),u){case"float":s="vec4 getColor() { return vec4(vec3("+c+"), 1.0); }\n";break;case"vec2":s="vec4 getColor() { return vec4("+c+", 0.0, 1.0); }\n";break;case"vec3":s="vec4 getColor() { return vec4("+c+", 1.0); }\n";break;case"vec4":s="vec4 getColor() { return "+c+"; }\n";break;default:throw new a.Z("options.glslDatatype must be float, vec2, vec3, or vec4.")}var h="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute float batchId;\n"+(r?"":"attribute "+u+" "+t+";\n")+"varying "+u+" "+c+";\nvoid main()\n{\nvec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n"+(r?c+" = czm_batchTable_"+t+"(batchId);\n":c+" = "+t+";\n")+"gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}",l="varying "+u+" "+c+";\n"+s+"\nvoid main()\n{\ngl_FragColor = getColor();\n}";this.material=void 0,this.translucent=(0,n.Z)(e.translucent,!1),this._vertexShaderSource=(0,n.Z)(e.vertexShaderSource,h),this._fragmentShaderSource=(0,n.Z)(e.fragmentShaderSource,l),this._renderState=o.Z.getDefaultRenderState(!1,!1,e.renderState),this._closed=(0,n.Z)(e.closed,!1),this._attributeName=t,this._glslDatatype=u}Object.defineProperties(s.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},attributeName:{get:function(){return this._attributeName}},glslDatatype:{get:function(){return this._glslDatatype}}}),s.prototype.getFragmentShaderSource=o.Z.prototype.getFragmentShaderSource,s.prototype.isTranslucent=o.Z.prototype.isTranslucent,s.prototype.getRenderState=o.Z.prototype.getRenderState},96548:function(e,t,r){var n=r(60216),i=r(59947),a=r(92062),o=r(62200),s=r(82982),u=r(86511),c=r(12572),h=r(1425),l=r(64446),d=r(26865),f=r(68201),p=r(91473),m=r(35131),_=r(66854),Z=r(36135),g=r(87811),v=r(64060),y=r(34380);function b(e){if(e=(0,o.Z)(e,o.Z.EMPTY_OBJECT),!(0,s.Z)(e.camera))throw new c.Z("options.camera is required.");this._camera=e.camera,this._frustumSplits=e.frustumSplits,this._color=(0,o.Z)(e.color,i.Z.CYAN),this._updateOnChange=(0,o.Z)(e.updateOnChange,!0),this.show=(0,o.Z)(e.show,!0),this.id=e.id,this._id=void 0,this._outlinePrimitives=[],this._planesPrimitives=[]}var x=new n.Z,w=new f.Z,C=new g.Z,E=new _.Z,T=new Z.Z,S=new p.Z,L=new m.Z,A=new i.Z,R=[1,1e5];b.prototype.update=function(e){if(this.show){var t,r,o=this._planesPrimitives,u=this._outlinePrimitives;if(this._updateOnChange){for(r=o.length,t=0;t<r;++t)u[t]=u[t]&&u[t].destroy(),o[t]=o[t]&&o[t].destroy();o.length=0,u.length=0}if(0===o.length){var c,m,b=this._camera,I=b.frustum;c=I instanceof _.Z?E:I instanceof Z.Z?T:I instanceof p.Z?S:L,c=I.clone(c);var O=this._frustumSplits;!(0,s.Z)(O)||O.length<=1?(O=R,O[0]=this._camera.frustum.near,O[1]=this._camera.frustum.far,m=1):m=O.length-1;var N=b.positionWC,P=b.directionWC,M=b.upWC,D=b.rightWC;D=n.Z.negate(D,x);var B=w;f.Z.setColumn(B,0,D,B),f.Z.setColumn(B,1,M,B),f.Z.setColumn(B,2,P,B);var k=g.Z.fromRotationMatrix(B,C);for(o.length=u.length=m,t=0;t<m;++t)c.near=O[t],c.far=O[t+1],o[t]=new y.Z({geometryInstances:new d.Z({geometry:new h.Z({origin:N,orientation:k,frustum:c,_drawNearPlane:0===t}),attributes:{color:a.Z.fromColor(i.Z.fromAlpha(this._color,.1,A))},id:this.id,pickPrimitive:this}),appearance:new v.Z({translucent:!0,flat:!0}),asynchronous:!1}),u[t]=new y.Z({geometryInstances:new d.Z({geometry:new l.Z({origin:N,orientation:k,frustum:c,_drawNearPlane:0===t}),attributes:{color:a.Z.fromColor(this._color)},id:this.id,pickPrimitive:this}),appearance:new v.Z({translucent:!1,flat:!0}),asynchronous:!1})}for(r=o.length,t=0;t<r;++t)u[t].update(e),o[t].update(e)}},b.prototype.isDestroyed=function(){return!1},b.prototype.destroy=function(){for(var e=this._planesPrimitives.length,t=0;t<e;++t)this._outlinePrimitives[t]=this._outlinePrimitives[t]&&this._outlinePrimitives[t].destroy(),this._planesPrimitives[t]=this._planesPrimitives[t]&&this._planesPrimitives[t].destroy();return(0,u.Z)(this)},t["Z"]=b},55757:function(e,t,r){var n=r(59947),i=r(60072),a=r(53642),o=r(46588),s=r(82982);function u(){this._cachedShowFrustumsShaders={}}function c(e){var t={},r=e.vertexAttributes;for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n].index);return t}function h(e,t){var r=e.context,n=t,i=n.fragmentShaderSource.clone(),s=[];i.sources=i.sources.map((function(e){e=a.Z.replaceMain(e,"czm_Debug_main");var t,r=/gl_FragData\[(\d+)\]/g;while(null!==(t=r.exec(e)))-1===s.indexOf(t[1])&&s.push(t[1]);return e}));var u,h=s.length,l="";if(l+="uniform vec3 debugShowCommandsColor;\n",l+="uniform vec3 debugShowFrustumsColor;\n",l+="void main() \n{ \n    czm_Debug_main(); \n",h>0)for(u=0;u<h;++u)l+="    gl_FragData["+s[u]+"].rgb *= debugShowCommandsColor;\n",l+="    gl_FragData["+s[u]+"].rgb *= debugShowFrustumsColor;\n";else l+="    gl_FragColor.rgb *= debugShowCommandsColor;\n",l+="    gl_FragColor.rgb *= debugShowFrustumsColor;\n";l+="}",i.sources.push(l);var d=c(n);return o.Z.fromCache({context:r,vertexShaderSource:n.vertexShaderSource,fragmentShaderSource:i,attributeLocations:d})}var l=new n.Z;function d(e,t){var r;return r=(0,s.Z)(t.uniformMap)?t.uniformMap:{},(0,s.Z)(r.debugShowCommandsColor)||(0,s.Z)(r.debugShowFrustumsColor)||(r.debugShowCommandsColor=function(){return e.debugShowCommands?((0,s.Z)(t._debugColor)||(t._debugColor=n.Z.fromRandom()),t._debugColor):n.Z.WHITE},r.debugShowFrustumsColor=function(){return e.debugShowFrustums?(l.red=1&t.debugOverlappingFrustums?1:0,l.green=2&t.debugOverlappingFrustums?1:0,l.blue=4&t.debugOverlappingFrustums?1:0,l.alpha=1,l):n.Z.WHITE}),r}var f=new i.Z;u.prototype.executeDebugShowFrustumsCommand=function(e,t,r){var n=t.shaderProgram.id,a=this._cachedShowFrustumsShaders[n];(0,s.Z)(a)||(a=h(e,t.shaderProgram),this._cachedShowFrustumsShaders[n]=a);var o=i.Z.shallowClone(t,f);o.shaderProgram=a,o.uniformMap=d(e,t),o.execute(e.context,r)},t["Z"]=u},84792:function(e,t,r){var n=r(11491),i=r(60216),a=r(59947),o=r(62200),s=r(82982),u=r(86511),c=r(26865),h=r(72248),l=r(80593),d=r(54052),f=r(34380);function p(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT),this.length=(0,o.Z)(e.length,1e7),this._length=void 0,this.width=(0,o.Z)(e.width,2),this._width=void 0,this.show=(0,o.Z)(e.show,!0),this.modelMatrix=h.Z.clone((0,o.Z)(e.modelMatrix,h.Z.IDENTITY)),this._modelMatrix=new h.Z,this.id=e.id,this._id=void 0,this._primitive=void 0}p.prototype.update=function(e){if(this.show){if(!(0,s.Z)(this._primitive)||!h.Z.equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=h.Z.clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,(0,s.Z)(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);var t=new c.Z({geometry:new l.Z({positions:[i.Z.ZERO,i.Z.UNIT_X],width:this.width,vertexFormat:d.Z.VERTEX_FORMAT,colors:[a.Z.RED,a.Z.RED],arcType:n.Z.NONE}),modelMatrix:h.Z.multiplyByUniformScale(this.modelMatrix,this.length,new h.Z),id:this.id,pickPrimitive:this}),r=new c.Z({geometry:new l.Z({positions:[i.Z.ZERO,i.Z.UNIT_Y],width:this.width,vertexFormat:d.Z.VERTEX_FORMAT,colors:[a.Z.GREEN,a.Z.GREEN],arcType:n.Z.NONE}),modelMatrix:h.Z.multiplyByUniformScale(this.modelMatrix,this.length,new h.Z),id:this.id,pickPrimitive:this}),o=new c.Z({geometry:new l.Z({positions:[i.Z.ZERO,i.Z.UNIT_Z],width:this.width,vertexFormat:d.Z.VERTEX_FORMAT,colors:[a.Z.BLUE,a.Z.BLUE],arcType:n.Z.NONE}),modelMatrix:h.Z.multiplyByUniformScale(this.modelMatrix,this.length,new h.Z),id:this.id,pickPrimitive:this});this._primitive=new f.Z({geometryInstances:[t,r,o],appearance:new d.Z,asynchronous:!1})}this._primitive.update(e)}},p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),(0,u.Z)(this)},t["Z"]=p},7976:function(e,t,r){var n=r(52200),i={NEVER:n.Z.NEVER,LESS:n.Z.LESS,EQUAL:n.Z.EQUAL,LESS_OR_EQUAL:n.Z.LEQUAL,GREATER:n.Z.GREATER,NOT_EQUAL:n.Z.NOTEQUAL,GREATER_OR_EQUAL:n.Z.GEQUAL,ALWAYS:n.Z.ALWAYS};t["Z"]=Object.freeze(i)},47056:function(e,t,r){var n=r(48243),i=r(60216),a=r(84828),o=r(82982),s=r(96037),u=r(82408),c=r(13616),h=r(91473),l=r(97264),d=r(58597),f=r(60072),p=r(8379),m=r(10667),_=r(46588),Z=r(53642),g=r(18192),v=r(10135),y=r(39774),b=r(89917);function x(){this._rs=void 0,this._sp=void 0,this._va=void 0,this._command=void 0,this._mode=void 0,this._useLogDepth=!1}var w=s.Z.supportsTypedArrays()?new Float32Array(12):[],C=new i.Z,E=new i.Z,T=new i.Z,S=new i.Z,L=new i.Z;function A(e,t){var r,n,a,o=e.radii,s=t.camera;if(s.frustum instanceof h.Z)r=i.Z.ZERO,n=s.rightWC,a=s.upWC;else{var u=s.positionWC,c=i.Z.multiplyComponents(e.oneOverRadii,u,C),l=i.Z.normalize(c,E),d=i.Z.normalize(i.Z.cross(i.Z.UNIT_Z,c,T),T),f=i.Z.normalize(i.Z.cross(l,d,S),S),p=i.Z.magnitude(c),m=Math.sqrt(p*p-1);r=i.Z.multiplyByScalar(l,1/p,C);var _=m/p;n=i.Z.multiplyByScalar(d,_,E),a=i.Z.multiplyByScalar(f,_,T)}var Z=i.Z.add(r,a,L);i.Z.subtract(Z,n,Z),i.Z.multiplyComponents(o,Z,Z),i.Z.pack(Z,w,0);var g=i.Z.subtract(r,a,L);i.Z.subtract(g,n,g),i.Z.multiplyComponents(o,g,g),i.Z.pack(g,w,3);var v=i.Z.add(r,a,L);i.Z.add(v,n,v),i.Z.multiplyComponents(o,v,v),i.Z.pack(v,w,6);var y=i.Z.subtract(r,a,L);return i.Z.add(y,n,y),i.Z.multiplyComponents(o,y,y),i.Z.pack(y,w,9),w}x.prototype.update=function(e){if(this._mode=e.mode,e.mode===b.Z.SCENE3D){var t=e.context,r=e.mapProjection.ellipsoid,s=e.useLogDepth;if((0,o.Z)(this._command)||(this._rs=m.Z.fromCache({cull:{enabled:!0},depthTest:{enabled:!0},colorMask:{red:!1,green:!1,blue:!1,alpha:!1}}),this._command=new f.Z({renderState:this._rs,boundingVolume:new n.Z(i.Z.ZERO,r.maximumRadius),pass:p.Z.OPAQUE,owner:this})),!(0,o.Z)(this._sp)||this._useLogDepth!==s){this._useLogDepth=s;var h=new Z.Z({sources:[y.Z]}),x=new Z.Z({sources:[v.Z]});if(s){var w="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n";x.sources.push(w),x.defines.push("LOG_DEPTH"),h.defines.push("LOG_DEPTH")}this._sp=_.Z.replaceCache({shaderProgram:this._sp,context:t,vertexShaderSource:h,fragmentShaderSource:x,attributeLocations:{position:0}}),this._command.shaderProgram=this._sp}var C=A(r,e);if((0,o.Z)(this._va))this._va.getAttribute(0).vertexBuffer.copyFromArrayView(C);else{var E=new u.Z({attributes:{position:new c.Z({componentDatatype:a.Z.FLOAT,componentsPerAttribute:3,values:C})},indices:[0,1,2,2,1,3],primitiveType:l.Z.TRIANGLES});this._va=g.Z.fromGeometry({context:t,geometry:E,attributeLocations:{position:0},bufferUsage:d.Z.DYNAMIC_DRAW}),this._command.vertexArray=this._va}}},x.prototype.execute=function(e,t){this._mode===b.Z.SCENE3D&&this._command.execute(e,t)},x.prototype.isDestroyed=function(){return!1},x.prototype.destroy=function(){this._sp=this._sp&&this._sp.destroy(),this._va=this._va&&this._va.destroy()},t["Z"]=x},999:function(e,t,r){var n=r(82982),i=r(60072),a=r(10667),o=r(53642);function s(){}var u=/\bgl_FragDepthEXT\b/,c=/\bdiscard\b/;function h(e,t){var r=e.shaderCache.getDerivedShaderProgram(t,"depthOnly");if(!(0,n.Z)(r)){var i,a=t._attributeLocations,s=t.fragmentShaderSource,h=!1,l=s.sources,d=l.length;for(i=0;i<d;++i)if(u.test(l[i])||c.test(l[i])){h=!0;break}var f,p=!1,m=s.defines;for(d=m.length,i=0;i<d;++i)if("LOG_DEPTH"===m[i]){p=!0;break}h||p?!h&&p&&(f="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\nvoid main() \n{ \n    gl_FragColor = vec4(1.0); \n    czm_writeLogDepth(); \n} \n",s=new o.Z({defines:["LOG_DEPTH"],sources:[f]})):(f="void main() \n{ \n    gl_FragColor = vec4(1.0); \n} \n",s=new o.Z({sources:[f]})),r=e.shaderCache.createDerivedShaderProgram(t,"depthOnly",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:s,attributeLocations:a})}return r}function l(e,t){var r=e._depthOnlyRenderStateCache,i=r[t.id];if(!(0,n.Z)(i)){var o=a.Z.getState(t);o.depthMask=!0,o.colorMask={red:!1,green:!1,blue:!1,alpha:!1},i=a.Z.fromCache(o),r[t.id]=i}return i}s.createDepthOnlyDerivedCommand=function(e,t,r,a){var o,s;return(0,n.Z)(a)||(a={}),(0,n.Z)(a.depthOnlyCommand)&&(o=a.depthOnlyCommand.shaderProgram,s=a.depthOnlyCommand.renderState),a.depthOnlyCommand=i.Z.shallowClone(t,a.depthOnlyCommand),(0,n.Z)(o)&&a.shaderProgramId===t.shaderProgram.id?(a.depthOnlyCommand.shaderProgram=o,a.depthOnlyCommand.renderState=s):(a.depthOnlyCommand.shaderProgram=h(r,t.shaderProgram),a.depthOnlyCommand.renderState=l(e,t.renderState),a.shaderProgramId=t.shaderProgram.id),a};var d=/\s+czm_writeLogDepth\(/,f=/\s+czm_vertexLogDepth\(/,p=/\s*#extension\s+GL_EXT_frag_depth\s*:\s*enable/;function m(e,t){var r=e.shaderCache.getDerivedShaderProgram(t,"logDepth");if(!(0,n.Z)(r)){var i,a,s=t._attributeLocations,u=t.vertexShaderSource.clone(),c=t.fragmentShaderSource.clone();u.defines=(0,n.Z)(u.defines)?u.defines.slice(0):[],u.defines.push("LOG_DEPTH"),c.defines=(0,n.Z)(c.defines)?c.defines.slice(0):[],c.defines.push("LOG_DEPTH");var h=!1,l=u.sources,m=l.length;for(i=0;i<m;++i)if(f.test(l[i])){h=!0;break}if(!h){for(i=0;i<m;++i)l[i]=o.Z.replaceMain(l[i],"czm_log_depth_main");a="\n\nvoid main() \n{ \n    czm_log_depth_main(); \n    czm_vertexLogDepth(); \n} \n",l.push(a)}for(l=c.sources,m=l.length,h=!1,i=0;i<m;++i)d.test(l[i])&&(h=!0);-1!==c.defines.indexOf("LOG_DEPTH_WRITE")&&(h=!0);var _=!0;for(i=0;i<m;++i)p.test(l[i])&&(_=!1);var Z="";if(_&&(Z+="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n"),!h){for(i=0;i<m;i++)l[i]=o.Z.replaceMain(l[i],"czm_log_depth_main");Z+="\nvoid main() \n{ \n    czm_log_depth_main(); \n    czm_writeLogDepth(); \n} \n"}l.push(Z),r=e.shaderCache.createDerivedShaderProgram(t,"logDepth",{vertexShaderSource:u,fragmentShaderSource:c,attributeLocations:s})}return r}function _(e,t,r){var i=e.shaderCache.getDerivedShaderProgram(t,"pick");if(!(0,n.Z)(i)){for(var a=t._attributeLocations,s=t.fragmentShaderSource,u=s.sources,c=u.length,h="void main() \n{ \n    czm_non_pick_main(); \n    if (gl_FragColor.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = "+r+"; \n} \n",l=new Array(c+1),d=0;d<c;++d)l[d]=o.Z.replaceMain(u[d],"czm_non_pick_main");l[c]=h,s=new o.Z({sources:l,defines:s.defines}),i=e.shaderCache.createDerivedShaderProgram(t,"pick",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:s,attributeLocations:a})}return i}function Z(e,t){var r=e.picking.pickRenderStateCache,i=r[t.id];if(!(0,n.Z)(i)){var o=a.Z.getState(t);o.blending.enabled=!1,o.depthMask=!0,i=a.Z.fromCache(o),r[t.id]=i}return i}function g(e,t){var r=e.shaderCache.getDerivedShaderProgram(t,"HDR");if(!(0,n.Z)(r)){var i=t._attributeLocations,a=t.vertexShaderSource.clone(),o=t.fragmentShaderSource.clone();a.defines=(0,n.Z)(a.defines)?a.defines.slice(0):[],a.defines.push("HDR"),o.defines=(0,n.Z)(o.defines)?o.defines.slice(0):[],o.defines.push("HDR"),r=e.shaderCache.createDerivedShaderProgram(t,"HDR",{vertexShaderSource:a,fragmentShaderSource:o,attributeLocations:i})}return r}s.createLogDepthCommand=function(e,t,r){var a;return(0,n.Z)(r)||(r={}),(0,n.Z)(r.command)&&(a=r.command.shaderProgram),r.command=i.Z.shallowClone(e,r.command),(0,n.Z)(a)&&r.shaderProgramId===e.shaderProgram.id?r.command.shaderProgram=a:(r.command.shaderProgram=m(t,e.shaderProgram),r.shaderProgramId=e.shaderProgram.id),r},s.createPickDerivedCommand=function(e,t,r,a){var o,s;return(0,n.Z)(a)||(a={}),(0,n.Z)(a.pickCommand)&&(o=a.pickCommand.shaderProgram,s=a.pickCommand.renderState),a.pickCommand=i.Z.shallowClone(t,a.pickCommand),(0,n.Z)(o)&&a.shaderProgramId===t.shaderProgram.id?(a.pickCommand.shaderProgram=o,a.pickCommand.renderState=s):(a.pickCommand.shaderProgram=_(r,t.shaderProgram,t.pickId),a.pickCommand.renderState=Z(e,t.renderState),a.shaderProgramId=t.shaderProgram.id),a},s.createHdrCommand=function(e,t,r){var a;return(0,n.Z)(r)||(r={}),(0,n.Z)(r.command)&&(a=r.command.shaderProgram),r.command=i.Z.shallowClone(e,r.command),(0,n.Z)(a)&&r.shaderProgramId===e.shaderProgram.id?r.command.shaderProgram=a:(r.command.shaderProgram=g(t,e.shaderProgram),r.shaderProgramId=e.shaderProgram.id),r},t["Z"]=s},52440:function(e,t,r){var n=r(82982),i=r(86511),a=r(12572),o=r(99417),s=r(68201),u=r(87811);function c(e){if(!(0,n.Z)(e))throw new a.Z("scene is required.");this._scene=e,this._lastAlpha=void 0,this._lastBeta=void 0,this._lastGamma=void 0,this._alpha=void 0,this._beta=void 0,this._gamma=void 0;var t=this;function r(e){var r=e.alpha;if(!(0,n.Z)(r))return t._alpha=void 0,t._beta=void 0,void(t._gamma=void 0);t._alpha=o.Z.toRadians(r),t._beta=o.Z.toRadians(e.beta),t._gamma=o.Z.toRadians(e.gamma)}window.addEventListener("deviceorientation",r,!1),this._removeListener=function(){window.removeEventListener("deviceorientation",r,!1)}}var h=new u.Z,l=new u.Z,d=new s.Z;function f(e,t,r,n){var i=e.direction,a=e.right,o=e.up,c=u.Z.fromAxisAngle(i,r,l),f=u.Z.fromAxisAngle(a,n,h),p=u.Z.multiply(f,c,f),m=u.Z.fromAxisAngle(o,t,l);u.Z.multiply(m,p,p);var _=s.Z.fromQuaternion(p,d);s.Z.multiplyByVector(_,a,a),s.Z.multiplyByVector(_,o,o),s.Z.multiplyByVector(_,i,i)}c.prototype.update=function(){if((0,n.Z)(this._alpha)){(0,n.Z)(this._lastAlpha)||(this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma);var e=this._lastAlpha-this._alpha,t=this._lastBeta-this._beta,r=this._lastGamma-this._gamma;f(this._scene.camera,-e,t,r),this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma}},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this._removeListener(),(0,i.Z)(this)},t["Z"]=c},15646:function(e,t,r){r(60216),r(66553),r(59947),r(62200),r(12572)},46707:function(e,t,r){var n,i=r(82982);function a(e){}a.prototype.isReady=function(){return!0},a.prototype.shouldDiscardImage=function(e){return a.EMPTY_IMAGE===e},Object.defineProperties(a,{EMPTY_IMAGE:{get:function(){return(0,i.Z)(n)||(n=new Image,n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),n}}}),t["Z"]=a},64158:function(e,t,r){var n=r(62200),i=r(82982),a=r(12572),o=r(81544),s=r(68985);function u(e){if(e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),!(0,i.Z)(e.missingImageUrl))throw new a.Z("options.missingImageUrl is required.");if(!(0,i.Z)(e.pixelsToCheck))throw new a.Z("options.pixelsToCheck is required.");this._pixelsToCheck=e.pixelsToCheck,this._missingImagePixels=void 0,this._missingImageByteLength=void 0,this._isReady=!1;var t=s.Z.createIfNeeded(e.missingImageUrl),r=this;function u(t){(0,i.Z)(t.blob)&&(r._missingImageByteLength=t.blob.size);var n=(0,o.Z)(t);if(e.disableCheckIfAllPixelsAreTransparent){for(var a=!0,s=t.width,u=e.pixelsToCheck,c=0,h=u.length;a&&c<h;++c){var l=u[c],d=4*l.x+l.y*s,f=n[d+3];f>0&&(a=!1)}a&&(n=void 0)}r._missingImagePixels=n,r._isReady=!0}function c(){r._missingImagePixels=void 0,r._isReady=!0}t.fetchImage({preferBlob:!0,preferImageBitmap:!0,flipY:!0}).then(u).otherwise(c)}u.prototype.isReady=function(){return this._isReady},u.prototype.shouldDiscardImage=function(e){if(!this._isReady)throw new a.Z("shouldDiscardImage must not be called before the discard policy is ready.");var t=this._pixelsToCheck,r=this._missingImagePixels;if(!(0,i.Z)(r))return!1;if((0,i.Z)(e.blob)&&e.blob.size!==this._missingImageByteLength)return!1;for(var n=(0,o.Z)(e),s=e.width,u=0,c=t.length;u<c;++u)for(var h=t[u],l=4*h.x+h.y*s,d=0;d<4;++d){var f=l+d;if(n[f]!==r[f])return!1}return!0},t["Z"]=u},8056:function(e,t,r){var n=r(68591),i=r(84828),a=r(82982),o=r(96037),s=r(2819),u=r(56629),c=r(13222);function h(){}function l(e,t){var r="runtime."+Object.keys(e.createdBufferViews).length,n=e.buffers,i=Object.keys(n).length;return n[i]=t,e.createdBufferViews[r]={buffer:i,byteOffset:0,byteLength:t.byteLength},r}function d(e,t,r){var n=t._loadResources,i=l(n,e);return n.vertexBuffersToCreate.enqueue(i),i}function f(e,t,r){var n=e.typedArray,a=t._loadResources,o=l(a,n);return a.indexBuffersToCreate.enqueue({id:o,componentType:i.Z.fromTypedArray(n)}),{bufferViewId:o,numberOfIndices:e.numberOfIndices}}function p(e,t,r,n){if(h._taskProcessorReady){var i=r.primitivesToDecode.peek();if((0,a.Z)(i)){var o=e.scheduleTask(i,[i.array.buffer]);if((0,a.Z)(o))return r.activeDecodingTasks++,r.primitivesToDecode.dequeue(),o.then((function(e){r.activeDecodingTasks--;var a=f(e.indexArray,t,n),o={},s=e.attributeData;for(var u in s)if(s.hasOwnProperty(u)){var c=s[u],h=c.array,l=d(h,t,n),p=c.data;p.bufferView=l,o[u]=p}t._decodedData[i.mesh+".primitive."+i.primitive]={bufferView:a.bufferViewId,numberOfIndices:a.numberOfIndices,attributes:o}}))}}}h._maxDecodingConcurrency=Math.max(o.Z.hardwareConcurrency-1,1),h._decoderTaskProcessor=void 0,h._taskProcessorReady=!1,h._getDecoderTaskProcessor=function(){if(!(0,a.Z)(h._decoderTaskProcessor)){var e=new s.Z("decodeDraco",h._maxDecodingConcurrency);e.initWebAssemblyModule({modulePath:"ThirdParty/Workers/draco_wasm_wrapper.js",wasmBinaryFile:"ThirdParty/draco_decoder.wasm"}).then((function(){h._taskProcessorReady=!0})),h._decoderTaskProcessor=e}return h._decoderTaskProcessor},h.hasExtension=function(e){return(0,a.Z)(e.extensionsRequired.KHR_draco_mesh_compression)||(0,a.Z)(e.extensionsUsed.KHR_draco_mesh_compression)},h._decodedModelResourceCache=void 0,h.parse=function(e,t){if(h.hasExtension(e)){var r=e._loadResources,i=e.cacheKey;if((0,a.Z)(i)){(0,a.Z)(h._decodedModelResourceCache)||((0,a.Z)(t.cache.modelDecodingCache)||(t.cache.modelDecodingCache={}),h._decodedModelResourceCache=t.cache.modelDecodingCache);var o=h._decodedModelResourceCache[i];if((0,a.Z)(o))return o.count++,void(r.pendingDecodingCache=!0)}var s=e._dequantizeInShader,c=e.gltf;u.Z.mesh(c,(function(e,t){u.Z.meshPrimitive(e,(function(e,i){if((0,a.Z)(e.extensions)){var o=e.extensions.KHR_draco_mesh_compression;if((0,a.Z)(o)){var u=c.bufferViews[o.bufferView],h=(0,n.Z)(c.buffers[u.buffer].extras._pipeline.source,u.byteOffset,u.byteOffset+u.byteLength);r.primitivesToDecode.enqueue({mesh:t,primitive:i,array:h,bufferView:u,compressedAttributes:o.attributes,dequantizeInShader:s})}}}))}))}},h.decodeModel=function(e,t){if(!h.hasExtension(e))return c.Z.resolve();var r=e._loadResources,n=e.cacheKey;if((0,a.Z)(n)&&(0,a.Z)(h._decodedModelResourceCache)){var i=h._decodedModelResourceCache[n];if((0,a.Z)(i)&&r.pendingDecodingCache)return(0,c.Z)(i.ready,(function(){e._decodedData=i.data,r.pendingDecodingCache=!1}));h._decodedModelResourceCache[n]={ready:!1,count:1,data:void 0}}if(0===r.primitivesToDecode.length)return c.Z.resolve();var o=h._getDecoderTaskProcessor(),s=[],u=p(o,e,r,t);while((0,a.Z)(u))s.push(u),u=p(o,e,r,t);return c.Z.all(s)},h.decodePointCloud=function(e){var t=h._getDecoderTaskProcessor();if(h._taskProcessorReady)return t.scheduleTask(e,[e.buffer.buffer])},h.decodeBufferView=function(e){var t=h._getDecoderTaskProcessor();if(h._taskProcessorReady)return t.scheduleTask(e,[e.array.buffer])},h.cacheDataForModel=function(e){var t=e.cacheKey;if((0,a.Z)(t)&&(0,a.Z)(h._decodedModelResourceCache)){var r=h._decodedModelResourceCache[t];(0,a.Z)(r)&&(r.ready=!0,r.data=e._decodedData)}},h.destroyCachedDataForModel=function(e){var t=e.cacheKey;if((0,a.Z)(t)&&(0,a.Z)(h._decodedModelResourceCache)){var r=h._decodedModelResourceCache[t];(0,a.Z)(r)&&0===--r.count&&delete h._decodedModelResourceCache[t]}},t["Z"]=h},64336:function(e,t,r){var n=r(48243),i=r(20305),a=r(60216),o=r(8182),s=r(62200),u=r(82982),c=r(86511),h=r(12572),l=r(72248),d=r(67252),f=r(58597),p=r(60072),m=r(8379),_=r(10667),Z=r(46588),g=r(53642),v=r(18192),y=r(90565),b=r(26440),x=r(13633),w=r(71593),C=r(69592),E=r(89917),T={position:0};function S(e){e=(0,s.Z)(e,s.Z.EMPTY_OBJECT),this.center=a.Z.clone((0,s.Z)(e.center,a.Z.ZERO)),this._center=new a.Z,this.radii=a.Z.clone(e.radii),this._radii=new a.Z,this._oneOverEllipsoidRadiiSquared=new a.Z,this._boundingSphere=new n.Z,this.modelMatrix=l.Z.clone((0,s.Z)(e.modelMatrix,l.Z.IDENTITY)),this._modelMatrix=new l.Z,this._computedModelMatrix=new l.Z,this.show=(0,s.Z)(e.show,!0),this.material=(0,s.Z)(e.material,C.Z.fromType(C.Z.ColorType)),this._material=void 0,this._translucent=void 0,this.id=e.id,this._id=void 0,this.debugShowBoundingVolume=(0,s.Z)(e.debugShowBoundingVolume,!1),this.onlySunLighting=(0,s.Z)(e.onlySunLighting,!1),this._onlySunLighting=!1,this._depthTestEnabled=(0,s.Z)(e.depthTestEnabled,!0),this._useLogDepth=!1,this._sp=void 0,this._rs=void 0,this._va=void 0,this._pickSP=void 0,this._pickId=void 0,this._colorCommand=new p.Z({owner:(0,s.Z)(e._owner,this)}),this._pickCommand=new p.Z({owner:(0,s.Z)(e._owner,this),pickOnly:!0});var t=this;this._uniforms={u_radii:function(){return t.radii},u_oneOverEllipsoidRadiiSquared:function(){return t._oneOverEllipsoidRadiiSquared}},this._pickUniforms={czm_pickColor:function(){return t._pickId.color}}}function L(e){var t=e.cache.ellipsoidPrimitive_vertexArray;if((0,u.Z)(t))return t;var r=i.Z.createGeometry(i.Z.fromDimensions({dimensions:new a.Z(2,2,2),vertexFormat:d.Z.POSITION_ONLY}));return t=v.Z.fromGeometry({context:e,geometry:r,attributeLocations:T,bufferUsage:f.Z.STATIC_DRAW,interleave:!0}),e.cache.ellipsoidPrimitive_vertexArray=t,t}var A="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n";S.prototype.update=function(e){if(this.show&&e.mode===E.Z.SCENE3D&&(0,u.Z)(this.center)&&(0,u.Z)(this.radii)){if(!(0,u.Z)(this.material))throw new h.Z("this.material must be defined.");var t=e.context,r=this.material.isTranslucent(),i=this._translucent!==r;(0,u.Z)(this._rs)&&!i||(this._translucent=r,this._rs=_.Z.fromCache({cull:{enabled:!0,face:w.Z.FRONT},depthTest:{enabled:this._depthTestEnabled},depthMask:!r&&t.fragmentDepth,blending:r?x.Z.ALPHA_BLEND:void 0})),(0,u.Z)(this._va)||(this._va=L(t));var s=!1,c=this.radii;if(!a.Z.equals(this._radii,c)){a.Z.clone(c,this._radii);var d=this._oneOverEllipsoidRadiiSquared;d.x=1/(c.x*c.x),d.y=1/(c.y*c.y),d.z=1/(c.z*c.z),s=!0}l.Z.equals(this.modelMatrix,this._modelMatrix)&&a.Z.equals(this.center,this._center)||(l.Z.clone(this.modelMatrix,this._modelMatrix),a.Z.clone(this.center,this._center),l.Z.multiplyByTranslation(this.modelMatrix,this.center,this._computedModelMatrix),s=!0),s&&(a.Z.clone(a.Z.ZERO,this._boundingSphere.center),this._boundingSphere.radius=a.Z.maximumComponent(c),n.Z.transform(this._boundingSphere,this._computedModelMatrix,this._boundingSphere));var f=this._material!==this.material;this._material=this.material,this._material.update(t);var p=this.onlySunLighting!==this._onlySunLighting;this._onlySunLighting=this.onlySunLighting;var v=e.useLogDepth,C=this._useLogDepth!==v;this._useLogDepth=v;var S,R,I=this._colorCommand;(f||p||i||C)&&(S=new g.Z({sources:[b.Z]}),R=new g.Z({sources:[this.material.shaderSource,y.Z]}),this.onlySunLighting&&R.defines.push("ONLY_SUN_LIGHTING"),!r&&t.fragmentDepth&&R.defines.push("WRITE_DEPTH"),this._useLogDepth&&(S.defines.push("LOG_DEPTH"),R.defines.push("LOG_DEPTH"),R.sources.push(A)),this._sp=Z.Z.replaceCache({context:t,shaderProgram:this._sp,vertexShaderSource:S,fragmentShaderSource:R,attributeLocations:T}),I.vertexArray=this._va,I.renderState=this._rs,I.shaderProgram=this._sp,I.uniformMap=(0,o.Z)(this._uniforms,this.material._uniforms),I.executeInClosestFrustum=r);var O=e.commandList,N=e.passes;if(N.render&&(I.boundingVolume=this._boundingSphere,I.debugShowBoundingVolume=this.debugShowBoundingVolume,I.modelMatrix=this._computedModelMatrix,I.pass=r?m.Z.TRANSLUCENT:m.Z.OPAQUE,O.push(I)),N.pick){var P=this._pickCommand;(0,u.Z)(this._pickId)&&this._id===this.id||(this._id=this.id,this._pickId=this._pickId&&this._pickId.destroy(),this._pickId=t.createPickId({primitive:this,id:this.id})),(f||p||!(0,u.Z)(this._pickSP)||C)&&(S=new g.Z({sources:[b.Z]}),R=new g.Z({sources:[this.material.shaderSource,y.Z],pickColorQualifier:"uniform"}),this.onlySunLighting&&R.defines.push("ONLY_SUN_LIGHTING"),!r&&t.fragmentDepth&&R.defines.push("WRITE_DEPTH"),this._useLogDepth&&(S.defines.push("LOG_DEPTH"),R.defines.push("LOG_DEPTH"),R.sources.push(A)),this._pickSP=Z.Z.replaceCache({context:t,shaderProgram:this._pickSP,vertexShaderSource:S,fragmentShaderSource:R,attributeLocations:T}),P.vertexArray=this._va,P.renderState=this._rs,P.shaderProgram=this._pickSP,P.uniformMap=(0,o.Z)((0,o.Z)(this._uniforms,this._pickUniforms),this.material._uniforms),P.executeInClosestFrustum=r),P.boundingVolume=this._boundingSphere,P.modelMatrix=this._computedModelMatrix,P.pass=r?m.Z.TRANSLUCENT:m.Z.OPAQUE,O.push(P)}}},S.prototype.isDestroyed=function(){return!1},S.prototype.destroy=function(){return this._sp=this._sp&&this._sp.destroy(),this._pickSP=this._pickSP&&this._pickSP.destroy(),this._pickId=this._pickId&&this._pickId.destroy(),(0,c.Z)(this)},t["Z"]=S},68516:function(e,t,r){var n=r(62200),i=r(82982),a=r(67252),o=r(63773),s=r(75350),u=r(12804),c=r(69592);function h(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=(0,n.Z)(e.translucent,!0),r=(0,n.Z)(e.aboveGround,!1);this.material=(0,i.Z)(e.material)?e.material:c.Z.fromType(c.Z.ColorType),this.translucent=(0,n.Z)(e.translucent,!0),this._vertexShaderSource=(0,n.Z)(e.vertexShaderSource,s.Z),this._fragmentShaderSource=(0,n.Z)(e.fragmentShaderSource,o.Z),this._renderState=u.Z.getDefaultRenderState(t,!r,e.renderState),this._closed=!1,this._flat=(0,n.Z)(e.flat,!1),this._faceForward=(0,n.Z)(e.faceForward,r),this._aboveGround=r}Object.defineProperties(h.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return h.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),h.VERTEX_FORMAT=a.Z.POSITION_AND_ST,h.prototype.getFragmentShaderSource=u.Z.prototype.getFragmentShaderSource,h.prototype.isTranslucent=u.Z.prototype.isTranslucent,h.prototype.getRenderState=u.Z.prototype.getRenderState},67334:function(e,t,r){var n=r(86511),i=r(12572);function a(e,t){this._tileset=e,this._tile=t,this.featurePropertiesDirty=!1}Object.defineProperties(a.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){}},batchTable:{get:function(){}},groupMetadata:{get:function(){},set:function(e){throw new i.Z("Empty3DTileContent cannot have group metadata")}}}),a.prototype.hasProperty=function(e,t){return!1},a.prototype.getFeature=function(e){},a.prototype.applyDebugSettings=function(e,t){},a.prototype.applyStyle=function(e){},a.prototype.update=function(e,t){},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){return(0,n.Z)(this)},t["Z"]=a},19427:function(e,t,r){var n=r(60838),i=r(60216),a=r(63367),o=r(66553),s=r(59947),u=r(82982),c=r(12572),h=r(99417),l=r(9407),d=r(62503),f=r(2417);function p(e,t){var r;o.Z.typeOf.string("expression",e),this._expression=e,e=k(e,t),e=z(F(e)),d.Z.addBinaryOp("=~",0),d.Z.addBinaryOp("!~",0);try{r=(0,d.Z)(e)}catch(n){throw new l.Z(n)}this._runtimeAst=J(this,r)}Object.defineProperties(p.prototype,{expression:{get:function(){return this._expression}}});var m={arrayIndex:0,arrayArray:[[]],cartesian2Index:0,cartesian3Index:0,cartesian4Index:0,cartesian2Array:[new n.Z],cartesian3Array:[new i.Z],cartesian4Array:[new a.Z],reset:function(){this.arrayIndex=0,this.cartesian2Index=0,this.cartesian3Index=0,this.cartesian4Index=0},getArray:function(){this.arrayIndex>=this.arrayArray.length&&this.arrayArray.push([]);var e=this.arrayArray[this.arrayIndex++];return e.length=0,e},getCartesian2:function(){return this.cartesian2Index>=this.cartesian2Array.length&&this.cartesian2Array.push(new n.Z),this.cartesian2Array[this.cartesian2Index++]},getCartesian3:function(){return this.cartesian3Index>=this.cartesian3Array.length&&this.cartesian3Array.push(new i.Z),this.cartesian3Array[this.cartesian3Index++]},getCartesian4:function(){return this.cartesian4Index>=this.cartesian4Array.length&&this.cartesian4Array.push(new a.Z),this.cartesian4Array[this.cartesian4Index++]}};p.prototype.evaluate=function(e,t){m.reset();var r=this._runtimeAst.evaluate(e);return t instanceof s.Z&&r instanceof a.Z?s.Z.fromCartesian4(r,t):r instanceof n.Z||r instanceof i.Z||r instanceof a.Z?r.clone(t):r},p.prototype.evaluateColor=function(e,t){m.reset();var r=this._runtimeAst.evaluate(e);return s.Z.fromCartesian4(r,t)},p.prototype.getShaderFunction=function(e,t,r,n){var i=this.getShaderExpression(t,r);return i=n+" "+e+"\n{\n    return "+i+";\n}\n",i},p.prototype.getShaderExpression=function(e,t){return this._runtimeAst.getShaderExpression(e,t)},p.prototype.getVariables=function(){var e=[];return this._runtimeAst.getVariables(e),e=e.filter((function(e,t,r){return r.indexOf(e)===t})),e};var _=["!","-","+"],Z=["+","-","*","/","%","===","!==",">",">=","<","<=","&&","||","!~","=~"],g=/\${(.*?)}/g,v=/\\/g,y="@#%",b=/@#%/g,x=new s.Z,w={abs:A(Math.abs),sqrt:A(Math.sqrt),cos:A(Math.cos),sin:A(Math.sin),tan:A(Math.tan),acos:A(Math.acos),asin:A(Math.asin),atan:A(Math.atan),radians:A(h.Z.toRadians),degrees:A(h.Z.toDegrees),sign:A(h.Z.sign),floor:A(Math.floor),ceil:A(Math.ceil),round:A(Math.round),exp:A(Math.exp),exp2:A(S),log:A(Math.log),log2:A(L),fract:A(T),length:O,normalize:N},C={atan2:R(Math.atan2,!1),pow:R(Math.pow,!1),min:R(Math.min,!0),max:R(Math.max,!0),distance:P,dot:M,cross:D},E={clamp:I(h.Z.clamp,!0),mix:I(h.Z.lerp,!0)};function T(e){return e-Math.floor(e)}function S(e){return Math.pow(2,e)}function L(e){return h.Z.log2(e)}function A(e){return function(t,r){if("number"===typeof r)return e(r);if(r instanceof n.Z)return n.Z.fromElements(e(r.x),e(r.y),m.getCartesian2());if(r instanceof i.Z)return i.Z.fromElements(e(r.x),e(r.y),e(r.z),m.getCartesian3());if(r instanceof a.Z)return a.Z.fromElements(e(r.x),e(r.y),e(r.z),e(r.w),m.getCartesian4());throw new l.Z('Function "'+t+'" requires a vector or number argument. Argument is '+r+".")}}function R(e,t){return function(r,o,s){if(t&&"number"===typeof s){if("number"===typeof o)return e(o,s);if(o instanceof n.Z)return n.Z.fromElements(e(o.x,s),e(o.y,s),m.getCartesian2());if(o instanceof i.Z)return i.Z.fromElements(e(o.x,s),e(o.y,s),e(o.z,s),m.getCartesian3());if(o instanceof a.Z)return a.Z.fromElements(e(o.x,s),e(o.y,s),e(o.z,s),e(o.w,s),m.getCartesian4())}if("number"===typeof o&&"number"===typeof s)return e(o,s);if(o instanceof n.Z&&s instanceof n.Z)return n.Z.fromElements(e(o.x,s.x),e(o.y,s.y),m.getCartesian2());if(o instanceof i.Z&&s instanceof i.Z)return i.Z.fromElements(e(o.x,s.x),e(o.y,s.y),e(o.z,s.z),m.getCartesian3());if(o instanceof a.Z&&s instanceof a.Z)return a.Z.fromElements(e(o.x,s.x),e(o.y,s.y),e(o.z,s.z),e(o.w,s.w),m.getCartesian4());throw new l.Z('Function "'+r+'" requires vector or number arguments of matching types. Arguments are '+o+" and "+s+".")}}function I(e,t){return function(r,o,s,u){if(t&&"number"===typeof u){if("number"===typeof o&&"number"===typeof s)return e(o,s,u);if(o instanceof n.Z&&s instanceof n.Z)return n.Z.fromElements(e(o.x,s.x,u),e(o.y,s.y,u),m.getCartesian2());if(o instanceof i.Z&&s instanceof i.Z)return i.Z.fromElements(e(o.x,s.x,u),e(o.y,s.y,u),e(o.z,s.z,u),m.getCartesian3());if(o instanceof a.Z&&s instanceof a.Z)return a.Z.fromElements(e(o.x,s.x,u),e(o.y,s.y,u),e(o.z,s.z,u),e(o.w,s.w,u),m.getCartesian4())}if("number"===typeof o&&"number"===typeof s&&"number"===typeof u)return e(o,s,u);if(o instanceof n.Z&&s instanceof n.Z&&u instanceof n.Z)return n.Z.fromElements(e(o.x,s.x,u.x),e(o.y,s.y,u.y),m.getCartesian2());if(o instanceof i.Z&&s instanceof i.Z&&u instanceof i.Z)return i.Z.fromElements(e(o.x,s.x,u.x),e(o.y,s.y,u.y),e(o.z,s.z,u.z),m.getCartesian3());if(o instanceof a.Z&&s instanceof a.Z&&u instanceof a.Z)return a.Z.fromElements(e(o.x,s.x,u.x),e(o.y,s.y,u.y),e(o.z,s.z,u.z),e(o.w,s.w,u.w),m.getCartesian4());throw new l.Z('Function "'+r+'" requires vector or number arguments of matching types. Arguments are '+o+", "+s+", and "+u+".")}}function O(e,t){if("number"===typeof t)return Math.abs(t);if(t instanceof n.Z)return n.Z.magnitude(t);if(t instanceof i.Z)return i.Z.magnitude(t);if(t instanceof a.Z)return a.Z.magnitude(t);throw new l.Z('Function "'+e+'" requires a vector or number argument. Argument is '+t+".")}function N(e,t){if("number"===typeof t)return 1;if(t instanceof n.Z)return n.Z.normalize(t,m.getCartesian2());if(t instanceof i.Z)return i.Z.normalize(t,m.getCartesian3());if(t instanceof a.Z)return a.Z.normalize(t,m.getCartesian4());throw new l.Z('Function "'+e+'" requires a vector or number argument. Argument is '+t+".")}function P(e,t,r){if("number"===typeof t&&"number"===typeof r)return Math.abs(t-r);if(t instanceof n.Z&&r instanceof n.Z)return n.Z.distance(t,r);if(t instanceof i.Z&&r instanceof i.Z)return i.Z.distance(t,r);if(t instanceof a.Z&&r instanceof a.Z)return a.Z.distance(t,r);throw new l.Z('Function "'+e+'" requires vector or number arguments of matching types. Arguments are '+t+" and "+r+".")}function M(e,t,r){if("number"===typeof t&&"number"===typeof r)return t*r;if(t instanceof n.Z&&r instanceof n.Z)return n.Z.dot(t,r);if(t instanceof i.Z&&r instanceof i.Z)return i.Z.dot(t,r);if(t instanceof a.Z&&r instanceof a.Z)return a.Z.dot(t,r);throw new l.Z('Function "'+e+'" requires vector or number arguments of matching types. Arguments are '+t+" and "+r+".")}function D(e,t,r){if(t instanceof i.Z&&r instanceof i.Z)return i.Z.cross(t,r,m.getCartesian3());throw new l.Z('Function "'+e+'" requires vec3 arguments. Arguments are '+t+" and "+r+".")}function B(e,t,r,n,i){this._type=e,this._value=t,this._left=r,this._right=n,this._test=i,this.evaluate=void 0,$(this)}function k(e,t){if(!(0,u.Z)(t))return e;for(var r in t)if(t.hasOwnProperty(r)){var n=new RegExp("\\$\\{"+r+"\\}","g"),i="("+t[r]+")";(0,u.Z)(i)&&(e=e.replace(n,i))}return e}function F(e){return e.replace(v,y)}function U(e){return e.replace(b,"\\")}function z(e){var t=e,r="",n=t.indexOf("${");while(n>=0){var i,a=t.indexOf("'"),o=t.indexOf('"');if(a>=0&&a<n)i=t.indexOf("'",a+1),r+=t.substr(0,i+1),t=t.substr(i+1),n=t.indexOf("${");else if(o>=0&&o<n)i=t.indexOf('"',o+1),r+=t.substr(0,i+1),t=t.substr(i+1),n=t.indexOf("${");else{r+=t.substr(0,n);var s=t.indexOf("}");if(s<0)throw new l.Z("Unmatched {.");r+="czm_"+t.substr(n+2,s-(n+2)),t=t.substr(s+1),n=t.indexOf("${")}}return r+=t,r}function G(e){var t=typeof e.value;return null===e.value?new B(f.Z.LITERAL_NULL,null):"boolean"===t?new B(f.Z.LITERAL_BOOLEAN,e.value):"number"===t?new B(f.Z.LITERAL_NUMBER,e.value):"string"===t?e.value.indexOf("${")>=0?new B(f.Z.VARIABLE_IN_STRING,e.value):new B(f.Z.LITERAL_STRING,U(e.value)):void 0}function V(e,t){var r,n,i,a,o=t.arguments,s=o.length;if("MemberExpression"===t.callee.type){r=t.callee.property.name;var c=t.callee.object;if("test"===r||"exec"===r){if("regExp"!==c.callee.name)throw new l.Z(r+" is not a function.");return 0===s?"test"===r?new B(f.Z.LITERAL_BOOLEAN,!1):new B(f.Z.LITERAL_NULL,null):(i=J(e,c),a=J(e,o[0]),new B(f.Z.FUNCTION_CALL,r,i,a))}if("toString"===r)return n=J(e,c),new B(f.Z.FUNCTION_CALL,r,n);throw new l.Z('Unexpected function call "'+r+'".')}if(r=t.callee.name,"color"===r){if(0===s)return new B(f.Z.LITERAL_COLOR,r);if(n=J(e,o[0]),(0,u.Z)(o[1])){var h=J(e,o[1]);return new B(f.Z.LITERAL_COLOR,r,[n,h])}return new B(f.Z.LITERAL_COLOR,r,[n])}if("rgb"===r||"hsl"===r){if(s<3)throw new l.Z(r+" requires three arguments.");return n=[J(e,o[0]),J(e,o[1]),J(e,o[2])],new B(f.Z.LITERAL_COLOR,r,n)}if("rgba"===r||"hsla"===r){if(s<4)throw new l.Z(r+" requires four arguments.");return n=[J(e,o[0]),J(e,o[1]),J(e,o[2]),J(e,o[3])],new B(f.Z.LITERAL_COLOR,r,n)}if("vec2"===r||"vec3"===r||"vec4"===r){n=new Array(s);for(var d=0;d<s;++d)n[d]=J(e,o[d]);return new B(f.Z.LITERAL_VECTOR,r,n)}if("isNaN"===r||"isFinite"===r)return 0===s?new B(f.Z.LITERAL_BOOLEAN,"isNaN"===r):(n=J(e,o[0]),new B(f.Z.UNARY,r,n));if("isExactClass"===r||"isClass"===r){if(s<1||s>1)throw new l.Z(r+" requires exactly one argument.");return n=J(e,o[0]),new B(f.Z.UNARY,r,n)}if("getExactClassName"===r){if(s>0)throw new l.Z(r+" does not take any argument.");return new B(f.Z.UNARY,r)}if((0,u.Z)(w[r])){if(1!==s)throw new l.Z(r+" requires exactly one argument.");return n=J(e,o[0]),new B(f.Z.UNARY,r,n)}if((0,u.Z)(C[r])){if(2!==s)throw new l.Z(r+" requires exactly two arguments.");return i=J(e,o[0]),a=J(e,o[1]),new B(f.Z.BINARY,r,i,a)}if((0,u.Z)(E[r])){if(3!==s)throw new l.Z(r+" requires exactly three arguments.");i=J(e,o[0]),a=J(e,o[1]);var p=J(e,o[2]);return new B(f.Z.TERNARY,r,i,a,p)}if("Boolean"===r)return 0===s?new B(f.Z.LITERAL_BOOLEAN,!1):(n=J(e,o[0]),new B(f.Z.UNARY,r,n));if("Number"===r)return 0===s?new B(f.Z.LITERAL_NUMBER,0):(n=J(e,o[0]),new B(f.Z.UNARY,r,n));if("String"===r)return 0===s?new B(f.Z.LITERAL_STRING,""):(n=J(e,o[0]),new B(f.Z.UNARY,r,n));if("regExp"===r)return q(e,t);throw new l.Z('Unexpected function call "'+r+'".')}function q(e,t){var r=t.arguments;if(0===r.length)return new B(f.Z.LITERAL_REGEX,new RegExp);var n,i=J(e,r[0]);if(r.length>1){var a=J(e,r[1]);if(W(i)&&W(a)){try{n=new RegExp(U(String(i._value)),a._value)}catch(o){throw new l.Z(o)}return new B(f.Z.LITERAL_REGEX,n)}return new B(f.Z.REGEX,i,a)}if(W(i)){try{n=new RegExp(U(String(i._value)))}catch(o){throw new l.Z(o)}return new B(f.Z.LITERAL_REGEX,n)}return new B(f.Z.REGEX,i)}function H(e){if(Q(e.name)){var t=K(e.name);return"tiles3d_"===t.substr(0,8)?new B(f.Z.BUILTIN_VARIABLE,t):new B(f.Z.VARIABLE,t)}if("NaN"===e.name)return new B(f.Z.LITERAL_NUMBER,NaN);if("Infinity"===e.name)return new B(f.Z.LITERAL_NUMBER,1/0);if("undefined"===e.name)return new B(f.Z.LITERAL_UNDEFINED,void 0);throw new l.Z(e.name+" is not defined.")}function Y(e){var t=e.property.name;return"PI"===t?new B(f.Z.LITERAL_NUMBER,Math.PI):"E"===t?new B(f.Z.LITERAL_NUMBER,Math.E):void 0}function j(e){var t=e.property.name;if("POSITIVE_INFINITY"===t)return new B(f.Z.LITERAL_NUMBER,Number.POSITIVE_INFINITY)}function X(e,t){if("Math"===t.object.name)return Y(t);if("Number"===t.object.name)return j(t);var r,n=J(e,t.object);return t.computed?(r=J(e,t.property),new B(f.Z.MEMBER,"brackets",n,r)):(r=new B(f.Z.LITERAL_STRING,t.property.name),new B(f.Z.MEMBER,"dot",n,r))}function W(e){return e._type>=f.Z.LITERAL_NULL}function Q(e){return"czm_"===e.substr(0,4)}function K(e){return e.substr(4)}function J(e,t){var r,n,i,a;if("Literal"===t.type)r=G(t);else if("CallExpression"===t.type)r=V(e,t);else if("Identifier"===t.type)r=H(t);else if("UnaryExpression"===t.type){n=t.operator;var o=J(e,t.argument);if(!(_.indexOf(n)>-1))throw new l.Z('Unexpected operator "'+n+'".');r=new B(f.Z.UNARY,n,o)}else if("BinaryExpression"===t.type){if(n=t.operator,i=J(e,t.left),a=J(e,t.right),!(Z.indexOf(n)>-1))throw new l.Z('Unexpected operator "'+n+'".');r=new B(f.Z.BINARY,n,i,a)}else if("LogicalExpression"===t.type)n=t.operator,i=J(e,t.left),a=J(e,t.right),Z.indexOf(n)>-1&&(r=new B(f.Z.BINARY,n,i,a));else if("ConditionalExpression"===t.type){var s=J(e,t.test);i=J(e,t.consequent),a=J(e,t.alternate),r=new B(f.Z.CONDITIONAL,"?",i,a,s)}else if("MemberExpression"===t.type)r=X(e,t);else{if("ArrayExpression"!==t.type)throw"Compound"===t.type?new l.Z("Provide exactly one expression."):new l.Z("Cannot parse expression.");for(var u=[],c=0;c<t.elements.length;c++)u[c]=J(e,t.elements[c]);r=new B(f.Z.ARRAY,u)}return r}function $(e){e._type===f.Z.CONDITIONAL?e.evaluate=e._evaluateConditional:e._type===f.Z.FUNCTION_CALL?"test"===e._value?e.evaluate=e._evaluateRegExpTest:"exec"===e._value?e.evaluate=e._evaluateRegExpExec:"toString"===e._value&&(e.evaluate=e._evaluateToString):e._type===f.Z.UNARY?"!"===e._value?e.evaluate=e._evaluateNot:"-"===e._value?e.evaluate=e._evaluateNegative:"+"===e._value?e.evaluate=e._evaluatePositive:"isNaN"===e._value?e.evaluate=e._evaluateNaN:"isFinite"===e._value?e.evaluate=e._evaluateIsFinite:"isExactClass"===e._value?e.evaluate=e._evaluateIsExactClass:"isClass"===e._value?e.evaluate=e._evaluateIsClass:"getExactClassName"===e._value?e.evaluate=e._evaluateGetExactClassName:"Boolean"===e._value?e.evaluate=e._evaluateBooleanConversion:"Number"===e._value?e.evaluate=e._evaluateNumberConversion:"String"===e._value?e.evaluate=e._evaluateStringConversion:(0,u.Z)(w[e._value])&&(e.evaluate=te(e._value)):e._type===f.Z.BINARY?"+"===e._value?e.evaluate=e._evaluatePlus:"-"===e._value?e.evaluate=e._evaluateMinus:"*"===e._value?e.evaluate=e._evaluateTimes:"/"===e._value?e.evaluate=e._evaluateDivide:"%"===e._value?e.evaluate=e._evaluateMod:"==="===e._value?e.evaluate=e._evaluateEqualsStrict:"!=="===e._value?e.evaluate=e._evaluateNotEqualsStrict:"<"===e._value?e.evaluate=e._evaluateLessThan:"<="===e._value?e.evaluate=e._evaluateLessThanOrEquals:">"===e._value?e.evaluate=e._evaluateGreaterThan:">="===e._value?e.evaluate=e._evaluateGreaterThanOrEquals:"&&"===e._value?e.evaluate=e._evaluateAnd:"||"===e._value?e.evaluate=e._evaluateOr:"=~"===e._value?e.evaluate=e._evaluateRegExpMatch:"!~"===e._value?e.evaluate=e._evaluateRegExpNotMatch:(0,u.Z)(C[e._value])&&(e.evaluate=re(e._value)):e._type===f.Z.TERNARY?e.evaluate=ne(e._value):e._type===f.Z.MEMBER?"brackets"===e._value?e.evaluate=e._evaluateMemberBrackets:e.evaluate=e._evaluateMemberDot:e._type===f.Z.ARRAY?e.evaluate=e._evaluateArray:e._type===f.Z.VARIABLE?e.evaluate=e._evaluateVariable:e._type===f.Z.VARIABLE_IN_STRING?e.evaluate=e._evaluateVariableString:e._type===f.Z.LITERAL_COLOR?e.evaluate=e._evaluateLiteralColor:e._type===f.Z.LITERAL_VECTOR?e.evaluate=e._evaluateLiteralVector:e._type===f.Z.LITERAL_STRING?e.evaluate=e._evaluateLiteralString:e._type===f.Z.REGEX?e.evaluate=e._evaluateRegExp:e._type===f.Z.BUILTIN_VARIABLE?"tiles3d_tileset_time"===e._value&&(e.evaluate=ee):e.evaluate=e._evaluateLiteral}function ee(e){return(0,u.Z)(e)?e.content.tileset.timeSinceLoad:0}function te(e){var t=w[e];return function(r){var n=this._left.evaluate(r);return t(e,n)}}function re(e){var t=C[e];return function(r){var n=this._left.evaluate(r),i=this._right.evaluate(r);return t(e,n,i)}}function ne(e){var t=E[e];return function(r){var n=this._left.evaluate(r),i=this._right.evaluate(r),a=this._test.evaluate(r);return t(e,n,i,a)}}function ie(e,t){if((0,u.Z)(e))return e.getPropertyInherited(t)}function ae(e){return"feature"===e._value}function oe(e){for(var t=e._left,r=t.length,n=0;n<r;++n)if(t[n]._type!==f.Z.LITERAL_NUMBER)return;var i=t[0]._value,a=t[1]._value,o=t[2]._value,u=4===r?t[3]._value:1;return s.Z.fromHsl(i,a,o,u,x)}function se(e){for(var t=e._left,r=t.length,n=0;n<r;++n)if(t[n]._type!==f.Z.LITERAL_NUMBER)return;var i=x;return i.red=t[0]._value/255,i.green=t[1]._value/255,i.blue=t[2]._value/255,i.alpha=4===r?t[3]._value:1,i}function ue(e){return e%1===0?e.toFixed(1):e.toString()}function ce(e){var t=ue(e.red),r=ue(e.green),n=ue(e.blue);return"vec3("+t+", "+r+", "+n+")"}function he(e){var t=ue(e.red),r=ue(e.green),n=ue(e.blue),i=ue(e.alpha);return"vec4("+t+", "+r+", "+n+", "+i+")"}function le(e,t,r,n){for(var i=e.length,a=new Array(i),o=0;o<i;++o)a[o]=e[o].getShaderExpression(t,r,n);return a}function de(e,t){if(!(0,u.Z)(t[e]))throw new l.Z('Style references a property "'+e+'" that does not exist or is not styleable.');return t[e]}B.prototype._evaluateLiteral=function(){return this._value},B.prototype._evaluateLiteralColor=function(e){var t=x,r=this._left;if("color"===this._value)(0,u.Z)(r)?r.length>1?(s.Z.fromCssColorString(r[0].evaluate(e),t),t.alpha=r[1].evaluate(e)):s.Z.fromCssColorString(r[0].evaluate(e),t):s.Z.fromBytes(255,255,255,255,t);else if("rgb"===this._value)s.Z.fromBytes(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),255,t);else if("rgba"===this._value){var n=255*r[3].evaluate(e);s.Z.fromBytes(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),n,t)}else"hsl"===this._value?s.Z.fromHsl(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),1,t):"hsla"===this._value&&s.Z.fromHsl(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),r[3].evaluate(e),t);return a.Z.fromColor(t,m.getCartesian4())},B.prototype._evaluateLiteralVector=function(e){for(var t=m.getArray(),r=this._value,o=this._left,s=o.length,u=0;u<s;++u){var c=o[u].evaluate(e);if("number"===typeof c)t.push(c);else if(c instanceof n.Z)t.push(c.x,c.y);else if(c instanceof i.Z)t.push(c.x,c.y,c.z);else{if(!(c instanceof a.Z))throw new l.Z(r+" argument must be a vector or number. Argument is "+c+".");t.push(c.x,c.y,c.z,c.w)}}var h=t.length,d=parseInt(r.charAt(3));if(0===h)throw new l.Z("Invalid "+r+" constructor. No valid arguments.");if(h<d&&h>1)throw new l.Z("Invalid "+r+" constructor. Not enough arguments.");if(h>d&&s>1)throw new l.Z("Invalid "+r+" constructor. Too many arguments.");if(1===h){var f=t[0];t.push(f,f,f)}return"vec2"===r?n.Z.fromArray(t,0,m.getCartesian2()):"vec3"===r?i.Z.fromArray(t,0,m.getCartesian3()):"vec4"===r?a.Z.fromArray(t,0,m.getCartesian4()):void 0},B.prototype._evaluateLiteralString=function(){return this._value},B.prototype._evaluateVariableString=function(e){var t=this._value,r=g.exec(t);while(null!==r){var n=r[0],i=r[1],a=ie(e,i);(0,u.Z)(a)||(a=""),t=t.replace(n,a),r=g.exec(t)}return t},B.prototype._evaluateVariable=function(e){return ie(e,this._value)},B.prototype._evaluateMemberDot=function(e){if(ae(this._left))return ie(e,this._right.evaluate(e));var t=this._left.evaluate(e);if((0,u.Z)(t)){var r=this._right.evaluate(e);if(t instanceof n.Z||t instanceof i.Z||t instanceof a.Z){if("r"===r)return t.x;if("g"===r)return t.y;if("b"===r)return t.z;if("a"===r)return t.w}return t[r]}},B.prototype._evaluateMemberBrackets=function(e){if(ae(this._left))return ie(e,this._right.evaluate(e));var t=this._left.evaluate(e);if((0,u.Z)(t)){var r=this._right.evaluate(e);if(t instanceof n.Z||t instanceof i.Z||t instanceof a.Z){if(0===r||"r"===r)return t.x;if(1===r||"g"===r)return t.y;if(2===r||"b"===r)return t.z;if(3===r||"a"===r)return t.w}return t[r]}},B.prototype._evaluateArray=function(e){for(var t=[],r=0;r<this._value.length;r++)t[r]=this._value[r].evaluate(e);return t},B.prototype._evaluateNot=function(e){var t=this._left.evaluate(e);if("boolean"!==typeof t)throw new l.Z('Operator "!" requires a boolean argument. Argument is '+t+".");return!t},B.prototype._evaluateNegative=function(e){var t=this._left.evaluate(e);if(t instanceof n.Z)return n.Z.negate(t,m.getCartesian2());if(t instanceof i.Z)return i.Z.negate(t,m.getCartesian3());if(t instanceof a.Z)return a.Z.negate(t,m.getCartesian4());if("number"===typeof t)return-t;throw new l.Z('Operator "-" requires a vector or number argument. Argument is '+t+".")},B.prototype._evaluatePositive=function(e){var t=this._left.evaluate(e);if(!(t instanceof n.Z||t instanceof i.Z||t instanceof a.Z||"number"===typeof t))throw new l.Z('Operator "+" requires a vector or number argument. Argument is '+t+".");return t},B.prototype._evaluateLessThan=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof r)throw new l.Z('Operator "<" requires number arguments. Arguments are '+t+" and "+r+".");return t<r},B.prototype._evaluateLessThanOrEquals=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof r)throw new l.Z('Operator "<=" requires number arguments. Arguments are '+t+" and "+r+".");return t<=r},B.prototype._evaluateGreaterThan=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof r)throw new l.Z('Operator ">" requires number arguments. Arguments are '+t+" and "+r+".");return t>r},B.prototype._evaluateGreaterThanOrEquals=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if("number"!==typeof t||"number"!==typeof r)throw new l.Z('Operator ">=" requires number arguments. Arguments are '+t+" and "+r+".");return t>=r},B.prototype._evaluateOr=function(e){var t=this._left.evaluate(e);if("boolean"!==typeof t)throw new l.Z('Operator "||" requires boolean arguments. First argument is '+t+".");if(t)return!0;var r=this._right.evaluate(e);if("boolean"!==typeof r)throw new l.Z('Operator "||" requires boolean arguments. Second argument is '+r+".");return t||r},B.prototype._evaluateAnd=function(e){var t=this._left.evaluate(e);if("boolean"!==typeof t)throw new l.Z('Operator "&&" requires boolean arguments. First argument is '+t+".");if(!t)return!1;var r=this._right.evaluate(e);if("boolean"!==typeof r)throw new l.Z('Operator "&&" requires boolean arguments. Second argument is '+r+".");return t&&r},B.prototype._evaluatePlus=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(r instanceof n.Z&&t instanceof n.Z)return n.Z.add(t,r,m.getCartesian2());if(r instanceof i.Z&&t instanceof i.Z)return i.Z.add(t,r,m.getCartesian3());if(r instanceof a.Z&&t instanceof a.Z)return a.Z.add(t,r,m.getCartesian4());if("string"===typeof t||"string"===typeof r)return t+r;if("number"===typeof t&&"number"===typeof r)return t+r;throw new l.Z('Operator "+" requires vector or number arguments of matching types, or at least one string argument. Arguments are '+t+" and "+r+".")},B.prototype._evaluateMinus=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(r instanceof n.Z&&t instanceof n.Z)return n.Z.subtract(t,r,m.getCartesian2());if(r instanceof i.Z&&t instanceof i.Z)return i.Z.subtract(t,r,m.getCartesian3());if(r instanceof a.Z&&t instanceof a.Z)return a.Z.subtract(t,r,m.getCartesian4());if("number"===typeof t&&"number"===typeof r)return t-r;throw new l.Z('Operator "-" requires vector or number arguments of matching types. Arguments are '+t+" and "+r+".")},B.prototype._evaluateTimes=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(r instanceof n.Z&&t instanceof n.Z)return n.Z.multiplyComponents(t,r,m.getCartesian2());if(r instanceof n.Z&&"number"===typeof t)return n.Z.multiplyByScalar(r,t,m.getCartesian2());if(t instanceof n.Z&&"number"===typeof r)return n.Z.multiplyByScalar(t,r,m.getCartesian2());if(r instanceof i.Z&&t instanceof i.Z)return i.Z.multiplyComponents(t,r,m.getCartesian3());if(r instanceof i.Z&&"number"===typeof t)return i.Z.multiplyByScalar(r,t,m.getCartesian3());if(t instanceof i.Z&&"number"===typeof r)return i.Z.multiplyByScalar(t,r,m.getCartesian3());if(r instanceof a.Z&&t instanceof a.Z)return a.Z.multiplyComponents(t,r,m.getCartesian4());if(r instanceof a.Z&&"number"===typeof t)return a.Z.multiplyByScalar(r,t,m.getCartesian4());if(t instanceof a.Z&&"number"===typeof r)return a.Z.multiplyByScalar(t,r,m.getCartesian4());if("number"===typeof t&&"number"===typeof r)return t*r;throw new l.Z('Operator "*" requires vector or number arguments. If both arguments are vectors they must be matching types. Arguments are '+t+" and "+r+".")},B.prototype._evaluateDivide=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(r instanceof n.Z&&t instanceof n.Z)return n.Z.divideComponents(t,r,m.getCartesian2());if(t instanceof n.Z&&"number"===typeof r)return n.Z.divideByScalar(t,r,m.getCartesian2());if(r instanceof i.Z&&t instanceof i.Z)return i.Z.divideComponents(t,r,m.getCartesian3());if(t instanceof i.Z&&"number"===typeof r)return i.Z.divideByScalar(t,r,m.getCartesian3());if(r instanceof a.Z&&t instanceof a.Z)return a.Z.divideComponents(t,r,m.getCartesian4());if(t instanceof a.Z&&"number"===typeof r)return a.Z.divideByScalar(t,r,m.getCartesian4());if("number"===typeof t&&"number"===typeof r)return t/r;throw new l.Z('Operator "/" requires vector or number arguments of matching types, or a number as the second argument. Arguments are '+t+" and "+r+".")},B.prototype._evaluateMod=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(r instanceof n.Z&&t instanceof n.Z)return n.Z.fromElements(t.x%r.x,t.y%r.y,m.getCartesian2());if(r instanceof i.Z&&t instanceof i.Z)return i.Z.fromElements(t.x%r.x,t.y%r.y,t.z%r.z,m.getCartesian3());if(r instanceof a.Z&&t instanceof a.Z)return a.Z.fromElements(t.x%r.x,t.y%r.y,t.z%r.z,t.w%r.w,m.getCartesian4());if("number"===typeof t&&"number"===typeof r)return t%r;throw new l.Z('Operator "%" requires vector or number arguments of matching types. Arguments are '+t+" and "+r+".")},B.prototype._evaluateEqualsStrict=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);return r instanceof n.Z&&t instanceof n.Z||r instanceof i.Z&&t instanceof i.Z||r instanceof a.Z&&t instanceof a.Z?t.equals(r):t===r},B.prototype._evaluateNotEqualsStrict=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);return r instanceof n.Z&&t instanceof n.Z||r instanceof i.Z&&t instanceof i.Z||r instanceof a.Z&&t instanceof a.Z?!t.equals(r):t!==r},B.prototype._evaluateConditional=function(e){var t=this._test.evaluate(e);if("boolean"!==typeof t)throw new l.Z("Conditional argument of conditional expression must be a boolean. Argument is "+t+".");return t?this._left.evaluate(e):this._right.evaluate(e)},B.prototype._evaluateNaN=function(e){return isNaN(this._left.evaluate(e))},B.prototype._evaluateIsFinite=function(e){return isFinite(this._left.evaluate(e))},B.prototype._evaluateIsExactClass=function(e){return!!(0,u.Z)(e)&&e.isExactClass(this._left.evaluate(e))},B.prototype._evaluateIsClass=function(e){return!!(0,u.Z)(e)&&e.isClass(this._left.evaluate(e))},B.prototype._evaluateGetExactClassName=function(e){if((0,u.Z)(e))return e.getExactClassName()},B.prototype._evaluateBooleanConversion=function(e){return Boolean(this._left.evaluate(e))},B.prototype._evaluateNumberConversion=function(e){return Number(this._left.evaluate(e))},B.prototype._evaluateStringConversion=function(e){return String(this._left.evaluate(e))},B.prototype._evaluateRegExp=function(e){var t,r=this._value.evaluate(e),n="";(0,u.Z)(this._left)&&(n=this._left.evaluate(e));try{t=new RegExp(r,n)}catch(i){throw new l.Z(i)}return t},B.prototype._evaluateRegExpTest=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"===typeof r))throw new l.Z("RegExp.test requires the first argument to be a RegExp and the second argument to be a string. Arguments are "+t+" and "+r+".");return t.test(r)},B.prototype._evaluateRegExpMatch=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(t instanceof RegExp&&"string"===typeof r)return t.test(r);if(r instanceof RegExp&&"string"===typeof t)return r.test(t);throw new l.Z('Operator "=~" requires one RegExp argument and one string argument. Arguments are '+t+" and "+r+".")},B.prototype._evaluateRegExpNotMatch=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(t instanceof RegExp&&"string"===typeof r)return!t.test(r);if(r instanceof RegExp&&"string"===typeof t)return!r.test(t);throw new l.Z('Operator "!~" requires one RegExp argument and one string argument. Arguments are '+t+" and "+r+".")},B.prototype._evaluateRegExpExec=function(e){var t=this._left.evaluate(e),r=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"===typeof r))throw new l.Z("RegExp.exec requires the first argument to be a RegExp and the second argument to be a string. Arguments are "+t+" and "+r+".");var n=t.exec(r);return(0,u.Z)(n)?n[1]:null},B.prototype._evaluateToString=function(e){var t=this._left.evaluate(e);if(t instanceof RegExp||t instanceof n.Z||t instanceof i.Z||t instanceof a.Z)return String(t);throw new l.Z('Unexpected function call "'+this._value+'".')},p.NULL_SENTINEL="czm_infinity",B.prototype.getShaderExpression=function(e,t,r){var n,i,a,o,h=this._type,d=this._value;switch((0,u.Z)(this._left)&&(i=Array.isArray(this._left)?le(this._left,e,t,this):this._left.getShaderExpression(e,t,this)),(0,u.Z)(this._right)&&(a=this._right.getShaderExpression(e,t,this)),(0,u.Z)(this._test)&&(o=this._test.getShaderExpression(e,t,this)),Array.isArray(this._value)&&(d=le(this._value,e,t,this)),h){case f.Z.VARIABLE:if(ae(this))return;return de(d,e);case f.Z.UNARY:if("Boolean"===d)return"bool("+i+")";if("Number"===d)return"float("+i+")";if("round"===d)return"floor("+i+" + 0.5)";if((0,u.Z)(w[d]))return d+"("+i+")";if("isNaN"===d)return"("+i+" != "+i+")";if("isFinite"===d)return"(abs("+i+") < czm_infinity)";if("String"===d||"isExactClass"===d||"isClass"===d||"getExactClassName"===d)throw new l.Z('Error generating style shader: "'+d+'" is not supported.');return d+i;case f.Z.BINARY:return"%"===d?"mod("+i+", "+a+")":"==="===d?"("+i+" == "+a+")":"!=="===d?"("+i+" != "+a+")":"atan2"===d?"atan("+i+", "+a+")":(0,u.Z)(C[d])?d+"("+i+", "+a+")":"("+i+" "+d+" "+a+")";case f.Z.TERNARY:if((0,u.Z)(E[d]))return d+"("+i+", "+a+", "+o+")";break;case f.Z.CONDITIONAL:return"("+o+" ? "+i+" : "+a+")";case f.Z.MEMBER:return ae(this._left)?de(a,e):"r"===a||"x"===a||"0.0"===a?i+"[0]":"g"===a||"y"===a||"1.0"===a?i+"[1]":"b"===a||"z"===a||"2.0"===a?i+"[2]":"a"===a||"w"===a||"3.0"===a?i+"[3]":i+"[int("+a+")]";case f.Z.FUNCTION_CALL:throw new l.Z('Error generating style shader: "'+d+'" is not supported.');case f.Z.ARRAY:if(4===d.length)return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")";if(3===d.length)return"vec3("+d[0]+", "+d[1]+", "+d[2]+")";if(2===d.length)return"vec2("+d[0]+", "+d[1]+")";throw new l.Z("Error generating style shader: Invalid array length. Array length should be 2, 3, or 4.");case f.Z.REGEX:throw new l.Z("Error generating style shader: Regular expressions are not supported.");case f.Z.VARIABLE_IN_STRING:throw new l.Z("Error generating style shader: Converting a variable to a string is not supported.");case f.Z.LITERAL_NULL:return p.NULL_SENTINEL;case f.Z.LITERAL_BOOLEAN:return d?"true":"false";case f.Z.LITERAL_NUMBER:return ue(d);case f.Z.LITERAL_STRING:if((0,u.Z)(r)&&r._type===f.Z.MEMBER&&("r"===d||"g"===d||"b"===d||"a"===d||"x"===d||"y"===d||"z"===d||"w"===d||ae(r._left)))return d;if(n=s.Z.fromCssColorString(d,x),(0,u.Z)(n))return ce(n);throw new l.Z("Error generating style shader: String literals are not supported.");case f.Z.LITERAL_COLOR:var m=i;if("color"===d){if(!(0,u.Z)(m))return"vec4(1.0)";if(m.length>1){var _=m[0],Z=m[1];return"1.0"!==Z&&(t.translucent=!0),"vec4("+_+", "+Z+")"}return"vec4("+m[0]+", 1.0)"}if("rgb"===d)return n=se(this),(0,u.Z)(n)?he(n):"vec4("+m[0]+" / 255.0, "+m[1]+" / 255.0, "+m[2]+" / 255.0, 1.0)";if("rgba"===d)return"1.0"!==m[3]&&(t.translucent=!0),n=se(this),(0,u.Z)(n)?he(n):"vec4("+m[0]+" / 255.0, "+m[1]+" / 255.0, "+m[2]+" / 255.0, "+m[3]+")";if("hsl"===d)return n=oe(this),(0,u.Z)(n)?he(n):"vec4(czm_HSLToRGB(vec3("+m[0]+", "+m[1]+", "+m[2]+")), 1.0)";if("hsla"===d)return n=oe(this),(0,u.Z)(n)?(1!==n.alpha&&(t.translucent=!0),he(n)):("1.0"!==m[3]&&(t.translucent=!0),"vec4(czm_HSLToRGB(vec3("+m[0]+", "+m[1]+", "+m[2]+")), "+m[3]+")");break;case f.Z.LITERAL_VECTOR:if(!(0,u.Z)(i))throw new c.Z("left should always be defined for type ExpressionNodeType.LITERAL_VECTOR");for(var g=i.length,v=d+"(",y=0;y<g;++y)v+=i[y],y<g-1&&(v+=", ");return v+=")",v;case f.Z.LITERAL_REGEX:throw new l.Z("Error generating style shader: Regular expressions are not supported.");case f.Z.LITERAL_UNDEFINED:return p.NULL_SENTINEL;case f.Z.BUILTIN_VARIABLE:if("tiles3d_tileset_time"===d)return"u_time"}},B.prototype.getVariables=function(e,t){var r,n,i,a=this._type,o=this._value;if((0,u.Z)(this._left))if(Array.isArray(this._left))for(r=this._left,n=r.length,i=0;i<n;++i)r[i].getVariables(e,this);else this._left.getVariables(e,this);if((0,u.Z)(this._right)&&this._right.getVariables(e,this),(0,u.Z)(this._test)&&this._test.getVariables(e,this),Array.isArray(this._value))for(r=this._value,n=r.length,i=0;i<n;++i)r[i].getVariables(e,this);switch(a){case f.Z.VARIABLE:ae(this)||e.push(o);break;case f.Z.VARIABLE_IN_STRING:var s=g.exec(o);while(null!==s)e.push(s[1]),s=g.exec(o);break;case f.Z.LITERAL_STRING:(0,u.Z)(t)&&t._type===f.Z.MEMBER&&ae(t._left)&&e.push(o);break}},t["Z"]=p},2417:function(e,t){var r={VARIABLE:0,UNARY:1,BINARY:2,TERNARY:3,CONDITIONAL:4,MEMBER:5,FUNCTION_CALL:6,ARRAY:7,REGEX:8,VARIABLE_IN_STRING:9,LITERAL_NULL:10,LITERAL_BOOLEAN:11,LITERAL_NUMBER:12,LITERAL_STRING:13,LITERAL_COLOR:14,LITERAL_VECTOR:15,LITERAL_REGEX:16,LITERAL_UNDEFINED:17,BUILTIN_VARIABLE:18};t["Z"]=Object.freeze(r)},50851:function(e,t,r){var n=r(66553),i=r(62200);function a(e){e=(0,i.Z)(e,i.Z.EMPTY_OBJECT),n.Z.typeOf.object("options.schema",e.schema),this._schema=e.schema,this._featureTables=e.featureTables,this._featureTextures=e.featureTextures,this._statistics=e.statistics,this._extras=e.extras,this._extensions=e.extensions}Object.defineProperties(a.prototype,{schema:{get:function(){return this._schema}},statistics:{get:function(){return this._statistics}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),a.prototype.getFeatureTable=function(e){return n.Z.typeOf.string("featureTableId",e),this._featureTables[e]},a.prototype.getFeatureTexture=function(e){return n.Z.typeOf.string("featureTextureId",e),this._featureTextures[e]},t["Z"]=a},59875:function(e,t,r){var n=r(66553),i=r(62200),a=r(82982);function o(e){e=(0,i.Z)(e,i.Z.EMPTY_OBJECT),n.Z.typeOf.number("options.count",e.count),this._count=e.count,this._extras=e.extras,this._extensions=e.extensions,this._metadataTable=e.metadataTable,this._jsonMetadataTable=e.jsonMetadataTable,this._batchTableHierarchy=e.batchTableHierarchy}Object.defineProperties(o.prototype,{count:{get:function(){return this._count}},class:{get:function(){if((0,a.Z)(this._metadataTable))return this._metadataTable.class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),o.prototype.hasProperty=function(e,t){return n.Z.typeOf.number("index",e),n.Z.typeOf.string("propertyId",t),!(!(0,a.Z)(this._metadataTable)||!this._metadataTable.hasProperty(t))||(!(!(0,a.Z)(this._jsonMetadataTable)||!this._jsonMetadataTable.hasProperty(t))||!(!(0,a.Z)(this._batchTableHierarchy)||!this._batchTableHierarchy.hasProperty(e,t)))},o.prototype.hasPropertyBySemantic=function(e,t){return n.Z.typeOf.number("index",e),n.Z.typeOf.string("semantic",t),!!(0,a.Z)(this._metadataTable)&&this._metadataTable.hasPropertyBySemantic(t)},o.prototype.propertyExists=function(e){return n.Z.typeOf.string("propertyId",e),!(!(0,a.Z)(this._metadataTable)||!this._metadataTable.hasProperty(e))||(!(!(0,a.Z)(this._jsonMetadataTable)||!this._jsonMetadataTable.hasProperty(e))||!(!(0,a.Z)(this._batchTableHierarchy)||!this._batchTableHierarchy.propertyExists(e)))},o.prototype.propertyExistsBySemantic=function(e){return n.Z.typeOf.string("semantic",e),!!(0,a.Z)(this._metadataTable)&&this._metadataTable.hasPropertyBySemantic(e)};var s=[];o.prototype.getPropertyIds=function(e,t){return t=(0,a.Z)(t)?t:[],t.length=0,(0,a.Z)(this._metadataTable)&&t.push.apply(t,this._metadataTable.getPropertyIds(s)),(0,a.Z)(this._jsonMetadataTable)&&t.push.apply(t,this._jsonMetadataTable.getPropertyIds(s)),(0,a.Z)(this._batchTableHierarchy)&&t.push.apply(t,this._batchTableHierarchy.getPropertyIds(e,s)),t},o.prototype.getProperty=function(e,t){var r;return(0,a.Z)(this._metadataTable)&&(r=this._metadataTable.getProperty(e,t),(0,a.Z)(r))||(0,a.Z)(this._jsonMetadataTable)&&(r=this._jsonMetadataTable.getProperty(e,t),(0,a.Z)(r))||(0,a.Z)(this._batchTableHierarchy)&&(r=this._batchTableHierarchy.getProperty(e,t),(0,a.Z)(r))?r:void 0},o.prototype.setProperty=function(e,t,r){return!(!(0,a.Z)(this._metadataTable)||!this._metadataTable.setProperty(e,t,r))||(!(!(0,a.Z)(this._jsonMetadataTable)||!this._jsonMetadataTable.setProperty(e,t,r))||(0,a.Z)(this._batchTableHierarchy)&&this._batchTableHierarchy.setProperty(e,t,r))},o.prototype.getPropertyBySemantic=function(e,t){if((0,a.Z)(this._metadataTable))return this._metadataTable.getPropertyBySemantic(e,t)},o.prototype.setPropertyBySemantic=function(e,t,r){return!!(0,a.Z)(this._metadataTable)&&this._metadataTable.setPropertyBySemantic(e,t,r)},o.prototype.getPropertyTypedArray=function(e){if(n.Z.typeOf.string("propertyId",e),(0,a.Z)(this._metadataTable))return this._metadataTable.getPropertyTypedArray(e)},o.prototype.getPropertyTypedArrayBySemantic=function(e){if(n.Z.typeOf.string("semantic",e),(0,a.Z)(this._metadataTable))return this._metadataTable.getPropertyTypedArrayBySemantic(e)},t["Z"]=o},67266:function(e,t,r){var n=r(66553),i=r(62200),a=r(82982),o=r(68710);function s(e){e=(0,i.Z)(e,i.Z.EMPTY_OBJECT);var t=e.featureTexture,r=e.class,s=e.textures;n.Z.typeOf.object("options.featureTexture",t),n.Z.typeOf.object("options.class",r),n.Z.typeOf.object("options.textures",s);var u=t.extensions,c=t.extras,h={};if((0,a.Z)(t.properties))for(var l in t.properties)t.properties.hasOwnProperty(l)&&(h[l]=new o.Z({property:t.properties[l],classProperty:r.properties[l],textures:s}));this._class=r,this._properties=h,this._extras=c,this._extensions=u}Object.defineProperties(s.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),s.prototype.getProperty=function(e){return n.Z.typeOf.string("propertyId",e),this._properties[e]},t["Z"]=s},68710:function(e,t,r){var n=r(66553),i=r(62200),a=r(61120);function o(e){e=(0,i.Z)(e,i.Z.EMPTY_OBJECT);var t=e.property,r=e.classProperty,o=e.textures;n.Z.typeOf.object("options.property",t),n.Z.typeOf.object("options.classProperty",r),n.Z.typeOf.object("options.textures",o);var s=t.texture,u=a.Z.createModelTextureReader({textureInfo:s,channels:t.channels,texture:o[s.index]});this._textureReader=u,this._classProperty=r,this._extras=t.extras,this._extensions=t.extensions}Object.defineProperties(o.prototype,{textureReader:{get:function(){return this._textureReader}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),t["Z"]=o}}]);
//# sourceMappingURL=chunk-vendors-4c66eaed.6121b7f7.js.map