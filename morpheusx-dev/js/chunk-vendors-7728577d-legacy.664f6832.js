"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[2161],{17106:function(e,t,r){var i=r(48243),n=r(60216),o=r(51688),a=r(66553),s=r(92062),u=r(62200),c=r(82982),l=r(50491),h=r(26865),d=r(67627),p=r(72248),m=r(25405),f=r(7749),g=r(68457),_=r(96190),Z=r(19737),v=r(64060),y=r(34380),w=r(89917);function x(e){a.Z.typeOf.object("options",e),a.Z.typeOf.object("options.rectangle",e.rectangle),this.rectangle=_.Z.clone(e.rectangle),this.minimumHeight=(0,u.Z)(e.minimumHeight,0),this.maximumHeight=(0,u.Z)(e.maximumHeight,0),this.southwestCornerCartesian=new n.Z,this.northeastCornerCartesian=new n.Z,this.westNormal=new n.Z,this.southNormal=new n.Z,this.eastNormal=new n.Z,this.northNormal=new n.Z;var t=(0,u.Z)(e.ellipsoid,l.Z.WGS84);F(this,e.rectangle,t),this._orientedBoundingBox=void 0,this._boundingSphere=void 0,(0,u.Z)(e.computeBoundingVolumes,!0)&&this.computeBoundingVolumes(t)}Object.defineProperties(x.prototype,{boundingVolume:{get:function(){return this._orientedBoundingBox}},boundingSphere:{get:function(){return this._boundingSphere}}}),x.prototype.computeBoundingVolumes=function(e){this._orientedBoundingBox=m.Z.fromRectangle(this.rectangle,this.minimumHeight,this.maximumHeight,e),this._boundingSphere=i.Z.fromOrientedBoundingBox(this._orientedBoundingBox)};var b=new n.Z,C=new n.Z,S=new n.Z,T=new n.Z,D=new n.Z,P=new n.Z,I=new o.Z,E=new f.Z(n.Z.UNIT_X,0),O=new g.Z;function F(e,t,r){r.cartographicToCartesian(_.Z.southwest(t),e.southwestCornerCartesian),r.cartographicToCartesian(_.Z.northeast(t),e.northeastCornerCartesian),I.longitude=t.west,I.latitude=.5*(t.south+t.north),I.height=0;var i=r.cartographicToCartesian(I,D),o=n.Z.cross(i,n.Z.UNIT_Z,b);n.Z.normalize(o,e.westNormal),I.longitude=t.east;var a=r.cartographicToCartesian(I,P),s=n.Z.cross(n.Z.UNIT_Z,a,b);n.Z.normalize(s,e.eastNormal);var u,c=n.Z.subtract(i,a,b),l=n.Z.normalize(c,T),h=t.south;if(h>0){I.longitude=.5*(t.west+t.east),I.latitude=h;var p=r.cartographicToCartesian(I,O.origin);n.Z.clone(l,O.direction);var m=f.Z.fromPointNormal(e.southwestCornerCartesian,e.westNormal,E);d.Z.rayPlane(O,m,e.southwestCornerCartesian),u=r.geodeticSurfaceNormal(p,C)}else u=r.geodeticSurfaceNormalCartographic(_.Z.southeast(t),C);var g=n.Z.cross(u,c,S);n.Z.normalize(g,e.southNormal);var Z,v=t.north;if(v<0){I.longitude=.5*(t.west+t.east),I.latitude=v;var y=r.cartographicToCartesian(I,O.origin);n.Z.negate(l,O.direction);var w=f.Z.fromPointNormal(e.northeastCornerCartesian,e.eastNormal,E);d.Z.rayPlane(O,w,e.northeastCornerCartesian),Z=r.geodeticSurfaceNormal(y,C)}else Z=r.geodeticSurfaceNormalCartographic(_.Z.northwest(t),C);var x=n.Z.cross(c,Z,S);n.Z.normalize(x,e.northNormal)}var N=new n.Z,B=new n.Z,k=new n.Z(0,-1,0),A=new n.Z(0,0,-1),L=new n.Z;function R(e,t){var r,i,o,a=t.camera,s=a.positionWC,u=a.positionCartographic,c=0;if(!_.Z.contains(e.rectangle,u)){var l=e.southwestCornerCartesian,h=e.northeastCornerCartesian,d=e.westNormal,p=e.southNormal,m=e.eastNormal,f=e.northNormal;t.mode!==w.Z.SCENE3D&&(l=t.mapProjection.project(_.Z.southwest(e.rectangle),N),l.z=l.y,l.y=l.x,l.x=0,h=t.mapProjection.project(_.Z.northeast(e.rectangle),B),h.z=h.y,h.y=h.x,h.x=0,d=k,m=n.Z.UNIT_Y,p=A,f=n.Z.UNIT_Z);var g=n.Z.subtract(s,l,L),Z=n.Z.dot(g,d),v=n.Z.dot(g,p),y=n.Z.subtract(s,h,L),x=n.Z.dot(y,m),b=n.Z.dot(y,f);Z>0?c+=Z*Z:x>0&&(c+=x*x),v>0?c+=v*v:b>0&&(c+=b*b)}if(t.mode===w.Z.SCENE3D?(r=u.height,i=e.minimumHeight,o=e.maximumHeight):(r=s.x,i=0,o=0),r>o){var C=r-o;c+=C*C}else if(r<i){var S=i-r;c+=S*S}return Math.sqrt(c)}x.prototype.distanceToCamera=function(e){a.Z.defined("frameState",e);var t=R(this,e);if(e.mode===w.Z.SCENE3D&&(0,c.Z)(this._orientedBoundingBox)){var r=Math.sqrt(this._orientedBoundingBox.distanceSquaredTo(e.camera.positionWC));return Math.max(t,r)}return t},x.prototype.intersectPlane=function(e){return a.Z.defined("plane",e),this._orientedBoundingBox.intersectPlane(e)},x.prototype.createDebugVolume=function(e){a.Z.defined("color",e);var t=new p.Z.clone(p.Z.IDENTITY),r=new Z.Z({rectangle:this.rectangle,height:this.minimumHeight,extrudedHeight:this.maximumHeight}),i=new h.Z({geometry:r,id:"outline",modelMatrix:t,attributes:{color:s.Z.fromColor(e)}});return new y.Z({geometryInstances:i,appearance:new v.Z({translucent:!1,flat:!0}),asynchronous:!1})},t["Z"]=x},96811:function(e,t,r){var i=r(60216),n=r(82982),o=r(51688),a=r(50491),s=r(84935),u=r(68201),c=r(7749),l=r(27753),h=r(48243),d=r(66553),p=r(92062),m=r(62200),f=r(26865),g=r(72248),_=r(64060),Z=r(34380),v=r(90791),y=new o.Z;function w(e){d.Z.typeOf.object("options",e),d.Z.typeOf.string("options.token",e.token);var t=v.Z.fromToken(e.token),r=(0,m.Z)(e.minimumHeight,0),n=(0,m.Z)(e.maximumHeight,0),o=(0,m.Z)(e.ellipsoid,a.Z.WGS84);this.s2Cell=t,this.minimumHeight=r,this.maximumHeight=n,this.ellipsoid=o;var s=E(t,r,n,o);this._boundingPlanes=s;var u,c=W(s);for(this._vertices=c,this._edgeNormals=new Array(6),this._edgeNormals[0]=G(s[0],c.slice(0,4)),u=0;u<4;u++)this._edgeNormals[0][u]=i.Z.negate(this._edgeNormals[0][u],this._edgeNormals[0][u]);for(this._edgeNormals[1]=G(s[1],c.slice(4,8)),u=0;u<4;u++)this._edgeNormals[2+u]=G(s[2+u],[c[u%4],c[(u+1)%4],c[4+(u+1)%4],c[4+u]]);for(this._planeVertices=[this._vertices.slice(0,4),this._vertices.slice(4,8)],u=0;u<4;u++)this._planeVertices.push([this._vertices[u%4],this._vertices[(u+1)%4],this._vertices[4+(u+1)%4],this._vertices[4+u]]);var l=t.getCenter();y=o.cartesianToCartographic(l,y),y.height=(n+r)/2,this.center=o.cartographicToCartesian(y,l),this._boundingSphere=h.Z.fromPoints(c)}var x=new i.Z,b=new o.Z,C=new i.Z,S=new o.Z,T=new i.Z,D=new i.Z,P=new i.Z,I=new i.Z;function E(e,t,r,n){var o=new Array(6),a=e.getCenter(),s=n.geodeticSurfaceNormal(a,x),u=n.cartesianToCartographic(a,b);u.height=r;var l=n.cartographicToCartesian(u,C),h=c.Z.fromPointNormal(l,s);o[0]=h;var d,p,m,f=0,g=[];for(d=0;d<4;d++){p=e.getVertex(d),g[d]=p,m=n.cartesianToCartographic(p,S),m.height=t;var _=c.Z.getPointDistance(h,n.cartographicToCartesian(m,T));_<f&&(f=_)}var Z=c.Z.clone(h);for(Z.normal=i.Z.negate(Z.normal,Z.normal),Z.distance=-1*Z.distance+f,o[1]=Z,d=0;d<4;d++){p=g[d];var v=g[(d+1)%4],y=n.geodeticSurfaceNormal(p,D),w=i.Z.subtract(v,p,I),E=i.Z.cross(w,y,P);E=i.Z.normalize(E,E),o[2+d]=c.Z.fromPointNormal(p,E)}return o}var O=new i.Z,F=new i.Z,N=new i.Z,B=new i.Z,k=new i.Z,A=new i.Z,L=new i.Z,R=new i.Z,M=new i.Z,j=new i.Z,q=new i.Z,H=new i.Z,V=new i.Z,U=new u.Z;function Y(e,t,r){O=e.normal,F=t.normal,N=r.normal,B=i.Z.multiplyByScalar(e.normal,-e.distance,B),k=i.Z.multiplyByScalar(t.normal,-t.distance,k),A=i.Z.multiplyByScalar(r.normal,-r.distance,A),j=i.Z.multiplyByScalar(i.Z.cross(F,N,L),i.Z.dot(B,O),j),q=i.Z.multiplyByScalar(i.Z.cross(N,O,R),i.Z.dot(k,F),q),H=i.Z.multiplyByScalar(i.Z.cross(O,F,M),i.Z.dot(A,N),H),U[0]=O.x,U[1]=F.x,U[2]=N.x,U[3]=O.y,U[4]=F.y,U[5]=N.y,U[6]=O.z,U[7]=F.z,U[8]=N.z;var n=u.Z.determinant(U);return V=i.Z.add(j,q,V),V=i.Z.add(V,H,V),new i.Z(V.x/n,V.y/n,V.z/n)}function W(e){for(var t=new Array(8),r=0;r<4;r++)t[r]=Y(e[0],e[2+(r+3)%4],e[2+r%4]),t[r+4]=Y(e[1],e[2+(r+3)%4],e[2+r%4]);return t}var z=new i.Z,X=new i.Z;function G(e,t){for(var r=[],n=0;n<4;n++)z=i.Z.subtract(t[(n+1)%4],t[n],z),X=i.Z.cross(e.normal,z,X),X=i.Z.normalize(X,X),r[n]=i.Z.clone(X);return r}Object.defineProperties(w.prototype,{boundingVolume:{get:function(){return this}},boundingSphere:{get:function(){return this._boundingSphere}}});var J=new i.Z;w.prototype.distanceToCamera=function(e){d.Z.defined("frameState",e);var t,r,n,o,a,s,u=e.camera.positionWC,l=[],h=[];for(c.Z.getPointDistance(this._boundingPlanes[0],u)>0?(l.push(0),h.push(this._planeVertices[0]),t=this._edgeNormals[0]):c.Z.getPointDistance(this._boundingPlanes[1],u)>0&&(l.push(1),h.push(this._planeVertices[1]),t=this._edgeNormals[1]),r=0;r<4;r++)n=2+r,c.Z.getPointDistance(this._boundingPlanes[n],u)>0&&(l.push(n),h.push(this._planeVertices[n]),t=this._edgeNormals[n]);if(0===l.length)return 0;if(1===l.length)return s=this._boundingPlanes[l[0]],a=te(c.Z.projectPointOntoPlane(s,u,J),h[0],s,t),i.Z.distance(a,u);if(2===l.length){if(0===l[0]){var p=[this._vertices[4*l[0]+(l[1]-2)],this._vertices[4*l[0]+(l[1]-2+1)%4]];return a=$(u,p[0],p[1]),i.Z.distance(a,u)}var m,f=Number.MAX_VALUE;for(r=0;r<2;r++)s=this._boundingPlanes[l[r]],a=te(c.Z.projectPointOntoPlane(s,u,J),h[r],s,this._edgeNormals[l[r]]),m=i.Z.distanceSquared(a,u),m<f&&(f=m);return Math.sqrt(f)}return l.length>3?(a=te(c.Z.projectPointOntoPlane(this._boundingPlanes[1],u,J),this._planeVertices[1],this._boundingPlanes[1],this._edgeNormals[1]),i.Z.distance(a,u)):(o=2===l[1]&&5===l[2]?0:1,0===l[0]?i.Z.distance(u,this._vertices[(l[1]-2+o)%4]):i.Z.distance(u,this._vertices[4+(l[1]-2+o)%4]))};var K=new i.Z,Q=new i.Z;function $(e,t,r){var n=i.Z.subtract(r,t,K),o=i.Z.subtract(e,t,Q),a=i.Z.dot(n,o);if(a<=0)return t;var s=i.Z.dot(n,n);return a>=s?r:(a/=s,new i.Z((1-a)*t.x+a*r.x,(1-a)*t.y+a*r.y,(1-a)*t.z+a*r.z))}var ee=new c.Z(i.Z.UNIT_X,0);function te(e,t,r,o){for(var a,s,u,l=Number.MAX_VALUE,h=0;h<t.length;h++){var d=c.Z.fromPointNormal(t[h],o[h],ee),p=c.Z.getPointDistance(d,e);p<0||(u=$(e,t[h],t[(h+1)%4]),a=i.Z.distance(e,u),a<l&&(l=a,s=u))}return(0,n.Z)(s)?s:e}w.prototype.intersectPlane=function(e){d.Z.defined("plane",e);for(var t=0,r=0,n=0;n<this._vertices.length;n++){var o=i.Z.dot(e.normal,this._vertices[n])+e.distance;o<0?r++:t++}return t===this._vertices.length?s.Z.INSIDE:r===this._vertices.length?s.Z.OUTSIDE:s.Z.INTERSECTING},w.prototype.createDebugVolume=function(e){d.Z.defined("color",e);for(var t=new g.Z.clone(g.Z.IDENTITY),r=new l.Z({polygonHierarchy:{positions:this._planeVertices[0]}}),i=l.Z.createGeometry(r),n=new f.Z({geometry:i,id:"outline",modelMatrix:t,attributes:{color:p.Z.fromColor(e)}}),o=new l.Z({polygonHierarchy:{positions:this._planeVertices[1]}}),a=l.Z.createGeometry(o),s=new f.Z({geometry:a,id:"outline",modelMatrix:t,attributes:{color:p.Z.fromColor(e)}}),u=[],c=0;c<4;c++){var h=new l.Z({polygonHierarchy:{positions:this._planeVertices[2+c]}}),m=l.Z.createGeometry(h);u[c]=new f.Z({geometry:m,id:"outline",modelMatrix:t,attributes:{color:p.Z.fromColor(e)}})}return new Z.Z({geometryInstances:[u[0],u[1],u[2],u[3],s,n],appearance:new _.Z({translucent:!1,flat:!0}),asynchronous:!1})},t["Z"]=w},60516:function(e,t,r){var i=r(48243),n=r(60216),o=r(66553),a=r(92062),s=r(26865),u=r(99417),c=r(72248),l=r(38779),h=r(64060),d=r(34380);function p(e,t){0===t&&(t=u.Z.EPSILON7),this._boundingSphere=new i.Z(e,t)}Object.defineProperties(p.prototype,{center:{get:function(){return this._boundingSphere.center}},radius:{get:function(){return this._boundingSphere.radius}},boundingVolume:{get:function(){return this._boundingSphere}},boundingSphere:{get:function(){return this._boundingSphere}}}),p.prototype.distanceToCamera=function(e){o.Z.defined("frameState",e);var t=this._boundingSphere;return Math.max(0,n.Z.distance(t.center,e.camera.positionWC)-t.radius)},p.prototype.intersectPlane=function(e){return o.Z.defined("plane",e),i.Z.intersectPlane(this._boundingSphere,e)},p.prototype.update=function(e,t){n.Z.clone(e,this._boundingSphere.center),this._boundingSphere.radius=t},p.prototype.createDebugVolume=function(e){o.Z.defined("color",e);var t=new l.Z({radius:this.radius}),r=c.Z.fromTranslation(this.center,new c.Z.clone(c.Z.IDENTITY)),i=new s.Z({geometry:t,id:"outline",modelMatrix:r,attributes:{color:a.Z.fromColor(e)}});return new d.Z({geometryInstances:i,appearance:new h.Z({translucent:!1,flat:!0}),asynchronous:!1})},t["Z"]=p},36037:function(e,t,r){var i=r(12572);function n(){}n.prototype.boundingVolume=void 0,n.prototype.boundingSphere=void 0,n.prototype.distanceToCamera=function(e){i.Z.throwInstantiationError()},n.prototype.intersectPlane=function(e){i.Z.throwInstantiationError()},n.prototype.createDebugVolume=function(e){i.Z.throwInstantiationError()}},78973:function(e,t,r){var i=r(59947),n=r(62200),o=r(82982),a=r(14459),s=r(71351),u=r(13222);function c(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),this._tilingScheme=(0,o.Z)(e.tilingScheme)?e.tilingScheme:new s.Z({ellipsoid:e.ellipsoid}),this._color=(0,n.Z)(e.color,i.Z.YELLOW),this._errorEvent=new a.Z,this._tileWidth=(0,n.Z)(e.tileWidth,256),this._tileHeight=(0,n.Z)(e.tileHeight,256),this._readyPromise=u.Z.resolve(!0),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0}Object.defineProperties(c.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),c.prototype.getTileCredits=function(e,t,r){},c.prototype.requestImage=function(e,t,r,i){var n=document.createElement("canvas");n.width=256,n.height=256;var o=n.getContext("2d"),a=this._color.toCssColorString();return o.strokeStyle=a,o.lineWidth=2,o.strokeRect(1,1,255,255),o.font="bold 25px Arial",o.textAlign="center",o.fillStyle=a,o.fillText("L: "+r,124,86),o.fillText("X: "+e,124,136),o.fillText("Y: "+t,124,186),n},c.prototype.pickFeatures=function(e,t,r,i,n){},t["Z"]=c},39867:function(e,t,r){var i=r(12572);function n(e){i.Z.throwInstantiationError()}n.prototype.isReady=i.Z.throwInstantiationError,n.prototype.shouldDiscardImage=i.Z.throwInstantiationError},70262:function(e,t,r){var i=r(82982),n=r(73919);function o(e,t,r){this.readyImagery=void 0,this.loadingImagery=e,this.textureCoordinateRectangle=t,this.textureTranslationAndScale=void 0,this.useWebMercatorT=r}o.prototype.freeResources=function(){(0,i.Z)(this.readyImagery)&&this.readyImagery.releaseReference(),(0,i.Z)(this.loadingImagery)&&this.loadingImagery.releaseReference()},o.prototype.processStateMachine=function(e,t,r){var o=this.loadingImagery,a=o.imageryLayer;if(o.processStateMachine(t,!this.useWebMercatorT,r),o.state===n.Z.READY)return(0,i.Z)(this.readyImagery)&&this.readyImagery.releaseReference(),this.readyImagery=this.loadingImagery,this.loadingImagery=void 0,this.textureTranslationAndScale=a._calculateTextureTranslationAndScale(e,this),!0;var s,u=o.parent;while((0,i.Z)(u)&&(u.state!==n.Z.READY||!this.useWebMercatorT&&!(0,i.Z)(u.texture)))u.state!==n.Z.FAILED&&u.state!==n.Z.INVALID&&(s=s||u),u=u.parent;return this.readyImagery!==u&&((0,i.Z)(this.readyImagery)&&this.readyImagery.releaseReference(),this.readyImagery=u,(0,i.Z)(u)&&(u.addReference(),this.textureTranslationAndScale=a._calculateTextureTranslationAndScale(e,this))),(o.state===n.Z.FAILED||o.state===n.Z.INVALID)&&(!(0,i.Z)(s)||(s.processStateMachine(t,!this.useWebMercatorT,r),!1))},t["Z"]=o},80360:function(e,t,r){var i=r(60838),n=r(51688),o=r(62200),a=r(82982),s=r(12572),u=r(39756),c=r(71351),l=r(96190),h=r(68985),d=r(9407),p=r(9121),m=r(42423),f=r(13222),g=r(24855);function _(e){if(e=(0,o.Z)(e,o.Z.EMPTY_OBJECT),!(0,a.Z)(e.url))throw new s.Z("options.url is required.");var t,r=f.Z.defer();g.Z.call(this,r.promise),this._tmsResource=void 0,this._xmlResource=void 0,this._options=e,this._deferred=r,this._metadataError=void 0,this._metadataSuccess=this._metadataSuccess.bind(this),this._metadataFailure=this._metadataFailure.bind(this),this._requestMetadata=this._requestMetadata.bind(this);var i=this;(0,f.Z)(e.url).then((function(e){t=h.Z.createIfNeeded(e),t.appendForwardSlash(),i._tmsResource=t,i._xmlResource=t.getDerivedResource({url:"tilemapresource.xml"}),i._requestMetadata()})).otherwise((function(e){r.reject(e)}))}function Z(e,t){return e.west<t.rectangle.west&&(e.west=t.rectangle.west),e.east>t.rectangle.east&&(e.east=t.rectangle.east),e.south<t.rectangle.south&&(e.south=t.rectangle.south),e.north>t.rectangle.north&&(e.north=t.rectangle.north),e}function v(e,t,r){var i=e.positionToTileXY(l.Z.southwest(t),r),n=e.positionToTileXY(l.Z.northeast(t),r),o=(Math.abs(n.x-i.x)+1)*(Math.abs(n.y-i.y)+1);return o>4?0:r}(0,a.Z)(Object.create)&&(_.prototype=Object.create(g.Z.prototype),_.prototype.constructor=_),_.prototype._requestMetadata=function(){this._xmlResource.fetchXML().then(this._metadataSuccess).otherwise(this._metadataFailure)},_.prototype._metadataSuccess=function(e){for(var t,r,s,h,f=/tileformat/i,g=/tileset/i,_=/tilesets/i,y=/boundingbox/i,w=[],x=this._xmlResource,b=this._metadataError,C=this._deferred,S=this._requestMetadata,T=e.childNodes[0].childNodes,D=0;D<T.length;D++)if(f.test(T.item(D).nodeName))t=T.item(D);else if(_.test(T.item(D).nodeName)){s=T.item(D);for(var P=T.item(D).childNodes,I=0;I<P.length;I++)g.test(P.item(I).nodeName)&&w.push(P.item(I))}else y.test(T.item(D).nodeName)&&(r=T.item(D));if(!(0,a.Z)(s)||!(0,a.Z)(r))return h="Unable to find expected tilesets or bbox attributes in "+x.url+".",b=p.Z.handleError(b,this,this.errorEvent,h,void 0,void 0,void 0,S),b.retry||C.reject(new d.Z(h)),void(this._metadataError=b);var E=this._options,O=(0,o.Z)(E.fileExtension,t.getAttribute("extension")),F=(0,o.Z)(E.tileWidth,parseInt(t.getAttribute("width"),10)),N=(0,o.Z)(E.tileHeight,parseInt(t.getAttribute("height"),10)),B=(0,o.Z)(E.minimumLevel,parseInt(w[0].getAttribute("order"),10)),k=(0,o.Z)(E.maximumLevel,parseInt(w[w.length-1].getAttribute("order"),10)),A=s.getAttribute("profile"),L=E.tilingScheme;if(!(0,a.Z)(L))if("geodetic"===A||"global-geodetic"===A)L=new c.Z({ellipsoid:E.ellipsoid});else{if("mercator"!==A&&"global-mercator"!==A)return h=x.url+"specifies an unsupported profile attribute, "+A+".",b=p.Z.handleError(b,this,this.errorEvent,h,void 0,void 0,void 0,S),b.retry||C.reject(new d.Z(h)),void(this._metadataError=b);L=new m.Z({ellipsoid:E.ellipsoid})}var R=l.Z.clone(E.rectangle);if(!(0,a.Z)(R)){var M,j,q,H,V=(0,o.Z)(E.flipXY,!1);V?(q=new i.Z(parseFloat(r.getAttribute("miny")),parseFloat(r.getAttribute("minx"))),H=new i.Z(parseFloat(r.getAttribute("maxy")),parseFloat(r.getAttribute("maxx")))):(q=new i.Z(parseFloat(r.getAttribute("minx")),parseFloat(r.getAttribute("miny"))),H=new i.Z(parseFloat(r.getAttribute("maxx")),parseFloat(r.getAttribute("maxy"))));var U="geodetic"===A||"mercator"===A;if(L.projection instanceof u.Z||U)M=n.Z.fromDegrees(q.x,q.y),j=n.Z.fromDegrees(H.x,H.y);else{var Y=L.projection;M=Y.unproject(q),j=Y.unproject(H)}R=new l.Z(M.longitude,M.latitude,j.longitude,j.latitude)}R=Z(R,L),B=v(L,R,B);var W=this._tmsResource.getDerivedResource({url:"{z}/{x}/{reverseY}."+O});C.resolve({url:W,tilingScheme:L,rectangle:R,tileWidth:F,tileHeight:N,minimumLevel:B,maximumLevel:k,tileDiscardPolicy:E.tileDiscardPolicy,credit:E.credit})},_.prototype._metadataFailure=function(e){var t=this._options,r=(0,o.Z)(t.fileExtension,"png"),i=(0,o.Z)(t.tileWidth,256),n=(0,o.Z)(t.tileHeight,256),s=t.maximumLevel,u=(0,a.Z)(t.tilingScheme)?t.tilingScheme:new m.Z({ellipsoid:t.ellipsoid}),c=(0,o.Z)(t.rectangle,u.rectangle);c=Z(c,u);var l=v(u,c,t.maximumLevel),h=this._tmsResource.getDerivedResource({url:"{z}/{x}/{reverseY}."+r});this._deferred.resolve({url:h,tilingScheme:u,rectangle:c,tileWidth:i,tileHeight:n,minimumLevel:l,maximumLevel:s,tileDiscardPolicy:t.tileDiscardPolicy,credit:t.credit})},t["Z"]=_},8796:function(e,t,r){r.d(t,{Z:function(){return a}});var i=r(66553),n=r(62200),o=r(18349);function a(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),i.Z.typeOf.object("options.tile",e.tile),this._class=e.class;var t=e.tile;this._properties=t.properties,this._extensions=t.extensions,this._extras=t.extras}Object.defineProperties(a.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),a.prototype.hasProperty=function(e){return o.Z.hasProperty(e,this._properties,this._class)},a.prototype.hasPropertyBySemantic=function(e){return o.Z.hasPropertyBySemantic(e,this._properties,this._class)},a.prototype.getPropertyIds=function(e){return o.Z.getPropertyIds(this._properties,this._class,e)},a.prototype.getProperty=function(e){return o.Z.getProperty(e,this._properties,this._class)},a.prototype.setProperty=function(e,t){return o.Z.setProperty(e,t,this._properties,this._class)},a.prototype.getPropertyBySemantic=function(e){return o.Z.getPropertyBySemantic(e,this._properties,this._class)},a.prototype.setPropertyBySemantic=function(e,t){return o.Z.setPropertyBySemantic(e,t,this._properties,this._class)}},43338:function(e,t,r){var i=r(48243),n=r(27495),o=r(60216),a=r(66553),s=r(92062),u=r(26865),c=r(68201),l=r(72248),h=r(99417),d=r(25405),p=r(64060),m=r(34380),f=new o.Z,g=new o.Z,_=new o.Z,Z=new o.Z;function v(e,t,r){r=o.Z.cross(e,t,r);var i=o.Z.magnitude(r);return o.Z.multiplyByScalar(r,h.Z.EPSILON7/i,r)}function y(e,t){var r=o.Z.normalize(e,Z),i=o.Z.equalsEpsilon(r,o.Z.UNIT_X,h.Z.EPSILON6)?o.Z.UNIT_Y:o.Z.UNIT_X;return v(e,i,t)}function w(e){var t=c.Z.getColumn(e,0,f),r=c.Z.getColumn(e,1,g),i=c.Z.getColumn(e,2,_),n=o.Z.equals(t,o.Z.ZERO),a=o.Z.equals(r,o.Z.ZERO),s=o.Z.equals(i,o.Z.ZERO);return n||a||s?n&&a&&s?(e[0]=h.Z.EPSILON7,e[4]=h.Z.EPSILON7,e[8]=h.Z.EPSILON7,e):(!n||a||s?n||!a||s?n||a||!s?n?a?s||(t=y(i,t),r=v(i,t,r)):(t=y(r,t),i=v(r,t,i)):(r=y(t,r),i=v(r,t,i)):i=v(r,t,i):r=v(t,i,r):t=v(r,i,t),c.Z.setColumn(e,0,t,e),c.Z.setColumn(e,1,r,e),c.Z.setColumn(e,2,i,e),e):e}function x(e,t){t=w(t),this._orientedBoundingBox=new d.Z(e,t),this._boundingSphere=i.Z.fromOrientedBoundingBox(this._orientedBoundingBox)}Object.defineProperties(x.prototype,{boundingVolume:{get:function(){return this._orientedBoundingBox}},boundingSphere:{get:function(){return this._boundingSphere}}}),x.prototype.distanceToCamera=function(e){return a.Z.defined("frameState",e),Math.sqrt(this._orientedBoundingBox.distanceSquaredTo(e.camera.positionWC))},x.prototype.intersectPlane=function(e){return a.Z.defined("plane",e),this._orientedBoundingBox.intersectPlane(e)},x.prototype.update=function(e,t){o.Z.clone(e,this._orientedBoundingBox.center),t=w(t),c.Z.clone(t,this._orientedBoundingBox.halfAxes),i.Z.fromOrientedBoundingBox(this._orientedBoundingBox,this._boundingSphere)},x.prototype.createDebugVolume=function(e){a.Z.defined("color",e);var t=new n.Z({minimum:new o.Z(-1,-1,-1),maximum:new o.Z(1,1,1)}),r=l.Z.fromRotationTranslation(this.boundingVolume.halfAxes,this.boundingVolume.center),i=new u.Z({geometry:t,id:"outline",modelMatrix:r,attributes:{color:s.Z.fromColor(e)}});return new m.Z({geometryInstances:i,appearance:new p.Z({translucent:!1,flat:!0}),asynchronous:!1})},t["Z"]=x},26561:function(e,t,r){var i=r(82982);function n(){this.head=void 0,this.tail=void 0,this.count=0,this._lastBeforeStartOfFrame=void 0}function o(e,t){var r=t.replacementPrevious,i=t.replacementNext;t===e._lastBeforeStartOfFrame&&(e._lastBeforeStartOfFrame=i),t===e.head?e.head=i:r.replacementNext=i,t===e.tail?e.tail=r:i.replacementPrevious=r,t.replacementPrevious=void 0,t.replacementNext=void 0,--e.count}n.prototype.markStartOfRenderFrame=function(){this._lastBeforeStartOfFrame=this.head},n.prototype.trimTiles=function(e){var t=this.tail,r=!0;while(r&&(0,i.Z)(this._lastBeforeStartOfFrame)&&this.count>e&&(0,i.Z)(t)){r=t!==this._lastBeforeStartOfFrame;var n=t.replacementPrevious;t.eligibleForUnloading&&(t.freeResources(),o(this,t)),t=n}},n.prototype.markTileRendered=function(e){var t=this.head;if(t!==e){if(++this.count,!(0,i.Z)(t))return e.replacementPrevious=void 0,e.replacementNext=void 0,this.head=e,void(this.tail=e);((0,i.Z)(e.replacementPrevious)||(0,i.Z)(e.replacementNext))&&o(this,e),e.replacementPrevious=void 0,e.replacementNext=t,t.replacementPrevious=e,this.head=e}else e===this._lastBeforeStartOfFrame&&(this._lastBeforeStartOfFrame=e.replacementNext)},t["Z"]=n},37728:function(e,t){var r={NONE:0,CULLED:1,RENDERED:2,REFINED:3,RENDERED_AND_KICKED:6,REFINED_AND_KICKED:7,CULLED_BUT_NEEDED:9,wasKicked:function(e){return e>=r.RENDERED_AND_KICKED},originalResult:function(e){return 3&e},kick:function(e){return 4|e}};t["Z"]=r},70711:function(){var e={START:0,LOADING:1,READY:2,UPSAMPLED_ONLY:3};Object.freeze(e)},85794:function(e,t,r){var i=r(86511),n=r(13222);function o(e,t,r,i){this._tileset=e,this._tile=t,this._resource=r,this._readyPromise=n.Z.defer(),this.featurePropertiesDirty=!1,this._groupMetadata=void 0,a(this,i)}function a(e,t){e._tileset.loadTileset(e._resource,t,e._tile),e._readyPromise.resolve(e)}Object.defineProperties(o.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){}},groupMetadata:{get:function(){return this._groupMetadata},set:function(e){this._groupMetadata=e}}}),o.prototype.hasProperty=function(e,t){return!1},o.prototype.getFeature=function(e){},o.prototype.applyDebugSettings=function(e,t){},o.prototype.applyStyle=function(e){},o.prototype.update=function(e,t){},o.prototype.isDestroyed=function(){return!1},o.prototype.destroy=function(){return(0,i.Z)(this)},t["Z"]=o},38715:function(e,t,r){var i=r(66553),n=r(62200),o=r(82982),a=r(18349);function s(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=e.tileset;i.Z.typeOf.object("options.tileset",t);var r=(0,o.Z)(t.properties)?t.properties:{};this._class=e.class,this._properties=r,this._name=t.name,this._description=t.description,this._extras=t.extras,this._extensions=t.extensions}Object.defineProperties(s.prototype,{class:{get:function(){return this._class}},name:{get:function(){return this._name}},description:{get:function(){return this._description}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),s.prototype.hasProperty=function(e){return a.Z.hasProperty(e,this._properties,this._class)},s.prototype.hasPropertyBySemantic=function(e){return a.Z.hasPropertyBySemantic(e,this._properties,this._class)},s.prototype.getPropertyIds=function(e){return a.Z.getPropertyIds(this._properties,this._class,e)},s.prototype.getProperty=function(e){return a.Z.getProperty(e,this._properties,this._class)},s.prototype.setProperty=function(e,t){return a.Z.setProperty(e,t,this._properties,this._class)},s.prototype.getPropertyBySemantic=function(e){return a.Z.getPropertyBySemantic(e,this._properties,this._class)},s.prototype.setPropertyBySemantic=function(e,t){return a.Z.setPropertyBySemantic(e,t,this._properties,this._class)},t["Z"]=s},90299:function(e,t,r){var i=r(66553),n=r(62200),o=r(82982),a=r(12572),s=r(55293),u=r(22426),c=r(82968);function l(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),i.Z.typeOf.object("options.clock",e.clock),i.Z.typeOf.object("options.times",e.times),i.Z.typeOf.func("options.requestImageFunction",e.requestImageFunction),i.Z.typeOf.func("options.reloadFunction",e.reloadFunction),this._tileCache={},this._tilesRequestedForInterval=[];var t=this._clock=e.clock;this._times=e.times,this._requestImageFunction=e.requestImageFunction,this._reloadFunction=e.reloadFunction,this._currentIntervalIndex=-1,t.onTick.addEventListener(this._clockOnTick,this),this._clockOnTick(t)}function h(e,t,r){return e+"-"+t+"-"+r}function d(e){var t=e.split("-");if(3===t.length)return{x:Number(t[0]),y:Number(t[1]),level:Number(t[2])}}function p(e){var t=e._times;if((0,o.Z)(t)){var r=e._clock,i=r.currentTime,n=r.canAnimate&&r.shouldAnimate,a=r.multiplier;if(n||0===a){var u,c=t.indexOf(i);if(!(c<0)){var l=t.get(c);return a>0?(u=s.Z.secondsDifference(l.stop,i),++c):(u=s.Z.secondsDifference(l.start,i),--c),u/=a,c>=0&&u<=5?t.get(c):void 0}}}}function m(e,t,r){var i=e._times.indexOf(r.start),n=e._tileCache,a=n[i];(0,o.Z)(a)||(a=n[i]={});var s=t.key;if((0,o.Z)(a[s]))return!0;var l=d(s),h=new u.Z({throttle:!1,throttleByServer:!0,type:c.Z.IMAGERY,priorityFunction:t.priorityFunction}),p=e._requestImageFunction(l.x,l.y,l.level,h,r);return!!(0,o.Z)(p)&&(a[s]={promise:p,request:h},!0)}Object.defineProperties(l.prototype,{clock:{get:function(){return this._clock},set:function(e){if(!(0,o.Z)(e))throw new a.Z("value is required.");this._clock!==e&&(this._clock=e,this._clockOnTick(e),this._reloadFunction())}},times:{get:function(){return this._times},set:function(e){if(!(0,o.Z)(e))throw new a.Z("value is required.");this._times!==e&&(this._times=e,this._clockOnTick(this._clock),this._reloadFunction())}},currentInterval:{get:function(){return this._times.get(this._currentIntervalIndex)}}}),l.prototype.getFromCache=function(e,t,r,i){var n,a=h(e,t,r),s=this._tileCache[this._currentIntervalIndex];if((0,o.Z)(s)&&(0,o.Z)(s[a])){var u=s[a];n=u.promise.otherwise((function(e){throw i.state=u.request.state,e})),delete s[a]}return n},l.prototype.checkApproachingInterval=function(e,t,r,i){var n=h(e,t,r),a=this._tilesRequestedForInterval,s=p(this),u={key:n,priorityFunction:i.priorityFunction};(0,o.Z)(s)&&m(this,u,s)||a.push(u),a.length>=512&&a.splice(0,256)},l.prototype._clockOnTick=function(e){var t=e.currentTime,r=this._times,i=r.indexOf(t),n=this._currentIntervalIndex;if(i!==n){var a=this._tileCache[n];for(var s in a)a.hasOwnProperty(s)&&a[s].request.cancel();return delete this._tileCache[n],this._tilesRequestedForInterval=[],this._currentIntervalIndex=i,void this._reloadFunction()}var u=p(this);if((0,o.Z)(u)){var c=this._tilesRequestedForInterval,l=!0;while(l){if(0===c.length)break;var h=c.pop();l=m(this,h,u),l||c.push(h)}}},t["Z"]=l},78831:function(e,t,r){var i=r(23401),n=r(66553),o=r(8182),a=r(62200),s=r(82982),u=r(86511),c=r(14459),l=r(59081),h=r(55293),d=r(99417),p=r(72248),m=r(68985),f=r(13222),g=r(21809),_=r(15508),Z=r(29388),v=r(45393),y=r(89917),w=r(34125);function x(e){e=(0,a.Z)(e,a.Z.EMPTY_OBJECT),n.Z.typeOf.object("options.clock",e.clock),n.Z.typeOf.object("options.intervals",e.intervals),this.show=(0,a.Z)(e.show,!0),this.modelMatrix=p.Z.clone((0,a.Z)(e.modelMatrix,p.Z.IDENTITY)),this.shadows=(0,a.Z)(e.shadows,w.Z.ENABLED),this.maximumMemoryUsage=(0,a.Z)(e.maximumMemoryUsage,256),this.shading=new v.Z(e.shading),this.style=e.style,this.frameFailed=new c.Z,this.frameChanged=new c.Z,this._clock=e.clock,this._intervals=e.intervals,this._clippingPlanes=void 0,this.clippingPlanes=e.clippingPlanes,this._pointCloudEyeDomeLighting=new Z.Z,this._loadTimestamp=void 0,this._clippingPlanesState=0,this._styleDirty=!1,this._pickId=void 0,this._totalMemoryUsageInBytes=0,this._frames=[],this._previousInterval=void 0,this._nextInterval=void 0,this._lastRenderedFrame=void 0,this._clockMultiplier=0,this._readyPromise=f.Z.defer(),this._runningSum=0,this._runningLength=0,this._runningIndex=0,this._runningSamples=(0,i.Z)(new Array(5),0),this._runningAverage=0}function b(e){return"uniform vec4 czm_pickColor;\n"+e}function C(e){return function(t){return(0,o.Z)(t,{czm_pickColor:function(){return e._pickId.color}})}}function S(){return"czm_pickColor"}Object.defineProperties(x.prototype,{clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){g.Z.setOwner(e,this,"_clippingPlanes")}},totalMemoryUsageInBytes:{get:function(){return this._totalMemoryUsageInBytes}},boundingSphere:{get:function(){if((0,s.Z)(this._lastRenderedFrame))return this._lastRenderedFrame.pointCloud.boundingSphere}},readyPromise:{get:function(){return this._readyPromise.promise}}}),x.prototype.makeStyleDirty=function(){this._styleDirty=!0},x.prototype._getAverageLoadTime=function(){return 0===this._runningLength?.05:this._runningAverage};var T=new h.Z;function D(e){var t=e._clock,r=t.canAnimate&&t.shouldAnimate,i=t.multiplier;return r?i:0}function P(e,t){return e._intervals.indexOf(t.start)}function I(e,t){var r=e._intervals,i=e._clock,n=D(e);if(0!==n){var o=e._getAverageLoadTime(),a=h.Z.addSeconds(i.currentTime,o*n,T),s=r.indexOf(a),u=P(e,t);return s===u&&(n>=0?++s:--s),r.get(s)}}function E(e){var t=e._intervals,r=e._clock,i=r.currentTime,n=t.indexOf(i);return t.get(n)}function O(e,t,r){var i=D(e),n=P(e,t),o=P(e,r);return i>=0?n>=o:n<=o}function F(e,t){return function(r){var i=(0,s.Z)(r.message)?r.message:r.toString();e.frameFailed.numberOfListeners>0?e.frameFailed.raiseEvent({uri:t,message:i}):(console.log("A frame failed to load: "+t),console.log("Error: "+i))}}function N(e,t,r){var i=P(e,t),n=e._frames,o=n[i];if(!(0,s.Z)(o)){var a=t.data.transform,u=(0,s.Z)(a)?p.Z.fromArray(a):void 0,c=t.data.uri;o={pointCloud:void 0,transform:u,timestamp:(0,l.Z)(),sequential:!0,ready:!1,touchedFrameNumber:r.frameNumber},n[i]=o,m.Z.fetchArrayBuffer({url:c}).then((function(t){return o.pointCloud=new _.Z({arrayBuffer:t,cull:!0,fragmentShaderLoaded:b,uniformMapLoaded:C(e),pickIdLoaded:S}),o.pointCloud.readyPromise})).otherwise(F(e,c))}return o}function B(e,t){e._runningSum+=t,e._runningSum-=e._runningSamples[e._runningIndex],e._runningSamples[e._runningIndex]=t,e._runningLength=Math.min(e._runningLength+1,e._runningSamples.length),e._runningIndex=(e._runningIndex+1)%e._runningSamples.length,e._runningAverage=e._runningSum/e._runningLength}function k(e,t,r,i){t.touchedFrameNumber<i.frameNumber-1&&(t.sequential=!1);var n=t.pointCloud;if((0,s.Z)(n)&&!t.ready){var o=i.commandList,a=o.length;if(j(e,t,r,i),n.ready&&(t.ready=!0,e._totalMemoryUsageInBytes+=n.geometryByteLength,o.length=a,t.sequential)){var u=((0,l.Z)()-t.timestamp)/1e3;B(e,u)}}t.touchedFrameNumber=i.frameNumber}var A=new p.Z;function L(e,t){var r=e.shading;return(0,s.Z)(r)&&(0,s.Z)(r.baseResolution)?r.baseResolution:(0,s.Z)(t.boundingSphere)?d.Z.cbrt(t.boundingSphere.volume()/t.pointsLength):0}function R(e){var t=e.shading;return(0,s.Z)(t)&&(0,s.Z)(t.maximumAttenuation)?t.maximumAttenuation:10}var M=new v.Z;function j(e,t,r,i){var n=(0,a.Z)(e.shading,M),o=t.pointCloud,s=(0,a.Z)(t.transform,p.Z.IDENTITY);o.modelMatrix=p.Z.multiplyTransformation(e.modelMatrix,s,A),o.style=e.style,o.time=r.timeSinceLoad,o.shadows=e.shadows,o.clippingPlanes=e._clippingPlanes,o.isClipped=r.isClipped,o.attenuation=n.attenuation,o.backFaceCulling=n.backFaceCulling,o.normalShading=n.normalShading,o.geometricError=L(e,o),o.geometricErrorScale=n.geometricErrorScale,o.maximumAttenuation=R(e),o.update(i),t.touchedFrameNumber=i.frameNumber}function q(e,t,r,i){var n=N(e,t,i);k(e,n,r,i)}function H(e){return function(t){return t.touchedFrameNumber<e.frameNumber}}function V(e,t){for(var r=e._frames,i=r.length,n=0;n<i;++n){var o=r[n];if((0,s.Z)(o)&&(!(0,s.Z)(t)||t(o))){var a=o.pointCloud;o.ready&&(e._totalMemoryUsageInBytes-=a.geometryByteLength),(0,s.Z)(a)&&a.destroy(),o===e._lastRenderedFrame&&(e._lastRenderedFrame=void 0),r[n]=void 0}}}function U(e,t){var r=P(e,t),i=e._frames[r];if((0,s.Z)(i)&&i.ready)return i}function Y(e,t,r,i,n){return!!(0,s.Z)(r)&&(!!r.ready||(q(e,t,i,n),r.ready))}function W(e,t,r,i,n){var o,a,s,u=e._intervals,c=e._frames,l=P(e,r),h=P(e,t);if(l>=h){for(o=l;o>=h;--o)if(a=u.get(o),s=c[o],Y(e,a,s,i,n))return a}else for(o=l;o<=h;++o)if(a=u.get(o),s=c[o],Y(e,a,s,i,n))return a;return t}function z(e,t,r){for(var i=e._frames,n=i.length,o=0;o<n;++o){var a=i[o];(0,s.Z)(a)&&(0,s.Z)(a.pointCloud)&&(a.pointCloud.clippingPlanesDirty=t,a.pointCloud.styleDirty=r)}}var X={timeSinceLoad:0,isClipped:!1,clippingPlanesDirty:!1};x.prototype.update=function(e){if(e.mode!==y.Z.MORPHING&&this.show){(0,s.Z)(this._pickId)||(this._pickId=e.context.createPickId({primitive:this})),(0,s.Z)(this._loadTimestamp)||(this._loadTimestamp=h.Z.clone(e.time));var t=Math.max(1e3*h.Z.secondsDifference(e.time,this._loadTimestamp),0),r=this._clippingPlanes,i=0,n=!1,o=(0,s.Z)(r)&&r.enabled;o&&(r.update(e),i=r.clippingPlanesState),this._clippingPlanesState!==i&&(this._clippingPlanesState=i,n=!0);var a=this._styleDirty;this._styleDirty=!1,(n||a)&&z(this,n,a),X.timeSinceLoad=t,X.isClipped=o;var u=this.shading,c=this._pointCloudEyeDomeLighting,l=e.commandList,d=l.length,p=this._previousInterval,m=this._nextInterval,f=E(this);if((0,s.Z)(f)){var g=!1,_=D(this),Z=0===_;_!==this._clockMultiplier&&(g=!0,this._clockMultiplier=_),(0,s.Z)(p)&&!Z||(p=f),(!(0,s.Z)(m)||g||O(this,f,m))&&(m=I(this,f)),p=W(this,p,f,X,e);var v=U(this,p);(0,s.Z)(v)||(q(this,p,X,e),v=this._lastRenderedFrame),(0,s.Z)(v)&&j(this,v,X,e),(0,s.Z)(m)&&q(this,m,X,e);var w=this;(0,s.Z)(v)&&!(0,s.Z)(this._lastRenderedFrame)&&e.afterRender.push((function(){w._readyPromise.resolve(w)})),(0,s.Z)(v)&&v!==this._lastRenderedFrame&&w.frameChanged.numberOfListeners>0&&e.afterRender.push((function(){w.frameChanged.raiseEvent(w)})),this._previousInterval=p,this._nextInterval=m,this._lastRenderedFrame=v;var x=this._totalMemoryUsageInBytes,b=1024*this.maximumMemoryUsage*1024;x>b&&V(this,H(e));var C=l.length,S=C-d;(0,s.Z)(u)&&u.attenuation&&u.eyeDomeLighting&&S>0&&c.update(e,d,u,this.boundingSphere)}}},x.prototype.isDestroyed=function(){return!1},x.prototype.destroy=function(){return V(this),this._clippingPlanes=this._clippingPlanes&&this._clippingPlanes.destroy(),this._pickId=this._pickId&&this._pickId.destroy(),(0,u.Z)(this)},t["Z"]=x},1057:function(e,t){var r={REINHARD:0,MODIFIED_REINHARD:1,FILMIC:2,ACES:3,validate:function(e){return e===r.REINHARD||e===r.MODIFIED_REINHARD||e===r.FILMIC||e===r.ACES}};t["Z"]=Object.freeze(r)},7853:function(e,t,r){var i=r(88108),n=r(59947),o=r(82982),a=r(86511),s=r(38443),u=r(39899),c=r(60072),l=r(2932),h=r(8379),d=r(21572),p=r(10667),m=r(87721),f=r(53642),g=r(8743),_=r(19447),Z=r(40643),v=r(13633),y=r(87233),w=r(77053),x=!1;function b(e){this._drawClassificationFBO=void 0,this._accumulationFBO=void 0,this._packFBO=void 0,this._opaqueDepthStencilTexture=void 0,this._colorTexture=void 0,this._accumulationTexture=void 0,this._textureToComposite=void 0,this._translucentDepthStencilTexture=void 0,this._packedTranslucentDepth=void 0,this._packDepthCommand=void 0,this._accumulateCommand=void 0,this._compositeCommand=void 0,this._copyCommand=void 0,this._clearColorCommand=new u.Z({color:new n.Z(0,0,0,0),owner:this}),this._clearDepthStencilCommand=new u.Z({depth:1,stencil:0,owner:this}),this._supported=e.depthTexture,this._viewport=new i.Z,this._rsDepth=void 0,this._rsAccumulate=void 0,this._rsComp=void 0,this._useScissorTest=void 0,this._scissorRectangle=void 0,this._hasTranslucentDepth=!1,this._frustumsDrawn=0}function C(e){e._colorTexture=e._colorTexture&&!e._colorTexture.isDestroyed()&&e._colorTexture.destroy(),e._accumulationTexture=e._accumulationTexture&&!e._accumulationTexture.isDestroyed()&&e._accumulationTexture.destroy(),e._textureToComposite=void 0,e._translucentDepthStencilTexture=e._translucentDepthStencilTexture&&!e._translucentDepthStencilTexture.isDestroyed()&&e._translucentDepthStencilTexture.destroy(),e._packedTranslucentDepth=e._packedTranslucentDepth&&!e._packedTranslucentDepth.isDestroyed()&&e._packedTranslucentDepth.destroy()}function S(e){e._drawClassificationFBO=e._drawClassificationFBO&&!e._drawClassificationFBO.isDestroyed()&&e._drawClassificationFBO.destroy(),e._accumulationFBO=e._accumulationFBO&&!e._accumulationFBO.isDestroyed()&&e._accumulationFBO.destroy(),e._packFBO=e._packFBO&&!e._packFBO.isDestroyed()&&e._packFBO.destroy()}function T(e,t,r){return new g.Z({context:e,width:t,height:r,pixelFormat:s.Z.RGBA,pixelDatatype:d.Z.UNSIGNED_BYTE,sampler:m.Z.NEAREST})}function D(e,t,r,i){C(e),e._colorTexture=T(t,r,i),e._accumulationTexture=T(t,r,i),e._translucentDepthStencilTexture=new g.Z({context:t,width:r,height:i,pixelFormat:s.Z.DEPTH_STENCIL,pixelDatatype:d.Z.UNSIGNED_INT_24_8,sampler:m.Z.NEAREST}),e._packedTranslucentDepth=new g.Z({context:t,width:r,height:i,pixelFormat:s.Z.RGBA,pixelDatatype:d.Z.UNSIGNED_BYTE,sampler:m.Z.NEAREST})}function P(e,t){S(e),e._drawClassificationFBO=new l.Z({context:t,colorTextures:[e._colorTexture],depthStencilTexture:e._translucentDepthStencilTexture,destroyAttachments:!1}),e._accumulationFBO=new l.Z({context:t,colorTextures:[e._accumulationTexture],depthStencilTexture:e._translucentDepthStencilTexture,destroyAttachments:!1}),e._packFBO=new l.Z({context:t,colorTextures:[e._packedTranslucentDepth],destroyAttachments:!1})}function I(e,t,r,n){if(e.isSupported()){e._opaqueDepthStencilTexture=n.depthStencilTexture;var a,s,u=e._opaqueDepthStencilTexture.width,l=e._opaqueDepthStencilTexture.height,h=e._colorTexture,d=!(0,o.Z)(h)||h.width!==u||h.height!==l;if(d&&D(e,t,u,l),(0,o.Z)(e._drawClassificationFBO)&&!d||P(e,t),(0,o.Z)(e._packDepthCommand)||(a=new f.Z({sources:[_.Z]}),s={u_opaqueDepthTexture:function(){return e._opaqueDepthStencilTexture},u_translucentDepthTexture:function(){return e._translucentDepthStencilTexture}},e._packDepthCommand=t.createViewportQuadCommand(a,{uniformMap:s,owner:e})),!(0,o.Z)(e._compositeCommand)){a=new f.Z({sources:[Z.Z]}),s={colorTexture:function(){return e._textureToComposite}},x&&(a.defines=["DEBUG_SHOW_DEPTH"],s.u_packedTranslucentDepth=function(){return e._packedTranslucentDepth}),e._compositeCommand=t.createViewportQuadCommand(a,{uniformMap:s,owner:e});var m=e._compositeCommand,g=m.shaderProgram,b=t.shaderCache.createDerivedShaderProgram(g,"pick",{vertexShaderSource:g.vertexShaderSource,fragmentShaderSource:new f.Z({sources:a.sources,defines:["PICK"]}),attributeLocations:g._attributeLocations}),C=c.Z.shallowClone(m);C.shaderProgram=b,m.derivedCommands.pick=C}(0,o.Z)(e._copyCommand)||(a=new f.Z({sources:[Z.Z]}),s={colorTexture:function(){return e._colorTexture}},e._copyCommand=t.createViewportQuadCommand(a,{uniformMap:s,owner:e})),(0,o.Z)(e._accumulateCommand)||(a=new f.Z({sources:[Z.Z]}),s={colorTexture:function(){return e._colorTexture}},e._accumulateCommand=t.createViewportQuadCommand(a,{uniformMap:s,owner:e})),e._viewport.width=u,e._viewport.height=l;var S=!i.Z.equals(e._viewport,r.viewport),T=S!==e._useScissorTest;e._useScissorTest=S,i.Z.equals(e._scissorRectangle,r.viewport)||(e._scissorRectangle=i.Z.clone(r.viewport,e._scissorRectangle),T=!0),(0,o.Z)(e._rsDepth)&&i.Z.equals(e._viewport,e._rsDepth.viewport)&&!T||(e._rsDepth=p.Z.fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle}})),(0,o.Z)(e._packDepthCommand)&&(e._packDepthCommand.renderState=e._rsDepth),(0,o.Z)(e._rsAccumulate)&&i.Z.equals(e._viewport,e._rsAccumulate.viewport)&&!T||(e._rsAccumulate=p.Z.fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle},stencilTest:{enabled:!0,frontFunction:w.Z.EQUAL,reference:y.Z.CESIUM_3D_TILE_MASK}})),(0,o.Z)(e._accumulateCommand)&&(e._accumulateCommand.renderState=e._rsAccumulate),(0,o.Z)(e._rsComp)&&i.Z.equals(e._viewport,e._rsComp.viewport)&&!T||(e._rsComp=p.Z.fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle},blending:v.Z.ALPHA_BLEND})),(0,o.Z)(e._compositeCommand)&&(e._compositeCommand.renderState=e._rsComp,e._compositeCommand.derivedCommands.pick.renderState=e._rsComp)}}function E(e,t,r){if(e._hasTranslucentDepth){var i=r.framebuffer;r.framebuffer=e._drawClassificationFBO,e._clearColorCommand.execute(t._context,r),r.framebuffer=i,e._frustumsDrawn>1&&(r.framebuffer=e._accumulationFBO,e._clearColorCommand.execute(t._context,r)),e._hasTranslucentDepth=!1,e._frustumsDrawn=0}}Object.defineProperties(b.prototype,{hasTranslucentDepth:{get:function(){return this._hasTranslucentDepth}}}),b.prototype.executeTranslucentCommands=function(e,t,r,i,n){var o,a,s=i.length,u=e.frameState.useLogDepth,c=e.context,l=r.framebuffer;for(a=0;a<s;++a)if(o=i[a],o=u?o.derivedCommands.logDepth.command:o,o.depthForTranslucentClassification){this._hasTranslucentDepth=!0;break}if(this._hasTranslucentDepth){for(I(this,c,r,n),r.framebuffer=this._drawClassificationFBO,this._clearDepthStencilCommand.execute(c,r),a=0;a<s;++a)if(o=i[a],o=u?o.derivedCommands.logDepth.command:o,o.depthForTranslucentClassification){var h=o.derivedCommands.depth.depthOnlyCommand;t(h,e,c,r)}this._frustumsDrawn+=this._hasTranslucentDepth?1:0,this._hasTranslucentDepth&&(r.framebuffer=this._packFBO,this._packDepthCommand.execute(c,r)),r.framebuffer=l}},b.prototype.executeClassificationCommands=function(e,t,r,i){if(this._hasTranslucentDepth){var n=e.context,o=n.uniformState,a=r.framebuffer;2===this._frustumsDrawn&&(r.framebuffer=this._accumulationFBO,this._copyCommand.execute(n,r)),r.framebuffer=this._drawClassificationFBO,this._frustumsDrawn>1&&this._clearColorCommand.execute(n,r),o.updatePass(h.Z.CESIUM_3D_TILE_CLASSIFICATION);var s=o.globeDepthTexture;o.globeDepthTexture=this._packedTranslucentDepth;for(var u=i.commands[h.Z.CESIUM_3D_TILE_CLASSIFICATION],c=i.indices[h.Z.CESIUM_3D_TILE_CLASSIFICATION],l=0;l<c;++l)t(u[l],e,n,r);o.globeDepthTexture=s,r.framebuffer=a,1!==this._frustumsDrawn&&(r.framebuffer=this._accumulationFBO,this._accumulateCommand.execute(n,r),r.framebuffer=a)}},b.prototype.execute=function(e,t){if(this._hasTranslucentDepth){1===this._frustumsDrawn?this._textureToComposite=this._colorTexture:this._textureToComposite=this._accumulationTexture;var r=e.frameState.passes.pick?this._compositeCommand.derivedCommands.pick:this._compositeCommand;r.execute(e.context,t),E(this,e,t)}},b.prototype.isSupported=function(){return this._supported},b.prototype.isDestroyed=function(){return!1},b.prototype.destroy=function(){return C(this),S(this),(0,o.Z)(this._compositeCommand)&&(this._compositeCommand.shaderProgram=this._compositeCommand.shaderProgram&&this._compositeCommand.shaderProgram.destroy()),(0,o.Z)(this._packDepthCommand)&&(this._packDepthCommand.shaderProgram=this._packDepthCommand.shaderProgram&&this._packDepthCommand.shaderProgram.destroy()),(0,a.Z)(this)},t["Z"]=b},74476:function(e,t,r){var i=r(83856),n=r(62200),o=r(82982),a=r(12572),s=r(50732),u=r(59081),c=r(4877),l=r(85684);function h(e,t,r,n,o,a,s,u,c,l){this._tweens=e,this._tweenjs=t,this._startObject=(0,i.Z)(r),this._stopObject=(0,i.Z)(n),this._duration=o,this._delay=a,this._easingFunction=s,this._update=u,this._complete=c,this.cancel=l,this.needsStart=!0}function d(){this._tweens=[]}Object.defineProperties(h.prototype,{startObject:{get:function(){return this._startObject}},stopObject:{get:function(){return this._stopObject}},duration:{get:function(){return this._duration}},delay:{get:function(){return this._delay}},easingFunction:{get:function(){return this._easingFunction}},update:{get:function(){return this._update}},complete:{get:function(){return this._complete}},tweenjs:{get:function(){return this._tweenjs}}}),h.prototype.cancelTween=function(){this._tweens.remove(this)},Object.defineProperties(d.prototype,{length:{get:function(){return this._tweens.length}}}),d.prototype.add=function(e){if(e=(0,n.Z)(e,n.Z.EMPTY_OBJECT),!(0,o.Z)(e.startObject)||!(0,o.Z)(e.stopObject))throw new a.Z("options.startObject and options.stopObject are required.");if(!(0,o.Z)(e.duration)||e.duration<0)throw new a.Z("options.duration is required and must be positive.");if(0===e.duration)return(0,o.Z)(e.complete)&&e.complete(),new h(this);var t=e.duration/c.Z.SECONDS_PER_MILLISECOND,r=(0,n.Z)(e.delay,0),u=r/c.Z.SECONDS_PER_MILLISECOND,d=(0,n.Z)(e.easingFunction,s.Z.LINEAR_NONE),p=e.startObject,m=new l.Z.Tween(p);m.to((0,i.Z)(e.stopObject),t),m.delay(u),m.easing(d),(0,o.Z)(e.update)&&m.onUpdate((function(){e.update(p)})),m.onComplete((0,n.Z)(e.complete,null)),m.repeat((0,n.Z)(e._repeat,0));var f=new h(this,m,e.startObject,e.stopObject,e.duration,r,d,e.update,e.complete,e.cancel);return this._tweens.push(f),f},d.prototype.addProperty=function(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=e.object,r=e.property,i=e.startValue,s=e.stopValue;if(!(0,o.Z)(t)||!(0,o.Z)(e.property))throw new a.Z("options.object and options.property are required.");if(!(0,o.Z)(t[r]))throw new a.Z("options.object must have the specified property.");if(!(0,o.Z)(i)||!(0,o.Z)(s))throw new a.Z("options.startValue and options.stopValue are required.");function u(e){t[r]=e.value}return this.add({startObject:{value:i},stopObject:{value:s},duration:(0,n.Z)(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:u,complete:e.complete,cancel:e.cancel,_repeat:e._repeat})},d.prototype.addAlpha=function(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=e.material;if(!(0,o.Z)(t))throw new a.Z("options.material is required.");var r=[];for(var i in t.uniforms)t.uniforms.hasOwnProperty(i)&&(0,o.Z)(t.uniforms[i])&&(0,o.Z)(t.uniforms[i].alpha)&&r.push(i);if(0===r.length)throw new a.Z("material has no properties with alpha components.");function s(e){for(var i=r.length,n=0;n<i;++n)t.uniforms[r[n]].alpha=e.alpha}return this.add({startObject:{alpha:(0,n.Z)(e.startValue,0)},stopObject:{alpha:(0,n.Z)(e.stopValue,1)},duration:(0,n.Z)(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:s,complete:e.complete,cancel:e.cancel})},d.prototype.addOffsetIncrement=function(e){e=(0,n.Z)(e,n.Z.EMPTY_OBJECT);var t=e.material;if(!(0,o.Z)(t))throw new a.Z("material is required.");if(!(0,o.Z)(t.uniforms.offset))throw new a.Z("material.uniforms must have an offset property.");var r=t.uniforms;return this.addProperty({object:r,property:"offset",startValue:r.offset,stopValue:r.offset+1,duration:e.duration,delay:e.delay,easingFunction:e.easingFunction,update:e.update,cancel:e.cancel,_repeat:1/0})},d.prototype.remove=function(e){if(!(0,o.Z)(e))return!1;var t=this._tweens.indexOf(e);return-1!==t&&(e.tweenjs.stop(),(0,o.Z)(e.cancel)&&e.cancel(),this._tweens.splice(t,1),!0)},d.prototype.removeAll=function(){for(var e=this._tweens,t=0;t<e.length;++t){var r=e[t];r.tweenjs.stop(),(0,o.Z)(r.cancel)&&r.cancel()}e.length=0},d.prototype.contains=function(e){return(0,o.Z)(e)&&-1!==this._tweens.indexOf(e)},d.prototype.get=function(e){if(!(0,o.Z)(e))throw new a.Z("index is required.");return this._tweens[e]},d.prototype.update=function(e){var t=this._tweens,r=0;e=(0,o.Z)(e)?e/c.Z.SECONDS_PER_MILLISECOND:(0,u.Z)();while(r<t.length){var i=t[r],n=i.tweenjs;i.needsStart?(i.needsStart=!1,n.start(e)):n.update(e)?r++:(n.stop(),t.splice(r,1))}},t["Z"]=d},24855:function(e,t,r){var i=r(60838),n=r(60216),o=r(51688),a=r(8182),s=r(52975),u=r(62200),c=r(82982),l=r(12572),h=r(14459),d=r(39756),p=r(99417),m=r(96190),f=r(68985),g=r(42423),_=r(13222),Z=r(95451),v=/{[^}]+}/g,y={x:N,y:k,z:R,s:M,reverseX:B,reverseY:A,reverseZ:L,westDegrees:q,southDegrees:H,eastDegrees:V,northDegrees:U,westProjected:W,southProjected:z,eastProjected:X,northProjected:G,width:J,height:K},w=(0,a.Z)(y,{i:Q,j:$,reverseI:ee,reverseJ:te,longitudeDegrees:oe,latitudeDegrees:ae,longitudeProjected:se,latitudeProjected:ue,format:he});function x(e){if(!(0,c.Z)(e))throw new l.Z("options is required.");if(!_.Z.isPromise(e)&&!(0,c.Z)(e.url))throw new l.Z("options is required.");this._errorEvent=new h.Z,this._resource=void 0,this._urlSchemeZeroPadding=void 0,this._pickFeaturesResource=void 0,this._tileWidth=void 0,this._tileHeight=void 0,this._maximumLevel=void 0,this._minimumLevel=void 0,this._tilingScheme=void 0,this._rectangle=void 0,this._tileDiscardPolicy=void 0,this._credit=void 0,this._hasAlphaChannel=void 0,this._readyPromise=void 0,this._tags=void 0,this._pickFeaturesTags=void 0,this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this.enablePickFeatures=!0,this.reinitialize(e)}Object.defineProperties(x.prototype,{url:{get:function(){return this._resource.url}},urlSchemeZeroPadding:{get:function(){return this._urlSchemeZeroPadding}},pickFeaturesUrl:{get:function(){return this._pickFeaturesResource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){if(!this.ready)throw new l.Z("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this.ready)throw new l.Z("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this.ready)throw new l.Z("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this.ready)throw new l.Z("minimumLevel must not be called before the imagery provider is ready.");return this._minimumLevel}},tilingScheme:{get:function(){if(!this.ready)throw new l.Z("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this.ready)throw new l.Z("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this.ready)throw new l.Z("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,c.Z)(this._resource)}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){if(!this.ready)throw new l.Z("credit must not be called before the imagery provider is ready.");return this._credit}},hasAlphaChannel:{get:function(){if(!this.ready)throw new l.Z("hasAlphaChannel must not be called before the imagery provider is ready.");return this._hasAlphaChannel}}}),x.prototype.reinitialize=function(e){var t=this;t._readyPromise=(0,_.Z)(e).then((function(e){if(!(0,c.Z)(e))throw new l.Z("options is required.");if(!(0,c.Z)(e.url))throw new l.Z("options.url is required.");var r=e.customTags,i=(0,a.Z)(y,r),n=(0,a.Z)(w,r),o=f.Z.createIfNeeded(e.url),h=f.Z.createIfNeeded(e.pickFeaturesUrl);t.enablePickFeatures=(0,u.Z)(e.enablePickFeatures,t.enablePickFeatures),t._urlSchemeZeroPadding=(0,u.Z)(e.urlSchemeZeroPadding,t.urlSchemeZeroPadding),t._tileDiscardPolicy=e.tileDiscardPolicy,t._getFeatureInfoFormats=e.getFeatureInfoFormats,t._subdomains=e.subdomains,Array.isArray(t._subdomains)?t._subdomains=t._subdomains.slice():(0,c.Z)(t._subdomains)&&t._subdomains.length>0?t._subdomains=t._subdomains.split(""):t._subdomains=["a","b","c"],t._tileWidth=(0,u.Z)(e.tileWidth,256),t._tileHeight=(0,u.Z)(e.tileHeight,256),t._minimumLevel=(0,u.Z)(e.minimumLevel,0),t._maximumLevel=e.maximumLevel,t._tilingScheme=(0,u.Z)(e.tilingScheme,new g.Z({ellipsoid:e.ellipsoid})),t._rectangle=(0,u.Z)(e.rectangle,t._tilingScheme.rectangle),t._rectangle=m.Z.intersection(t._rectangle,t._tilingScheme.rectangle),t._hasAlphaChannel=(0,u.Z)(e.hasAlphaChannel,!0);var d=e.credit;return"string"===typeof d&&(d=new s.Z(d)),t._credit=d,t._resource=o,t._tags=i,t._pickFeaturesResource=h,t._pickFeaturesTags=n,!0}))},x.prototype.getTileCredits=function(e,t,r){if(!this.ready)throw new l.Z("getTileCredits must not be called before the imagery provider is ready.")},x.prototype.requestImage=function(e,t,r,i){if(!this.ready)throw new l.Z("requestImage must not be called before the imagery provider is ready.");return Z.Z.loadImage(this,D(this,e,t,r,i))},x.prototype.pickFeatures=function(e,t,r,i,n){if(!this.ready)throw new l.Z("pickFeatures must not be called before the imagery provider is ready.");if(this.enablePickFeatures&&(0,c.Z)(this._pickFeaturesResource)&&0!==this._getFeatureInfoFormats.length){var o=0,a=this;return u()}function s(e,t){return e.callback(t)}function u(){if(o>=a._getFeatureInfoFormats.length)return(0,_.Z)([]);var c=a._getFeatureInfoFormats[o],l=O(a,e,t,r,i,n,c.format);return++o,"json"===c.type?l.fetchJson().then(c.callback).otherwise(u):"xml"===c.type?l.fetchXML().then(c.callback).otherwise(u):"text"===c.type||"html"===c.type?l.fetchText().then(c.callback).otherwise(u):l.fetch({responseType:c.format}).then(s.bind(void 0,c)).otherwise(u)}};var b=!1,C=new m.Z,S=!1,T=new m.Z;function D(e,t,r,i,n){b=!1,S=!1;var o=e._resource,a=o.getUrlComponent(!0),s=e._tags,u={},l=a.match(v);return(0,c.Z)(l)&&l.forEach((function(n){var o=n.substring(1,n.length-1);(0,c.Z)(s[o])&&(u[o]=s[o](e,t,r,i))})),o.getDerivedResource({request:n,templateValues:u})}var P=!1,I=new i.Z,E=!1;function O(e,t,r,i,n,o,a){b=!1,S=!1,P=!1,E=!1;var s=e._pickFeaturesResource,u=s.getUrlComponent(!0),l=e._pickFeaturesTags,h={},d=u.match(v);return(0,c.Z)(d)&&d.forEach((function(s){var u=s.substring(1,s.length-1);(0,c.Z)(l[u])&&(h[u]=l[u](e,t,r,i,n,o,a))})),s.getDerivedResource({templateValues:h})}function F(e,t,r){if(e&&e.urlSchemeZeroPadding&&e.urlSchemeZeroPadding.hasOwnProperty(t)){var i=e.urlSchemeZeroPadding[t];if("string"===typeof i){var n=i.length;n>1&&(r=r.length>=n?r:new Array(n-r.toString().length+1).join("0")+r)}}return r}function N(e,t,r,i){return F(e,"{x}",t)}function B(e,t,r,i){var n=e.tilingScheme.getNumberOfXTilesAtLevel(i)-t-1;return F(e,"{reverseX}",n)}function k(e,t,r,i){return F(e,"{y}",r)}function A(e,t,r,i){var n=e.tilingScheme.getNumberOfYTilesAtLevel(i)-r-1;return F(e,"{reverseY}",n)}function L(e,t,r,i){var n=e.maximumLevel,o=(0,c.Z)(n)&&i<n?n-i-1:i;return F(e,"{reverseZ}",o)}function R(e,t,r,i){return F(e,"{z}",i)}function M(e,t,r,i){var n=(t+r+i)%e._subdomains.length;return e._subdomains[n]}function j(e,t,r,i){b||(e.tilingScheme.tileXYToRectangle(t,r,i,C),C.west=p.Z.toDegrees(C.west),C.south=p.Z.toDegrees(C.south),C.east=p.Z.toDegrees(C.east),C.north=p.Z.toDegrees(C.north),b=!0)}function q(e,t,r,i){return j(e,t,r,i),C.west}function H(e,t,r,i){return j(e,t,r,i),C.south}function V(e,t,r,i){return j(e,t,r,i),C.east}function U(e,t,r,i){return j(e,t,r,i),C.north}function Y(e,t,r,i){S||(e.tilingScheme.tileXYToNativeRectangle(t,r,i,T),S=!0)}function W(e,t,r,i){return Y(e,t,r,i),T.west}function z(e,t,r,i){return Y(e,t,r,i),T.south}function X(e,t,r,i){return Y(e,t,r,i),T.east}function G(e,t,r,i){return Y(e,t,r,i),T.north}function J(e,t,r,i){return e.tileWidth}function K(e,t,r,i){return e.tileHeight}function Q(e,t,r,i,n,o,a){return ne(e,t,r,i,n,o),I.x}function $(e,t,r,i,n,o,a){return ne(e,t,r,i,n,o),I.y}function ee(e,t,r,i,n,o,a){return ne(e,t,r,i,n,o),e.tileWidth-I.x-1}function te(e,t,r,i,n,o,a){return ne(e,t,r,i,n,o),e.tileHeight-I.y-1}var re=new m.Z,ie=new n.Z;function ne(e,t,r,i,n,o,a){if(!P){le(e,t,r,i,n,o);var s=ie,u=e.tilingScheme.tileXYToNativeRectangle(t,r,i,re);I.x=e.tileWidth*(s.x-u.west)/u.width|0,I.y=e.tileHeight*(u.north-s.y)/u.height|0,P=!0}}function oe(e,t,r,i,n,o,a){return p.Z.toDegrees(n)}function ae(e,t,r,i,n,o,a){return p.Z.toDegrees(o)}function se(e,t,r,i,n,o,a){return le(e,t,r,i,n,o),ie.x}function ue(e,t,r,i,n,o,a){return le(e,t,r,i,n,o),ie.y}var ce=new o.Z;function le(e,t,r,i,n,o,a){if(!E){if(e.tilingScheme.projection instanceof d.Z)ie.x=p.Z.toDegrees(n),ie.y=p.Z.toDegrees(o);else{var s=ce;s.longitude=n,s.latitude=o,e.tilingScheme.projection.project(s,ie)}E=!0}}function he(e,t,r,i,n,o,a){return a}t["Z"]=x}}]);
//# sourceMappingURL=chunk-vendors-7728577d-legacy.664f6832.js.map