"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[8259],{63640:function(e,t,r){var i=r(60216),o=r(61252);function n(e){this._ellipsoid=new o.Z(e.ellipsoid,i.Z.ZERO)}Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),t["Z"]=n},9733:function(e,t,r){var i,o=r(60216),n=r(51688),a=r(62200),s=r(82982),l=r(12572),u=r(14459),d=r(59081),c=r(99417),h=r(72248),f=r(91473),p=r(35131),g=r(68457),Z=r(96190),m=r(54933),v=r(63640),b=r(19543),_=r(85828),R=r(89917),y=r(26561),C=r(37728);function w(e){if(!(0,s.Z)(e)||!(0,s.Z)(e.tileProvider))throw new l.Z("options.tileProvider is required.");if((0,s.Z)(e.tileProvider.quadtree))throw new l.Z("A QuadtreeTileProvider can only be used with a single QuadtreePrimitive");this._tileProvider=e.tileProvider,this._tileProvider.quadtree=this,this._debug={enableDebugOutput:!1,maxDepth:0,maxDepthVisited:0,tilesVisited:0,tilesCulled:0,tilesRendered:0,tilesWaitingForChildren:0,lastMaxDepth:-1,lastMaxDepthVisited:-1,lastTilesVisited:-1,lastTilesCulled:-1,lastTilesRendered:-1,lastTilesWaitingForChildren:-1,suspendLodUpdate:!1};var t=this._tileProvider.tilingScheme,r=t.ellipsoid;this._tilesToRender=[],this._tileLoadQueueHigh=[],this._tileLoadQueueMedium=[],this._tileLoadQueueLow=[],this._tileReplacementQueue=new y.Z,this._levelZeroTiles=void 0,this._loadQueueTimeSlice=5,this._tilesInvalidated=!1,this._addHeightCallbacks=[],this._removeHeightCallbacks=[],this._tileToUpdateHeights=[],this._lastTileIndex=0,this._updateHeightsTimeSlice=2,this._cameraPositionCartographic=void 0,this._cameraReferenceFrameOriginCartographic=void 0,this.maximumScreenSpaceError=(0,a.Z)(e.maximumScreenSpaceError,2),this.tileCacheSize=(0,a.Z)(e.tileCacheSize,100),this.loadingDescendantLimit=20,this.preloadAncestors=!0,this.preloadSiblings=!1,this._occluders=new v.Z({ellipsoid:r}),this._tileLoadProgressEvent=new u.Z,this._lastTileLoadQueueLength=0,this._lastSelectionFrameNumber=void 0}function E(e){var t=e._tileReplacementQueue;t.head=void 0,t.tail=void 0,t.count=0,T(e);var r=e._levelZeroTiles;if((0,s.Z)(r))for(var i=0;i<r.length;++i){for(var o=r[i],n=o.customData,a=n.length,l=0;l<a;++l){var u=n[l];u.level=0,e._addHeightCallbacks.push(u)}r[i].freeResources()}e._levelZeroTiles=void 0,e._tileProvider.cancelReprojections()}function T(e){var t=e._debug;t.maxDepth=0,t.maxDepthVisited=0,t.tilesVisited=0,t.tilesCulled=0,t.tilesRendered=0,t.tilesWaitingForChildren=0,e._tileLoadQueueHigh.length=0,e._tileLoadQueueMedium.length=0,e._tileLoadQueueLow.length=0}function O(e,t){var r=e._tileLoadQueueHigh.length+e._tileLoadQueueMedium.length+e._tileLoadQueueLow.length;(r!==e._lastTileLoadQueueLength||e._tilesInvalidated)&&(t.afterRender.push(u.Z.prototype.raiseEvent.bind(e._tileLoadProgressEvent,r)),e._lastTileLoadQueueLength=r);var i=e._debug;i.enableDebugOutput&&!i.suspendLodUpdate&&(i.maxDepth=e._tilesToRender.reduce((function(e,t){return Math.max(e,t.level)}),-1),i.tilesRendered=e._tilesToRender.length,i.tilesVisited===i.lastTilesVisited&&i.tilesRendered===i.lastTilesRendered&&i.tilesCulled===i.lastTilesCulled&&i.maxDepth===i.lastMaxDepth&&i.tilesWaitingForChildren===i.lastTilesWaitingForChildren&&i.maxDepthVisited===i.lastMaxDepthVisited||(console.log("Visited "+i.tilesVisited+", Rendered: "+i.tilesRendered+", Culled: "+i.tilesCulled+", Max Depth Rendered: "+i.maxDepth+", Max Depth Visited: "+i.maxDepthVisited+", Waiting for children: "+i.tilesWaitingForChildren),i.lastTilesVisited=i.tilesVisited,i.lastTilesRendered=i.tilesRendered,i.lastTilesCulled=i.tilesCulled,i.lastMaxDepth=i.maxDepth,i.lastTilesWaitingForChildren=i.tilesWaitingForChildren,i.lastMaxDepthVisited=i.maxDepthVisited))}Object.defineProperties(w.prototype,{tileProvider:{get:function(){return this._tileProvider}},tileLoadProgressEvent:{get:function(){return this._tileLoadProgressEvent}},occluders:{get:function(){return this._occluders}}}),w.prototype.invalidateAllTiles=function(){this._tilesInvalidated=!0},w.prototype.forEachLoadedTile=function(e){var t=this._tileReplacementQueue.head;while((0,s.Z)(t))t.state!==_.Z.START&&e(t),t=t.replacementNext},w.prototype.forEachRenderedTile=function(e){for(var t=this._tilesToRender,r=0,i=t.length;r<i;++r)e(t[r])},w.prototype.updateHeight=function(e,t){var r=this,i={positionOnEllipsoidSurface:void 0,positionCartographic:e,level:-1,callback:t,removeFunc:function(){for(var e=r._addHeightCallbacks,t=e.length,o=0;o<t;++o)if(e[o]===i){e.splice(o,1);break}r._removeHeightCallbacks.push(i)}};return r._addHeightCallbacks.push(i),i.removeFunc},w.prototype.update=function(e){(0,s.Z)(this._tileProvider.update)&&this._tileProvider.update(e)},w.prototype.beginFrame=function(e){var t=e.passes;t.render&&(this._tilesInvalidated&&(E(this),this._tilesInvalidated=!1),this._tileProvider.initialize(e),T(this),this._debug.suspendLodUpdate||this._tileReplacementQueue.markStartOfRenderFrame())},w.prototype.render=function(e){var t=e.passes,r=this._tileProvider;t.render&&(r.beginUpdate(e),I(this,e),$(this,e),r.endUpdate(e)),t.pick&&this._tilesToRender.length>0&&r.updateForPick(e)},w.prototype.endFrame=function(e){var t=e.passes;t.render&&e.mode!==R.Z.MORPHING&&(W(this,e),X(this,e),O(this,e))},w.prototype.isDestroyed=function(){return!1},w.prototype.destroy=function(){this._tileProvider=this._tileProvider&&this._tileProvider.destroy()};var L=new n.Z;function S(e,t){var r=Z.Z.center(e.rectangle,L),o=r.longitude-i.longitude,n=r.latitude-i.latitude;r=Z.Z.center(t.rectangle,L);var a=r.longitude-i.longitude,s=r.latitude-i.latitude;return o*o+n*n-(a*a+s*s)}var x=new o.Z,D=[];function I(e,t){var r=e._debug;if(!r.suspendLodUpdate){var o,n=e._tilesToRender;n.length=0;var a,l=e._tileProvider;if(!(0,s.Z)(e._levelZeroTiles)){if(!l.ready)return;var u=l.tilingScheme;e._levelZeroTiles=b.Z.createLevelZeroTiles(u);var d=e._levelZeroTiles.length;if(D.length<d)for(D=new Array(d),o=0;o<d;++o)void 0===D[o]&&(D[o]=new F)}e._occluders.ellipsoid.cameraPosition=t.camera.positionWC;var c=e._levelZeroTiles,f=c.length>1?e._occluders:void 0;i=t.camera.positionCartographic,c.sort(S);var p,g=e._addHeightCallbacks,Z=e._removeHeightCallbacks,m=t.frameNumber;if(g.length>0||Z.length>0){for(o=0,p=c.length;o<p;++o)a=c[o],a._updateCustomData(m,g,Z);g.length=0,Z.length=0}var v=t.camera;e._cameraPositionCartographic=v.positionCartographic;var _=h.Z.getTranslation(v.transform,x);for(e._cameraReferenceFrameOriginCartographic=e.tileProvider.tilingScheme.ellipsoid.cartesianToCartographic(_,e._cameraReferenceFrameOriginCartographic),o=0,p=c.length;o<p;++o)a=c[o],e._tileReplacementQueue.markTileRendered(a),a.renderable?A(e,a,l,t,f,!1,D[o]):(P(e,e._tileLoadQueueHigh,a,t),++r.tilesWaitingForChildren);e._lastSelectionFrameNumber=m}}function P(e,t,r,i){r.needsLoading&&(void 0!==e.tileProvider.computeTileLoadPriority&&(r._loadPriority=e.tileProvider.computeTileLoadPriority(r,i)),t.push(r))}function F(){this.allAreRenderable=!0,this.anyWereRenderedLastFrame=!1,this.notYetRenderableCount=0}function j(){this.southwest=new F,this.southeast=new F,this.northwest=new F,this.northeast=new F}j.prototype.combine=function(e){var t=this.southwest,r=this.southeast,i=this.northwest,o=this.northeast;e.allAreRenderable=t.allAreRenderable&&r.allAreRenderable&&i.allAreRenderable&&o.allAreRenderable,e.anyWereRenderedLastFrame=t.anyWereRenderedLastFrame||r.anyWereRenderedLastFrame||i.anyWereRenderedLastFrame||o.anyWereRenderedLastFrame,e.notYetRenderableCount=t.notYetRenderableCount+r.notYetRenderableCount+i.notYetRenderableCount+o.notYetRenderableCount};for(var N=new Array(31),M=0;M<N.length;++M)N[M]=new j;function V(e,t,r,i,o){var n=e._debug;++n.tilesVisited,e._tileReplacementQueue.markTileRendered(r),r._updateCustomData(t.frameNumber),r.level>n.maxDepthVisited&&(n.maxDepthVisited=r.level);var a=K(e,t,r)<e.maximumScreenSpaceError,l=r.southwestChild,u=r.southeastChild,d=r.northwestChild,c=r.northeastChild,h=e._lastSelectionFrameNumber,f=r._lastSelectionResultFrame===h?r._lastSelectionResult:C.Z.NONE,p=e.tileProvider;if(a||i){var g=C.Z.originalResult(f)===C.Z.RENDERED,Z=C.Z.originalResult(f)===C.Z.CULLED||f===C.Z.NONE,m=r.state===_.Z.DONE,v=g||Z||m;if(v||(0,s.Z)(p.canRenderWithoutLosingDetail)&&(v=p.canRenderWithoutLosingDetail(r)),v)return a&&P(e,e._tileLoadQueueMedium,r,t),Y(e,r),o.allAreRenderable=r.renderable,o.anyWereRenderedLastFrame=f===C.Z.RENDERED,o.notYetRenderableCount=r.renderable?0:1,r._lastSelectionResultFrame=t.frameNumber,r._lastSelectionResult=C.Z.RENDERED,void(o.anyWereRenderedLastFrame||e._tileToUpdateHeights.push(r));i=!0,a&&P(e,e._tileLoadQueueHigh,r,t)}if(p.canRefine(r)){var b=l.upsampledFromParent&&u.upsampledFromParent&&d.upsampledFromParent&&c.upsampledFromParent;if(b)return Y(e,r),P(e,e._tileLoadQueueMedium,r,t),e._tileReplacementQueue.markTileRendered(l),e._tileReplacementQueue.markTileRendered(u),e._tileReplacementQueue.markTileRendered(d),e._tileReplacementQueue.markTileRendered(c),o.allAreRenderable=r.renderable,o.anyWereRenderedLastFrame=f===C.Z.RENDERED,o.notYetRenderableCount=r.renderable?0:1,r._lastSelectionResultFrame=t.frameNumber,r._lastSelectionResult=C.Z.RENDERED,void(o.anyWereRenderedLastFrame||e._tileToUpdateHeights.push(r));r._lastSelectionResultFrame=t.frameNumber,r._lastSelectionResult=C.Z.REFINED;var R=e._tilesToRender.length,y=e._tileLoadQueueLow.length,w=e._tileLoadQueueMedium.length,E=e._tileLoadQueueHigh.length,T=e._tileToUpdateHeights.length;if(Q(e,l,u,d,c,t,i,o),R!==e._tilesToRender.length){var O=o.allAreRenderable,L=o.anyWereRenderedLastFrame,S=o.notYetRenderableCount,x=!1;if(!O&&!L){for(var D=e._tilesToRender,I=R;I<D.length;++I){var F=D[I];while(void 0!==F&&F._lastSelectionResult!==C.Z.KICKED&&F!==r)F._lastSelectionResult=C.Z.kick(F._lastSelectionResult),F=F.parent}e._tilesToRender.length=R,e._tileToUpdateHeights.length=T,Y(e,r),r._lastSelectionResult=C.Z.RENDERED;var j=f===C.Z.RENDERED;!j&&S>e.loadingDescendantLimit&&(e._tileLoadQueueLow.length=y,e._tileLoadQueueMedium.length=w,e._tileLoadQueueHigh.length=E,P(e,e._tileLoadQueueMedium,r,t),o.notYetRenderableCount=r.renderable?0:1,x=!0),o.allAreRenderable=r.renderable,o.anyWereRenderedLastFrame=j,j||e._tileToUpdateHeights.push(r),++n.tilesWaitingForChildren}e.preloadAncestors&&!x&&P(e,e._tileLoadQueueLow,r,t)}}else r._lastSelectionResultFrame=t.frameNumber,r._lastSelectionResult=C.Z.RENDERED,Y(e,r),P(e,e._tileLoadQueueHigh,r,t),o.allAreRenderable=r.renderable,o.anyWereRenderedLastFrame=f===C.Z.RENDERED,o.notYetRenderableCount=r.renderable?0:1}function Q(e,t,r,i,o,n,a,s){var l=n.camera.positionCartographic,u=e._tileProvider,d=e._occluders,c=N[t.level],h=c.southwest,f=c.southeast,p=c.northwest,g=c.northeast;l.longitude<t.rectangle.east?l.latitude<t.rectangle.north?(A(e,t,u,n,d,a,h),A(e,r,u,n,d,a,f),A(e,i,u,n,d,a,p),A(e,o,u,n,d,a,g)):(A(e,i,u,n,d,a,p),A(e,t,u,n,d,a,h),A(e,o,u,n,d,a,g),A(e,r,u,n,d,a,f)):l.latitude<t.rectangle.north?(A(e,r,u,n,d,a,f),A(e,t,u,n,d,a,h),A(e,o,u,n,d,a,g),A(e,i,u,n,d,a,p)):(A(e,o,u,n,d,a,g),A(e,i,u,n,d,a,p),A(e,r,u,n,d,a,f),A(e,t,u,n,d,a,h)),c.combine(s)}function B(e,t){var r=t.rectangle;return(0,s.Z)(e._cameraPositionCartographic)&&Z.Z.contains(r,e._cameraPositionCartographic)||(0,s.Z)(e._cameraReferenceFrameOriginCartographic)&&Z.Z.contains(r,e._cameraReferenceFrameOriginCartographic)}function A(e,t,r,i,o,n,a){if(r.computeTileVisibility(t,i,o)!==m.Z.NONE)return V(e,i,t,n,a);if(++e._debug.tilesCulled,e._tileReplacementQueue.markTileRendered(t),a.allAreRenderable=!0,a.anyWereRenderedLastFrame=!1,a.notYetRenderableCount=0,B(e,t)){(0,s.Z)(t.data)&&(0,s.Z)(t.data.vertexArray)||P(e,e._tileLoadQueueMedium,t,i);var l=e._lastSelectionFrameNumber,u=t._lastSelectionResultFrame===l?t._lastSelectionResult:C.Z.NONE;u!==C.Z.CULLED_BUT_NEEDED&&u!==C.Z.RENDERED&&e._tileToUpdateHeights.push(t),t._lastSelectionResult=C.Z.CULLED_BUT_NEEDED}else e.preloadSiblings||0===t.level?(P(e,e._tileLoadQueueLow,t,i),t._lastSelectionResult=C.Z.CULLED):t._lastSelectionResult=C.Z.CULLED;t._lastSelectionResultFrame=i.frameNumber}function K(e,t,r){if(t.mode===R.Z.SCENE2D||t.camera.frustum instanceof f.Z||t.camera.frustum instanceof p.Z)return U(e,t,r);var i=e._tileProvider.getLevelMaximumGeometricError(r.level),o=r._distance,n=t.context.drawingBufferHeight,a=t.camera.frustum.sseDenominator,s=i*n/(o*a);return t.fog.enabled&&(s-=c.Z.fog(o,t.fog.density)*t.fog.sse),s/=t.pixelRatio,s}function U(e,t,r){var i=t.camera,o=i.frustum;(0,s.Z)(o._offCenterFrustum)&&(o=o._offCenterFrustum);var n=t.context,a=n.drawingBufferWidth,l=n.drawingBufferHeight,u=e._tileProvider.getLevelMaximumGeometricError(r.level),d=Math.max(o.top-o.bottom,o.right-o.left)/Math.max(a,l),h=u/d;return t.fog.enabled&&t.mode!==R.Z.SCENE2D&&(h-=c.Z.fog(r._distance,t.fog.density)*t.fog.sse),h/=t.pixelRatio,h}function Y(e,t){e._tilesToRender.push(t)}function W(e,t){var r=e._tileLoadQueueHigh,i=e._tileLoadQueueMedium,o=e._tileLoadQueueLow;if(0!==r.length||0!==i.length||0!==o.length){e._tileReplacementQueue.trimTiles(e.tileCacheSize);var n=(0,d.Z)()+e._loadQueueTimeSlice,a=e._tileProvider,s=H(e,t,a,n,r,!1);s=H(e,t,a,n,i,s),H(e,t,a,n,o,s)}}function k(e,t){return e._loadPriority-t._loadPriority}function H(e,t,r,i,o,n){void 0!==r.computeTileLoadPriority&&o.sort(k);for(var a=0,s=o.length;a<s&&((0,d.Z)()<i||!n);++a){var l=o[a];e._tileReplacementQueue.markTileRendered(l),r.loadTile(t,l),n=!0}return n}var J=new g.Z,q=new n.Z,z=new o.Z,G=[];function X(e,t){if(e.tileProvider.ready){var r=G;r.length=0;var i,l=e._tileToUpdateHeights,u=(0,d.Z)(),c=e._updateHeightsTimeSlice,h=u+c,f=t.mode,p=t.mapProjection,g=e.tileProvider.tilingScheme.ellipsoid;while(l.length>0){var Z=l[0];if((0,s.Z)(Z.data)&&(0,s.Z)(Z.data.mesh)){var m=Z.customData,v=m.length,b=!1;for(i=e._lastTileIndex;i<v;++i){var _=m[i],y=Z.data.terrainData,w=(0,s.Z)(y)&&y.wasCreatedByUpsampling();if(Z.level>_.level&&!w){if((0,s.Z)(_.positionOnEllipsoidSurface)||(_.positionOnEllipsoidSurface=o.Z.fromRadians(_.positionCartographic.longitude,_.positionCartographic.latitude,0,g)),f===R.Z.SCENE3D){var E=g.geodeticSurfaceNormal(_.positionOnEllipsoidSurface,J.direction),T=g.getSurfaceNormalIntersectionWithZAxis(_.positionOnEllipsoidSurface,11500,J.origin);if(!(0,s.Z)(T)){var O;(0,s.Z)(Z.data.tileBoundingRegion)&&(O=Z.data.tileBoundingRegion.minimumHeight);var L=Math.min((0,a.Z)(O,0),-11500),S=o.Z.multiplyByScalar(E,Math.abs(L)+1,z);o.Z.subtract(_.positionOnEllipsoidSurface,S,J.origin)}}else n.Z.clone(_.positionCartographic,q),q.height=-11500,p.project(q,z),o.Z.fromElements(z.z,z.x,z.y,z),o.Z.clone(z,J.origin),o.Z.clone(o.Z.UNIT_X,J.direction);var x=Z.data.pick(J,f,p,!1,z);(0,s.Z)(x)&&(_.callback(x),_.level=Z.level)}if((0,d.Z)()>=h){b=!0;break}}if(b){e._lastTileIndex=i;break}e._lastTileIndex=0,l.shift()}else{var D=Z._lastSelectionResultFrame===e._lastSelectionFrameNumber?Z._lastSelectionResult:C.Z.NONE;D!==C.Z.RENDERED&&D!==C.Z.CULLED_BUT_NEEDED||r.push(Z),l.shift(),e._lastTileIndex=0}}for(i=0;i<r.length;i++)l.push(r[i])}}function $(e,t){for(var r=e._tileProvider,i=e._tilesToRender,o=0,n=i.length;o<n;++o){var a=i[o];r.showTileThisFrame(a,t)}}t["Z"]=w},19543:function(e,t,r){var i=r(82982),o=r(12572),n=r(96190),a=r(85828),s=r(37728);function l(e){if(!(0,i.Z)(e))throw new o.Z("options is required.");if(!(0,i.Z)(e.x))throw new o.Z("options.x is required.");if(!(0,i.Z)(e.y))throw new o.Z("options.y is required.");if(e.x<0||e.y<0)throw new o.Z("options.x and options.y must be greater than or equal to zero.");if(!(0,i.Z)(e.level))throw new o.Z("options.level is required and must be greater than or equal to zero.");if(!(0,i.Z)(e.tilingScheme))throw new o.Z("options.tilingScheme is required.");this._tilingScheme=e.tilingScheme,this._x=e.x,this._y=e.y,this._level=e.level,this._parent=e.parent,this._rectangle=this._tilingScheme.tileXYToRectangle(this._x,this._y,this._level),this._southwestChild=void 0,this._southeastChild=void 0,this._northwestChild=void 0,this._northeastChild=void 0,this.replacementPrevious=void 0,this.replacementNext=void 0,this._distance=0,this._loadPriority=0,this._customData=[],this._frameUpdated=void 0,this._lastSelectionResult=s.Z.NONE,this._lastSelectionResultFrame=void 0,this._loadedCallbacks={},this.state=a.Z.START,this.renderable=!1,this.upsampledFromParent=!1,this.data=void 0}function u(e){(0,i.Z)(e)&&e.freeResources()}l.createLevelZeroTiles=function(e){if(!(0,i.Z)(e))throw new o.Z("tilingScheme is required.");for(var t=e.getNumberOfXTilesAtLevel(0),r=e.getNumberOfYTilesAtLevel(0),n=new Array(t*r),a=0,s=0;s<r;++s)for(var u=0;u<t;++u)n[a++]=new l({tilingScheme:e,x:u,y:s,level:0});return n},l.prototype._updateCustomData=function(e,t,r){var o,a,s,l=this.customData;if((0,i.Z)(t)&&(0,i.Z)(r)){for(l=l.filter((function(e){return-1===r.indexOf(e)})),this._customData=l,s=this._rectangle,o=0;o<t.length;++o)a=t[o],n.Z.contains(s,a.positionCartographic)&&l.push(a);this._frameUpdated=e}else{var u=this._parent;if((0,i.Z)(u)&&this._frameUpdated!==u._frameUpdated){l.length=0,s=this._rectangle;var d=u.customData;for(o=0;o<d.length;++o)a=d[o],n.Z.contains(s,a.positionCartographic)&&l.push(a);this._frameUpdated=u._frameUpdated}}},Object.defineProperties(l.prototype,{tilingScheme:{get:function(){return this._tilingScheme}},x:{get:function(){return this._x}},y:{get:function(){return this._y}},level:{get:function(){return this._level}},parent:{get:function(){return this._parent}},rectangle:{get:function(){return this._rectangle}},children:{get:function(){return[this.northwestChild,this.northeastChild,this.southwestChild,this.southeastChild]}},southwestChild:{get:function(){return(0,i.Z)(this._southwestChild)||(this._southwestChild=new l({tilingScheme:this.tilingScheme,x:2*this.x,y:2*this.y+1,level:this.level+1,parent:this})),this._southwestChild}},southeastChild:{get:function(){return(0,i.Z)(this._southeastChild)||(this._southeastChild=new l({tilingScheme:this.tilingScheme,x:2*this.x+1,y:2*this.y+1,level:this.level+1,parent:this})),this._southeastChild}},northwestChild:{get:function(){return(0,i.Z)(this._northwestChild)||(this._northwestChild=new l({tilingScheme:this.tilingScheme,x:2*this.x,y:2*this.y,level:this.level+1,parent:this})),this._northwestChild}},northeastChild:{get:function(){return(0,i.Z)(this._northeastChild)||(this._northeastChild=new l({tilingScheme:this.tilingScheme,x:2*this.x+1,y:2*this.y,level:this.level+1,parent:this})),this._northeastChild}},customData:{get:function(){return this._customData}},needsLoading:{get:function(){return this.state<a.Z.DONE}},eligibleForUnloading:{get:function(){var e=!0;return(0,i.Z)(this.data)&&(e=this.data.eligibleForUnloading,(0,i.Z)(e)||(e=!0)),e}}}),l.prototype.findLevelZeroTile=function(e,t,r){var i=this.tilingScheme.getNumberOfXTilesAtLevel(0);if(t<0?t+=i:t>=i&&(t-=i),!(r<0||r>=this.tilingScheme.getNumberOfYTilesAtLevel(0)))return e.filter((function(e){return e.x===t&&e.y===r}))[0]},l.prototype.findTileToWest=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x-1,this.y);if(t.southeastChild===this)return t.southwestChild;if(t.northeastChild===this)return t.northwestChild;var r=t.findTileToWest(e);return void 0!==r?t.southwestChild===this?r.southeastChild:r.northeastChild:void 0},l.prototype.findTileToEast=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x+1,this.y);if(t.southwestChild===this)return t.southeastChild;if(t.northwestChild===this)return t.northeastChild;var r=t.findTileToEast(e);return void 0!==r?t.southeastChild===this?r.southwestChild:r.northwestChild:void 0},l.prototype.findTileToSouth=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x,this.y+1);if(t.northwestChild===this)return t.southwestChild;if(t.northeastChild===this)return t.southeastChild;var r=t.findTileToSouth(e);return void 0!==r?t.southwestChild===this?r.northwestChild:r.northeastChild:void 0},l.prototype.findTileToNorth=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x,this.y-1);if(t.southwestChild===this)return t.northwestChild;if(t.southeastChild===this)return t.northeastChild;var r=t.findTileToNorth(e);return void 0!==r?t.northwestChild===this?r.southwestChild:r.southeastChild:void 0},l.prototype.freeResources=function(){this.state=a.Z.START,this.renderable=!1,this.upsampledFromParent=!1,(0,i.Z)(this.data)&&(0,i.Z)(this.data.freeResources)&&this.data.freeResources(),u(this._southwestChild),this._southwestChild=void 0,u(this._southeastChild),this._southeastChild=void 0,u(this._northwestChild),this._northwestChild=void 0,u(this._northeastChild),this._northeastChild=void 0},t["Z"]=l},85828:function(e,t){var r={START:0,LOADING:1,DONE:2,FAILED:3};t["Z"]=Object.freeze(r)},8158:function(e,t,r){var i=r(12572);function o(){i.Z.throwInstantiationError()}o.computeDefaultLevelZeroMaximumGeometricError=function(e){return 2*e.ellipsoid.maximumRadius*Math.PI*.25/(65*e.getNumberOfXTilesAtLevel(0))},Object.defineProperties(o.prototype,{quadtree:{get:i.Z.throwInstantiationError,set:i.Z.throwInstantiationError},ready:{get:i.Z.throwInstantiationError},tilingScheme:{get:i.Z.throwInstantiationError},errorEvent:{get:i.Z.throwInstantiationError}}),o.prototype.update=i.Z.throwInstantiationError,o.prototype.beginUpdate=i.Z.throwInstantiationError,o.prototype.endUpdate=i.Z.throwInstantiationError,o.prototype.getLevelMaximumGeometricError=i.Z.throwInstantiationError,o.prototype.loadTile=i.Z.throwInstantiationError,o.prototype.computeTileVisibility=i.Z.throwInstantiationError,o.prototype.showTileThisFrame=i.Z.throwInstantiationError,o.prototype.computeDistanceToTile=i.Z.throwInstantiationError,o.prototype.isDestroyed=i.Z.throwInstantiationError,o.prototype.destroy=i.Z.throwInstantiationError},38956:function(e,t,r){var i=r(66553),o=r(62200),n=r(82982),a=r(12572),s=r(61446),l=r(42306),u=r(69179),d=r(24351),c=r(28096),h=r(60785),f=r(31129),p=r(46398),g=r(87508),Z=r(72638);function m(){}function v(e){this.referenceCount=1,this.resourceLoader=e}m.cacheEntries={},m.get=function(e){i.Z.typeOf.string("cacheKey",e);var t=m.cacheEntries[e];if((0,n.Z)(t))return++t.referenceCount,t.resourceLoader},m.load=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.resourceLoader;i.Z.typeOf.object("options.resourceLoader",t);var r=t.cacheKey;if(i.Z.typeOf.string("options.resourceLoader.cacheKey",r),(0,n.Z)(m.cacheEntries[r]))throw new a.Z("Resource with this cacheKey is already in the cache: "+r);m.cacheEntries[r]=new v(t),t.load()},m.unload=function(e){i.Z.typeOf.object("resourceLoader",e);var t=e.cacheKey,r=m.cacheEntries[t];if(!(0,n.Z)(r))throw new a.Z("Resource is not in the cache: "+t);--r.referenceCount,0===r.referenceCount&&(e.destroy(),delete m.cacheEntries[t])},m.loadSchema=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.schema,r=e.resource;if((0,n.Z)(t)===(0,n.Z)(r))throw new a.Z("One of options.schema and options.resource must be defined.");var i=Z.Z.getSchemaCacheKey({schema:t,resource:r}),s=m.get(i);return(0,n.Z)(s)||(s=new g.Z({schema:t,resource:r,cacheKey:i}),m.load({resourceLoader:s})),s},m.loadEmbeddedBuffer=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.parentResource,r=e.bufferId,a=e.typedArray;i.Z.typeOf.object("options.parentResource",t),i.Z.typeOf.number("options.bufferId",r);var l=Z.Z.getEmbeddedBufferCacheKey({parentResource:t,bufferId:r}),u=m.get(l);return(0,n.Z)(u)||(i.Z.typeOf.object("options.typedArray",a),u=new s.Z({typedArray:a,cacheKey:l}),m.load({resourceLoader:u})),u},m.loadExternalBuffer=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.resource;i.Z.typeOf.object("options.resource",t);var r=Z.Z.getExternalBufferCacheKey({resource:t}),a=m.get(r);return(0,n.Z)(a)||(a=new s.Z({resource:t,cacheKey:r}),m.load({resourceLoader:a})),a},m.loadGltfJson=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltfResource,r=e.baseResource,a=e.typedArray,s=e.gltfJson;i.Z.typeOf.object("options.gltfResource",t),i.Z.typeOf.object("options.baseResource",r);var l=Z.Z.getGltfCacheKey({gltfResource:t}),u=m.get(l);return(0,n.Z)(u)||(u=new h.Z({resourceCache:m,gltfResource:t,baseResource:r,typedArray:a,gltfJson:s,cacheKey:l}),m.load({resourceLoader:u})),u},m.loadBufferView=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.bufferViewId,a=e.gltfResource,s=e.baseResource;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.number("options.bufferViewId",r),i.Z.typeOf.object("options.gltfResource",a),i.Z.typeOf.object("options.baseResource",s);var u=Z.Z.getBufferViewCacheKey({gltf:t,bufferViewId:r,gltfResource:a,baseResource:s}),d=m.get(u);return(0,n.Z)(d)||(d=new l.Z({resourceCache:m,gltf:t,bufferViewId:r,gltfResource:a,baseResource:s,cacheKey:u}),m.load({resourceLoader:d})),d},m.loadDraco=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.draco,a=e.gltfResource,s=e.baseResource;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.object("options.draco",r),i.Z.typeOf.object("options.gltfResource",a),i.Z.typeOf.object("options.baseResource",s);var l=Z.Z.getDracoCacheKey({gltf:t,draco:r,gltfResource:a,baseResource:s}),d=m.get(l);return(0,n.Z)(d)||(d=new u.Z({resourceCache:m,gltf:t,draco:r,gltfResource:a,baseResource:s,cacheKey:l}),m.load({resourceLoader:d})),d},m.loadVertexBuffer=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.gltfResource,s=e.baseResource,l=e.bufferViewId,u=e.draco,d=e.attributeSemantic,c=e.accessorId,h=(0,o.Z)(e.asynchronous,!0),f=(0,o.Z)(e.dequantize,!1);i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.object("options.gltfResource",r),i.Z.typeOf.object("options.baseResource",s);var g=(0,n.Z)(l),v=(0,n.Z)(u),b=(0,n.Z)(d),_=(0,n.Z)(c);if(g===v)throw new a.Z("One of options.bufferViewId and options.draco must be defined.");if(v&&!b)throw new a.Z("When options.draco is defined options.attributeSemantic must also be defined.");if(v&&!_)throw new a.Z("When options.draco is defined options.haAccessorId must also be defined.");v&&(i.Z.typeOf.object("options.draco",u),i.Z.typeOf.string("options.attributeSemantic",d),i.Z.typeOf.number("options.accessorId",c));var R=Z.Z.getVertexBufferCacheKey({gltf:t,gltfResource:r,baseResource:s,bufferViewId:l,draco:u,attributeSemantic:d}),y=m.get(R);return(0,n.Z)(y)||(y=new p.Z({resourceCache:m,gltf:t,gltfResource:r,baseResource:s,bufferViewId:l,draco:u,attributeSemantic:d,accessorId:c,cacheKey:R,asynchronous:h,dequantize:f}),m.load({resourceLoader:y})),y},m.loadIndexBuffer=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.accessorId,a=e.gltfResource,s=e.baseResource,l=e.draco,u=(0,o.Z)(e.asynchronous,!0);i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.number("options.accessorId",r),i.Z.typeOf.object("options.gltfResource",a),i.Z.typeOf.object("options.baseResource",s);var d=Z.Z.getIndexBufferCacheKey({gltf:t,accessorId:r,gltfResource:a,baseResource:s,draco:l}),h=m.get(d);return(0,n.Z)(h)||(h=new c.Z({resourceCache:m,gltf:t,accessorId:r,gltfResource:a,baseResource:s,draco:l,cacheKey:d,asynchronous:u}),m.load({resourceLoader:h})),h},m.loadImage=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.imageId,a=e.gltfResource,s=e.baseResource;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.number("options.imageId",r),i.Z.typeOf.object("options.gltfResource",a),i.Z.typeOf.object("options.baseResource",s);var l=Z.Z.getImageCacheKey({gltf:t,imageId:r,gltfResource:a,baseResource:s}),u=m.get(l);return(0,n.Z)(u)||(u=new d.Z({resourceCache:m,gltf:t,imageId:r,gltfResource:a,baseResource:s,cacheKey:l}),m.load({resourceLoader:u})),u},m.loadTexture=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.textureInfo,a=e.gltfResource,s=e.baseResource,l=e.supportedImageFormats,u=(0,o.Z)(e.asynchronous,!0);i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.object("options.textureInfo",r),i.Z.typeOf.object("options.gltfResource",a),i.Z.typeOf.object("options.baseResource",s);var d=Z.Z.getTextureCacheKey({gltf:t,textureInfo:r,gltfResource:a,baseResource:s,supportedImageFormats:l}),c=m.get(d);return(0,n.Z)(c)||(c=new f.Z({resourceCache:m,gltf:t,textureInfo:r,gltfResource:a,baseResource:s,supportedImageFormats:l,cacheKey:d,asynchronous:u}),m.load({resourceLoader:c})),c},m.clearForSpecs=function(){var e,t=[p.Z,c.Z,u.Z,f.Z,d.Z,l.Z,s.Z,g.Z,h.Z],r=m.cacheEntries,i=[];for(e in r)r.hasOwnProperty(e)&&i.push(r[e]);i.sort((function(e,r){var i=t.indexOf(e.resourceLoader.constructor),o=t.indexOf(r.resourceLoader.constructor);return i-o}));for(var o=i.length,a=0;a<o;++a){var Z=i[a];e=Z.resourceLoader.cacheKey,(0,n.Z)(r[e])&&(Z.resourceLoader.destroy(),delete r[e])}},t["Z"]=m},72638:function(e,t,r){var i=r(66553),o=r(62200),n=r(82982),a=r(12572),s=r(83295),l=r(61120),u=r(81326),d={};function c(e){return(0,s.Z)(e.url)}function h(e){var t=e.byteOffset,r=e.byteLength;if((0,u.Z)(e,"EXT_meshopt_compression")){var i=e.extensions.EXT_meshopt_compression;t=(0,o.Z)(i.byteOffset,0),r=i.byteLength}return t+"-"+(t+r)}function f(e,t){var r=t.byteOffset+e.byteOffset,i=e.componentType,o=e.type,n=e.count;return r+"-"+i+"-"+o+"-"+n}function p(e){return c(e)}function g(e,t){var r=c(e);return r+"-buffer-id-"+t}function Z(e,t,r,i){if((0,n.Z)(e.uri)){var o=i.getDerivedResource({url:e.uri});return p(o)}return g(r,t)}function m(e,t,r,i){var o=t.bufferView,n=e.bufferViews[o],a=n.buffer,s=e.buffers[a],l=Z(s,a,r,i),u=h(n);return l+"-range-"+u}function v(e,t,r,i){var o=e.images[t],a=o.bufferView,s=o.uri;if((0,n.Z)(s)){var l=i.getDerivedResource({url:s});return c(l)}var u=e.bufferViews[a],d=u.buffer,f=e.buffers[d],p=Z(f,d,r,i),g=h(u);return p+"-range-"+g}function b(e,t){var r=l.Z.createSampler({gltf:e,textureInfo:t});return r.wrapS+"-"+r.wrapT+"-"+r.minificationFilter+"-"+r.magnificationFilter}d.getSchemaCacheKey=function(e){var t=e.schema,r=e.resource;if((0,n.Z)(t)===(0,n.Z)(r))throw new a.Z("One of options.schema and options.resource must be defined.");return(0,n.Z)(t)?"embedded-schema:"+JSON.stringify(t):"external-schema:"+c(r)},d.getExternalBufferCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.resource;return i.Z.typeOf.object("options.resource",t),"external-buffer:"+p(t)},d.getEmbeddedBufferCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.parentResource,r=e.bufferId;return i.Z.typeOf.object("options.parentResource",t),i.Z.typeOf.number("options.bufferId",r),"embedded-buffer:"+g(t,r)},d.getGltfCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltfResource;return i.Z.typeOf.object("options.gltfResource",t),"gltf:"+c(t)},d.getBufferViewCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.bufferViewId,n=e.gltfResource,a=e.baseResource;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.number("options.bufferViewId",r),i.Z.typeOf.object("options.gltfResource",n),i.Z.typeOf.object("options.baseResource",a);var s=t.bufferViews[r],l=s.buffer,d=t.buffers[l];if((0,u.Z)(s,"EXT_meshopt_compression")){var c=s.extensions.EXT_meshopt_compression;l=c.buffer}var f=Z(d,l,n,a),p=h(s);return"buffer-view:"+f+"-range-"+p},d.getDracoCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.draco,n=e.gltfResource,a=e.baseResource;return i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.object("options.draco",r),i.Z.typeOf.object("options.gltfResource",n),i.Z.typeOf.object("options.baseResource",a),"draco:"+m(t,r,n,a)},d.getVertexBufferCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.gltfResource,s=e.baseResource,l=e.bufferViewId,u=e.draco,d=e.attributeSemantic;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.object("options.gltfResource",r),i.Z.typeOf.object("options.baseResource",s);var c=(0,n.Z)(l),f=(0,n.Z)(u),p=(0,n.Z)(d);if(c===f)throw new a.Z("One of options.bufferViewId and options.draco must be defined.");if(f&&!p)throw new a.Z("When options.draco is defined options.attributeSemantic must also be defined.");if(f&&(i.Z.typeOf.object("options.draco",u),i.Z.typeOf.string("options.attributeSemantic",d)),(0,n.Z)(u)){var g=m(t,u,r,s);return"vertex-buffer:"+g+"-draco-"+d}var v=t.bufferViews[l],b=v.buffer,_=t.buffers[b],R=Z(_,b,r,s),y=h(v);return"vertex-buffer:"+R+"-range-"+y},d.getIndexBufferCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.accessorId,a=e.gltfResource,s=e.baseResource,l=e.draco;if(i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.number("options.accessorId",r),i.Z.typeOf.object("options.gltfResource",a),i.Z.typeOf.object("options.baseResource",s),(0,n.Z)(l)){var u=m(t,l,a,s);return"index-buffer:"+u+"-draco"}var d=t.accessors[r],c=d.bufferView,h=t.bufferViews[c],p=h.buffer,g=t.buffers[p],v=Z(g,p,a,s),b=f(d,h);return"index-buffer:"+v+"-accessor-"+b},d.getImageCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.imageId,n=e.gltfResource,a=e.baseResource;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.number("options.imageId",r),i.Z.typeOf.object("options.gltfResource",n),i.Z.typeOf.object("options.baseResource",a);var s=v(t,r,n,a);return"image:"+s},d.getTextureCacheKey=function(e){e=(0,o.Z)(e,o.Z.EMPTY_OBJECT);var t=e.gltf,r=e.textureInfo,n=e.gltfResource,a=e.baseResource,s=e.supportedImageFormats;i.Z.typeOf.object("options.gltf",t),i.Z.typeOf.object("options.textureInfo",r),i.Z.typeOf.object("options.gltfResource",n),i.Z.typeOf.object("options.baseResource",a),i.Z.typeOf.object("options.supportedImageFormats",s);var u=r.index,d=l.Z.getImageIdFromTexture({gltf:t,textureId:u,supportedImageFormats:s}),c=v(t,d,n,a),h=b(t,r);return"texture:"+c+"-sampler-"+h},t["Z"]=d},29789:function(e,t,r){r.d(t,{Z:function(){return l}});var i=r(66553),o=r(82982),n=r(86511),a=r(12572),s=r(9407);function l(){}Object.defineProperties(l.prototype,{promise:{get:function(){a.Z.throwInstantiationError()}},cacheKey:{get:function(){a.Z.throwInstantiationError()}}}),l.prototype.load=function(){a.Z.throwInstantiationError()},l.prototype.unload=function(){},l.prototype.process=function(e){},l.prototype.getError=function(e,t){return i.Z.typeOf.string("errorMessage",e),(0,o.Z)(t)&&(e+="\n"+t.message),new s.Z(e)},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){return this.unload(),(0,n.Z)(this)}},89356:function(e,t){var r={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,FAILED:4};t["Z"]=Object.freeze(r)}}]);
//# sourceMappingURL=chunk-vendors-3fff6c72-legacy.2f6f5eca.js.map