"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[7678],{36255:function(e,t,n){n.d(t,{D0:function(){return c},Ew:function(){return A},Kn:function(){return o},Lj:function(){return u},Os:function(){return d},Ss:function(){return i},TW:function(){return a},zH:function(){return B}});const r=e=>"boolean"===typeof e,s=e=>"function"===typeof e,o=e=>null!==e&&"object"===typeof e,i=e=>o(e)&&e.constructor==={}.constructor,a=e=>e&&"function"===typeof e[Symbol.iterator],c=e=>e&&"function"===typeof e[Symbol.asyncIterator],A=e=>"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,u=e=>"undefined"!==typeof Blob&&e instanceof Blob,B=e=>e&&"object"===typeof e&&e.isBuffer,f=e=>"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||o(e)&&s(e.tee)&&s(e.cancel)&&s(e.getReader),l=e=>o(e)&&s(e.read)&&s(e.pipe)&&r(e.readable),d=e=>f(e)||l(e)},44534:function(e,t,n){n.d(t,{z:function(){return ye}});var r=n(36255),s=n(52033),o=n(99597),i=n(96040);const a="3.3.1";function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;(0,i.h)(e,"no worker provided");const n=e.version;return!(!t||!n)}var A=n(96013),u=n(82482);class B{terminate(){}}const f=new Map;function l(e){(0,i.h)(e.source&&!e.url||!e.source&&e.url);let t=f.get(e.source||e.url);return t||(e.url&&(t=d(e.url),f.set(e.url,t)),e.source&&(t=C(e.source),f.set(e.source,t))),(0,i.h)(t),t}function d(e){if(!e.startsWith("http"))return e;const t=h(e);return C(t)}function C(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function h(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}function m(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(e){if(g(e))r.add(e);else if(g(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(const s in e)m(e[s],t,r)}else;return void 0===n?Array.from(r):[]}function g(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}const b=()=>{};class E{static isSupported(){return"undefined"!==typeof Worker&&A.jU||"undefined"!==typeof B&&!A.jU}constructor(e){(0,u.Z)(this,"name",void 0),(0,u.Z)(this,"source",void 0),(0,u.Z)(this,"url",void 0),(0,u.Z)(this,"terminated",!1),(0,u.Z)(this,"worker",void 0),(0,u.Z)(this,"onMessage",void 0),(0,u.Z)(this,"onError",void 0),(0,u.Z)(this,"_loadableURL","");const{name:t,source:n,url:r}=e;(0,i.h)(n||r),this.name=t,this.source=n,this.url=r,this.onMessage=b,this.onError=e=>console.log(e),this.worker=A.jU?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=b,this.onError=b,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||m(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=l({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>console.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/"),n=t?this.url:"./".concat(this.url);e=new B(n,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new B(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class y{constructor(e,t){(0,u.Z)(this,"name",void 0),(0,u.Z)(this,"workerThread",void 0),(0,u.Z)(this,"isRunning",!0),(0,u.Z)(this,"result",void 0),(0,u.Z)(this,"_resolve",(()=>{})),(0,u.Z)(this,"_reject",(()=>{})),this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){(0,i.h)(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){(0,i.h)(this.isRunning),this.isRunning=!1,this._reject(e)}}class F{static isSupported(){return E.isSupported()}constructor(e){(0,u.Z)(this,"name","unnamed"),(0,u.Z)(this,"source",void 0),(0,u.Z)(this,"url",void 0),(0,u.Z)(this,"maxConcurrency",1),(0,u.Z)(this,"maxMobileConcurrency",1),(0,u.Z)(this,"onDebug",(()=>{})),(0,u.Z)(this,"reuseWorkers",!0),(0,u.Z)(this,"props",{}),(0,u.Z)(this,"jobQueue",[]),(0,u.Z)(this,"idleQueue",[]),(0,u.Z)(this,"count",0),(0,u.Z)(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t,n)=>e.done(n),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e.error(t);const r=new Promise((r=>(this.jobQueue.push({name:e,onMessage:t,onError:n,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const n=new y(t.name,e);e.onMessage=e=>t.onMessage(n,e.type,e.payload),e.onError=e=>t.onError(n,e),t.onStart(n);try{await n.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){const t=this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency();t?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new E({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return A.tq?this.maxMobileConcurrency:this.maxConcurrency}}const G={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class p{static isSupported(){return E.isSupported()}static getWorkerFarm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p._workerFarm=p._workerFarm||new p({}),p._workerFarm.setProps(e),p._workerFarm}constructor(e){(0,u.Z)(this,"props",void 0),(0,u.Z)(this,"workerPools",new Map),this.props={...G},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:n,url:r}=e;let s=this.workerPools.get(t);return s||(s=new F({name:t,source:n,url:r}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(0,u.Z)(p,"_workerFarm",void 0);const D="latest";function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t[e.id]||{},r="".concat(e.id,"-worker.js");let s=n.workerUrl;if(s||"compression"!==e.id||(s=t.workerUrl),"test"===t._workerType&&(s="modules/".concat(e.module,"/dist/").concat(r)),!s){let t=e.version;"latest"===t&&(t=D);const n=t?"@".concat(t):"";s="https://unpkg.com/@loaders.gl/".concat(e.module).concat(n,"/dist/").concat(r)}return(0,i.h)(s),s}function I(e,t){return!!p.isSupported()&&(!!(A.jU||null!==t&&void 0!==t&&t._nodeWorkers)&&(e.worker&&(null===t||void 0===t?void 0:t.worker)))}async function R(e,t,n,r,s){const o=e.id,i=M(e,n),a=p.getWorkerFarm(n),c=a.getWorkerPool({name:o,url:i});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const A=await c.startJob("process-on-worker",w.bind(null,s));A.postMessage("process",{input:t,options:n,context:r});const u=await A.result;return await u.result}async function w(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:o,input:i,options:a}=r;try{const n=await e(i,a);t.postMessage("done",{id:o,result:n})}catch(s){const e=s instanceof Error?s.message:"unknown error";t.postMessage("error",{id:o,error:e})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}var J=n(74609);async function T(e){const t=[];for await(const n of e)t.push(n);return(0,J.JY)(...t)}const v=262144;function*_(e,t){const n=(null===t||void 0===t?void 0:t.chunkSize)||v;let r=0;const s=new TextEncoder;while(r<e.length){const t=Math.min(e.length-r,n),o=e.slice(r,r+t);r+=t,yield s.encode(o)}}const H=262144;function*S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chunkSize:n=H}=t;let r=0;while(r<e.byteLength){const t=Math.min(e.byteLength-r,n),s=new ArrayBuffer(t),o=new Uint8Array(e,r,t),i=new Uint8Array(s);i.set(o),r+=t,yield s}}const U=1048576;async function*O(e,t){const n=(null===t||void 0===t?void 0:t.chunkSize)||U;let r=0;while(r<e.size){const t=r+n,s=await e.slice(r,t).arrayBuffer();r=t,yield s}}var P=n(84959),L=n(9521);function x(e){return e&&"object"===typeof e&&e.isBuffer}function K(e){if(x(e))return L.toArrayBuffer(e);if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){const t=e,n=(new TextEncoder).encode(t);return n.buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function j(e,t){return P.jU?Q(e,t):X(e,t)}async function*Q(e,t){const n=e.getReader();let r;try{while(1){const e=r||n.read();null!==t&&void 0!==t&&t._streamReadAhead&&(r=n.read());const{done:s,value:o}=await e;if(s)return;yield K(o)}}catch(s){n.releaseLock()}}async function*X(e,t){for await(const n of e)yield K(n)}function N(e,t){if("string"===typeof e)return _(e,t);if(e instanceof ArrayBuffer)return S(e,t);if((0,r.Lj)(e))return O(e,t);if((0,r.Os)(e))return j(e,t);if((0,r.Ew)(e)){const n=e;return j(n.body,t)}throw new Error("makeIterator")}var k=n(17927);const Z="Cannot convert supplied data type";function Y(e,t,n){if(t.text&&"string"===typeof e)return e;if((0,r.zH)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const n=e;if(t.text&&!t.binary){const e=new TextDecoder("utf8");return e.decode(n)}return n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary){const t=new TextDecoder("utf8");return t.decode(e)}let n=e.buffer;const r=e.byteLength||e.length;return 0===e.byteOffset&&r===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+r)),n}throw new Error(Z)}async function W(e,t,n){const s=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"===typeof e||s)return Y(e,t,n);if((0,r.Lj)(e)&&(e=await(0,k.L1)(e)),(0,r.Ew)(e)){const n=e;return await(0,k.mm)(n),t.binary?await n.arrayBuffer():await n.text()}if((0,r.Os)(e)&&(e=N(e,n)),(0,r.TW)(e)||(0,r.D0)(e))return T(e);throw new Error(Z)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n)return n;const r={fetch:(0,o.bV)(t,e),...e};return Array.isArray(r.loaders)||(r.loaders=null),r}function q(e,t){if(!t&&e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...e]:e}return n&&n.length?n:null}var z=n(74642);function $(e){const t=e&&e.lastIndexOf("/");return t>=0?e.substr(t+1):""}var ee=n(56426);const te=new ee.Z({id:"loaders.gl"});var ne=n(6228);const re=/\.([^.]+)$/;async function se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(!ae(e))return null;let o=oe(e,t,{...n,nothrow:!0},s);if(o)return o;if((0,r.Lj)(e)&&(e=await e.slice(0,10).arrayBuffer(),o=oe(e,t,n,s)),!o&&(null===n||void 0===n||!n.nothrow))throw new Error(ce(e));return o}function oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!ae(e))return null;if(t&&!Array.isArray(t))return(0,s.T)(t);let o=[];t&&(o=o.concat(t)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders||o.push(...(0,ne.kO)()),Ae(o);const i=ie(e,o,n,r);if(!i&&(null===n||void 0===n||!n.nothrow))throw new Error(ce(e));return i}function ie(e,t,n,r){const{url:s,type:o}=(0,z.l)(e),i=s||(null===r||void 0===r?void 0:r.url);let a=null,c="";var A;(null!==n&&void 0!==n&&n.mimeType&&(a=fe(t,null===n||void 0===n?void 0:n.mimeType),c="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType)),a=a||ue(t,i),c=c||(a?"matched url ".concat(i):""),a=a||fe(t,o),c=c||(a?"matched MIME type ".concat(o):""),a=a||le(t,e),c=c||(a?"matched initial data ".concat(me(e)):""),a=a||fe(t,null===n||void 0===n?void 0:n.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(o):""),c)&&te.log(1,"selectLoader selected ".concat(null===(A=a)||void 0===A?void 0:A.name,": ").concat(c,"."));return a}function ae(e){return!(e instanceof Response&&204===e.status)}function ce(e){const{url:t,type:n}=(0,z.l)(e);let r="No valid loader found (";r+=t?"".concat($(t),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const s=e?me(e):"";return r+=s?' first bytes: "'.concat(s,'"'):"first bytes: not available",r+=")",r}function Ae(e){for(const t of e)(0,s.T)(t)}function ue(e,t){const n=t&&re.exec(t),r=n&&n[1];return r?Be(e,r):null}function Be(e,t){t=t.toLowerCase();for(const n of e)for(const e of n.extensions)if(e.toLowerCase()===t)return n;return null}function fe(e,t){for(const n of e){if(n.mimeTypes&&n.mimeTypes.includes(t))return n;if(t==="application/x.".concat(n.id))return n}return null}function le(e,t){if(!t)return null;for(const n of e)if("string"===typeof t){if(de(t,n))return n}else if(ArrayBuffer.isView(t)){if(Ce(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer){const e=0;if(Ce(t,e,n))return n}return null}function de(e,t){if(t.testText)return t.testText(e);const n=Array.isArray(t.tests)?t.tests:[t.tests];return n.some((t=>e.startsWith(t)))}function Ce(e,t,n){const r=Array.isArray(n.tests)?n.tests:[n.tests];return r.some((r=>he(e,t,n,r)))}function he(e,t,n,r){if(r instanceof ArrayBuffer)return(0,J.Xq)(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":const s=ge(e,t,r.length);return r===s;default:return!1}}function me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return ge(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){const n=0;return ge(e,n,t)}return""}function ge(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(r.getUint8(t+o));return s}async function be(e,t,n,r){(0,i.h)(!r||"object"===typeof r),!t||Array.isArray(t)||(0,s.C)(t)||(r=void 0,n=t,t=void 0),e=await e,n=n||{};const{url:a}=(0,z.l)(e),c=t,A=q(c,r),u=await se(e,A,n);return u?(n=(0,o.GR)(n,u,A,a),r=V({url:a,parse:be,loaders:A},n,r),await Ee(u,e,n,r)):null}async function Ee(e,t,n,s){if(c(e),(0,r.Ew)(t)){const e=t,{ok:n,redirected:r,status:o,statusText:i,type:a,url:c}=e,A=Object.fromEntries(e.headers.entries());s.response={headers:A,ok:n,redirected:r,status:o,statusText:i,type:a,url:c}}if(t=await W(t,e,n),e.parseTextSync&&"string"===typeof t)return n.dataType="text",e.parseTextSync(t,n,s,e);if(I(e,n))return await R(e,t,n,s,be);if(e.parseText&&"string"===typeof t)return await e.parseText(t,n,s,e);if(e.parse)return await e.parse(t,n,s,e);throw(0,i.h)(!e.parseSync),new Error("".concat(e.id," loader - no parser found and worker is disabled"))}async function ye(e,t,n,i){Array.isArray(t)||(0,s.C)(t)||(void 0,n=t,t=void 0);const a=(0,o.bV)(n);let c=e;return"string"===typeof e&&(c=await a(e)),(0,r.Lj)(e)&&(c=await a(e)),await be(c,t,n)}},6228:function(e,t,n){n.d(t,{fh:function(){return i},kO:function(){return a}});var r=n(52033),s=n(99597);const o=()=>{const e=(0,s.rx)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function i(e){const t=o();e=Array.isArray(e)?e:[e];for(const n of e){const e=(0,r.T)(n);t.find((t=>e===t))||t.unshift(e)}}function a(){return o()}},52033:function(e,t,n){n.d(t,{C:function(){return s},T:function(){return o}});var r=n(16269);function s(e){var t;if(!e)return!1;Array.isArray(e)&&(e=e[0]);const n=Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions);return n}function o(e){var t,n;let o;return(0,r.h)(e,"null loader"),(0,r.h)(s(e),"invalid loader"),Array.isArray(e)&&(o=e[1],e=e[0],e={...e,options:{...e.options,...o}}),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},99597:function(e,t,n){n.d(t,{bV:function(){return E},rx:function(){return m},GR:function(){return b}});var r=n(36255);let s="";const o={};function i(e){for(const t in o)if(e.startsWith(t)){const n=o[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(s).concat(e)),e}var a=n(17927);async function c(e,t){if("string"===typeof e){e=i(e);let n=t;return null!==t&&void 0!==t&&t.fetch&&"function"!==typeof(null===t||void 0===t?void 0:t.fetch)&&(n=t.fetch),await fetch(e,n)}return await(0,a.L1)(e)}var A=n(82482),u=n(56426);const B=new u.Z({id:"loaders.gl"});class f{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class l{constructor(){(0,A.Z)(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.error.bind(this.console,...t)}}var d=n(84959);const C={fetch:null,mimeType:void 0,nothrow:!1,log:new l,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:d.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},h={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function m(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state=e._state||{},e._state}const g=()=>{const e=m();return e.globalOptions=e.globalOptions||{...C},e.globalOptions};function b(e,t,n,r){return n=n||[],n=Array.isArray(n)?n:[n],y(e,n),p(t,e,r)}function E(e,t){const n=g(),s=e||n;return"function"===typeof s.fetch?s.fetch:(0,r.Kn)(s.fetch)?e=>c(e,s):null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:c}function y(e,t){F(e,null,C,h,t);for(const n of t){const r=e&&e[n.id]||{},s=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};F(r,n.id,s,o,t)}}function F(e,t,n,s,o){const i=t||"Top level",a=t?"".concat(t,"."):"";for(const c in e){const A=!t&&(0,r.Kn)(e[c]),u="baseUri"===c&&!t,f="workerUrl"===c&&t;if(!(c in n)&&!u&&!f)if(c in s)B.warn("".concat(i," loader option '").concat(a).concat(c,"' no longer supported, use '").concat(s[c],"'"))();else if(!A){const e=G(c,o);B.warn("".concat(i," loader option '").concat(a).concat(c,"' not recognized. ").concat(e))()}}}function G(e,t){const n=e.toLowerCase();let r="";for(const s of t)for(const t in s.options){if(e===t)return"Did you mean '".concat(s.id,".").concat(t,"'?");const o=t.toLowerCase(),i=n.startsWith(o)||o.startsWith(n);i&&(r=r||"Did you mean '".concat(s.id,".").concat(t,"'?"))}return r}function p(e,t,n){const r=e.options||{},s={...r};return M(s,n),null===s.log&&(s.log=new f),D(s,g()),D(s,t),s}function D(e,t){for(const n in t)if(n in t){const s=t[n];(0,r.Ss)(s)&&(0,r.Ss)(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function M(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}},74642:function(e,t,n){n.d(t,{C:function(){return u},l:function(){return A}});var r=n(36255);const s=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,o=/^([-\w.]+\/[-\w.+]+)/;function i(e){const t=o.exec(e);return t?t[1]:e}function a(e){const t=s.exec(e);return t?t[1]:""}const c=/\?.*/;function A(e){if((0,r.Ew)(e)){const t=B(e.url||""),n=e.headers.get("content-type")||"";return{url:t,type:i(n)||a(t)}}return(0,r.Lj)(e)?{url:B(e.name||""),type:e.type||""}:"string"===typeof e?{url:B(e),type:a(e)}:{url:"",type:""}}function u(e){return(0,r.Ew)(e)?e.headers["content-length"]||-1:(0,r.Lj)(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function B(e){return e.replace(c,"")}},17927:function(e,t,n){n.d(t,{L1:function(){return o},mm:function(){return i}});var r=n(36255),s=n(74642);async function o(e){if((0,r.Ew)(e))return e;const t={},n=(0,s.C)(e);n>=0&&(t["content-length"]=String(n));const{url:o,type:i}=(0,s.l)(e);i&&(t["content-type"]=i);const a=await c(e);a&&(t["x-first-bytes"]=a),"string"===typeof e&&(e=(new TextEncoder).encode(e));const A=new Response(e,{headers:t});return Object.defineProperty(A,"url",{value:o}),A}async function i(e){if(!e.ok){const t=await a(e);throw new Error(t)}}async function a(e){let t="Failed to fetch resource ".concat(e.url," (").concat(e.status,"): ");try{const n=e.headers.get("Content-Type");let r=e.statusText;n.includes("application/json")&&(r+=" ".concat(await e.text())),t+=r,t=t.length>60?"".concat(t.slice(0,60),"..."):t}catch(n){}return t}async function c(e){const t=5;if("string"===typeof e)return"data:,".concat(e.slice(0,t));if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const n=new FileReader;n.onload=t=>{var n;return e(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result)},n.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){const n=e.slice(0,t),r=A(n);return"data:base64,".concat(r)}return null}function A(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}},52462:function(e,t,n){n.d(t,{E:function(){return Xr}});var r={};n.r(r),n.d(r,{decode:function(){return Ue},name:function(){return Se}});var s={};n.r(s),n.d(s,{name:function(){return Ne},preprocess:function(){return ke}});var o={};n.r(o),n.d(o,{name:function(){return Ye},preprocess:function(){return We}});var i={};n.r(i),n.d(i,{decode:function(){return Bn},encode:function(){return fn},name:function(){return An},preprocess:function(){return un}});var a={};n.r(a),n.d(a,{decode:function(){return Mn},name:function(){return Fn}});var c={};n.r(c),n.d(c,{decode:function(){return Un},encode:function(){return On},name:function(){return Sn}});var A={};n.r(A),n.d(A,{decode:function(){return xn},encode:function(){return Kn},name:function(){return Ln}});var u={};n.r(u),n.d(u,{decode:function(){return Xn},encode:function(){return Nn},name:function(){return Qn}});var B={};n.r(B),n.d(B,{decode:function(){return Vn},name:function(){return Wn}});const f="3.3.1";var l=n(96013);const d="3.3.1";var C=n(49125),h=n(96040);const m="3.3.1",g={};async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t&&(e=E(e,t,n)),g[e]=g[e]||y(e),await g[e]}function E(e,t,n){if(e.startsWith("http"))return e;const r=n.modules||{};return r[e]?r[e]:l.jU?n.CDN?((0,h.h)(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat(m,"/dist/libs/").concat(e)):l.hJ?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}async function y(e){if(e.endsWith("wasm")){const t=await fetch(e);return await t.arrayBuffer()}if(!l.jU)try{return C&&C.requireFromFile&&await C.requireFromFile(e)}catch{return null}if(l.hJ)return importScripts(e);const t=await fetch(e),n=await t.text();return F(n,e)}function F(e,t){if(!l.jU)return C.requireFromString&&C.requireFromString(e,t);if(l.hJ)return eval.call(l.CO,e),null;const n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(r){n.text=e}return document.body.appendChild(n),null}const G="3.3.1",p="https://unpkg.com/@loaders.gl/textures@".concat(G,"/dist/libs/basis_encoder.wasm"),D="https://unpkg.com/@loaders.gl/textures@".concat(G,"/dist/libs/basis_encoder.js");let M,I;async function R(e){const t=e.modules||{};return t.basis?t.basis:(M=M||w(e),await M)}async function w(e){let t=null,n=null;return[t,n]=await Promise.all([await b("basis_transcoder.js","textures",e),await b("basis_transcoder.wasm","textures",e)]),t=t||globalThis.BASIS,await J(t,n)}function J(e,t){const n={};return t&&(n.wasmBinary=t),new Promise((t=>{e(n).then((e=>{const{BasisFile:n,initializeBasis:r}=e;r(),t({BasisFile:n})}))}))}async function T(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(I=I||v(e),await I)}async function v(e){let t=null,n=null;return[t,n]=await Promise.all([await b(D,"textures",e),await b(p,"textures",e)]),t=t||globalThis.BASIS,await _(t,n)}function _(e,t){const n={};return t&&(n.wasmBinary=t),new Promise((t=>{e(n).then((e=>{const{BasisFile:n,KTX2File:r,initializeBasis:s,BasisEncoder:o}=e;s(),t({BasisFile:n,KTX2File:r,BasisEncoder:o})}))}))}const H={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919},S=["","WEBKIT_","MOZ_"],U={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let O=null;function P(e){if(!O){e=e||L()||void 0,O=new Set;for(const t of S)for(const n in U)if(e&&e.getExtension("".concat(t).concat(n))){const e=U[n];O.add(e)}}return O}function L(){try{const e=document.createElement("canvas");return e.getContext("webgl")}catch(e){return null}}n(31029);const x=[171,75,84,88,32,50,48,187,13,10,26,10];function K(e){const t=new Uint8Array(e),n=t.byteLength<x.length||t[0]!==x[0]||t[1]!==x[1]||t[2]!==x[2]||t[3]!==x[3]||t[4]!==x[4]||t[5]!==x[5]||t[6]!==x[6]||t[7]!==x[7]||t[8]!==x[8]||t[9]!==x[9]||t[10]!==x[10]||t[11]!==x[11];return!n}const j={etc1:{basisFormat:0,compressed:!0,format:H.COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:H.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:H.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:H.COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:H.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:H.COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};async function Q(e,t){if("auto"===t.basis.containerFormat){if(K(e)){const n=await T(t);return k(n.KTX2File,e,t)}const{BasisFile:n}=await R(t);return X(n,e,t)}switch(t.basis.module){case"encoder":const n=await T(t);switch(t.basis.containerFormat){case"ktx2":return k(n.KTX2File,e,t);case"basis":default:return X(n.BasisFile,e,t)}case"transcoder":default:const{BasisFile:r}=await R(t);return X(r,e,t)}}function X(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");const e=r.getNumImages(),t=[];for(let s=0;s<e;s++){const e=r.getNumLevels(s),o=[];for(let t=0;t<e;t++)o.push(N(r,s,t,n));t.push(o)}return t}finally{r.close(),r.delete()}}function N(e,t,n,r){const s=e.getImageWidth(t,n),o=e.getImageHeight(t,n),i=e.getHasAlpha(),{compressed:a,format:c,basisFormat:A}=Y(r,i),u=e.getImageTranscodedSizeInBytes(t,n,A),B=new Uint8Array(u);if(!e.transcodeImage(B,t,n,A,0,0))throw new Error("failed to start Basis transcoding");return{width:s,height:o,data:B,compressed:a,format:c,hasAlpha:i}}function k(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");const e=r.getLevels(),t=[];for(let s=0;s<e;s++){t.push(Z(r,s,n));break}return[t]}finally{r.close(),r.delete()}}function Z(e,t,n){const{alphaFlag:r,height:s,width:o}=e.getImageLevelInfo(t,0,0),{compressed:i,format:a,basisFormat:c}=Y(n,r),A=e.getImageTranscodedSizeInBytes(t,0,0,c),u=new Uint8Array(A);if(!e.transcodeImage(u,t,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:s,data:u,compressed:i,levelSize:A,hasAlpha:r,format:a}}function Y(e,t){let n=e&&e.basis&&e.basis.format;return"auto"===n&&(n=W()),"object"===typeof n&&(n=t?n.alpha:n.noAlpha),n=n.toLowerCase(),j[n]}function W(){const e=P();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}const V={name:"Basis",id:l.jU?"basis":"basis-nodejs",module:"textures",version:d,worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},q={...V,parse:Q};var z=n(54022);function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return ee(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){const n=0;return ee(e,n,t)}return""}function ee(e,t,n){if(e.byteLength<=t+n)return"";const r=new DataView(e);let s="";for(let o=0;o<n;o++)s+=String.fromCharCode(r.getUint8(t+o));return s}function te(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat($(e),'"'))}}var ne=n(74609);function re(e,t){if(!e)throw new Error(t||"assert failed: gltf")}function se(e,t){const n=e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:");if(n)return e;const r=t.baseUri||t.uri;if(!r)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return r.substr(0,r.lastIndexOf("/")+1)+e}function oe(e,t,n){const r=e.bufferViews[n];re(r);const s=r.buffer,o=t[s];re(o);const i=(r.byteOffset||0)+o.byteOffset;return new Uint8Array(o.arrayBuffer,i,r.byteLength)}var ie=n(82482),ae=n(39105),ce=n(16269);function Ae(e,t){return(0,ce.h)(e>=0),(0,ce.h)(t>0),e+(t-1)&~(t-1)}function ue(e,t,n){let r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{const t=e.byteOffset,n=e.byteLength;r=new Uint8Array(e.buffer||e.arrayBuffer,t,n)}return t.set(r,n),n+Ae(r.byteLength,4)}const Be=["SCALAR","VEC2","VEC3","VEC4"],fe=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],le=new Map(fe),de={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ce={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},he={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function me(e){const t=Be[e-1];return t||Be[0]}function ge(e){const t=le.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function be(e,t){const n=he[e.componentType],r=de[e.type],s=Ce[e.componentType],o=e.count*r,i=e.count*r*s;return re(i>=0&&i<=t.byteLength),{ArrayType:n,length:o,byteLength:i}}const Ee={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class ye{constructor(e){(0,ie.Z)(this,"gltf",void 0),(0,ie.Z)(this,"sourceBuffers",void 0),(0,ie.Z)(this,"byteLength",void 0),this.gltf=e||{json:{...Ee},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){const t=this.json[e];return t}getExtraData(e){const t=this.json.extras||{};return t[e]}getExtension(e){const t=this.getUsedExtensions().find((t=>t===e)),n=this.json.extensions||{};return t?n[e]||!0:null}getRequiredExtension(e){const t=this.getRequiredExtensions().find((t=>t===e));return t?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,t){const n=e.extensions||{};return n[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"===typeof t)return t;const n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}getTypedArrayForBufferView(e){e=this.getBufferView(e);const t=e.buffer,n=this.gltf.buffers[t];re(n);const r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer),r=n.data,{ArrayType:s,length:o}=be(e,t),i=t.byteOffset+e.byteOffset;return new s(r,i,o)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer),r=n.data,s=t.byteOffset||0;return new Uint8Array(r,s,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,n){return e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}setObjectExtension(e,t,n){const r=e.extensions||{};r[t]=n}removeObjectExtension(e,t){const n=e.extensions||{},r=n[t];return delete n[t],r}addExtension(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return re(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return re(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((t=>t===e))||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((t=>t===e))||this.json.extensionsRequired.push(e)}removeExtension(e){if(!this.getExtension(e))return;this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);const t=this.json.extensionsRemoved;t.includes(e)||t.push(e)}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:n}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:n,material:r,mode:s=4}=e,o=this._addAttributes(t),i={primitives:[{attributes:o,mode:s}]};if(n){const e=this._addIndices(n);i.primitives[0].indices=e}return Number.isFinite(r)&&(i.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addPointCloud(e){const t=this._addAttributes(e),n={primitives:[{attributes:t,mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(n),this.json.meshes.length-1}addImage(e,t){const n=(0,ae.I)(e),r=t||(null===n||void 0===n?void 0:n.mimeType),s=this.addBufferView(e),o={bufferView:s,mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(o),this.json.images.length-1}addBufferView(e){const t=e.byteLength;re(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=Ae(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}addAccessor(e,t){const n={bufferView:e,type:me(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}addBinaryBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3};const n=this.addBufferView(e);let r={min:t.min,max:t.max};r.min&&r.max||(r=this._getAccessorMinMax(e,t.size));const s={size:t.size,componentType:ge(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(s,t))}addTexture(e){const{imageIndex:t}=e,n={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(n),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const n=this.byteLength,r=new ArrayBuffer(n),s=new Uint8Array(r);let o=0;for(const i of this.sourceBuffers||[])o=ue(i,s,o);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=n:this.json.buffers=[{byteLength:n}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let n=!0;while(n){const r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}_addAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};for(const n in e){const r=e[n],s=this._getGltfAttributeName(n),o=this.addBinaryBuffer(r.value,r);t[s]=o}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const n={min:null,max:null};if(e.length<t)return n;n.min=[],n.max=[];const r=e.subarray(0,t);for(const s of r)n.min.push(s),n.max.push(s);for(let s=t;s<e.length;s+=t)for(let r=0;r<t;r++)n.min[0+r]=Math.min(n.min[0+r],e[s+r]),n.max[0+r]=Math.max(n.max[0+r],e[s+r]);return n}}const Fe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",Ge="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",pe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),De=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Me={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},Ie={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function Re(e,t,n,r,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NONE";const i=await Je();_e(i,i.exports[Ie[s]],e,t,n,r,i.exports[Me[o||"NONE"]])}let we;async function Je(){return we||(we=Te()),we}async function Te(){let e=Fe;WebAssembly.validate(pe)&&(e=Ge,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const t=await WebAssembly.instantiate(ve(e),{});return await t.instance.exports.__wasm_call_ctors(),t.instance}function ve(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t[r]=n>96?n-71:n>64?n-65:n>47?n+4:n>46?63:62}let n=0;for(let r=0;r<e.length;++r)t[n++]=t[r]<60?De[t[r]]:64*(t[r]-60)+t[++r];return t.buffer.slice(0,n)}function _e(e,t,n,r,s,o,i){const a=e.exports.sbrk,c=r+3&-4,A=a(c*s),u=a(o.length),B=new Uint8Array(e.exports.memory.buffer);B.set(o,u);const f=t(A,r,s,u,o.length);if(0===f&&i&&i(A,c,s),n.set(B.subarray(A,A+r*s)),a(A-a(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}const He="EXT_meshopt_compression",Se=He;async function Ue(e,t){var n;const r=new ye(e);if(null===t||void 0===t||null===(n=t.gltf)||void 0===n||!n.decompressMeshes)return;const s=[];for(const o of e.json.bufferViews||[])s.push(Oe(r,o));await Promise.all(s),r.removeExtension(He)}async function Oe(e,t){const n=e.getObjectExtension(t,He);if(n){const{byteOffset:r=0,byteLength:s=0,byteStride:o,count:i,mode:a,filter:c="NONE",buffer:A}=n,u=e.gltf.buffers[A],B=new Uint8Array(u.arrayBuffer,u.byteOffset+r,s),f=new Uint8Array(e.gltf.buffers[t.buffer].arrayBuffer,t.byteOffset,t.byteLength);return await Re(f,i,o,B,a,c),f}return null}var Pe=n(84959);const Le=["image/png","image/jpeg","image/gif"],xe={};function Ke(e){return void 0===xe[e]&&(xe[e]=je(e)),xe[e]}function je(e){switch(e){case"image/webp":return Qe();case"image/svg":return Pe.jU;default:if(!Pe.jU){const{_parseImageNode:t}=globalThis;return Boolean(t)&&Le.includes(e)}return!0}}function Qe(){if(!Pe.jU)return!1;try{const e=document.createElement("canvas");return 0===e.toDataURL("image/webp").indexOf("data:image/webp")}catch{return!1}}const Xe="EXT_texture_webp",Ne=Xe;function ke(e,t){const n=new ye(e);if(!Ke("image/webp")){if(n.getRequiredExtensions().includes(Xe))throw new Error("gltf: Required extension ".concat(Xe," not supported by browser"));return}const{json:r}=n;for(const s of r.textures||[]){const e=n.getObjectExtension(s,Xe);e&&(s.source=e.source),n.removeObjectExtension(s,Xe)}n.removeExtension(Xe)}const Ze="KHR_texture_basisu",Ye=Ze;function We(e,t){const n=new ye(e),{json:r}=n;for(const s of r.textures||[]){const e=n.getObjectExtension(s,Ze);e&&(s.source=e.source),n.removeObjectExtension(s,Ze)}n.removeExtension(Ze)}const Ve="3.3.1",qe={draco:{decoderType:"object"===typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},ze={name:"Draco",id:l.jU?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:Ve,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:qe};function $e(e){let t=1/0,n=1/0,r=1/0,s=-1/0,o=-1/0,i=-1/0;const a=e.POSITION?e.POSITION.value:[],c=a&&a.length;for(let A=0;A<c;A+=3){const e=a[A],c=a[A+1],u=a[A+2];t=e<t?e:t,n=c<n?c:n,r=u<r?u:r,s=e>s?e:s,o=c>o?c:o,i=u>i?u:i}return[[t,n,r],[s,o,i]]}class et{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;(0,ie.Z)(this,"name",void 0),(0,ie.Z)(this,"type",void 0),(0,ie.Z)(this,"nullable",void 0),(0,ie.Z)(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=n,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new et(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let tt,nt,rt,st,ot,it,at,ct,At;(function(e){e[e["NONE"]=0]="NONE",e[e["Null"]=1]="Null",e[e["Int"]=2]="Int",e[e["Float"]=3]="Float",e[e["Binary"]=4]="Binary",e[e["Utf8"]=5]="Utf8",e[e["Bool"]=6]="Bool",e[e["Decimal"]=7]="Decimal",e[e["Date"]=8]="Date",e[e["Time"]=9]="Time",e[e["Timestamp"]=10]="Timestamp",e[e["Interval"]=11]="Interval",e[e["List"]=12]="List",e[e["Struct"]=13]="Struct",e[e["Union"]=14]="Union",e[e["FixedSizeBinary"]=15]="FixedSizeBinary",e[e["FixedSizeList"]=16]="FixedSizeList",e[e["Map"]=17]="Map",e[e["Dictionary"]=-1]="Dictionary",e[e["Int8"]=-2]="Int8",e[e["Int16"]=-3]="Int16",e[e["Int32"]=-4]="Int32",e[e["Int64"]=-5]="Int64",e[e["Uint8"]=-6]="Uint8",e[e["Uint16"]=-7]="Uint16",e[e["Uint32"]=-8]="Uint32",e[e["Uint64"]=-9]="Uint64",e[e["Float16"]=-10]="Float16",e[e["Float32"]=-11]="Float32",e[e["Float64"]=-12]="Float64",e[e["DateDay"]=-13]="DateDay",e[e["DateMillisecond"]=-14]="DateMillisecond",e[e["TimestampSecond"]=-15]="TimestampSecond",e[e["TimestampMillisecond"]=-16]="TimestampMillisecond",e[e["TimestampMicrosecond"]=-17]="TimestampMicrosecond",e[e["TimestampNanosecond"]=-18]="TimestampNanosecond",e[e["TimeSecond"]=-19]="TimeSecond",e[e["TimeMillisecond"]=-20]="TimeMillisecond",e[e["TimeMicrosecond"]=-21]="TimeMicrosecond",e[e["TimeNanosecond"]=-22]="TimeNanosecond",e[e["DenseUnion"]=-23]="DenseUnion",e[e["SparseUnion"]=-24]="SparseUnion",e[e["IntervalDayTime"]=-25]="IntervalDayTime",e[e["IntervalYearMonth"]=-26]="IntervalYearMonth"})(tt||(tt={}));class ut{static isNull(e){return e&&e.typeId===tt.Null}static isInt(e){return e&&e.typeId===tt.Int}static isFloat(e){return e&&e.typeId===tt.Float}static isBinary(e){return e&&e.typeId===tt.Binary}static isUtf8(e){return e&&e.typeId===tt.Utf8}static isBool(e){return e&&e.typeId===tt.Bool}static isDecimal(e){return e&&e.typeId===tt.Decimal}static isDate(e){return e&&e.typeId===tt.Date}static isTime(e){return e&&e.typeId===tt.Time}static isTimestamp(e){return e&&e.typeId===tt.Timestamp}static isInterval(e){return e&&e.typeId===tt.Interval}static isList(e){return e&&e.typeId===tt.List}static isStruct(e){return e&&e.typeId===tt.Struct}static isUnion(e){return e&&e.typeId===tt.Union}static isFixedSizeBinary(e){return e&&e.typeId===tt.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===tt.FixedSizeList}static isMap(e){return e&&e.typeId===tt.Map}static isDictionary(e){return e&&e.typeId===tt.Dictionary}get typeId(){return tt.NONE}compareTo(e){return this===e}}class Bt extends(null){get typeId(){return Type.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}}class ft extends(null){get typeId(){return Type.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}}nt=Symbol.toStringTag;class lt extends ut{constructor(e,t){super(),(0,ie.Z)(this,"isSigned",void 0),(0,ie.Z)(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return tt.Int}get[nt](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class dt extends lt{constructor(){super(!0,8)}}class Ct extends lt{constructor(){super(!0,16)}}class ht extends lt{constructor(){super(!0,32)}}class mt extends lt{constructor(){super(!1,8)}}class gt extends lt{constructor(){super(!1,16)}}class bt extends lt{constructor(){super(!1,32)}}const Et={HALF:16,SINGLE:32,DOUBLE:64};rt=Symbol.toStringTag;class yt extends ut{constructor(e){super(),(0,ie.Z)(this,"precision",void 0),this.precision=e}get typeId(){return tt.Float}get[rt](){return"Float"}toString(){return"Float".concat(this.precision)}}class Ft extends yt{constructor(){super(Et.SINGLE)}}class Gt extends yt{constructor(){super(Et.DOUBLE)}}class pt extends(null){constructor(){super()}get typeId(){return Type.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}}class Dt extends(null){get typeId(){return Type.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}}st=Symbol.toStringTag;ot=Symbol.toStringTag;it=Symbol.toStringTag;at=Symbol.toStringTag;ct=Symbol.toStringTag;class Mt extends ut{constructor(e,t){super(),(0,ie.Z)(this,"listSize",void 0),(0,ie.Z)(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return tt.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[ct](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}At=Symbol.toStringTag;function It(e){switch(e.constructor){case Int8Array:return new dt;case Uint8Array:return new mt;case Int16Array:return new Ct;case Uint16Array:return new gt;case Int32Array:return new ht;case Uint32Array:return new bt;case Float32Array:return new Ft;case Float64Array:return new Gt;default:throw new Error("array type not supported")}}function Rt(e,t,n){const r=It(t.value),s=n||wt(t),o=new et(e,new Mt(t.size,new et("value",r)),!1,s);return o}function wt(e){const t=new Map;return"byteOffset"in e&&t.set("byteOffset",e.byteOffset.toString(10)),"byteStride"in e&&t.set("byteStride",e.byteStride.toString(10)),"normalized"in e&&t.set("normalized",e.normalized.toString()),t}function Jt(e,t){if(!e)throw new Error(t||"loader assertion failed.")}class Tt{constructor(e,t){(0,ie.Z)(this,"fields",void 0),(0,ie.Z)(this,"metadata",void 0),Jt(Array.isArray(e)),vt(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(){const e=Object.create(null);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e[o]=!0;const s=this.fields.filter((t=>e[t.name]));return new Tt(s,this.metadata)}selectAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>this.fields[e])).filter(Boolean);return new Tt(r,this.metadata)}assign(e){let t,n=this.metadata;if(e instanceof Tt){const r=e;t=r.fields,n=_t(_t(new Map,this.metadata),r.metadata)}else t=e;const r=Object.create(null);for(const o of this.fields)r[o.name]=o;for(const o of t)r[o.name]=o;const s=Object.values(r);return new Tt(s,n)}}function vt(e){const t={};for(const n of e)t[n.name]&&console.warn("Schema: duplicated field name",n.name,n),t[n.name]=!0}function _t(e,t){return new Map([...e||new Map,...t||new Map])}function Ht(e,t,n){const r=Ot(t.metadata),s=[],o=St(t.attributes);for(const i in e){const t=e[i],n=Ut(i,t,o[i]);s.push(n)}if(n){const e=Ut("indices",n);s.push(e)}return new Tt(s,r)}function St(e){const t={};for(const n in e){const r=e[n];t[r.name||"undefined"]=r}return t}function Ut(e,t,n){const r=n?Ot(n.metadata):void 0,s=Rt(e,t,r);return s}function Ot(e){const t=new Map;for(const n in e)t.set("".concat(n,".string"),JSON.stringify(e[n]));return t}const Pt={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},Lt={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},xt=4;class Kt{constructor(e){(0,ie.Z)(this,"draco",void 0),(0,ie.Z)(this,"decoder",void 0),(0,ie.Z)(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(n),s=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let e;switch(r){case this.draco.TRIANGULAR_MESH:e=this.decoder.DecodeBufferToMesh(n,s);break;case this.draco.POINT_CLOUD:e=this.decoder.DecodeBufferToPointCloud(n,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!e.ok()||!s.ptr){const t="DRACO decompression failed: ".concat(e.error_msg());throw new Error(t)}const o=this._getDracoLoaderData(s,r,t),i=this._getMeshData(s,o,t),a=$e(i.attributes),c=Ht(i.attributes,o,i.indices),A={loader:"draco",loaderData:o,header:{vertexCount:s.num_points(),boundingBox:a},...i,schema:c};return A}finally{this.draco.destroy(n),s&&this.draco.destroy(s)}}_getDracoLoaderData(e,t,n){const r=this._getTopLevelMetadata(e),s=this._getDracoAttributes(e,n);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:s}}_getDracoAttributes(e,t){const n={};for(let r=0;r<e.num_attributes();r++){const s=this.decoder.GetAttribute(e,r),o=this._getAttributeMetadata(e,r);n[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:r,metadata:o};const i=this._getQuantizationTransform(s,t);i&&(n[s.unique_id()].quantization_transform=i);const a=this._getOctahedronTransform(s,t);a&&(n[s.unique_id()].octahedron_transform=a)}return n}_getMeshData(e,t,n){const r=this._getMeshAttributes(t,e,n),s=r.POSITION;if(!s)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(n.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,n){const r={};for(const s of Object.values(e.attributes)){const e=this._deduceAttributeName(s,n);s.name=e;const{value:o,size:i}=this._getAttributeValues(t,s);r[e]={value:o,size:i,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}return r}_getTriangleListIndices(e){const t=e.num_faces(),n=3*t,r=n*xt,s=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,s),new Uint32Array(this.draco.HEAPF32.buffer,s,n).slice()}finally{this.draco._free(s)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),Xt(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const n=Lt[t.data_type],r=t.num_components,s=e.num_points(),o=s*r,i=o*n.BYTES_PER_ELEMENT,a=jt(this.draco,n);let c;const A=this.draco._malloc(i);try{const r=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,r,a,i,A),c=new n(this.draco.HEAPF32.buffer,A,o).slice()}finally{this.draco._free(A)}return{value:c,size:r}}_deduceAttributeName(e,t){const n=e.unique_id;for(const[o,i]of Object.entries(t.extraAttributes||{}))if(i===n)return o;const r=e.attribute_type;for(const o in Pt){const e=this.draco[o];if(e===r)return Pt[o]}const s=t.attributeNameEntry||"name";return e.metadata[s]?e.metadata[s].string:"CUSTOM_ATTRIBUTE_".concat(n)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const n=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(n)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},n=this.metadataQuerier.NumEntries(e);for(let r=0;r<n;r++){const n=this.metadataQuerier.GetEntryName(e,r);t[n]=this._getDracoMetadataField(e,n)}return t}_getDracoMetadataField(e,t){const n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,n);const r=Qt(n);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(n)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:n=[]}=e,r=[...t,...n];for(const s of r)this.decoder.SkipAttributeTransform(this.draco[s])}_getQuantizationTransform(e,t){const{quantizedAttributes:n=[]}=t,r=e.attribute_type(),s=n.map((e=>this.decoder[e])).includes(r);if(s){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits(),range:t.range(),min_values:new Float32Array([1,2,3]).map((e=>t.min_value(e)))}}finally{this.draco.destroy(t)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:n=[]}=t,r=e.attribute_type(),s=n.map((e=>this.decoder[e])).includes(r);if(s){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits()}}finally{this.draco.destroy(t)}}return null}}function jt(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}function Qt(e){const t=e.size(),n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=e.GetValue(r);return n}function Xt(e){const t=e.size(),n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=e.GetValue(r);return n}const Nt="1.5.5",kt="1.4.1",Zt="https://www.gstatic.com/draco/versioned/decoders/".concat(Nt),Yt="".concat(Zt,"/draco_decoder.js"),Wt="".concat(Zt,"/draco_wasm_wrapper.js"),Vt="".concat(Zt,"/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat(kt,"/javascript/draco_encoder.js");let qt;async function zt(e){const t=e.modules||{};return qt=t.draco3d?qt||t.draco3d.createDecoderModule({}).then((e=>({draco:e}))):qt||$t(e),await qt}async function $t(e){let t,n;switch(e.draco&&e.draco.decoderType){case"js":t=await b(Yt,"draco",e);break;case"wasm":default:[t,n]=await Promise.all([await b(Wt,"draco",e),await b(Vt,"draco",e)])}return t=t||globalThis.DracoDecoderModule,await en(t,n)}function en(e,t){const n={};return t&&(n.wasmBinary=t),new Promise((t=>{e({...n,onModuleLoaded:e=>t({draco:e})})}))}l.jU;const tn={...ze,parse:nn};async function nn(e,t){const{draco:n}=await zt(t),r=new Kt(n);try{return r.parseSync(e,null===t||void 0===t?void 0:t.draco)}finally{r.destroy()}}function rn(e){const t={};for(const n in e){const r=e[n];if("indices"!==n){const e=sn(r);t[n]=e}}return t}function sn(e){const{buffer:t,size:n,count:r}=on(e),s={value:t,size:n,byteOffset:0,count:r,type:me(n),componentType:ge(t)};return s}function on(e){let t=e,n=1,r=0;return e&&e.value&&(t=e.value,n=e.size||1),t&&(ArrayBuffer.isView(t)||(t=an(t,Float32Array)),r=t.length/n),{buffer:t,size:n,count:r}}function an(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?Array.isArray(e)?new t(e):!n||e instanceof t?e:new t(e):null}const cn="KHR_draco_mesh_compression",An=cn;function un(e,t,n){const r=new ye(e);for(const s of hn(r))r.getObjectExtension(s,cn)}async function Bn(e,t,n){var r;if(null===t||void 0===t||null===(r=t.gltf)||void 0===r||!r.decompressMeshes)return;const s=new ye(e),o=[];for(const i of hn(s))s.getObjectExtension(i,cn)&&o.push(ln(s,i,t,n));await Promise.all(o),s.removeExtension(cn)}function fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new ye(e);for(const r of n.json.meshes||[])dn(r,t),n.addRequiredExtension(cn)}async function ln(e,t,n,r){const s=e.getObjectExtension(t,cn);if(!s)return;const o=e.getTypedArrayForBufferView(s.bufferView),i=(0,ne.qv)(o.buffer,o.byteOffset),{parse:a}=r,c={...n};delete c["3d-tiles"];const A=await a(i,tn,c,r),u=rn(A.attributes);for(const[B,f]of Object.entries(u))if(B in t.attributes){const n=t.attributes[B],r=e.getAccessor(n);null!==r&&void 0!==r&&r.min&&null!==r&&void 0!==r&&r.max&&(f.min=r.min,f.max=r.max)}t.attributes=u,A.indices&&(t.indices=sn(A.indices)),Cn(t)}function dn(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!s.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const i=s.DracoWriter.encodeSync({attributes:e}),a=null===o||void 0===o||null===(n=o.parseSync)||void 0===n?void 0:n.call(o,{attributes:e}),c=s._addFauxAttributes(a.attributes),A=s.addBufferView(i),u={primitives:[{attributes:c,mode:r,extensions:{[cn]:{bufferView:A,attributes:c}}}]};return u}function Cn(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function*hn(e){for(const t of e.json.meshes||[])for(const e of t.primitives)yield e}var mn=n(43855),gn=n(80540);const bn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},En={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};const yn="KHR_texture_transform",Fn=yn,Gn=new mn.Z,pn=new gn.Z,Dn=new gn.Z;async function Mn(e,t){const n=new ye(e),r=n.getExtension(yn);if(!r)return;const s=e.json.materials||[];for(let o=0;o<s.length;o++)In(o,e)}function In(e,t){var n,r,s;const o=[],i=null===(n=t.json.materials)||void 0===n?void 0:n[e],a=null===i||void 0===i||null===(r=i.pbrMetallicRoughness)||void 0===r?void 0:r.baseColorTexture;a&&Rn(t,e,a,o);const c=null===i||void 0===i?void 0:i.emissiveTexture;c&&Rn(t,e,c,o);const A=null===i||void 0===i?void 0:i.normalTexture;A&&Rn(t,e,A,o);const u=null===i||void 0===i?void 0:i.occlusionTexture;u&&Rn(t,e,u,o);const B=null===i||void 0===i||null===(s=i.pbrMetallicRoughness)||void 0===s?void 0:s.metallicRoughnessTexture;B&&Rn(t,e,B,o)}function Rn(e,t,n,r){const s=wn(n,r);if(!s)return;const o=e.json.meshes||[];for(const i of o)for(const n of i.primitives){const r=n.material;Number.isFinite(r)&&t===r&&Jn(e,n,s)}}function wn(e,t){var n;const r=null===(n=e.extensions)||void 0===n?void 0:n[yn],{texCoord:s=0}=e,{texCoord:o=s}=r,i=-1!==t.findIndex((e=>{let[t,n]=e;return t===s&&n===o}));if(!i){const n=_n(r);return s!==o&&(e.texCoord=o),t.push([s,o]),{originalTexCoord:s,texCoord:o,matrix:n}}return null}function Jn(e,t,n){const{originalTexCoord:r,texCoord:s,matrix:o}=n,i=t.attributes["TEXCOORD_".concat(r)];if(Number.isFinite(i)){var a;const n=null===(a=e.json.accessors)||void 0===a?void 0:a[i];if(n&&n.bufferView){var c;const i=null===(c=e.json.bufferViews)||void 0===c?void 0:c[n.bufferView];if(i){const{arrayBuffer:a,byteOffset:c}=e.buffers[i.buffer],A=(c||0)+(n.byteOffset||0)+(i.byteOffset||0),{ArrayType:u,length:B}=be(n,i),f=En[n.componentType],l=bn[n.type],d=i.byteStride||f*l,C=new Float32Array(B);for(let e=0;e<n.count;e++){const t=new u(a,A+e*d,2);Gn.set(t[0],t[1],1),Gn.transformByMatrix3(o),C.set([Gn[0],Gn[1]],e*l)}r===s?Tn(n,i,e.buffers,C):vn(s,n,t,e,C)}}}}function Tn(e,t,n,r){e.componentType=5126,n.push({arrayBuffer:r.buffer,byteOffset:0,byteLength:r.buffer.byteLength}),t.buffer=n.length-1,t.byteLength=r.buffer.byteLength,t.byteOffset=0,delete t.byteStride}function vn(e,t,n,r,s){r.buffers.push({arrayBuffer:s.buffer,byteOffset:0,byteLength:s.buffer.byteLength});const o=r.json.bufferViews;if(!o)return;o.push({buffer:r.buffers.length-1,byteLength:s.buffer.byteLength,byteOffset:0});const i=r.json.accessors;i&&(i.push({bufferView:(null===o||void 0===o?void 0:o.length)-1,byteOffset:0,componentType:5126,count:t.count,type:"VEC2"}),n.attributes["TEXCOORD_".concat(e)]=i.length-1)}function _n(e){const{offset:t=[0,0],rotation:n=0,scale:r=[1,1]}=e,s=(new gn.Z).set(1,0,0,0,1,0,t[0],t[1],1),o=pn.set(Math.cos(n),Math.sin(n),0,-Math.sin(n),Math.cos(n),0,0,0,1),i=Dn.set(r[0],0,0,0,r[1],0,0,0,1);return s.multiplyRight(o).multiplyRight(i)}const Hn="KHR_lights_punctual",Sn=Hn;async function Un(e){const t=new ye(e),{json:n}=t,r=t.getExtension(Hn);r&&(t.json.lights=r.lights,t.removeExtension(Hn));for(const s of n.nodes||[]){const e=t.getObjectExtension(s,Hn);e&&(s.light=e.light),t.removeObjectExtension(s,Hn)}}async function On(e){const t=new ye(e),{json:n}=t;if(n.lights){const e=t.addExtension(Hn);re(!e.lights),e.lights=n.lights,delete n.lights}if(t.json.lights){for(const e of t.json.lights){const n=e.node;t.addObjectExtension(n,Hn,e)}delete t.json.lights}}const Pn="KHR_materials_unlit",Ln=Pn;async function xn(e){const t=new ye(e),{json:n}=t;for(const r of n.materials||[]){const e=r.extensions&&r.extensions.KHR_materials_unlit;e&&(r.unlit=!0),t.removeObjectExtension(r,Pn)}t.removeExtension(Pn)}function Kn(e){const t=new ye(e),{json:n}=t;if(t.materials)for(const r of n.materials||[])r.unlit&&(delete r.unlit,t.addObjectExtension(r,Pn,{}),t.addExtension(Pn))}const jn="KHR_techniques_webgl",Qn=jn;async function Xn(e){const t=new ye(e),{json:n}=t,r=t.getExtension(jn);if(r){const e=kn(r,t);for(const r of n.materials||[]){const n=t.getObjectExtension(r,jn);n&&(r.technique=Object.assign({},n,e[n.technique]),r.technique.values=Zn(r.technique,t)),t.removeObjectExtension(r,jn)}t.removeExtension(jn)}}async function Nn(e,t){}function kn(e,t){const{programs:n=[],shaders:r=[],techniques:s=[]}=e,o=new TextDecoder;return r.forEach((e=>{if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=o.decode(t.getTypedArrayForBufferView(e.bufferView))})),n.forEach((e=>{e.fragmentShader=r[e.fragmentShader],e.vertexShader=r[e.vertexShader]})),s.forEach((e=>{e.program=n[e.program]})),s}function Zn(e,t){const n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((t=>{e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((e=>{"object"===typeof n[e]&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}const Yn="EXT_feature_metadata",Wn=Yn;async function Vn(e){const t=new ye(e);qn(t)}function qn(e){var t;const n=e.getExtension(Yn),r=null===n||void 0===n||null===(t=n.schema)||void 0===t?void 0:t.classes,s=null===n||void 0===n?void 0:n.featureTables,o=null===n||void 0===n?void 0:n.featureTextures;if(o&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.'),r&&s)for(const i in r){const t=r[i],n=er(s,i);n&&zn(e,n,t)}}function zn(e,t,n){for(const s in n.properties){var r;const o=n.properties[s],i=null===t||void 0===t||null===(r=t.properties)||void 0===r?void 0:r[s],a=t.count;if(i){const t=$n(e,o,a,i);i.data=t}}}function $n(e,t,n,r){const s=r.bufferView;let o=e.getTypedArrayForBufferView(s);switch(t.type){case"STRING":{const t=r.stringOffsetBufferView,s=e.getTypedArrayForBufferView(t);o=tr(o,s,n);break}default:}return o}function er(e,t){for(const n in e){const r=e[n];if(r.class===t)return r}return null}function tr(e,t,n){const r=[],s=new TextDecoder("utf8");let o=0;const i=4;for(let a=0;a<n;a++){const n=t[(a+1)*i]-t[a*i],c=e.subarray(o,n+o),A=s.decode(c);r.push(A),o+=n}return r}const nr=[r,s,o,i,c,A,u,a,B];function rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=nr.filter((e=>or(e.name,t)));for(const o of r){var s;null===(s=o.preprocess)||void 0===s||s.call(o,e,t,n)}}async function sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=nr.filter((e=>or(e.name,t)));for(const o of r){var s;await(null===(s=o.decode)||void 0===s?void 0:s.call(o,e,t,n))}}function or(e,t){var n;const r=(null===t||void 0===t||null===(n=t.gltf)||void 0===n?void 0:n.excludeExtensions)||{},s=e in r&&!r[e];return!s}const ir="KHR_binary_glTF";function ar(e){const t=new ye(e),{json:n}=t;for(const r of n.images||[]){const e=t.getObjectExtension(r,ir);e&&Object.assign(r,e),t.removeObjectExtension(r,ir)}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri,t.removeExtension(ir)}const cr={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},Ar={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class ur{constructor(){(0,ie.Z)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),(0,ie.Z)(this,"json",void 0)}normalize(e,t){this.json=e.json;const n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(n.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),ar(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in cr)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const n=e[t];if(n&&!Array.isArray(n)){e[t]=[];for(const r in n){const s=n[r];s.id=s.id||r;const o=e[t].length;e[t].push(s),this.idToIndexMap[t][r]=o}}}_convertObjectIdsToArrayIndices(e){for(const t in cr)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:e,indices:n,material:r}=t;for(const t in e)e[t]=this._convertIdToIndex(e[t],"accessor");n&&(t.indices=this._convertIdToIndex(n,"accessor")),r&&(t.material=this._convertIdToIndex(r,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map((e=>this._convertIdToIndex(e,"node")))),e.meshes&&(e.meshes=e.meshes.map((e=>this._convertIdToIndex(e,"mesh"))))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map((e=>this._convertIdToIndex(e,"node"))))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const n of e[t])for(const e in n){const t=n[e],r=this._convertIdToIndex(t,e);n[e]=r}}_convertIdToIndex(e,t){const n=Ar[t];if(n in this.idToIndexMap){const r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const s of e.materials){var t,n,r;s.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const o=(null===(t=s.values)||void 0===t?void 0:t.tex)||(null===(n=s.values)||void 0===n?void 0:n.texture2d_0)||(null===(r=s.values)||void 0===r?void 0:r.diffuseTex),i=e.textures.findIndex((e=>e.id===o));-1!==i&&(s.pbrMetallicRoughness.baseColorTexture={index:i})}}}function Br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new ur).normalize(e,t)}const fr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lr={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},dr={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},Cr={magFilter:dr.TEXTURE_MAG_FILTER,minFilter:dr.TEXTURE_MIN_FILTER,wrapS:dr.TEXTURE_WRAP_S,wrapT:dr.TEXTURE_WRAP_T},hr={[dr.TEXTURE_MAG_FILTER]:dr.LINEAR,[dr.TEXTURE_MIN_FILTER]:dr.NEAREST_MIPMAP_LINEAR,[dr.TEXTURE_WRAP_S]:dr.REPEAT,[dr.TEXTURE_WRAP_T]:dr.REPEAT};function mr(e){return lr[e]}function gr(e){return fr[e]}class br{constructor(){(0,ie.Z)(this,"baseUri",""),(0,ie.Z)(this,"json",{}),(0,ie.Z)(this,"buffers",[]),(0,ie.Z)(this,"images",[])}postProcess(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{json:n,buffers:r=[],images:s=[],baseUri:o=""}=e;return re(n),this.baseUri=o,this.json=n,this.buffers=r,this.images=s,this._resolveTree(this.json,t),this.json}_resolveTree(e){e.bufferViews&&(e.bufferViews=e.bufferViews.map(((e,t)=>this._resolveBufferView(e,t)))),e.images&&(e.images=e.images.map(((e,t)=>this._resolveImage(e,t)))),e.samplers&&(e.samplers=e.samplers.map(((e,t)=>this._resolveSampler(e,t)))),e.textures&&(e.textures=e.textures.map(((e,t)=>this._resolveTexture(e,t)))),e.accessors&&(e.accessors=e.accessors.map(((e,t)=>this._resolveAccessor(e,t)))),e.materials&&(e.materials=e.materials.map(((e,t)=>this._resolveMaterial(e,t)))),e.meshes&&(e.meshes=e.meshes.map(((e,t)=>this._resolveMesh(e,t)))),e.nodes&&(e.nodes=e.nodes.map(((e,t)=>this._resolveNode(e,t)))),e.skins&&(e.skins=e.skins.map(((e,t)=>this._resolveSkin(e,t)))),e.scenes&&(e.scenes=e.scenes.map(((e,t)=>this._resolveScene(e,t)))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"===typeof t)return t;const n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((e=>this.getNode(e))),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((e=>this.getNode(e)))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce(((e,t)=>{const n=this.getMesh(t);return e.id=n.id,e.primitives=e.primitives.concat(n.primitives),e}),{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((e=>{e={...e};const t=e.attributes;e.attributes={};for(const n in t)e.attributes[n]=this.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=this.getAccessor(e.indices)),void 0!==e.material&&(e.material=this.getMaterial(e.material)),e}))),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const t=e.pbrMetallicRoughness;t.baseColorTexture&&(t.baseColorTexture={...t.baseColorTexture},t.baseColorTexture.texture=this.getTexture(t.baseColorTexture.index)),t.metallicRoughnessTexture&&(t.metallicRoughnessTexture={...t.metallicRoughnessTexture},t.metallicRoughnessTexture.texture=this.getTexture(t.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=mr(e.componentType),e.components=gr(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const t=e.bufferView.buffer,{ArrayType:n,byteLength:r}=be(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+t.byteOffset;let o=t.arrayBuffer.slice(s,s+r);e.bufferView.byteStride&&(o=this._getValueFromInterleavedBuffer(t,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new n(o)}return e}_getValueFromInterleavedBuffer(e,t,n,r,s){const o=new Uint8Array(s*r);for(let i=0;i<s;i++){const s=t+i*n;o.set(new Uint8Array(e.arrayBuffer.slice(s,s+r)),i*r)}return o.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):hr,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const n in e){const t=this._enumSamplerParameter(n);void 0!==t&&(e.parameters[t]=e[n])}return e}_enumSamplerParameter(e){return Cr[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const n=this.images[t];return n&&(e.image=n),e}_resolveBufferView(e,t){const n=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[n]},s=this.buffers[n].arrayBuffer;let o=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(o+=e.byteOffset),r.data=new Uint8Array(s,o,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}function Er(e,t){return(new br).postProcess(e,t)}const yr=1735152710,Fr=12,Gr=8,pr=1313821514,Dr=5130562,Mr=0,Ir=1,Rr=0,wr=!0;function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new DataView(e),{magic:s=yr}=n,o=r.getUint32(t,!1);return o===s||o===yr}function vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=new DataView(t),o=Jr(s,n+0),i=s.getUint32(n+4,wr),a=s.getUint32(n+8,wr);switch(Object.assign(e,{header:{byteOffset:n,byteLength:a,hasBinChunk:!1},type:o,version:i,json:{},binChunks:[]}),n+=Fr,e.version){case 1:return _r(e,s,n);case 2:return Hr(e,s,n,r={});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}}function _r(e,t,n){(0,ce.h)(e.header.byteLength>Fr+Gr);const r=t.getUint32(n+0,wr),s=t.getUint32(n+4,wr);return n+=Gr,(0,ce.h)(s===Rr),Ur(e,t,n,r),n+=r,n+=Or(e,t,n,e.header.byteLength),n}function Hr(e,t,n,r){return(0,ce.h)(e.header.byteLength>Fr+Gr),Sr(e,t,n,r),n+e.header.byteLength}function Sr(e,t,n,r){while(n+8<=e.header.byteLength){const s=t.getUint32(n+0,wr),o=t.getUint32(n+4,wr);switch(n+=Gr,o){case pr:Ur(e,t,n,s);break;case Dr:Or(e,t,n,s);break;case Mr:r.strict||Ur(e,t,n,s);break;case Ir:r.strict||Or(e,t,n,s);break;default:break}n+=Ae(s,4)}return n}function Ur(e,t,n,r){const s=new Uint8Array(t.buffer,n,r),o=new TextDecoder("utf8"),i=o.decode(s);return e.json=JSON.parse(i),Ae(r,4)}function Or(e,t,n,r){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),Ae(r,4)}async function Pr(e,t){var n,r,s,o;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;Lr(e,t,i,a),Br(e,{normalize:null===a||void 0===a||null===(n=a.gltf)||void 0===n?void 0:n.normalize}),rr(e,a,c);const A=[];if(null!==a&&void 0!==a&&null!==(r=a.gltf)&&void 0!==r&&r.loadBuffers&&e.json.buffers&&await xr(e,a,c),null!==a&&void 0!==a&&null!==(s=a.gltf)&&void 0!==s&&s.loadImages){const t=Kr(e,a,c);A.push(t)}const u=sr(e,a,c);return A.push(u),await Promise.all(A),null!==a&&void 0!==a&&null!==(o=a.gltf)&&void 0!==o&&o.postProcess?Er(e,a):e}function Lr(e,t,n,r){if(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!Tr(t,n,r)){const e=new TextDecoder;t=e.decode(t)}if("string"===typeof t)e.json=te(t);else if(t instanceof ArrayBuffer){const s={};n=vr(s,t,n,r.glb),re("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),e._glb=s,e.json=s.json}else re(!1,"GLTF: must be ArrayBuffer or string");const s=e.json.buffers||[];if(e.buffers=new Array(s.length).fill(null),e._glb&&e._glb.header.hasBinChunk){const{binChunks:t}=e._glb;e.buffers[0]={arrayBuffer:t[0].arrayBuffer,byteOffset:t[0].byteOffset,byteLength:t[0].byteLength}}const o=e.json.images||[];e.images=new Array(o.length).fill({})}async function xr(e,t,n){const r=e.json.buffers||[];for(let i=0;i<r.length;++i){const a=r[i];if(a.uri){var s,o;const{fetch:r}=n;re(r);const c=se(a.uri,t),A=await(null===n||void 0===n||null===(s=n.fetch)||void 0===s?void 0:s.call(n,c)),u=await(null===A||void 0===A||null===(o=A.arrayBuffer)||void 0===o?void 0:o.call(A));e.buffers[i]={arrayBuffer:u,byteOffset:0,byteLength:u.byteLength},delete a.uri}else null===e.buffers[i]&&(e.buffers[i]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}async function Kr(e,t,n){const r=jr(e),s=e.json.images||[],o=[];for(const i of r)o.push(Qr(e,s[i],i,t,n));return await Promise.all(o)}function jr(e){const t=new Set,n=e.json.textures||[];for(const r of n)void 0!==r.source&&t.add(r.source);return Array.from(t).sort()}async function Qr(e,t,n,r,s){const{fetch:o,parse:i}=s;let a;if(t.uri&&!t.hasOwnProperty("bufferView")){const e=se(t.uri,r),n=await o(e);a=await n.arrayBuffer(),t.bufferView={data:a}}if(Number.isFinite(t.bufferView)){const n=oe(e.json,e.buffers,t.bufferView);a=(0,ne.qv)(n.buffer,n.byteOffset,n.byteLength)}re(a,"glTF image has no data");let c=await i(a,[z.S,q],{mimeType:t.mimeType,basis:r.basis||{format:W()}},s);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),e.images=e.images||[],e.images[n]=c}const Xr={name:"glTF",id:"gltf",module:"gltf",version:f,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:Nr,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};async function Nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t={...Xr.options,...t},t.gltf={...Xr.options.gltf,...t.gltf};const{byteOffset:r=0}=t,s={};return await Pr(s,e,r,t,n)}},54022:function(e,t,n){n.d(t,{S:function(){return S}});const r="3.3.1";var s=n(16269),o=n(84959);const{_parseImageNode:i}=globalThis,a="undefined"!==typeof Image,c="undefined"!==typeof ImageBitmap,A=Boolean(i),u=!!o.jU||A;function B(e){switch(e){case"auto":return c||a||u;case"imagebitmap":return c;case"image":return a;case"data":return u;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}function f(){if(c)return"imagebitmap";if(a)return"image";if(u)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function l(e){const t=C(e);if(!t)throw new Error("Not an image");return t}function d(e){switch(l(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function C(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}const h=/^data:image\/svg\+xml/,m=/\.svg((\?|#).*)?$/;function g(e){return e&&(h.test(e)||m.test(e))}function b(e,t){if(g(t)){const t=new TextDecoder;let r=t.decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(r=unescape(encodeURIComponent(r)))}catch(n){throw new Error(n.message)}const s="data:image/svg+xml;base64,".concat(btoa(r));return s}return E(e,t)}function E(e,t){if(g(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function y(e,t,n){const r=b(e,n),s=self.URL||self.webkitURL,o="string"!==typeof r&&s.createObjectURL(r);try{return await F(o||r,t)}finally{o&&s.revokeObjectURL(o)}}async function F(e,t){const n=new Image;return n.src=e,t.image&&t.image.decode&&n.decode?(await n.decode(),n):await new Promise(((t,r)=>{try{n.onload=()=>t(n),n.onerror=t=>r(new Error("Could not load image ".concat(e,": ").concat(t)))}catch(s){r(s)}}))}const G={};let p=!0;async function D(e,t,n){let r;if(g(n)){const s=await y(e,t,n);r=s}else r=E(e,n);const s=t&&t.imagebitmap;return await M(r,s)}async function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!I(t)&&p||(t=null),t)try{return await createImageBitmap(e,t)}catch(n){console.warn(n),p=!1}return await createImageBitmap(e)}function I(e){for(const t in e||G)return!1;return!0}var R=n(39105);async function w(e,t){const{mimeType:n}=(0,R.I)(e)||{},r=globalThis._parseImageNode;return(0,s.h)(r),await r(e,n)}async function J(e,t,n){t=t||{};const r=t.image||{},o=r.type||"auto",{url:i}=n||{},a=T(o);let c;switch(a){case"imagebitmap":c=await D(e,t,i);break;case"image":c=await y(e,t,i);break;case"data":c=await w(e,t);break;default:(0,s.h)(!1)}return"data"===o&&(c=d(c)),c}function T(e){switch(e){case"auto":case"data":return f();default:return B(e),e}}const v=["png","jpg","jpeg","gif","webp","bmp","ico","svg"],_=["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],H={image:{type:"auto",decode:!0}},S={id:"image",module:"images",name:"Images",version:r,mimeTypes:_,extensions:v,parse:J,tests:[e=>Boolean((0,R.I)(new DataView(e)))],options:H}},39105:function(e,t,n){n.d(t,{I:function(){return o}});const r=!1,s=!0;function o(e){const t=B(e);return i(t)||A(t)||a(t)||c(t)}function i(e){const t=B(e),n=t.byteLength>=24&&2303741511===t.getUint32(0,r);return n?{mimeType:"image/png",width:t.getUint32(16,r),height:t.getUint32(20,r)}:null}function a(e){const t=B(e),n=t.byteLength>=10&&1195984440===t.getUint32(0,r);return n?{mimeType:"image/gif",width:t.getUint16(6,s),height:t.getUint16(8,s)}:null}function c(e){const t=B(e),n=t.byteLength>=14&&16973===t.getUint16(0,r)&&t.getUint32(2,s)===t.byteLength;return n?{mimeType:"image/bmp",width:t.getUint32(18,s),height:t.getUint32(22,s)}:null}function A(e){const t=B(e),n=t.byteLength>=3&&65496===t.getUint16(0,r)&&255===t.getUint8(2);if(!n)return null;const{tableMarkers:s,sofMarkers:o}=u();let i=2;while(i+9<t.byteLength){const e=t.getUint16(i,r);if(o.has(e))return{mimeType:"image/jpeg",height:t.getUint16(i+5,r),width:t.getUint16(i+7,r)};if(!s.has(e))return null;i+=2,i+=t.getUint16(i,r)}return null}function u(){const e=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)e.add(n);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}function B(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},74609:function(e,t,n){function r(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),s=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),s=r.reduce(((e,t)=>e+t.byteLength),0),o=new Uint8Array(s);let i=0;for(const a of r)o.set(a,i),i+=a.byteLength;return o.buffer}function o(e,t,n){const r=void 0!==n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t),s=new Uint8Array(r);return s.buffer}n.d(t,{JY:function(){return s},Xq:function(){return r},qv:function(){return o}})},16269:function(e,t,n){function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,{h:function(){return r}})},84959:function(e,t,n){n.d(t,{jU:function(){return s}});const r={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document},s=(r.self||r.window||r.global,r.window||r.self||r.global,r.global||r.self||r.window,r.document,Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser)),o="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);o&&parseFloat(o[1])},78634:function(e,t,n){n.d(t,{Z:function(){return B}});var r=n(82482),s=n(23881);const o="Queued Requests",i="Active Requests",a="Cancelled Requests",c="Queued Requests Ever",A="Active Requests Ever",u={id:"request-scheduler",throttleRequests:!0,maxRequests:6};class B{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,"props",void 0),(0,r.Z)(this,"stats",void 0),(0,r.Z)(this,"activeRequestCount",0),(0,r.Z)(this,"requestQueue",[]),(0,r.Z)(this,"requestMap",new Map),(0,r.Z)(this,"deferredUpdate",null),this.props={...u,...e},this.stats=new s.Z({id:this.props.id}),this.stats.get(o),this.stats.get(i),this.stats.get(a),this.stats.get(c),this.stats.get(A)}scheduleRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>0;if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const n={handle:e,priority:0,getPriority:t},r=new Promise((e=>(n.resolve=e,n)));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}_issueRequest(e){const{handle:t,resolve:n}=e;let r=!1;const s=()=>{r||(r=!0,this.requestMap.delete(t),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,n?n({done:s}):Promise.resolve({done:s})}_issueNewRequests(){this.deferredUpdate||(this.deferredUpdate=setTimeout((()=>this._issueNewRequestsAsync()),0))}_issueNewRequestsAsync(){this.deferredUpdate=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(let t=0;t<e;++t){const e=this.requestQueue.shift();e&&this._issueRequest(e)}}}_updateAllRequests(){const e=this.requestQueue;for(let t=0;t<e.length;++t){const n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort(((e,t)=>e.priority-t.priority))}_updateRequest(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}},96040:function(e,t,n){function r(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}n.d(t,{h:function(){return r}})},96013:function(e,t,n){n.d(t,{CO:function(){return s},hJ:function(){return i},jU:function(){return o},tq:function(){return a}});const r={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document},s=(r.self||r.window||r.global,r.window||r.self||r.global,r.global||r.self||r.window||{}),o=(r.document,"object"!==typeof process||"[object process]"!==String(process)||process.browser),i="function"===typeof importScripts,a="undefined"!==typeof window&&"undefined"!==typeof window.orientation,c="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);c&&parseFloat(c[1])}}]);
//# sourceMappingURL=chunk-vendors-9c18f013.c96ccdb9.js.map