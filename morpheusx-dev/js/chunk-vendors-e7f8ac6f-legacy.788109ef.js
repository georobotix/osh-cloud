"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[7512],{37231:function(i,e,t){var n=t(52200);function o(i){switch(i){case n.Z.FLOAT:return"float";case n.Z.FLOAT_VEC2:return"vec2";case n.Z.FLOAT_VEC3:return"vec3";case n.Z.FLOAT_VEC4:return"vec4";case n.Z.FLOAT_MAT2:return"mat2";case n.Z.FLOAT_MAT3:return"mat3";case n.Z.FLOAT_MAT4:return"mat4";case n.Z.SAMPLER_2D:return"sampler2D";case n.Z.BOOL:return"bool"}}e["Z"]=o},70869:function(i,e,t){t(12572)},36051:function(i,e,t){var n,o=t(59947),s=t(62200),r=t(82982),a=t(12572);function l(i,e,t,n,o){var s=i.measureText(e),r=!/\S/.test(e);if(!r){var a=document.defaultView.getComputedStyle(i.canvas).getPropertyValue("font-size").replace("px",""),l=document.createElement("canvas"),h=100,d=s.width+h|0,c=3*a,f=c/2;l.width=d,l.height=c;var u=l.getContext("2d");u.font=t,u.fillStyle="white",u.fillRect(0,0,l.width+1,l.height+1),n&&(u.strokeStyle="black",u.lineWidth=i.lineWidth,u.strokeText(e,h/2,f)),o&&(u.fillStyle="black",u.fillText(e,h/2,f));var Z,p,g,_,y=u.getImageData(0,0,d,c).data,m=y.length,v=4*d;for(Z=0;Z<m;++Z)if(255!==y[Z]){g=Z/v|0;break}for(Z=m-1;Z>=0;--Z)if(255!==y[Z]){_=Z/v|0;break}var b=-1;for(Z=0;Z<d&&-1===b;++Z)for(p=0;p<c;++p){var O=4*Z+p*v;if(255!==y[O]||255!==y[O+1]||255!==y[O+2]||255!==y[O+3]){b=Z;break}}return{width:s.width,height:_-g,ascent:f-g,descent:_-f,minx:b-h/2}}return{width:s.width,height:0,ascent:0,descent:0,minx:0}}function h(i,e){if(!(0,r.Z)(i))throw new a.Z("text is required.");if(""!==i){e=(0,s.Z)(e,s.Z.EMPTY_OBJECT);var t=(0,s.Z)(e.font,"10px sans-serif"),h=(0,s.Z)(e.stroke,!1),d=(0,s.Z)(e.fill,!0),c=(0,s.Z)(e.strokeWidth,1),f=(0,s.Z)(e.backgroundColor,o.Z.TRANSPARENT),u=(0,s.Z)(e.padding,0),Z=2*u,p=document.createElement("canvas");p.width=1,p.height=1,p.style.font=t;var g=p.getContext("2d");(0,r.Z)(n)||((0,r.Z)(g.imageSmoothingEnabled)?n="imageSmoothingEnabled":(0,r.Z)(g.mozImageSmoothingEnabled)?n="mozImageSmoothingEnabled":(0,r.Z)(g.webkitImageSmoothingEnabled)?n="webkitImageSmoothingEnabled":(0,r.Z)(g.msImageSmoothingEnabled)&&(n="msImageSmoothingEnabled")),g.font=t,g.lineJoin="round",g.lineWidth=c,g[n]=!1,p.style.visibility="hidden",document.body.appendChild(p);var _=l(g,i,t,h,d);p.dimensions=_,document.body.removeChild(p),p.style.visibility="";var y=-_.minx,m=Math.ceil(_.width)+y+Z,v=_.height+Z,b=v-_.ascent+u,O=v-b+Z;if(p.width=m,p.height=v,g.font=t,g.lineJoin="round",g.lineWidth=c,g[n]=!1,f!==o.Z.TRANSPARENT&&(g.fillStyle=f.toCssColorString(),g.fillRect(0,0,p.width,p.height)),h){var D=(0,s.Z)(e.strokeColor,o.Z.BLACK);g.strokeStyle=D.toCssColorString(),g.strokeText(i,y+u,O)}if(d){var w=(0,s.Z)(e.fillColor,o.Z.WHITE);g.fillStyle=w.toCssColorString(),g.fillText(i,y+u,O)}return p}}e["Z"]=h},44011:function(i,e,t){var n=t(62200),o=t(82982),s=t(12572),r=t(14459),a=t(90203);function l(i){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._image=void 0,this._imageSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._alignedAxis=void 0,this._alignedAxisSubscription=void 0,this._sizeInMeters=void 0,this._sizeInMetersSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._imageSubRegion=void 0,this._imageSubRegionSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge((0,n.Z)(i,n.Z.EMPTY_OBJECT))}Object.defineProperties(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,a.Z)("show"),image:(0,a.Z)("image"),scale:(0,a.Z)("scale"),pixelOffset:(0,a.Z)("pixelOffset"),eyeOffset:(0,a.Z)("eyeOffset"),horizontalOrigin:(0,a.Z)("horizontalOrigin"),verticalOrigin:(0,a.Z)("verticalOrigin"),heightReference:(0,a.Z)("heightReference"),color:(0,a.Z)("color"),rotation:(0,a.Z)("rotation"),alignedAxis:(0,a.Z)("alignedAxis"),sizeInMeters:(0,a.Z)("sizeInMeters"),width:(0,a.Z)("width"),height:(0,a.Z)("height"),scaleByDistance:(0,a.Z)("scaleByDistance"),translucencyByDistance:(0,a.Z)("translucencyByDistance"),pixelOffsetScaleByDistance:(0,a.Z)("pixelOffsetScaleByDistance"),imageSubRegion:(0,a.Z)("imageSubRegion"),distanceDisplayCondition:(0,a.Z)("distanceDisplayCondition"),disableDepthTestDistance:(0,a.Z)("disableDepthTestDistance")}),l.prototype.clone=function(i){return(0,o.Z)(i)?(i.show=this._show,i.image=this._image,i.scale=this._scale,i.pixelOffset=this._pixelOffset,i.eyeOffset=this._eyeOffset,i.horizontalOrigin=this._horizontalOrigin,i.verticalOrigin=this._verticalOrigin,i.heightReference=this._heightReference,i.color=this._color,i.rotation=this._rotation,i.alignedAxis=this._alignedAxis,i.sizeInMeters=this._sizeInMeters,i.width=this._width,i.height=this._height,i.scaleByDistance=this._scaleByDistance,i.translucencyByDistance=this._translucencyByDistance,i.pixelOffsetScaleByDistance=this._pixelOffsetScaleByDistance,i.imageSubRegion=this._imageSubRegion,i.distanceDisplayCondition=this._distanceDisplayCondition,i.disableDepthTestDistance=this._disableDepthTestDistance,i):new l(this)},l.prototype.merge=function(i){if(!(0,o.Z)(i))throw new s.Z("source is required.");this.show=(0,n.Z)(this._show,i.show),this.image=(0,n.Z)(this._image,i.image),this.scale=(0,n.Z)(this._scale,i.scale),this.pixelOffset=(0,n.Z)(this._pixelOffset,i.pixelOffset),this.eyeOffset=(0,n.Z)(this._eyeOffset,i.eyeOffset),this.horizontalOrigin=(0,n.Z)(this._horizontalOrigin,i.horizontalOrigin),this.verticalOrigin=(0,n.Z)(this._verticalOrigin,i.verticalOrigin),this.heightReference=(0,n.Z)(this._heightReference,i.heightReference),this.color=(0,n.Z)(this._color,i.color),this.rotation=(0,n.Z)(this._rotation,i.rotation),this.alignedAxis=(0,n.Z)(this._alignedAxis,i.alignedAxis),this.sizeInMeters=(0,n.Z)(this._sizeInMeters,i.sizeInMeters),this.width=(0,n.Z)(this._width,i.width),this.height=(0,n.Z)(this._height,i.height),this.scaleByDistance=(0,n.Z)(this._scaleByDistance,i.scaleByDistance),this.translucencyByDistance=(0,n.Z)(this._translucencyByDistance,i.translucencyByDistance),this.pixelOffsetScaleByDistance=(0,n.Z)(this._pixelOffsetScaleByDistance,i.pixelOffsetScaleByDistance),this.imageSubRegion=(0,n.Z)(this._imageSubRegion,i.imageSubRegion),this.distanceDisplayCondition=(0,n.Z)(this._distanceDisplayCondition,i.distanceDisplayCondition),this.disableDepthTestDistance=(0,n.Z)(this._disableDepthTestDistance,i.disableDepthTestDistance)},e["Z"]=l},76985:function(i,e,t){var n=t(8629),o=t(88108),s=t(60838),r=t(60216),a=t(59947),l=t(82982),h=t(86511),d=t(12572),c=t(47861),f=t(15720),u=t(4260),Z=t(62919),p=t(60473),g=t(69895),_=t(40112),y=a.Z.WHITE,m=r.Z.ZERO,v=u.Z.NONE,b=s.Z.ZERO,O=1,D=0,w=r.Z.ZERO,C=Z.Z.CENTER,S=p.Z.CENTER,x=!1,E=new r.Z,R=new a.Z,V=new r.Z,T=new s.Z,A=new f.Z,B=new f.Z,P=new f.Z,I=new o.Z,M=new c.Z;function z(i){this.entity=i,this.billboard=void 0,this.textureValue=void 0}function N(i,e){if(!(0,l.Z)(i))throw new d.Z("entityCluster is required.");if(!(0,l.Z)(e))throw new d.Z("entityCollection is required.");e.collectionChanged.addEventListener(N.prototype._onCollectionChanged,this),this._cluster=i,this._entityCollection=e,this._items=new n.Z,this._onCollectionChanged(e,e.values,[],[])}function k(i,e,t){(0,l.Z)(i)&&(i.billboard=void 0,t.removeBillboard(e))}N.prototype.update=function(i){if(!(0,l.Z)(i))throw new d.Z("time is required.");for(var e=this._items.values,t=this._cluster,n=0,o=e.length;n<o;n++){var s,r,a=e[n],h=a.entity,c=h._billboard,f=a.billboard,u=h.isShowing&&h.isAvailable(i)&&_.Z.getValueOrDefault(c._show,i,!0);if(u&&(r=_.Z.getValueOrUndefined(h._position,i,E),s=_.Z.getValueOrUndefined(c._image,i),u=(0,l.Z)(r)&&(0,l.Z)(s)),u){_.Z.isConstant(h._position)||(t._clusterDirty=!0),(0,l.Z)(f)||(f=t.getBillboard(h),f.id=h,f.image=void 0,a.billboard=f),f.show=u,(0,l.Z)(f.image)&&a.textureValue===s||(f.image=s,a.textureValue=s),f.position=r,f.color=_.Z.getValueOrDefault(c._color,i,y,R),f.eyeOffset=_.Z.getValueOrDefault(c._eyeOffset,i,m,V),f.heightReference=_.Z.getValueOrDefault(c._heightReference,i,v),f.pixelOffset=_.Z.getValueOrDefault(c._pixelOffset,i,b,T),f.scale=_.Z.getValueOrDefault(c._scale,i,O),f.rotation=_.Z.getValueOrDefault(c._rotation,i,D),f.alignedAxis=_.Z.getValueOrDefault(c._alignedAxis,i,w),f.horizontalOrigin=_.Z.getValueOrDefault(c._horizontalOrigin,i,C),f.verticalOrigin=_.Z.getValueOrDefault(c._verticalOrigin,i,S),f.width=_.Z.getValueOrUndefined(c._width,i),f.height=_.Z.getValueOrUndefined(c._height,i),f.scaleByDistance=_.Z.getValueOrUndefined(c._scaleByDistance,i,A),f.translucencyByDistance=_.Z.getValueOrUndefined(c._translucencyByDistance,i,B),f.pixelOffsetScaleByDistance=_.Z.getValueOrUndefined(c._pixelOffsetScaleByDistance,i,P),f.sizeInMeters=_.Z.getValueOrDefault(c._sizeInMeters,i,x),f.distanceDisplayCondition=_.Z.getValueOrUndefined(c._distanceDisplayCondition,i,M),f.disableDepthTestDistance=_.Z.getValueOrUndefined(c._disableDepthTestDistance,i);var Z=_.Z.getValueOrUndefined(c._imageSubRegion,i,I);(0,l.Z)(Z)&&f.setImageSubRegion(f._imageId,Z)}else k(a,h,t)}return!0},N.prototype.getBoundingSphere=function(i,e){if(!(0,l.Z)(i))throw new d.Z("entity is required.");if(!(0,l.Z)(e))throw new d.Z("result is required.");var t=this._items.get(i.id);if(!(0,l.Z)(t)||!(0,l.Z)(t.billboard))return g.Z.FAILED;var n=t.billboard;if(n.heightReference===u.Z.NONE)e.center=r.Z.clone(n.position,e.center);else{if(!(0,l.Z)(n._clampedPosition))return g.Z.PENDING;e.center=r.Z.clone(n._clampedPosition,e.center)}return e.radius=0,g.Z.DONE},N.prototype.isDestroyed=function(){return!1},N.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(N.prototype._onCollectionChanged,this);for(var i=this._entityCollection.values,e=0;e<i.length;e++)this._cluster.removeBillboard(i[e]);return(0,h.Z)(this)},N.prototype._onCollectionChanged=function(i,e,t,n){var o,s,r=this._items,a=this._cluster;for(o=e.length-1;o>-1;o--)s=e[o],(0,l.Z)(s._billboard)&&(0,l.Z)(s._position)&&r.set(s.id,new z(s));for(o=n.length-1;o>-1;o--)s=n[o],(0,l.Z)(s._billboard)&&(0,l.Z)(s._position)?r.contains(s.id)||r.set(s.id,new z(s)):(k(r.get(s.id),s,a),r.remove(s.id));for(o=t.length-1;o>-1;o--)s=t[o],k(r.get(s.id),s,a),r.remove(s.id)},e["Z"]=N},69895:function(i,e){var t={DONE:0,PENDING:1,FAILED:2};e["Z"]=Object.freeze(t)},52777:function(i,e,t){var n=t(20305),o=t(27495),s=t(60216),r=t(66553),a=t(59947),l=t(92062),h=t(82982),d=t(12572),c=t(24689),f=t(26865),u=t(87379),Z=t(22841),p=t(82223),g=t(37939),_=t(4260),y=t(79158),m=t(64060),v=t(20174),b=t(84225),O=t(17045),D=t(23502),w=t(40112),C=s.Z.ZERO,S=new s.Z,x=new s.Z,E=new a.Z;function R(i){this.id=i,this.vertexFormat=void 0,this.dimensions=void 0,this.offsetAttribute=void 0}function V(i,e){O.Z.call(this,{entity:i,scene:e,geometryOptions:new R(i),geometryPropertyName:"box",observedPropertyNames:["availability","position","orientation","box"]}),this._onEntityPropertyChanged(i,"box",i.box,void 0)}function T(i,e,t){b.Z.call(this,i,e,t)}(0,h.Z)(Object.create)&&(V.prototype=Object.create(O.Z.prototype),V.prototype.constructor=V),Object.defineProperties(V.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),V.prototype.createFillGeometryInstance=function(i){if(r.Z.defined("time",i),!this._fillEnabled)throw new d.Z("This instance does not represent a filled geometry.");var e,t=this._entity,o=t.isAvailable(i),s=new g.Z(o&&t.isShowing&&this._showProperty.getValue(i)&&this._fillProperty.getValue(i)),u=this._distanceDisplayConditionProperty.getValue(i),Z=c.Z.fromDistanceDisplayCondition(u),_={show:s,distanceDisplayCondition:Z,color:void 0,offset:void 0};this._materialProperty instanceof v.Z&&((0,h.Z)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||o)&&(e=this._materialProperty.color.getValue(i,E)),(0,h.Z)(e)||(e=a.Z.WHITE),_.color=l.Z.fromColor(e));return(0,h.Z)(this._options.offsetAttribute)&&(_.offset=p.Z.fromCartesian3(w.Z.getValueOrDefault(this._terrainOffsetProperty,i,C,S))),new f.Z({id:t,geometry:n.Z.fromDimensions(this._options),modelMatrix:t.computeModelMatrixForHeightReference(i,t.box.heightReference,.5*this._options.dimensions.z,this._scene.mapProjection.ellipsoid),attributes:_})},V.prototype.createOutlineGeometryInstance=function(i){if(r.Z.defined("time",i),!this._outlineEnabled)throw new d.Z("This instance does not represent an outlined geometry.");var e=this._entity,t=e.isAvailable(i),n=w.Z.getValueOrDefault(this._outlineColorProperty,i,a.Z.BLACK,E),s=this._distanceDisplayConditionProperty.getValue(i),u={show:new g.Z(t&&e.isShowing&&this._showProperty.getValue(i)&&this._showOutlineProperty.getValue(i)),color:l.Z.fromColor(n),distanceDisplayCondition:c.Z.fromDistanceDisplayCondition(s),offset:void 0};return(0,h.Z)(this._options.offsetAttribute)&&(u.offset=p.Z.fromCartesian3(w.Z.getValueOrDefault(this._terrainOffsetProperty,i,C,S))),new f.Z({id:e,geometry:o.Z.fromDimensions(this._options),modelMatrix:e.computeModelMatrixForHeightReference(i,e.box.heightReference,.5*this._options.dimensions.z,this._scene.mapProjection.ellipsoid),attributes:u})},V.prototype._computeCenter=function(i,e){return w.Z.getValueOrUndefined(this._entity.position,i,e)},V.prototype._isHidden=function(i,e){return!(0,h.Z)(e.dimensions)||!(0,h.Z)(i.position)||O.Z.prototype._isHidden.call(this,i,e)},V.prototype._isDynamic=function(i,e){return!i.position.isConstant||!w.Z.isConstant(i.orientation)||!e.dimensions.isConstant||!w.Z.isConstant(e.outlineWidth)},V.prototype._setStaticOptions=function(i,e){var t=w.Z.getValueOrDefault(e.heightReference,Z.Z.MINIMUM_VALUE,_.Z.NONE),n=this._options;n.vertexFormat=this._materialProperty instanceof v.Z?m.Z.VERTEX_FORMAT:y.Z.MaterialSupport.TEXTURED.vertexFormat,n.dimensions=e.dimensions.getValue(Z.Z.MINIMUM_VALUE,n.dimensions),n.offsetAttribute=t!==_.Z.NONE?u.Z.ALL:void 0},V.prototype._onEntityPropertyChanged=D.Z,V.DynamicGeometryUpdater=T,(0,h.Z)(Object.create)&&(T.prototype=Object.create(b.Z.prototype),T.prototype.constructor=T),T.prototype._isHidden=function(i,e,t){var n=w.Z.getValueOrUndefined(i.position,t,x),o=this._options.dimensions;return!(0,h.Z)(n)||!(0,h.Z)(o)||b.Z.prototype._isHidden.call(this,i,e,t)},T.prototype._setOptions=function(i,e,t){var n=w.Z.getValueOrDefault(e.heightReference,t,_.Z.NONE),o=this._options;o.dimensions=w.Z.getValueOrUndefined(e.dimensions,t,o.dimensions),o.offsetAttribute=n!==_.Z.NONE?u.Z.ALL:void 0},e["Z"]=V},65992:function(i,e,t){var n=t(62200),o=t(82982),s=t(12572),r=t(14459),a=t(1370),l=t(90203);function h(i){this._definitionChanged=new r.Z,this._show=void 0,this._showSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge((0,n.Z)(i,n.Z.EMPTY_OBJECT))}Object.defineProperties(h.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:(0,l.Z)("show"),dimensions:(0,l.Z)("dimensions"),heightReference:(0,l.Z)("heightReference"),fill:(0,l.Z)("fill"),material:(0,a.Z)("material"),outline:(0,l.Z)("outline"),outlineColor:(0,l.Z)("outlineColor"),outlineWidth:(0,l.Z)("outlineWidth"),shadows:(0,l.Z)("shadows"),distanceDisplayCondition:(0,l.Z)("distanceDisplayCondition")}),h.prototype.clone=function(i){return(0,o.Z)(i)?(i.show=this.show,i.dimensions=this.dimensions,i.heightReference=this.heightReference,i.fill=this.fill,i.material=this.material,i.outline=this.outline,i.outlineColor=this.outlineColor,i.outlineWidth=this.outlineWidth,i.shadows=this.shadows,i.distanceDisplayCondition=this.distanceDisplayCondition,i):new h(this)},h.prototype.merge=function(i){if(!(0,o.Z)(i))throw new s.Z("source is required.");this.show=(0,n.Z)(this.show,i.show),this.dimensions=(0,n.Z)(this.dimensions,i.dimensions),this.heightReference=(0,n.Z)(this.heightReference,i.heightReference),this.fill=(0,n.Z)(this.fill,i.fill),this.material=(0,n.Z)(this.material,i.material),this.outline=(0,n.Z)(this.outline,i.outline),this.outlineColor=(0,n.Z)(this.outlineColor,i.outlineColor),this.outlineWidth=(0,n.Z)(this.outlineWidth,i.outlineWidth),this.shadows=(0,n.Z)(this.shadows,i.shadows),this.distanceDisplayCondition=(0,n.Z)(this.distanceDisplayCondition,i.distanceDisplayCondition)},e["Z"]=h}}]);
//# sourceMappingURL=chunk-vendors-e7f8ac6f-legacy.788109ef.js.map