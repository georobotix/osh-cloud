"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[2161],{17106:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48243);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(51688);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(66553);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92062);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(82982);\n/* harmony import */ var _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(50491);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26865);\n/* harmony import */ var _Core_IntersectionTests_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(67627);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(72248);\n/* harmony import */ var _Core_OrientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(25405);\n/* harmony import */ var _Core_Plane_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(7749);\n/* harmony import */ var _Core_Ray_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(68457);\n/* harmony import */ var _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(96190);\n/* harmony import */ var _Core_RectangleOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(19737);\n/* harmony import */ var _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(64060);\n/* harmony import */ var _Primitive_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(34380);\n/* harmony import */ var _SceneMode_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(89917);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * A tile bounding volume specified as a longitude/latitude/height region.\n * @alias TileBoundingRegion\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Rectangle} options.rectangle The rectangle specifying the longitude and latitude range of the region.\n * @param {Number} [options.minimumHeight=0.0] The minimum height of the region.\n * @param {Number} [options.maximumHeight=0.0] The maximum height of the region.\n * @param {Ellipsoid} [options.ellipsoid=Cesium.Ellipsoid.WGS84] The ellipsoid.\n * @param {Boolean} [options.computeBoundingVolumes=true] True to compute the {@link TileBoundingRegion#boundingVolume} and\n *                  {@link TileBoundingVolume#boundingSphere}. If false, these properties will be undefined.\n *\n * @private\n */\nfunction TileBoundingRegion(options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].typeOf.object */ .Z.typeOf.object("options", options);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].typeOf.object */ .Z.typeOf.object("options.rectangle", options.rectangle);\n  //>>includeEnd(\'debug\');\n\n  this.rectangle = _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].clone */ .Z.clone(options.rectangle);\n  this.minimumHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.minimumHeight, 0.0);\n  this.maximumHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.maximumHeight, 0.0);\n\n  /**\n   * The world coordinates of the southwest corner of the tile\'s rectangle.\n   *\n   * @type {Cartesian3}\n   * @default Cartesian3()\n   */\n  this.southwestCornerCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n  /**\n   * The world coordinates of the northeast corner of the tile\'s rectangle.\n   *\n   * @type {Cartesian3}\n   * @default Cartesian3()\n   */\n  this.northeastCornerCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n  /**\n   * A normal that, along with southwestCornerCartesian, defines a plane at the western edge of\n   * the tile.  Any position above (in the direction of the normal) this plane is outside the tile.\n   *\n   * @type {Cartesian3}\n   * @default Cartesian3()\n   */\n  this.westNormal = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n  /**\n   * A normal that, along with southwestCornerCartesian, defines a plane at the southern edge of\n   * the tile.  Any position above (in the direction of the normal) this plane is outside the tile.\n   * Because points of constant latitude do not necessary lie in a plane, positions below this\n   * plane are not necessarily inside the tile, but they are close.\n   *\n   * @type {Cartesian3}\n   * @default Cartesian3()\n   */\n  this.southNormal = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n  /**\n   * A normal that, along with northeastCornerCartesian, defines a plane at the eastern edge of\n   * the tile.  Any position above (in the direction of the normal) this plane is outside the tile.\n   *\n   * @type {Cartesian3}\n   * @default Cartesian3()\n   */\n  this.eastNormal = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n  /**\n   * A normal that, along with northeastCornerCartesian, defines a plane at the eastern edge of\n   * the tile.  Any position above (in the direction of the normal) this plane is outside the tile.\n   * Because points of constant latitude do not necessary lie in a plane, positions below this\n   * plane are not necessarily inside the tile, but they are close.\n   *\n   * @type {Cartesian3}\n   * @default Cartesian3()\n   */\n  this.northNormal = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n  var ellipsoid = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.ellipsoid, _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].WGS84 */ .Z.WGS84);\n  computeBox(this, options.rectangle, ellipsoid);\n\n  this._orientedBoundingBox = undefined;\n  this._boundingSphere = undefined;\n\n  if ((0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.computeBoundingVolumes, true)) {\n    this.computeBoundingVolumes(ellipsoid);\n  }\n}\n\nObject.defineProperties(TileBoundingRegion.prototype, {\n  /**\n   * The underlying bounding volume\n   *\n   * @memberof TileBoundingRegion.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  boundingVolume: {\n    get: function () {\n      return this._orientedBoundingBox;\n    },\n  },\n  /**\n   * The underlying bounding sphere\n   *\n   * @memberof TileBoundingRegion.prototype\n   *\n   * @type {BoundingSphere}\n   * @readonly\n   */\n  boundingSphere: {\n    get: function () {\n      return this._boundingSphere;\n    },\n  },\n});\n\nTileBoundingRegion.prototype.computeBoundingVolumes = function (ellipsoid) {\n  // An oriented bounding box that encloses this tile\'s region.  This is used to calculate tile visibility.\n  this._orientedBoundingBox = _Core_OrientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].fromRectangle */ .Z.fromRectangle(\n    this.rectangle,\n    this.minimumHeight,\n    this.maximumHeight,\n    ellipsoid\n  );\n\n  this._boundingSphere = _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromOrientedBoundingBox */ .Z.fromOrientedBoundingBox(\n    this._orientedBoundingBox\n  );\n};\n\nvar cartesian3Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar cartesian3Scratch2 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar cartesian3Scratch3 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar eastWestNormalScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar westernMidpointScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar easternMidpointScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar cartographicScratch = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar planeScratch = new _Core_Plane_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_X */ .Z.UNIT_X, 0.0);\nvar rayScratch = new _Core_Ray_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\n\nfunction computeBox(tileBB, rectangle, ellipsoid) {\n  ellipsoid.cartographicToCartesian(\n    _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].southwest */ .Z.southwest(rectangle),\n    tileBB.southwestCornerCartesian\n  );\n  ellipsoid.cartographicToCartesian(\n    _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].northeast */ .Z.northeast(rectangle),\n    tileBB.northeastCornerCartesian\n  );\n\n  // The middle latitude on the western edge.\n  cartographicScratch.longitude = rectangle.west;\n  cartographicScratch.latitude = (rectangle.south + rectangle.north) * 0.5;\n  cartographicScratch.height = 0.0;\n  var westernMidpointCartesian = ellipsoid.cartographicToCartesian(\n    cartographicScratch,\n    westernMidpointScratch\n  );\n\n  // Compute the normal of the plane on the western edge of the tile.\n  var westNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(\n    westernMidpointCartesian,\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Z */ .Z.UNIT_Z,\n    cartesian3Scratch\n  );\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(westNormal, tileBB.westNormal);\n\n  // The middle latitude on the eastern edge.\n  cartographicScratch.longitude = rectangle.east;\n  var easternMidpointCartesian = ellipsoid.cartographicToCartesian(\n    cartographicScratch,\n    easternMidpointScratch\n  );\n\n  // Compute the normal of the plane on the eastern edge of the tile.\n  var eastNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Z */ .Z.UNIT_Z,\n    easternMidpointCartesian,\n    cartesian3Scratch\n  );\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(eastNormal, tileBB.eastNormal);\n\n  // Compute the normal of the plane bounding the southern edge of the tile.\n  var westVector = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(\n    westernMidpointCartesian,\n    easternMidpointCartesian,\n    cartesian3Scratch\n  );\n  var eastWestNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(westVector, eastWestNormalScratch);\n\n  var south = rectangle.south;\n  var southSurfaceNormal;\n\n  if (south > 0.0) {\n    // Compute a plane that doesn\'t cut through the tile.\n    cartographicScratch.longitude = (rectangle.west + rectangle.east) * 0.5;\n    cartographicScratch.latitude = south;\n    var southCenterCartesian = ellipsoid.cartographicToCartesian(\n      cartographicScratch,\n      rayScratch.origin\n    );\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].clone */ .Z.clone(eastWestNormal, rayScratch.direction);\n    var westPlane = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].fromPointNormal */ .Z.fromPointNormal(\n      tileBB.southwestCornerCartesian,\n      tileBB.westNormal,\n      planeScratch\n    );\n    // Find a point that is on the west and the south planes\n    _Core_IntersectionTests_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].rayPlane */ .Z.rayPlane(\n      rayScratch,\n      westPlane,\n      tileBB.southwestCornerCartesian\n    );\n    southSurfaceNormal = ellipsoid.geodeticSurfaceNormal(\n      southCenterCartesian,\n      cartesian3Scratch2\n    );\n  } else {\n    southSurfaceNormal = ellipsoid.geodeticSurfaceNormalCartographic(\n      _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].southeast */ .Z.southeast(rectangle),\n      cartesian3Scratch2\n    );\n  }\n  var southNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(\n    southSurfaceNormal,\n    westVector,\n    cartesian3Scratch3\n  );\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(southNormal, tileBB.southNormal);\n\n  // Compute the normal of the plane bounding the northern edge of the tile.\n  var north = rectangle.north;\n  var northSurfaceNormal;\n  if (north < 0.0) {\n    // Compute a plane that doesn\'t cut through the tile.\n    cartographicScratch.longitude = (rectangle.west + rectangle.east) * 0.5;\n    cartographicScratch.latitude = north;\n    var northCenterCartesian = ellipsoid.cartographicToCartesian(\n      cartographicScratch,\n      rayScratch.origin\n    );\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].negate */ .Z.negate(eastWestNormal, rayScratch.direction);\n    var eastPlane = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].fromPointNormal */ .Z.fromPointNormal(\n      tileBB.northeastCornerCartesian,\n      tileBB.eastNormal,\n      planeScratch\n    );\n    // Find a point that is on the east and the north planes\n    _Core_IntersectionTests_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].rayPlane */ .Z.rayPlane(\n      rayScratch,\n      eastPlane,\n      tileBB.northeastCornerCartesian\n    );\n    northSurfaceNormal = ellipsoid.geodeticSurfaceNormal(\n      northCenterCartesian,\n      cartesian3Scratch2\n    );\n  } else {\n    northSurfaceNormal = ellipsoid.geodeticSurfaceNormalCartographic(\n      _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].northwest */ .Z.northwest(rectangle),\n      cartesian3Scratch2\n    );\n  }\n  var northNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(\n    westVector,\n    northSurfaceNormal,\n    cartesian3Scratch3\n  );\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(northNormal, tileBB.northNormal);\n}\n\nvar southwestCornerScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar northeastCornerScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar negativeUnitY = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(0.0, -1.0, 0.0);\nvar negativeUnitZ = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(0.0, 0.0, -1.0);\nvar vectorScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\nfunction distanceToCameraRegion(tileBB, frameState) {\n  var camera = frameState.camera;\n  var cameraCartesianPosition = camera.positionWC;\n  var cameraCartographicPosition = camera.positionCartographic;\n\n  var result = 0.0;\n  if (!_Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].contains */ .Z.contains(tileBB.rectangle, cameraCartographicPosition)) {\n    var southwestCornerCartesian = tileBB.southwestCornerCartesian;\n    var northeastCornerCartesian = tileBB.northeastCornerCartesian;\n    var westNormal = tileBB.westNormal;\n    var southNormal = tileBB.southNormal;\n    var eastNormal = tileBB.eastNormal;\n    var northNormal = tileBB.northNormal;\n\n    if (frameState.mode !== _SceneMode_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].SCENE3D */ .Z.SCENE3D) {\n      southwestCornerCartesian = frameState.mapProjection.project(\n        _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].southwest */ .Z.southwest(tileBB.rectangle),\n        southwestCornerScratch\n      );\n      southwestCornerCartesian.z = southwestCornerCartesian.y;\n      southwestCornerCartesian.y = southwestCornerCartesian.x;\n      southwestCornerCartesian.x = 0.0;\n      northeastCornerCartesian = frameState.mapProjection.project(\n        _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].northeast */ .Z.northeast(tileBB.rectangle),\n        northeastCornerScratch\n      );\n      northeastCornerCartesian.z = northeastCornerCartesian.y;\n      northeastCornerCartesian.y = northeastCornerCartesian.x;\n      northeastCornerCartesian.x = 0.0;\n      westNormal = negativeUnitY;\n      eastNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Y */ .Z.UNIT_Y;\n      southNormal = negativeUnitZ;\n      northNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Z */ .Z.UNIT_Z;\n    }\n\n    var vectorFromSouthwestCorner = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(\n      cameraCartesianPosition,\n      southwestCornerCartesian,\n      vectorScratch\n    );\n    var distanceToWestPlane = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].dot */ .Z.dot(\n      vectorFromSouthwestCorner,\n      westNormal\n    );\n    var distanceToSouthPlane = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].dot */ .Z.dot(\n      vectorFromSouthwestCorner,\n      southNormal\n    );\n\n    var vectorFromNortheastCorner = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(\n      cameraCartesianPosition,\n      northeastCornerCartesian,\n      vectorScratch\n    );\n    var distanceToEastPlane = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].dot */ .Z.dot(\n      vectorFromNortheastCorner,\n      eastNormal\n    );\n    var distanceToNorthPlane = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].dot */ .Z.dot(\n      vectorFromNortheastCorner,\n      northNormal\n    );\n\n    if (distanceToWestPlane > 0.0) {\n      result += distanceToWestPlane * distanceToWestPlane;\n    } else if (distanceToEastPlane > 0.0) {\n      result += distanceToEastPlane * distanceToEastPlane;\n    }\n\n    if (distanceToSouthPlane > 0.0) {\n      result += distanceToSouthPlane * distanceToSouthPlane;\n    } else if (distanceToNorthPlane > 0.0) {\n      result += distanceToNorthPlane * distanceToNorthPlane;\n    }\n  }\n\n  var cameraHeight;\n  var minimumHeight;\n  var maximumHeight;\n  if (frameState.mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].SCENE3D */ .Z.SCENE3D) {\n    cameraHeight = cameraCartographicPosition.height;\n    minimumHeight = tileBB.minimumHeight;\n    maximumHeight = tileBB.maximumHeight;\n  } else {\n    cameraHeight = cameraCartesianPosition.x;\n    minimumHeight = 0.0;\n    maximumHeight = 0.0;\n  }\n\n  if (cameraHeight > maximumHeight) {\n    var distanceAboveTop = cameraHeight - maximumHeight;\n    result += distanceAboveTop * distanceAboveTop;\n  } else if (cameraHeight < minimumHeight) {\n    var distanceBelowBottom = minimumHeight - cameraHeight;\n    result += distanceBelowBottom * distanceBelowBottom;\n  }\n\n  return Math.sqrt(result);\n}\n\n/**\n * Gets the distance from the camera to the closest point on the tile.  This is used for level of detail selection.\n *\n * @param {FrameState} frameState The state information of the current rendering frame.\n * @returns {Number} The distance from the camera to the closest point on the tile, in meters.\n */\nTileBoundingRegion.prototype.distanceToCamera = function (frameState) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defined */ .Z.defined("frameState", frameState);\n  //>>includeEnd(\'debug\');\n\n  var regionResult = distanceToCameraRegion(this, frameState);\n  if (\n    frameState.mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].SCENE3D */ .Z.SCENE3D &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(this._orientedBoundingBox)\n  ) {\n    var obbResult = Math.sqrt(\n      this._orientedBoundingBox.distanceSquaredTo(frameState.camera.positionWC)\n    );\n    return Math.max(regionResult, obbResult);\n  }\n  return regionResult;\n};\n\n/**\n * Determines which side of a plane this box is located.\n *\n * @param {Plane} plane The plane to test against.\n * @returns {Intersect} {@link Intersect.INSIDE} if the entire box is on the side of the plane\n *                      the normal is pointing, {@link Intersect.OUTSIDE} if the entire box is\n *                      on the opposite side, and {@link Intersect.INTERSECTING} if the box\n *                      intersects the plane.\n */\nTileBoundingRegion.prototype.intersectPlane = function (plane) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defined */ .Z.defined("plane", plane);\n  //>>includeEnd(\'debug\');\n  return this._orientedBoundingBox.intersectPlane(plane);\n};\n\n/**\n * Creates a debug primitive that shows the outline of the tile bounding region.\n *\n * @param {Color} color The desired color of the primitive\'s mesh\n * @return {Primitive}\n *\n * @private\n */\nTileBoundingRegion.prototype.createDebugVolume = function (color) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defined */ .Z.defined("color", color);\n  //>>includeEnd(\'debug\');\n\n  var modelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].clone */ .Z.clone(_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].IDENTITY */ .Z.IDENTITY);\n  var geometry = new _Core_RectangleOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n    rectangle: this.rectangle,\n    height: this.minimumHeight,\n    extrudedHeight: this.maximumHeight,\n  });\n  var instance = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n    geometry: geometry,\n    id: "outline",\n    modelMatrix: modelMatrix,\n    attributes: {\n      color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromColor */ .Z.fromColor(color),\n    },\n  });\n\n  return new _Primitive_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z({\n    geometryInstances: instance,\n    appearance: new _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z({\n      translucent: false,\n      flat: true,\n    }),\n    asynchronous: false,\n  });\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TileBoundingRegion);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcxMDYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNSO0FBQ0k7QUFDZDtBQUNrRDtBQUNwQztBQUNWO0FBQ0k7QUFDYztBQUNFO0FBQ3BCO0FBQ3dCO0FBQzVCO0FBQ0o7QUFDWTtBQUM4QjtBQUNGO0FBQ2xDO0FBQ0E7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsU0FBUywyREFBMkQseUNBQXlDO0FBQ3hILHFCQUFxQix3Q0FBd0M7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMkZBQW1CO0FBQ3JCLEVBQUUsMkZBQW1CO0FBQ3JCOztBQUVBLG1CQUFtQixnRkFBZTtBQUNsQyx1QkFBdUIsMEVBQVk7QUFDbkMsdUJBQXVCLDBFQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHNDQUFzQyxvRUFBVTs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxzQ0FBc0Msb0VBQVU7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSx3QkFBd0Isb0VBQVU7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EseUJBQXlCLG9FQUFVOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0Esd0JBQXdCLG9FQUFVOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHlCQUF5QixvRUFBVTs7QUFFbkMsa0JBQWtCLDBFQUFZLG9CQUFvQiwrRUFBZTtBQUNqRTs7QUFFQTtBQUNBOztBQUVBLE1BQU0sMEVBQVk7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBLDhCQUE4QiwwR0FBaUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsd0hBQXNDO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsb0VBQVU7QUFDdEMsNkJBQTZCLG9FQUFVO0FBQ3ZDLDZCQUE2QixvRUFBVTtBQUN2QyxnQ0FBZ0Msb0VBQVU7QUFDMUMsaUNBQWlDLG9FQUFVO0FBQzNDLGlDQUFpQyxvRUFBVTtBQUMzQyw4QkFBOEIsc0VBQVk7QUFDMUMsdUJBQXVCLGdFQUFLLENBQUMsa0ZBQWlCO0FBQzlDLHFCQUFxQiw4REFBRzs7QUFFeEI7QUFDQTtBQUNBLElBQUksd0ZBQW1CO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLElBQUksd0ZBQW1CO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixnRkFBZ0I7QUFDbkM7QUFDQSxJQUFJLGtGQUFpQjtBQUNyQjtBQUNBO0FBQ0EsRUFBRSx3RkFBb0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixnRkFBZ0I7QUFDbkMsSUFBSSxrRkFBaUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsRUFBRSx3RkFBb0I7O0FBRXRCO0FBQ0EsbUJBQW1CLHNGQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3RkFBb0I7O0FBRTNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0ZBQWdCO0FBQ3BCLG9CQUFvQixnR0FBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkZBQTBCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxNQUFNLHdGQUFtQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0ZBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSx3RkFBb0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtGQUFpQjtBQUNyQixvQkFBb0IsZ0dBQXFCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDZGQUEwQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsTUFBTSx3RkFBbUI7QUFDekI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdGQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsd0ZBQW9CO0FBQ3RCOztBQUVBLGlDQUFpQyxvRUFBVTtBQUMzQyxpQ0FBaUMsb0VBQVU7QUFDM0Msd0JBQXdCLG9FQUFVO0FBQ2xDLHdCQUF3QixvRUFBVTtBQUNsQyx3QkFBd0Isb0VBQVU7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxzRkFBa0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QiwrRUFBaUI7QUFDN0M7QUFDQSxRQUFRLHdGQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdGQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0ZBQWlCO0FBQ3BDO0FBQ0Esb0JBQW9CLGtGQUFpQjtBQUNyQzs7QUFFQSxvQ0FBb0Msc0ZBQW1CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDRFQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0RUFBYztBQUM3QztBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLHNGQUFtQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw0RUFBYztBQUM1QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNEVBQWM7QUFDN0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0VBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxFQUFFLCtFQUFhO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QiwrRUFBaUI7QUFDekMsSUFBSSxzRUFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsWUFBWSx3QkFBd0I7QUFDakQsaURBQWlELHlCQUF5QjtBQUMxRSxtREFBbUQsOEJBQThCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwrRUFBYTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLCtFQUFhO0FBQ2Y7O0FBRUEsd0JBQXdCLDZFQUFhLENBQUMsbUZBQWdCO0FBQ3RELHFCQUFxQixtRkFBd0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFCQUFxQiwwRUFBZ0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRHQUF3QztBQUNyRCxLQUFLO0FBQ0wsR0FBRzs7QUFFSCxhQUFhLCtEQUFTO0FBQ3RCO0FBQ0Esb0JBQW9CLGdGQUEwQjtBQUM5QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0EseURBQWUsa0JBQWtCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZUJvdW5kaW5nUmVnaW9uLmpzPzQ1MDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvdW5kaW5nU3BoZXJlIGZyb20gXCIuLi9Db3JlL0JvdW5kaW5nU3BoZXJlLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCIuLi9Db3JlL0NhcnRvZ3JhcGhpYy5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlIGZyb20gXCIuLi9Db3JlL0NvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBFbGxpcHNvaWQgZnJvbSBcIi4uL0NvcmUvRWxsaXBzb2lkLmpzXCI7XG5pbXBvcnQgR2VvbWV0cnlJbnN0YW5jZSBmcm9tIFwiLi4vQ29yZS9HZW9tZXRyeUluc3RhbmNlLmpzXCI7XG5pbXBvcnQgSW50ZXJzZWN0aW9uVGVzdHMgZnJvbSBcIi4uL0NvcmUvSW50ZXJzZWN0aW9uVGVzdHMuanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBPcmllbnRlZEJvdW5kaW5nQm94IGZyb20gXCIuLi9Db3JlL09yaWVudGVkQm91bmRpbmdCb3guanNcIjtcbmltcG9ydCBQbGFuZSBmcm9tIFwiLi4vQ29yZS9QbGFuZS5qc1wiO1xuaW1wb3J0IFJheSBmcm9tIFwiLi4vQ29yZS9SYXkuanNcIjtcbmltcG9ydCBSZWN0YW5nbGUgZnJvbSBcIi4uL0NvcmUvUmVjdGFuZ2xlLmpzXCI7XG5pbXBvcnQgUmVjdGFuZ2xlT3V0bGluZUdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL1JlY3RhbmdsZU91dGxpbmVHZW9tZXRyeS5qc1wiO1xuaW1wb3J0IFBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlIGZyb20gXCIuL1Blckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgUHJpbWl0aXZlIGZyb20gXCIuL1ByaW1pdGl2ZS5qc1wiO1xuaW1wb3J0IFNjZW5lTW9kZSBmcm9tIFwiLi9TY2VuZU1vZGUuanNcIjtcblxuLyoqXG4gKiBBIHRpbGUgYm91bmRpbmcgdm9sdW1lIHNwZWNpZmllZCBhcyBhIGxvbmdpdHVkZS9sYXRpdHVkZS9oZWlnaHQgcmVnaW9uLlxuICogQGFsaWFzIFRpbGVCb3VuZGluZ1JlZ2lvblxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogQHBhcmFtIHtSZWN0YW5nbGV9IG9wdGlvbnMucmVjdGFuZ2xlIFRoZSByZWN0YW5nbGUgc3BlY2lmeWluZyB0aGUgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSByYW5nZSBvZiB0aGUgcmVnaW9uLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pbmltdW1IZWlnaHQ9MC4wXSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlZ2lvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhpbXVtSGVpZ2h0PTAuMF0gVGhlIG1heGltdW0gaGVpZ2h0IG9mIHRoZSByZWdpb24uXG4gKiBAcGFyYW0ge0VsbGlwc29pZH0gW29wdGlvbnMuZWxsaXBzb2lkPUNlc2l1bS5FbGxpcHNvaWQuV0dTODRdIFRoZSBlbGxpcHNvaWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXB1dGVCb3VuZGluZ1ZvbHVtZXM9dHJ1ZV0gVHJ1ZSB0byBjb21wdXRlIHRoZSB7QGxpbmsgVGlsZUJvdW5kaW5nUmVnaW9uI2JvdW5kaW5nVm9sdW1lfSBhbmRcbiAqICAgICAgICAgICAgICAgICAge0BsaW5rIFRpbGVCb3VuZGluZ1ZvbHVtZSNib3VuZGluZ1NwaGVyZX0uIElmIGZhbHNlLCB0aGVzZSBwcm9wZXJ0aWVzIHdpbGwgYmUgdW5kZWZpbmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFRpbGVCb3VuZGluZ1JlZ2lvbihvcHRpb25zKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zXCIsIG9wdGlvbnMpO1xuICBDaGVjay50eXBlT2Yub2JqZWN0KFwib3B0aW9ucy5yZWN0YW5nbGVcIiwgb3B0aW9ucy5yZWN0YW5nbGUpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLnJlY3RhbmdsZSA9IFJlY3RhbmdsZS5jbG9uZShvcHRpb25zLnJlY3RhbmdsZSk7XG4gIHRoaXMubWluaW11bUhlaWdodCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLm1pbmltdW1IZWlnaHQsIDAuMCk7XG4gIHRoaXMubWF4aW11bUhlaWdodCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLm1heGltdW1IZWlnaHQsIDAuMCk7XG5cbiAgLyoqXG4gICAqIFRoZSB3b3JsZCBjb29yZGluYXRlcyBvZiB0aGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgdGlsZSdzIHJlY3RhbmdsZS5cbiAgICpcbiAgICogQHR5cGUge0NhcnRlc2lhbjN9XG4gICAqIEBkZWZhdWx0IENhcnRlc2lhbjMoKVxuICAgKi9cbiAgdGhpcy5zb3V0aHdlc3RDb3JuZXJDYXJ0ZXNpYW4gPSBuZXcgQ2FydGVzaWFuMygpO1xuXG4gIC8qKlxuICAgKiBUaGUgd29ybGQgY29vcmRpbmF0ZXMgb2YgdGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIHRpbGUncyByZWN0YW5nbGUuXG4gICAqXG4gICAqIEB0eXBlIHtDYXJ0ZXNpYW4zfVxuICAgKiBAZGVmYXVsdCBDYXJ0ZXNpYW4zKClcbiAgICovXG4gIHRoaXMubm9ydGhlYXN0Q29ybmVyQ2FydGVzaWFuID0gbmV3IENhcnRlc2lhbjMoKTtcblxuICAvKipcbiAgICogQSBub3JtYWwgdGhhdCwgYWxvbmcgd2l0aCBzb3V0aHdlc3RDb3JuZXJDYXJ0ZXNpYW4sIGRlZmluZXMgYSBwbGFuZSBhdCB0aGUgd2VzdGVybiBlZGdlIG9mXG4gICAqIHRoZSB0aWxlLiAgQW55IHBvc2l0aW9uIGFib3ZlIChpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBub3JtYWwpIHRoaXMgcGxhbmUgaXMgb3V0c2lkZSB0aGUgdGlsZS5cbiAgICpcbiAgICogQHR5cGUge0NhcnRlc2lhbjN9XG4gICAqIEBkZWZhdWx0IENhcnRlc2lhbjMoKVxuICAgKi9cbiAgdGhpcy53ZXN0Tm9ybWFsID0gbmV3IENhcnRlc2lhbjMoKTtcblxuICAvKipcbiAgICogQSBub3JtYWwgdGhhdCwgYWxvbmcgd2l0aCBzb3V0aHdlc3RDb3JuZXJDYXJ0ZXNpYW4sIGRlZmluZXMgYSBwbGFuZSBhdCB0aGUgc291dGhlcm4gZWRnZSBvZlxuICAgKiB0aGUgdGlsZS4gIEFueSBwb3NpdGlvbiBhYm92ZSAoaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgbm9ybWFsKSB0aGlzIHBsYW5lIGlzIG91dHNpZGUgdGhlIHRpbGUuXG4gICAqIEJlY2F1c2UgcG9pbnRzIG9mIGNvbnN0YW50IGxhdGl0dWRlIGRvIG5vdCBuZWNlc3NhcnkgbGllIGluIGEgcGxhbmUsIHBvc2l0aW9ucyBiZWxvdyB0aGlzXG4gICAqIHBsYW5lIGFyZSBub3QgbmVjZXNzYXJpbHkgaW5zaWRlIHRoZSB0aWxlLCBidXQgdGhleSBhcmUgY2xvc2UuXG4gICAqXG4gICAqIEB0eXBlIHtDYXJ0ZXNpYW4zfVxuICAgKiBAZGVmYXVsdCBDYXJ0ZXNpYW4zKClcbiAgICovXG4gIHRoaXMuc291dGhOb3JtYWwgPSBuZXcgQ2FydGVzaWFuMygpO1xuXG4gIC8qKlxuICAgKiBBIG5vcm1hbCB0aGF0LCBhbG9uZyB3aXRoIG5vcnRoZWFzdENvcm5lckNhcnRlc2lhbiwgZGVmaW5lcyBhIHBsYW5lIGF0IHRoZSBlYXN0ZXJuIGVkZ2Ugb2ZcbiAgICogdGhlIHRpbGUuICBBbnkgcG9zaXRpb24gYWJvdmUgKGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIG5vcm1hbCkgdGhpcyBwbGFuZSBpcyBvdXRzaWRlIHRoZSB0aWxlLlxuICAgKlxuICAgKiBAdHlwZSB7Q2FydGVzaWFuM31cbiAgICogQGRlZmF1bHQgQ2FydGVzaWFuMygpXG4gICAqL1xuICB0aGlzLmVhc3ROb3JtYWwgPSBuZXcgQ2FydGVzaWFuMygpO1xuXG4gIC8qKlxuICAgKiBBIG5vcm1hbCB0aGF0LCBhbG9uZyB3aXRoIG5vcnRoZWFzdENvcm5lckNhcnRlc2lhbiwgZGVmaW5lcyBhIHBsYW5lIGF0IHRoZSBlYXN0ZXJuIGVkZ2Ugb2ZcbiAgICogdGhlIHRpbGUuICBBbnkgcG9zaXRpb24gYWJvdmUgKGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIG5vcm1hbCkgdGhpcyBwbGFuZSBpcyBvdXRzaWRlIHRoZSB0aWxlLlxuICAgKiBCZWNhdXNlIHBvaW50cyBvZiBjb25zdGFudCBsYXRpdHVkZSBkbyBub3QgbmVjZXNzYXJ5IGxpZSBpbiBhIHBsYW5lLCBwb3NpdGlvbnMgYmVsb3cgdGhpc1xuICAgKiBwbGFuZSBhcmUgbm90IG5lY2Vzc2FyaWx5IGluc2lkZSB0aGUgdGlsZSwgYnV0IHRoZXkgYXJlIGNsb3NlLlxuICAgKlxuICAgKiBAdHlwZSB7Q2FydGVzaWFuM31cbiAgICogQGRlZmF1bHQgQ2FydGVzaWFuMygpXG4gICAqL1xuICB0aGlzLm5vcnRoTm9ybWFsID0gbmV3IENhcnRlc2lhbjMoKTtcblxuICB2YXIgZWxsaXBzb2lkID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZWxsaXBzb2lkLCBFbGxpcHNvaWQuV0dTODQpO1xuICBjb21wdXRlQm94KHRoaXMsIG9wdGlvbnMucmVjdGFuZ2xlLCBlbGxpcHNvaWQpO1xuXG4gIHRoaXMuX29yaWVudGVkQm91bmRpbmdCb3ggPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2JvdW5kaW5nU3BoZXJlID0gdW5kZWZpbmVkO1xuXG4gIGlmIChkZWZhdWx0VmFsdWUob3B0aW9ucy5jb21wdXRlQm91bmRpbmdWb2x1bWVzLCB0cnVlKSkge1xuICAgIHRoaXMuY29tcHV0ZUJvdW5kaW5nVm9sdW1lcyhlbGxpcHNvaWQpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRpbGVCb3VuZGluZ1JlZ2lvbi5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSB1bmRlcmx5aW5nIGJvdW5kaW5nIHZvbHVtZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGlsZUJvdW5kaW5nUmVnaW9uLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGJvdW5kaW5nVm9sdW1lOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveDtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogVGhlIHVuZGVybHlpbmcgYm91bmRpbmcgc3BoZXJlXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaWxlQm91bmRpbmdSZWdpb24ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtCb3VuZGluZ1NwaGVyZX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBib3VuZGluZ1NwaGVyZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kaW5nU3BoZXJlO1xuICAgIH0sXG4gIH0sXG59KTtcblxuVGlsZUJvdW5kaW5nUmVnaW9uLnByb3RvdHlwZS5jb21wdXRlQm91bmRpbmdWb2x1bWVzID0gZnVuY3Rpb24gKGVsbGlwc29pZCkge1xuICAvLyBBbiBvcmllbnRlZCBib3VuZGluZyBib3ggdGhhdCBlbmNsb3NlcyB0aGlzIHRpbGUncyByZWdpb24uICBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRpbGUgdmlzaWJpbGl0eS5cbiAgdGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveCA9IE9yaWVudGVkQm91bmRpbmdCb3guZnJvbVJlY3RhbmdsZShcbiAgICB0aGlzLnJlY3RhbmdsZSxcbiAgICB0aGlzLm1pbmltdW1IZWlnaHQsXG4gICAgdGhpcy5tYXhpbXVtSGVpZ2h0LFxuICAgIGVsbGlwc29pZFxuICApO1xuXG4gIHRoaXMuX2JvdW5kaW5nU3BoZXJlID0gQm91bmRpbmdTcGhlcmUuZnJvbU9yaWVudGVkQm91bmRpbmdCb3goXG4gICAgdGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveFxuICApO1xufTtcblxudmFyIGNhcnRlc2lhbjNTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBjYXJ0ZXNpYW4zU2NyYXRjaDIgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIGNhcnRlc2lhbjNTY3JhdGNoMyA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgZWFzdFdlc3ROb3JtYWxTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciB3ZXN0ZXJuTWlkcG9pbnRTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBlYXN0ZXJuTWlkcG9pbnRTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBjYXJ0b2dyYXBoaWNTY3JhdGNoID0gbmV3IENhcnRvZ3JhcGhpYygpO1xudmFyIHBsYW5lU2NyYXRjaCA9IG5ldyBQbGFuZShDYXJ0ZXNpYW4zLlVOSVRfWCwgMC4wKTtcbnZhciByYXlTY3JhdGNoID0gbmV3IFJheSgpO1xuXG5mdW5jdGlvbiBjb21wdXRlQm94KHRpbGVCQiwgcmVjdGFuZ2xlLCBlbGxpcHNvaWQpIHtcbiAgZWxsaXBzb2lkLmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKFxuICAgIFJlY3RhbmdsZS5zb3V0aHdlc3QocmVjdGFuZ2xlKSxcbiAgICB0aWxlQkIuc291dGh3ZXN0Q29ybmVyQ2FydGVzaWFuXG4gICk7XG4gIGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihcbiAgICBSZWN0YW5nbGUubm9ydGhlYXN0KHJlY3RhbmdsZSksXG4gICAgdGlsZUJCLm5vcnRoZWFzdENvcm5lckNhcnRlc2lhblxuICApO1xuXG4gIC8vIFRoZSBtaWRkbGUgbGF0aXR1ZGUgb24gdGhlIHdlc3Rlcm4gZWRnZS5cbiAgY2FydG9ncmFwaGljU2NyYXRjaC5sb25naXR1ZGUgPSByZWN0YW5nbGUud2VzdDtcbiAgY2FydG9ncmFwaGljU2NyYXRjaC5sYXRpdHVkZSA9IChyZWN0YW5nbGUuc291dGggKyByZWN0YW5nbGUubm9ydGgpICogMC41O1xuICBjYXJ0b2dyYXBoaWNTY3JhdGNoLmhlaWdodCA9IDAuMDtcbiAgdmFyIHdlc3Rlcm5NaWRwb2ludENhcnRlc2lhbiA9IGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihcbiAgICBjYXJ0b2dyYXBoaWNTY3JhdGNoLFxuICAgIHdlc3Rlcm5NaWRwb2ludFNjcmF0Y2hcbiAgKTtcblxuICAvLyBDb21wdXRlIHRoZSBub3JtYWwgb2YgdGhlIHBsYW5lIG9uIHRoZSB3ZXN0ZXJuIGVkZ2Ugb2YgdGhlIHRpbGUuXG4gIHZhciB3ZXN0Tm9ybWFsID0gQ2FydGVzaWFuMy5jcm9zcyhcbiAgICB3ZXN0ZXJuTWlkcG9pbnRDYXJ0ZXNpYW4sXG4gICAgQ2FydGVzaWFuMy5VTklUX1osXG4gICAgY2FydGVzaWFuM1NjcmF0Y2hcbiAgKTtcbiAgQ2FydGVzaWFuMy5ub3JtYWxpemUod2VzdE5vcm1hbCwgdGlsZUJCLndlc3ROb3JtYWwpO1xuXG4gIC8vIFRoZSBtaWRkbGUgbGF0aXR1ZGUgb24gdGhlIGVhc3Rlcm4gZWRnZS5cbiAgY2FydG9ncmFwaGljU2NyYXRjaC5sb25naXR1ZGUgPSByZWN0YW5nbGUuZWFzdDtcbiAgdmFyIGVhc3Rlcm5NaWRwb2ludENhcnRlc2lhbiA9IGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihcbiAgICBjYXJ0b2dyYXBoaWNTY3JhdGNoLFxuICAgIGVhc3Rlcm5NaWRwb2ludFNjcmF0Y2hcbiAgKTtcblxuICAvLyBDb21wdXRlIHRoZSBub3JtYWwgb2YgdGhlIHBsYW5lIG9uIHRoZSBlYXN0ZXJuIGVkZ2Ugb2YgdGhlIHRpbGUuXG4gIHZhciBlYXN0Tm9ybWFsID0gQ2FydGVzaWFuMy5jcm9zcyhcbiAgICBDYXJ0ZXNpYW4zLlVOSVRfWixcbiAgICBlYXN0ZXJuTWlkcG9pbnRDYXJ0ZXNpYW4sXG4gICAgY2FydGVzaWFuM1NjcmF0Y2hcbiAgKTtcbiAgQ2FydGVzaWFuMy5ub3JtYWxpemUoZWFzdE5vcm1hbCwgdGlsZUJCLmVhc3ROb3JtYWwpO1xuXG4gIC8vIENvbXB1dGUgdGhlIG5vcm1hbCBvZiB0aGUgcGxhbmUgYm91bmRpbmcgdGhlIHNvdXRoZXJuIGVkZ2Ugb2YgdGhlIHRpbGUuXG4gIHZhciB3ZXN0VmVjdG9yID0gQ2FydGVzaWFuMy5zdWJ0cmFjdChcbiAgICB3ZXN0ZXJuTWlkcG9pbnRDYXJ0ZXNpYW4sXG4gICAgZWFzdGVybk1pZHBvaW50Q2FydGVzaWFuLFxuICAgIGNhcnRlc2lhbjNTY3JhdGNoXG4gICk7XG4gIHZhciBlYXN0V2VzdE5vcm1hbCA9IENhcnRlc2lhbjMubm9ybWFsaXplKHdlc3RWZWN0b3IsIGVhc3RXZXN0Tm9ybWFsU2NyYXRjaCk7XG5cbiAgdmFyIHNvdXRoID0gcmVjdGFuZ2xlLnNvdXRoO1xuICB2YXIgc291dGhTdXJmYWNlTm9ybWFsO1xuXG4gIGlmIChzb3V0aCA+IDAuMCkge1xuICAgIC8vIENvbXB1dGUgYSBwbGFuZSB0aGF0IGRvZXNuJ3QgY3V0IHRocm91Z2ggdGhlIHRpbGUuXG4gICAgY2FydG9ncmFwaGljU2NyYXRjaC5sb25naXR1ZGUgPSAocmVjdGFuZ2xlLndlc3QgKyByZWN0YW5nbGUuZWFzdCkgKiAwLjU7XG4gICAgY2FydG9ncmFwaGljU2NyYXRjaC5sYXRpdHVkZSA9IHNvdXRoO1xuICAgIHZhciBzb3V0aENlbnRlckNhcnRlc2lhbiA9IGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihcbiAgICAgIGNhcnRvZ3JhcGhpY1NjcmF0Y2gsXG4gICAgICByYXlTY3JhdGNoLm9yaWdpblxuICAgICk7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShlYXN0V2VzdE5vcm1hbCwgcmF5U2NyYXRjaC5kaXJlY3Rpb24pO1xuICAgIHZhciB3ZXN0UGxhbmUgPSBQbGFuZS5mcm9tUG9pbnROb3JtYWwoXG4gICAgICB0aWxlQkIuc291dGh3ZXN0Q29ybmVyQ2FydGVzaWFuLFxuICAgICAgdGlsZUJCLndlc3ROb3JtYWwsXG4gICAgICBwbGFuZVNjcmF0Y2hcbiAgICApO1xuICAgIC8vIEZpbmQgYSBwb2ludCB0aGF0IGlzIG9uIHRoZSB3ZXN0IGFuZCB0aGUgc291dGggcGxhbmVzXG4gICAgSW50ZXJzZWN0aW9uVGVzdHMucmF5UGxhbmUoXG4gICAgICByYXlTY3JhdGNoLFxuICAgICAgd2VzdFBsYW5lLFxuICAgICAgdGlsZUJCLnNvdXRod2VzdENvcm5lckNhcnRlc2lhblxuICAgICk7XG4gICAgc291dGhTdXJmYWNlTm9ybWFsID0gZWxsaXBzb2lkLmdlb2RldGljU3VyZmFjZU5vcm1hbChcbiAgICAgIHNvdXRoQ2VudGVyQ2FydGVzaWFuLFxuICAgICAgY2FydGVzaWFuM1NjcmF0Y2gyXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBzb3V0aFN1cmZhY2VOb3JtYWwgPSBlbGxpcHNvaWQuZ2VvZGV0aWNTdXJmYWNlTm9ybWFsQ2FydG9ncmFwaGljKFxuICAgICAgUmVjdGFuZ2xlLnNvdXRoZWFzdChyZWN0YW5nbGUpLFxuICAgICAgY2FydGVzaWFuM1NjcmF0Y2gyXG4gICAgKTtcbiAgfVxuICB2YXIgc291dGhOb3JtYWwgPSBDYXJ0ZXNpYW4zLmNyb3NzKFxuICAgIHNvdXRoU3VyZmFjZU5vcm1hbCxcbiAgICB3ZXN0VmVjdG9yLFxuICAgIGNhcnRlc2lhbjNTY3JhdGNoM1xuICApO1xuICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShzb3V0aE5vcm1hbCwgdGlsZUJCLnNvdXRoTm9ybWFsKTtcblxuICAvLyBDb21wdXRlIHRoZSBub3JtYWwgb2YgdGhlIHBsYW5lIGJvdW5kaW5nIHRoZSBub3J0aGVybiBlZGdlIG9mIHRoZSB0aWxlLlxuICB2YXIgbm9ydGggPSByZWN0YW5nbGUubm9ydGg7XG4gIHZhciBub3J0aFN1cmZhY2VOb3JtYWw7XG4gIGlmIChub3J0aCA8IDAuMCkge1xuICAgIC8vIENvbXB1dGUgYSBwbGFuZSB0aGF0IGRvZXNuJ3QgY3V0IHRocm91Z2ggdGhlIHRpbGUuXG4gICAgY2FydG9ncmFwaGljU2NyYXRjaC5sb25naXR1ZGUgPSAocmVjdGFuZ2xlLndlc3QgKyByZWN0YW5nbGUuZWFzdCkgKiAwLjU7XG4gICAgY2FydG9ncmFwaGljU2NyYXRjaC5sYXRpdHVkZSA9IG5vcnRoO1xuICAgIHZhciBub3J0aENlbnRlckNhcnRlc2lhbiA9IGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihcbiAgICAgIGNhcnRvZ3JhcGhpY1NjcmF0Y2gsXG4gICAgICByYXlTY3JhdGNoLm9yaWdpblxuICAgICk7XG4gICAgQ2FydGVzaWFuMy5uZWdhdGUoZWFzdFdlc3ROb3JtYWwsIHJheVNjcmF0Y2guZGlyZWN0aW9uKTtcbiAgICB2YXIgZWFzdFBsYW5lID0gUGxhbmUuZnJvbVBvaW50Tm9ybWFsKFxuICAgICAgdGlsZUJCLm5vcnRoZWFzdENvcm5lckNhcnRlc2lhbixcbiAgICAgIHRpbGVCQi5lYXN0Tm9ybWFsLFxuICAgICAgcGxhbmVTY3JhdGNoXG4gICAgKTtcbiAgICAvLyBGaW5kIGEgcG9pbnQgdGhhdCBpcyBvbiB0aGUgZWFzdCBhbmQgdGhlIG5vcnRoIHBsYW5lc1xuICAgIEludGVyc2VjdGlvblRlc3RzLnJheVBsYW5lKFxuICAgICAgcmF5U2NyYXRjaCxcbiAgICAgIGVhc3RQbGFuZSxcbiAgICAgIHRpbGVCQi5ub3J0aGVhc3RDb3JuZXJDYXJ0ZXNpYW5cbiAgICApO1xuICAgIG5vcnRoU3VyZmFjZU5vcm1hbCA9IGVsbGlwc29pZC5nZW9kZXRpY1N1cmZhY2VOb3JtYWwoXG4gICAgICBub3J0aENlbnRlckNhcnRlc2lhbixcbiAgICAgIGNhcnRlc2lhbjNTY3JhdGNoMlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgbm9ydGhTdXJmYWNlTm9ybWFsID0gZWxsaXBzb2lkLmdlb2RldGljU3VyZmFjZU5vcm1hbENhcnRvZ3JhcGhpYyhcbiAgICAgIFJlY3RhbmdsZS5ub3J0aHdlc3QocmVjdGFuZ2xlKSxcbiAgICAgIGNhcnRlc2lhbjNTY3JhdGNoMlxuICAgICk7XG4gIH1cbiAgdmFyIG5vcnRoTm9ybWFsID0gQ2FydGVzaWFuMy5jcm9zcyhcbiAgICB3ZXN0VmVjdG9yLFxuICAgIG5vcnRoU3VyZmFjZU5vcm1hbCxcbiAgICBjYXJ0ZXNpYW4zU2NyYXRjaDNcbiAgKTtcbiAgQ2FydGVzaWFuMy5ub3JtYWxpemUobm9ydGhOb3JtYWwsIHRpbGVCQi5ub3J0aE5vcm1hbCk7XG59XG5cbnZhciBzb3V0aHdlc3RDb3JuZXJTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBub3J0aGVhc3RDb3JuZXJTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBuZWdhdGl2ZVVuaXRZID0gbmV3IENhcnRlc2lhbjMoMC4wLCAtMS4wLCAwLjApO1xudmFyIG5lZ2F0aXZlVW5pdFogPSBuZXcgQ2FydGVzaWFuMygwLjAsIDAuMCwgLTEuMCk7XG52YXIgdmVjdG9yU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG5cbmZ1bmN0aW9uIGRpc3RhbmNlVG9DYW1lcmFSZWdpb24odGlsZUJCLCBmcmFtZVN0YXRlKSB7XG4gIHZhciBjYW1lcmEgPSBmcmFtZVN0YXRlLmNhbWVyYTtcbiAgdmFyIGNhbWVyYUNhcnRlc2lhblBvc2l0aW9uID0gY2FtZXJhLnBvc2l0aW9uV0M7XG4gIHZhciBjYW1lcmFDYXJ0b2dyYXBoaWNQb3NpdGlvbiA9IGNhbWVyYS5wb3NpdGlvbkNhcnRvZ3JhcGhpYztcblxuICB2YXIgcmVzdWx0ID0gMC4wO1xuICBpZiAoIVJlY3RhbmdsZS5jb250YWlucyh0aWxlQkIucmVjdGFuZ2xlLCBjYW1lcmFDYXJ0b2dyYXBoaWNQb3NpdGlvbikpIHtcbiAgICB2YXIgc291dGh3ZXN0Q29ybmVyQ2FydGVzaWFuID0gdGlsZUJCLnNvdXRod2VzdENvcm5lckNhcnRlc2lhbjtcbiAgICB2YXIgbm9ydGhlYXN0Q29ybmVyQ2FydGVzaWFuID0gdGlsZUJCLm5vcnRoZWFzdENvcm5lckNhcnRlc2lhbjtcbiAgICB2YXIgd2VzdE5vcm1hbCA9IHRpbGVCQi53ZXN0Tm9ybWFsO1xuICAgIHZhciBzb3V0aE5vcm1hbCA9IHRpbGVCQi5zb3V0aE5vcm1hbDtcbiAgICB2YXIgZWFzdE5vcm1hbCA9IHRpbGVCQi5lYXN0Tm9ybWFsO1xuICAgIHZhciBub3J0aE5vcm1hbCA9IHRpbGVCQi5ub3J0aE5vcm1hbDtcblxuICAgIGlmIChmcmFtZVN0YXRlLm1vZGUgIT09IFNjZW5lTW9kZS5TQ0VORTNEKSB7XG4gICAgICBzb3V0aHdlc3RDb3JuZXJDYXJ0ZXNpYW4gPSBmcmFtZVN0YXRlLm1hcFByb2plY3Rpb24ucHJvamVjdChcbiAgICAgICAgUmVjdGFuZ2xlLnNvdXRod2VzdCh0aWxlQkIucmVjdGFuZ2xlKSxcbiAgICAgICAgc291dGh3ZXN0Q29ybmVyU2NyYXRjaFxuICAgICAgKTtcbiAgICAgIHNvdXRod2VzdENvcm5lckNhcnRlc2lhbi56ID0gc291dGh3ZXN0Q29ybmVyQ2FydGVzaWFuLnk7XG4gICAgICBzb3V0aHdlc3RDb3JuZXJDYXJ0ZXNpYW4ueSA9IHNvdXRod2VzdENvcm5lckNhcnRlc2lhbi54O1xuICAgICAgc291dGh3ZXN0Q29ybmVyQ2FydGVzaWFuLnggPSAwLjA7XG4gICAgICBub3J0aGVhc3RDb3JuZXJDYXJ0ZXNpYW4gPSBmcmFtZVN0YXRlLm1hcFByb2plY3Rpb24ucHJvamVjdChcbiAgICAgICAgUmVjdGFuZ2xlLm5vcnRoZWFzdCh0aWxlQkIucmVjdGFuZ2xlKSxcbiAgICAgICAgbm9ydGhlYXN0Q29ybmVyU2NyYXRjaFxuICAgICAgKTtcbiAgICAgIG5vcnRoZWFzdENvcm5lckNhcnRlc2lhbi56ID0gbm9ydGhlYXN0Q29ybmVyQ2FydGVzaWFuLnk7XG4gICAgICBub3J0aGVhc3RDb3JuZXJDYXJ0ZXNpYW4ueSA9IG5vcnRoZWFzdENvcm5lckNhcnRlc2lhbi54O1xuICAgICAgbm9ydGhlYXN0Q29ybmVyQ2FydGVzaWFuLnggPSAwLjA7XG4gICAgICB3ZXN0Tm9ybWFsID0gbmVnYXRpdmVVbml0WTtcbiAgICAgIGVhc3ROb3JtYWwgPSBDYXJ0ZXNpYW4zLlVOSVRfWTtcbiAgICAgIHNvdXRoTm9ybWFsID0gbmVnYXRpdmVVbml0WjtcbiAgICAgIG5vcnRoTm9ybWFsID0gQ2FydGVzaWFuMy5VTklUX1o7XG4gICAgfVxuXG4gICAgdmFyIHZlY3RvckZyb21Tb3V0aHdlc3RDb3JuZXIgPSBDYXJ0ZXNpYW4zLnN1YnRyYWN0KFxuICAgICAgY2FtZXJhQ2FydGVzaWFuUG9zaXRpb24sXG4gICAgICBzb3V0aHdlc3RDb3JuZXJDYXJ0ZXNpYW4sXG4gICAgICB2ZWN0b3JTY3JhdGNoXG4gICAgKTtcbiAgICB2YXIgZGlzdGFuY2VUb1dlc3RQbGFuZSA9IENhcnRlc2lhbjMuZG90KFxuICAgICAgdmVjdG9yRnJvbVNvdXRod2VzdENvcm5lcixcbiAgICAgIHdlc3ROb3JtYWxcbiAgICApO1xuICAgIHZhciBkaXN0YW5jZVRvU291dGhQbGFuZSA9IENhcnRlc2lhbjMuZG90KFxuICAgICAgdmVjdG9yRnJvbVNvdXRod2VzdENvcm5lcixcbiAgICAgIHNvdXRoTm9ybWFsXG4gICAgKTtcblxuICAgIHZhciB2ZWN0b3JGcm9tTm9ydGhlYXN0Q29ybmVyID0gQ2FydGVzaWFuMy5zdWJ0cmFjdChcbiAgICAgIGNhbWVyYUNhcnRlc2lhblBvc2l0aW9uLFxuICAgICAgbm9ydGhlYXN0Q29ybmVyQ2FydGVzaWFuLFxuICAgICAgdmVjdG9yU2NyYXRjaFxuICAgICk7XG4gICAgdmFyIGRpc3RhbmNlVG9FYXN0UGxhbmUgPSBDYXJ0ZXNpYW4zLmRvdChcbiAgICAgIHZlY3RvckZyb21Ob3J0aGVhc3RDb3JuZXIsXG4gICAgICBlYXN0Tm9ybWFsXG4gICAgKTtcbiAgICB2YXIgZGlzdGFuY2VUb05vcnRoUGxhbmUgPSBDYXJ0ZXNpYW4zLmRvdChcbiAgICAgIHZlY3RvckZyb21Ob3J0aGVhc3RDb3JuZXIsXG4gICAgICBub3J0aE5vcm1hbFxuICAgICk7XG5cbiAgICBpZiAoZGlzdGFuY2VUb1dlc3RQbGFuZSA+IDAuMCkge1xuICAgICAgcmVzdWx0ICs9IGRpc3RhbmNlVG9XZXN0UGxhbmUgKiBkaXN0YW5jZVRvV2VzdFBsYW5lO1xuICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VUb0Vhc3RQbGFuZSA+IDAuMCkge1xuICAgICAgcmVzdWx0ICs9IGRpc3RhbmNlVG9FYXN0UGxhbmUgKiBkaXN0YW5jZVRvRWFzdFBsYW5lO1xuICAgIH1cblxuICAgIGlmIChkaXN0YW5jZVRvU291dGhQbGFuZSA+IDAuMCkge1xuICAgICAgcmVzdWx0ICs9IGRpc3RhbmNlVG9Tb3V0aFBsYW5lICogZGlzdGFuY2VUb1NvdXRoUGxhbmU7XG4gICAgfSBlbHNlIGlmIChkaXN0YW5jZVRvTm9ydGhQbGFuZSA+IDAuMCkge1xuICAgICAgcmVzdWx0ICs9IGRpc3RhbmNlVG9Ob3J0aFBsYW5lICogZGlzdGFuY2VUb05vcnRoUGxhbmU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNhbWVyYUhlaWdodDtcbiAgdmFyIG1pbmltdW1IZWlnaHQ7XG4gIHZhciBtYXhpbXVtSGVpZ2h0O1xuICBpZiAoZnJhbWVTdGF0ZS5tb2RlID09PSBTY2VuZU1vZGUuU0NFTkUzRCkge1xuICAgIGNhbWVyYUhlaWdodCA9IGNhbWVyYUNhcnRvZ3JhcGhpY1Bvc2l0aW9uLmhlaWdodDtcbiAgICBtaW5pbXVtSGVpZ2h0ID0gdGlsZUJCLm1pbmltdW1IZWlnaHQ7XG4gICAgbWF4aW11bUhlaWdodCA9IHRpbGVCQi5tYXhpbXVtSGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGNhbWVyYUhlaWdodCA9IGNhbWVyYUNhcnRlc2lhblBvc2l0aW9uLng7XG4gICAgbWluaW11bUhlaWdodCA9IDAuMDtcbiAgICBtYXhpbXVtSGVpZ2h0ID0gMC4wO1xuICB9XG5cbiAgaWYgKGNhbWVyYUhlaWdodCA+IG1heGltdW1IZWlnaHQpIHtcbiAgICB2YXIgZGlzdGFuY2VBYm92ZVRvcCA9IGNhbWVyYUhlaWdodCAtIG1heGltdW1IZWlnaHQ7XG4gICAgcmVzdWx0ICs9IGRpc3RhbmNlQWJvdmVUb3AgKiBkaXN0YW5jZUFib3ZlVG9wO1xuICB9IGVsc2UgaWYgKGNhbWVyYUhlaWdodCA8IG1pbmltdW1IZWlnaHQpIHtcbiAgICB2YXIgZGlzdGFuY2VCZWxvd0JvdHRvbSA9IG1pbmltdW1IZWlnaHQgLSBjYW1lcmFIZWlnaHQ7XG4gICAgcmVzdWx0ICs9IGRpc3RhbmNlQmVsb3dCb3R0b20gKiBkaXN0YW5jZUJlbG93Qm90dG9tO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydChyZXN1bHQpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGNhbWVyYSB0byB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgdGlsZS4gIFRoaXMgaXMgdXNlZCBmb3IgbGV2ZWwgb2YgZGV0YWlsIHNlbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0ZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgVGhlIHN0YXRlIGluZm9ybWF0aW9uIG9mIHRoZSBjdXJyZW50IHJlbmRlcmluZyBmcmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjYW1lcmEgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHRpbGUsIGluIG1ldGVycy5cbiAqL1xuVGlsZUJvdW5kaW5nUmVnaW9uLnByb3RvdHlwZS5kaXN0YW5jZVRvQ2FtZXJhID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcImZyYW1lU3RhdGVcIiwgZnJhbWVTdGF0ZSk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciByZWdpb25SZXN1bHQgPSBkaXN0YW5jZVRvQ2FtZXJhUmVnaW9uKHRoaXMsIGZyYW1lU3RhdGUpO1xuICBpZiAoXG4gICAgZnJhbWVTdGF0ZS5tb2RlID09PSBTY2VuZU1vZGUuU0NFTkUzRCAmJlxuICAgIGRlZmluZWQodGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveClcbiAgKSB7XG4gICAgdmFyIG9iYlJlc3VsdCA9IE1hdGguc3FydChcbiAgICAgIHRoaXMuX29yaWVudGVkQm91bmRpbmdCb3guZGlzdGFuY2VTcXVhcmVkVG8oZnJhbWVTdGF0ZS5jYW1lcmEucG9zaXRpb25XQylcbiAgICApO1xuICAgIHJldHVybiBNYXRoLm1heChyZWdpb25SZXN1bHQsIG9iYlJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlZ2lvblJlc3VsdDtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIGEgcGxhbmUgdGhpcyBib3ggaXMgbG9jYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1BsYW5lfSBwbGFuZSBUaGUgcGxhbmUgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybnMge0ludGVyc2VjdH0ge0BsaW5rIEludGVyc2VjdC5JTlNJREV9IGlmIHRoZSBlbnRpcmUgYm94IGlzIG9uIHRoZSBzaWRlIG9mIHRoZSBwbGFuZVxuICogICAgICAgICAgICAgICAgICAgICAgdGhlIG5vcm1hbCBpcyBwb2ludGluZywge0BsaW5rIEludGVyc2VjdC5PVVRTSURFfSBpZiB0aGUgZW50aXJlIGJveCBpc1xuICogICAgICAgICAgICAgICAgICAgICAgb24gdGhlIG9wcG9zaXRlIHNpZGUsIGFuZCB7QGxpbmsgSW50ZXJzZWN0LklOVEVSU0VDVElOR30gaWYgdGhlIGJveFxuICogICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0cyB0aGUgcGxhbmUuXG4gKi9cblRpbGVCb3VuZGluZ1JlZ2lvbi5wcm90b3R5cGUuaW50ZXJzZWN0UGxhbmUgPSBmdW5jdGlvbiAocGxhbmUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcInBsYW5lXCIsIHBsYW5lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gIHJldHVybiB0aGlzLl9vcmllbnRlZEJvdW5kaW5nQm94LmludGVyc2VjdFBsYW5lKHBsYW5lKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYnVnIHByaW1pdGl2ZSB0aGF0IHNob3dzIHRoZSBvdXRsaW5lIG9mIHRoZSB0aWxlIGJvdW5kaW5nIHJlZ2lvbi5cbiAqXG4gKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBUaGUgZGVzaXJlZCBjb2xvciBvZiB0aGUgcHJpbWl0aXZlJ3MgbWVzaFxuICogQHJldHVybiB7UHJpbWl0aXZlfVxuICpcbiAqIEBwcml2YXRlXG4gKi9cblRpbGVCb3VuZGluZ1JlZ2lvbi5wcm90b3R5cGUuY3JlYXRlRGVidWdWb2x1bWUgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcImNvbG9yXCIsIGNvbG9yKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIG1vZGVsTWF0cml4ID0gbmV3IE1hdHJpeDQuY2xvbmUoTWF0cml4NC5JREVOVElUWSk7XG4gIHZhciBnZW9tZXRyeSA9IG5ldyBSZWN0YW5nbGVPdXRsaW5lR2VvbWV0cnkoe1xuICAgIHJlY3RhbmdsZTogdGhpcy5yZWN0YW5nbGUsXG4gICAgaGVpZ2h0OiB0aGlzLm1pbmltdW1IZWlnaHQsXG4gICAgZXh0cnVkZWRIZWlnaHQ6IHRoaXMubWF4aW11bUhlaWdodCxcbiAgfSk7XG4gIHZhciBpbnN0YW5jZSA9IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgaWQ6IFwib3V0bGluZVwiLFxuICAgIG1vZGVsTWF0cml4OiBtb2RlbE1hdHJpeCxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICBjb2xvcjogQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcihjb2xvciksXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBQcmltaXRpdmUoe1xuICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBpbnN0YW5jZSxcbiAgICBhcHBlYXJhbmNlOiBuZXcgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2Uoe1xuICAgICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgICAgZmxhdDogdHJ1ZSxcbiAgICB9KSxcbiAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxuICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCBUaWxlQm91bmRpbmdSZWdpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17106\n')},96811:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(82982);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51688);\n/* harmony import */ var _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50491);\n/* harmony import */ var _Core_Intersect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(84935);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(68201);\n/* harmony import */ var _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7749);\n/* harmony import */ var _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27753);\n/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48243);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(66553);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(92062);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(62200);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(26865);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(72248);\n/* harmony import */ var _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(64060);\n/* harmony import */ var _Primitive_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(34380);\n/* harmony import */ var _Core_S2Cell_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(90791);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar centerCartographicScratch = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n/**\n * A tile bounding volume specified as an S2 cell token with minimum and maximum heights.\n * The bounding volume is a k DOP. A k-DOP is the Boolean intersection of extents along k directions.\n *\n * @alias TileBoundingS2Cell\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {String} options.token The token of the S2 cell.\n * @param {Number} [options.minimumHeight=0.0] The minimum height of the bounding volume.\n * @param {Number} [options.maximumHeight=0.0] The maximum height of the bounding volume.\n * @param {Ellipsoid} [options.ellipsoid=Ellipsoid.WGS84] The ellipsoid.\n * @param {Boolean} [options.computeBoundingVolumes=true] True to compute the {@link TileBoundingS2Cell#boundingVolume} and\n *                  {@link TileBoundingS2Cell#boundingSphere}. If false, these properties will be undefined.\n *\n * @private\n */\nfunction TileBoundingS2Cell(options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].typeOf.object */ .Z.typeOf.object("options", options);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].typeOf.string */ .Z.typeOf.string("options.token", options.token);\n  //>>includeEnd(\'debug\');\n\n  var s2Cell = _Core_S2Cell_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].fromToken */ .Z.fromToken(options.token);\n  var minimumHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(options.minimumHeight, 0.0);\n  var maximumHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(options.maximumHeight, 0.0);\n  var ellipsoid = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(options.ellipsoid, _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].WGS84 */ .Z.WGS84);\n\n  this.s2Cell = s2Cell;\n  this.minimumHeight = minimumHeight;\n  this.maximumHeight = maximumHeight;\n  this.ellipsoid = ellipsoid;\n\n  var boundingPlanes = computeBoundingPlanes(\n    s2Cell,\n    minimumHeight,\n    maximumHeight,\n    ellipsoid\n  );\n  this._boundingPlanes = boundingPlanes;\n\n  // Pre-compute vertices to speed up the plane intersection test.\n  var vertices = computeVertices(boundingPlanes);\n  this._vertices = vertices;\n\n  // Pre-compute edge normals to speed up the point-polygon distance check in distanceToCamera.\n  this._edgeNormals = new Array(6);\n\n  this._edgeNormals[0] = computeEdgeNormals(\n    boundingPlanes[0],\n    vertices.slice(0, 4)\n  );\n  var i;\n  // Based on the way the edge normals are computed, the edge normals all point away from the "face"\n  // of the polyhedron they surround, except the plane for the top plane. Therefore, we negate the normals\n  // for the top plane.\n  for (i = 0; i < 4; i++) {\n    this._edgeNormals[0][i] = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(\n      this._edgeNormals[0][i],\n      this._edgeNormals[0][i]\n    );\n  }\n\n  this._edgeNormals[1] = computeEdgeNormals(\n    boundingPlanes[1],\n    vertices.slice(4, 8)\n  );\n  for (i = 0; i < 4; i++) {\n    // For each plane, iterate through the vertices in CCW order.\n    this._edgeNormals[2 + i] = computeEdgeNormals(boundingPlanes[2 + i], [\n      vertices[i % 4],\n      vertices[(i + 1) % 4],\n      vertices[4 + ((i + 1) % 4)],\n      vertices[4 + i],\n    ]);\n  }\n\n  this._planeVertices = [\n    this._vertices.slice(0, 4),\n    this._vertices.slice(4, 8),\n  ];\n  for (i = 0; i < 4; i++) {\n    this._planeVertices.push([\n      this._vertices[i % 4],\n      this._vertices[(i + 1) % 4],\n      this._vertices[4 + ((i + 1) % 4)],\n      this._vertices[4 + i],\n    ]);\n  }\n\n  var center = s2Cell.getCenter();\n  centerCartographicScratch = ellipsoid.cartesianToCartographic(\n    center,\n    centerCartographicScratch\n  );\n  centerCartographicScratch.height = (maximumHeight + minimumHeight) / 2;\n  this.center = ellipsoid.cartographicToCartesian(\n    centerCartographicScratch,\n    center\n  );\n\n  this._boundingSphere = _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].fromPoints */ .Z.fromPoints(vertices);\n}\n\nvar centerGeodeticNormalScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar topCartographicScratch = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar topScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar vertexCartographicScratch = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar vertexScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar vertexGeodeticNormalScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar sideNormalScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar sideScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n/**\n * Computes bounding planes of the kDOP.\n * @private\n */\nfunction computeBoundingPlanes(\n  s2Cell,\n  minimumHeight,\n  maximumHeight,\n  ellipsoid\n) {\n  var planes = new Array(6);\n  var centerPoint = s2Cell.getCenter();\n\n  // Compute top plane.\n  // - Get geodetic surface normal at the center of the S2 cell.\n  // - Get center point at maximum height of bounding volume.\n  // - Create top plane from surface normal and top point.\n  var centerSurfaceNormal = ellipsoid.geodeticSurfaceNormal(\n    centerPoint,\n    centerGeodeticNormalScratch\n  );\n  var topCartographic = ellipsoid.cartesianToCartographic(\n    centerPoint,\n    topCartographicScratch\n  );\n  topCartographic.height = maximumHeight;\n  var top = ellipsoid.cartographicToCartesian(topCartographic, topScratch);\n  var topPlane = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].fromPointNormal */ .Z.fromPointNormal(top, centerSurfaceNormal);\n  planes[0] = topPlane;\n\n  // Compute bottom plane.\n  // - Iterate through bottom vertices\n  //   - Get distance from vertex to top plane\n  // - Find longest distance from vertex to top plane\n  // - Translate top plane by the distance\n  var maxDistance = 0;\n  var i;\n  var vertices = [];\n  var vertex, vertexCartographic;\n  for (i = 0; i < 4; i++) {\n    vertex = s2Cell.getVertex(i);\n    vertices[i] = vertex;\n    vertexCartographic = ellipsoid.cartesianToCartographic(\n      vertex,\n      vertexCartographicScratch\n    );\n    vertexCartographic.height = minimumHeight;\n    var distance = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].getPointDistance */ .Z.getPointDistance(\n      topPlane,\n      ellipsoid.cartographicToCartesian(vertexCartographic, vertexScratch)\n    );\n    if (distance < maxDistance) {\n      maxDistance = distance;\n    }\n  }\n  var bottomPlane = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].clone */ .Z.clone(topPlane);\n  // Negate the normal of the bottom plane since we want all normals to point "outwards".\n  bottomPlane.normal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(\n    bottomPlane.normal,\n    bottomPlane.normal\n  );\n  bottomPlane.distance = bottomPlane.distance * -1 + maxDistance;\n  planes[1] = bottomPlane;\n\n  // Compute side planes.\n  // - Iterate through vertices (in CCW order, by default)\n  //   - Get a vertex and another vertex adjacent to it.\n  //   - Compute geodetic surface normal at one vertex.\n  //   - Compute vector between vertices.\n  //   - Compute normal of side plane. (cross product of top dir and side dir)\n  for (i = 0; i < 4; i++) {\n    vertex = vertices[i];\n    var adjacentVertex = vertices[(i + 1) % 4];\n    var geodeticNormal = ellipsoid.geodeticSurfaceNormal(\n      vertex,\n      vertexGeodeticNormalScratch\n    );\n    var side = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].subtract */ .Z.subtract(adjacentVertex, vertex, sideScratch);\n    var sideNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(side, geodeticNormal, sideNormalScratch);\n    sideNormal = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(sideNormal, sideNormal);\n    planes[2 + i] = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].fromPointNormal */ .Z.fromPointNormal(vertex, sideNormal);\n  }\n\n  return planes;\n}\n\nvar n0Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar n1Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar n2Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar x0Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar x1Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar x2Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar t0Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar t1Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar t2Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar f0Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar f1Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar f2Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar sScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar matrixScratch = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z();\n/**\n * Computes intersection of 3 planes.\n * @private\n */\nfunction computeIntersection(p0, p1, p2) {\n  n0Scratch = p0.normal;\n  n1Scratch = p1.normal;\n  n2Scratch = p2.normal;\n\n  x0Scratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(p0.normal, -p0.distance, x0Scratch);\n  x1Scratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(p1.normal, -p1.distance, x1Scratch);\n  x2Scratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(p2.normal, -p2.distance, x2Scratch);\n\n  f0Scratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(n1Scratch, n2Scratch, t0Scratch),\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(x0Scratch, n0Scratch),\n    f0Scratch\n  );\n  f1Scratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(n2Scratch, n0Scratch, t1Scratch),\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(x1Scratch, n1Scratch),\n    f1Scratch\n  );\n  f2Scratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(n0Scratch, n1Scratch, t2Scratch),\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(x2Scratch, n2Scratch),\n    f2Scratch\n  );\n\n  matrixScratch[0] = n0Scratch.x;\n  matrixScratch[1] = n1Scratch.x;\n  matrixScratch[2] = n2Scratch.x;\n  matrixScratch[3] = n0Scratch.y;\n  matrixScratch[4] = n1Scratch.y;\n  matrixScratch[5] = n2Scratch.y;\n  matrixScratch[6] = n0Scratch.z;\n  matrixScratch[7] = n1Scratch.z;\n  matrixScratch[8] = n2Scratch.z;\n  var determinant = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].determinant */ .Z.determinant(matrixScratch);\n  sScratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].add */ .Z.add(f0Scratch, f1Scratch, sScratch);\n  sScratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].add */ .Z.add(sScratch, f2Scratch, sScratch);\n  return new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n    sScratch.x / determinant,\n    sScratch.y / determinant,\n    sScratch.z / determinant\n  );\n}\n/**\n * Compute the vertices of the kDOP.\n * @private\n */\nfunction computeVertices(boundingPlanes) {\n  var vertices = new Array(8);\n  for (var i = 0; i < 4; i++) {\n    // Vertices on the top plane.\n    vertices[i] = computeIntersection(\n      boundingPlanes[0],\n      boundingPlanes[2 + ((i + 3) % 4)],\n      boundingPlanes[2 + (i % 4)]\n    );\n    // Vertices on the bottom plane.\n    vertices[i + 4] = computeIntersection(\n      boundingPlanes[1],\n      boundingPlanes[2 + ((i + 3) % 4)],\n      boundingPlanes[2 + (i % 4)]\n    );\n  }\n  return vertices;\n}\n\nvar edgeScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar edgeNormalScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n/**\n * Compute edge normals on a plane.\n * @private\n */\nfunction computeEdgeNormals(plane, vertices) {\n  var edgeNormals = [];\n  for (var i = 0; i < 4; i++) {\n    edgeScratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].subtract */ .Z.subtract(\n      vertices[(i + 1) % 4],\n      vertices[i],\n      edgeScratch\n    );\n    edgeNormalScratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(\n      plane.normal,\n      edgeScratch,\n      edgeNormalScratch\n    );\n    edgeNormalScratch = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(\n      edgeNormalScratch,\n      edgeNormalScratch\n    );\n    edgeNormals[i] = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(edgeNormalScratch);\n  }\n  return edgeNormals;\n}\n\nObject.defineProperties(TileBoundingS2Cell.prototype, {\n  /**\n   * The underlying bounding volume.\n   *\n   * @memberof TileOrientedBoundingBox.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  boundingVolume: {\n    get: function () {\n      return this;\n    },\n  },\n  /**\n   * The underlying bounding sphere.\n   *\n   * @memberof TileOrientedBoundingBox.prototype\n   *\n   * @type {BoundingSphere}\n   * @readonly\n   */\n  boundingSphere: {\n    get: function () {\n      return this._boundingSphere;\n    },\n  },\n});\n\nvar facePointScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n/**\n * The distance to point check for this kDOP involves checking the signed distance of the point to each bounding\n * plane. A plane qualifies for a distance check if the point being tested against is in the half-space in the direction\n * of the normal i.e. if the signed distance of the point from the plane is greater than 0.\n *\n * There are 4 possible cases for a point if it is outside the polyhedron:\n *\n *   \\     X     /     X \\           /       \\           /       \\           /\n * ---\\---------/---   ---\\---------/---   ---X---------/---   ---\\---------/---\n *     \\       /           \\       /           \\       /           \\       /\n *   ---\\-----/---       ---\\-----/---       ---\\-----/---       ---\\-----/---\n *       \\   /               \\   /               \\   /               \\   /\n *                                                                    \\ /\n *                                                                     \\\n *                                                                    / \\\n *                                                                   / X \\\n *\n *         I                  II                  III                 IV\n *\n * Case I: There is only one plane selected.\n * In this case, we project the point onto the plane and do a point polygon distance check to find the closest point on the polygon.\n * The point may lie inside the "face" of the polygon or outside. If it is outside, we need to determine which edges to test against.\n *\n * Case II: There are two planes selected.\n * In this case, the point will lie somewhere on the line created at the intersection of the selected planes or one of the planes.\n *\n * Case III: There are three planes selected.\n * In this case, the point will lie on the vertex, at the intersection of the selected planes.\n *\n * Case IV: There are more than three planes selected.\n * Since we are on an ellipsoid, this will only happen in the bottom plane, which is what we will use for the distance test.\n */\nTileBoundingS2Cell.prototype.distanceToCamera = function (frameState) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].defined */ .Z.defined("frameState", frameState);\n  //>>includeEnd(\'debug\');\n\n  var point = frameState.camera.positionWC;\n\n  var selectedPlaneIndices = [];\n  var vertices = [];\n  var edgeNormals;\n\n  if (_Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].getPointDistance */ .Z.getPointDistance(this._boundingPlanes[0], point) > 0) {\n    selectedPlaneIndices.push(0);\n    vertices.push(this._planeVertices[0]);\n    edgeNormals = this._edgeNormals[0];\n  } else if (_Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].getPointDistance */ .Z.getPointDistance(this._boundingPlanes[1], point) > 0) {\n    selectedPlaneIndices.push(1);\n    vertices.push(this._planeVertices[1]);\n    edgeNormals = this._edgeNormals[1];\n  }\n\n  var i;\n  var sidePlaneIndex;\n  for (i = 0; i < 4; i++) {\n    sidePlaneIndex = 2 + i;\n    if (\n      _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].getPointDistance */ .Z.getPointDistance(this._boundingPlanes[sidePlaneIndex], point) > 0\n    ) {\n      selectedPlaneIndices.push(sidePlaneIndex);\n      // Store vertices in CCW order.\n      vertices.push(this._planeVertices[sidePlaneIndex]);\n      edgeNormals = this._edgeNormals[sidePlaneIndex];\n    }\n  }\n\n  // Check if inside all planes.\n  if (selectedPlaneIndices.length === 0) {\n    return 0.0;\n  }\n\n  // We use the skip variable when the side plane indices are non-consecutive.\n  var skip;\n  var facePoint;\n  var selectedPlane;\n  if (selectedPlaneIndices.length === 1) {\n    // Handles Case I\n    selectedPlane = this._boundingPlanes[selectedPlaneIndices[0]];\n    facePoint = closestPointPolygon(\n      _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].projectPointOntoPlane */ .Z.projectPointOntoPlane(selectedPlane, point, facePointScratch),\n      vertices[0],\n      selectedPlane,\n      edgeNormals\n    );\n\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(facePoint, point);\n  } else if (selectedPlaneIndices.length === 2) {\n    // Handles Case II\n    // Since we are on the ellipsoid, the dihedral angle between a top plane and a side plane\n    // will always be acute, so we can do a faster check there.\n    if (selectedPlaneIndices[0] === 0) {\n      var edge = [\n        this._vertices[\n          4 * selectedPlaneIndices[0] + (selectedPlaneIndices[1] - 2)\n        ],\n        this._vertices[\n          4 * selectedPlaneIndices[0] + ((selectedPlaneIndices[1] - 2 + 1) % 4)\n        ],\n      ];\n      facePoint = closestPointLineSegment(point, edge[0], edge[1]);\n      return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(facePoint, point);\n    }\n    var minimumDistance = Number.MAX_VALUE;\n    var distance;\n    for (i = 0; i < 2; i++) {\n      selectedPlane = this._boundingPlanes[selectedPlaneIndices[i]];\n      facePoint = closestPointPolygon(\n        _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].projectPointOntoPlane */ .Z.projectPointOntoPlane(selectedPlane, point, facePointScratch),\n        vertices[i],\n        selectedPlane,\n        this._edgeNormals[selectedPlaneIndices[i]]\n      );\n\n      distance = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distanceSquared */ .Z.distanceSquared(facePoint, point);\n      if (distance < minimumDistance) {\n        minimumDistance = distance;\n      }\n    }\n    return Math.sqrt(minimumDistance);\n  } else if (selectedPlaneIndices.length > 3) {\n    // Handles Case IV\n    facePoint = closestPointPolygon(\n      _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].projectPointOntoPlane */ .Z.projectPointOntoPlane(\n        this._boundingPlanes[1],\n        point,\n        facePointScratch\n      ),\n      this._planeVertices[1],\n      this._boundingPlanes[1],\n      this._edgeNormals[1]\n    );\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(facePoint, point);\n  }\n\n  // Handles Case III\n  skip = selectedPlaneIndices[1] === 2 && selectedPlaneIndices[2] === 5 ? 0 : 1;\n\n  // Vertex is on top plane.\n  if (selectedPlaneIndices[0] === 0) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(\n      point,\n      this._vertices[(selectedPlaneIndices[1] - 2 + skip) % 4]\n    );\n  }\n\n  // Vertex is on bottom plane.\n  return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(\n    point,\n    this._vertices[4 + ((selectedPlaneIndices[1] - 2 + skip) % 4)]\n  );\n};\n\nvar dScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar pL0Scratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n/**\n * Finds point on a line segment closest to a given point.\n * @private\n */\nfunction closestPointLineSegment(p, l0, l1) {\n  var d = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].subtract */ .Z.subtract(l1, l0, dScratch);\n  var pL0 = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].subtract */ .Z.subtract(p, l0, pL0Scratch);\n  var t = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(d, pL0);\n\n  if (t <= 0) {\n    return l0;\n  }\n\n  var dMag = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(d, d);\n  if (t >= dMag) {\n    return l1;\n  }\n\n  t = t / dMag;\n  return new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n    (1 - t) * l0.x + t * l1.x,\n    (1 - t) * l0.y + t * l1.y,\n    (1 - t) * l0.z + t * l1.z\n  );\n}\n\nvar edgePlaneScratch = new _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_X */ .Z.UNIT_X, 0.0);\n/**\n * Finds closes point on the polygon, created by the given vertices, from\n * a point. The test point and the polygon are all on the same plane.\n * @private\n */\nfunction closestPointPolygon(p, vertices, plane, edgeNormals) {\n  var minDistance = Number.MAX_VALUE;\n  var distance;\n  var closestPoint;\n  var closestPointOnEdge;\n\n  for (var i = 0; i < vertices.length; i++) {\n    var edgePlane = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].fromPointNormal */ .Z.fromPointNormal(\n      vertices[i],\n      edgeNormals[i],\n      edgePlaneScratch\n    );\n    var edgePlaneDistance = _Core_Plane_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].getPointDistance */ .Z.getPointDistance(edgePlane, p);\n\n    // Skip checking against the edge if the point is not in the half-space that the\n    // edgePlane\'s normal points towards i.e. if the edgePlane is facing away from the point.\n    if (edgePlaneDistance < 0) {\n      continue;\n    }\n\n    closestPointOnEdge = closestPointLineSegment(\n      p,\n      vertices[i],\n      vertices[(i + 1) % 4]\n    );\n\n    distance = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(p, closestPointOnEdge);\n    if (distance < minDistance) {\n      minDistance = distance;\n      closestPoint = closestPointOnEdge;\n    }\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(closestPoint)) {\n    return p;\n  }\n  return closestPoint;\n}\n\n/**\n * Determines which side of a plane this volume is located.\n *\n * @param {Plane} plane The plane to test against.\n * @returns {Intersect} {@link Intersect.INSIDE} if the entire volume is on the side of the plane\n *                      the normal is pointing, {@link Intersect.OUTSIDE} if the entire volume is\n *                      on the opposite side, and {@link Intersect.INTERSECTING} if the volume\n *                      intersects the plane.\n */\nTileBoundingS2Cell.prototype.intersectPlane = function (plane) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].defined */ .Z.defined("plane", plane);\n  //>>includeEnd(\'debug\');\n\n  var plusCount = 0;\n  var negCount = 0;\n  for (var i = 0; i < this._vertices.length; i++) {\n    var distanceToPlane =\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(plane.normal, this._vertices[i]) + plane.distance;\n    if (distanceToPlane < 0) {\n      negCount++;\n    } else {\n      plusCount++;\n    }\n  }\n\n  if (plusCount === this._vertices.length) {\n    return _Core_Intersect_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].INSIDE */ .Z.INSIDE;\n  } else if (negCount === this._vertices.length) {\n    return _Core_Intersect_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].OUTSIDE */ .Z.OUTSIDE;\n  }\n  return _Core_Intersect_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].INTERSECTING */ .Z.INTERSECTING;\n};\n\n/**\n * Creates a debug primitive that shows the outline of the tile bounding\n * volume.\n *\n * @param {Color} color The desired color of the primitive\'s mesh\n * @return {Primitive}\n */\nTileBoundingS2Cell.prototype.createDebugVolume = function (color) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].defined */ .Z.defined("color", color);\n  //>>includeEnd(\'debug\');\n\n  var modelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].clone */ .Z.clone(_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].IDENTITY */ .Z.IDENTITY);\n  var topPlanePolygon = new _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n    polygonHierarchy: {\n      positions: this._planeVertices[0],\n    },\n  });\n  var topPlaneGeometry = _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].createGeometry */ .Z.createGeometry(\n    topPlanePolygon\n  );\n  var topPlaneInstance = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n    geometry: topPlaneGeometry,\n    id: "outline",\n    modelMatrix: modelMatrix,\n    attributes: {\n      color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromColor */ .Z.fromColor(color),\n    },\n  });\n\n  var bottomPlanePolygon = new _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n    polygonHierarchy: {\n      positions: this._planeVertices[1],\n    },\n  });\n  var bottomPlaneGeometry = _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].createGeometry */ .Z.createGeometry(\n    bottomPlanePolygon\n  );\n  var bottomPlaneInstance = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n    geometry: bottomPlaneGeometry,\n    id: "outline",\n    modelMatrix: modelMatrix,\n    attributes: {\n      color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromColor */ .Z.fromColor(color),\n    },\n  });\n\n  var sideInstances = [];\n  for (var i = 0; i < 4; i++) {\n    var sidePlanePolygon = new _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n      polygonHierarchy: {\n        positions: this._planeVertices[2 + i],\n      },\n    });\n    var sidePlaneGeometry = _Core_CoplanarPolygonOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].createGeometry */ .Z.createGeometry(\n      sidePlanePolygon\n    );\n    sideInstances[i] = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n      geometry: sidePlaneGeometry,\n      id: "outline",\n      modelMatrix: modelMatrix,\n      attributes: {\n        color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromColor */ .Z.fromColor(color),\n      },\n    });\n  }\n\n  return new _Primitive_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n    geometryInstances: [\n      sideInstances[0],\n      sideInstances[1],\n      sideInstances[2],\n      sideInstances[3],\n      bottomPlaneInstance,\n      topPlaneInstance,\n    ],\n    appearance: new _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n      translucent: false,\n      flat: true,\n    }),\n    asynchronous: false,\n  });\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (TileBoundingS2Cell);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9UaWxlQm91bmRpbmdTMkNlbGwuanM/OTlkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCIuLi9Db3JlL0NhcnRvZ3JhcGhpYy5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZCBmcm9tIFwiLi4vQ29yZS9FbGxpcHNvaWQuanNcIjtcbmltcG9ydCBJbnRlcnNlY3QgZnJvbSBcIi4uL0NvcmUvSW50ZXJzZWN0LmpzXCI7XG5pbXBvcnQgTWF0cml4MyBmcm9tIFwiLi4vQ29yZS9NYXRyaXgzLmpzXCI7XG5pbXBvcnQgUGxhbmUgZnJvbSBcIi4uL0NvcmUvUGxhbmUuanNcIjtcbmltcG9ydCBDb3BsYW5hclBvbHlnb25PdXRsaW5lR2VvbWV0cnkgZnJvbSBcIi4uL0NvcmUvQ29wbGFuYXJQb2x5Z29uT3V0bGluZUdlb21ldHJ5LmpzXCI7XG5pbXBvcnQgQm91bmRpbmdTcGhlcmUgZnJvbSBcIi4uL0NvcmUvQm91bmRpbmdTcGhlcmUuanNcIjtcbmltcG9ydCBDaGVjayBmcm9tIFwiLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZSBmcm9tIFwiLi4vQ29yZS9Db2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgR2VvbWV0cnlJbnN0YW5jZSBmcm9tIFwiLi4vQ29yZS9HZW9tZXRyeUluc3RhbmNlLmpzXCI7XG5pbXBvcnQgTWF0cml4NCBmcm9tIFwiLi4vQ29yZS9NYXRyaXg0LmpzXCI7XG5pbXBvcnQgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UgZnJvbSBcIi4vUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UuanNcIjtcbmltcG9ydCBQcmltaXRpdmUgZnJvbSBcIi4vUHJpbWl0aXZlLmpzXCI7XG5pbXBvcnQgUzJDZWxsIGZyb20gXCIuLi9Db3JlL1MyQ2VsbC5qc1wiO1xudmFyIGNlbnRlckNhcnRvZ3JhcGhpY1NjcmF0Y2ggPSBuZXcgQ2FydG9ncmFwaGljKCk7XG4vKipcbiAqIEEgdGlsZSBib3VuZGluZyB2b2x1bWUgc3BlY2lmaWVkIGFzIGFuIFMyIGNlbGwgdG9rZW4gd2l0aCBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodHMuXG4gKiBUaGUgYm91bmRpbmcgdm9sdW1lIGlzIGEgayBET1AuIEEgay1ET1AgaXMgdGhlIEJvb2xlYW4gaW50ZXJzZWN0aW9uIG9mIGV4dGVudHMgYWxvbmcgayBkaXJlY3Rpb25zLlxuICpcbiAqIEBhbGlhcyBUaWxlQm91bmRpbmdTMkNlbGxcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnRva2VuIFRoZSB0b2tlbiBvZiB0aGUgUzIgY2VsbC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5pbXVtSGVpZ2h0PTAuMF0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSBib3VuZGluZyB2b2x1bWUuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4aW11bUhlaWdodD0wLjBdIFRoZSBtYXhpbXVtIGhlaWdodCBvZiB0aGUgYm91bmRpbmcgdm9sdW1lLlxuICogQHBhcmFtIHtFbGxpcHNvaWR9IFtvcHRpb25zLmVsbGlwc29pZD1FbGxpcHNvaWQuV0dTODRdIFRoZSBlbGxpcHNvaWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbXB1dGVCb3VuZGluZ1ZvbHVtZXM9dHJ1ZV0gVHJ1ZSB0byBjb21wdXRlIHRoZSB7QGxpbmsgVGlsZUJvdW5kaW5nUzJDZWxsI2JvdW5kaW5nVm9sdW1lfSBhbmRcbiAqICAgICAgICAgICAgICAgICAge0BsaW5rIFRpbGVCb3VuZGluZ1MyQ2VsbCNib3VuZGluZ1NwaGVyZX0uIElmIGZhbHNlLCB0aGVzZSBwcm9wZXJ0aWVzIHdpbGwgYmUgdW5kZWZpbmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFRpbGVCb3VuZGluZ1MyQ2VsbChvcHRpb25zKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zXCIsIG9wdGlvbnMpO1xuICBDaGVjay50eXBlT2Yuc3RyaW5nKFwib3B0aW9ucy50b2tlblwiLCBvcHRpb25zLnRva2VuKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHMyQ2VsbCA9IFMyQ2VsbC5mcm9tVG9rZW4ob3B0aW9ucy50b2tlbik7XG4gIHZhciBtaW5pbXVtSGVpZ2h0ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMubWluaW11bUhlaWdodCwgMC4wKTtcbiAgdmFyIG1heGltdW1IZWlnaHQgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5tYXhpbXVtSGVpZ2h0LCAwLjApO1xuICB2YXIgZWxsaXBzb2lkID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZWxsaXBzb2lkLCBFbGxpcHNvaWQuV0dTODQpO1xuXG4gIHRoaXMuczJDZWxsID0gczJDZWxsO1xuICB0aGlzLm1pbmltdW1IZWlnaHQgPSBtaW5pbXVtSGVpZ2h0O1xuICB0aGlzLm1heGltdW1IZWlnaHQgPSBtYXhpbXVtSGVpZ2h0O1xuICB0aGlzLmVsbGlwc29pZCA9IGVsbGlwc29pZDtcblxuICB2YXIgYm91bmRpbmdQbGFuZXMgPSBjb21wdXRlQm91bmRpbmdQbGFuZXMoXG4gICAgczJDZWxsLFxuICAgIG1pbmltdW1IZWlnaHQsXG4gICAgbWF4aW11bUhlaWdodCxcbiAgICBlbGxpcHNvaWRcbiAgKTtcbiAgdGhpcy5fYm91bmRpbmdQbGFuZXMgPSBib3VuZGluZ1BsYW5lcztcblxuICAvLyBQcmUtY29tcHV0ZSB2ZXJ0aWNlcyB0byBzcGVlZCB1cCB0aGUgcGxhbmUgaW50ZXJzZWN0aW9uIHRlc3QuXG4gIHZhciB2ZXJ0aWNlcyA9IGNvbXB1dGVWZXJ0aWNlcyhib3VuZGluZ1BsYW5lcyk7XG4gIHRoaXMuX3ZlcnRpY2VzID0gdmVydGljZXM7XG5cbiAgLy8gUHJlLWNvbXB1dGUgZWRnZSBub3JtYWxzIHRvIHNwZWVkIHVwIHRoZSBwb2ludC1wb2x5Z29uIGRpc3RhbmNlIGNoZWNrIGluIGRpc3RhbmNlVG9DYW1lcmEuXG4gIHRoaXMuX2VkZ2VOb3JtYWxzID0gbmV3IEFycmF5KDYpO1xuXG4gIHRoaXMuX2VkZ2VOb3JtYWxzWzBdID0gY29tcHV0ZUVkZ2VOb3JtYWxzKFxuICAgIGJvdW5kaW5nUGxhbmVzWzBdLFxuICAgIHZlcnRpY2VzLnNsaWNlKDAsIDQpXG4gICk7XG4gIHZhciBpO1xuICAvLyBCYXNlZCBvbiB0aGUgd2F5IHRoZSBlZGdlIG5vcm1hbHMgYXJlIGNvbXB1dGVkLCB0aGUgZWRnZSBub3JtYWxzIGFsbCBwb2ludCBhd2F5IGZyb20gdGhlIFwiZmFjZVwiXG4gIC8vIG9mIHRoZSBwb2x5aGVkcm9uIHRoZXkgc3Vycm91bmQsIGV4Y2VwdCB0aGUgcGxhbmUgZm9yIHRoZSB0b3AgcGxhbmUuIFRoZXJlZm9yZSwgd2UgbmVnYXRlIHRoZSBub3JtYWxzXG4gIC8vIGZvciB0aGUgdG9wIHBsYW5lLlxuICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgdGhpcy5fZWRnZU5vcm1hbHNbMF1baV0gPSBDYXJ0ZXNpYW4zLm5lZ2F0ZShcbiAgICAgIHRoaXMuX2VkZ2VOb3JtYWxzWzBdW2ldLFxuICAgICAgdGhpcy5fZWRnZU5vcm1hbHNbMF1baV1cbiAgICApO1xuICB9XG5cbiAgdGhpcy5fZWRnZU5vcm1hbHNbMV0gPSBjb21wdXRlRWRnZU5vcm1hbHMoXG4gICAgYm91bmRpbmdQbGFuZXNbMV0sXG4gICAgdmVydGljZXMuc2xpY2UoNCwgOClcbiAgKTtcbiAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIC8vIEZvciBlYWNoIHBsYW5lLCBpdGVyYXRlIHRocm91Z2ggdGhlIHZlcnRpY2VzIGluIENDVyBvcmRlci5cbiAgICB0aGlzLl9lZGdlTm9ybWFsc1syICsgaV0gPSBjb21wdXRlRWRnZU5vcm1hbHMoYm91bmRpbmdQbGFuZXNbMiArIGldLCBbXG4gICAgICB2ZXJ0aWNlc1tpICUgNF0sXG4gICAgICB2ZXJ0aWNlc1soaSArIDEpICUgNF0sXG4gICAgICB2ZXJ0aWNlc1s0ICsgKChpICsgMSkgJSA0KV0sXG4gICAgICB2ZXJ0aWNlc1s0ICsgaV0sXG4gICAgXSk7XG4gIH1cblxuICB0aGlzLl9wbGFuZVZlcnRpY2VzID0gW1xuICAgIHRoaXMuX3ZlcnRpY2VzLnNsaWNlKDAsIDQpLFxuICAgIHRoaXMuX3ZlcnRpY2VzLnNsaWNlKDQsIDgpLFxuICBdO1xuICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgdGhpcy5fcGxhbmVWZXJ0aWNlcy5wdXNoKFtcbiAgICAgIHRoaXMuX3ZlcnRpY2VzW2kgJSA0XSxcbiAgICAgIHRoaXMuX3ZlcnRpY2VzWyhpICsgMSkgJSA0XSxcbiAgICAgIHRoaXMuX3ZlcnRpY2VzWzQgKyAoKGkgKyAxKSAlIDQpXSxcbiAgICAgIHRoaXMuX3ZlcnRpY2VzWzQgKyBpXSxcbiAgICBdKTtcbiAgfVxuXG4gIHZhciBjZW50ZXIgPSBzMkNlbGwuZ2V0Q2VudGVyKCk7XG4gIGNlbnRlckNhcnRvZ3JhcGhpY1NjcmF0Y2ggPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoXG4gICAgY2VudGVyLFxuICAgIGNlbnRlckNhcnRvZ3JhcGhpY1NjcmF0Y2hcbiAgKTtcbiAgY2VudGVyQ2FydG9ncmFwaGljU2NyYXRjaC5oZWlnaHQgPSAobWF4aW11bUhlaWdodCArIG1pbmltdW1IZWlnaHQpIC8gMjtcbiAgdGhpcy5jZW50ZXIgPSBlbGxpcHNvaWQuY2FydG9ncmFwaGljVG9DYXJ0ZXNpYW4oXG4gICAgY2VudGVyQ2FydG9ncmFwaGljU2NyYXRjaCxcbiAgICBjZW50ZXJcbiAgKTtcblxuICB0aGlzLl9ib3VuZGluZ1NwaGVyZSA9IEJvdW5kaW5nU3BoZXJlLmZyb21Qb2ludHModmVydGljZXMpO1xufVxuXG52YXIgY2VudGVyR2VvZGV0aWNOb3JtYWxTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciB0b3BDYXJ0b2dyYXBoaWNTY3JhdGNoID0gbmV3IENhcnRvZ3JhcGhpYygpO1xudmFyIHRvcFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHZlcnRleENhcnRvZ3JhcGhpY1NjcmF0Y2ggPSBuZXcgQ2FydG9ncmFwaGljKCk7XG52YXIgdmVydGV4U2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgdmVydGV4R2VvZGV0aWNOb3JtYWxTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzaWRlTm9ybWFsU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2lkZVNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xuLyoqXG4gKiBDb21wdXRlcyBib3VuZGluZyBwbGFuZXMgb2YgdGhlIGtET1AuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb21wdXRlQm91bmRpbmdQbGFuZXMoXG4gIHMyQ2VsbCxcbiAgbWluaW11bUhlaWdodCxcbiAgbWF4aW11bUhlaWdodCxcbiAgZWxsaXBzb2lkXG4pIHtcbiAgdmFyIHBsYW5lcyA9IG5ldyBBcnJheSg2KTtcbiAgdmFyIGNlbnRlclBvaW50ID0gczJDZWxsLmdldENlbnRlcigpO1xuXG4gIC8vIENvbXB1dGUgdG9wIHBsYW5lLlxuICAvLyAtIEdldCBnZW9kZXRpYyBzdXJmYWNlIG5vcm1hbCBhdCB0aGUgY2VudGVyIG9mIHRoZSBTMiBjZWxsLlxuICAvLyAtIEdldCBjZW50ZXIgcG9pbnQgYXQgbWF4aW11bSBoZWlnaHQgb2YgYm91bmRpbmcgdm9sdW1lLlxuICAvLyAtIENyZWF0ZSB0b3AgcGxhbmUgZnJvbSBzdXJmYWNlIG5vcm1hbCBhbmQgdG9wIHBvaW50LlxuICB2YXIgY2VudGVyU3VyZmFjZU5vcm1hbCA9IGVsbGlwc29pZC5nZW9kZXRpY1N1cmZhY2VOb3JtYWwoXG4gICAgY2VudGVyUG9pbnQsXG4gICAgY2VudGVyR2VvZGV0aWNOb3JtYWxTY3JhdGNoXG4gICk7XG4gIHZhciB0b3BDYXJ0b2dyYXBoaWMgPSBlbGxpcHNvaWQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoXG4gICAgY2VudGVyUG9pbnQsXG4gICAgdG9wQ2FydG9ncmFwaGljU2NyYXRjaFxuICApO1xuICB0b3BDYXJ0b2dyYXBoaWMuaGVpZ2h0ID0gbWF4aW11bUhlaWdodDtcbiAgdmFyIHRvcCA9IGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbih0b3BDYXJ0b2dyYXBoaWMsIHRvcFNjcmF0Y2gpO1xuICB2YXIgdG9wUGxhbmUgPSBQbGFuZS5mcm9tUG9pbnROb3JtYWwodG9wLCBjZW50ZXJTdXJmYWNlTm9ybWFsKTtcbiAgcGxhbmVzWzBdID0gdG9wUGxhbmU7XG5cbiAgLy8gQ29tcHV0ZSBib3R0b20gcGxhbmUuXG4gIC8vIC0gSXRlcmF0ZSB0aHJvdWdoIGJvdHRvbSB2ZXJ0aWNlc1xuICAvLyAgIC0gR2V0IGRpc3RhbmNlIGZyb20gdmVydGV4IHRvIHRvcCBwbGFuZVxuICAvLyAtIEZpbmQgbG9uZ2VzdCBkaXN0YW5jZSBmcm9tIHZlcnRleCB0byB0b3AgcGxhbmVcbiAgLy8gLSBUcmFuc2xhdGUgdG9wIHBsYW5lIGJ5IHRoZSBkaXN0YW5jZVxuICB2YXIgbWF4RGlzdGFuY2UgPSAwO1xuICB2YXIgaTtcbiAgdmFyIHZlcnRpY2VzID0gW107XG4gIHZhciB2ZXJ0ZXgsIHZlcnRleENhcnRvZ3JhcGhpYztcbiAgZm9yIChpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIHZlcnRleCA9IHMyQ2VsbC5nZXRWZXJ0ZXgoaSk7XG4gICAgdmVydGljZXNbaV0gPSB2ZXJ0ZXg7XG4gICAgdmVydGV4Q2FydG9ncmFwaGljID0gZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKFxuICAgICAgdmVydGV4LFxuICAgICAgdmVydGV4Q2FydG9ncmFwaGljU2NyYXRjaFxuICAgICk7XG4gICAgdmVydGV4Q2FydG9ncmFwaGljLmhlaWdodCA9IG1pbmltdW1IZWlnaHQ7XG4gICAgdmFyIGRpc3RhbmNlID0gUGxhbmUuZ2V0UG9pbnREaXN0YW5jZShcbiAgICAgIHRvcFBsYW5lLFxuICAgICAgZWxsaXBzb2lkLmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKHZlcnRleENhcnRvZ3JhcGhpYywgdmVydGV4U2NyYXRjaClcbiAgICApO1xuICAgIGlmIChkaXN0YW5jZSA8IG1heERpc3RhbmNlKSB7XG4gICAgICBtYXhEaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIH1cbiAgfVxuICB2YXIgYm90dG9tUGxhbmUgPSBQbGFuZS5jbG9uZSh0b3BQbGFuZSk7XG4gIC8vIE5lZ2F0ZSB0aGUgbm9ybWFsIG9mIHRoZSBib3R0b20gcGxhbmUgc2luY2Ugd2Ugd2FudCBhbGwgbm9ybWFscyB0byBwb2ludCBcIm91dHdhcmRzXCIuXG4gIGJvdHRvbVBsYW5lLm5vcm1hbCA9IENhcnRlc2lhbjMubmVnYXRlKFxuICAgIGJvdHRvbVBsYW5lLm5vcm1hbCxcbiAgICBib3R0b21QbGFuZS5ub3JtYWxcbiAgKTtcbiAgYm90dG9tUGxhbmUuZGlzdGFuY2UgPSBib3R0b21QbGFuZS5kaXN0YW5jZSAqIC0xICsgbWF4RGlzdGFuY2U7XG4gIHBsYW5lc1sxXSA9IGJvdHRvbVBsYW5lO1xuXG4gIC8vIENvbXB1dGUgc2lkZSBwbGFuZXMuXG4gIC8vIC0gSXRlcmF0ZSB0aHJvdWdoIHZlcnRpY2VzIChpbiBDQ1cgb3JkZXIsIGJ5IGRlZmF1bHQpXG4gIC8vICAgLSBHZXQgYSB2ZXJ0ZXggYW5kIGFub3RoZXIgdmVydGV4IGFkamFjZW50IHRvIGl0LlxuICAvLyAgIC0gQ29tcHV0ZSBnZW9kZXRpYyBzdXJmYWNlIG5vcm1hbCBhdCBvbmUgdmVydGV4LlxuICAvLyAgIC0gQ29tcHV0ZSB2ZWN0b3IgYmV0d2VlbiB2ZXJ0aWNlcy5cbiAgLy8gICAtIENvbXB1dGUgbm9ybWFsIG9mIHNpZGUgcGxhbmUuIChjcm9zcyBwcm9kdWN0IG9mIHRvcCBkaXIgYW5kIHNpZGUgZGlyKVxuICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgdmVydGV4ID0gdmVydGljZXNbaV07XG4gICAgdmFyIGFkamFjZW50VmVydGV4ID0gdmVydGljZXNbKGkgKyAxKSAlIDRdO1xuICAgIHZhciBnZW9kZXRpY05vcm1hbCA9IGVsbGlwc29pZC5nZW9kZXRpY1N1cmZhY2VOb3JtYWwoXG4gICAgICB2ZXJ0ZXgsXG4gICAgICB2ZXJ0ZXhHZW9kZXRpY05vcm1hbFNjcmF0Y2hcbiAgICApO1xuICAgIHZhciBzaWRlID0gQ2FydGVzaWFuMy5zdWJ0cmFjdChhZGphY2VudFZlcnRleCwgdmVydGV4LCBzaWRlU2NyYXRjaCk7XG4gICAgdmFyIHNpZGVOb3JtYWwgPSBDYXJ0ZXNpYW4zLmNyb3NzKHNpZGUsIGdlb2RldGljTm9ybWFsLCBzaWRlTm9ybWFsU2NyYXRjaCk7XG4gICAgc2lkZU5vcm1hbCA9IENhcnRlc2lhbjMubm9ybWFsaXplKHNpZGVOb3JtYWwsIHNpZGVOb3JtYWwpO1xuICAgIHBsYW5lc1syICsgaV0gPSBQbGFuZS5mcm9tUG9pbnROb3JtYWwodmVydGV4LCBzaWRlTm9ybWFsKTtcbiAgfVxuXG4gIHJldHVybiBwbGFuZXM7XG59XG5cbnZhciBuMFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIG4xU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgbjJTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciB4MFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHgxU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgeDJTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciB0MFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHQxU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgdDJTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBmMFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIGYxU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgZjJTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgbWF0cml4U2NyYXRjaCA9IG5ldyBNYXRyaXgzKCk7XG4vKipcbiAqIENvbXB1dGVzIGludGVyc2VjdGlvbiBvZiAzIHBsYW5lcy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnRlcnNlY3Rpb24ocDAsIHAxLCBwMikge1xuICBuMFNjcmF0Y2ggPSBwMC5ub3JtYWw7XG4gIG4xU2NyYXRjaCA9IHAxLm5vcm1hbDtcbiAgbjJTY3JhdGNoID0gcDIubm9ybWFsO1xuXG4gIHgwU2NyYXRjaCA9IENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihwMC5ub3JtYWwsIC1wMC5kaXN0YW5jZSwgeDBTY3JhdGNoKTtcbiAgeDFTY3JhdGNoID0gQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKHAxLm5vcm1hbCwgLXAxLmRpc3RhbmNlLCB4MVNjcmF0Y2gpO1xuICB4MlNjcmF0Y2ggPSBDYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIocDIubm9ybWFsLCAtcDIuZGlzdGFuY2UsIHgyU2NyYXRjaCk7XG5cbiAgZjBTY3JhdGNoID0gQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgIENhcnRlc2lhbjMuY3Jvc3MobjFTY3JhdGNoLCBuMlNjcmF0Y2gsIHQwU2NyYXRjaCksXG4gICAgQ2FydGVzaWFuMy5kb3QoeDBTY3JhdGNoLCBuMFNjcmF0Y2gpLFxuICAgIGYwU2NyYXRjaFxuICApO1xuICBmMVNjcmF0Y2ggPSBDYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIoXG4gICAgQ2FydGVzaWFuMy5jcm9zcyhuMlNjcmF0Y2gsIG4wU2NyYXRjaCwgdDFTY3JhdGNoKSxcbiAgICBDYXJ0ZXNpYW4zLmRvdCh4MVNjcmF0Y2gsIG4xU2NyYXRjaCksXG4gICAgZjFTY3JhdGNoXG4gICk7XG4gIGYyU2NyYXRjaCA9IENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihcbiAgICBDYXJ0ZXNpYW4zLmNyb3NzKG4wU2NyYXRjaCwgbjFTY3JhdGNoLCB0MlNjcmF0Y2gpLFxuICAgIENhcnRlc2lhbjMuZG90KHgyU2NyYXRjaCwgbjJTY3JhdGNoKSxcbiAgICBmMlNjcmF0Y2hcbiAgKTtcblxuICBtYXRyaXhTY3JhdGNoWzBdID0gbjBTY3JhdGNoLng7XG4gIG1hdHJpeFNjcmF0Y2hbMV0gPSBuMVNjcmF0Y2gueDtcbiAgbWF0cml4U2NyYXRjaFsyXSA9IG4yU2NyYXRjaC54O1xuICBtYXRyaXhTY3JhdGNoWzNdID0gbjBTY3JhdGNoLnk7XG4gIG1hdHJpeFNjcmF0Y2hbNF0gPSBuMVNjcmF0Y2gueTtcbiAgbWF0cml4U2NyYXRjaFs1XSA9IG4yU2NyYXRjaC55O1xuICBtYXRyaXhTY3JhdGNoWzZdID0gbjBTY3JhdGNoLno7XG4gIG1hdHJpeFNjcmF0Y2hbN10gPSBuMVNjcmF0Y2guejtcbiAgbWF0cml4U2NyYXRjaFs4XSA9IG4yU2NyYXRjaC56O1xuICB2YXIgZGV0ZXJtaW5hbnQgPSBNYXRyaXgzLmRldGVybWluYW50KG1hdHJpeFNjcmF0Y2gpO1xuICBzU2NyYXRjaCA9IENhcnRlc2lhbjMuYWRkKGYwU2NyYXRjaCwgZjFTY3JhdGNoLCBzU2NyYXRjaCk7XG4gIHNTY3JhdGNoID0gQ2FydGVzaWFuMy5hZGQoc1NjcmF0Y2gsIGYyU2NyYXRjaCwgc1NjcmF0Y2gpO1xuICByZXR1cm4gbmV3IENhcnRlc2lhbjMoXG4gICAgc1NjcmF0Y2gueCAvIGRldGVybWluYW50LFxuICAgIHNTY3JhdGNoLnkgLyBkZXRlcm1pbmFudCxcbiAgICBzU2NyYXRjaC56IC8gZGV0ZXJtaW5hbnRcbiAgKTtcbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgdmVydGljZXMgb2YgdGhlIGtET1AuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb21wdXRlVmVydGljZXMoYm91bmRpbmdQbGFuZXMpIHtcbiAgdmFyIHZlcnRpY2VzID0gbmV3IEFycmF5KDgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIC8vIFZlcnRpY2VzIG9uIHRoZSB0b3AgcGxhbmUuXG4gICAgdmVydGljZXNbaV0gPSBjb21wdXRlSW50ZXJzZWN0aW9uKFxuICAgICAgYm91bmRpbmdQbGFuZXNbMF0sXG4gICAgICBib3VuZGluZ1BsYW5lc1syICsgKChpICsgMykgJSA0KV0sXG4gICAgICBib3VuZGluZ1BsYW5lc1syICsgKGkgJSA0KV1cbiAgICApO1xuICAgIC8vIFZlcnRpY2VzIG9uIHRoZSBib3R0b20gcGxhbmUuXG4gICAgdmVydGljZXNbaSArIDRdID0gY29tcHV0ZUludGVyc2VjdGlvbihcbiAgICAgIGJvdW5kaW5nUGxhbmVzWzFdLFxuICAgICAgYm91bmRpbmdQbGFuZXNbMiArICgoaSArIDMpICUgNCldLFxuICAgICAgYm91bmRpbmdQbGFuZXNbMiArIChpICUgNCldXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmVydGljZXM7XG59XG5cbnZhciBlZGdlU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgZWRnZU5vcm1hbFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xuLyoqXG4gKiBDb21wdXRlIGVkZ2Ugbm9ybWFscyBvbiBhIHBsYW5lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUVkZ2VOb3JtYWxzKHBsYW5lLCB2ZXJ0aWNlcykge1xuICB2YXIgZWRnZU5vcm1hbHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBlZGdlU2NyYXRjaCA9IENhcnRlc2lhbjMuc3VidHJhY3QoXG4gICAgICB2ZXJ0aWNlc1soaSArIDEpICUgNF0sXG4gICAgICB2ZXJ0aWNlc1tpXSxcbiAgICAgIGVkZ2VTY3JhdGNoXG4gICAgKTtcbiAgICBlZGdlTm9ybWFsU2NyYXRjaCA9IENhcnRlc2lhbjMuY3Jvc3MoXG4gICAgICBwbGFuZS5ub3JtYWwsXG4gICAgICBlZGdlU2NyYXRjaCxcbiAgICAgIGVkZ2VOb3JtYWxTY3JhdGNoXG4gICAgKTtcbiAgICBlZGdlTm9ybWFsU2NyYXRjaCA9IENhcnRlc2lhbjMubm9ybWFsaXplKFxuICAgICAgZWRnZU5vcm1hbFNjcmF0Y2gsXG4gICAgICBlZGdlTm9ybWFsU2NyYXRjaFxuICAgICk7XG4gICAgZWRnZU5vcm1hbHNbaV0gPSBDYXJ0ZXNpYW4zLmNsb25lKGVkZ2VOb3JtYWxTY3JhdGNoKTtcbiAgfVxuICByZXR1cm4gZWRnZU5vcm1hbHM7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRpbGVCb3VuZGluZ1MyQ2VsbC5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSB1bmRlcmx5aW5nIGJvdW5kaW5nIHZvbHVtZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVPcmllbnRlZEJvdW5kaW5nQm94LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGJvdW5kaW5nVm9sdW1lOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogVGhlIHVuZGVybHlpbmcgYm91bmRpbmcgc3BoZXJlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGlsZU9yaWVudGVkQm91bmRpbmdCb3gucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtCb3VuZGluZ1NwaGVyZX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBib3VuZGluZ1NwaGVyZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kaW5nU3BoZXJlO1xuICAgIH0sXG4gIH0sXG59KTtcblxudmFyIGZhY2VQb2ludFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xuLyoqXG4gKiBUaGUgZGlzdGFuY2UgdG8gcG9pbnQgY2hlY2sgZm9yIHRoaXMga0RPUCBpbnZvbHZlcyBjaGVja2luZyB0aGUgc2lnbmVkIGRpc3RhbmNlIG9mIHRoZSBwb2ludCB0byBlYWNoIGJvdW5kaW5nXG4gKiBwbGFuZS4gQSBwbGFuZSBxdWFsaWZpZXMgZm9yIGEgZGlzdGFuY2UgY2hlY2sgaWYgdGhlIHBvaW50IGJlaW5nIHRlc3RlZCBhZ2FpbnN0IGlzIGluIHRoZSBoYWxmLXNwYWNlIGluIHRoZSBkaXJlY3Rpb25cbiAqIG9mIHRoZSBub3JtYWwgaS5lLiBpZiB0aGUgc2lnbmVkIGRpc3RhbmNlIG9mIHRoZSBwb2ludCBmcm9tIHRoZSBwbGFuZSBpcyBncmVhdGVyIHRoYW4gMC5cbiAqXG4gKiBUaGVyZSBhcmUgNCBwb3NzaWJsZSBjYXNlcyBmb3IgYSBwb2ludCBpZiBpdCBpcyBvdXRzaWRlIHRoZSBwb2x5aGVkcm9uOlxuICpcbiAqICAgXFwgICAgIFggICAgIC8gICAgIFggXFwgICAgICAgICAgIC8gICAgICAgXFwgICAgICAgICAgIC8gICAgICAgXFwgICAgICAgICAgIC9cbiAqIC0tLVxcLS0tLS0tLS0tLy0tLSAgIC0tLVxcLS0tLS0tLS0tLy0tLSAgIC0tLVgtLS0tLS0tLS0vLS0tICAgLS0tXFwtLS0tLS0tLS0vLS0tXG4gKiAgICAgXFwgICAgICAgLyAgICAgICAgICAgXFwgICAgICAgLyAgICAgICAgICAgXFwgICAgICAgLyAgICAgICAgICAgXFwgICAgICAgL1xuICogICAtLS1cXC0tLS0tLy0tLSAgICAgICAtLS1cXC0tLS0tLy0tLSAgICAgICAtLS1cXC0tLS0tLy0tLSAgICAgICAtLS1cXC0tLS0tLy0tLVxuICogICAgICAgXFwgICAvICAgICAgICAgICAgICAgXFwgICAvICAgICAgICAgICAgICAgXFwgICAvICAgICAgICAgICAgICAgXFwgICAvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFwgL1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gXFxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gWCBcXFxuICpcbiAqICAgICAgICAgSSAgICAgICAgICAgICAgICAgIElJICAgICAgICAgICAgICAgICAgSUlJICAgICAgICAgICAgICAgICBJVlxuICpcbiAqIENhc2UgSTogVGhlcmUgaXMgb25seSBvbmUgcGxhbmUgc2VsZWN0ZWQuXG4gKiBJbiB0aGlzIGNhc2UsIHdlIHByb2plY3QgdGhlIHBvaW50IG9udG8gdGhlIHBsYW5lIGFuZCBkbyBhIHBvaW50IHBvbHlnb24gZGlzdGFuY2UgY2hlY2sgdG8gZmluZCB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgcG9seWdvbi5cbiAqIFRoZSBwb2ludCBtYXkgbGllIGluc2lkZSB0aGUgXCJmYWNlXCIgb2YgdGhlIHBvbHlnb24gb3Igb3V0c2lkZS4gSWYgaXQgaXMgb3V0c2lkZSwgd2UgbmVlZCB0byBkZXRlcm1pbmUgd2hpY2ggZWRnZXMgdG8gdGVzdCBhZ2FpbnN0LlxuICpcbiAqIENhc2UgSUk6IFRoZXJlIGFyZSB0d28gcGxhbmVzIHNlbGVjdGVkLlxuICogSW4gdGhpcyBjYXNlLCB0aGUgcG9pbnQgd2lsbCBsaWUgc29tZXdoZXJlIG9uIHRoZSBsaW5lIGNyZWF0ZWQgYXQgdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgc2VsZWN0ZWQgcGxhbmVzIG9yIG9uZSBvZiB0aGUgcGxhbmVzLlxuICpcbiAqIENhc2UgSUlJOiBUaGVyZSBhcmUgdGhyZWUgcGxhbmVzIHNlbGVjdGVkLlxuICogSW4gdGhpcyBjYXNlLCB0aGUgcG9pbnQgd2lsbCBsaWUgb24gdGhlIHZlcnRleCwgYXQgdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgc2VsZWN0ZWQgcGxhbmVzLlxuICpcbiAqIENhc2UgSVY6IFRoZXJlIGFyZSBtb3JlIHRoYW4gdGhyZWUgcGxhbmVzIHNlbGVjdGVkLlxuICogU2luY2Ugd2UgYXJlIG9uIGFuIGVsbGlwc29pZCwgdGhpcyB3aWxsIG9ubHkgaGFwcGVuIGluIHRoZSBib3R0b20gcGxhbmUsIHdoaWNoIGlzIHdoYXQgd2Ugd2lsbCB1c2UgZm9yIHRoZSBkaXN0YW5jZSB0ZXN0LlxuICovXG5UaWxlQm91bmRpbmdTMkNlbGwucHJvdG90eXBlLmRpc3RhbmNlVG9DYW1lcmEgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiZnJhbWVTdGF0ZVwiLCBmcmFtZVN0YXRlKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHBvaW50ID0gZnJhbWVTdGF0ZS5jYW1lcmEucG9zaXRpb25XQztcblxuICB2YXIgc2VsZWN0ZWRQbGFuZUluZGljZXMgPSBbXTtcbiAgdmFyIHZlcnRpY2VzID0gW107XG4gIHZhciBlZGdlTm9ybWFscztcblxuICBpZiAoUGxhbmUuZ2V0UG9pbnREaXN0YW5jZSh0aGlzLl9ib3VuZGluZ1BsYW5lc1swXSwgcG9pbnQpID4gMCkge1xuICAgIHNlbGVjdGVkUGxhbmVJbmRpY2VzLnB1c2goMCk7XG4gICAgdmVydGljZXMucHVzaCh0aGlzLl9wbGFuZVZlcnRpY2VzWzBdKTtcbiAgICBlZGdlTm9ybWFscyA9IHRoaXMuX2VkZ2VOb3JtYWxzWzBdO1xuICB9IGVsc2UgaWYgKFBsYW5lLmdldFBvaW50RGlzdGFuY2UodGhpcy5fYm91bmRpbmdQbGFuZXNbMV0sIHBvaW50KSA+IDApIHtcbiAgICBzZWxlY3RlZFBsYW5lSW5kaWNlcy5wdXNoKDEpO1xuICAgIHZlcnRpY2VzLnB1c2godGhpcy5fcGxhbmVWZXJ0aWNlc1sxXSk7XG4gICAgZWRnZU5vcm1hbHMgPSB0aGlzLl9lZGdlTm9ybWFsc1sxXTtcbiAgfVxuXG4gIHZhciBpO1xuICB2YXIgc2lkZVBsYW5lSW5kZXg7XG4gIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBzaWRlUGxhbmVJbmRleCA9IDIgKyBpO1xuICAgIGlmIChcbiAgICAgIFBsYW5lLmdldFBvaW50RGlzdGFuY2UodGhpcy5fYm91bmRpbmdQbGFuZXNbc2lkZVBsYW5lSW5kZXhdLCBwb2ludCkgPiAwXG4gICAgKSB7XG4gICAgICBzZWxlY3RlZFBsYW5lSW5kaWNlcy5wdXNoKHNpZGVQbGFuZUluZGV4KTtcbiAgICAgIC8vIFN0b3JlIHZlcnRpY2VzIGluIENDVyBvcmRlci5cbiAgICAgIHZlcnRpY2VzLnB1c2godGhpcy5fcGxhbmVWZXJ0aWNlc1tzaWRlUGxhbmVJbmRleF0pO1xuICAgICAgZWRnZU5vcm1hbHMgPSB0aGlzLl9lZGdlTm9ybWFsc1tzaWRlUGxhbmVJbmRleF07XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgaW5zaWRlIGFsbCBwbGFuZXMuXG4gIGlmIChzZWxlY3RlZFBsYW5lSW5kaWNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gMC4wO1xuICB9XG5cbiAgLy8gV2UgdXNlIHRoZSBza2lwIHZhcmlhYmxlIHdoZW4gdGhlIHNpZGUgcGxhbmUgaW5kaWNlcyBhcmUgbm9uLWNvbnNlY3V0aXZlLlxuICB2YXIgc2tpcDtcbiAgdmFyIGZhY2VQb2ludDtcbiAgdmFyIHNlbGVjdGVkUGxhbmU7XG4gIGlmIChzZWxlY3RlZFBsYW5lSW5kaWNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBIYW5kbGVzIENhc2UgSVxuICAgIHNlbGVjdGVkUGxhbmUgPSB0aGlzLl9ib3VuZGluZ1BsYW5lc1tzZWxlY3RlZFBsYW5lSW5kaWNlc1swXV07XG4gICAgZmFjZVBvaW50ID0gY2xvc2VzdFBvaW50UG9seWdvbihcbiAgICAgIFBsYW5lLnByb2plY3RQb2ludE9udG9QbGFuZShzZWxlY3RlZFBsYW5lLCBwb2ludCwgZmFjZVBvaW50U2NyYXRjaCksXG4gICAgICB2ZXJ0aWNlc1swXSxcbiAgICAgIHNlbGVjdGVkUGxhbmUsXG4gICAgICBlZGdlTm9ybWFsc1xuICAgICk7XG5cbiAgICByZXR1cm4gQ2FydGVzaWFuMy5kaXN0YW5jZShmYWNlUG9pbnQsIHBvaW50KTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZFBsYW5lSW5kaWNlcy5sZW5ndGggPT09IDIpIHtcbiAgICAvLyBIYW5kbGVzIENhc2UgSUlcbiAgICAvLyBTaW5jZSB3ZSBhcmUgb24gdGhlIGVsbGlwc29pZCwgdGhlIGRpaGVkcmFsIGFuZ2xlIGJldHdlZW4gYSB0b3AgcGxhbmUgYW5kIGEgc2lkZSBwbGFuZVxuICAgIC8vIHdpbGwgYWx3YXlzIGJlIGFjdXRlLCBzbyB3ZSBjYW4gZG8gYSBmYXN0ZXIgY2hlY2sgdGhlcmUuXG4gICAgaWYgKHNlbGVjdGVkUGxhbmVJbmRpY2VzWzBdID09PSAwKSB7XG4gICAgICB2YXIgZWRnZSA9IFtcbiAgICAgICAgdGhpcy5fdmVydGljZXNbXG4gICAgICAgICAgNCAqIHNlbGVjdGVkUGxhbmVJbmRpY2VzWzBdICsgKHNlbGVjdGVkUGxhbmVJbmRpY2VzWzFdIC0gMilcbiAgICAgICAgXSxcbiAgICAgICAgdGhpcy5fdmVydGljZXNbXG4gICAgICAgICAgNCAqIHNlbGVjdGVkUGxhbmVJbmRpY2VzWzBdICsgKChzZWxlY3RlZFBsYW5lSW5kaWNlc1sxXSAtIDIgKyAxKSAlIDQpXG4gICAgICAgIF0sXG4gICAgICBdO1xuICAgICAgZmFjZVBvaW50ID0gY2xvc2VzdFBvaW50TGluZVNlZ21lbnQocG9pbnQsIGVkZ2VbMF0sIGVkZ2VbMV0pO1xuICAgICAgcmV0dXJuIENhcnRlc2lhbjMuZGlzdGFuY2UoZmFjZVBvaW50LCBwb2ludCk7XG4gICAgfVxuICAgIHZhciBtaW5pbXVtRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHZhciBkaXN0YW5jZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICBzZWxlY3RlZFBsYW5lID0gdGhpcy5fYm91bmRpbmdQbGFuZXNbc2VsZWN0ZWRQbGFuZUluZGljZXNbaV1dO1xuICAgICAgZmFjZVBvaW50ID0gY2xvc2VzdFBvaW50UG9seWdvbihcbiAgICAgICAgUGxhbmUucHJvamVjdFBvaW50T250b1BsYW5lKHNlbGVjdGVkUGxhbmUsIHBvaW50LCBmYWNlUG9pbnRTY3JhdGNoKSxcbiAgICAgICAgdmVydGljZXNbaV0sXG4gICAgICAgIHNlbGVjdGVkUGxhbmUsXG4gICAgICAgIHRoaXMuX2VkZ2VOb3JtYWxzW3NlbGVjdGVkUGxhbmVJbmRpY2VzW2ldXVxuICAgICAgKTtcblxuICAgICAgZGlzdGFuY2UgPSBDYXJ0ZXNpYW4zLmRpc3RhbmNlU3F1YXJlZChmYWNlUG9pbnQsIHBvaW50KTtcbiAgICAgIGlmIChkaXN0YW5jZSA8IG1pbmltdW1EaXN0YW5jZSkge1xuICAgICAgICBtaW5pbXVtRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE1hdGguc3FydChtaW5pbXVtRGlzdGFuY2UpO1xuICB9IGVsc2UgaWYgKHNlbGVjdGVkUGxhbmVJbmRpY2VzLmxlbmd0aCA+IDMpIHtcbiAgICAvLyBIYW5kbGVzIENhc2UgSVZcbiAgICBmYWNlUG9pbnQgPSBjbG9zZXN0UG9pbnRQb2x5Z29uKFxuICAgICAgUGxhbmUucHJvamVjdFBvaW50T250b1BsYW5lKFxuICAgICAgICB0aGlzLl9ib3VuZGluZ1BsYW5lc1sxXSxcbiAgICAgICAgcG9pbnQsXG4gICAgICAgIGZhY2VQb2ludFNjcmF0Y2hcbiAgICAgICksXG4gICAgICB0aGlzLl9wbGFuZVZlcnRpY2VzWzFdLFxuICAgICAgdGhpcy5fYm91bmRpbmdQbGFuZXNbMV0sXG4gICAgICB0aGlzLl9lZGdlTm9ybWFsc1sxXVxuICAgICk7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMuZGlzdGFuY2UoZmFjZVBvaW50LCBwb2ludCk7XG4gIH1cblxuICAvLyBIYW5kbGVzIENhc2UgSUlJXG4gIHNraXAgPSBzZWxlY3RlZFBsYW5lSW5kaWNlc1sxXSA9PT0gMiAmJiBzZWxlY3RlZFBsYW5lSW5kaWNlc1syXSA9PT0gNSA/IDAgOiAxO1xuXG4gIC8vIFZlcnRleCBpcyBvbiB0b3AgcGxhbmUuXG4gIGlmIChzZWxlY3RlZFBsYW5lSW5kaWNlc1swXSA9PT0gMCkge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLmRpc3RhbmNlKFxuICAgICAgcG9pbnQsXG4gICAgICB0aGlzLl92ZXJ0aWNlc1soc2VsZWN0ZWRQbGFuZUluZGljZXNbMV0gLSAyICsgc2tpcCkgJSA0XVxuICAgICk7XG4gIH1cblxuICAvLyBWZXJ0ZXggaXMgb24gYm90dG9tIHBsYW5lLlxuICByZXR1cm4gQ2FydGVzaWFuMy5kaXN0YW5jZShcbiAgICBwb2ludCxcbiAgICB0aGlzLl92ZXJ0aWNlc1s0ICsgKChzZWxlY3RlZFBsYW5lSW5kaWNlc1sxXSAtIDIgKyBza2lwKSAlIDQpXVxuICApO1xufTtcblxudmFyIGRTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBwTDBTY3JhdGNoID0gbmV3IENhcnRlc2lhbjMoKTtcbi8qKlxuICogRmluZHMgcG9pbnQgb24gYSBsaW5lIHNlZ21lbnQgY2xvc2VzdCB0byBhIGdpdmVuIHBvaW50LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xvc2VzdFBvaW50TGluZVNlZ21lbnQocCwgbDAsIGwxKSB7XG4gIHZhciBkID0gQ2FydGVzaWFuMy5zdWJ0cmFjdChsMSwgbDAsIGRTY3JhdGNoKTtcbiAgdmFyIHBMMCA9IENhcnRlc2lhbjMuc3VidHJhY3QocCwgbDAsIHBMMFNjcmF0Y2gpO1xuICB2YXIgdCA9IENhcnRlc2lhbjMuZG90KGQsIHBMMCk7XG5cbiAgaWYgKHQgPD0gMCkge1xuICAgIHJldHVybiBsMDtcbiAgfVxuXG4gIHZhciBkTWFnID0gQ2FydGVzaWFuMy5kb3QoZCwgZCk7XG4gIGlmICh0ID49IGRNYWcpIHtcbiAgICByZXR1cm4gbDE7XG4gIH1cblxuICB0ID0gdCAvIGRNYWc7XG4gIHJldHVybiBuZXcgQ2FydGVzaWFuMyhcbiAgICAoMSAtIHQpICogbDAueCArIHQgKiBsMS54LFxuICAgICgxIC0gdCkgKiBsMC55ICsgdCAqIGwxLnksXG4gICAgKDEgLSB0KSAqIGwwLnogKyB0ICogbDEuelxuICApO1xufVxuXG52YXIgZWRnZVBsYW5lU2NyYXRjaCA9IG5ldyBQbGFuZShDYXJ0ZXNpYW4zLlVOSVRfWCwgMC4wKTtcbi8qKlxuICogRmluZHMgY2xvc2VzIHBvaW50IG9uIHRoZSBwb2x5Z29uLCBjcmVhdGVkIGJ5IHRoZSBnaXZlbiB2ZXJ0aWNlcywgZnJvbVxuICogYSBwb2ludC4gVGhlIHRlc3QgcG9pbnQgYW5kIHRoZSBwb2x5Z29uIGFyZSBhbGwgb24gdGhlIHNhbWUgcGxhbmUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbG9zZXN0UG9pbnRQb2x5Z29uKHAsIHZlcnRpY2VzLCBwbGFuZSwgZWRnZU5vcm1hbHMpIHtcbiAgdmFyIG1pbkRpc3RhbmNlID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgdmFyIGRpc3RhbmNlO1xuICB2YXIgY2xvc2VzdFBvaW50O1xuICB2YXIgY2xvc2VzdFBvaW50T25FZGdlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWRnZVBsYW5lID0gUGxhbmUuZnJvbVBvaW50Tm9ybWFsKFxuICAgICAgdmVydGljZXNbaV0sXG4gICAgICBlZGdlTm9ybWFsc1tpXSxcbiAgICAgIGVkZ2VQbGFuZVNjcmF0Y2hcbiAgICApO1xuICAgIHZhciBlZGdlUGxhbmVEaXN0YW5jZSA9IFBsYW5lLmdldFBvaW50RGlzdGFuY2UoZWRnZVBsYW5lLCBwKTtcblxuICAgIC8vIFNraXAgY2hlY2tpbmcgYWdhaW5zdCB0aGUgZWRnZSBpZiB0aGUgcG9pbnQgaXMgbm90IGluIHRoZSBoYWxmLXNwYWNlIHRoYXQgdGhlXG4gICAgLy8gZWRnZVBsYW5lJ3Mgbm9ybWFsIHBvaW50cyB0b3dhcmRzIGkuZS4gaWYgdGhlIGVkZ2VQbGFuZSBpcyBmYWNpbmcgYXdheSBmcm9tIHRoZSBwb2ludC5cbiAgICBpZiAoZWRnZVBsYW5lRGlzdGFuY2UgPCAwKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnRPbkVkZ2UgPSBjbG9zZXN0UG9pbnRMaW5lU2VnbWVudChcbiAgICAgIHAsXG4gICAgICB2ZXJ0aWNlc1tpXSxcbiAgICAgIHZlcnRpY2VzWyhpICsgMSkgJSA0XVxuICAgICk7XG5cbiAgICBkaXN0YW5jZSA9IENhcnRlc2lhbjMuZGlzdGFuY2UocCwgY2xvc2VzdFBvaW50T25FZGdlKTtcbiAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgIGNsb3Nlc3RQb2ludCA9IGNsb3Nlc3RQb2ludE9uRWRnZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWRlZmluZWQoY2xvc2VzdFBvaW50KSkge1xuICAgIHJldHVybiBwO1xuICB9XG4gIHJldHVybiBjbG9zZXN0UG9pbnQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIGEgcGxhbmUgdGhpcyB2b2x1bWUgaXMgbG9jYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1BsYW5lfSBwbGFuZSBUaGUgcGxhbmUgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybnMge0ludGVyc2VjdH0ge0BsaW5rIEludGVyc2VjdC5JTlNJREV9IGlmIHRoZSBlbnRpcmUgdm9sdW1lIGlzIG9uIHRoZSBzaWRlIG9mIHRoZSBwbGFuZVxuICogICAgICAgICAgICAgICAgICAgICAgdGhlIG5vcm1hbCBpcyBwb2ludGluZywge0BsaW5rIEludGVyc2VjdC5PVVRTSURFfSBpZiB0aGUgZW50aXJlIHZvbHVtZSBpc1xuICogICAgICAgICAgICAgICAgICAgICAgb24gdGhlIG9wcG9zaXRlIHNpZGUsIGFuZCB7QGxpbmsgSW50ZXJzZWN0LklOVEVSU0VDVElOR30gaWYgdGhlIHZvbHVtZVxuICogICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0cyB0aGUgcGxhbmUuXG4gKi9cblRpbGVCb3VuZGluZ1MyQ2VsbC5wcm90b3R5cGUuaW50ZXJzZWN0UGxhbmUgPSBmdW5jdGlvbiAocGxhbmUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcInBsYW5lXCIsIHBsYW5lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHBsdXNDb3VudCA9IDA7XG4gIHZhciBuZWdDb3VudCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGlzdGFuY2VUb1BsYW5lID1cbiAgICAgIENhcnRlc2lhbjMuZG90KHBsYW5lLm5vcm1hbCwgdGhpcy5fdmVydGljZXNbaV0pICsgcGxhbmUuZGlzdGFuY2U7XG4gICAgaWYgKGRpc3RhbmNlVG9QbGFuZSA8IDApIHtcbiAgICAgIG5lZ0NvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsdXNDb3VudCsrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwbHVzQ291bnQgPT09IHRoaXMuX3ZlcnRpY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBJbnRlcnNlY3QuSU5TSURFO1xuICB9IGVsc2UgaWYgKG5lZ0NvdW50ID09PSB0aGlzLl92ZXJ0aWNlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gSW50ZXJzZWN0Lk9VVFNJREU7XG4gIH1cbiAgcmV0dXJuIEludGVyc2VjdC5JTlRFUlNFQ1RJTkc7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJ1ZyBwcmltaXRpdmUgdGhhdCBzaG93cyB0aGUgb3V0bGluZSBvZiB0aGUgdGlsZSBib3VuZGluZ1xuICogdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIFRoZSBkZXNpcmVkIGNvbG9yIG9mIHRoZSBwcmltaXRpdmUncyBtZXNoXG4gKiBAcmV0dXJuIHtQcmltaXRpdmV9XG4gKi9cblRpbGVCb3VuZGluZ1MyQ2VsbC5wcm90b3R5cGUuY3JlYXRlRGVidWdWb2x1bWUgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcImNvbG9yXCIsIGNvbG9yKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIG1vZGVsTWF0cml4ID0gbmV3IE1hdHJpeDQuY2xvbmUoTWF0cml4NC5JREVOVElUWSk7XG4gIHZhciB0b3BQbGFuZVBvbHlnb24gPSBuZXcgQ29wbGFuYXJQb2x5Z29uT3V0bGluZUdlb21ldHJ5KHtcbiAgICBwb2x5Z29uSGllcmFyY2h5OiB7XG4gICAgICBwb3NpdGlvbnM6IHRoaXMuX3BsYW5lVmVydGljZXNbMF0sXG4gICAgfSxcbiAgfSk7XG4gIHZhciB0b3BQbGFuZUdlb21ldHJ5ID0gQ29wbGFuYXJQb2x5Z29uT3V0bGluZUdlb21ldHJ5LmNyZWF0ZUdlb21ldHJ5KFxuICAgIHRvcFBsYW5lUG9seWdvblxuICApO1xuICB2YXIgdG9wUGxhbmVJbnN0YW5jZSA9IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICBnZW9tZXRyeTogdG9wUGxhbmVHZW9tZXRyeSxcbiAgICBpZDogXCJvdXRsaW5lXCIsXG4gICAgbW9kZWxNYXRyaXg6IG1vZGVsTWF0cml4LFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIGNvbG9yOiBDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNvbG9yKGNvbG9yKSxcbiAgICB9LFxuICB9KTtcblxuICB2YXIgYm90dG9tUGxhbmVQb2x5Z29uID0gbmV3IENvcGxhbmFyUG9seWdvbk91dGxpbmVHZW9tZXRyeSh7XG4gICAgcG9seWdvbkhpZXJhcmNoeToge1xuICAgICAgcG9zaXRpb25zOiB0aGlzLl9wbGFuZVZlcnRpY2VzWzFdLFxuICAgIH0sXG4gIH0pO1xuICB2YXIgYm90dG9tUGxhbmVHZW9tZXRyeSA9IENvcGxhbmFyUG9seWdvbk91dGxpbmVHZW9tZXRyeS5jcmVhdGVHZW9tZXRyeShcbiAgICBib3R0b21QbGFuZVBvbHlnb25cbiAgKTtcbiAgdmFyIGJvdHRvbVBsYW5lSW5zdGFuY2UgPSBuZXcgR2VvbWV0cnlJbnN0YW5jZSh7XG4gICAgZ2VvbWV0cnk6IGJvdHRvbVBsYW5lR2VvbWV0cnksXG4gICAgaWQ6IFwib3V0bGluZVwiLFxuICAgIG1vZGVsTWF0cml4OiBtb2RlbE1hdHJpeCxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICBjb2xvcjogQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcihjb2xvciksXG4gICAgfSxcbiAgfSk7XG5cbiAgdmFyIHNpZGVJbnN0YW5jZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICB2YXIgc2lkZVBsYW5lUG9seWdvbiA9IG5ldyBDb3BsYW5hclBvbHlnb25PdXRsaW5lR2VvbWV0cnkoe1xuICAgICAgcG9seWdvbkhpZXJhcmNoeToge1xuICAgICAgICBwb3NpdGlvbnM6IHRoaXMuX3BsYW5lVmVydGljZXNbMiArIGldLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICB2YXIgc2lkZVBsYW5lR2VvbWV0cnkgPSBDb3BsYW5hclBvbHlnb25PdXRsaW5lR2VvbWV0cnkuY3JlYXRlR2VvbWV0cnkoXG4gICAgICBzaWRlUGxhbmVQb2x5Z29uXG4gICAgKTtcbiAgICBzaWRlSW5zdGFuY2VzW2ldID0gbmV3IEdlb21ldHJ5SW5zdGFuY2Uoe1xuICAgICAgZ2VvbWV0cnk6IHNpZGVQbGFuZUdlb21ldHJ5LFxuICAgICAgaWQ6IFwib3V0bGluZVwiLFxuICAgICAgbW9kZWxNYXRyaXg6IG1vZGVsTWF0cml4LFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBjb2xvcjogQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcihjb2xvciksXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcmltaXRpdmUoe1xuICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBbXG4gICAgICBzaWRlSW5zdGFuY2VzWzBdLFxuICAgICAgc2lkZUluc3RhbmNlc1sxXSxcbiAgICAgIHNpZGVJbnN0YW5jZXNbMl0sXG4gICAgICBzaWRlSW5zdGFuY2VzWzNdLFxuICAgICAgYm90dG9tUGxhbmVJbnN0YW5jZSxcbiAgICAgIHRvcFBsYW5lSW5zdGFuY2UsXG4gICAgXSxcbiAgICBhcHBlYXJhbmNlOiBuZXcgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2Uoe1xuICAgICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgICAgZmxhdDogdHJ1ZSxcbiAgICB9KSxcbiAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVCb3VuZGluZ1MyQ2VsbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96811\n')},60516:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48243);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(92062);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(26865);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72248);\n/* harmony import */ var _Core_SphereOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(38779);\n/* harmony import */ var _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(64060);\n/* harmony import */ var _Primitive_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(34380);\n\n\n\n\n\n\n\n\n\n\n\n/**\n * A tile bounding volume specified as a sphere.\n * @alias TileBoundingSphere\n * @constructor\n *\n * @param {Cartesian3} [center=Cartesian3.ZERO] The center of the bounding sphere.\n * @param {Number} [radius=0.0] The radius of the bounding sphere.\n *\n * @private\n */\nfunction TileBoundingSphere(center, radius) {\n  if (radius === 0) {\n    radius = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].EPSILON7 */ .Z.EPSILON7;\n  }\n  this._boundingSphere = new _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(center, radius);\n}\n\nObject.defineProperties(TileBoundingSphere.prototype, {\n  /**\n   * The center of the bounding sphere\n   *\n   * @memberof TileBoundingSphere.prototype\n   *\n   * @type {Cartesian3}\n   * @readonly\n   */\n  center: {\n    get: function () {\n      return this._boundingSphere.center;\n    },\n  },\n\n  /**\n   * The radius of the bounding sphere\n   *\n   * @memberof TileBoundingSphere.prototype\n   *\n   * @type {Number}\n   * @readonly\n   */\n  radius: {\n    get: function () {\n      return this._boundingSphere.radius;\n    },\n  },\n\n  /**\n   * The underlying bounding volume\n   *\n   * @memberof TileBoundingSphere.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  boundingVolume: {\n    get: function () {\n      return this._boundingSphere;\n    },\n  },\n  /**\n   * The underlying bounding sphere\n   *\n   * @memberof TileBoundingSphere.prototype\n   *\n   * @type {BoundingSphere}\n   * @readonly\n   */\n  boundingSphere: {\n    get: function () {\n      return this._boundingSphere;\n    },\n  },\n});\n\n/**\n * Computes the distance between this bounding sphere and the camera attached to frameState.\n *\n * @param {FrameState} frameState The frameState to which the camera is attached.\n * @returns {Number} The distance between the camera and the bounding sphere in meters. Returns 0 if the camera is inside the bounding volume.\n *\n */\nTileBoundingSphere.prototype.distanceToCamera = function (frameState) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("frameState", frameState);\n  //>>includeEnd(\'debug\');\n  var boundingSphere = this._boundingSphere;\n  return Math.max(\n    0.0,\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].distance */ .Z.distance(boundingSphere.center, frameState.camera.positionWC) -\n      boundingSphere.radius\n  );\n};\n\n/**\n * Determines which side of a plane this sphere is located.\n *\n * @param {Plane} plane The plane to test against.\n * @returns {Intersect} {@link Intersect.INSIDE} if the entire sphere is on the side of the plane\n *                      the normal is pointing, {@link Intersect.OUTSIDE} if the entire sphere is\n *                      on the opposite side, and {@link Intersect.INTERSECTING} if the sphere\n *                      intersects the plane.\n */\nTileBoundingSphere.prototype.intersectPlane = function (plane) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("plane", plane);\n  //>>includeEnd(\'debug\');\n  return _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].intersectPlane */ .Z.intersectPlane(this._boundingSphere, plane);\n};\n\n/**\n * Update the bounding sphere after the tile is transformed.\n *\n * @param {Cartesian3} center The center of the bounding sphere.\n * @param {Number} radius The radius of the bounding sphere.\n */\nTileBoundingSphere.prototype.update = function (center, radius) {\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].clone */ .Z.clone(center, this._boundingSphere.center);\n  this._boundingSphere.radius = radius;\n};\n\n/**\n * Creates a debug primitive that shows the outline of the sphere.\n *\n * @param {Color} color The desired color of the primitive\'s mesh\n * @return {Primitive}\n */\nTileBoundingSphere.prototype.createDebugVolume = function (color) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("color", color);\n  //>>includeEnd(\'debug\');\n  var geometry = new _Core_SphereOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n    radius: this.radius,\n  });\n  var modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].fromTranslation */ .Z.fromTranslation(\n    this.center,\n    new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].clone */ .Z.clone(_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].IDENTITY */ .Z.IDENTITY)\n  );\n  var instance = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    geometry: geometry,\n    id: "outline",\n    modelMatrix: modelMatrix,\n    attributes: {\n      color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromColor */ .Z.fromColor(color),\n    },\n  });\n\n  return new _Primitive_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    geometryInstances: instance,\n    appearance: new _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z({\n      translucent: false,\n      flat: true,\n    }),\n    asynchronous: false,\n  });\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TileBoundingSphere);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA1MTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF1RDtBQUNSO0FBQ1Y7QUFDa0Q7QUFDNUI7QUFDbEI7QUFDQTtBQUM0QjtBQUNJO0FBQ2xDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRkFBbUI7QUFDaEM7QUFDQSw2QkFBNkIsd0VBQWM7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwrRUFBYTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxzRkFBbUI7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFlBQVksd0JBQXdCO0FBQ2pELGlEQUFpRCx5QkFBeUI7QUFDMUUsbURBQW1ELDhCQUE4QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsK0VBQWE7QUFDZjtBQUNBLFNBQVMsc0dBQTZCO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLEVBQUUsZ0ZBQWdCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxFQUFFLCtFQUFhO0FBQ2Y7QUFDQSxxQkFBcUIsK0VBQXFCO0FBQzFDO0FBQ0EsR0FBRztBQUNILG9CQUFvQixpR0FBdUI7QUFDM0M7QUFDQSxRQUFRLDZFQUFhLENBQUMsbUZBQWdCO0FBQ3RDO0FBQ0EscUJBQXFCLDBFQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEdBQXdDO0FBQ3JELEtBQUs7QUFDTCxHQUFHOztBQUVILGFBQWEsOERBQVM7QUFDdEI7QUFDQSxvQkFBb0IsK0VBQTBCO0FBQzlDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQSx5REFBZSxrQkFBa0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9UaWxlQm91bmRpbmdTcGhlcmUuanM/ZTczNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm91bmRpbmdTcGhlcmUgZnJvbSBcIi4uL0NvcmUvQm91bmRpbmdTcGhlcmUuanNcIjtcbmltcG9ydCBDYXJ0ZXNpYW4zIGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjMuanNcIjtcbmltcG9ydCBDaGVjayBmcm9tIFwiLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZSBmcm9tIFwiLi4vQ29yZS9Db2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuanNcIjtcbmltcG9ydCBHZW9tZXRyeUluc3RhbmNlIGZyb20gXCIuLi9Db3JlL0dlb21ldHJ5SW5zdGFuY2UuanNcIjtcbmltcG9ydCBDZXNpdW1NYXRoIGZyb20gXCIuLi9Db3JlL01hdGguanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBTcGhlcmVPdXRsaW5lR2VvbWV0cnkgZnJvbSBcIi4uL0NvcmUvU3BoZXJlT3V0bGluZUdlb21ldHJ5LmpzXCI7XG5pbXBvcnQgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UgZnJvbSBcIi4vUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UuanNcIjtcbmltcG9ydCBQcmltaXRpdmUgZnJvbSBcIi4vUHJpbWl0aXZlLmpzXCI7XG5cbi8qKlxuICogQSB0aWxlIGJvdW5kaW5nIHZvbHVtZSBzcGVjaWZpZWQgYXMgYSBzcGhlcmUuXG4gKiBAYWxpYXMgVGlsZUJvdW5kaW5nU3BoZXJlXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge0NhcnRlc2lhbjN9IFtjZW50ZXI9Q2FydGVzaWFuMy5aRVJPXSBUaGUgY2VudGVyIG9mIHRoZSBib3VuZGluZyBzcGhlcmUuXG4gKiBAcGFyYW0ge051bWJlcn0gW3JhZGl1cz0wLjBdIFRoZSByYWRpdXMgb2YgdGhlIGJvdW5kaW5nIHNwaGVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBUaWxlQm91bmRpbmdTcGhlcmUoY2VudGVyLCByYWRpdXMpIHtcbiAgaWYgKHJhZGl1cyA9PT0gMCkge1xuICAgIHJhZGl1cyA9IENlc2l1bU1hdGguRVBTSUxPTjc7XG4gIH1cbiAgdGhpcy5fYm91bmRpbmdTcGhlcmUgPSBuZXcgQm91bmRpbmdTcGhlcmUoY2VudGVyLCByYWRpdXMpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUaWxlQm91bmRpbmdTcGhlcmUucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBUaGUgY2VudGVyIG9mIHRoZSBib3VuZGluZyBzcGhlcmVcbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVCb3VuZGluZ1NwaGVyZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NhcnRlc2lhbjN9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgY2VudGVyOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYm91bmRpbmdTcGhlcmUuY2VudGVyO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSByYWRpdXMgb2YgdGhlIGJvdW5kaW5nIHNwaGVyZVxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGlsZUJvdW5kaW5nU3BoZXJlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJhZGl1czoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kaW5nU3BoZXJlLnJhZGl1cztcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgdW5kZXJseWluZyBib3VuZGluZyB2b2x1bWVcbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVCb3VuZGluZ1NwaGVyZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBib3VuZGluZ1ZvbHVtZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kaW5nU3BoZXJlO1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBUaGUgdW5kZXJseWluZyBib3VuZGluZyBzcGhlcmVcbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVCb3VuZGluZ1NwaGVyZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0JvdW5kaW5nU3BoZXJlfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGJvdW5kaW5nU3BoZXJlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYm91bmRpbmdTcGhlcmU7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoaXMgYm91bmRpbmcgc3BoZXJlIGFuZCB0aGUgY2FtZXJhIGF0dGFjaGVkIHRvIGZyYW1lU3RhdGUuXG4gKlxuICogQHBhcmFtIHtGcmFtZVN0YXRlfSBmcmFtZVN0YXRlIFRoZSBmcmFtZVN0YXRlIHRvIHdoaWNoIHRoZSBjYW1lcmEgaXMgYXR0YWNoZWQuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY2FtZXJhIGFuZCB0aGUgYm91bmRpbmcgc3BoZXJlIGluIG1ldGVycy4gUmV0dXJucyAwIGlmIHRoZSBjYW1lcmEgaXMgaW5zaWRlIHRoZSBib3VuZGluZyB2b2x1bWUuXG4gKlxuICovXG5UaWxlQm91bmRpbmdTcGhlcmUucHJvdG90eXBlLmRpc3RhbmNlVG9DYW1lcmEgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiZnJhbWVTdGF0ZVwiLCBmcmFtZVN0YXRlKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gIHZhciBib3VuZGluZ1NwaGVyZSA9IHRoaXMuX2JvdW5kaW5nU3BoZXJlO1xuICByZXR1cm4gTWF0aC5tYXgoXG4gICAgMC4wLFxuICAgIENhcnRlc2lhbjMuZGlzdGFuY2UoYm91bmRpbmdTcGhlcmUuY2VudGVyLCBmcmFtZVN0YXRlLmNhbWVyYS5wb3NpdGlvbldDKSAtXG4gICAgICBib3VuZGluZ1NwaGVyZS5yYWRpdXNcbiAgKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIGEgcGxhbmUgdGhpcyBzcGhlcmUgaXMgbG9jYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1BsYW5lfSBwbGFuZSBUaGUgcGxhbmUgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybnMge0ludGVyc2VjdH0ge0BsaW5rIEludGVyc2VjdC5JTlNJREV9IGlmIHRoZSBlbnRpcmUgc3BoZXJlIGlzIG9uIHRoZSBzaWRlIG9mIHRoZSBwbGFuZVxuICogICAgICAgICAgICAgICAgICAgICAgdGhlIG5vcm1hbCBpcyBwb2ludGluZywge0BsaW5rIEludGVyc2VjdC5PVVRTSURFfSBpZiB0aGUgZW50aXJlIHNwaGVyZSBpc1xuICogICAgICAgICAgICAgICAgICAgICAgb24gdGhlIG9wcG9zaXRlIHNpZGUsIGFuZCB7QGxpbmsgSW50ZXJzZWN0LklOVEVSU0VDVElOR30gaWYgdGhlIHNwaGVyZVxuICogICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0cyB0aGUgcGxhbmUuXG4gKi9cblRpbGVCb3VuZGluZ1NwaGVyZS5wcm90b3R5cGUuaW50ZXJzZWN0UGxhbmUgPSBmdW5jdGlvbiAocGxhbmUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcInBsYW5lXCIsIHBsYW5lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gIHJldHVybiBCb3VuZGluZ1NwaGVyZS5pbnRlcnNlY3RQbGFuZSh0aGlzLl9ib3VuZGluZ1NwaGVyZSwgcGxhbmUpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHNwaGVyZSBhZnRlciB0aGUgdGlsZSBpcyB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcGFyYW0ge0NhcnRlc2lhbjN9IGNlbnRlciBUaGUgY2VudGVyIG9mIHRoZSBib3VuZGluZyBzcGhlcmUuXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzIFRoZSByYWRpdXMgb2YgdGhlIGJvdW5kaW5nIHNwaGVyZS5cbiAqL1xuVGlsZUJvdW5kaW5nU3BoZXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoY2VudGVyLCByYWRpdXMpIHtcbiAgQ2FydGVzaWFuMy5jbG9uZShjZW50ZXIsIHRoaXMuX2JvdW5kaW5nU3BoZXJlLmNlbnRlcik7XG4gIHRoaXMuX2JvdW5kaW5nU3BoZXJlLnJhZGl1cyA9IHJhZGl1cztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYnVnIHByaW1pdGl2ZSB0aGF0IHNob3dzIHRoZSBvdXRsaW5lIG9mIHRoZSBzcGhlcmUuXG4gKlxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgVGhlIGRlc2lyZWQgY29sb3Igb2YgdGhlIHByaW1pdGl2ZSdzIG1lc2hcbiAqIEByZXR1cm4ge1ByaW1pdGl2ZX1cbiAqL1xuVGlsZUJvdW5kaW5nU3BoZXJlLnByb3RvdHlwZS5jcmVhdGVEZWJ1Z1ZvbHVtZSA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiY29sb3JcIiwgY29sb3IpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgdmFyIGdlb21ldHJ5ID0gbmV3IFNwaGVyZU91dGxpbmVHZW9tZXRyeSh7XG4gICAgcmFkaXVzOiB0aGlzLnJhZGl1cyxcbiAgfSk7XG4gIHZhciBtb2RlbE1hdHJpeCA9IE1hdHJpeDQuZnJvbVRyYW5zbGF0aW9uKFxuICAgIHRoaXMuY2VudGVyLFxuICAgIG5ldyBNYXRyaXg0LmNsb25lKE1hdHJpeDQuSURFTlRJVFkpXG4gICk7XG4gIHZhciBpbnN0YW5jZSA9IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgaWQ6IFwib3V0bGluZVwiLFxuICAgIG1vZGVsTWF0cml4OiBtb2RlbE1hdHJpeCxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICBjb2xvcjogQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcihjb2xvciksXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBQcmltaXRpdmUoe1xuICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBpbnN0YW5jZSxcbiAgICBhcHBlYXJhbmNlOiBuZXcgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2Uoe1xuICAgICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgICAgZmxhdDogdHJ1ZSxcbiAgICB9KSxcbiAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxuICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCBUaWxlQm91bmRpbmdTcGhlcmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///60516\n')},36037:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12572);\n\n\n/**\n * Defines a bounding volume for a tile. This type describes an interface\n * and is not intended to be instantiated directly.\n *\n * @alias TileBoundingVolume\n * @constructor\n *\n * @see TileBoundingRegion\n * @see TileBoundingSphere\n * @see TileOrientedBoundingBox\n *\n * @private\n */\nfunction TileBoundingVolume() {}\n\n/**\n * The underlying bounding volume.\n *\n * @type {Object}\n * @readonly\n */\nTileBoundingVolume.prototype.boundingVolume = undefined;\n\n/**\n * The underlying bounding sphere.\n *\n * @type {BoundingSphere}\n * @readonly\n */\nTileBoundingVolume.prototype.boundingSphere = undefined;\n\n/**\n * Calculates the distance between the tile and the camera.\n *\n * @param {FrameState} frameState The frame state.\n * @return {Number} The distance between the tile and the camera, in meters.\n *                  Returns 0.0 if the camera is inside the tile.\n */\nTileBoundingVolume.prototype.distanceToCamera = function (frameState) {\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError();\n};\n\n/**\n * Determines which side of a plane this volume is located.\n *\n * @param {Plane} plane The plane to test against.\n * @returns {Intersect} {@link Intersect.INSIDE} if the entire volume is on the side of the plane\n *                      the normal is pointing, {@link Intersect.OUTSIDE} if the entire volume is\n *                      on the opposite side, and {@link Intersect.INTERSECTING} if the volume\n *                      intersects the plane.\n */\nTileBoundingVolume.prototype.intersectPlane = function (plane) {\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError();\n};\n\n/**\n * Creates a debug primitive that shows the outline of the tile bounding\n * volume.\n *\n * @param {Color} color The desired color of the primitive\'s mesh\n * @return {Primitive}\n */\nTileBoundingVolume.prototype.createDebugVolume = function (color) {\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError();\n};\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (TileBoundingVolume)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYwMzcuanMiLCJtYXBwaW5ncyI6IjtBQUF1RDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxFQUFFLHdIQUFzQztBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxZQUFZLHdCQUF3QjtBQUNqRCxpREFBaUQseUJBQXlCO0FBQzFFLG1EQUFtRCw4QkFBOEI7QUFDakY7QUFDQTtBQUNBO0FBQ0EsRUFBRSx3SEFBc0M7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7QUFDQSxFQUFFLHdIQUFzQztBQUN4QztBQUNBLHNFQUFlLGtFQUFrQixJQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL1RpbGVCb3VuZGluZ1ZvbHVtZS5qcz81OTMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuXG4vKipcbiAqIERlZmluZXMgYSBib3VuZGluZyB2b2x1bWUgZm9yIGEgdGlsZS4gVGhpcyB0eXBlIGRlc2NyaWJlcyBhbiBpbnRlcmZhY2VcbiAqIGFuZCBpcyBub3QgaW50ZW5kZWQgdG8gYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICpcbiAqIEBhbGlhcyBUaWxlQm91bmRpbmdWb2x1bWVcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBzZWUgVGlsZUJvdW5kaW5nUmVnaW9uXG4gKiBAc2VlIFRpbGVCb3VuZGluZ1NwaGVyZVxuICogQHNlZSBUaWxlT3JpZW50ZWRCb3VuZGluZ0JveFxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFRpbGVCb3VuZGluZ1ZvbHVtZSgpIHt9XG5cbi8qKlxuICogVGhlIHVuZGVybHlpbmcgYm91bmRpbmcgdm9sdW1lLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqL1xuVGlsZUJvdW5kaW5nVm9sdW1lLnByb3RvdHlwZS5ib3VuZGluZ1ZvbHVtZSA9IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgdW5kZXJseWluZyBib3VuZGluZyBzcGhlcmUuXG4gKlxuICogQHR5cGUge0JvdW5kaW5nU3BoZXJlfVxuICogQHJlYWRvbmx5XG4gKi9cblRpbGVCb3VuZGluZ1ZvbHVtZS5wcm90b3R5cGUuYm91bmRpbmdTcGhlcmUgPSB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdGlsZSBhbmQgdGhlIGNhbWVyYS5cbiAqXG4gKiBAcGFyYW0ge0ZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgVGhlIGZyYW1lIHN0YXRlLlxuICogQHJldHVybiB7TnVtYmVyfSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdGlsZSBhbmQgdGhlIGNhbWVyYSwgaW4gbWV0ZXJzLlxuICogICAgICAgICAgICAgICAgICBSZXR1cm5zIDAuMCBpZiB0aGUgY2FtZXJhIGlzIGluc2lkZSB0aGUgdGlsZS5cbiAqL1xuVGlsZUJvdW5kaW5nVm9sdW1lLnByb3RvdHlwZS5kaXN0YW5jZVRvQ2FtZXJhID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IoKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIGEgcGxhbmUgdGhpcyB2b2x1bWUgaXMgbG9jYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1BsYW5lfSBwbGFuZSBUaGUgcGxhbmUgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybnMge0ludGVyc2VjdH0ge0BsaW5rIEludGVyc2VjdC5JTlNJREV9IGlmIHRoZSBlbnRpcmUgdm9sdW1lIGlzIG9uIHRoZSBzaWRlIG9mIHRoZSBwbGFuZVxuICogICAgICAgICAgICAgICAgICAgICAgdGhlIG5vcm1hbCBpcyBwb2ludGluZywge0BsaW5rIEludGVyc2VjdC5PVVRTSURFfSBpZiB0aGUgZW50aXJlIHZvbHVtZSBpc1xuICogICAgICAgICAgICAgICAgICAgICAgb24gdGhlIG9wcG9zaXRlIHNpZGUsIGFuZCB7QGxpbmsgSW50ZXJzZWN0LklOVEVSU0VDVElOR30gaWYgdGhlIHZvbHVtZVxuICogICAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0cyB0aGUgcGxhbmUuXG4gKi9cblRpbGVCb3VuZGluZ1ZvbHVtZS5wcm90b3R5cGUuaW50ZXJzZWN0UGxhbmUgPSBmdW5jdGlvbiAocGxhbmUpIHtcbiAgRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IoKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYnVnIHByaW1pdGl2ZSB0aGF0IHNob3dzIHRoZSBvdXRsaW5lIG9mIHRoZSB0aWxlIGJvdW5kaW5nXG4gKiB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHtDb2xvcn0gY29sb3IgVGhlIGRlc2lyZWQgY29sb3Igb2YgdGhlIHByaW1pdGl2ZSdzIG1lc2hcbiAqIEByZXR1cm4ge1ByaW1pdGl2ZX1cbiAqL1xuVGlsZUJvdW5kaW5nVm9sdW1lLnByb3RvdHlwZS5jcmVhdGVEZWJ1Z1ZvbHVtZSA9IGZ1bmN0aW9uIChjb2xvcikge1xuICBEZXZlbG9wZXJFcnJvci50aHJvd0luc3RhbnRpYXRpb25FcnJvcigpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVCb3VuZGluZ1ZvbHVtZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36037\n')},78973:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14459);\n/* harmony import */ var _Core_GeographicTilingScheme_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71351);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13222);\n\n\n\n\n\n\n\n/**\n * @typedef {Object} TileCoordinatesImageryProvider.ConstructorOptions\n *\n * Initialization options for the TileCoordinatesImageryProvider constructor\n *\n * @property {TilingScheme} [tilingScheme=new GeographicTilingScheme()] The tiling scheme for which to draw tiles.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If the tilingScheme is specified,\n *                    this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither\n *                    parameter is specified, the WGS84 ellipsoid is used.\n * @property {Color} [color=Color.YELLOW] The color to draw the tile box and label.\n * @property {Number} [tileWidth=256] The width of the tile for level-of-detail selection purposes.\n * @property {Number} [tileHeight=256] The height of the tile for level-of-detail selection purposes.\n */\n\n/**\n * An {@link ImageryProvider} that draws a box around every rendered tile in the tiling scheme, and draws\n * a label inside it indicating the X, Y, Level coordinates of the tile.  This is mostly useful for\n * debugging terrain and imagery rendering problems.\n *\n * @alias TileCoordinatesImageryProvider\n * @constructor\n *\n * @param {TileCoordinatesImageryProvider.ConstructorOptions} [options] Object describing initialization options\n */\nfunction TileCoordinatesImageryProvider(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  this._tilingScheme = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.tilingScheme)\n    ? options.tilingScheme\n    : new _Core_GeographicTilingScheme_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({ ellipsoid: options.ellipsoid });\n  this._color = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.color, _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].YELLOW */ .Z.YELLOW);\n  this._errorEvent = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n  this._tileWidth = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.tileWidth, 256);\n  this._tileHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.tileHeight, 256);\n  this._readyPromise = _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].resolve */ .Z.resolve(true);\n\n  /**\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultNightAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultDayAlpha = undefined;\n\n  /**\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\n   * makes the imagery darker while greater than 1.0 makes it brighter.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultBrightness = undefined;\n\n  /**\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\n   * the contrast while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultContrast = undefined;\n\n  /**\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultHue = undefined;\n\n  /**\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\n   * saturation while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultSaturation = undefined;\n\n  /**\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultGamma = undefined;\n\n  /**\n   * The default texture minification filter to apply to this provider.\n   *\n   * @type {TextureMinificationFilter}\n   * @default undefined\n   */\n  this.defaultMinificationFilter = undefined;\n\n  /**\n   * The default texture magnification filter to apply to this provider.\n   *\n   * @type {TextureMagnificationFilter}\n   * @default undefined\n   */\n  this.defaultMagnificationFilter = undefined;\n}\n\nObject.defineProperties(TileCoordinatesImageryProvider.prototype, {\n  /**\n   * Gets the proxy used by this provider.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Proxy}\n   * @readonly\n   */\n  proxy: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the width of each tile, in pixels. This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileWidth: {\n    get: function () {\n      return this._tileWidth;\n    },\n  },\n\n  /**\n   * Gets the height of each tile, in pixels.  This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileHeight: {\n    get: function () {\n      return this._tileHeight;\n    },\n  },\n\n  /**\n   * Gets the maximum level-of-detail that can be requested.  This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Number|undefined}\n   * @readonly\n   */\n  maximumLevel: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the minimum level-of-detail that can be requested.  This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  minimumLevel: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the tiling scheme used by this provider.  This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {TilingScheme}\n   * @readonly\n   */\n  tilingScheme: {\n    get: function () {\n      return this._tilingScheme;\n    },\n  },\n\n  /**\n   * Gets the rectangle, in radians, of the imagery provided by this instance.  This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Rectangle}\n   * @readonly\n   */\n  rectangle: {\n    get: function () {\n      return this._tilingScheme.rectangle;\n    },\n  },\n\n  /**\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\n   * for filtering out "missing" tiles via its shouldDiscardImage function.  If this function\n   * returns undefined, no tiles are filtered.  This function should\n   * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {TileDiscardPolicy}\n   * @readonly\n   */\n  tileDiscardPolicy: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error.  By subscribing\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\n   * are passed an instance of {@link TileProviderError}.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Event}\n   * @readonly\n   */\n  errorEvent: {\n    get: function () {\n      return this._errorEvent;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the provider is ready for use.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return true;\n    },\n  },\n\n  /**\n   * Gets a promise that resolves to true when the provider is ready for use.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Promise.<Boolean>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._readyPromise;\n    },\n  },\n\n  /**\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\n   * the source of the imagery.  This function should not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Credit}\n   * @readonly\n   */\n  credit: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the images provided by this imagery provider\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\n   * as if their alpha is 1.0 everywhere.  Setting this property to false reduces memory usage\n   * and texture upload time.\n   * @memberof TileCoordinatesImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  hasAlphaChannel: {\n    get: function () {\n      return true;\n    },\n  },\n});\n\n/**\n * Gets the credits to be displayed when a given tile is displayed.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level;\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\n *\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\n */\nTileCoordinatesImageryProvider.prototype.getTileCredits = function (\n  x,\n  y,\n  level\n) {\n  return undefined;\n};\n\n/**\n * Requests the image for a given tile.  This function should\n * not be called before {@link TileCoordinatesImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if there are too many active requests to the server, and the request\n *          should be retried later.  The resolved image may be either an\n *          Image or a Canvas DOM object.\n */\nTileCoordinatesImageryProvider.prototype.requestImage = function (\n  x,\n  y,\n  level,\n  request\n) {\n  var canvas = document.createElement("canvas");\n  canvas.width = 256;\n  canvas.height = 256;\n  var context = canvas.getContext("2d");\n\n  var cssColor = this._color.toCssColorString();\n\n  context.strokeStyle = cssColor;\n  context.lineWidth = 2;\n  context.strokeRect(1, 1, 255, 255);\n\n  context.font = "bold 25px Arial";\n  context.textAlign = "center";\n  context.fillStyle = cssColor;\n  context.fillText("L: " + level, 124, 86);\n  context.fillText("X: " + x, 124, 136);\n  context.fillText("Y: " + y, 124, 186);\n\n  return canvas;\n};\n\n/**\n * Picking features is not currently supported by this imagery provider, so this function simply returns\n * undefined.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Number} longitude The longitude at which to pick features.\n * @param {Number} latitude  The latitude at which to pick features.\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\n *                   instances.  The array may be empty if no features are found at the given location.\n *                   It may also be undefined if picking is not supported.\n */\nTileCoordinatesImageryProvider.prototype.pickFeatures = function (\n  x,\n  y,\n  level,\n  longitude,\n  latitude\n) {\n  return undefined;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TileCoordinatesImageryProvider);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLmpzPzM2ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbG9yIGZyb20gXCIuLi9Db3JlL0NvbG9yLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9Db3JlL0V2ZW50LmpzXCI7XG5pbXBvcnQgR2VvZ3JhcGhpY1RpbGluZ1NjaGVtZSBmcm9tIFwiLi4vQ29yZS9HZW9ncmFwaGljVGlsaW5nU2NoZW1lLmpzXCI7XG5pbXBvcnQgd2hlbiBmcm9tIFwiLi4vVGhpcmRQYXJ0eS93aGVuLmpzXCI7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLkNvbnN0cnVjdG9yT3B0aW9uc1xuICpcbiAqIEluaXRpYWxpemF0aW9uIG9wdGlvbnMgZm9yIHRoZSBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIgY29uc3RydWN0b3JcbiAqXG4gKiBAcHJvcGVydHkge1RpbGluZ1NjaGVtZX0gW3RpbGluZ1NjaGVtZT1uZXcgR2VvZ3JhcGhpY1RpbGluZ1NjaGVtZSgpXSBUaGUgdGlsaW5nIHNjaGVtZSBmb3Igd2hpY2ggdG8gZHJhdyB0aWxlcy5cbiAqIEBwcm9wZXJ0eSB7RWxsaXBzb2lkfSBbZWxsaXBzb2lkXSBUaGUgZWxsaXBzb2lkLiAgSWYgdGhlIHRpbGluZ1NjaGVtZSBpcyBzcGVjaWZpZWQsXG4gKiAgICAgICAgICAgICAgICAgICAgdGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBhbmQgdGhlIHRpbGluZyBzY2hlbWUncyBlbGxpcHNvaWQgaXMgdXNlZCBpbnN0ZWFkLiBJZiBuZWl0aGVyXG4gKiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGlzIHNwZWNpZmllZCwgdGhlIFdHUzg0IGVsbGlwc29pZCBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtDb2xvcn0gW2NvbG9yPUNvbG9yLllFTExPV10gVGhlIGNvbG9yIHRvIGRyYXcgdGhlIHRpbGUgYm94IGFuZCBsYWJlbC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdGlsZVdpZHRoPTI1Nl0gVGhlIHdpZHRoIG9mIHRoZSB0aWxlIGZvciBsZXZlbC1vZi1kZXRhaWwgc2VsZWN0aW9uIHB1cnBvc2VzLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFt0aWxlSGVpZ2h0PTI1Nl0gVGhlIGhlaWdodCBvZiB0aGUgdGlsZSBmb3IgbGV2ZWwtb2YtZGV0YWlsIHNlbGVjdGlvbiBwdXJwb3Nlcy5cbiAqL1xuXG4vKipcbiAqIEFuIHtAbGluayBJbWFnZXJ5UHJvdmlkZXJ9IHRoYXQgZHJhd3MgYSBib3ggYXJvdW5kIGV2ZXJ5IHJlbmRlcmVkIHRpbGUgaW4gdGhlIHRpbGluZyBzY2hlbWUsIGFuZCBkcmF3c1xuICogYSBsYWJlbCBpbnNpZGUgaXQgaW5kaWNhdGluZyB0aGUgWCwgWSwgTGV2ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIHRpbGUuICBUaGlzIGlzIG1vc3RseSB1c2VmdWwgZm9yXG4gKiBkZWJ1Z2dpbmcgdGVycmFpbiBhbmQgaW1hZ2VyeSByZW5kZXJpbmcgcHJvYmxlbXMuXG4gKlxuICogQGFsaWFzIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlclxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIuQ29uc3RydWN0b3JPcHRpb25zfSBbb3B0aW9uc10gT2JqZWN0IGRlc2NyaWJpbmcgaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIob3B0aW9ucykge1xuICBvcHRpb25zID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMsIGRlZmF1bHRWYWx1ZS5FTVBUWV9PQkpFQ1QpO1xuXG4gIHRoaXMuX3RpbGluZ1NjaGVtZSA9IGRlZmluZWQob3B0aW9ucy50aWxpbmdTY2hlbWUpXG4gICAgPyBvcHRpb25zLnRpbGluZ1NjaGVtZVxuICAgIDogbmV3IEdlb2dyYXBoaWNUaWxpbmdTY2hlbWUoeyBlbGxpcHNvaWQ6IG9wdGlvbnMuZWxsaXBzb2lkIH0pO1xuICB0aGlzLl9jb2xvciA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmNvbG9yLCBDb2xvci5ZRUxMT1cpO1xuICB0aGlzLl9lcnJvckV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gIHRoaXMuX3RpbGVXaWR0aCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnRpbGVXaWR0aCwgMjU2KTtcbiAgdGhpcy5fdGlsZUhlaWdodCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnRpbGVIZWlnaHQsIDI1Nik7XG4gIHRoaXMuX3JlYWR5UHJvbWlzZSA9IHdoZW4ucmVzb2x2ZSh0cnVlKTtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWxwaGEgYmxlbmRpbmcgdmFsdWUgb2YgdGhpcyBwcm92aWRlciwgd2l0aCAwLjAgcmVwcmVzZW50aW5nIGZ1bGx5IHRyYW5zcGFyZW50IGFuZFxuICAgKiAxLjAgcmVwcmVzZW50aW5nIGZ1bGx5IG9wYXF1ZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0QWxwaGEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFscGhhIGJsZW5kaW5nIHZhbHVlIG9uIHRoZSBuaWdodCBzaWRlIG9mIHRoZSBnbG9iZSBvZiB0aGlzIHByb3ZpZGVyLCB3aXRoIDAuMCByZXByZXNlbnRpbmcgZnVsbHkgdHJhbnNwYXJlbnQgYW5kXG4gICAqIDEuMCByZXByZXNlbnRpbmcgZnVsbHkgb3BhcXVlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHROaWdodEFscGhhID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBhbHBoYSBibGVuZGluZyB2YWx1ZSBvbiB0aGUgZGF5IHNpZGUgb2YgdGhlIGdsb2JlIG9mIHRoaXMgcHJvdmlkZXIsIHdpdGggMC4wIHJlcHJlc2VudGluZyBmdWxseSB0cmFuc3BhcmVudCBhbmRcbiAgICogMS4wIHJlcHJlc2VudGluZyBmdWxseSBvcGFxdWUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdERheUFscGhhID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBicmlnaHRuZXNzIG9mIHRoaXMgcHJvdmlkZXIuICAxLjAgdXNlcyB0aGUgdW5tb2RpZmllZCBpbWFnZXJ5IGNvbG9yLiAgTGVzcyB0aGFuIDEuMFxuICAgKiBtYWtlcyB0aGUgaW1hZ2VyeSBkYXJrZXIgd2hpbGUgZ3JlYXRlciB0aGFuIDEuMCBtYWtlcyBpdCBicmlnaHRlci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0QnJpZ2h0bmVzcyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29udHJhc3Qgb2YgdGhpcyBwcm92aWRlci4gIDEuMCB1c2VzIHRoZSB1bm1vZGlmaWVkIGltYWdlcnkgY29sb3IuICBMZXNzIHRoYW4gMS4wIHJlZHVjZXNcbiAgICogdGhlIGNvbnRyYXN0IHdoaWxlIGdyZWF0ZXIgdGhhbiAxLjAgaW5jcmVhc2VzIGl0LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRDb250cmFzdCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgaHVlIG9mIHRoaXMgcHJvdmlkZXIgaW4gcmFkaWFucy4gMC4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0SHVlID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzYXR1cmF0aW9uIG9mIHRoaXMgcHJvdmlkZXIuIDEuMCB1c2VzIHRoZSB1bm1vZGlmaWVkIGltYWdlcnkgY29sb3IuIExlc3MgdGhhbiAxLjAgcmVkdWNlcyB0aGVcbiAgICogc2F0dXJhdGlvbiB3aGlsZSBncmVhdGVyIHRoYW4gMS4wIGluY3JlYXNlcyBpdC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0U2F0dXJhdGlvbiA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgZ2FtbWEgY29ycmVjdGlvbiB0byBhcHBseSB0byB0aGlzIHByb3ZpZGVyLiAgMS4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0R2FtbWEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRleHR1cmUgbWluaWZpY2F0aW9uIGZpbHRlciB0byBhcHBseSB0byB0aGlzIHByb3ZpZGVyLlxuICAgKlxuICAgKiBAdHlwZSB7VGV4dHVyZU1pbmlmaWNhdGlvbkZpbHRlcn1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRNaW5pZmljYXRpb25GaWx0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRleHR1cmUgbWFnbmlmaWNhdGlvbiBmaWx0ZXIgdG8gYXBwbHkgdG8gdGhpcyBwcm92aWRlci5cbiAgICpcbiAgICogQHR5cGUge1RleHR1cmVNYWduaWZpY2F0aW9uRmlsdGVyfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdE1hZ25pZmljYXRpb25GaWx0ZXIgPSB1bmRlZmluZWQ7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIHByb3h5IHVzZWQgYnkgdGhpcyBwcm92aWRlci5cbiAgICogQG1lbWJlcm9mIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3h5fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHByb3h5OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHdpZHRoIG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzLiBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdGlsZVdpZHRoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGlsZVdpZHRoO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhlaWdodCBvZiBlYWNoIHRpbGUsIGluIHBpeGVscy4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB0aWxlSGVpZ2h0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGlsZUhlaWdodDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtYXhpbXVtIGxldmVsLW9mLWRldGFpbCB0aGF0IGNhbiBiZSByZXF1ZXN0ZWQuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIG1heGltdW1MZXZlbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtaW5pbXVtIGxldmVsLW9mLWRldGFpbCB0aGF0IGNhbiBiZSByZXF1ZXN0ZWQuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgbWluaW11bUxldmVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRpbGluZyBzY2hlbWUgdXNlZCBieSB0aGlzIHByb3ZpZGVyLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7VGlsaW5nU2NoZW1lfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHRpbGluZ1NjaGVtZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbGluZ1NjaGVtZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSByZWN0YW5nbGUsIGluIHJhZGlhbnMsIG9mIHRoZSBpbWFnZXJ5IHByb3ZpZGVkIGJ5IHRoaXMgaW5zdGFuY2UuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtSZWN0YW5nbGV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcmVjdGFuZ2xlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGlsaW5nU2NoZW1lLnJlY3RhbmdsZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0aWxlIGRpc2NhcmQgcG9saWN5LiAgSWYgbm90IHVuZGVmaW5lZCwgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlc3BvbnNpYmxlXG4gICAqIGZvciBmaWx0ZXJpbmcgb3V0IFwibWlzc2luZ1wiIHRpbGVzIHZpYSBpdHMgc2hvdWxkRGlzY2FyZEltYWdlIGZ1bmN0aW9uLiAgSWYgdGhpcyBmdW5jdGlvblxuICAgKiByZXR1cm5zIHVuZGVmaW5lZCwgbm8gdGlsZXMgYXJlIGZpbHRlcmVkLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7VGlsZURpc2NhcmRQb2xpY3l9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdGlsZURpc2NhcmRQb2xpY3k6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhbiBldmVudCB0aGF0IGlzIHJhaXNlZCB3aGVuIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGVuY291bnRlcnMgYW4gYXN5bmNocm9ub3VzIGVycm9yLiAgQnkgc3Vic2NyaWJpbmdcbiAgICogdG8gdGhlIGV2ZW50LCB5b3Ugd2lsbCBiZSBub3RpZmllZCBvZiB0aGUgZXJyb3IgYW5kIGNhbiBwb3RlbnRpYWxseSByZWNvdmVyIGZyb20gaXQuICBFdmVudCBsaXN0ZW5lcnNcbiAgICogYXJlIHBhc3NlZCBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgVGlsZVByb3ZpZGVyRXJyb3J9LlxuICAgKiBAbWVtYmVyb2YgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZXJyb3JFdmVudDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yRXZlbnQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHByb3ZpZGVyIGlzIHJlYWR5IGZvciB1c2UuXG4gICAqIEBtZW1iZXJvZiBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRydWUgd2hlbiB0aGUgcHJvdmlkZXIgaXMgcmVhZHkgZm9yIHVzZS5cbiAgICogQG1lbWJlcm9mIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb21pc2UuPEJvb2xlYW4+fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5UHJvbWlzZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5UHJvbWlzZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjcmVkaXQgdG8gZGlzcGxheSB3aGVuIHRoaXMgaW1hZ2VyeSBwcm92aWRlciBpcyBhY3RpdmUuICBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIGNyZWRpdFxuICAgKiB0aGUgc291cmNlIG9mIHRoZSBpbWFnZXJ5LiAgVGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q3JlZGl0fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGNyZWRpdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgaW1hZ2VzIHByb3ZpZGVkIGJ5IHRoaXMgaW1hZ2VyeSBwcm92aWRlclxuICAgKiBpbmNsdWRlIGFuIGFscGhhIGNoYW5uZWwuICBJZiB0aGlzIHByb3BlcnR5IGlzIGZhbHNlLCBhbiBhbHBoYSBjaGFubmVsLCBpZiBwcmVzZW50LCB3aWxsXG4gICAqIGJlIGlnbm9yZWQuICBJZiB0aGlzIHByb3BlcnR5IGlzIHRydWUsIGFueSBpbWFnZXMgd2l0aG91dCBhbiBhbHBoYSBjaGFubmVsIHdpbGwgYmUgdHJlYXRlZFxuICAgKiBhcyBpZiB0aGVpciBhbHBoYSBpcyAxLjAgZXZlcnl3aGVyZS4gIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBmYWxzZSByZWR1Y2VzIG1lbW9yeSB1c2FnZVxuICAgKiBhbmQgdGV4dHVyZSB1cGxvYWQgdGltZS5cbiAgICogQG1lbWJlcm9mIFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgaGFzQWxwaGFDaGFubmVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgY3JlZGl0cyB0byBiZSBkaXNwbGF5ZWQgd2hlbiBhIGdpdmVuIHRpbGUgaXMgZGlzcGxheWVkLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB0aWxlIFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB0aWxlIFkgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCBUaGUgdGlsZSBsZXZlbDtcbiAqIEByZXR1cm5zIHtDcmVkaXRbXX0gVGhlIGNyZWRpdHMgdG8gYmUgZGlzcGxheWVkIHdoZW4gdGhlIHRpbGUgaXMgZGlzcGxheWVkLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSA8Y29kZT5nZXRUaWxlQ3JlZGl0czwvY29kZT4gbXVzdCBub3QgYmUgY2FsbGVkIGJlZm9yZSB0aGUgaW1hZ2VyeSBwcm92aWRlciBpcyByZWFkeS5cbiAqL1xuVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5nZXRUaWxlQ3JlZGl0cyA9IGZ1bmN0aW9uIChcbiAgeCxcbiAgeSxcbiAgbGV2ZWxcbikge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBSZXF1ZXN0cyB0aGUgaW1hZ2UgZm9yIGEgZ2l2ZW4gdGlsZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVGlsZUNvb3JkaW5hdGVzSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHRpbGUgWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRpbGUgWSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIFRoZSB0aWxlIGxldmVsLlxuICogQHBhcmFtIHtSZXF1ZXN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3Qgb2JqZWN0LiBJbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudD58dW5kZWZpbmVkfSBBIHByb21pc2UgZm9yIHRoZSBpbWFnZSB0aGF0IHdpbGwgcmVzb2x2ZSB3aGVuIHRoZSBpbWFnZSBpcyBhdmFpbGFibGUsIG9yXG4gKiAgICAgICAgICB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIHRvbyBtYW55IGFjdGl2ZSByZXF1ZXN0cyB0byB0aGUgc2VydmVyLCBhbmQgdGhlIHJlcXVlc3RcbiAqICAgICAgICAgIHNob3VsZCBiZSByZXRyaWVkIGxhdGVyLiAgVGhlIHJlc29sdmVkIGltYWdlIG1heSBiZSBlaXRoZXIgYW5cbiAqICAgICAgICAgIEltYWdlIG9yIGEgQ2FudmFzIERPTSBvYmplY3QuXG4gKi9cblRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5wcm90b3R5cGUucmVxdWVzdEltYWdlID0gZnVuY3Rpb24gKFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgcmVxdWVzdFxuKSB7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICBjYW52YXMud2lkdGggPSAyNTY7XG4gIGNhbnZhcy5oZWlnaHQgPSAyNTY7XG4gIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICB2YXIgY3NzQ29sb3IgPSB0aGlzLl9jb2xvci50b0Nzc0NvbG9yU3RyaW5nKCk7XG5cbiAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNzc0NvbG9yO1xuICBjb250ZXh0LmxpbmVXaWR0aCA9IDI7XG4gIGNvbnRleHQuc3Ryb2tlUmVjdCgxLCAxLCAyNTUsIDI1NSk7XG5cbiAgY29udGV4dC5mb250ID0gXCJib2xkIDI1cHggQXJpYWxcIjtcbiAgY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IGNzc0NvbG9yO1xuICBjb250ZXh0LmZpbGxUZXh0KFwiTDogXCIgKyBsZXZlbCwgMTI0LCA4Nik7XG4gIGNvbnRleHQuZmlsbFRleHQoXCJYOiBcIiArIHgsIDEyNCwgMTM2KTtcbiAgY29udGV4dC5maWxsVGV4dChcIlk6IFwiICsgeSwgMTI0LCAxODYpO1xuXG4gIHJldHVybiBjYW52YXM7XG59O1xuXG4vKipcbiAqIFBpY2tpbmcgZmVhdHVyZXMgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgYnkgdGhpcyBpbWFnZXJ5IHByb3ZpZGVyLCBzbyB0aGlzIGZ1bmN0aW9uIHNpbXBseSByZXR1cm5zXG4gKiB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHRpbGUgWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRpbGUgWSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIFRoZSB0aWxlIGxldmVsLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxvbmdpdHVkZSBUaGUgbG9uZ2l0dWRlIGF0IHdoaWNoIHRvIHBpY2sgZmVhdHVyZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gbGF0aXR1ZGUgIFRoZSBsYXRpdHVkZSBhdCB3aGljaCB0byBwaWNrIGZlYXR1cmVzLlxuICogQHJldHVybiB7UHJvbWlzZS48SW1hZ2VyeUxheWVyRmVhdHVyZUluZm9bXT58dW5kZWZpbmVkfSBBIHByb21pc2UgZm9yIHRoZSBwaWNrZWQgZmVhdHVyZXMgdGhhdCB3aWxsIHJlc29sdmUgd2hlbiB0aGUgYXN5bmNocm9ub3VzXG4gKiAgICAgICAgICAgICAgICAgICBwaWNraW5nIGNvbXBsZXRlcy4gIFRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhbiBhcnJheSBvZiB7QGxpbmsgSW1hZ2VyeUxheWVyRmVhdHVyZUluZm99XG4gKiAgICAgICAgICAgICAgICAgICBpbnN0YW5jZXMuICBUaGUgYXJyYXkgbWF5IGJlIGVtcHR5IGlmIG5vIGZlYXR1cmVzIGFyZSBmb3VuZCBhdCB0aGUgZ2l2ZW4gbG9jYXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICBJdCBtYXkgYWxzbyBiZSB1bmRlZmluZWQgaWYgcGlja2luZyBpcyBub3Qgc3VwcG9ydGVkLlxuICovXG5UaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlLnBpY2tGZWF0dXJlcyA9IGZ1bmN0aW9uIChcbiAgeCxcbiAgeSxcbiAgbGV2ZWwsXG4gIGxvbmdpdHVkZSxcbiAgbGF0aXR1ZGVcbikge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78973\n')},39867:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12572);\n\n\n/**\n * A policy for discarding tile images according to some criteria.  This type describes an\n * interface and is not intended to be instantiated directly.\n *\n * @alias TileDiscardPolicy\n * @constructor\n *\n * @see DiscardMissingTileImagePolicy\n * @see NeverTileDiscardPolicy\n */\nfunction TileDiscardPolicy(options) {\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError();\n}\n\n/**\n * Determines if the discard policy is ready to process images.\n * @function\n *\n * @returns {Boolean} True if the discard policy is ready to process images; otherwise, false.\n */\nTileDiscardPolicy.prototype.isReady = _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError;\n\n/**\n * Given a tile image, decide whether to discard that image.\n * @function\n *\n * @param {HTMLImageElement} image An image to test.\n * @returns {Boolean} True if the image should be discarded; otherwise, false.\n */\nTileDiscardPolicy.prototype.shouldDiscardImage =\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (TileDiscardPolicy)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk4NjcuanMiLCJtYXBwaW5ncyI6IjtBQUF1RDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsd0hBQXNDO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLHVEQUF1RDtBQUM3RTtBQUNBLHNDQUFzQyx3SEFBc0M7O0FBRTVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsYUFBYSxTQUFTLHVDQUF1QztBQUM3RDtBQUNBO0FBQ0EsRUFBRSx3SEFBc0M7QUFDeEMsc0VBQWUsaUVBQWlCLElBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZURpc2NhcmRQb2xpY3kuanM/MTkwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcblxuLyoqXG4gKiBBIHBvbGljeSBmb3IgZGlzY2FyZGluZyB0aWxlIGltYWdlcyBhY2NvcmRpbmcgdG8gc29tZSBjcml0ZXJpYS4gIFRoaXMgdHlwZSBkZXNjcmliZXMgYW5cbiAqIGludGVyZmFjZSBhbmQgaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAqXG4gKiBAYWxpYXMgVGlsZURpc2NhcmRQb2xpY3lcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBzZWUgRGlzY2FyZE1pc3NpbmdUaWxlSW1hZ2VQb2xpY3lcbiAqIEBzZWUgTmV2ZXJUaWxlRGlzY2FyZFBvbGljeVxuICovXG5mdW5jdGlvbiBUaWxlRGlzY2FyZFBvbGljeShvcHRpb25zKSB7XG4gIERldmVsb3BlckVycm9yLnRocm93SW5zdGFudGlhdGlvbkVycm9yKCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZGlzY2FyZCBwb2xpY3kgaXMgcmVhZHkgdG8gcHJvY2VzcyBpbWFnZXMuXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgZGlzY2FyZCBwb2xpY3kgaXMgcmVhZHkgdG8gcHJvY2VzcyBpbWFnZXM7IG90aGVyd2lzZSwgZmFsc2UuXG4gKi9cblRpbGVEaXNjYXJkUG9saWN5LnByb3RvdHlwZS5pc1JlYWR5ID0gRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3I7XG5cbi8qKlxuICogR2l2ZW4gYSB0aWxlIGltYWdlLCBkZWNpZGUgd2hldGhlciB0byBkaXNjYXJkIHRoYXQgaW1hZ2UuXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR9IGltYWdlIEFuIGltYWdlIHRvIHRlc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc2NhcmRlZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqL1xuVGlsZURpc2NhcmRQb2xpY3kucHJvdG90eXBlLnNob3VsZERpc2NhcmRJbWFnZSA9XG4gIERldmVsb3BlckVycm9yLnRocm93SW5zdGFudGlhdGlvbkVycm9yO1xuZXhwb3J0IGRlZmF1bHQgVGlsZURpc2NhcmRQb2xpY3k7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///39867\n')},70262:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82982);\n/* harmony import */ var _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73919);\n\n\n\n/**\n * The assocation between a terrain tile and an imagery tile.\n *\n * @alias TileImagery\n * @private\n *\n * @param {Imagery} imagery The imagery tile.\n * @param {Cartesian4} textureCoordinateRectangle The texture rectangle of the tile that is covered\n *        by the imagery, where X=west, Y=south, Z=east, W=north.\n * @param {Boolean} useWebMercatorT true to use the Web Mercator texture coordinates for this imagery tile.\n */\nfunction TileImagery(imagery, textureCoordinateRectangle, useWebMercatorT) {\n  this.readyImagery = undefined;\n  this.loadingImagery = imagery;\n  this.textureCoordinateRectangle = textureCoordinateRectangle;\n  this.textureTranslationAndScale = undefined;\n  this.useWebMercatorT = useWebMercatorT;\n}\n\n/**\n * Frees the resources held by this instance.\n */\nTileImagery.prototype.freeResources = function () {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.readyImagery)) {\n    this.readyImagery.releaseReference();\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.loadingImagery)) {\n    this.loadingImagery.releaseReference();\n  }\n};\n\n/**\n * Processes the load state machine for this instance.\n *\n * @param {Tile} tile The tile to which this instance belongs.\n * @param {FrameState} frameState The frameState.\n * @param {Boolean} skipLoading True to skip loading, e.g. new requests, creating textures. This function will\n *                  still synchronously process imagery that\'s already mostly ready to go, e.g. use textures\n *                  already loaded on ancestor tiles.\n * @returns {Boolean} True if this instance is done loading; otherwise, false.\n */\nTileImagery.prototype.processStateMachine = function (\n  tile,\n  frameState,\n  skipLoading\n) {\n  var loadingImagery = this.loadingImagery;\n  var imageryLayer = loadingImagery.imageryLayer;\n\n  loadingImagery.processStateMachine(\n    frameState,\n    !this.useWebMercatorT,\n    skipLoading\n  );\n\n  if (loadingImagery.state === _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].READY */ .Z.READY) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.readyImagery)) {\n      this.readyImagery.releaseReference();\n    }\n    this.readyImagery = this.loadingImagery;\n    this.loadingImagery = undefined;\n    this.textureTranslationAndScale = imageryLayer._calculateTextureTranslationAndScale(\n      tile,\n      this\n    );\n    return true; // done loading\n  }\n\n  // Find some ancestor imagery we can use while this imagery is still loading.\n  var ancestor = loadingImagery.parent;\n  var closestAncestorThatNeedsLoading;\n  while (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(ancestor) &&\n    (ancestor.state !== _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].READY */ .Z.READY ||\n      (!this.useWebMercatorT && !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(ancestor.texture)))\n  ) {\n    if (\n      ancestor.state !== _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].FAILED */ .Z.FAILED &&\n      ancestor.state !== _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].INVALID */ .Z.INVALID\n    ) {\n      // ancestor is still loading\n      closestAncestorThatNeedsLoading =\n        closestAncestorThatNeedsLoading || ancestor;\n    }\n    ancestor = ancestor.parent;\n  }\n\n  if (this.readyImagery !== ancestor) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.readyImagery)) {\n      this.readyImagery.releaseReference();\n    }\n\n    this.readyImagery = ancestor;\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(ancestor)) {\n      ancestor.addReference();\n      this.textureTranslationAndScale = imageryLayer._calculateTextureTranslationAndScale(\n        tile,\n        this\n      );\n    }\n  }\n\n  if (\n    loadingImagery.state === _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].FAILED */ .Z.FAILED ||\n    loadingImagery.state === _ImageryState_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].INVALID */ .Z.INVALID\n  ) {\n    // The imagery tile is failed or invalid, so we\'d like to use an ancestor instead.\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(closestAncestorThatNeedsLoading)) {\n      // Push the ancestor\'s load process along a bit.  This is necessary because some ancestor imagery\n      // tiles may not be attached directly to a terrain tile.  Such tiles will never load if\n      // we don\'t do it here.\n      closestAncestorThatNeedsLoading.processStateMachine(\n        frameState,\n        !this.useWebMercatorT,\n        skipLoading\n      );\n      return false; // not done loading\n    }\n    // This imagery tile is failed or invalid, and we have the "best available" substitute.\n    return true; // done loading\n  }\n\n  return false; // not done loading\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TileImagery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAyNjIuanMiLCJtYXBwaW5ncyI6Ijs7QUFBeUM7QUFDSTs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxRUFBTztBQUNiO0FBQ0E7O0FBRUEsTUFBTSxxRUFBTztBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0EsYUFBYSxTQUFTLHVDQUF1QztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCLDZFQUFrQjtBQUNqRCxRQUFRLHFFQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscUVBQU87QUFDWCx3QkFBd0IsNkVBQWtCO0FBQzFDLGlDQUFpQyxxRUFBTztBQUN4QztBQUNBO0FBQ0EseUJBQXlCLCtFQUFtQjtBQUM1Qyx5QkFBeUIsaUZBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxxRUFBTztBQUNmO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxxRUFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLCtFQUFtQjtBQUNoRCw2QkFBNkIsaUZBQW9CO0FBQ2pEO0FBQ0E7QUFDQSxRQUFRLHFFQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBLHlEQUFlLFdBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9UaWxlSW1hZ2VyeS5qcz83M2VhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBJbWFnZXJ5U3RhdGUgZnJvbSBcIi4vSW1hZ2VyeVN0YXRlLmpzXCI7XG5cbi8qKlxuICogVGhlIGFzc29jYXRpb24gYmV0d2VlbiBhIHRlcnJhaW4gdGlsZSBhbmQgYW4gaW1hZ2VyeSB0aWxlLlxuICpcbiAqIEBhbGlhcyBUaWxlSW1hZ2VyeVxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge0ltYWdlcnl9IGltYWdlcnkgVGhlIGltYWdlcnkgdGlsZS5cbiAqIEBwYXJhbSB7Q2FydGVzaWFuNH0gdGV4dHVyZUNvb3JkaW5hdGVSZWN0YW5nbGUgVGhlIHRleHR1cmUgcmVjdGFuZ2xlIG9mIHRoZSB0aWxlIHRoYXQgaXMgY292ZXJlZFxuICogICAgICAgIGJ5IHRoZSBpbWFnZXJ5LCB3aGVyZSBYPXdlc3QsIFk9c291dGgsIFo9ZWFzdCwgVz1ub3J0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlV2ViTWVyY2F0b3JUIHRydWUgdG8gdXNlIHRoZSBXZWIgTWVyY2F0b3IgdGV4dHVyZSBjb29yZGluYXRlcyBmb3IgdGhpcyBpbWFnZXJ5IHRpbGUuXG4gKi9cbmZ1bmN0aW9uIFRpbGVJbWFnZXJ5KGltYWdlcnksIHRleHR1cmVDb29yZGluYXRlUmVjdGFuZ2xlLCB1c2VXZWJNZXJjYXRvclQpIHtcbiAgdGhpcy5yZWFkeUltYWdlcnkgPSB1bmRlZmluZWQ7XG4gIHRoaXMubG9hZGluZ0ltYWdlcnkgPSBpbWFnZXJ5O1xuICB0aGlzLnRleHR1cmVDb29yZGluYXRlUmVjdGFuZ2xlID0gdGV4dHVyZUNvb3JkaW5hdGVSZWN0YW5nbGU7XG4gIHRoaXMudGV4dHVyZVRyYW5zbGF0aW9uQW5kU2NhbGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMudXNlV2ViTWVyY2F0b3JUID0gdXNlV2ViTWVyY2F0b3JUO1xufVxuXG4vKipcbiAqIEZyZWVzIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGlzIGluc3RhbmNlLlxuICovXG5UaWxlSW1hZ2VyeS5wcm90b3R5cGUuZnJlZVJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGRlZmluZWQodGhpcy5yZWFkeUltYWdlcnkpKSB7XG4gICAgdGhpcy5yZWFkeUltYWdlcnkucmVsZWFzZVJlZmVyZW5jZSgpO1xuICB9XG5cbiAgaWYgKGRlZmluZWQodGhpcy5sb2FkaW5nSW1hZ2VyeSkpIHtcbiAgICB0aGlzLmxvYWRpbmdJbWFnZXJ5LnJlbGVhc2VSZWZlcmVuY2UoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIGxvYWQgc3RhdGUgbWFjaGluZSBmb3IgdGhpcyBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge1RpbGV9IHRpbGUgVGhlIHRpbGUgdG8gd2hpY2ggdGhpcyBpbnN0YW5jZSBiZWxvbmdzLlxuICogQHBhcmFtIHtGcmFtZVN0YXRlfSBmcmFtZVN0YXRlIFRoZSBmcmFtZVN0YXRlLlxuICogQHBhcmFtIHtCb29sZWFufSBza2lwTG9hZGluZyBUcnVlIHRvIHNraXAgbG9hZGluZywgZS5nLiBuZXcgcmVxdWVzdHMsIGNyZWF0aW5nIHRleHR1cmVzLiBUaGlzIGZ1bmN0aW9uIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgc3RpbGwgc3luY2hyb25vdXNseSBwcm9jZXNzIGltYWdlcnkgdGhhdCdzIGFscmVhZHkgbW9zdGx5IHJlYWR5IHRvIGdvLCBlLmcuIHVzZSB0ZXh0dXJlc1xuICogICAgICAgICAgICAgICAgICBhbHJlYWR5IGxvYWRlZCBvbiBhbmNlc3RvciB0aWxlcy5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoaXMgaW5zdGFuY2UgaXMgZG9uZSBsb2FkaW5nOyBvdGhlcndpc2UsIGZhbHNlLlxuICovXG5UaWxlSW1hZ2VyeS5wcm90b3R5cGUucHJvY2Vzc1N0YXRlTWFjaGluZSA9IGZ1bmN0aW9uIChcbiAgdGlsZSxcbiAgZnJhbWVTdGF0ZSxcbiAgc2tpcExvYWRpbmdcbikge1xuICB2YXIgbG9hZGluZ0ltYWdlcnkgPSB0aGlzLmxvYWRpbmdJbWFnZXJ5O1xuICB2YXIgaW1hZ2VyeUxheWVyID0gbG9hZGluZ0ltYWdlcnkuaW1hZ2VyeUxheWVyO1xuXG4gIGxvYWRpbmdJbWFnZXJ5LnByb2Nlc3NTdGF0ZU1hY2hpbmUoXG4gICAgZnJhbWVTdGF0ZSxcbiAgICAhdGhpcy51c2VXZWJNZXJjYXRvclQsXG4gICAgc2tpcExvYWRpbmdcbiAgKTtcblxuICBpZiAobG9hZGluZ0ltYWdlcnkuc3RhdGUgPT09IEltYWdlcnlTdGF0ZS5SRUFEWSkge1xuICAgIGlmIChkZWZpbmVkKHRoaXMucmVhZHlJbWFnZXJ5KSkge1xuICAgICAgdGhpcy5yZWFkeUltYWdlcnkucmVsZWFzZVJlZmVyZW5jZSgpO1xuICAgIH1cbiAgICB0aGlzLnJlYWR5SW1hZ2VyeSA9IHRoaXMubG9hZGluZ0ltYWdlcnk7XG4gICAgdGhpcy5sb2FkaW5nSW1hZ2VyeSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRleHR1cmVUcmFuc2xhdGlvbkFuZFNjYWxlID0gaW1hZ2VyeUxheWVyLl9jYWxjdWxhdGVUZXh0dXJlVHJhbnNsYXRpb25BbmRTY2FsZShcbiAgICAgIHRpbGUsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICByZXR1cm4gdHJ1ZTsgLy8gZG9uZSBsb2FkaW5nXG4gIH1cblxuICAvLyBGaW5kIHNvbWUgYW5jZXN0b3IgaW1hZ2VyeSB3ZSBjYW4gdXNlIHdoaWxlIHRoaXMgaW1hZ2VyeSBpcyBzdGlsbCBsb2FkaW5nLlxuICB2YXIgYW5jZXN0b3IgPSBsb2FkaW5nSW1hZ2VyeS5wYXJlbnQ7XG4gIHZhciBjbG9zZXN0QW5jZXN0b3JUaGF0TmVlZHNMb2FkaW5nO1xuICB3aGlsZSAoXG4gICAgZGVmaW5lZChhbmNlc3RvcikgJiZcbiAgICAoYW5jZXN0b3Iuc3RhdGUgIT09IEltYWdlcnlTdGF0ZS5SRUFEWSB8fFxuICAgICAgKCF0aGlzLnVzZVdlYk1lcmNhdG9yVCAmJiAhZGVmaW5lZChhbmNlc3Rvci50ZXh0dXJlKSkpXG4gICkge1xuICAgIGlmIChcbiAgICAgIGFuY2VzdG9yLnN0YXRlICE9PSBJbWFnZXJ5U3RhdGUuRkFJTEVEICYmXG4gICAgICBhbmNlc3Rvci5zdGF0ZSAhPT0gSW1hZ2VyeVN0YXRlLklOVkFMSURcbiAgICApIHtcbiAgICAgIC8vIGFuY2VzdG9yIGlzIHN0aWxsIGxvYWRpbmdcbiAgICAgIGNsb3Nlc3RBbmNlc3RvclRoYXROZWVkc0xvYWRpbmcgPVxuICAgICAgICBjbG9zZXN0QW5jZXN0b3JUaGF0TmVlZHNMb2FkaW5nIHx8IGFuY2VzdG9yO1xuICAgIH1cbiAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcbiAgfVxuXG4gIGlmICh0aGlzLnJlYWR5SW1hZ2VyeSAhPT0gYW5jZXN0b3IpIHtcbiAgICBpZiAoZGVmaW5lZCh0aGlzLnJlYWR5SW1hZ2VyeSkpIHtcbiAgICAgIHRoaXMucmVhZHlJbWFnZXJ5LnJlbGVhc2VSZWZlcmVuY2UoKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5SW1hZ2VyeSA9IGFuY2VzdG9yO1xuXG4gICAgaWYgKGRlZmluZWQoYW5jZXN0b3IpKSB7XG4gICAgICBhbmNlc3Rvci5hZGRSZWZlcmVuY2UoKTtcbiAgICAgIHRoaXMudGV4dHVyZVRyYW5zbGF0aW9uQW5kU2NhbGUgPSBpbWFnZXJ5TGF5ZXIuX2NhbGN1bGF0ZVRleHR1cmVUcmFuc2xhdGlvbkFuZFNjYWxlKFxuICAgICAgICB0aWxlLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChcbiAgICBsb2FkaW5nSW1hZ2VyeS5zdGF0ZSA9PT0gSW1hZ2VyeVN0YXRlLkZBSUxFRCB8fFxuICAgIGxvYWRpbmdJbWFnZXJ5LnN0YXRlID09PSBJbWFnZXJ5U3RhdGUuSU5WQUxJRFxuICApIHtcbiAgICAvLyBUaGUgaW1hZ2VyeSB0aWxlIGlzIGZhaWxlZCBvciBpbnZhbGlkLCBzbyB3ZSdkIGxpa2UgdG8gdXNlIGFuIGFuY2VzdG9yIGluc3RlYWQuXG4gICAgaWYgKGRlZmluZWQoY2xvc2VzdEFuY2VzdG9yVGhhdE5lZWRzTG9hZGluZykpIHtcbiAgICAgIC8vIFB1c2ggdGhlIGFuY2VzdG9yJ3MgbG9hZCBwcm9jZXNzIGFsb25nIGEgYml0LiAgVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzb21lIGFuY2VzdG9yIGltYWdlcnlcbiAgICAgIC8vIHRpbGVzIG1heSBub3QgYmUgYXR0YWNoZWQgZGlyZWN0bHkgdG8gYSB0ZXJyYWluIHRpbGUuICBTdWNoIHRpbGVzIHdpbGwgbmV2ZXIgbG9hZCBpZlxuICAgICAgLy8gd2UgZG9uJ3QgZG8gaXQgaGVyZS5cbiAgICAgIGNsb3Nlc3RBbmNlc3RvclRoYXROZWVkc0xvYWRpbmcucHJvY2Vzc1N0YXRlTWFjaGluZShcbiAgICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgICAgIXRoaXMudXNlV2ViTWVyY2F0b3JULFxuICAgICAgICBza2lwTG9hZGluZ1xuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm90IGRvbmUgbG9hZGluZ1xuICAgIH1cbiAgICAvLyBUaGlzIGltYWdlcnkgdGlsZSBpcyBmYWlsZWQgb3IgaW52YWxpZCwgYW5kIHdlIGhhdmUgdGhlIFwiYmVzdCBhdmFpbGFibGVcIiBzdWJzdGl0dXRlLlxuICAgIHJldHVybiB0cnVlOyAvLyBkb25lIGxvYWRpbmdcbiAgfVxuXG4gIHJldHVybiBmYWxzZTsgLy8gbm90IGRvbmUgbG9hZGluZ1xufTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVJbWFnZXJ5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///70262\n')},80360:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60838);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51688);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(12572);\n/* harmony import */ var _Core_GeographicProjection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39756);\n/* harmony import */ var _Core_GeographicTilingScheme_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(71351);\n/* harmony import */ var _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(96190);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68985);\n/* harmony import */ var _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9407);\n/* harmony import */ var _Core_TileProviderError_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(9121);\n/* harmony import */ var _Core_WebMercatorTilingScheme_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(42423);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(13222);\n/* harmony import */ var _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(24855);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef {Object} TileMapServiceImageryProvider.ConstructorOptions\n *\n * Initialization options for the TileMapServiceImageryProvider constructor\n *\n * @property {Resource|String|Promise<Resource>|Promise<String>} [url=\'.\'] Path to image tiles on server.\n * @property {String} [fileExtension=\'png\'] The file extension for images on the server.\n * @property {Credit|String} [credit=\'\'] A credit for the data source, which is displayed on the canvas.\n * @property {Number} [minimumLevel=0] The minimum level-of-detail supported by the imagery provider.  Take care when specifying\n *                 this that the number of tiles at the minimum level is small, such as four or less.  A larger number is likely\n *                 to result in rendering problems.\n * @property {Number} [maximumLevel] The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n * @property {Rectangle} [rectangle=Rectangle.MAX_VALUE] The rectangle, in radians, covered by the image.\n * @property {TilingScheme} [tilingScheme] The tiling scheme specifying how the ellipsoidal\n * surface is broken into tiles.  If this parameter is not provided, a {@link WebMercatorTilingScheme}\n * is used.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If the tilingScheme is specified,\n *                    this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither\n *                    parameter is specified, the WGS84 ellipsoid is used.\n * @property {Number} [tileWidth=256] Pixel width of image tiles.\n * @property {Number} [tileHeight=256] Pixel height of image tiles.\n * @property {Boolean} [flipXY] Older versions of gdal2tiles.py flipped X and Y values in tilemapresource.xml.\n * Specifying this option will do the same, allowing for loading of these incorrect tilesets.\n */\n\n/**\n * An imagery provider that provides tiled imagery as generated by\n * {@link http://www.maptiler.org/|MapTiler}, {@link http://www.klokan.cz/projects/gdal2tiles/|GDAL2Tiles}, etc.\n *\n * @alias TileMapServiceImageryProvider\n * @constructor\n * @extends UrlTemplateImageryProvider\n *\n * @param {TileMapServiceImageryProvider.ConstructorOptions} options Object describing initialization options\n *\n * @see ArcGisMapServerImageryProvider\n * @see BingMapsImageryProvider\n * @see GoogleEarthEnterpriseMapsProvider\n * @see OpenStreetMapImageryProvider\n * @see SingleTileImageryProvider\n * @see WebMapServiceImageryProvider\n * @see WebMapTileServiceImageryProvider\n * @see UrlTemplateImageryProvider\n *\n * @example\n * var tms = new Cesium.TileMapServiceImageryProvider({\n *    url : \'../images/cesium_maptiler/Cesium_Logo_Color\',\n *    fileExtension: \'png\',\n *    maximumLevel: 4,\n *    rectangle: new Cesium.Rectangle(\n *        Cesium.Math.toRadians(-120.0),\n *        Cesium.Math.toRadians(20.0),\n *        Cesium.Math.toRadians(-60.0),\n *        Cesium.Math.toRadians(40.0))\n * });\n */\nfunction TileMapServiceImageryProvider(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(options.url)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("options.url is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var deferred = _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defer */ .Z.defer();\n  _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].call */ .Z.call(this, deferred.promise);\n\n  this._tmsResource = undefined;\n  this._xmlResource = undefined;\n  this._options = options;\n  this._deferred = deferred;\n  this._metadataError = undefined;\n\n  this._metadataSuccess = this._metadataSuccess.bind(this);\n  this._metadataFailure = this._metadataFailure.bind(this);\n  this._requestMetadata = this._requestMetadata.bind(this);\n\n  var resource;\n  var that = this;\n  (0,_ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(options.url)\n    .then(function (url) {\n      resource = _Core_Resource_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].createIfNeeded */ .Z.createIfNeeded(url);\n      resource.appendForwardSlash();\n\n      that._tmsResource = resource;\n      that._xmlResource = resource.getDerivedResource({\n        url: "tilemapresource.xml",\n      });\n\n      that._requestMetadata();\n    })\n    .otherwise(function (e) {\n      deferred.reject(e);\n    });\n}\n\nif ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(Object.create)) {\n  TileMapServiceImageryProvider.prototype = Object.create(\n    _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].prototype */ .Z.prototype\n  );\n  TileMapServiceImageryProvider.prototype.constructor = TileMapServiceImageryProvider;\n}\n\nTileMapServiceImageryProvider.prototype._requestMetadata = function () {\n  // Try to load remaining parameters from XML\n  this._xmlResource\n    .fetchXML()\n    .then(this._metadataSuccess)\n    .otherwise(this._metadataFailure);\n};\n\n/**\n * Mutates the properties of a given rectangle so it does not extend outside of the given tiling scheme\'s rectangle\n * @private\n */\nfunction confineRectangleToTilingScheme(rectangle, tilingScheme) {\n  if (rectangle.west < tilingScheme.rectangle.west) {\n    rectangle.west = tilingScheme.rectangle.west;\n  }\n  if (rectangle.east > tilingScheme.rectangle.east) {\n    rectangle.east = tilingScheme.rectangle.east;\n  }\n  if (rectangle.south < tilingScheme.rectangle.south) {\n    rectangle.south = tilingScheme.rectangle.south;\n  }\n  if (rectangle.north > tilingScheme.rectangle.north) {\n    rectangle.north = tilingScheme.rectangle.north;\n  }\n  return rectangle;\n}\n\nfunction calculateSafeMinimumDetailLevel(\n  tilingScheme,\n  rectangle,\n  minimumLevel\n) {\n  // Check the number of tiles at the minimum level.  If it\'s more than four,\n  // try requesting the lower levels anyway, because starting at the higher minimum\n  // level will cause too many tiles to be downloaded and rendered.\n  var swTile = tilingScheme.positionToTileXY(\n    _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].southwest */ .Z.southwest(rectangle),\n    minimumLevel\n  );\n  var neTile = tilingScheme.positionToTileXY(\n    _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].northeast */ .Z.northeast(rectangle),\n    minimumLevel\n  );\n  var tileCount =\n    (Math.abs(neTile.x - swTile.x) + 1) * (Math.abs(neTile.y - swTile.y) + 1);\n  if (tileCount > 4) {\n    return 0;\n  }\n  return minimumLevel;\n}\n\nTileMapServiceImageryProvider.prototype._metadataSuccess = function (xml) {\n  var tileFormatRegex = /tileformat/i;\n  var tileSetRegex = /tileset/i;\n  var tileSetsRegex = /tilesets/i;\n  var bboxRegex = /boundingbox/i;\n  var format, bbox, tilesets;\n  var tilesetsList = []; //list of TileSets\n  var xmlResource = this._xmlResource;\n  var metadataError = this._metadataError;\n  var deferred = this._deferred;\n  var requestMetadata = this._requestMetadata;\n\n  // Allowing options properties (already copied to that) to override XML values\n\n  // Iterate XML Document nodes for properties\n  var nodeList = xml.childNodes[0].childNodes;\n  for (var i = 0; i < nodeList.length; i++) {\n    if (tileFormatRegex.test(nodeList.item(i).nodeName)) {\n      format = nodeList.item(i);\n    } else if (tileSetsRegex.test(nodeList.item(i).nodeName)) {\n      tilesets = nodeList.item(i); // Node list of TileSets\n      var tileSetNodes = nodeList.item(i).childNodes;\n      // Iterate the nodes to find all TileSets\n      for (var j = 0; j < tileSetNodes.length; j++) {\n        if (tileSetRegex.test(tileSetNodes.item(j).nodeName)) {\n          // Add them to tilesets list\n          tilesetsList.push(tileSetNodes.item(j));\n        }\n      }\n    } else if (bboxRegex.test(nodeList.item(i).nodeName)) {\n      bbox = nodeList.item(i);\n    }\n  }\n\n  var message;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(tilesets) || !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(bbox)) {\n    message =\n      "Unable to find expected tilesets or bbox attributes in " +\n      xmlResource.url +\n      ".";\n    metadataError = _Core_TileProviderError_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].handleError */ .Z.handleError(\n      metadataError,\n      this,\n      this.errorEvent,\n      message,\n      undefined,\n      undefined,\n      undefined,\n      requestMetadata\n    );\n    if (!metadataError.retry) {\n      deferred.reject(new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(message));\n    }\n    this._metadataError = metadataError;\n    return;\n  }\n\n  var options = this._options;\n  var fileExtension = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(\n    options.fileExtension,\n    format.getAttribute("extension")\n  );\n  var tileWidth = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(\n    options.tileWidth,\n    parseInt(format.getAttribute("width"), 10)\n  );\n  var tileHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(\n    options.tileHeight,\n    parseInt(format.getAttribute("height"), 10)\n  );\n  var minimumLevel = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(\n    options.minimumLevel,\n    parseInt(tilesetsList[0].getAttribute("order"), 10)\n  );\n  var maximumLevel = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(\n    options.maximumLevel,\n    parseInt(tilesetsList[tilesetsList.length - 1].getAttribute("order"), 10)\n  );\n  var tilingSchemeName = tilesets.getAttribute("profile");\n  var tilingScheme = options.tilingScheme;\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(tilingScheme)) {\n    if (\n      tilingSchemeName === "geodetic" ||\n      tilingSchemeName === "global-geodetic"\n    ) {\n      tilingScheme = new _Core_GeographicTilingScheme_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n        ellipsoid: options.ellipsoid,\n      });\n    } else if (\n      tilingSchemeName === "mercator" ||\n      tilingSchemeName === "global-mercator"\n    ) {\n      tilingScheme = new _Core_WebMercatorTilingScheme_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({\n        ellipsoid: options.ellipsoid,\n      });\n    } else {\n      message =\n        xmlResource.url +\n        "specifies an unsupported profile attribute, " +\n        tilingSchemeName +\n        ".";\n      metadataError = _Core_TileProviderError_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].handleError */ .Z.handleError(\n        metadataError,\n        this,\n        this.errorEvent,\n        message,\n        undefined,\n        undefined,\n        undefined,\n        requestMetadata\n      );\n      if (!metadataError.retry) {\n        deferred.reject(new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(message));\n      }\n      this._metadataError = metadataError;\n      return;\n    }\n  }\n\n  // rectangle handling\n  var rectangle = _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].clone */ .Z.clone(options.rectangle);\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(rectangle)) {\n    var sw;\n    var ne;\n    var swXY;\n    var neXY;\n\n    // In older versions of gdal x and y values were flipped, which is why we check for an option to flip\n    // the values here as well. Unfortunately there is no way to autodetect whether flipping is needed.\n    var flipXY = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(options.flipXY, false);\n    if (flipXY) {\n      swXY = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n        parseFloat(bbox.getAttribute("miny")),\n        parseFloat(bbox.getAttribute("minx"))\n      );\n      neXY = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n        parseFloat(bbox.getAttribute("maxy")),\n        parseFloat(bbox.getAttribute("maxx"))\n      );\n    } else {\n      swXY = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n        parseFloat(bbox.getAttribute("minx")),\n        parseFloat(bbox.getAttribute("miny"))\n      );\n      neXY = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n        parseFloat(bbox.getAttribute("maxx")),\n        parseFloat(bbox.getAttribute("maxy"))\n      );\n    }\n\n    // Determine based on the profile attribute if this tileset was generated by gdal2tiles.py, which\n    // uses \'mercator\' and \'geodetic\' profiles, or by a tool compliant with the TMS standard, which is\n    // \'global-mercator\' and \'global-geodetic\' profiles. In the gdal2Tiles case, X and Y are always in\n    // geodetic degrees.\n    var isGdal2tiles =\n      tilingSchemeName === "geodetic" || tilingSchemeName === "mercator";\n    if (\n      tilingScheme.projection instanceof _Core_GeographicProjection_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z ||\n      isGdal2tiles\n    ) {\n      sw = _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromDegrees */ .Z.fromDegrees(swXY.x, swXY.y);\n      ne = _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromDegrees */ .Z.fromDegrees(neXY.x, neXY.y);\n    } else {\n      var projection = tilingScheme.projection;\n      sw = projection.unproject(swXY);\n      ne = projection.unproject(neXY);\n    }\n\n    rectangle = new _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      sw.longitude,\n      sw.latitude,\n      ne.longitude,\n      ne.latitude\n    );\n  }\n\n  // The rectangle must not be outside the bounds allowed by the tiling scheme.\n  rectangle = confineRectangleToTilingScheme(rectangle, tilingScheme);\n  // clamp our minimum detail level to something that isn\'t going to request a ridiculous number of tiles\n  minimumLevel = calculateSafeMinimumDetailLevel(\n    tilingScheme,\n    rectangle,\n    minimumLevel\n  );\n\n  var templateResource = this._tmsResource.getDerivedResource({\n    url: "{z}/{x}/{reverseY}." + fileExtension,\n  });\n\n  deferred.resolve({\n    url: templateResource,\n    tilingScheme: tilingScheme,\n    rectangle: rectangle,\n    tileWidth: tileWidth,\n    tileHeight: tileHeight,\n    minimumLevel: minimumLevel,\n    maximumLevel: maximumLevel,\n    tileDiscardPolicy: options.tileDiscardPolicy,\n    credit: options.credit,\n  });\n};\n\nTileMapServiceImageryProvider.prototype._metadataFailure = function (error) {\n  // Can\'t load XML, still allow options and defaults\n  var options = this._options;\n  var fileExtension = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(options.fileExtension, "png");\n  var tileWidth = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(options.tileWidth, 256);\n  var tileHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(options.tileHeight, 256);\n  var maximumLevel = options.maximumLevel;\n  var tilingScheme = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(options.tilingScheme)\n    ? options.tilingScheme\n    : new _Core_WebMercatorTilingScheme_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({ ellipsoid: options.ellipsoid });\n\n  var rectangle = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(options.rectangle, tilingScheme.rectangle);\n  // The rectangle must not be outside the bounds allowed by the tiling scheme.\n  rectangle = confineRectangleToTilingScheme(rectangle, tilingScheme);\n\n  // make sure we use a safe minimum detail level, so we don\'t request a ridiculous number of tiles\n  var minimumLevel = calculateSafeMinimumDetailLevel(\n    tilingScheme,\n    rectangle,\n    options.maximumLevel\n  );\n\n  var templateResource = this._tmsResource.getDerivedResource({\n    url: "{z}/{x}/{reverseY}." + fileExtension,\n  });\n\n  this._deferred.resolve({\n    url: templateResource,\n    tilingScheme: tilingScheme,\n    rectangle: rectangle,\n    tileWidth: tileWidth,\n    tileHeight: tileHeight,\n    minimumLevel: minimumLevel,\n    maximumLevel: maximumLevel,\n    tileDiscardPolicy: options.tileDiscardPolicy,\n    credit: options.credit,\n  });\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (TileMapServiceImageryProvider);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixtQkFBbUIsMEVBQVk7QUFDL0I7QUFDQSxxQkFBcUIsc0VBQU87QUFDNUI7QUFDQSxVQUFVLGtGQUF1QixHQUFHLDhCQUE4Qjs7QUFFbEUsa0JBQWtCLDBFQUFZO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVM7QUFDNUIsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSx5REFBZSw2QkFBNkIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9UaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlci5qcz8yNzJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXJ0ZXNpYW4yIGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjIuanNcIjtcbmltcG9ydCBDYXJ0b2dyYXBoaWMgZnJvbSBcIi4uL0NvcmUvQ2FydG9ncmFwaGljLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgR2VvZ3JhcGhpY1Byb2plY3Rpb24gZnJvbSBcIi4uL0NvcmUvR2VvZ3JhcGhpY1Byb2plY3Rpb24uanNcIjtcbmltcG9ydCBHZW9ncmFwaGljVGlsaW5nU2NoZW1lIGZyb20gXCIuLi9Db3JlL0dlb2dyYXBoaWNUaWxpbmdTY2hlbWUuanNcIjtcbmltcG9ydCBSZWN0YW5nbGUgZnJvbSBcIi4uL0NvcmUvUmVjdGFuZ2xlLmpzXCI7XG5pbXBvcnQgUmVzb3VyY2UgZnJvbSBcIi4uL0NvcmUvUmVzb3VyY2UuanNcIjtcbmltcG9ydCBSdW50aW1lRXJyb3IgZnJvbSBcIi4uL0NvcmUvUnVudGltZUVycm9yLmpzXCI7XG5pbXBvcnQgVGlsZVByb3ZpZGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvVGlsZVByb3ZpZGVyRXJyb3IuanNcIjtcbmltcG9ydCBXZWJNZXJjYXRvclRpbGluZ1NjaGVtZSBmcm9tIFwiLi4vQ29yZS9XZWJNZXJjYXRvclRpbGluZ1NjaGVtZS5qc1wiO1xuaW1wb3J0IHdoZW4gZnJvbSBcIi4uL1RoaXJkUGFydHkvd2hlbi5qc1wiO1xuaW1wb3J0IFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyIGZyb20gXCIuL1VybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLmpzXCI7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIuQ29uc3RydWN0b3JPcHRpb25zXG4gKlxuICogSW5pdGlhbGl6YXRpb24gb3B0aW9ucyBmb3IgdGhlIFRpbGVNYXBTZXJ2aWNlSW1hZ2VyeVByb3ZpZGVyIGNvbnN0cnVjdG9yXG4gKlxuICogQHByb3BlcnR5IHtSZXNvdXJjZXxTdHJpbmd8UHJvbWlzZTxSZXNvdXJjZT58UHJvbWlzZTxTdHJpbmc+fSBbdXJsPScuJ10gUGF0aCB0byBpbWFnZSB0aWxlcyBvbiBzZXJ2ZXIuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW2ZpbGVFeHRlbnNpb249J3BuZyddIFRoZSBmaWxlIGV4dGVuc2lvbiBmb3IgaW1hZ2VzIG9uIHRoZSBzZXJ2ZXIuXG4gKiBAcHJvcGVydHkge0NyZWRpdHxTdHJpbmd9IFtjcmVkaXQ9JyddIEEgY3JlZGl0IGZvciB0aGUgZGF0YSBzb3VyY2UsIHdoaWNoIGlzIGRpc3BsYXllZCBvbiB0aGUgY2FudmFzLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFttaW5pbXVtTGV2ZWw9MF0gVGhlIG1pbmltdW0gbGV2ZWwtb2YtZGV0YWlsIHN1cHBvcnRlZCBieSB0aGUgaW1hZ2VyeSBwcm92aWRlci4gIFRha2UgY2FyZSB3aGVuIHNwZWNpZnlpbmdcbiAqICAgICAgICAgICAgICAgICB0aGlzIHRoYXQgdGhlIG51bWJlciBvZiB0aWxlcyBhdCB0aGUgbWluaW11bSBsZXZlbCBpcyBzbWFsbCwgc3VjaCBhcyBmb3VyIG9yIGxlc3MuICBBIGxhcmdlciBudW1iZXIgaXMgbGlrZWx5XG4gKiAgICAgICAgICAgICAgICAgdG8gcmVzdWx0IGluIHJlbmRlcmluZyBwcm9ibGVtcy5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbWF4aW11bUxldmVsXSBUaGUgbWF4aW11bSBsZXZlbC1vZi1kZXRhaWwgc3VwcG9ydGVkIGJ5IHRoZSBpbWFnZXJ5IHByb3ZpZGVyLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgaXMgbm8gbGltaXQuXG4gKiBAcHJvcGVydHkge1JlY3RhbmdsZX0gW3JlY3RhbmdsZT1SZWN0YW5nbGUuTUFYX1ZBTFVFXSBUaGUgcmVjdGFuZ2xlLCBpbiByYWRpYW5zLCBjb3ZlcmVkIGJ5IHRoZSBpbWFnZS5cbiAqIEBwcm9wZXJ0eSB7VGlsaW5nU2NoZW1lfSBbdGlsaW5nU2NoZW1lXSBUaGUgdGlsaW5nIHNjaGVtZSBzcGVjaWZ5aW5nIGhvdyB0aGUgZWxsaXBzb2lkYWxcbiAqIHN1cmZhY2UgaXMgYnJva2VuIGludG8gdGlsZXMuICBJZiB0aGlzIHBhcmFtZXRlciBpcyBub3QgcHJvdmlkZWQsIGEge0BsaW5rIFdlYk1lcmNhdG9yVGlsaW5nU2NoZW1lfVxuICogaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7RWxsaXBzb2lkfSBbZWxsaXBzb2lkXSBUaGUgZWxsaXBzb2lkLiAgSWYgdGhlIHRpbGluZ1NjaGVtZSBpcyBzcGVjaWZpZWQsXG4gKiAgICAgICAgICAgICAgICAgICAgdGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBhbmQgdGhlIHRpbGluZyBzY2hlbWUncyBlbGxpcHNvaWQgaXMgdXNlZCBpbnN0ZWFkLiBJZiBuZWl0aGVyXG4gKiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGlzIHNwZWNpZmllZCwgdGhlIFdHUzg0IGVsbGlwc29pZCBpcyB1c2VkLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFt0aWxlV2lkdGg9MjU2XSBQaXhlbCB3aWR0aCBvZiBpbWFnZSB0aWxlcy5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdGlsZUhlaWdodD0yNTZdIFBpeGVsIGhlaWdodCBvZiBpbWFnZSB0aWxlcy5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2ZsaXBYWV0gT2xkZXIgdmVyc2lvbnMgb2YgZ2RhbDJ0aWxlcy5weSBmbGlwcGVkIFggYW5kIFkgdmFsdWVzIGluIHRpbGVtYXByZXNvdXJjZS54bWwuXG4gKiBTcGVjaWZ5aW5nIHRoaXMgb3B0aW9uIHdpbGwgZG8gdGhlIHNhbWUsIGFsbG93aW5nIGZvciBsb2FkaW5nIG9mIHRoZXNlIGluY29ycmVjdCB0aWxlc2V0cy5cbiAqL1xuXG4vKipcbiAqIEFuIGltYWdlcnkgcHJvdmlkZXIgdGhhdCBwcm92aWRlcyB0aWxlZCBpbWFnZXJ5IGFzIGdlbmVyYXRlZCBieVxuICoge0BsaW5rIGh0dHA6Ly93d3cubWFwdGlsZXIub3JnL3xNYXBUaWxlcn0sIHtAbGluayBodHRwOi8vd3d3Lmtsb2thbi5jei9wcm9qZWN0cy9nZGFsMnRpbGVzL3xHREFMMlRpbGVzfSwgZXRjLlxuICpcbiAqIEBhbGlhcyBUaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlclxuICpcbiAqIEBwYXJhbSB7VGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIuQ29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zIE9iamVjdCBkZXNjcmliaW5nIGluaXRpYWxpemF0aW9uIG9wdGlvbnNcbiAqXG4gKiBAc2VlIEFyY0dpc01hcFNlcnZlckltYWdlcnlQcm92aWRlclxuICogQHNlZSBCaW5nTWFwc0ltYWdlcnlQcm92aWRlclxuICogQHNlZSBHb29nbGVFYXJ0aEVudGVycHJpc2VNYXBzUHJvdmlkZXJcbiAqIEBzZWUgT3BlblN0cmVldE1hcEltYWdlcnlQcm92aWRlclxuICogQHNlZSBTaW5nbGVUaWxlSW1hZ2VyeVByb3ZpZGVyXG4gKiBAc2VlIFdlYk1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgV2ViTWFwVGlsZVNlcnZpY2VJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIHRtcyA9IG5ldyBDZXNpdW0uVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIoe1xuICogICAgdXJsIDogJy4uL2ltYWdlcy9jZXNpdW1fbWFwdGlsZXIvQ2VzaXVtX0xvZ29fQ29sb3InLFxuICogICAgZmlsZUV4dGVuc2lvbjogJ3BuZycsXG4gKiAgICBtYXhpbXVtTGV2ZWw6IDQsXG4gKiAgICByZWN0YW5nbGU6IG5ldyBDZXNpdW0uUmVjdGFuZ2xlKFxuICogICAgICAgIENlc2l1bS5NYXRoLnRvUmFkaWFucygtMTIwLjApLFxuICogICAgICAgIENlc2l1bS5NYXRoLnRvUmFkaWFucygyMC4wKSxcbiAqICAgICAgICBDZXNpdW0uTWF0aC50b1JhZGlhbnMoLTYwLjApLFxuICogICAgICAgIENlc2l1bS5NYXRoLnRvUmFkaWFucyg0MC4wKSlcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBUaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlcihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKG9wdGlvbnMudXJsKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMudXJsIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgZGVmZXJyZWQgPSB3aGVuLmRlZmVyKCk7XG4gIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLmNhbGwodGhpcywgZGVmZXJyZWQucHJvbWlzZSk7XG5cbiAgdGhpcy5fdG1zUmVzb3VyY2UgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3htbFJlc291cmNlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5fZGVmZXJyZWQgPSBkZWZlcnJlZDtcbiAgdGhpcy5fbWV0YWRhdGFFcnJvciA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9tZXRhZGF0YVN1Y2Nlc3MgPSB0aGlzLl9tZXRhZGF0YVN1Y2Nlc3MuYmluZCh0aGlzKTtcbiAgdGhpcy5fbWV0YWRhdGFGYWlsdXJlID0gdGhpcy5fbWV0YWRhdGFGYWlsdXJlLmJpbmQodGhpcyk7XG4gIHRoaXMuX3JlcXVlc3RNZXRhZGF0YSA9IHRoaXMuX3JlcXVlc3RNZXRhZGF0YS5iaW5kKHRoaXMpO1xuXG4gIHZhciByZXNvdXJjZTtcbiAgdmFyIHRoYXQgPSB0aGlzO1xuICB3aGVuKG9wdGlvbnMudXJsKVxuICAgIC50aGVuKGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgIHJlc291cmNlID0gUmVzb3VyY2UuY3JlYXRlSWZOZWVkZWQodXJsKTtcbiAgICAgIHJlc291cmNlLmFwcGVuZEZvcndhcmRTbGFzaCgpO1xuXG4gICAgICB0aGF0Ll90bXNSZXNvdXJjZSA9IHJlc291cmNlO1xuICAgICAgdGhhdC5feG1sUmVzb3VyY2UgPSByZXNvdXJjZS5nZXREZXJpdmVkUmVzb3VyY2Uoe1xuICAgICAgICB1cmw6IFwidGlsZW1hcHJlc291cmNlLnhtbFwiLFxuICAgICAgfSk7XG5cbiAgICAgIHRoYXQuX3JlcXVlc3RNZXRhZGF0YSgpO1xuICAgIH0pXG4gICAgLm90aGVyd2lzZShmdW5jdGlvbiAoZSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KGUpO1xuICAgIH0pO1xufVxuXG5pZiAoZGVmaW5lZChPYmplY3QuY3JlYXRlKSkge1xuICBUaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFxuICAgIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICApO1xuICBUaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlcjtcbn1cblxuVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlLl9yZXF1ZXN0TWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRyeSB0byBsb2FkIHJlbWFpbmluZyBwYXJhbWV0ZXJzIGZyb20gWE1MXG4gIHRoaXMuX3htbFJlc291cmNlXG4gICAgLmZldGNoWE1MKClcbiAgICAudGhlbih0aGlzLl9tZXRhZGF0YVN1Y2Nlc3MpXG4gICAgLm90aGVyd2lzZSh0aGlzLl9tZXRhZGF0YUZhaWx1cmUpO1xufTtcblxuLyoqXG4gKiBNdXRhdGVzIHRoZSBwcm9wZXJ0aWVzIG9mIGEgZ2l2ZW4gcmVjdGFuZ2xlIHNvIGl0IGRvZXMgbm90IGV4dGVuZCBvdXRzaWRlIG9mIHRoZSBnaXZlbiB0aWxpbmcgc2NoZW1lJ3MgcmVjdGFuZ2xlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb25maW5lUmVjdGFuZ2xlVG9UaWxpbmdTY2hlbWUocmVjdGFuZ2xlLCB0aWxpbmdTY2hlbWUpIHtcbiAgaWYgKHJlY3RhbmdsZS53ZXN0IDwgdGlsaW5nU2NoZW1lLnJlY3RhbmdsZS53ZXN0KSB7XG4gICAgcmVjdGFuZ2xlLndlc3QgPSB0aWxpbmdTY2hlbWUucmVjdGFuZ2xlLndlc3Q7XG4gIH1cbiAgaWYgKHJlY3RhbmdsZS5lYXN0ID4gdGlsaW5nU2NoZW1lLnJlY3RhbmdsZS5lYXN0KSB7XG4gICAgcmVjdGFuZ2xlLmVhc3QgPSB0aWxpbmdTY2hlbWUucmVjdGFuZ2xlLmVhc3Q7XG4gIH1cbiAgaWYgKHJlY3RhbmdsZS5zb3V0aCA8IHRpbGluZ1NjaGVtZS5yZWN0YW5nbGUuc291dGgpIHtcbiAgICByZWN0YW5nbGUuc291dGggPSB0aWxpbmdTY2hlbWUucmVjdGFuZ2xlLnNvdXRoO1xuICB9XG4gIGlmIChyZWN0YW5nbGUubm9ydGggPiB0aWxpbmdTY2hlbWUucmVjdGFuZ2xlLm5vcnRoKSB7XG4gICAgcmVjdGFuZ2xlLm5vcnRoID0gdGlsaW5nU2NoZW1lLnJlY3RhbmdsZS5ub3J0aDtcbiAgfVxuICByZXR1cm4gcmVjdGFuZ2xlO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVTYWZlTWluaW11bURldGFpbExldmVsKFxuICB0aWxpbmdTY2hlbWUsXG4gIHJlY3RhbmdsZSxcbiAgbWluaW11bUxldmVsXG4pIHtcbiAgLy8gQ2hlY2sgdGhlIG51bWJlciBvZiB0aWxlcyBhdCB0aGUgbWluaW11bSBsZXZlbC4gIElmIGl0J3MgbW9yZSB0aGFuIGZvdXIsXG4gIC8vIHRyeSByZXF1ZXN0aW5nIHRoZSBsb3dlciBsZXZlbHMgYW55d2F5LCBiZWNhdXNlIHN0YXJ0aW5nIGF0IHRoZSBoaWdoZXIgbWluaW11bVxuICAvLyBsZXZlbCB3aWxsIGNhdXNlIHRvbyBtYW55IHRpbGVzIHRvIGJlIGRvd25sb2FkZWQgYW5kIHJlbmRlcmVkLlxuICB2YXIgc3dUaWxlID0gdGlsaW5nU2NoZW1lLnBvc2l0aW9uVG9UaWxlWFkoXG4gICAgUmVjdGFuZ2xlLnNvdXRod2VzdChyZWN0YW5nbGUpLFxuICAgIG1pbmltdW1MZXZlbFxuICApO1xuICB2YXIgbmVUaWxlID0gdGlsaW5nU2NoZW1lLnBvc2l0aW9uVG9UaWxlWFkoXG4gICAgUmVjdGFuZ2xlLm5vcnRoZWFzdChyZWN0YW5nbGUpLFxuICAgIG1pbmltdW1MZXZlbFxuICApO1xuICB2YXIgdGlsZUNvdW50ID1cbiAgICAoTWF0aC5hYnMobmVUaWxlLnggLSBzd1RpbGUueCkgKyAxKSAqIChNYXRoLmFicyhuZVRpbGUueSAtIHN3VGlsZS55KSArIDEpO1xuICBpZiAodGlsZUNvdW50ID4gNCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiBtaW5pbXVtTGV2ZWw7XG59XG5cblRpbGVNYXBTZXJ2aWNlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5fbWV0YWRhdGFTdWNjZXNzID0gZnVuY3Rpb24gKHhtbCkge1xuICB2YXIgdGlsZUZvcm1hdFJlZ2V4ID0gL3RpbGVmb3JtYXQvaTtcbiAgdmFyIHRpbGVTZXRSZWdleCA9IC90aWxlc2V0L2k7XG4gIHZhciB0aWxlU2V0c1JlZ2V4ID0gL3RpbGVzZXRzL2k7XG4gIHZhciBiYm94UmVnZXggPSAvYm91bmRpbmdib3gvaTtcbiAgdmFyIGZvcm1hdCwgYmJveCwgdGlsZXNldHM7XG4gIHZhciB0aWxlc2V0c0xpc3QgPSBbXTsgLy9saXN0IG9mIFRpbGVTZXRzXG4gIHZhciB4bWxSZXNvdXJjZSA9IHRoaXMuX3htbFJlc291cmNlO1xuICB2YXIgbWV0YWRhdGFFcnJvciA9IHRoaXMuX21ldGFkYXRhRXJyb3I7XG4gIHZhciBkZWZlcnJlZCA9IHRoaXMuX2RlZmVycmVkO1xuICB2YXIgcmVxdWVzdE1ldGFkYXRhID0gdGhpcy5fcmVxdWVzdE1ldGFkYXRhO1xuXG4gIC8vIEFsbG93aW5nIG9wdGlvbnMgcHJvcGVydGllcyAoYWxyZWFkeSBjb3BpZWQgdG8gdGhhdCkgdG8gb3ZlcnJpZGUgWE1MIHZhbHVlc1xuXG4gIC8vIEl0ZXJhdGUgWE1MIERvY3VtZW50IG5vZGVzIGZvciBwcm9wZXJ0aWVzXG4gIHZhciBub2RlTGlzdCA9IHhtbC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGlsZUZvcm1hdFJlZ2V4LnRlc3Qobm9kZUxpc3QuaXRlbShpKS5ub2RlTmFtZSkpIHtcbiAgICAgIGZvcm1hdCA9IG5vZGVMaXN0Lml0ZW0oaSk7XG4gICAgfSBlbHNlIGlmICh0aWxlU2V0c1JlZ2V4LnRlc3Qobm9kZUxpc3QuaXRlbShpKS5ub2RlTmFtZSkpIHtcbiAgICAgIHRpbGVzZXRzID0gbm9kZUxpc3QuaXRlbShpKTsgLy8gTm9kZSBsaXN0IG9mIFRpbGVTZXRzXG4gICAgICB2YXIgdGlsZVNldE5vZGVzID0gbm9kZUxpc3QuaXRlbShpKS5jaGlsZE5vZGVzO1xuICAgICAgLy8gSXRlcmF0ZSB0aGUgbm9kZXMgdG8gZmluZCBhbGwgVGlsZVNldHNcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGlsZVNldE5vZGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0aWxlU2V0UmVnZXgudGVzdCh0aWxlU2V0Tm9kZXMuaXRlbShqKS5ub2RlTmFtZSkpIHtcbiAgICAgICAgICAvLyBBZGQgdGhlbSB0byB0aWxlc2V0cyBsaXN0XG4gICAgICAgICAgdGlsZXNldHNMaXN0LnB1c2godGlsZVNldE5vZGVzLml0ZW0oaikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChiYm94UmVnZXgudGVzdChub2RlTGlzdC5pdGVtKGkpLm5vZGVOYW1lKSkge1xuICAgICAgYmJveCA9IG5vZGVMaXN0Lml0ZW0oaSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG1lc3NhZ2U7XG4gIGlmICghZGVmaW5lZCh0aWxlc2V0cykgfHwgIWRlZmluZWQoYmJveCkpIHtcbiAgICBtZXNzYWdlID1cbiAgICAgIFwiVW5hYmxlIHRvIGZpbmQgZXhwZWN0ZWQgdGlsZXNldHMgb3IgYmJveCBhdHRyaWJ1dGVzIGluIFwiICtcbiAgICAgIHhtbFJlc291cmNlLnVybCArXG4gICAgICBcIi5cIjtcbiAgICBtZXRhZGF0YUVycm9yID0gVGlsZVByb3ZpZGVyRXJyb3IuaGFuZGxlRXJyb3IoXG4gICAgICBtZXRhZGF0YUVycm9yLFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMuZXJyb3JFdmVudCxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICByZXF1ZXN0TWV0YWRhdGFcbiAgICApO1xuICAgIGlmICghbWV0YWRhdGFFcnJvci5yZXRyeSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KG5ldyBSdW50aW1lRXJyb3IobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0aGlzLl9tZXRhZGF0YUVycm9yID0gbWV0YWRhdGFFcnJvcjtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG4gIHZhciBmaWxlRXh0ZW5zaW9uID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMuZmlsZUV4dGVuc2lvbixcbiAgICBmb3JtYXQuZ2V0QXR0cmlidXRlKFwiZXh0ZW5zaW9uXCIpXG4gICk7XG4gIHZhciB0aWxlV2lkdGggPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy50aWxlV2lkdGgsXG4gICAgcGFyc2VJbnQoZm9ybWF0LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLCAxMClcbiAgKTtcbiAgdmFyIHRpbGVIZWlnaHQgPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy50aWxlSGVpZ2h0LFxuICAgIHBhcnNlSW50KGZvcm1hdC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksIDEwKVxuICApO1xuICB2YXIgbWluaW11bUxldmVsID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMubWluaW11bUxldmVsLFxuICAgIHBhcnNlSW50KHRpbGVzZXRzTGlzdFswXS5nZXRBdHRyaWJ1dGUoXCJvcmRlclwiKSwgMTApXG4gICk7XG4gIHZhciBtYXhpbXVtTGV2ZWwgPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy5tYXhpbXVtTGV2ZWwsXG4gICAgcGFyc2VJbnQodGlsZXNldHNMaXN0W3RpbGVzZXRzTGlzdC5sZW5ndGggLSAxXS5nZXRBdHRyaWJ1dGUoXCJvcmRlclwiKSwgMTApXG4gICk7XG4gIHZhciB0aWxpbmdTY2hlbWVOYW1lID0gdGlsZXNldHMuZ2V0QXR0cmlidXRlKFwicHJvZmlsZVwiKTtcbiAgdmFyIHRpbGluZ1NjaGVtZSA9IG9wdGlvbnMudGlsaW5nU2NoZW1lO1xuXG4gIGlmICghZGVmaW5lZCh0aWxpbmdTY2hlbWUpKSB7XG4gICAgaWYgKFxuICAgICAgdGlsaW5nU2NoZW1lTmFtZSA9PT0gXCJnZW9kZXRpY1wiIHx8XG4gICAgICB0aWxpbmdTY2hlbWVOYW1lID09PSBcImdsb2JhbC1nZW9kZXRpY1wiXG4gICAgKSB7XG4gICAgICB0aWxpbmdTY2hlbWUgPSBuZXcgR2VvZ3JhcGhpY1RpbGluZ1NjaGVtZSh7XG4gICAgICAgIGVsbGlwc29pZDogb3B0aW9ucy5lbGxpcHNvaWQsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGlsaW5nU2NoZW1lTmFtZSA9PT0gXCJtZXJjYXRvclwiIHx8XG4gICAgICB0aWxpbmdTY2hlbWVOYW1lID09PSBcImdsb2JhbC1tZXJjYXRvclwiXG4gICAgKSB7XG4gICAgICB0aWxpbmdTY2hlbWUgPSBuZXcgV2ViTWVyY2F0b3JUaWxpbmdTY2hlbWUoe1xuICAgICAgICBlbGxpcHNvaWQ6IG9wdGlvbnMuZWxsaXBzb2lkLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPVxuICAgICAgICB4bWxSZXNvdXJjZS51cmwgK1xuICAgICAgICBcInNwZWNpZmllcyBhbiB1bnN1cHBvcnRlZCBwcm9maWxlIGF0dHJpYnV0ZSwgXCIgK1xuICAgICAgICB0aWxpbmdTY2hlbWVOYW1lICtcbiAgICAgICAgXCIuXCI7XG4gICAgICBtZXRhZGF0YUVycm9yID0gVGlsZVByb3ZpZGVyRXJyb3IuaGFuZGxlRXJyb3IoXG4gICAgICAgIG1ldGFkYXRhRXJyb3IsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMuZXJyb3JFdmVudCxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgcmVxdWVzdE1ldGFkYXRhXG4gICAgICApO1xuICAgICAgaWYgKCFtZXRhZGF0YUVycm9yLnJldHJ5KSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChuZXcgUnVudGltZUVycm9yKG1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21ldGFkYXRhRXJyb3IgPSBtZXRhZGF0YUVycm9yO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIC8vIHJlY3RhbmdsZSBoYW5kbGluZ1xuICB2YXIgcmVjdGFuZ2xlID0gUmVjdGFuZ2xlLmNsb25lKG9wdGlvbnMucmVjdGFuZ2xlKTtcblxuICBpZiAoIWRlZmluZWQocmVjdGFuZ2xlKSkge1xuICAgIHZhciBzdztcbiAgICB2YXIgbmU7XG4gICAgdmFyIHN3WFk7XG4gICAgdmFyIG5lWFk7XG5cbiAgICAvLyBJbiBvbGRlciB2ZXJzaW9ucyBvZiBnZGFsIHggYW5kIHkgdmFsdWVzIHdlcmUgZmxpcHBlZCwgd2hpY2ggaXMgd2h5IHdlIGNoZWNrIGZvciBhbiBvcHRpb24gdG8gZmxpcFxuICAgIC8vIHRoZSB2YWx1ZXMgaGVyZSBhcyB3ZWxsLiBVbmZvcnR1bmF0ZWx5IHRoZXJlIGlzIG5vIHdheSB0byBhdXRvZGV0ZWN0IHdoZXRoZXIgZmxpcHBpbmcgaXMgbmVlZGVkLlxuICAgIHZhciBmbGlwWFkgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5mbGlwWFksIGZhbHNlKTtcbiAgICBpZiAoZmxpcFhZKSB7XG4gICAgICBzd1hZID0gbmV3IENhcnRlc2lhbjIoXG4gICAgICAgIHBhcnNlRmxvYXQoYmJveC5nZXRBdHRyaWJ1dGUoXCJtaW55XCIpKSxcbiAgICAgICAgcGFyc2VGbG9hdChiYm94LmdldEF0dHJpYnV0ZShcIm1pbnhcIikpXG4gICAgICApO1xuICAgICAgbmVYWSA9IG5ldyBDYXJ0ZXNpYW4yKFxuICAgICAgICBwYXJzZUZsb2F0KGJib3guZ2V0QXR0cmlidXRlKFwibWF4eVwiKSksXG4gICAgICAgIHBhcnNlRmxvYXQoYmJveC5nZXRBdHRyaWJ1dGUoXCJtYXh4XCIpKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3dYWSA9IG5ldyBDYXJ0ZXNpYW4yKFxuICAgICAgICBwYXJzZUZsb2F0KGJib3guZ2V0QXR0cmlidXRlKFwibWlueFwiKSksXG4gICAgICAgIHBhcnNlRmxvYXQoYmJveC5nZXRBdHRyaWJ1dGUoXCJtaW55XCIpKVxuICAgICAgKTtcbiAgICAgIG5lWFkgPSBuZXcgQ2FydGVzaWFuMihcbiAgICAgICAgcGFyc2VGbG9hdChiYm94LmdldEF0dHJpYnV0ZShcIm1heHhcIikpLFxuICAgICAgICBwYXJzZUZsb2F0KGJib3guZ2V0QXR0cmlidXRlKFwibWF4eVwiKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIGJhc2VkIG9uIHRoZSBwcm9maWxlIGF0dHJpYnV0ZSBpZiB0aGlzIHRpbGVzZXQgd2FzIGdlbmVyYXRlZCBieSBnZGFsMnRpbGVzLnB5LCB3aGljaFxuICAgIC8vIHVzZXMgJ21lcmNhdG9yJyBhbmQgJ2dlb2RldGljJyBwcm9maWxlcywgb3IgYnkgYSB0b29sIGNvbXBsaWFudCB3aXRoIHRoZSBUTVMgc3RhbmRhcmQsIHdoaWNoIGlzXG4gICAgLy8gJ2dsb2JhbC1tZXJjYXRvcicgYW5kICdnbG9iYWwtZ2VvZGV0aWMnIHByb2ZpbGVzLiBJbiB0aGUgZ2RhbDJUaWxlcyBjYXNlLCBYIGFuZCBZIGFyZSBhbHdheXMgaW5cbiAgICAvLyBnZW9kZXRpYyBkZWdyZWVzLlxuICAgIHZhciBpc0dkYWwydGlsZXMgPVxuICAgICAgdGlsaW5nU2NoZW1lTmFtZSA9PT0gXCJnZW9kZXRpY1wiIHx8IHRpbGluZ1NjaGVtZU5hbWUgPT09IFwibWVyY2F0b3JcIjtcbiAgICBpZiAoXG4gICAgICB0aWxpbmdTY2hlbWUucHJvamVjdGlvbiBpbnN0YW5jZW9mIEdlb2dyYXBoaWNQcm9qZWN0aW9uIHx8XG4gICAgICBpc0dkYWwydGlsZXNcbiAgICApIHtcbiAgICAgIHN3ID0gQ2FydG9ncmFwaGljLmZyb21EZWdyZWVzKHN3WFkueCwgc3dYWS55KTtcbiAgICAgIG5lID0gQ2FydG9ncmFwaGljLmZyb21EZWdyZWVzKG5lWFkueCwgbmVYWS55KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb2plY3Rpb24gPSB0aWxpbmdTY2hlbWUucHJvamVjdGlvbjtcbiAgICAgIHN3ID0gcHJvamVjdGlvbi51bnByb2plY3Qoc3dYWSk7XG4gICAgICBuZSA9IHByb2plY3Rpb24udW5wcm9qZWN0KG5lWFkpO1xuICAgIH1cblxuICAgIHJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICBzdy5sb25naXR1ZGUsXG4gICAgICBzdy5sYXRpdHVkZSxcbiAgICAgIG5lLmxvbmdpdHVkZSxcbiAgICAgIG5lLmxhdGl0dWRlXG4gICAgKTtcbiAgfVxuXG4gIC8vIFRoZSByZWN0YW5nbGUgbXVzdCBub3QgYmUgb3V0c2lkZSB0aGUgYm91bmRzIGFsbG93ZWQgYnkgdGhlIHRpbGluZyBzY2hlbWUuXG4gIHJlY3RhbmdsZSA9IGNvbmZpbmVSZWN0YW5nbGVUb1RpbGluZ1NjaGVtZShyZWN0YW5nbGUsIHRpbGluZ1NjaGVtZSk7XG4gIC8vIGNsYW1wIG91ciBtaW5pbXVtIGRldGFpbCBsZXZlbCB0byBzb21ldGhpbmcgdGhhdCBpc24ndCBnb2luZyB0byByZXF1ZXN0IGEgcmlkaWN1bG91cyBudW1iZXIgb2YgdGlsZXNcbiAgbWluaW11bUxldmVsID0gY2FsY3VsYXRlU2FmZU1pbmltdW1EZXRhaWxMZXZlbChcbiAgICB0aWxpbmdTY2hlbWUsXG4gICAgcmVjdGFuZ2xlLFxuICAgIG1pbmltdW1MZXZlbFxuICApO1xuXG4gIHZhciB0ZW1wbGF0ZVJlc291cmNlID0gdGhpcy5fdG1zUmVzb3VyY2UuZ2V0RGVyaXZlZFJlc291cmNlKHtcbiAgICB1cmw6IFwie3p9L3t4fS97cmV2ZXJzZVl9LlwiICsgZmlsZUV4dGVuc2lvbixcbiAgfSk7XG5cbiAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgdXJsOiB0ZW1wbGF0ZVJlc291cmNlLFxuICAgIHRpbGluZ1NjaGVtZTogdGlsaW5nU2NoZW1lLFxuICAgIHJlY3RhbmdsZTogcmVjdGFuZ2xlLFxuICAgIHRpbGVXaWR0aDogdGlsZVdpZHRoLFxuICAgIHRpbGVIZWlnaHQ6IHRpbGVIZWlnaHQsXG4gICAgbWluaW11bUxldmVsOiBtaW5pbXVtTGV2ZWwsXG4gICAgbWF4aW11bUxldmVsOiBtYXhpbXVtTGV2ZWwsXG4gICAgdGlsZURpc2NhcmRQb2xpY3k6IG9wdGlvbnMudGlsZURpc2NhcmRQb2xpY3ksXG4gICAgY3JlZGl0OiBvcHRpb25zLmNyZWRpdCxcbiAgfSk7XG59O1xuXG5UaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUuX21ldGFkYXRhRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAvLyBDYW4ndCBsb2FkIFhNTCwgc3RpbGwgYWxsb3cgb3B0aW9ucyBhbmQgZGVmYXVsdHNcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuICB2YXIgZmlsZUV4dGVuc2lvbiA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmZpbGVFeHRlbnNpb24sIFwicG5nXCIpO1xuICB2YXIgdGlsZVdpZHRoID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMudGlsZVdpZHRoLCAyNTYpO1xuICB2YXIgdGlsZUhlaWdodCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnRpbGVIZWlnaHQsIDI1Nik7XG4gIHZhciBtYXhpbXVtTGV2ZWwgPSBvcHRpb25zLm1heGltdW1MZXZlbDtcbiAgdmFyIHRpbGluZ1NjaGVtZSA9IGRlZmluZWQob3B0aW9ucy50aWxpbmdTY2hlbWUpXG4gICAgPyBvcHRpb25zLnRpbGluZ1NjaGVtZVxuICAgIDogbmV3IFdlYk1lcmNhdG9yVGlsaW5nU2NoZW1lKHsgZWxsaXBzb2lkOiBvcHRpb25zLmVsbGlwc29pZCB9KTtcblxuICB2YXIgcmVjdGFuZ2xlID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMucmVjdGFuZ2xlLCB0aWxpbmdTY2hlbWUucmVjdGFuZ2xlKTtcbiAgLy8gVGhlIHJlY3RhbmdsZSBtdXN0IG5vdCBiZSBvdXRzaWRlIHRoZSBib3VuZHMgYWxsb3dlZCBieSB0aGUgdGlsaW5nIHNjaGVtZS5cbiAgcmVjdGFuZ2xlID0gY29uZmluZVJlY3RhbmdsZVRvVGlsaW5nU2NoZW1lKHJlY3RhbmdsZSwgdGlsaW5nU2NoZW1lKTtcblxuICAvLyBtYWtlIHN1cmUgd2UgdXNlIGEgc2FmZSBtaW5pbXVtIGRldGFpbCBsZXZlbCwgc28gd2UgZG9uJ3QgcmVxdWVzdCBhIHJpZGljdWxvdXMgbnVtYmVyIG9mIHRpbGVzXG4gIHZhciBtaW5pbXVtTGV2ZWwgPSBjYWxjdWxhdGVTYWZlTWluaW11bURldGFpbExldmVsKFxuICAgIHRpbGluZ1NjaGVtZSxcbiAgICByZWN0YW5nbGUsXG4gICAgb3B0aW9ucy5tYXhpbXVtTGV2ZWxcbiAgKTtcblxuICB2YXIgdGVtcGxhdGVSZXNvdXJjZSA9IHRoaXMuX3Rtc1Jlc291cmNlLmdldERlcml2ZWRSZXNvdXJjZSh7XG4gICAgdXJsOiBcInt6fS97eH0ve3JldmVyc2VZfS5cIiArIGZpbGVFeHRlbnNpb24sXG4gIH0pO1xuXG4gIHRoaXMuX2RlZmVycmVkLnJlc29sdmUoe1xuICAgIHVybDogdGVtcGxhdGVSZXNvdXJjZSxcbiAgICB0aWxpbmdTY2hlbWU6IHRpbGluZ1NjaGVtZSxcbiAgICByZWN0YW5nbGU6IHJlY3RhbmdsZSxcbiAgICB0aWxlV2lkdGg6IHRpbGVXaWR0aCxcbiAgICB0aWxlSGVpZ2h0OiB0aWxlSGVpZ2h0LFxuICAgIG1pbmltdW1MZXZlbDogbWluaW11bUxldmVsLFxuICAgIG1heGltdW1MZXZlbDogbWF4aW11bUxldmVsLFxuICAgIHRpbGVEaXNjYXJkUG9saWN5OiBvcHRpb25zLnRpbGVEaXNjYXJkUG9saWN5LFxuICAgIGNyZWRpdDogb3B0aW9ucy5jcmVkaXQsXG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///80360\n')},8796:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": function() { return /* binding */ TileMetadata; }\n/* harmony export */ });\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18349);\n\n\n\n\n/**\n * Metadata about a 3D Tile. This represents the <code>3DTILES_metadata</code>\n * extension on a single {@link Cesium3DTile}\n * <p>\n * See the {@link https://github.com/CesiumGS/3d-tiles/tree/3d-tiles-next/extensions/3DTILES_metadata|3DTILES_metadata Extension} for 3D Tiles\n * </p>\n *\n * @param {Object} options Object with the following properties:\n * @param {Object} options.tile The extension JSON attached to the tile.\n * @param {MetadataClass} [options.class] The class that the tile metadata conforms to.\n *\n * @alias TileMetadata\n * @constructor\n * @private\n * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n */\nfunction TileMetadata(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.tile", options.tile);\n  //>>includeEnd(\'debug\');\n\n  this._class = options.class;\n\n  var tileMetadata = options.tile;\n  this._properties = tileMetadata.properties;\n  this._extensions = tileMetadata.extensions;\n  this._extras = tileMetadata.extras;\n}\n\nObject.defineProperties(TileMetadata.prototype, {\n  /**\n   * The class that properties conform to.\n   *\n   * @memberof TileMetadata.prototype\n   * @type {MetadataClass}\n   * @readonly\n   * @private\n   */\n  class: {\n    get: function () {\n      return this._class;\n    },\n  },\n\n  /**\n   * Extras in the JSON object.\n   *\n   * @memberof TileMetadata.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extras: {\n    get: function () {\n      return this._extras;\n    },\n  },\n\n  /**\n   * Extensions in the JSON object.\n   *\n   * @memberof TileMetadata.prototype\n   * @type {Object}\n   * @readonly\n   * @private\n   */\n  extensions: {\n    get: function () {\n      return this._extensions;\n    },\n  },\n});\n\n/**\n * Returns whether the tile has this property.\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {Boolean} Whether the tile has this property.\n * @private\n */\nTileMetadata.prototype.hasProperty = function (propertyId) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].hasProperty */ .Z.hasProperty(propertyId, this._properties, this._class);\n};\n\n/**\n * Returns whether the tile has a property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {Boolean} Whether the tile has a property with the given semantic.\n * @private\n */\nTileMetadata.prototype.hasPropertyBySemantic = function (semantic) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].hasPropertyBySemantic */ .Z.hasPropertyBySemantic(\n    semantic,\n    this._properties,\n    this._class\n  );\n};\n\n/**\n * Returns an array of property IDs.\n *\n * @param {String[]} [results] An array into which to store the results.\n * @returns {String[]} The property IDs.\n * @private\n */\nTileMetadata.prototype.getPropertyIds = function (results) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getPropertyIds */ .Z.getPropertyIds(this._properties, this._class, results);\n};\n\n/**\n * Returns a copy of the value of the property with the given ID.\n * <p>\n * If the property is normalized the normalized value is returned.\n * </p>\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {*} The value of the property or <code>undefined</code> if the tile does not have this property.\n * @private\n */\nTileMetadata.prototype.getProperty = function (propertyId) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getProperty */ .Z.getProperty(propertyId, this._properties, this._class);\n};\n\n/**\n * Sets the value of the property with the given ID.\n * <p>\n * If the property is normalized a normalized value must be provided to this function.\n * </p>\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @param {*} value The value of the property that will be copied.\n * @returns {Boolean} <code>true</code> if the property was set, <code>false</code> otherwise.\n * @private\n */\nTileMetadata.prototype.setProperty = function (propertyId, value) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].setProperty */ .Z.setProperty(\n    propertyId,\n    value,\n    this._properties,\n    this._class\n  );\n};\n\n/**\n * Returns a copy of the value of the property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {*} The value of the property or <code>undefined</code> if the tile does not have this semantic.\n * @private\n */\nTileMetadata.prototype.getPropertyBySemantic = function (semantic) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getPropertyBySemantic */ .Z.getPropertyBySemantic(\n    semantic,\n    this._properties,\n    this._class\n  );\n};\n\n/**\n * Sets the value of the property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @param {*} value The value of the property that will be copied.\n * @returns {Boolean} <code>true</code> if the property was set, <code>false</code> otherwise.\n * @private\n */\nTileMetadata.prototype.setPropertyBySemantic = function (semantic, value) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].setPropertyBySemantic */ .Z.setPropertyBySemantic(\n    semantic,\n    value,\n    this._properties,\n    this._class\n  );\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc5Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDYztBQUNGOztBQUVqRDtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsWUFBWSxzSEFBc0g7QUFDbEk7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2YsWUFBWSwwRUFBWSxVQUFVLGdHQUF5Qjs7QUFFM0Q7QUFDQSxFQUFFLDJGQUFtQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsU0FBUywyRkFBMEI7QUFDbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtHQUFvQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpR0FBNkI7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJGQUEwQjtBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkZBQTBCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0dBQW9DO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtHQUFvQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZU1ldGFkYXRhLmpzP2FlN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IE1ldGFkYXRhRW50aXR5IGZyb20gXCIuL01ldGFkYXRhRW50aXR5LmpzXCI7XG5cbi8qKlxuICogTWV0YWRhdGEgYWJvdXQgYSAzRCBUaWxlLiBUaGlzIHJlcHJlc2VudHMgdGhlIDxjb2RlPjNEVElMRVNfbWV0YWRhdGE8L2NvZGU+XG4gKiBleHRlbnNpb24gb24gYSBzaW5nbGUge0BsaW5rIENlc2l1bTNEVGlsZX1cbiAqIDxwPlxuICogU2VlIHRoZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTLzNkLXRpbGVzL3RyZWUvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzNEVElMRVNfbWV0YWRhdGF8M0RUSUxFU19tZXRhZGF0YSBFeHRlbnNpb259IGZvciAzRCBUaWxlc1xuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnRpbGUgVGhlIGV4dGVuc2lvbiBKU09OIGF0dGFjaGVkIHRvIHRoZSB0aWxlLlxuICogQHBhcmFtIHtNZXRhZGF0YUNsYXNzfSBbb3B0aW9ucy5jbGFzc10gVGhlIGNsYXNzIHRoYXQgdGhlIHRpbGUgbWV0YWRhdGEgY29uZm9ybXMgdG8uXG4gKlxuICogQGFsaWFzIFRpbGVNZXRhZGF0YVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICogQGV4cGVyaW1lbnRhbCBUaGlzIGZlYXR1cmUgaXMgdXNpbmcgcGFydCBvZiB0aGUgM0QgVGlsZXMgc3BlYyB0aGF0IGlzIG5vdCBmaW5hbCBhbmQgaXMgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBDZXNpdW0ncyBzdGFuZGFyZCBkZXByZWNhdGlvbiBwb2xpY3kuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRpbGVNZXRhZGF0YShvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMudGlsZVwiLCBvcHRpb25zLnRpbGUpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLl9jbGFzcyA9IG9wdGlvbnMuY2xhc3M7XG5cbiAgdmFyIHRpbGVNZXRhZGF0YSA9IG9wdGlvbnMudGlsZTtcbiAgdGhpcy5fcHJvcGVydGllcyA9IHRpbGVNZXRhZGF0YS5wcm9wZXJ0aWVzO1xuICB0aGlzLl9leHRlbnNpb25zID0gdGlsZU1ldGFkYXRhLmV4dGVuc2lvbnM7XG4gIHRoaXMuX2V4dHJhcyA9IHRpbGVNZXRhZGF0YS5leHRyYXM7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRpbGVNZXRhZGF0YS5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSBjbGFzcyB0aGF0IHByb3BlcnRpZXMgY29uZm9ybSB0by5cbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVNZXRhZGF0YS5wcm90b3R5cGVcbiAgICogQHR5cGUge01ldGFkYXRhQ2xhc3N9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2xhc3M6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jbGFzcztcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRyYXMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGlsZU1ldGFkYXRhLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Kn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBleHRyYXM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9leHRyYXM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogRXh0ZW5zaW9ucyBpbiB0aGUgSlNPTiBvYmplY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaWxlTWV0YWRhdGEucHJvdG90eXBlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0ZW5zaW9uczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4dGVuc2lvbnM7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgdGlsZSBoYXMgdGhpcyBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlJZCBUaGUgY2FzZS1zZW5zaXRpdmUgSUQgb2YgdGhlIHByb3BlcnR5LlxuICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHRpbGUgaGFzIHRoaXMgcHJvcGVydHkuXG4gKiBAcHJpdmF0ZVxuICovXG5UaWxlTWV0YWRhdGEucHJvdG90eXBlLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5SWQpIHtcbiAgcmV0dXJuIE1ldGFkYXRhRW50aXR5Lmhhc1Byb3BlcnR5KHByb3BlcnR5SWQsIHRoaXMuX3Byb3BlcnRpZXMsIHRoaXMuX2NsYXNzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSB0aWxlIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIHNlbWFudGljLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZW1hbnRpYyBUaGUgY2FzZS1zZW5zaXRpdmUgc2VtYW50aWMgb2YgdGhlIHByb3BlcnR5LlxuICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHRpbGUgaGFzIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gc2VtYW50aWMuXG4gKiBAcHJpdmF0ZVxuICovXG5UaWxlTWV0YWRhdGEucHJvdG90eXBlLmhhc1Byb3BlcnR5QnlTZW1hbnRpYyA9IGZ1bmN0aW9uIChzZW1hbnRpYykge1xuICByZXR1cm4gTWV0YWRhdGFFbnRpdHkuaGFzUHJvcGVydHlCeVNlbWFudGljKFxuICAgIHNlbWFudGljLFxuICAgIHRoaXMuX3Byb3BlcnRpZXMsXG4gICAgdGhpcy5fY2xhc3NcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSBJRHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmdbXX0gW3Jlc3VsdHNdIEFuIGFycmF5IGludG8gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdHMuXG4gKiBAcmV0dXJucyB7U3RyaW5nW119IFRoZSBwcm9wZXJ0eSBJRHMuXG4gKiBAcHJpdmF0ZVxuICovXG5UaWxlTWV0YWRhdGEucHJvdG90eXBlLmdldFByb3BlcnR5SWRzID0gZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgcmV0dXJuIE1ldGFkYXRhRW50aXR5LmdldFByb3BlcnR5SWRzKHRoaXMuX3Byb3BlcnRpZXMsIHRoaXMuX2NsYXNzLCByZXN1bHRzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAqIDxwPlxuICogSWYgdGhlIHByb3BlcnR5IGlzIG5vcm1hbGl6ZWQgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgaXMgcmV0dXJuZWQuXG4gKiA8L3A+XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5SWQgVGhlIGNhc2Utc2Vuc2l0aXZlIElEIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IG9yIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gaWYgdGhlIHRpbGUgZG9lcyBub3QgaGF2ZSB0aGlzIHByb3BlcnR5LlxuICogQHByaXZhdGVcbiAqL1xuVGlsZU1ldGFkYXRhLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eUlkKSB7XG4gIHJldHVybiBNZXRhZGF0YUVudGl0eS5nZXRQcm9wZXJ0eShwcm9wZXJ0eUlkLCB0aGlzLl9wcm9wZXJ0aWVzLCB0aGlzLl9jbGFzcyk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAqIDxwPlxuICogSWYgdGhlIHByb3BlcnR5IGlzIG5vcm1hbGl6ZWQgYSBub3JtYWxpemVkIHZhbHVlIG11c3QgYmUgcHJvdmlkZWQgdG8gdGhpcyBmdW5jdGlvbi5cbiAqIDwvcD5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlJZCBUaGUgY2FzZS1zZW5zaXRpdmUgSUQgb2YgdGhlIHByb3BlcnR5LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSBjb3BpZWQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhlIHByb3BlcnR5IHdhcyBzZXQsIDxjb2RlPmZhbHNlPC9jb2RlPiBvdGhlcndpc2UuXG4gKiBAcHJpdmF0ZVxuICovXG5UaWxlTWV0YWRhdGEucHJvdG90eXBlLnNldFByb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5SWQsIHZhbHVlKSB7XG4gIHJldHVybiBNZXRhZGF0YUVudGl0eS5zZXRQcm9wZXJ0eShcbiAgICBwcm9wZXJ0eUlkLFxuICAgIHZhbHVlLFxuICAgIHRoaXMuX3Byb3BlcnRpZXMsXG4gICAgdGhpcy5fY2xhc3NcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBzZW1hbnRpYy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VtYW50aWMgVGhlIGNhc2Utc2Vuc2l0aXZlIHNlbWFudGljIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IG9yIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gaWYgdGhlIHRpbGUgZG9lcyBub3QgaGF2ZSB0aGlzIHNlbWFudGljLlxuICogQHByaXZhdGVcbiAqL1xuVGlsZU1ldGFkYXRhLnByb3RvdHlwZS5nZXRQcm9wZXJ0eUJ5U2VtYW50aWMgPSBmdW5jdGlvbiAoc2VtYW50aWMpIHtcbiAgcmV0dXJuIE1ldGFkYXRhRW50aXR5LmdldFByb3BlcnR5QnlTZW1hbnRpYyhcbiAgICBzZW1hbnRpYyxcbiAgICB0aGlzLl9wcm9wZXJ0aWVzLFxuICAgIHRoaXMuX2NsYXNzXG4gICk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBzZW1hbnRpYy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VtYW50aWMgVGhlIGNhc2Utc2Vuc2l0aXZlIHNlbWFudGljIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgY29waWVkLlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBwcm9wZXJ0eSB3YXMgc2V0LCA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLlxuICogQHByaXZhdGVcbiAqL1xuVGlsZU1ldGFkYXRhLnByb3RvdHlwZS5zZXRQcm9wZXJ0eUJ5U2VtYW50aWMgPSBmdW5jdGlvbiAoc2VtYW50aWMsIHZhbHVlKSB7XG4gIHJldHVybiBNZXRhZGF0YUVudGl0eS5zZXRQcm9wZXJ0eUJ5U2VtYW50aWMoXG4gICAgc2VtYW50aWMsXG4gICAgdmFsdWUsXG4gICAgdGhpcy5fcHJvcGVydGllcyxcbiAgICB0aGlzLl9jbGFzc1xuICApO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8796\n')},43338:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48243);\n/* harmony import */ var _Core_BoxOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27495);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(66553);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92062);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26865);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(68201);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(72248);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(99417);\n/* harmony import */ var _Core_OrientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(25405);\n/* harmony import */ var _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(64060);\n/* harmony import */ var _Primitive_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(34380);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar scratchU = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar scratchV = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar scratchW = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar scratchCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\nfunction computeMissingVector(a, b, result) {\n  result = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].cross */ .Z.cross(a, b, result);\n  var magnitude = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].magnitude */ .Z.magnitude(result);\n  return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n    result,\n    _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].EPSILON7 */ .Z.EPSILON7 / magnitude,\n    result\n  );\n}\n\nfunction findOrthogonalVector(a, result) {\n  var temp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].normalize */ .Z.normalize(a, scratchCartesian);\n  var b = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equalsEpsilon */ .Z.equalsEpsilon(temp, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].UNIT_X */ .Z.UNIT_X, _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].EPSILON6 */ .Z.EPSILON6)\n    ? _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].UNIT_Y */ .Z.UNIT_Y\n    : _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].UNIT_X */ .Z.UNIT_X;\n  return computeMissingVector(a, b, result);\n}\n\nfunction checkHalfAxes(halfAxes) {\n  var u = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].getColumn */ .Z.getColumn(halfAxes, 0, scratchU);\n  var v = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].getColumn */ .Z.getColumn(halfAxes, 1, scratchV);\n  var w = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].getColumn */ .Z.getColumn(halfAxes, 2, scratchW);\n\n  var uZero = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equals */ .Z.equals(u, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO);\n  var vZero = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equals */ .Z.equals(v, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO);\n  var wZero = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equals */ .Z.equals(w, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO);\n\n  if (!uZero && !vZero && !wZero) {\n    return halfAxes;\n  }\n  if (uZero && vZero && wZero) {\n    halfAxes[0] = _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].EPSILON7 */ .Z.EPSILON7;\n    halfAxes[4] = _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].EPSILON7 */ .Z.EPSILON7;\n    halfAxes[8] = _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].EPSILON7 */ .Z.EPSILON7;\n    return halfAxes;\n  }\n  if (uZero && !vZero && !wZero) {\n    u = computeMissingVector(v, w, u);\n  } else if (!uZero && vZero && !wZero) {\n    v = computeMissingVector(u, w, v);\n  } else if (!uZero && !vZero && wZero) {\n    w = computeMissingVector(v, u, w);\n  } else if (!uZero) {\n    v = findOrthogonalVector(u, v);\n    w = computeMissingVector(v, u, w);\n  } else if (!vZero) {\n    u = findOrthogonalVector(v, u);\n    w = computeMissingVector(v, u, w);\n  } else if (!wZero) {\n    u = findOrthogonalVector(w, u);\n    v = computeMissingVector(w, u, v);\n  }\n\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].setColumn */ .Z.setColumn(halfAxes, 0, u, halfAxes);\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].setColumn */ .Z.setColumn(halfAxes, 1, v, halfAxes);\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].setColumn */ .Z.setColumn(halfAxes, 2, w, halfAxes);\n\n  return halfAxes;\n}\n\n/**\n * A tile bounding volume specified as an oriented bounding box.\n * @alias TileOrientedBoundingBox\n * @constructor\n *\n * @param {Cartesian3} [center=Cartesian3.ZERO] The center of the box.\n * @param {Matrix3} [halfAxes=Matrix3.ZERO] The three orthogonal half-axes of the bounding box.\n *                                          Equivalently, the transformation matrix, to rotate and scale a 2x2x2\n *                                          cube centered at the origin.\n *\n * @private\n */\nfunction TileOrientedBoundingBox(center, halfAxes) {\n  halfAxes = checkHalfAxes(halfAxes);\n  this._orientedBoundingBox = new _Core_OrientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z(center, halfAxes);\n  this._boundingSphere = _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromOrientedBoundingBox */ .Z.fromOrientedBoundingBox(\n    this._orientedBoundingBox\n  );\n}\n\nObject.defineProperties(TileOrientedBoundingBox.prototype, {\n  /**\n   * The underlying bounding volume.\n   *\n   * @memberof TileOrientedBoundingBox.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  boundingVolume: {\n    get: function () {\n      return this._orientedBoundingBox;\n    },\n  },\n  /**\n   * The underlying bounding sphere.\n   *\n   * @memberof TileOrientedBoundingBox.prototype\n   *\n   * @type {BoundingSphere}\n   * @readonly\n   */\n  boundingSphere: {\n    get: function () {\n      return this._boundingSphere;\n    },\n  },\n});\n\n/**\n * Computes the distance between this bounding box and the camera attached to frameState.\n *\n * @param {FrameState} frameState The frameState to which the camera is attached.\n * @returns {Number} The distance between the camera and the bounding box in meters. Returns 0 if the camera is inside the bounding volume.\n */\nTileOrientedBoundingBox.prototype.distanceToCamera = function (frameState) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defined */ .Z.defined("frameState", frameState);\n  //>>includeEnd(\'debug\');\n  return Math.sqrt(\n    this._orientedBoundingBox.distanceSquaredTo(frameState.camera.positionWC)\n  );\n};\n\n/**\n * Determines which side of a plane this box is located.\n *\n * @param {Plane} plane The plane to test against.\n * @returns {Intersect} {@link Intersect.INSIDE} if the entire box is on the side of the plane\n *                      the normal is pointing, {@link Intersect.OUTSIDE} if the entire box is\n *                      on the opposite side, and {@link Intersect.INTERSECTING} if the box\n *                      intersects the plane.\n */\nTileOrientedBoundingBox.prototype.intersectPlane = function (plane) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defined */ .Z.defined("plane", plane);\n  //>>includeEnd(\'debug\');\n  return this._orientedBoundingBox.intersectPlane(plane);\n};\n\n/**\n * Update the bounding box after the tile is transformed.\n *\n * @param {Cartesian3} center The center of the box.\n * @param {Matrix3} halfAxes The three orthogonal half-axes of the bounding box.\n *                           Equivalently, the transformation matrix, to rotate and scale a 2x2x2\n *                           cube centered at the origin.\n */\nTileOrientedBoundingBox.prototype.update = function (center, halfAxes) {\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(center, this._orientedBoundingBox.center);\n  halfAxes = checkHalfAxes(halfAxes);\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].clone */ .Z.clone(halfAxes, this._orientedBoundingBox.halfAxes);\n  _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromOrientedBoundingBox */ .Z.fromOrientedBoundingBox(\n    this._orientedBoundingBox,\n    this._boundingSphere\n  );\n};\n\n/**\n * Creates a debug primitive that shows the outline of the box.\n *\n * @param {Color} color The desired color of the primitive\'s mesh\n * @return {Primitive}\n */\nTileOrientedBoundingBox.prototype.createDebugVolume = function (color) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defined */ .Z.defined("color", color);\n  //>>includeEnd(\'debug\');\n\n  var geometry = new _Core_BoxOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z({\n    // Make a 2x2x2 cube\n    minimum: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(-1.0, -1.0, -1.0),\n    maximum: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0),\n  });\n  var modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].fromRotationTranslation */ .Z.fromRotationTranslation(\n    this.boundingVolume.halfAxes,\n    this.boundingVolume.center\n  );\n  var instance = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n    geometry: geometry,\n    id: "outline",\n    modelMatrix: modelMatrix,\n    attributes: {\n      color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromColor */ .Z.fromColor(color),\n    },\n  });\n\n  return new _Primitive_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n    geometryInstances: instance,\n    appearance: new _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({\n      translucent: false,\n      flat: true,\n    }),\n    asynchronous: false,\n  });\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TileOrientedBoundingBox);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUc7O0FBRUgsYUFBYSwrREFBUztBQUN0QjtBQUNBLG9CQUFvQixnRkFBMEI7QUFDOUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBLHlEQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL1RpbGVPcmllbnRlZEJvdW5kaW5nQm94LmpzPzgwYzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvdW5kaW5nU3BoZXJlIGZyb20gXCIuLi9Db3JlL0JvdW5kaW5nU3BoZXJlLmpzXCI7XG5pbXBvcnQgQm94T3V0bGluZUdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL0JveE91dGxpbmVHZW9tZXRyeS5qc1wiO1xuaW1wb3J0IENhcnRlc2lhbjMgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMy5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlIGZyb20gXCIuLi9Db3JlL0NvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5qc1wiO1xuaW1wb3J0IEdlb21ldHJ5SW5zdGFuY2UgZnJvbSBcIi4uL0NvcmUvR2VvbWV0cnlJbnN0YW5jZS5qc1wiO1xuaW1wb3J0IE1hdHJpeDMgZnJvbSBcIi4uL0NvcmUvTWF0cml4My5qc1wiO1xuaW1wb3J0IE1hdHJpeDQgZnJvbSBcIi4uL0NvcmUvTWF0cml4NC5qc1wiO1xuaW1wb3J0IENlc2l1bU1hdGggZnJvbSBcIi4uL0NvcmUvTWF0aC5qc1wiO1xuaW1wb3J0IE9yaWVudGVkQm91bmRpbmdCb3ggZnJvbSBcIi4uL0NvcmUvT3JpZW50ZWRCb3VuZGluZ0JveC5qc1wiO1xuaW1wb3J0IFBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlIGZyb20gXCIuL1Blckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgUHJpbWl0aXZlIGZyb20gXCIuL1ByaW1pdGl2ZS5qc1wiO1xuXG52YXIgc2NyYXRjaFUgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hWID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoVyA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENhcnRlc2lhbiA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG5cbmZ1bmN0aW9uIGNvbXB1dGVNaXNzaW5nVmVjdG9yKGEsIGIsIHJlc3VsdCkge1xuICByZXN1bHQgPSBDYXJ0ZXNpYW4zLmNyb3NzKGEsIGIsIHJlc3VsdCk7XG4gIHZhciBtYWduaXR1ZGUgPSBDYXJ0ZXNpYW4zLm1hZ25pdHVkZShyZXN1bHQpO1xuICByZXR1cm4gQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgIHJlc3VsdCxcbiAgICBDZXNpdW1NYXRoLkVQU0lMT043IC8gbWFnbml0dWRlLFxuICAgIHJlc3VsdFxuICApO1xufVxuXG5mdW5jdGlvbiBmaW5kT3J0aG9nb25hbFZlY3RvcihhLCByZXN1bHQpIHtcbiAgdmFyIHRlbXAgPSBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShhLCBzY3JhdGNoQ2FydGVzaWFuKTtcbiAgdmFyIGIgPSBDYXJ0ZXNpYW4zLmVxdWFsc0Vwc2lsb24odGVtcCwgQ2FydGVzaWFuMy5VTklUX1gsIENlc2l1bU1hdGguRVBTSUxPTjYpXG4gICAgPyBDYXJ0ZXNpYW4zLlVOSVRfWVxuICAgIDogQ2FydGVzaWFuMy5VTklUX1g7XG4gIHJldHVybiBjb21wdXRlTWlzc2luZ1ZlY3RvcihhLCBiLCByZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBjaGVja0hhbGZBeGVzKGhhbGZBeGVzKSB7XG4gIHZhciB1ID0gTWF0cml4My5nZXRDb2x1bW4oaGFsZkF4ZXMsIDAsIHNjcmF0Y2hVKTtcbiAgdmFyIHYgPSBNYXRyaXgzLmdldENvbHVtbihoYWxmQXhlcywgMSwgc2NyYXRjaFYpO1xuICB2YXIgdyA9IE1hdHJpeDMuZ2V0Q29sdW1uKGhhbGZBeGVzLCAyLCBzY3JhdGNoVyk7XG5cbiAgdmFyIHVaZXJvID0gQ2FydGVzaWFuMy5lcXVhbHModSwgQ2FydGVzaWFuMy5aRVJPKTtcbiAgdmFyIHZaZXJvID0gQ2FydGVzaWFuMy5lcXVhbHModiwgQ2FydGVzaWFuMy5aRVJPKTtcbiAgdmFyIHdaZXJvID0gQ2FydGVzaWFuMy5lcXVhbHModywgQ2FydGVzaWFuMy5aRVJPKTtcblxuICBpZiAoIXVaZXJvICYmICF2WmVybyAmJiAhd1plcm8pIHtcbiAgICByZXR1cm4gaGFsZkF4ZXM7XG4gIH1cbiAgaWYgKHVaZXJvICYmIHZaZXJvICYmIHdaZXJvKSB7XG4gICAgaGFsZkF4ZXNbMF0gPSBDZXNpdW1NYXRoLkVQU0lMT043O1xuICAgIGhhbGZBeGVzWzRdID0gQ2VzaXVtTWF0aC5FUFNJTE9ONztcbiAgICBoYWxmQXhlc1s4XSA9IENlc2l1bU1hdGguRVBTSUxPTjc7XG4gICAgcmV0dXJuIGhhbGZBeGVzO1xuICB9XG4gIGlmICh1WmVybyAmJiAhdlplcm8gJiYgIXdaZXJvKSB7XG4gICAgdSA9IGNvbXB1dGVNaXNzaW5nVmVjdG9yKHYsIHcsIHUpO1xuICB9IGVsc2UgaWYgKCF1WmVybyAmJiB2WmVybyAmJiAhd1plcm8pIHtcbiAgICB2ID0gY29tcHV0ZU1pc3NpbmdWZWN0b3IodSwgdywgdik7XG4gIH0gZWxzZSBpZiAoIXVaZXJvICYmICF2WmVybyAmJiB3WmVybykge1xuICAgIHcgPSBjb21wdXRlTWlzc2luZ1ZlY3Rvcih2LCB1LCB3KTtcbiAgfSBlbHNlIGlmICghdVplcm8pIHtcbiAgICB2ID0gZmluZE9ydGhvZ29uYWxWZWN0b3IodSwgdik7XG4gICAgdyA9IGNvbXB1dGVNaXNzaW5nVmVjdG9yKHYsIHUsIHcpO1xuICB9IGVsc2UgaWYgKCF2WmVybykge1xuICAgIHUgPSBmaW5kT3J0aG9nb25hbFZlY3Rvcih2LCB1KTtcbiAgICB3ID0gY29tcHV0ZU1pc3NpbmdWZWN0b3IodiwgdSwgdyk7XG4gIH0gZWxzZSBpZiAoIXdaZXJvKSB7XG4gICAgdSA9IGZpbmRPcnRob2dvbmFsVmVjdG9yKHcsIHUpO1xuICAgIHYgPSBjb21wdXRlTWlzc2luZ1ZlY3Rvcih3LCB1LCB2KTtcbiAgfVxuXG4gIE1hdHJpeDMuc2V0Q29sdW1uKGhhbGZBeGVzLCAwLCB1LCBoYWxmQXhlcyk7XG4gIE1hdHJpeDMuc2V0Q29sdW1uKGhhbGZBeGVzLCAxLCB2LCBoYWxmQXhlcyk7XG4gIE1hdHJpeDMuc2V0Q29sdW1uKGhhbGZBeGVzLCAyLCB3LCBoYWxmQXhlcyk7XG5cbiAgcmV0dXJuIGhhbGZBeGVzO1xufVxuXG4vKipcbiAqIEEgdGlsZSBib3VuZGluZyB2b2x1bWUgc3BlY2lmaWVkIGFzIGFuIG9yaWVudGVkIGJvdW5kaW5nIGJveC5cbiAqIEBhbGlhcyBUaWxlT3JpZW50ZWRCb3VuZGluZ0JveFxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtDYXJ0ZXNpYW4zfSBbY2VudGVyPUNhcnRlc2lhbjMuWkVST10gVGhlIGNlbnRlciBvZiB0aGUgYm94LlxuICogQHBhcmFtIHtNYXRyaXgzfSBbaGFsZkF4ZXM9TWF0cml4My5aRVJPXSBUaGUgdGhyZWUgb3J0aG9nb25hbCBoYWxmLWF4ZXMgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXF1aXZhbGVudGx5LCB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4LCB0byByb3RhdGUgYW5kIHNjYWxlIGEgMngyeDJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ViZSBjZW50ZXJlZCBhdCB0aGUgb3JpZ2luLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFRpbGVPcmllbnRlZEJvdW5kaW5nQm94KGNlbnRlciwgaGFsZkF4ZXMpIHtcbiAgaGFsZkF4ZXMgPSBjaGVja0hhbGZBeGVzKGhhbGZBeGVzKTtcbiAgdGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveCA9IG5ldyBPcmllbnRlZEJvdW5kaW5nQm94KGNlbnRlciwgaGFsZkF4ZXMpO1xuICB0aGlzLl9ib3VuZGluZ1NwaGVyZSA9IEJvdW5kaW5nU3BoZXJlLmZyb21PcmllbnRlZEJvdW5kaW5nQm94KFxuICAgIHRoaXMuX29yaWVudGVkQm91bmRpbmdCb3hcbiAgKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVGlsZU9yaWVudGVkQm91bmRpbmdCb3gucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBUaGUgdW5kZXJseWluZyBib3VuZGluZyB2b2x1bWUuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaWxlT3JpZW50ZWRCb3VuZGluZ0JveC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBib3VuZGluZ1ZvbHVtZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGVkQm91bmRpbmdCb3g7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIFRoZSB1bmRlcmx5aW5nIGJvdW5kaW5nIHNwaGVyZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVPcmllbnRlZEJvdW5kaW5nQm94LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Qm91bmRpbmdTcGhlcmV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgYm91bmRpbmdTcGhlcmU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ib3VuZGluZ1NwaGVyZTtcbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhpcyBib3VuZGluZyBib3ggYW5kIHRoZSBjYW1lcmEgYXR0YWNoZWQgdG8gZnJhbWVTdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge0ZyYW1lU3RhdGV9IGZyYW1lU3RhdGUgVGhlIGZyYW1lU3RhdGUgdG8gd2hpY2ggdGhlIGNhbWVyYSBpcyBhdHRhY2hlZC5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBjYW1lcmEgYW5kIHRoZSBib3VuZGluZyBib3ggaW4gbWV0ZXJzLiBSZXR1cm5zIDAgaWYgdGhlIGNhbWVyYSBpcyBpbnNpZGUgdGhlIGJvdW5kaW5nIHZvbHVtZS5cbiAqL1xuVGlsZU9yaWVudGVkQm91bmRpbmdCb3gucHJvdG90eXBlLmRpc3RhbmNlVG9DYW1lcmEgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiZnJhbWVTdGF0ZVwiLCBmcmFtZVN0YXRlKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gIHJldHVybiBNYXRoLnNxcnQoXG4gICAgdGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveC5kaXN0YW5jZVNxdWFyZWRUbyhmcmFtZVN0YXRlLmNhbWVyYS5wb3NpdGlvbldDKVxuICApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoaWNoIHNpZGUgb2YgYSBwbGFuZSB0aGlzIGJveCBpcyBsb2NhdGVkLlxuICpcbiAqIEBwYXJhbSB7UGxhbmV9IHBsYW5lIFRoZSBwbGFuZSB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJucyB7SW50ZXJzZWN0fSB7QGxpbmsgSW50ZXJzZWN0LklOU0lERX0gaWYgdGhlIGVudGlyZSBib3ggaXMgb24gdGhlIHNpZGUgb2YgdGhlIHBsYW5lXG4gKiAgICAgICAgICAgICAgICAgICAgICB0aGUgbm9ybWFsIGlzIHBvaW50aW5nLCB7QGxpbmsgSW50ZXJzZWN0Lk9VVFNJREV9IGlmIHRoZSBlbnRpcmUgYm94IGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICBvbiB0aGUgb3Bwb3NpdGUgc2lkZSwgYW5kIHtAbGluayBJbnRlcnNlY3QuSU5URVJTRUNUSU5HfSBpZiB0aGUgYm94XG4gKiAgICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3RzIHRoZSBwbGFuZS5cbiAqL1xuVGlsZU9yaWVudGVkQm91bmRpbmdCb3gucHJvdG90eXBlLmludGVyc2VjdFBsYW5lID0gZnVuY3Rpb24gKHBsYW5lKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLmRlZmluZWQoXCJwbGFuZVwiLCBwbGFuZSk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICByZXR1cm4gdGhpcy5fb3JpZW50ZWRCb3VuZGluZ0JveC5pbnRlcnNlY3RQbGFuZShwbGFuZSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgYm94IGFmdGVyIHRoZSB0aWxlIGlzIHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwYXJhbSB7Q2FydGVzaWFuM30gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIGJveC5cbiAqIEBwYXJhbSB7TWF0cml4M30gaGFsZkF4ZXMgVGhlIHRocmVlIG9ydGhvZ29uYWwgaGFsZi1heGVzIG9mIHRoZSBib3VuZGluZyBib3guXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIEVxdWl2YWxlbnRseSwgdGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCwgdG8gcm90YXRlIGFuZCBzY2FsZSBhIDJ4MngyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1YmUgY2VudGVyZWQgYXQgdGhlIG9yaWdpbi5cbiAqL1xuVGlsZU9yaWVudGVkQm91bmRpbmdCb3gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjZW50ZXIsIGhhbGZBeGVzKSB7XG4gIENhcnRlc2lhbjMuY2xvbmUoY2VudGVyLCB0aGlzLl9vcmllbnRlZEJvdW5kaW5nQm94LmNlbnRlcik7XG4gIGhhbGZBeGVzID0gY2hlY2tIYWxmQXhlcyhoYWxmQXhlcyk7XG4gIE1hdHJpeDMuY2xvbmUoaGFsZkF4ZXMsIHRoaXMuX29yaWVudGVkQm91bmRpbmdCb3guaGFsZkF4ZXMpO1xuICBCb3VuZGluZ1NwaGVyZS5mcm9tT3JpZW50ZWRCb3VuZGluZ0JveChcbiAgICB0aGlzLl9vcmllbnRlZEJvdW5kaW5nQm94LFxuICAgIHRoaXMuX2JvdW5kaW5nU3BoZXJlXG4gICk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJ1ZyBwcmltaXRpdmUgdGhhdCBzaG93cyB0aGUgb3V0bGluZSBvZiB0aGUgYm94LlxuICpcbiAqIEBwYXJhbSB7Q29sb3J9IGNvbG9yIFRoZSBkZXNpcmVkIGNvbG9yIG9mIHRoZSBwcmltaXRpdmUncyBtZXNoXG4gKiBAcmV0dXJuIHtQcmltaXRpdmV9XG4gKi9cblRpbGVPcmllbnRlZEJvdW5kaW5nQm94LnByb3RvdHlwZS5jcmVhdGVEZWJ1Z1ZvbHVtZSA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiY29sb3JcIiwgY29sb3IpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgZ2VvbWV0cnkgPSBuZXcgQm94T3V0bGluZUdlb21ldHJ5KHtcbiAgICAvLyBNYWtlIGEgMngyeDIgY3ViZVxuICAgIG1pbmltdW06IG5ldyBDYXJ0ZXNpYW4zKC0xLjAsIC0xLjAsIC0xLjApLFxuICAgIG1heGltdW06IG5ldyBDYXJ0ZXNpYW4zKDEuMCwgMS4wLCAxLjApLFxuICB9KTtcbiAgdmFyIG1vZGVsTWF0cml4ID0gTWF0cml4NC5mcm9tUm90YXRpb25UcmFuc2xhdGlvbihcbiAgICB0aGlzLmJvdW5kaW5nVm9sdW1lLmhhbGZBeGVzLFxuICAgIHRoaXMuYm91bmRpbmdWb2x1bWUuY2VudGVyXG4gICk7XG4gIHZhciBpbnN0YW5jZSA9IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICBnZW9tZXRyeTogZ2VvbWV0cnksXG4gICAgaWQ6IFwib3V0bGluZVwiLFxuICAgIG1vZGVsTWF0cml4OiBtb2RlbE1hdHJpeCxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICBjb2xvcjogQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcihjb2xvciksXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBQcmltaXRpdmUoe1xuICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBpbnN0YW5jZSxcbiAgICBhcHBlYXJhbmNlOiBuZXcgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2Uoe1xuICAgICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgICAgZmxhdDogdHJ1ZSxcbiAgICB9KSxcbiAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxuICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCBUaWxlT3JpZW50ZWRCb3VuZGluZ0JveDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43338\n')},26561:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82982);\n\n\n/**\n * A priority queue of tiles to be replaced, if necessary, to make room for new tiles.  The queue\n * is implemented as a linked list.\n *\n * @alias TileReplacementQueue\n * @private\n */\nfunction TileReplacementQueue() {\n  this.head = undefined;\n  this.tail = undefined;\n  this.count = 0;\n  this._lastBeforeStartOfFrame = undefined;\n}\n\n/**\n * Marks the start of the render frame.  Tiles before (closer to the head) this tile in the\n * list were used last frame and must not be unloaded.\n */\nTileReplacementQueue.prototype.markStartOfRenderFrame = function () {\n  this._lastBeforeStartOfFrame = this.head;\n};\n\n/**\n * Reduces the size of the queue to a specified size by unloading the least-recently used\n * tiles.  Tiles that were used last frame will not be unloaded, even if that puts the number\n * of tiles above the specified maximum.\n *\n * @param {Number} maximumTiles The maximum number of tiles in the queue.\n */\nTileReplacementQueue.prototype.trimTiles = function (maximumTiles) {\n  var tileToTrim = this.tail;\n  var keepTrimming = true;\n  while (\n    keepTrimming &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this._lastBeforeStartOfFrame) &&\n    this.count > maximumTiles &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(tileToTrim)\n  ) {\n    // Stop trimming after we process the last tile not used in the\n    // current frame.\n    keepTrimming = tileToTrim !== this._lastBeforeStartOfFrame;\n\n    var previous = tileToTrim.replacementPrevious;\n\n    if (tileToTrim.eligibleForUnloading) {\n      tileToTrim.freeResources();\n      remove(this, tileToTrim);\n    }\n\n    tileToTrim = previous;\n  }\n};\n\nfunction remove(tileReplacementQueue, item) {\n  var previous = item.replacementPrevious;\n  var next = item.replacementNext;\n\n  if (item === tileReplacementQueue._lastBeforeStartOfFrame) {\n    tileReplacementQueue._lastBeforeStartOfFrame = next;\n  }\n\n  if (item === tileReplacementQueue.head) {\n    tileReplacementQueue.head = next;\n  } else {\n    previous.replacementNext = next;\n  }\n\n  if (item === tileReplacementQueue.tail) {\n    tileReplacementQueue.tail = previous;\n  } else {\n    next.replacementPrevious = previous;\n  }\n\n  item.replacementPrevious = undefined;\n  item.replacementNext = undefined;\n\n  --tileReplacementQueue.count;\n}\n\n/**\n * Marks a tile as rendered this frame and moves it before the first tile that was not rendered\n * this frame.\n *\n * @param {TileReplacementQueue} item The tile that was rendered.\n */\nTileReplacementQueue.prototype.markTileRendered = function (item) {\n  var head = this.head;\n  if (head === item) {\n    if (item === this._lastBeforeStartOfFrame) {\n      this._lastBeforeStartOfFrame = item.replacementNext;\n    }\n    return;\n  }\n\n  ++this.count;\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(head)) {\n    // no other tiles in the list\n    item.replacementPrevious = undefined;\n    item.replacementNext = undefined;\n    this.head = item;\n    this.tail = item;\n    return;\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(item.replacementPrevious) || (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(item.replacementNext)) {\n    // tile already in the list, remove from its current location\n    remove(this, item);\n  }\n\n  item.replacementPrevious = undefined;\n  item.replacementNext = head;\n  head.replacementPrevious = item;\n\n  this.head = item;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TileReplacementQueue);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY1NjEuanMiLCJtYXBwaW5ncyI6IjtBQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFFQUFPO0FBQ1g7QUFDQSxJQUFJLHFFQUFPO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsT0FBTyxxRUFBTztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU0scUVBQU8sOEJBQThCLHFFQUFPO0FBQ2xEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUFlLG9CQUFvQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL1RpbGVSZXBsYWNlbWVudFF1ZXVlLmpzPzk2NTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuXG4vKipcbiAqIEEgcHJpb3JpdHkgcXVldWUgb2YgdGlsZXMgdG8gYmUgcmVwbGFjZWQsIGlmIG5lY2Vzc2FyeSwgdG8gbWFrZSByb29tIGZvciBuZXcgdGlsZXMuICBUaGUgcXVldWVcbiAqIGlzIGltcGxlbWVudGVkIGFzIGEgbGlua2VkIGxpc3QuXG4gKlxuICogQGFsaWFzIFRpbGVSZXBsYWNlbWVudFF1ZXVlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBUaWxlUmVwbGFjZW1lbnRRdWV1ZSgpIHtcbiAgdGhpcy5oZWFkID0gdW5kZWZpbmVkO1xuICB0aGlzLnRhaWwgPSB1bmRlZmluZWQ7XG4gIHRoaXMuY291bnQgPSAwO1xuICB0aGlzLl9sYXN0QmVmb3JlU3RhcnRPZkZyYW1lID0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIE1hcmtzIHRoZSBzdGFydCBvZiB0aGUgcmVuZGVyIGZyYW1lLiAgVGlsZXMgYmVmb3JlIChjbG9zZXIgdG8gdGhlIGhlYWQpIHRoaXMgdGlsZSBpbiB0aGVcbiAqIGxpc3Qgd2VyZSB1c2VkIGxhc3QgZnJhbWUgYW5kIG11c3Qgbm90IGJlIHVubG9hZGVkLlxuICovXG5UaWxlUmVwbGFjZW1lbnRRdWV1ZS5wcm90b3R5cGUubWFya1N0YXJ0T2ZSZW5kZXJGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fbGFzdEJlZm9yZVN0YXJ0T2ZGcmFtZSA9IHRoaXMuaGVhZDtcbn07XG5cbi8qKlxuICogUmVkdWNlcyB0aGUgc2l6ZSBvZiB0aGUgcXVldWUgdG8gYSBzcGVjaWZpZWQgc2l6ZSBieSB1bmxvYWRpbmcgdGhlIGxlYXN0LXJlY2VudGx5IHVzZWRcbiAqIHRpbGVzLiAgVGlsZXMgdGhhdCB3ZXJlIHVzZWQgbGFzdCBmcmFtZSB3aWxsIG5vdCBiZSB1bmxvYWRlZCwgZXZlbiBpZiB0aGF0IHB1dHMgdGhlIG51bWJlclxuICogb2YgdGlsZXMgYWJvdmUgdGhlIHNwZWNpZmllZCBtYXhpbXVtLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhpbXVtVGlsZXMgVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbGVzIGluIHRoZSBxdWV1ZS5cbiAqL1xuVGlsZVJlcGxhY2VtZW50UXVldWUucHJvdG90eXBlLnRyaW1UaWxlcyA9IGZ1bmN0aW9uIChtYXhpbXVtVGlsZXMpIHtcbiAgdmFyIHRpbGVUb1RyaW0gPSB0aGlzLnRhaWw7XG4gIHZhciBrZWVwVHJpbW1pbmcgPSB0cnVlO1xuICB3aGlsZSAoXG4gICAga2VlcFRyaW1taW5nICYmXG4gICAgZGVmaW5lZCh0aGlzLl9sYXN0QmVmb3JlU3RhcnRPZkZyYW1lKSAmJlxuICAgIHRoaXMuY291bnQgPiBtYXhpbXVtVGlsZXMgJiZcbiAgICBkZWZpbmVkKHRpbGVUb1RyaW0pXG4gICkge1xuICAgIC8vIFN0b3AgdHJpbW1pbmcgYWZ0ZXIgd2UgcHJvY2VzcyB0aGUgbGFzdCB0aWxlIG5vdCB1c2VkIGluIHRoZVxuICAgIC8vIGN1cnJlbnQgZnJhbWUuXG4gICAga2VlcFRyaW1taW5nID0gdGlsZVRvVHJpbSAhPT0gdGhpcy5fbGFzdEJlZm9yZVN0YXJ0T2ZGcmFtZTtcblxuICAgIHZhciBwcmV2aW91cyA9IHRpbGVUb1RyaW0ucmVwbGFjZW1lbnRQcmV2aW91cztcblxuICAgIGlmICh0aWxlVG9UcmltLmVsaWdpYmxlRm9yVW5sb2FkaW5nKSB7XG4gICAgICB0aWxlVG9UcmltLmZyZWVSZXNvdXJjZXMoKTtcbiAgICAgIHJlbW92ZSh0aGlzLCB0aWxlVG9UcmltKTtcbiAgICB9XG5cbiAgICB0aWxlVG9UcmltID0gcHJldmlvdXM7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlbW92ZSh0aWxlUmVwbGFjZW1lbnRRdWV1ZSwgaXRlbSkge1xuICB2YXIgcHJldmlvdXMgPSBpdGVtLnJlcGxhY2VtZW50UHJldmlvdXM7XG4gIHZhciBuZXh0ID0gaXRlbS5yZXBsYWNlbWVudE5leHQ7XG5cbiAgaWYgKGl0ZW0gPT09IHRpbGVSZXBsYWNlbWVudFF1ZXVlLl9sYXN0QmVmb3JlU3RhcnRPZkZyYW1lKSB7XG4gICAgdGlsZVJlcGxhY2VtZW50UXVldWUuX2xhc3RCZWZvcmVTdGFydE9mRnJhbWUgPSBuZXh0O1xuICB9XG5cbiAgaWYgKGl0ZW0gPT09IHRpbGVSZXBsYWNlbWVudFF1ZXVlLmhlYWQpIHtcbiAgICB0aWxlUmVwbGFjZW1lbnRRdWV1ZS5oZWFkID0gbmV4dDtcbiAgfSBlbHNlIHtcbiAgICBwcmV2aW91cy5yZXBsYWNlbWVudE5leHQgPSBuZXh0O1xuICB9XG5cbiAgaWYgKGl0ZW0gPT09IHRpbGVSZXBsYWNlbWVudFF1ZXVlLnRhaWwpIHtcbiAgICB0aWxlUmVwbGFjZW1lbnRRdWV1ZS50YWlsID0gcHJldmlvdXM7XG4gIH0gZWxzZSB7XG4gICAgbmV4dC5yZXBsYWNlbWVudFByZXZpb3VzID0gcHJldmlvdXM7XG4gIH1cblxuICBpdGVtLnJlcGxhY2VtZW50UHJldmlvdXMgPSB1bmRlZmluZWQ7XG4gIGl0ZW0ucmVwbGFjZW1lbnROZXh0ID0gdW5kZWZpbmVkO1xuXG4gIC0tdGlsZVJlcGxhY2VtZW50UXVldWUuY291bnQ7XG59XG5cbi8qKlxuICogTWFya3MgYSB0aWxlIGFzIHJlbmRlcmVkIHRoaXMgZnJhbWUgYW5kIG1vdmVzIGl0IGJlZm9yZSB0aGUgZmlyc3QgdGlsZSB0aGF0IHdhcyBub3QgcmVuZGVyZWRcbiAqIHRoaXMgZnJhbWUuXG4gKlxuICogQHBhcmFtIHtUaWxlUmVwbGFjZW1lbnRRdWV1ZX0gaXRlbSBUaGUgdGlsZSB0aGF0IHdhcyByZW5kZXJlZC5cbiAqL1xuVGlsZVJlcGxhY2VtZW50UXVldWUucHJvdG90eXBlLm1hcmtUaWxlUmVuZGVyZWQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgaGVhZCA9IHRoaXMuaGVhZDtcbiAgaWYgKGhlYWQgPT09IGl0ZW0pIHtcbiAgICBpZiAoaXRlbSA9PT0gdGhpcy5fbGFzdEJlZm9yZVN0YXJ0T2ZGcmFtZSkge1xuICAgICAgdGhpcy5fbGFzdEJlZm9yZVN0YXJ0T2ZGcmFtZSA9IGl0ZW0ucmVwbGFjZW1lbnROZXh0O1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICArK3RoaXMuY291bnQ7XG5cbiAgaWYgKCFkZWZpbmVkKGhlYWQpKSB7XG4gICAgLy8gbm8gb3RoZXIgdGlsZXMgaW4gdGhlIGxpc3RcbiAgICBpdGVtLnJlcGxhY2VtZW50UHJldmlvdXMgPSB1bmRlZmluZWQ7XG4gICAgaXRlbS5yZXBsYWNlbWVudE5leHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oZWFkID0gaXRlbTtcbiAgICB0aGlzLnRhaWwgPSBpdGVtO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKGl0ZW0ucmVwbGFjZW1lbnRQcmV2aW91cykgfHwgZGVmaW5lZChpdGVtLnJlcGxhY2VtZW50TmV4dCkpIHtcbiAgICAvLyB0aWxlIGFscmVhZHkgaW4gdGhlIGxpc3QsIHJlbW92ZSBmcm9tIGl0cyBjdXJyZW50IGxvY2F0aW9uXG4gICAgcmVtb3ZlKHRoaXMsIGl0ZW0pO1xuICB9XG5cbiAgaXRlbS5yZXBsYWNlbWVudFByZXZpb3VzID0gdW5kZWZpbmVkO1xuICBpdGVtLnJlcGxhY2VtZW50TmV4dCA9IGhlYWQ7XG4gIGhlYWQucmVwbGFjZW1lbnRQcmV2aW91cyA9IGl0ZW07XG5cbiAgdGhpcy5oZWFkID0gaXRlbTtcbn07XG5leHBvcnQgZGVmYXVsdCBUaWxlUmVwbGFjZW1lbnRRdWV1ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26561\n')},37728:function(__unused_webpack___webpack_module__,__webpack_exports__){eval("/**\n * Indicates what happened the last time this tile was visited for selection.\n * @private\n */\nvar TileSelectionResult = {\n  /**\n   * There was no selection result, perhaps because the tile wasn't visited\n   * last frame.\n   */\n  NONE: 0,\n\n  /**\n   * This tile was deemed not visible and culled.\n   */\n  CULLED: 1,\n\n  /**\n   * The tile was selected for rendering.\n   */\n  RENDERED: 2,\n\n  /**\n   * This tile did not meet the required screen-space error and was refined.\n   */\n  REFINED: 3,\n\n  /**\n   * This tile was originally rendered, but it got kicked out of the render list\n   * in favor of an ancestor because it is not yet renderable.\n   */\n  RENDERED_AND_KICKED: 2 | 4,\n\n  /**\n   * This tile was originally refined, but its rendered descendants got kicked out of the\n   * render list in favor of an ancestor because it is not yet renderable.\n   */\n  REFINED_AND_KICKED: 3 | 4,\n\n  /**\n   * This tile was culled because it was not visible, but it still needs to be loaded\n   * and any heights on it need to be updated because the camera's position or the\n   * camera's reference frame's origin falls inside this tile. Loading this tile\n   * could affect the position of the camera if the camera is currently below\n   * terrain or if it is tracking an object whose height is referenced to terrain.\n   * And a change in the camera position may, in turn, affect what is culled.\n   */\n  CULLED_BUT_NEEDED: 1 | 8,\n\n  /**\n   * Determines if a selection result indicates that this tile or its descendants were\n   * kicked from the render list. In other words, if it is <code>RENDERED_AND_KICKED</code>\n   * or <code>REFINED_AND_KICKED</code>.\n   *\n   * @param {TileSelectionResult} value The selection result to test.\n   * @returns {Boolean} true if the tile was kicked, no matter if it was originally rendered or refined.\n   */\n  wasKicked: function (value) {\n    return value >= TileSelectionResult.RENDERED_AND_KICKED;\n  },\n\n  /**\n   * Determines the original selection result prior to being kicked or CULLED_BUT_NEEDED.\n   * If the tile wasn't kicked or CULLED_BUT_NEEDED, the original value is returned.\n   * @param {TileSelectionResult} value The selection result.\n   * @returns {TileSelectionResult} The original selection result prior to kicking.\n   */\n  originalResult: function (value) {\n    return value & 3;\n  },\n\n  /**\n   * Converts this selection result to a kick.\n   * @param {TileSelectionResult} value The original selection result.\n   * @returns {TileSelectionResult} The kicked form of the selection result.\n   */\n  kick: function (value) {\n    return value | 4;\n  },\n};\n/* harmony default export */ __webpack_exports__[\"Z\"] = (TileSelectionResult);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc3MjguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseURBQWUsbUJBQW1CLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZVNlbGVjdGlvblJlc3VsdC5qcz9jNTkzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW5kaWNhdGVzIHdoYXQgaGFwcGVuZWQgdGhlIGxhc3QgdGltZSB0aGlzIHRpbGUgd2FzIHZpc2l0ZWQgZm9yIHNlbGVjdGlvbi5cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUaWxlU2VsZWN0aW9uUmVzdWx0ID0ge1xuICAvKipcbiAgICogVGhlcmUgd2FzIG5vIHNlbGVjdGlvbiByZXN1bHQsIHBlcmhhcHMgYmVjYXVzZSB0aGUgdGlsZSB3YXNuJ3QgdmlzaXRlZFxuICAgKiBsYXN0IGZyYW1lLlxuICAgKi9cbiAgTk9ORTogMCxcblxuICAvKipcbiAgICogVGhpcyB0aWxlIHdhcyBkZWVtZWQgbm90IHZpc2libGUgYW5kIGN1bGxlZC5cbiAgICovXG4gIENVTExFRDogMSxcblxuICAvKipcbiAgICogVGhlIHRpbGUgd2FzIHNlbGVjdGVkIGZvciByZW5kZXJpbmcuXG4gICAqL1xuICBSRU5ERVJFRDogMixcblxuICAvKipcbiAgICogVGhpcyB0aWxlIGRpZCBub3QgbWVldCB0aGUgcmVxdWlyZWQgc2NyZWVuLXNwYWNlIGVycm9yIGFuZCB3YXMgcmVmaW5lZC5cbiAgICovXG4gIFJFRklORUQ6IDMsXG5cbiAgLyoqXG4gICAqIFRoaXMgdGlsZSB3YXMgb3JpZ2luYWxseSByZW5kZXJlZCwgYnV0IGl0IGdvdCBraWNrZWQgb3V0IG9mIHRoZSByZW5kZXIgbGlzdFxuICAgKiBpbiBmYXZvciBvZiBhbiBhbmNlc3RvciBiZWNhdXNlIGl0IGlzIG5vdCB5ZXQgcmVuZGVyYWJsZS5cbiAgICovXG4gIFJFTkRFUkVEX0FORF9LSUNLRUQ6IDIgfCA0LFxuXG4gIC8qKlxuICAgKiBUaGlzIHRpbGUgd2FzIG9yaWdpbmFsbHkgcmVmaW5lZCwgYnV0IGl0cyByZW5kZXJlZCBkZXNjZW5kYW50cyBnb3Qga2lja2VkIG91dCBvZiB0aGVcbiAgICogcmVuZGVyIGxpc3QgaW4gZmF2b3Igb2YgYW4gYW5jZXN0b3IgYmVjYXVzZSBpdCBpcyBub3QgeWV0IHJlbmRlcmFibGUuXG4gICAqL1xuICBSRUZJTkVEX0FORF9LSUNLRUQ6IDMgfCA0LFxuXG4gIC8qKlxuICAgKiBUaGlzIHRpbGUgd2FzIGN1bGxlZCBiZWNhdXNlIGl0IHdhcyBub3QgdmlzaWJsZSwgYnV0IGl0IHN0aWxsIG5lZWRzIHRvIGJlIGxvYWRlZFxuICAgKiBhbmQgYW55IGhlaWdodHMgb24gaXQgbmVlZCB0byBiZSB1cGRhdGVkIGJlY2F1c2UgdGhlIGNhbWVyYSdzIHBvc2l0aW9uIG9yIHRoZVxuICAgKiBjYW1lcmEncyByZWZlcmVuY2UgZnJhbWUncyBvcmlnaW4gZmFsbHMgaW5zaWRlIHRoaXMgdGlsZS4gTG9hZGluZyB0aGlzIHRpbGVcbiAgICogY291bGQgYWZmZWN0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FtZXJhIGlmIHRoZSBjYW1lcmEgaXMgY3VycmVudGx5IGJlbG93XG4gICAqIHRlcnJhaW4gb3IgaWYgaXQgaXMgdHJhY2tpbmcgYW4gb2JqZWN0IHdob3NlIGhlaWdodCBpcyByZWZlcmVuY2VkIHRvIHRlcnJhaW4uXG4gICAqIEFuZCBhIGNoYW5nZSBpbiB0aGUgY2FtZXJhIHBvc2l0aW9uIG1heSwgaW4gdHVybiwgYWZmZWN0IHdoYXQgaXMgY3VsbGVkLlxuICAgKi9cbiAgQ1VMTEVEX0JVVF9ORUVERUQ6IDEgfCA4LFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGEgc2VsZWN0aW9uIHJlc3VsdCBpbmRpY2F0ZXMgdGhhdCB0aGlzIHRpbGUgb3IgaXRzIGRlc2NlbmRhbnRzIHdlcmVcbiAgICoga2lja2VkIGZyb20gdGhlIHJlbmRlciBsaXN0LiBJbiBvdGhlciB3b3JkcywgaWYgaXQgaXMgPGNvZGU+UkVOREVSRURfQU5EX0tJQ0tFRDwvY29kZT5cbiAgICogb3IgPGNvZGU+UkVGSU5FRF9BTkRfS0lDS0VEPC9jb2RlPi5cbiAgICpcbiAgICogQHBhcmFtIHtUaWxlU2VsZWN0aW9uUmVzdWx0fSB2YWx1ZSBUaGUgc2VsZWN0aW9uIHJlc3VsdCB0byB0ZXN0LlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgdGlsZSB3YXMga2lja2VkLCBubyBtYXR0ZXIgaWYgaXQgd2FzIG9yaWdpbmFsbHkgcmVuZGVyZWQgb3IgcmVmaW5lZC5cbiAgICovXG4gIHdhc0tpY2tlZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID49IFRpbGVTZWxlY3Rpb25SZXN1bHQuUkVOREVSRURfQU5EX0tJQ0tFRDtcbiAgfSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgb3JpZ2luYWwgc2VsZWN0aW9uIHJlc3VsdCBwcmlvciB0byBiZWluZyBraWNrZWQgb3IgQ1VMTEVEX0JVVF9ORUVERUQuXG4gICAqIElmIHRoZSB0aWxlIHdhc24ndCBraWNrZWQgb3IgQ1VMTEVEX0JVVF9ORUVERUQsIHRoZSBvcmlnaW5hbCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAgICogQHBhcmFtIHtUaWxlU2VsZWN0aW9uUmVzdWx0fSB2YWx1ZSBUaGUgc2VsZWN0aW9uIHJlc3VsdC5cbiAgICogQHJldHVybnMge1RpbGVTZWxlY3Rpb25SZXN1bHR9IFRoZSBvcmlnaW5hbCBzZWxlY3Rpb24gcmVzdWx0IHByaW9yIHRvIGtpY2tpbmcuXG4gICAqL1xuICBvcmlnaW5hbFJlc3VsdDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYgMztcbiAgfSxcblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzZWxlY3Rpb24gcmVzdWx0IHRvIGEga2ljay5cbiAgICogQHBhcmFtIHtUaWxlU2VsZWN0aW9uUmVzdWx0fSB2YWx1ZSBUaGUgb3JpZ2luYWwgc2VsZWN0aW9uIHJlc3VsdC5cbiAgICogQHJldHVybnMge1RpbGVTZWxlY3Rpb25SZXN1bHR9IFRoZSBraWNrZWQgZm9ybSBvZiB0aGUgc2VsZWN0aW9uIHJlc3VsdC5cbiAgICovXG4gIGtpY2s6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSB8IDQ7XG4gIH0sXG59O1xuZXhwb3J0IGRlZmF1bHQgVGlsZVNlbGVjdGlvblJlc3VsdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37728\n")},70711:function(){eval("/**\n * @private\n */\nvar TileState = {\n  START: 0,\n  LOADING: 1,\n  READY: 2,\n  UPSAMPLED_ONLY: 3,\n};\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (Object.freeze(TileState));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA3MTEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQWUsd0JBQXdCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZVN0YXRlLmpzPzdlYjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGlsZVN0YXRlID0ge1xuICBTVEFSVDogMCxcbiAgTE9BRElORzogMSxcbiAgUkVBRFk6IDIsXG4gIFVQU0FNUExFRF9PTkxZOiAzLFxufTtcbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5mcmVlemUoVGlsZVN0YXRlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///70711\n")},85794:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86511);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13222);\n\n\n\n/**\n * Represents content for a tile in a\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification|3D Tiles} tileset whose\n * content points to another 3D Tiles tileset.\n * <p>\n * Implements the {@link Cesium3DTileContent} interface.\n * </p>\n *\n * @alias Tileset3DTileContent\n * @constructor\n *\n * @private\n */\nfunction Tileset3DTileContent(tileset, tile, resource, json) {\n  this._tileset = tileset;\n  this._tile = tile;\n  this._resource = resource;\n  this._readyPromise = _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defer */ .Z.defer();\n\n  this.featurePropertiesDirty = false;\n  this._groupMetadata = undefined;\n\n  initialize(this, json);\n}\n\nObject.defineProperties(Tileset3DTileContent.prototype, {\n  featuresLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  pointsLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  trianglesLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  geometryByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  texturesByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  batchTableByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  innerContents: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  readyPromise: {\n    get: function () {\n      return this._readyPromise.promise;\n    },\n  },\n\n  tileset: {\n    get: function () {\n      return this._tileset;\n    },\n  },\n\n  tile: {\n    get: function () {\n      return this._tile;\n    },\n  },\n\n  url: {\n    get: function () {\n      return this._resource.getUrlComponent(true);\n    },\n  },\n\n  batchTable: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  groupMetadata: {\n    get: function () {\n      return this._groupMetadata;\n    },\n    set: function (value) {\n      this._groupMetadata = value;\n    },\n  },\n});\n\nfunction initialize(content, json) {\n  content._tileset.loadTileset(content._resource, json, content._tile);\n  content._readyPromise.resolve(content);\n}\n\n/**\n * Part of the {@link Cesium3DTileContent} interface.  <code>Tileset3DTileContent</code>\n * always returns <code>false</code> since a tile of this type does not have any features.\n */\nTileset3DTileContent.prototype.hasProperty = function (batchId, name) {\n  return false;\n};\n\n/**\n * Part of the {@link Cesium3DTileContent} interface.  <code>Tileset3DTileContent</code>\n * always returns <code>undefined</code> since a tile of this type does not have any features.\n */\nTileset3DTileContent.prototype.getFeature = function (batchId) {\n  return undefined;\n};\n\nTileset3DTileContent.prototype.applyDebugSettings = function (\n  enabled,\n  color\n) {};\n\nTileset3DTileContent.prototype.applyStyle = function (style) {};\n\nTileset3DTileContent.prototype.update = function (tileset, frameState) {};\n\nTileset3DTileContent.prototype.isDestroyed = function () {\n  return false;\n};\n\nTileset3DTileContent.prototype.destroy = function () {\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Tileset3DTileContent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU3OTQuanMiLCJtYXBwaW5ncyI6Ijs7QUFBcUQ7QUFDWjs7QUFFekM7QUFDQTtBQUNBLElBQUksNkVBQTZFO0FBQ2pGO0FBQ0E7QUFDQSxtQkFBbUIsMkJBQTJCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0ZBQVU7O0FBRWpDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSx5REFBZSxvQkFBb0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9UaWxlc2V0M0RUaWxlQ29udGVudC5qcz81Y2JjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCB3aGVuIGZyb20gXCIuLi9UaGlyZFBhcnR5L3doZW4uanNcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGNvbnRlbnQgZm9yIGEgdGlsZSBpbiBhXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTLzNkLXRpbGVzL3RyZWUvbWFpbi9zcGVjaWZpY2F0aW9ufDNEIFRpbGVzfSB0aWxlc2V0IHdob3NlXG4gKiBjb250ZW50IHBvaW50cyB0byBhbm90aGVyIDNEIFRpbGVzIHRpbGVzZXQuXG4gKiA8cD5cbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBDZXNpdW0zRFRpbGVDb250ZW50fSBpbnRlcmZhY2UuXG4gKiA8L3A+XG4gKlxuICogQGFsaWFzIFRpbGVzZXQzRFRpbGVDb250ZW50XG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBUaWxlc2V0M0RUaWxlQ29udGVudCh0aWxlc2V0LCB0aWxlLCByZXNvdXJjZSwganNvbikge1xuICB0aGlzLl90aWxlc2V0ID0gdGlsZXNldDtcbiAgdGhpcy5fdGlsZSA9IHRpbGU7XG4gIHRoaXMuX3Jlc291cmNlID0gcmVzb3VyY2U7XG4gIHRoaXMuX3JlYWR5UHJvbWlzZSA9IHdoZW4uZGVmZXIoKTtcblxuICB0aGlzLmZlYXR1cmVQcm9wZXJ0aWVzRGlydHkgPSBmYWxzZTtcbiAgdGhpcy5fZ3JvdXBNZXRhZGF0YSA9IHVuZGVmaW5lZDtcblxuICBpbml0aWFsaXplKHRoaXMsIGpzb24pO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUaWxlc2V0M0RUaWxlQ29udGVudC5wcm90b3R5cGUsIHtcbiAgZmVhdHVyZXNMZW5ndGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gIH0sXG5cbiAgcG9pbnRzTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIHRyaWFuZ2xlc0xlbmd0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgfSxcblxuICBnZW9tZXRyeUJ5dGVMZW5ndGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gIH0sXG5cbiAgdGV4dHVyZXNCeXRlTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIGJhdGNoVGFibGVCeXRlTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIGlubmVyQ29udGVudHM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfSxcblxuICByZWFkeVByb21pc2U6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZWFkeVByb21pc2UucHJvbWlzZTtcbiAgICB9LFxuICB9LFxuXG4gIHRpbGVzZXQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90aWxlc2V0O1xuICAgIH0sXG4gIH0sXG5cbiAgdGlsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbGU7XG4gICAgfSxcbiAgfSxcblxuICB1cmw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXNvdXJjZS5nZXRVcmxDb21wb25lbnQodHJ1ZSk7XG4gICAgfSxcbiAgfSxcblxuICBiYXRjaFRhYmxlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH0sXG5cbiAgZ3JvdXBNZXRhZGF0YToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwTWV0YWRhdGE7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy5fZ3JvdXBNZXRhZGF0YSA9IHZhbHVlO1xuICAgIH0sXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZShjb250ZW50LCBqc29uKSB7XG4gIGNvbnRlbnQuX3RpbGVzZXQubG9hZFRpbGVzZXQoY29udGVudC5fcmVzb3VyY2UsIGpzb24sIGNvbnRlbnQuX3RpbGUpO1xuICBjb250ZW50Ll9yZWFkeVByb21pc2UucmVzb2x2ZShjb250ZW50KTtcbn1cblxuLyoqXG4gKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgPGNvZGU+VGlsZXNldDNEVGlsZUNvbnRlbnQ8L2NvZGU+XG4gKiBhbHdheXMgcmV0dXJucyA8Y29kZT5mYWxzZTwvY29kZT4gc2luY2UgYSB0aWxlIG9mIHRoaXMgdHlwZSBkb2VzIG5vdCBoYXZlIGFueSBmZWF0dXJlcy5cbiAqL1xuVGlsZXNldDNEVGlsZUNvbnRlbnQucHJvdG90eXBlLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKGJhdGNoSWQsIG5hbWUpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgPGNvZGU+VGlsZXNldDNEVGlsZUNvbnRlbnQ8L2NvZGU+XG4gKiBhbHdheXMgcmV0dXJucyA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IHNpbmNlIGEgdGlsZSBvZiB0aGlzIHR5cGUgZG9lcyBub3QgaGF2ZSBhbnkgZmVhdHVyZXMuXG4gKi9cblRpbGVzZXQzRFRpbGVDb250ZW50LnByb3RvdHlwZS5nZXRGZWF0dXJlID0gZnVuY3Rpb24gKGJhdGNoSWQpIHtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cblRpbGVzZXQzRFRpbGVDb250ZW50LnByb3RvdHlwZS5hcHBseURlYnVnU2V0dGluZ3MgPSBmdW5jdGlvbiAoXG4gIGVuYWJsZWQsXG4gIGNvbG9yXG4pIHt9O1xuXG5UaWxlc2V0M0RUaWxlQ29udGVudC5wcm90b3R5cGUuYXBwbHlTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSkge307XG5cblRpbGVzZXQzRFRpbGVDb250ZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodGlsZXNldCwgZnJhbWVTdGF0ZSkge307XG5cblRpbGVzZXQzRFRpbGVDb250ZW50LnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuVGlsZXNldDNEVGlsZUNvbnRlbnQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVzZXQzRFRpbGVDb250ZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85794\n')},38715:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82982);\n/* harmony import */ var _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18349);\n\n\n\n\n\n/**\n * Metadata about the tileset.\n * <p>\n * See the {@link https://github.com/CesiumGS/3d-tiles/tree/3d-tiles-next/extensions/3DTILES_metadata|3DTILES_metadata Extension} for 3D Tiles\n * </p>\n *\n * @param {Object} options Object with the following properties:\n * @param {Object} options.tileset The tileset metadata JSON object.\n * @param {MetadataClass} [options.class] The class that tileset metadata conforms to.\n *\n * @alias TilesetMetadata\n * @constructor\n * @private\n * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n */\nfunction TilesetMetadata(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  var tileset = options.tileset;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.tileset", tileset);\n  //>>includeEnd(\'debug\');\n\n  var properties = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(tileset.properties) ? tileset.properties : {};\n\n  this._class = options.class;\n  this._properties = properties;\n  this._name = tileset.name;\n  this._description = tileset.description;\n  this._extras = tileset.extras;\n  this._extensions = tileset.extensions;\n}\n\nObject.defineProperties(TilesetMetadata.prototype, {\n  /**\n   * The class that properties conform to.\n   *\n   * @memberof TilesetMetadata.prototype\n   * @type {MetadataClass}\n   * @readonly\n   * @private\n   */\n  class: {\n    get: function () {\n      return this._class;\n    },\n  },\n\n  /**\n   * The name of the tileset.\n   *\n   * @memberof TilesetMetadata.prototype\n   * @type {String}\n   * @readonly\n   * @private\n   */\n  name: {\n    get: function () {\n      return this._name;\n    },\n  },\n\n  /**\n   * The description of the tileset.\n   *\n   * @memberof TilesetMetadata.prototype\n   * @type {String}\n   * @readonly\n   * @private\n   */\n  description: {\n    get: function () {\n      return this._description;\n    },\n  },\n\n  /**\n   * Extras in the JSON object.\n   *\n   * @memberof TilesetMetadata.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extras: {\n    get: function () {\n      return this._extras;\n    },\n  },\n\n  /**\n   * Extensions in the JSON object.\n   *\n   * @memberof TilesetMetadata.prototype\n   * @type {Object}\n   * @readonly\n   * @private\n   */\n  extensions: {\n    get: function () {\n      return this._extensions;\n    },\n  },\n});\n\n/**\n * Returns whether the tileset has this property.\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {Boolean} Whether the tileset has this property.\n * @private\n */\nTilesetMetadata.prototype.hasProperty = function (propertyId) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].hasProperty */ .Z.hasProperty(propertyId, this._properties, this._class);\n};\n\n/**\n * Returns whether the tileset has a property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {Boolean} Whether the tileset has a property with the given semantic.\n * @private\n */\nTilesetMetadata.prototype.hasPropertyBySemantic = function (semantic) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].hasPropertyBySemantic */ .Z.hasPropertyBySemantic(\n    semantic,\n    this._properties,\n    this._class\n  );\n};\n\n/**\n * Returns an array of property IDs.\n *\n * @param {String[]} [results] An array into which to store the results.\n * @returns {String[]} The property IDs.\n * @private\n */\nTilesetMetadata.prototype.getPropertyIds = function (results) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getPropertyIds */ .Z.getPropertyIds(this._properties, this._class, results);\n};\n\n/**\n * Returns a copy of the value of the property with the given ID.\n * <p>\n * If the property is normalized the normalized value is returned.\n * </p>\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {*} The value of the property or <code>undefined</code> if the tileset does not have this property.\n * @private\n */\nTilesetMetadata.prototype.getProperty = function (propertyId) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getProperty */ .Z.getProperty(propertyId, this._properties, this._class);\n};\n\n/**\n * Sets the value of the property with the given ID.\n * <p>\n * If the property is normalized a normalized value must be provided to this function.\n * </p>\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @param {*} value The value of the property that will be copied.\n * @returns {Boolean} <code>true</code> if the property was set, <code>false</code> otherwise.\n * @private\n */\nTilesetMetadata.prototype.setProperty = function (propertyId, value) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].setProperty */ .Z.setProperty(\n    propertyId,\n    value,\n    this._properties,\n    this._class\n  );\n};\n\n/**\n * Returns a copy of the value of the property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {*} The value of the property or <code>undefined</code> if the tileset does not have this semantic.\n * @private\n */\nTilesetMetadata.prototype.getPropertyBySemantic = function (semantic) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getPropertyBySemantic */ .Z.getPropertyBySemantic(\n    semantic,\n    this._properties,\n    this._class\n  );\n};\n\n/**\n * Sets the value of the property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @param {*} value The value of the property that will be copied.\n * @returns {Boolean} <code>true</code> if the property was set, <code>false</code> otherwise.\n * @private\n */\nTilesetMetadata.prototype.setPropertyBySemantic = function (semantic, value) {\n  return _MetadataEntity_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].setPropertyBySemantic */ .Z.setPropertyBySemantic(\n    semantic,\n    value,\n    this._properties,\n    this._class\n  );\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (TilesetMetadata);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg3MTUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFxQztBQUNjO0FBQ1Y7QUFDUTs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzSEFBc0g7QUFDbEk7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwRUFBWSxVQUFVLGdHQUF5QjtBQUMzRDs7QUFFQTtBQUNBLEVBQUUsMkZBQW1CO0FBQ3JCOztBQUVBLG1CQUFtQixxRUFBTzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJGQUEwQjtBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0dBQW9DO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlHQUE2QjtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkZBQTBCO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsU0FBUywyRkFBMEI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsU0FBUywrR0FBb0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0dBQW9DO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5REFBZSxlQUFlLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVGlsZXNldE1ldGFkYXRhLmpzPzVjM2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IE1ldGFkYXRhRW50aXR5IGZyb20gXCIuL01ldGFkYXRhRW50aXR5LmpzXCI7XG5cbi8qKlxuICogTWV0YWRhdGEgYWJvdXQgdGhlIHRpbGVzZXQuXG4gKiA8cD5cbiAqIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy8zZC10aWxlcy90cmVlLzNkLXRpbGVzLW5leHQvZXh0ZW5zaW9ucy8zRFRJTEVTX21ldGFkYXRhfDNEVElMRVNfbWV0YWRhdGEgRXh0ZW5zaW9ufSBmb3IgM0QgVGlsZXNcbiAqIDwvcD5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy50aWxlc2V0IFRoZSB0aWxlc2V0IG1ldGFkYXRhIEpTT04gb2JqZWN0LlxuICogQHBhcmFtIHtNZXRhZGF0YUNsYXNzfSBbb3B0aW9ucy5jbGFzc10gVGhlIGNsYXNzIHRoYXQgdGlsZXNldCBtZXRhZGF0YSBjb25mb3JtcyB0by5cbiAqXG4gKiBAYWxpYXMgVGlsZXNldE1ldGFkYXRhXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKiBAZXhwZXJpbWVudGFsIFRoaXMgZmVhdHVyZSBpcyB1c2luZyBwYXJ0IG9mIHRoZSAzRCBUaWxlcyBzcGVjIHRoYXQgaXMgbm90IGZpbmFsIGFuZCBpcyBzdWJqZWN0IHRvIGNoYW5nZSB3aXRob3V0IENlc2l1bSdzIHN0YW5kYXJkIGRlcHJlY2F0aW9uIHBvbGljeS5cbiAqL1xuZnVuY3Rpb24gVGlsZXNldE1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcbiAgdmFyIHRpbGVzZXQgPSBvcHRpb25zLnRpbGVzZXQ7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMudGlsZXNldFwiLCB0aWxlc2V0KTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHByb3BlcnRpZXMgPSBkZWZpbmVkKHRpbGVzZXQucHJvcGVydGllcykgPyB0aWxlc2V0LnByb3BlcnRpZXMgOiB7fTtcblxuICB0aGlzLl9jbGFzcyA9IG9wdGlvbnMuY2xhc3M7XG4gIHRoaXMuX3Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICB0aGlzLl9uYW1lID0gdGlsZXNldC5uYW1lO1xuICB0aGlzLl9kZXNjcmlwdGlvbiA9IHRpbGVzZXQuZGVzY3JpcHRpb247XG4gIHRoaXMuX2V4dHJhcyA9IHRpbGVzZXQuZXh0cmFzO1xuICB0aGlzLl9leHRlbnNpb25zID0gdGlsZXNldC5leHRlbnNpb25zO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUaWxlc2V0TWV0YWRhdGEucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBUaGUgY2xhc3MgdGhhdCBwcm9wZXJ0aWVzIGNvbmZvcm0gdG8uXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaWxlc2V0TWV0YWRhdGEucHJvdG90eXBlXG4gICAqIEB0eXBlIHtNZXRhZGF0YUNsYXNzfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNsYXNzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2xhc3M7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHRpbGVzZXQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaWxlc2V0TWV0YWRhdGEucHJvdG90eXBlXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbmFtZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0aWxlc2V0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGlsZXNldE1ldGFkYXRhLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRlc2NyaXB0aW9uOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogRXh0cmFzIGluIHRoZSBKU09OIG9iamVjdC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbGVzZXRNZXRhZGF0YS5wcm90b3R5cGVcbiAgICogQHR5cGUgeyp9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0cmFzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXh0cmFzO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4dGVuc2lvbnMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGlsZXNldE1ldGFkYXRhLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGV4dGVuc2lvbnM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9leHRlbnNpb25zO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHRpbGVzZXQgaGFzIHRoaXMgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5SWQgVGhlIGNhc2Utc2Vuc2l0aXZlIElEIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSB0aWxlc2V0IGhhcyB0aGlzIHByb3BlcnR5LlxuICogQHByaXZhdGVcbiAqL1xuVGlsZXNldE1ldGFkYXRhLnByb3RvdHlwZS5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eUlkKSB7XG4gIHJldHVybiBNZXRhZGF0YUVudGl0eS5oYXNQcm9wZXJ0eShwcm9wZXJ0eUlkLCB0aGlzLl9wcm9wZXJ0aWVzLCB0aGlzLl9jbGFzcyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgdGlsZXNldCBoYXMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBzZW1hbnRpYy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VtYW50aWMgVGhlIGNhc2Utc2Vuc2l0aXZlIHNlbWFudGljIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSB0aWxlc2V0IGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIHNlbWFudGljLlxuICogQHByaXZhdGVcbiAqL1xuVGlsZXNldE1ldGFkYXRhLnByb3RvdHlwZS5oYXNQcm9wZXJ0eUJ5U2VtYW50aWMgPSBmdW5jdGlvbiAoc2VtYW50aWMpIHtcbiAgcmV0dXJuIE1ldGFkYXRhRW50aXR5Lmhhc1Byb3BlcnR5QnlTZW1hbnRpYyhcbiAgICBzZW1hbnRpYyxcbiAgICB0aGlzLl9wcm9wZXJ0aWVzLFxuICAgIHRoaXMuX2NsYXNzXG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgSURzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nW119IFtyZXN1bHRzXSBBbiBhcnJheSBpbnRvIHdoaWNoIHRvIHN0b3JlIHRoZSByZXN1bHRzLlxuICogQHJldHVybnMge1N0cmluZ1tdfSBUaGUgcHJvcGVydHkgSURzLlxuICogQHByaXZhdGVcbiAqL1xuVGlsZXNldE1ldGFkYXRhLnByb3RvdHlwZS5nZXRQcm9wZXJ0eUlkcyA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gIHJldHVybiBNZXRhZGF0YUVudGl0eS5nZXRQcm9wZXJ0eUlkcyh0aGlzLl9wcm9wZXJ0aWVzLCB0aGlzLl9jbGFzcywgcmVzdWx0cyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gKiA8cD5cbiAqIElmIHRoZSBwcm9wZXJ0eSBpcyBub3JtYWxpemVkIHRoZSBub3JtYWxpemVkIHZhbHVlIGlzIHJldHVybmVkLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eUlkIFRoZSBjYXNlLXNlbnNpdGl2ZSBJRCBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBvciA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IGlmIHRoZSB0aWxlc2V0IGRvZXMgbm90IGhhdmUgdGhpcyBwcm9wZXJ0eS5cbiAqIEBwcml2YXRlXG4gKi9cblRpbGVzZXRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHlJZCkge1xuICByZXR1cm4gTWV0YWRhdGFFbnRpdHkuZ2V0UHJvcGVydHkocHJvcGVydHlJZCwgdGhpcy5fcHJvcGVydGllcywgdGhpcy5fY2xhc3MpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gKiA8cD5cbiAqIElmIHRoZSBwcm9wZXJ0eSBpcyBub3JtYWxpemVkIGEgbm9ybWFsaXplZCB2YWx1ZSBtdXN0IGJlIHByb3ZpZGVkIHRvIHRoaXMgZnVuY3Rpb24uXG4gKiA8L3A+XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5SWQgVGhlIGNhc2Utc2Vuc2l0aXZlIElEIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgY29waWVkLlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBwcm9wZXJ0eSB3YXMgc2V0LCA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLlxuICogQHByaXZhdGVcbiAqL1xuVGlsZXNldE1ldGFkYXRhLnByb3RvdHlwZS5zZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eUlkLCB2YWx1ZSkge1xuICByZXR1cm4gTWV0YWRhdGFFbnRpdHkuc2V0UHJvcGVydHkoXG4gICAgcHJvcGVydHlJZCxcbiAgICB2YWx1ZSxcbiAgICB0aGlzLl9wcm9wZXJ0aWVzLFxuICAgIHRoaXMuX2NsYXNzXG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gc2VtYW50aWMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNlbWFudGljIFRoZSBjYXNlLXNlbnNpdGl2ZSBzZW1hbnRpYyBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBvciA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IGlmIHRoZSB0aWxlc2V0IGRvZXMgbm90IGhhdmUgdGhpcyBzZW1hbnRpYy5cbiAqIEBwcml2YXRlXG4gKi9cblRpbGVzZXRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0UHJvcGVydHlCeVNlbWFudGljID0gZnVuY3Rpb24gKHNlbWFudGljKSB7XG4gIHJldHVybiBNZXRhZGF0YUVudGl0eS5nZXRQcm9wZXJ0eUJ5U2VtYW50aWMoXG4gICAgc2VtYW50aWMsXG4gICAgdGhpcy5fcHJvcGVydGllcyxcbiAgICB0aGlzLl9jbGFzc1xuICApO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gc2VtYW50aWMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHNlbWFudGljIFRoZSBjYXNlLXNlbnNpdGl2ZSBzZW1hbnRpYyBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIGNvcGllZC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSA8Y29kZT50cnVlPC9jb2RlPiBpZiB0aGUgcHJvcGVydHkgd2FzIHNldCwgPGNvZGU+ZmFsc2U8L2NvZGU+IG90aGVyd2lzZS5cbiAqIEBwcml2YXRlXG4gKi9cblRpbGVzZXRNZXRhZGF0YS5wcm90b3R5cGUuc2V0UHJvcGVydHlCeVNlbWFudGljID0gZnVuY3Rpb24gKHNlbWFudGljLCB2YWx1ZSkge1xuICByZXR1cm4gTWV0YWRhdGFFbnRpdHkuc2V0UHJvcGVydHlCeVNlbWFudGljKFxuICAgIHNlbWFudGljLFxuICAgIHZhbHVlLFxuICAgIHRoaXMuX3Byb3BlcnRpZXMsXG4gICAgdGhpcy5fY2xhc3NcbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGVzZXRNZXRhZGF0YTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38715\n')},90299:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55293);\n/* harmony import */ var _Core_Request_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22426);\n/* harmony import */ var _Core_RequestType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82968);\n\n\n\n\n\n\n\n\n/**\n * Provides functionality for ImageryProviders that have time dynamic imagery\n *\n * @alias TimeDynamicImagery\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Clock} options.clock A Clock instance that is used when determining the value for the time dimension. Required when <code>options.times</code> is specified.\n * @param {TimeIntervalCollection} options.times TimeIntervalCollection with its <code>data</code> property being an object containing time dynamic dimension and their values.\n * @param {Function} options.requestImageFunction A function that will request imagery tiles.\n * @param {Function} options.reloadFunction A function that will be called when all imagery tiles need to be reloaded.\n */\nfunction TimeDynamicImagery(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.clock", options.clock);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.times", options.times);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.func */ .Z.typeOf.func(\n    "options.requestImageFunction",\n    options.requestImageFunction\n  );\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.func */ .Z.typeOf.func("options.reloadFunction", options.reloadFunction);\n  //>>includeEnd(\'debug\');\n\n  this._tileCache = {};\n  this._tilesRequestedForInterval = [];\n\n  var clock = (this._clock = options.clock);\n  this._times = options.times;\n  this._requestImageFunction = options.requestImageFunction;\n  this._reloadFunction = options.reloadFunction;\n  this._currentIntervalIndex = -1;\n\n  clock.onTick.addEventListener(this._clockOnTick, this);\n  this._clockOnTick(clock);\n}\n\nObject.defineProperties(TimeDynamicImagery.prototype, {\n  /**\n   * Gets or sets a clock that is used to get keep the time used for time dynamic parameters.\n   * @memberof TimeDynamicImagery.prototype\n   * @type {Clock}\n   */\n  clock: {\n    get: function () {\n      return this._clock;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(value)) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("value is required.");\n      }\n      //>>includeEnd(\'debug\');\n\n      if (this._clock !== value) {\n        this._clock = value;\n        this._clockOnTick(value);\n        this._reloadFunction();\n      }\n    },\n  },\n  /**\n   * Gets or sets a time interval collection.\n   * @memberof TimeDynamicImagery.prototype\n   * @type {TimeIntervalCollection}\n   */\n  times: {\n    get: function () {\n      return this._times;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(value)) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("value is required.");\n      }\n      //>>includeEnd(\'debug\');\n\n      if (this._times !== value) {\n        this._times = value;\n        this._clockOnTick(this._clock);\n        this._reloadFunction();\n      }\n    },\n  },\n  /**\n   * Gets the current interval.\n   * @memberof TimeDynamicImagery.prototype\n   * @type {TimeInterval}\n   */\n  currentInterval: {\n    get: function () {\n      return this._times.get(this._currentIntervalIndex);\n    },\n  },\n});\n\n/**\n * Gets the tile from the cache if its available.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n *\n * @returns {Promise.<HTMLImageElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if the tile is not in the cache.\n */\nTimeDynamicImagery.prototype.getFromCache = function (x, y, level, request) {\n  var key = getKey(x, y, level);\n  var result;\n  var cache = this._tileCache[this._currentIntervalIndex];\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cache) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cache[key])) {\n    var item = cache[key];\n    result = item.promise.otherwise(function (e) {\n      // Set the correct state in case it was cancelled\n      request.state = item.request.state;\n      throw e;\n    });\n    delete cache[key];\n  }\n\n  return result;\n};\n\n/**\n * Checks if the next interval is approaching and will start preload the tile if necessary. Otherwise it will\n * just add the tile to a list to preload when we approach the next interval.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n */\nTimeDynamicImagery.prototype.checkApproachingInterval = function (\n  x,\n  y,\n  level,\n  request\n) {\n  var key = getKey(x, y, level);\n  var tilesRequestedForInterval = this._tilesRequestedForInterval;\n\n  // If we are approaching an interval, preload this tile in the next interval\n  var approachingInterval = getApproachingInterval(this);\n  var tile = {\n    key: key,\n    // Determines priority based on camera distance to the tile.\n    // Since the imagery regardless of time will be attached to the same tile we can just steal it.\n    priorityFunction: request.priorityFunction,\n  };\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(approachingInterval) ||\n    !addToCache(this, tile, approachingInterval)\n  ) {\n    // Add to recent request list if we aren\'t approaching and interval or the request was throttled\n    tilesRequestedForInterval.push(tile);\n  }\n\n  // Don\'t let the tile list get out of hand\n  if (tilesRequestedForInterval.length >= 512) {\n    tilesRequestedForInterval.splice(0, 256);\n  }\n};\n\nTimeDynamicImagery.prototype._clockOnTick = function (clock) {\n  var time = clock.currentTime;\n  var times = this._times;\n  var index = times.indexOf(time);\n  var currentIntervalIndex = this._currentIntervalIndex;\n\n  if (index !== currentIntervalIndex) {\n    // Cancel all outstanding requests and clear out caches not from current time interval\n    var currentCache = this._tileCache[currentIntervalIndex];\n    for (var t in currentCache) {\n      if (currentCache.hasOwnProperty(t)) {\n        currentCache[t].request.cancel();\n      }\n    }\n    delete this._tileCache[currentIntervalIndex];\n    this._tilesRequestedForInterval = [];\n\n    this._currentIntervalIndex = index;\n    this._reloadFunction();\n\n    return;\n  }\n\n  var approachingInterval = getApproachingInterval(this);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(approachingInterval)) {\n    // Start loading recent tiles from end of this._tilesRequestedForInterval\n    //  We keep preloading until we hit a throttling limit.\n    var tilesRequested = this._tilesRequestedForInterval;\n    var success = true;\n    while (success) {\n      if (tilesRequested.length === 0) {\n        break;\n      }\n\n      var tile = tilesRequested.pop();\n      success = addToCache(this, tile, approachingInterval);\n      if (!success) {\n        tilesRequested.push(tile);\n      }\n    }\n  }\n};\n\nfunction getKey(x, y, level) {\n  return x + "-" + y + "-" + level;\n}\n\nfunction getKeyElements(key) {\n  var s = key.split("-");\n  if (s.length !== 3) {\n    return undefined;\n  }\n\n  return {\n    x: Number(s[0]),\n    y: Number(s[1]),\n    level: Number(s[2]),\n  };\n}\n\nfunction getApproachingInterval(that) {\n  var times = that._times;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(times)) {\n    return undefined;\n  }\n  var clock = that._clock;\n  var time = clock.currentTime;\n  var isAnimating = clock.canAnimate && clock.shouldAnimate;\n  var multiplier = clock.multiplier;\n\n  if (!isAnimating && multiplier !== 0) {\n    return undefined;\n  }\n\n  var seconds;\n  var index = times.indexOf(time);\n  if (index < 0) {\n    return undefined;\n  }\n\n  var interval = times.get(index);\n  if (multiplier > 0) {\n    // animating forward\n    seconds = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].secondsDifference */ .Z.secondsDifference(interval.stop, time);\n    ++index;\n  } else {\n    //backwards\n    seconds = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].secondsDifference */ .Z.secondsDifference(interval.start, time); // Will be negative\n    --index;\n  }\n  seconds /= multiplier; // Will always be positive\n\n  // Less than 5 wall time seconds\n  return index >= 0 && seconds <= 5.0 ? times.get(index) : undefined;\n}\n\nfunction addToCache(that, tile, interval) {\n  var index = that._times.indexOf(interval.start);\n  var tileCache = that._tileCache;\n  var intervalTileCache = tileCache[index];\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(intervalTileCache)) {\n    intervalTileCache = tileCache[index] = {};\n  }\n\n  var key = tile.key;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(intervalTileCache[key])) {\n    return true; // Already in the cache\n  }\n\n  var keyElements = getKeyElements(key);\n  var request = new _Core_Request_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    throttle: false,\n    throttleByServer: true,\n    type: _Core_RequestType_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].IMAGERY */ .Z.IMAGERY,\n    priorityFunction: tile.priorityFunction,\n  });\n  var promise = that._requestImageFunction(\n    keyElements.x,\n    keyElements.y,\n    keyElements.level,\n    request,\n    interval\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(promise)) {\n    return false;\n  }\n\n  intervalTileCache[key] = {\n    promise: promise,\n    request: request,\n  };\n\n  return true;\n}\n/* harmony default export */ __webpack_exports__["Z"] = (TimeDynamicImagery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUVBQU87QUFDYixpQkFBaUI7QUFDakI7O0FBRUE7QUFDQSxvQkFBb0IsaUVBQU87QUFDM0I7QUFDQTtBQUNBLFVBQVUscUZBQW1CO0FBQzdCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxRUFBTztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUFlLGtCQUFrQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL1RpbWVEeW5hbWljSW1hZ2VyeS5qcz8xMWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGVjayBmcm9tIFwiLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IEp1bGlhbkRhdGUgZnJvbSBcIi4uL0NvcmUvSnVsaWFuRGF0ZS5qc1wiO1xuaW1wb3J0IFJlcXVlc3QgZnJvbSBcIi4uL0NvcmUvUmVxdWVzdC5qc1wiO1xuaW1wb3J0IFJlcXVlc3RUeXBlIGZyb20gXCIuLi9Db3JlL1JlcXVlc3RUeXBlLmpzXCI7XG5cbi8qKlxuICogUHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgSW1hZ2VyeVByb3ZpZGVycyB0aGF0IGhhdmUgdGltZSBkeW5hbWljIGltYWdlcnlcbiAqXG4gKiBAYWxpYXMgVGltZUR5bmFtaWNJbWFnZXJ5XG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge0Nsb2NrfSBvcHRpb25zLmNsb2NrIEEgQ2xvY2sgaW5zdGFuY2UgdGhhdCBpcyB1c2VkIHdoZW4gZGV0ZXJtaW5pbmcgdGhlIHZhbHVlIGZvciB0aGUgdGltZSBkaW1lbnNpb24uIFJlcXVpcmVkIHdoZW4gPGNvZGU+b3B0aW9ucy50aW1lczwvY29kZT4gaXMgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtUaW1lSW50ZXJ2YWxDb2xsZWN0aW9ufSBvcHRpb25zLnRpbWVzIFRpbWVJbnRlcnZhbENvbGxlY3Rpb24gd2l0aCBpdHMgPGNvZGU+ZGF0YTwvY29kZT4gcHJvcGVydHkgYmVpbmcgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGltZSBkeW5hbWljIGRpbWVuc2lvbiBhbmQgdGhlaXIgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3B0aW9ucy5yZXF1ZXN0SW1hZ2VGdW5jdGlvbiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZXF1ZXN0IGltYWdlcnkgdGlsZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnJlbG9hZEZ1bmN0aW9uIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGFsbCBpbWFnZXJ5IHRpbGVzIG5lZWQgdG8gYmUgcmVsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIFRpbWVEeW5hbWljSW1hZ2VyeShvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMuY2xvY2tcIiwgb3B0aW9ucy5jbG9jayk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zLnRpbWVzXCIsIG9wdGlvbnMudGltZXMpO1xuICBDaGVjay50eXBlT2YuZnVuYyhcbiAgICBcIm9wdGlvbnMucmVxdWVzdEltYWdlRnVuY3Rpb25cIixcbiAgICBvcHRpb25zLnJlcXVlc3RJbWFnZUZ1bmN0aW9uXG4gICk7XG4gIENoZWNrLnR5cGVPZi5mdW5jKFwib3B0aW9ucy5yZWxvYWRGdW5jdGlvblwiLCBvcHRpb25zLnJlbG9hZEZ1bmN0aW9uKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdGhpcy5fdGlsZUNhY2hlID0ge307XG4gIHRoaXMuX3RpbGVzUmVxdWVzdGVkRm9ySW50ZXJ2YWwgPSBbXTtcblxuICB2YXIgY2xvY2sgPSAodGhpcy5fY2xvY2sgPSBvcHRpb25zLmNsb2NrKTtcbiAgdGhpcy5fdGltZXMgPSBvcHRpb25zLnRpbWVzO1xuICB0aGlzLl9yZXF1ZXN0SW1hZ2VGdW5jdGlvbiA9IG9wdGlvbnMucmVxdWVzdEltYWdlRnVuY3Rpb247XG4gIHRoaXMuX3JlbG9hZEZ1bmN0aW9uID0gb3B0aW9ucy5yZWxvYWRGdW5jdGlvbjtcbiAgdGhpcy5fY3VycmVudEludGVydmFsSW5kZXggPSAtMTtcblxuICBjbG9jay5vblRpY2suYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9jbG9ja09uVGljaywgdGhpcyk7XG4gIHRoaXMuX2Nsb2NrT25UaWNrKGNsb2NrKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVGltZUR5bmFtaWNJbWFnZXJ5LnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIGEgY2xvY2sgdGhhdCBpcyB1c2VkIHRvIGdldCBrZWVwIHRoZSB0aW1lIHVzZWQgZm9yIHRpbWUgZHluYW1pYyBwYXJhbWV0ZXJzLlxuICAgKiBAbWVtYmVyb2YgVGltZUR5bmFtaWNJbWFnZXJ5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q2xvY2t9XG4gICAqL1xuICBjbG9jazoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBpZiAoIWRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInZhbHVlIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgIH1cbiAgICAgIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gICAgICBpZiAodGhpcy5fY2xvY2sgIT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2Nsb2NrID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2Nsb2NrT25UaWNrKHZhbHVlKTtcbiAgICAgICAgdGhpcy5fcmVsb2FkRnVuY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIGEgdGltZSBpbnRlcnZhbCBjb2xsZWN0aW9uLlxuICAgKiBAbWVtYmVyb2YgVGltZUR5bmFtaWNJbWFnZXJ5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7VGltZUludGVydmFsQ29sbGVjdGlvbn1cbiAgICovXG4gIHRpbWVzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGltZXM7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICghZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwidmFsdWUgaXMgcmVxdWlyZWQuXCIpO1xuICAgICAgfVxuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAgIGlmICh0aGlzLl90aW1lcyAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGltZXMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fY2xvY2tPblRpY2sodGhpcy5fY2xvY2spO1xuICAgICAgICB0aGlzLl9yZWxvYWRGdW5jdGlvbigpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGludGVydmFsLlxuICAgKiBAbWVtYmVyb2YgVGltZUR5bmFtaWNJbWFnZXJ5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7VGltZUludGVydmFsfVxuICAgKi9cbiAgY3VycmVudEludGVydmFsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGltZXMuZ2V0KHRoaXMuX2N1cnJlbnRJbnRlcnZhbEluZGV4KTtcbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGlsZSBmcm9tIHRoZSBjYWNoZSBpZiBpdHMgYXZhaWxhYmxlLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB0aWxlIFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB0aWxlIFkgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCBUaGUgdGlsZSBsZXZlbC5cbiAqIEBwYXJhbSB7UmVxdWVzdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0IG9iamVjdC4gSW50ZW5kZWQgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50Pnx1bmRlZmluZWR9IEEgcHJvbWlzZSBmb3IgdGhlIGltYWdlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGltYWdlIGlzIGF2YWlsYWJsZSwgb3JcbiAqICAgICAgICAgIHVuZGVmaW5lZCBpZiB0aGUgdGlsZSBpcyBub3QgaW4gdGhlIGNhY2hlLlxuICovXG5UaW1lRHluYW1pY0ltYWdlcnkucHJvdG90eXBlLmdldEZyb21DYWNoZSA9IGZ1bmN0aW9uICh4LCB5LCBsZXZlbCwgcmVxdWVzdCkge1xuICB2YXIga2V5ID0gZ2V0S2V5KHgsIHksIGxldmVsKTtcbiAgdmFyIHJlc3VsdDtcbiAgdmFyIGNhY2hlID0gdGhpcy5fdGlsZUNhY2hlW3RoaXMuX2N1cnJlbnRJbnRlcnZhbEluZGV4XTtcbiAgaWYgKGRlZmluZWQoY2FjaGUpICYmIGRlZmluZWQoY2FjaGVba2V5XSkpIHtcbiAgICB2YXIgaXRlbSA9IGNhY2hlW2tleV07XG4gICAgcmVzdWx0ID0gaXRlbS5wcm9taXNlLm90aGVyd2lzZShmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gU2V0IHRoZSBjb3JyZWN0IHN0YXRlIGluIGNhc2UgaXQgd2FzIGNhbmNlbGxlZFxuICAgICAgcmVxdWVzdC5zdGF0ZSA9IGl0ZW0ucmVxdWVzdC5zdGF0ZTtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gICAgZGVsZXRlIGNhY2hlW2tleV07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIG5leHQgaW50ZXJ2YWwgaXMgYXBwcm9hY2hpbmcgYW5kIHdpbGwgc3RhcnQgcHJlbG9hZCB0aGUgdGlsZSBpZiBuZWNlc3NhcnkuIE90aGVyd2lzZSBpdCB3aWxsXG4gKiBqdXN0IGFkZCB0aGUgdGlsZSB0byBhIGxpc3QgdG8gcHJlbG9hZCB3aGVuIHdlIGFwcHJvYWNoIHRoZSBuZXh0IGludGVydmFsLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB0aWxlIFggY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB0aWxlIFkgY29vcmRpbmF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCBUaGUgdGlsZSBsZXZlbC5cbiAqIEBwYXJhbSB7UmVxdWVzdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0IG9iamVjdC4gSW50ZW5kZWQgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICovXG5UaW1lRHluYW1pY0ltYWdlcnkucHJvdG90eXBlLmNoZWNrQXBwcm9hY2hpbmdJbnRlcnZhbCA9IGZ1bmN0aW9uIChcbiAgeCxcbiAgeSxcbiAgbGV2ZWwsXG4gIHJlcXVlc3Rcbikge1xuICB2YXIga2V5ID0gZ2V0S2V5KHgsIHksIGxldmVsKTtcbiAgdmFyIHRpbGVzUmVxdWVzdGVkRm9ySW50ZXJ2YWwgPSB0aGlzLl90aWxlc1JlcXVlc3RlZEZvckludGVydmFsO1xuXG4gIC8vIElmIHdlIGFyZSBhcHByb2FjaGluZyBhbiBpbnRlcnZhbCwgcHJlbG9hZCB0aGlzIHRpbGUgaW4gdGhlIG5leHQgaW50ZXJ2YWxcbiAgdmFyIGFwcHJvYWNoaW5nSW50ZXJ2YWwgPSBnZXRBcHByb2FjaGluZ0ludGVydmFsKHRoaXMpO1xuICB2YXIgdGlsZSA9IHtcbiAgICBrZXk6IGtleSxcbiAgICAvLyBEZXRlcm1pbmVzIHByaW9yaXR5IGJhc2VkIG9uIGNhbWVyYSBkaXN0YW5jZSB0byB0aGUgdGlsZS5cbiAgICAvLyBTaW5jZSB0aGUgaW1hZ2VyeSByZWdhcmRsZXNzIG9mIHRpbWUgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgc2FtZSB0aWxlIHdlIGNhbiBqdXN0IHN0ZWFsIGl0LlxuICAgIHByaW9yaXR5RnVuY3Rpb246IHJlcXVlc3QucHJpb3JpdHlGdW5jdGlvbixcbiAgfTtcbiAgaWYgKFxuICAgICFkZWZpbmVkKGFwcHJvYWNoaW5nSW50ZXJ2YWwpIHx8XG4gICAgIWFkZFRvQ2FjaGUodGhpcywgdGlsZSwgYXBwcm9hY2hpbmdJbnRlcnZhbClcbiAgKSB7XG4gICAgLy8gQWRkIHRvIHJlY2VudCByZXF1ZXN0IGxpc3QgaWYgd2UgYXJlbid0IGFwcHJvYWNoaW5nIGFuZCBpbnRlcnZhbCBvciB0aGUgcmVxdWVzdCB3YXMgdGhyb3R0bGVkXG4gICAgdGlsZXNSZXF1ZXN0ZWRGb3JJbnRlcnZhbC5wdXNoKHRpbGUpO1xuICB9XG5cbiAgLy8gRG9uJ3QgbGV0IHRoZSB0aWxlIGxpc3QgZ2V0IG91dCBvZiBoYW5kXG4gIGlmICh0aWxlc1JlcXVlc3RlZEZvckludGVydmFsLmxlbmd0aCA+PSA1MTIpIHtcbiAgICB0aWxlc1JlcXVlc3RlZEZvckludGVydmFsLnNwbGljZSgwLCAyNTYpO1xuICB9XG59O1xuXG5UaW1lRHluYW1pY0ltYWdlcnkucHJvdG90eXBlLl9jbG9ja09uVGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICB2YXIgdGltZSA9IGNsb2NrLmN1cnJlbnRUaW1lO1xuICB2YXIgdGltZXMgPSB0aGlzLl90aW1lcztcbiAgdmFyIGluZGV4ID0gdGltZXMuaW5kZXhPZih0aW1lKTtcbiAgdmFyIGN1cnJlbnRJbnRlcnZhbEluZGV4ID0gdGhpcy5fY3VycmVudEludGVydmFsSW5kZXg7XG5cbiAgaWYgKGluZGV4ICE9PSBjdXJyZW50SW50ZXJ2YWxJbmRleCkge1xuICAgIC8vIENhbmNlbCBhbGwgb3V0c3RhbmRpbmcgcmVxdWVzdHMgYW5kIGNsZWFyIG91dCBjYWNoZXMgbm90IGZyb20gY3VycmVudCB0aW1lIGludGVydmFsXG4gICAgdmFyIGN1cnJlbnRDYWNoZSA9IHRoaXMuX3RpbGVDYWNoZVtjdXJyZW50SW50ZXJ2YWxJbmRleF07XG4gICAgZm9yICh2YXIgdCBpbiBjdXJyZW50Q2FjaGUpIHtcbiAgICAgIGlmIChjdXJyZW50Q2FjaGUuaGFzT3duUHJvcGVydHkodCkpIHtcbiAgICAgICAgY3VycmVudENhY2hlW3RdLnJlcXVlc3QuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLl90aWxlQ2FjaGVbY3VycmVudEludGVydmFsSW5kZXhdO1xuICAgIHRoaXMuX3RpbGVzUmVxdWVzdGVkRm9ySW50ZXJ2YWwgPSBbXTtcblxuICAgIHRoaXMuX2N1cnJlbnRJbnRlcnZhbEluZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5fcmVsb2FkRnVuY3Rpb24oKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBhcHByb2FjaGluZ0ludGVydmFsID0gZ2V0QXBwcm9hY2hpbmdJbnRlcnZhbCh0aGlzKTtcbiAgaWYgKGRlZmluZWQoYXBwcm9hY2hpbmdJbnRlcnZhbCkpIHtcbiAgICAvLyBTdGFydCBsb2FkaW5nIHJlY2VudCB0aWxlcyBmcm9tIGVuZCBvZiB0aGlzLl90aWxlc1JlcXVlc3RlZEZvckludGVydmFsXG4gICAgLy8gIFdlIGtlZXAgcHJlbG9hZGluZyB1bnRpbCB3ZSBoaXQgYSB0aHJvdHRsaW5nIGxpbWl0LlxuICAgIHZhciB0aWxlc1JlcXVlc3RlZCA9IHRoaXMuX3RpbGVzUmVxdWVzdGVkRm9ySW50ZXJ2YWw7XG4gICAgdmFyIHN1Y2Nlc3MgPSB0cnVlO1xuICAgIHdoaWxlIChzdWNjZXNzKSB7XG4gICAgICBpZiAodGlsZXNSZXF1ZXN0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGlsZSA9IHRpbGVzUmVxdWVzdGVkLnBvcCgpO1xuICAgICAgc3VjY2VzcyA9IGFkZFRvQ2FjaGUodGhpcywgdGlsZSwgYXBwcm9hY2hpbmdJbnRlcnZhbCk7XG4gICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgdGlsZXNSZXF1ZXN0ZWQucHVzaCh0aWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEtleSh4LCB5LCBsZXZlbCkge1xuICByZXR1cm4geCArIFwiLVwiICsgeSArIFwiLVwiICsgbGV2ZWw7XG59XG5cbmZ1bmN0aW9uIGdldEtleUVsZW1lbnRzKGtleSkge1xuICB2YXIgcyA9IGtleS5zcGxpdChcIi1cIik7XG4gIGlmIChzLmxlbmd0aCAhPT0gMykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IE51bWJlcihzWzBdKSxcbiAgICB5OiBOdW1iZXIoc1sxXSksXG4gICAgbGV2ZWw6IE51bWJlcihzWzJdKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0QXBwcm9hY2hpbmdJbnRlcnZhbCh0aGF0KSB7XG4gIHZhciB0aW1lcyA9IHRoYXQuX3RpbWVzO1xuICBpZiAoIWRlZmluZWQodGltZXMpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgY2xvY2sgPSB0aGF0Ll9jbG9jaztcbiAgdmFyIHRpbWUgPSBjbG9jay5jdXJyZW50VGltZTtcbiAgdmFyIGlzQW5pbWF0aW5nID0gY2xvY2suY2FuQW5pbWF0ZSAmJiBjbG9jay5zaG91bGRBbmltYXRlO1xuICB2YXIgbXVsdGlwbGllciA9IGNsb2NrLm11bHRpcGxpZXI7XG5cbiAgaWYgKCFpc0FuaW1hdGluZyAmJiBtdWx0aXBsaWVyICE9PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBzZWNvbmRzO1xuICB2YXIgaW5kZXggPSB0aW1lcy5pbmRleE9mKHRpbWUpO1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBpbnRlcnZhbCA9IHRpbWVzLmdldChpbmRleCk7XG4gIGlmIChtdWx0aXBsaWVyID4gMCkge1xuICAgIC8vIGFuaW1hdGluZyBmb3J3YXJkXG4gICAgc2Vjb25kcyA9IEp1bGlhbkRhdGUuc2Vjb25kc0RpZmZlcmVuY2UoaW50ZXJ2YWwuc3RvcCwgdGltZSk7XG4gICAgKytpbmRleDtcbiAgfSBlbHNlIHtcbiAgICAvL2JhY2t3YXJkc1xuICAgIHNlY29uZHMgPSBKdWxpYW5EYXRlLnNlY29uZHNEaWZmZXJlbmNlKGludGVydmFsLnN0YXJ0LCB0aW1lKTsgLy8gV2lsbCBiZSBuZWdhdGl2ZVxuICAgIC0taW5kZXg7XG4gIH1cbiAgc2Vjb25kcyAvPSBtdWx0aXBsaWVyOyAvLyBXaWxsIGFsd2F5cyBiZSBwb3NpdGl2ZVxuXG4gIC8vIExlc3MgdGhhbiA1IHdhbGwgdGltZSBzZWNvbmRzXG4gIHJldHVybiBpbmRleCA+PSAwICYmIHNlY29uZHMgPD0gNS4wID8gdGltZXMuZ2V0KGluZGV4KSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gYWRkVG9DYWNoZSh0aGF0LCB0aWxlLCBpbnRlcnZhbCkge1xuICB2YXIgaW5kZXggPSB0aGF0Ll90aW1lcy5pbmRleE9mKGludGVydmFsLnN0YXJ0KTtcbiAgdmFyIHRpbGVDYWNoZSA9IHRoYXQuX3RpbGVDYWNoZTtcbiAgdmFyIGludGVydmFsVGlsZUNhY2hlID0gdGlsZUNhY2hlW2luZGV4XTtcbiAgaWYgKCFkZWZpbmVkKGludGVydmFsVGlsZUNhY2hlKSkge1xuICAgIGludGVydmFsVGlsZUNhY2hlID0gdGlsZUNhY2hlW2luZGV4XSA9IHt9O1xuICB9XG5cbiAgdmFyIGtleSA9IHRpbGUua2V5O1xuICBpZiAoZGVmaW5lZChpbnRlcnZhbFRpbGVDYWNoZVtrZXldKSkge1xuICAgIHJldHVybiB0cnVlOyAvLyBBbHJlYWR5IGluIHRoZSBjYWNoZVxuICB9XG5cbiAgdmFyIGtleUVsZW1lbnRzID0gZ2V0S2V5RWxlbWVudHMoa2V5KTtcbiAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh7XG4gICAgdGhyb3R0bGU6IGZhbHNlLFxuICAgIHRocm90dGxlQnlTZXJ2ZXI6IHRydWUsXG4gICAgdHlwZTogUmVxdWVzdFR5cGUuSU1BR0VSWSxcbiAgICBwcmlvcml0eUZ1bmN0aW9uOiB0aWxlLnByaW9yaXR5RnVuY3Rpb24sXG4gIH0pO1xuICB2YXIgcHJvbWlzZSA9IHRoYXQuX3JlcXVlc3RJbWFnZUZ1bmN0aW9uKFxuICAgIGtleUVsZW1lbnRzLngsXG4gICAga2V5RWxlbWVudHMueSxcbiAgICBrZXlFbGVtZW50cy5sZXZlbCxcbiAgICByZXF1ZXN0LFxuICAgIGludGVydmFsXG4gICk7XG4gIGlmICghZGVmaW5lZChwcm9taXNlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGludGVydmFsVGlsZUNhY2hlW2tleV0gPSB7XG4gICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICByZXF1ZXN0OiByZXF1ZXN0LFxuICB9O1xuXG4gIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGRlZmF1bHQgVGltZUR5bmFtaWNJbWFnZXJ5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90299\n')},78831:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_arrayFill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23401);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66553);\n/* harmony import */ var _Core_combine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8182);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86511);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14459);\n/* harmony import */ var _Core_getTimestamp_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(59081);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(55293);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(72248);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(68985);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(13222);\n/* harmony import */ var _ClippingPlaneCollection_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(21809);\n/* harmony import */ var _PointCloud_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(15508);\n/* harmony import */ var _PointCloudEyeDomeLighting_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(29388);\n/* harmony import */ var _PointCloudShading_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(45393);\n/* harmony import */ var _SceneMode_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(89917);\n/* harmony import */ var _ShadowMode_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(34125);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Provides playback of time-dynamic point cloud data.\n * <p>\n * Point cloud frames are prefetched in intervals determined by the average frame load time and the current clock speed.\n * If intermediate frames cannot be loaded in time to meet playback speed, they will be skipped. If frames are sufficiently\n * small or the clock is sufficiently slow then no frames will be skipped.\n * </p>\n *\n * @alias TimeDynamicPointCloud\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Clock} options.clock A {@link Clock} instance that is used when determining the value for the time dimension.\n * @param {TimeIntervalCollection} options.intervals A {@link TimeIntervalCollection} with its data property being an object containing a <code>uri</code> to a 3D Tiles Point Cloud tile and an optional <code>transform</code>.\n * @param {Boolean} [options.show=true] Determines if the point cloud will be shown.\n * @param {Matrix4} [options.modelMatrix=Matrix4.IDENTITY] A 4x4 transformation matrix that transforms the point cloud.\n * @param {ShadowMode} [options.shadows=ShadowMode.ENABLED] Determines whether the point cloud casts or receives shadows from light sources.\n * @param {Number} [options.maximumMemoryUsage=256] The maximum amount of memory in MB that can be used by the point cloud.\n * @param {Object} [options.shading] Options for constructing a {@link PointCloudShading} object to control point attenuation and eye dome lighting.\n * @param {Cesium3DTileStyle} [options.style] The style, defined using the {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language}, applied to each point in the point cloud.\n * @param {ClippingPlaneCollection} [options.clippingPlanes] The {@link ClippingPlaneCollection} used to selectively disable rendering the point cloud.\n */\nfunction TimeDynamicPointCloud(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].typeOf.object */ .Z.typeOf.object("options.clock", options.clock);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].typeOf.object */ .Z.typeOf.object("options.intervals", options.intervals);\n  //>>includeEnd(\'debug\');\n\n  /**\n   * Determines if the point cloud will be shown.\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.show, true);\n\n  /**\n   * A 4x4 transformation matrix that transforms the point cloud.\n   *\n   * @type {Matrix4}\n   * @default Matrix4.IDENTITY\n   */\n  this.modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].clone */ .Z.clone(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.modelMatrix, _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].IDENTITY */ .Z.IDENTITY)\n  );\n\n  /**\n   * Determines whether the point cloud casts or receives shadows from light sources.\n   * <p>\n   * Enabling shadows has a performance impact. A point cloud that casts shadows must be rendered twice, once from the camera and again from the light\'s point of view.\n   * </p>\n   * <p>\n   * Shadows are rendered only when {@link Viewer#shadows} is <code>true</code>.\n   * </p>\n   *\n   * @type {ShadowMode}\n   * @default ShadowMode.ENABLED\n   */\n  this.shadows = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.shadows, _ShadowMode_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].ENABLED */ .Z.ENABLED);\n\n  /**\n   * The maximum amount of GPU memory (in MB) that may be used to cache point cloud frames.\n   * <p>\n   * Frames that are not being loaded or rendered are unloaded to enforce this.\n   * </p>\n   * <p>\n   * If decreasing this value results in unloading tiles, the tiles are unloaded the next frame.\n   * </p>\n   *\n   * @type {Number}\n   * @default 256\n   *\n   * @see TimeDynamicPointCloud#totalMemoryUsageInBytes\n   */\n  this.maximumMemoryUsage = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.maximumMemoryUsage, 256);\n\n  /**\n   * Options for controlling point size based on geometric error and eye dome lighting.\n   * @type {PointCloudShading}\n   */\n  this.shading = new _PointCloudShading_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z(options.shading);\n\n  /**\n   * The style, defined using the\n   * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language},\n   * applied to each point in the point cloud.\n   * <p>\n   * Assign <code>undefined</code> to remove the style, which will restore the visual\n   * appearance of the point cloud to its default when no style was applied.\n   * </p>\n   *\n   * @type {Cesium3DTileStyle}\n   *\n   * @example\n   * pointCloud.style = new Cesium.Cesium3DTileStyle({\n   *    color : {\n   *        conditions : [\n   *            [\'${Classification} === 0\', \'color("purple", 0.5)\'],\n   *            [\'${Classification} === 1\', \'color("red")\'],\n   *            [\'true\', \'${COLOR}\']\n   *        ]\n   *    },\n   *    show : \'${Classification} !== 2\'\n   * });\n   *\n   * @see {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language}\n   */\n  this.style = options.style;\n\n  /**\n   * The event fired to indicate that a frame failed to load. A frame may fail to load if the\n   * request for its uri fails or processing fails due to invalid content.\n   * <p>\n   * If there are no event listeners, error messages will be logged to the console.\n   * </p>\n   * <p>\n   * The error object passed to the listener contains two properties:\n   * <ul>\n   * <li><code>uri</code>: the uri of the failed frame.</li>\n   * <li><code>message</code>: the error message.</li>\n   * </ul>\n   *\n   * @type {Event}\n   * @default new Event()\n   *\n   * @example\n   * pointCloud.frameFailed.addEventListener(function(error) {\n   *     console.log(\'An error occurred loading frame: \' + error.uri);\n   *     console.log(\'Error: \' + error.message);\n   * });\n   */\n  this.frameFailed = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z();\n\n  /**\n   * The event fired to indicate that a new frame was rendered.\n   * <p>\n   * The time dynamic point cloud {@link TimeDynamicPointCloud} is passed to the event listener.\n   * </p>\n   * @type {Event}\n   * @default new Event()\n   *\n   * @example\n   * pointCloud.frameChanged.addEventListener(function(timeDynamicPointCloud) {\n   *     viewer.camera.viewBoundingSphere(timeDynamicPointCloud.boundingSphere);\n   * });\n   */\n  this.frameChanged = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z();\n\n  this._clock = options.clock;\n  this._intervals = options.intervals;\n  this._clippingPlanes = undefined;\n  this.clippingPlanes = options.clippingPlanes; // Call setter\n  this._pointCloudEyeDomeLighting = new _PointCloudEyeDomeLighting_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z();\n  this._loadTimestamp = undefined;\n  this._clippingPlanesState = 0;\n  this._styleDirty = false;\n  this._pickId = undefined;\n  this._totalMemoryUsageInBytes = 0;\n  this._frames = [];\n  this._previousInterval = undefined;\n  this._nextInterval = undefined;\n  this._lastRenderedFrame = undefined;\n  this._clockMultiplier = 0.0;\n  this._readyPromise = _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defer */ .Z.defer();\n\n  // For calculating average load time of the last N frames\n  this._runningSum = 0.0;\n  this._runningLength = 0;\n  this._runningIndex = 0;\n  this._runningSamples = (0,_Core_arrayFill_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(new Array(5), 0.0);\n  this._runningAverage = 0.0;\n}\n\nObject.defineProperties(TimeDynamicPointCloud.prototype, {\n  /**\n   * The {@link ClippingPlaneCollection} used to selectively disable rendering the point cloud.\n   *\n   * @memberof TimeDynamicPointCloud.prototype\n   *\n   * @type {ClippingPlaneCollection}\n   */\n  clippingPlanes: {\n    get: function () {\n      return this._clippingPlanes;\n    },\n    set: function (value) {\n      _ClippingPlaneCollection_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].setOwner */ .Z.setOwner(value, this, "_clippingPlanes");\n    },\n  },\n\n  /**\n   * The total amount of GPU memory in bytes used by the point cloud.\n   *\n   * @memberof TimeDynamicPointCloud.prototype\n   *\n   * @type {Number}\n   * @readonly\n   *\n   * @see TimeDynamicPointCloud#maximumMemoryUsage\n   */\n  totalMemoryUsageInBytes: {\n    get: function () {\n      return this._totalMemoryUsageInBytes;\n    },\n  },\n\n  /**\n   * The bounding sphere of the frame being rendered. Returns <code>undefined</code> if no frame is being rendered.\n   *\n   * @memberof TimeDynamicPointCloud.prototype\n   *\n   * @type {BoundingSphere}\n   * @readonly\n   */\n  boundingSphere: {\n    get: function () {\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(this._lastRenderedFrame)) {\n        return this._lastRenderedFrame.pointCloud.boundingSphere;\n      }\n      return undefined;\n    },\n  },\n\n  /**\n   * Gets the promise that will be resolved when the point cloud renders a frame for the first time.\n   *\n   * @memberof TimeDynamicPointCloud.prototype\n   *\n   * @type {Promise.<TimeDynamicPointCloud>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._readyPromise.promise;\n    },\n  },\n});\n\nfunction getFragmentShaderLoaded(fs) {\n  return "uniform vec4 czm_pickColor;\\n" + fs;\n}\n\nfunction getUniformMapLoaded(stream) {\n  return function (uniformMap) {\n    return (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(uniformMap, {\n      czm_pickColor: function () {\n        return stream._pickId.color;\n      },\n    });\n  };\n}\n\nfunction getPickIdLoaded() {\n  return "czm_pickColor";\n}\n\n/**\n * Marks the point cloud\'s {@link TimeDynamicPointCloud#style} as dirty, which forces all\n * points to re-evaluate the style in the next frame.\n */\nTimeDynamicPointCloud.prototype.makeStyleDirty = function () {\n  this._styleDirty = true;\n};\n\n/**\n * Exposed for testing.\n *\n * @private\n */\nTimeDynamicPointCloud.prototype._getAverageLoadTime = function () {\n  if (this._runningLength === 0) {\n    // Before any frames have loaded make a best guess about the average load time\n    return 0.05;\n  }\n  return this._runningAverage;\n};\n\nvar scratchDate = new _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\n\nfunction getClockMultiplier(that) {\n  var clock = that._clock;\n  var isAnimating = clock.canAnimate && clock.shouldAnimate;\n  var multiplier = clock.multiplier;\n  return isAnimating ? multiplier : 0.0;\n}\n\nfunction getIntervalIndex(that, interval) {\n  return that._intervals.indexOf(interval.start);\n}\n\nfunction getNextInterval(that, currentInterval) {\n  var intervals = that._intervals;\n  var clock = that._clock;\n  var multiplier = getClockMultiplier(that);\n\n  if (multiplier === 0.0) {\n    return undefined;\n  }\n\n  var averageLoadTime = that._getAverageLoadTime();\n  var time = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].addSeconds */ .Z.addSeconds(\n    clock.currentTime,\n    averageLoadTime * multiplier,\n    scratchDate\n  );\n  var index = intervals.indexOf(time);\n\n  var currentIndex = getIntervalIndex(that, currentInterval);\n  if (index === currentIndex) {\n    if (multiplier >= 0) {\n      ++index;\n    } else {\n      --index;\n    }\n  }\n\n  // Returns undefined if not in range\n  return intervals.get(index);\n}\n\nfunction getCurrentInterval(that) {\n  var intervals = that._intervals;\n  var clock = that._clock;\n  var time = clock.currentTime;\n  var index = intervals.indexOf(time);\n\n  // Returns undefined if not in range\n  return intervals.get(index);\n}\n\nfunction reachedInterval(that, currentInterval, nextInterval) {\n  var multiplier = getClockMultiplier(that);\n  var currentIndex = getIntervalIndex(that, currentInterval);\n  var nextIndex = getIntervalIndex(that, nextInterval);\n\n  if (multiplier >= 0) {\n    return currentIndex >= nextIndex;\n  }\n  return currentIndex <= nextIndex;\n}\n\nfunction handleFrameFailure(that, uri) {\n  return function (error) {\n    var message = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(error.message) ? error.message : error.toString();\n    if (that.frameFailed.numberOfListeners > 0) {\n      that.frameFailed.raiseEvent({\n        uri: uri,\n        message: message,\n      });\n    } else {\n      console.log("A frame failed to load: " + uri);\n      console.log("Error: " + message);\n    }\n  };\n}\n\nfunction requestFrame(that, interval, frameState) {\n  var index = getIntervalIndex(that, interval);\n  var frames = that._frames;\n  var frame = frames[index];\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame)) {\n    var transformArray = interval.data.transform;\n    var transform = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(transformArray)\n      ? _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromArray */ .Z.fromArray(transformArray)\n      : undefined;\n    var uri = interval.data.uri;\n    frame = {\n      pointCloud: undefined,\n      transform: transform,\n      timestamp: (0,_Core_getTimestamp_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(),\n      sequential: true,\n      ready: false,\n      touchedFrameNumber: frameState.frameNumber,\n    };\n    frames[index] = frame;\n    _Core_Resource_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].fetchArrayBuffer */ .Z.fetchArrayBuffer({\n      url: uri,\n    })\n      .then(function (arrayBuffer) {\n        // PERFORMANCE_IDEA: share a memory pool, render states, shaders, and other resources among all\n        // frames. Each frame just needs an index/offset into the pool.\n        frame.pointCloud = new _PointCloud_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n          arrayBuffer: arrayBuffer,\n          cull: true,\n          fragmentShaderLoaded: getFragmentShaderLoaded,\n          uniformMapLoaded: getUniformMapLoaded(that),\n          pickIdLoaded: getPickIdLoaded,\n        });\n        return frame.pointCloud.readyPromise;\n      })\n      .otherwise(handleFrameFailure(that, uri));\n  }\n  return frame;\n}\n\nfunction updateAverageLoadTime(that, loadTime) {\n  that._runningSum += loadTime;\n  that._runningSum -= that._runningSamples[that._runningIndex];\n  that._runningSamples[that._runningIndex] = loadTime;\n  that._runningLength = Math.min(\n    that._runningLength + 1,\n    that._runningSamples.length\n  );\n  that._runningIndex = (that._runningIndex + 1) % that._runningSamples.length;\n  that._runningAverage = that._runningSum / that._runningLength;\n}\n\nfunction prepareFrame(that, frame, updateState, frameState) {\n  if (frame.touchedFrameNumber < frameState.frameNumber - 1) {\n    // If this frame was not loaded in sequential updates then it can\'t be used it for calculating the average load time.\n    // For example: selecting a frame on the timeline, selecting another frame before the request finishes, then selecting this frame later.\n    frame.sequential = false;\n  }\n\n  var pointCloud = frame.pointCloud;\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(pointCloud) && !frame.ready) {\n    // Call update to prepare renderer resources. Don\'t render anything yet.\n    var commandList = frameState.commandList;\n    var lengthBeforeUpdate = commandList.length;\n    renderFrame(that, frame, updateState, frameState);\n\n    if (pointCloud.ready) {\n      // Point cloud became ready this update\n      frame.ready = true;\n      that._totalMemoryUsageInBytes += pointCloud.geometryByteLength;\n      commandList.length = lengthBeforeUpdate; // Don\'t allow preparing frame to insert commands.\n      if (frame.sequential) {\n        // Update the values used to calculate average load time\n        var loadTime = ((0,_Core_getTimestamp_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)() - frame.timestamp) / 1000.0;\n        updateAverageLoadTime(that, loadTime);\n      }\n    }\n  }\n\n  frame.touchedFrameNumber = frameState.frameNumber;\n}\n\nvar scratchModelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\n\nfunction getGeometricError(that, pointCloud) {\n  var shading = that.shading;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(shading) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(shading.baseResolution)) {\n    return shading.baseResolution;\n  } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(pointCloud.boundingSphere)) {\n    return _Core_Math_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].cbrt */ .Z.cbrt(\n      pointCloud.boundingSphere.volume() / pointCloud.pointsLength\n    );\n  }\n  return 0.0;\n}\n\nfunction getMaximumAttenuation(that) {\n  var shading = that.shading;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(shading) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(shading.maximumAttenuation)) {\n    return shading.maximumAttenuation;\n  }\n\n  // Return a hardcoded maximum attenuation. For a tileset this would instead be the maximum screen space error.\n  return 10.0;\n}\n\nvar defaultShading = new _PointCloudShading_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z();\n\nfunction renderFrame(that, frame, updateState, frameState) {\n  var shading = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(that.shading, defaultShading);\n  var pointCloud = frame.pointCloud;\n  var transform = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(frame.transform, _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].IDENTITY */ .Z.IDENTITY);\n  pointCloud.modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].multiplyTransformation */ .Z.multiplyTransformation(\n    that.modelMatrix,\n    transform,\n    scratchModelMatrix\n  );\n  pointCloud.style = that.style;\n  pointCloud.time = updateState.timeSinceLoad;\n  pointCloud.shadows = that.shadows;\n  pointCloud.clippingPlanes = that._clippingPlanes;\n  pointCloud.isClipped = updateState.isClipped;\n  pointCloud.attenuation = shading.attenuation;\n  pointCloud.backFaceCulling = shading.backFaceCulling;\n  pointCloud.normalShading = shading.normalShading;\n  pointCloud.geometricError = getGeometricError(that, pointCloud);\n  pointCloud.geometricErrorScale = shading.geometricErrorScale;\n  pointCloud.maximumAttenuation = getMaximumAttenuation(that);\n\n  pointCloud.update(frameState);\n  frame.touchedFrameNumber = frameState.frameNumber;\n}\n\nfunction loadFrame(that, interval, updateState, frameState) {\n  var frame = requestFrame(that, interval, frameState);\n  prepareFrame(that, frame, updateState, frameState);\n}\n\nfunction getUnloadCondition(frameState) {\n  return function (frame) {\n    // Unload all frames that aren\'t currently being loaded or rendered\n    return frame.touchedFrameNumber < frameState.frameNumber;\n  };\n}\n\nfunction unloadFrames(that, unloadCondition) {\n  var frames = that._frames;\n  var length = frames.length;\n  for (var i = 0; i < length; ++i) {\n    var frame = frames[i];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame)) {\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(unloadCondition) || unloadCondition(frame)) {\n        var pointCloud = frame.pointCloud;\n        if (frame.ready) {\n          that._totalMemoryUsageInBytes -= pointCloud.geometryByteLength;\n        }\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(pointCloud)) {\n          pointCloud.destroy();\n        }\n        if (frame === that._lastRenderedFrame) {\n          that._lastRenderedFrame = undefined;\n        }\n        frames[i] = undefined;\n      }\n    }\n  }\n}\n\nfunction getFrame(that, interval) {\n  var index = getIntervalIndex(that, interval);\n  var frame = that._frames[index];\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame) && frame.ready) {\n    return frame;\n  }\n}\n\nfunction updateInterval(that, interval, frame, updateState, frameState) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame)) {\n    if (frame.ready) {\n      return true;\n    }\n    loadFrame(that, interval, updateState, frameState);\n    return frame.ready;\n  }\n  return false;\n}\n\nfunction getNearestReadyInterval(\n  that,\n  previousInterval,\n  currentInterval,\n  updateState,\n  frameState\n) {\n  var i;\n  var interval;\n  var frame;\n  var intervals = that._intervals;\n  var frames = that._frames;\n  var currentIndex = getIntervalIndex(that, currentInterval);\n  var previousIndex = getIntervalIndex(that, previousInterval);\n\n  if (currentIndex >= previousIndex) {\n    // look backwards\n    for (i = currentIndex; i >= previousIndex; --i) {\n      interval = intervals.get(i);\n      frame = frames[i];\n      if (updateInterval(that, interval, frame, updateState, frameState)) {\n        return interval;\n      }\n    }\n  } else {\n    // look forwards\n    for (i = currentIndex; i <= previousIndex; ++i) {\n      interval = intervals.get(i);\n      frame = frames[i];\n      if (updateInterval(that, interval, frame, updateState, frameState)) {\n        return interval;\n      }\n    }\n  }\n\n  // If no intervals are ready return the previous interval\n  return previousInterval;\n}\n\nfunction setFramesDirty(that, clippingPlanesDirty, styleDirty) {\n  var frames = that._frames;\n  var framesLength = frames.length;\n  for (var i = 0; i < framesLength; ++i) {\n    var frame = frames[i];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame.pointCloud)) {\n      frame.pointCloud.clippingPlanesDirty = clippingPlanesDirty;\n      frame.pointCloud.styleDirty = styleDirty;\n    }\n  }\n}\n\nvar updateState = {\n  timeSinceLoad: 0,\n  isClipped: false,\n  clippingPlanesDirty: false,\n};\n\n/**\n * @private\n */\nTimeDynamicPointCloud.prototype.update = function (frameState) {\n  if (frameState.mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"].MORPHING */ .Z.MORPHING) {\n    return;\n  }\n\n  if (!this.show) {\n    return;\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(this._pickId)) {\n    this._pickId = frameState.context.createPickId({\n      primitive: this,\n    });\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(this._loadTimestamp)) {\n    this._loadTimestamp = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].clone */ .Z.clone(frameState.time);\n  }\n\n  // For styling\n  var timeSinceLoad = Math.max(\n    _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].secondsDifference */ .Z.secondsDifference(frameState.time, this._loadTimestamp) * 1000,\n    0.0\n  );\n\n  // Update clipping planes\n  var clippingPlanes = this._clippingPlanes;\n  var clippingPlanesState = 0;\n  var clippingPlanesDirty = false;\n  var isClipped = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(clippingPlanes) && clippingPlanes.enabled;\n\n  if (isClipped) {\n    clippingPlanes.update(frameState);\n    clippingPlanesState = clippingPlanes.clippingPlanesState;\n  }\n\n  if (this._clippingPlanesState !== clippingPlanesState) {\n    this._clippingPlanesState = clippingPlanesState;\n    clippingPlanesDirty = true;\n  }\n\n  var styleDirty = this._styleDirty;\n  this._styleDirty = false;\n\n  if (clippingPlanesDirty || styleDirty) {\n    setFramesDirty(this, clippingPlanesDirty, styleDirty);\n  }\n\n  updateState.timeSinceLoad = timeSinceLoad;\n  updateState.isClipped = isClipped;\n\n  var shading = this.shading;\n  var eyeDomeLighting = this._pointCloudEyeDomeLighting;\n\n  var commandList = frameState.commandList;\n  var lengthBeforeUpdate = commandList.length;\n\n  var previousInterval = this._previousInterval;\n  var nextInterval = this._nextInterval;\n  var currentInterval = getCurrentInterval(this);\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(currentInterval)) {\n    return;\n  }\n\n  var clockMultiplierChanged = false;\n  var clockMultiplier = getClockMultiplier(this);\n  var clockPaused = clockMultiplier === 0;\n  if (clockMultiplier !== this._clockMultiplier) {\n    clockMultiplierChanged = true;\n    this._clockMultiplier = clockMultiplier;\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(previousInterval) || clockPaused) {\n    previousInterval = currentInterval;\n  }\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(nextInterval) ||\n    clockMultiplierChanged ||\n    reachedInterval(this, currentInterval, nextInterval)\n  ) {\n    nextInterval = getNextInterval(this, currentInterval);\n  }\n\n  previousInterval = getNearestReadyInterval(\n    this,\n    previousInterval,\n    currentInterval,\n    updateState,\n    frameState\n  );\n  var frame = getFrame(this, previousInterval);\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame)) {\n    // The frame is not ready to render. This can happen when the simulation starts or when scrubbing the timeline\n    // to a frame that hasn\'t loaded yet. Just render the last rendered frame in its place until it finishes loading.\n    loadFrame(this, previousInterval, updateState, frameState);\n    frame = this._lastRenderedFrame;\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame)) {\n    renderFrame(this, frame, updateState, frameState);\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(nextInterval)) {\n    // Start loading the next frame\n    loadFrame(this, nextInterval, updateState, frameState);\n  }\n\n  var that = this;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame) && !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(this._lastRenderedFrame)) {\n    frameState.afterRender.push(function () {\n      that._readyPromise.resolve(that);\n    });\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(frame) && frame !== this._lastRenderedFrame) {\n    if (that.frameChanged.numberOfListeners > 0) {\n      frameState.afterRender.push(function () {\n        that.frameChanged.raiseEvent(that);\n      });\n    }\n  }\n\n  this._previousInterval = previousInterval;\n  this._nextInterval = nextInterval;\n  this._lastRenderedFrame = frame;\n\n  var totalMemoryUsageInBytes = this._totalMemoryUsageInBytes;\n  var maximumMemoryUsageInBytes = this.maximumMemoryUsage * 1024 * 1024;\n\n  if (totalMemoryUsageInBytes > maximumMemoryUsageInBytes) {\n    unloadFrames(this, getUnloadCondition(frameState));\n  }\n\n  var lengthAfterUpdate = commandList.length;\n  var addedCommandsLength = lengthAfterUpdate - lengthBeforeUpdate;\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(shading) &&\n    shading.attenuation &&\n    shading.eyeDomeLighting &&\n    addedCommandsLength > 0\n  ) {\n    eyeDomeLighting.update(\n      frameState,\n      lengthBeforeUpdate,\n      shading,\n      this.boundingSphere\n    );\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n *\n * @see TimeDynamicPointCloud#destroy\n */\nTimeDynamicPointCloud.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * pointCloud = pointCloud && pointCloud.destroy();\n *\n * @see TimeDynamicPointCloud#isDestroyed\n */\nTimeDynamicPointCloud.prototype.destroy = function () {\n  unloadFrames(this);\n  this._clippingPlanes = this._clippingPlanes && this._clippingPlanes.destroy();\n  this._pickId = this._pickId && this._pickId.destroy();\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (TimeDynamicPointCloud);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2UvU2NlbmUvVGltZUR5bmFtaWNQb2ludENsb3VkLmpzPzAzMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5RmlsbCBmcm9tIFwiLi4vQ29yZS9hcnJheUZpbGwuanNcIjtcbmltcG9ydCBDaGVjayBmcm9tIFwiLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IGNvbWJpbmUgZnJvbSBcIi4uL0NvcmUvY29tYmluZS5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vQ29yZS9FdmVudC5qc1wiO1xuaW1wb3J0IGdldFRpbWVzdGFtcCBmcm9tIFwiLi4vQ29yZS9nZXRUaW1lc3RhbXAuanNcIjtcbmltcG9ydCBKdWxpYW5EYXRlIGZyb20gXCIuLi9Db3JlL0p1bGlhbkRhdGUuanNcIjtcbmltcG9ydCBDZXNpdW1NYXRoIGZyb20gXCIuLi9Db3JlL01hdGguanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBSZXNvdXJjZSBmcm9tIFwiLi4vQ29yZS9SZXNvdXJjZS5qc1wiO1xuaW1wb3J0IHdoZW4gZnJvbSBcIi4uL1RoaXJkUGFydHkvd2hlbi5qc1wiO1xuaW1wb3J0IENsaXBwaW5nUGxhbmVDb2xsZWN0aW9uIGZyb20gXCIuL0NsaXBwaW5nUGxhbmVDb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9pbnRDbG91ZCBmcm9tIFwiLi9Qb2ludENsb3VkLmpzXCI7XG5pbXBvcnQgUG9pbnRDbG91ZEV5ZURvbWVMaWdodGluZyBmcm9tIFwiLi9Qb2ludENsb3VkRXllRG9tZUxpZ2h0aW5nLmpzXCI7XG5pbXBvcnQgUG9pbnRDbG91ZFNoYWRpbmcgZnJvbSBcIi4vUG9pbnRDbG91ZFNoYWRpbmcuanNcIjtcbmltcG9ydCBTY2VuZU1vZGUgZnJvbSBcIi4vU2NlbmVNb2RlLmpzXCI7XG5pbXBvcnQgU2hhZG93TW9kZSBmcm9tIFwiLi9TaGFkb3dNb2RlLmpzXCI7XG5cbi8qKlxuICogUHJvdmlkZXMgcGxheWJhY2sgb2YgdGltZS1keW5hbWljIHBvaW50IGNsb3VkIGRhdGEuXG4gKiA8cD5cbiAqIFBvaW50IGNsb3VkIGZyYW1lcyBhcmUgcHJlZmV0Y2hlZCBpbiBpbnRlcnZhbHMgZGV0ZXJtaW5lZCBieSB0aGUgYXZlcmFnZSBmcmFtZSBsb2FkIHRpbWUgYW5kIHRoZSBjdXJyZW50IGNsb2NrIHNwZWVkLlxuICogSWYgaW50ZXJtZWRpYXRlIGZyYW1lcyBjYW5ub3QgYmUgbG9hZGVkIGluIHRpbWUgdG8gbWVldCBwbGF5YmFjayBzcGVlZCwgdGhleSB3aWxsIGJlIHNraXBwZWQuIElmIGZyYW1lcyBhcmUgc3VmZmljaWVudGx5XG4gKiBzbWFsbCBvciB0aGUgY2xvY2sgaXMgc3VmZmljaWVudGx5IHNsb3cgdGhlbiBubyBmcmFtZXMgd2lsbCBiZSBza2lwcGVkLlxuICogPC9wPlxuICpcbiAqIEBhbGlhcyBUaW1lRHluYW1pY1BvaW50Q2xvdWRcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7Q2xvY2t9IG9wdGlvbnMuY2xvY2sgQSB7QGxpbmsgQ2xvY2t9IGluc3RhbmNlIHRoYXQgaXMgdXNlZCB3aGVuIGRldGVybWluaW5nIHRoZSB2YWx1ZSBmb3IgdGhlIHRpbWUgZGltZW5zaW9uLlxuICogQHBhcmFtIHtUaW1lSW50ZXJ2YWxDb2xsZWN0aW9ufSBvcHRpb25zLmludGVydmFscyBBIHtAbGluayBUaW1lSW50ZXJ2YWxDb2xsZWN0aW9ufSB3aXRoIGl0cyBkYXRhIHByb3BlcnR5IGJlaW5nIGFuIG9iamVjdCBjb250YWluaW5nIGEgPGNvZGU+dXJpPC9jb2RlPiB0byBhIDNEIFRpbGVzIFBvaW50IENsb3VkIHRpbGUgYW5kIGFuIG9wdGlvbmFsIDxjb2RlPnRyYW5zZm9ybTwvY29kZT4uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3c9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiB0aGUgcG9pbnQgY2xvdWQgd2lsbCBiZSBzaG93bi5cbiAqIEBwYXJhbSB7TWF0cml4NH0gW29wdGlvbnMubW9kZWxNYXRyaXg9TWF0cml4NC5JREVOVElUWV0gQSA0eDQgdHJhbnNmb3JtYXRpb24gbWF0cml4IHRoYXQgdHJhbnNmb3JtcyB0aGUgcG9pbnQgY2xvdWQuXG4gKiBAcGFyYW0ge1NoYWRvd01vZGV9IFtvcHRpb25zLnNoYWRvd3M9U2hhZG93TW9kZS5FTkFCTEVEXSBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBvaW50IGNsb3VkIGNhc3RzIG9yIHJlY2VpdmVzIHNoYWRvd3MgZnJvbSBsaWdodCBzb3VyY2VzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heGltdW1NZW1vcnlVc2FnZT0yNTZdIFRoZSBtYXhpbXVtIGFtb3VudCBvZiBtZW1vcnkgaW4gTUIgdGhhdCBjYW4gYmUgdXNlZCBieSB0aGUgcG9pbnQgY2xvdWQuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2hhZGluZ10gT3B0aW9ucyBmb3IgY29uc3RydWN0aW5nIGEge0BsaW5rIFBvaW50Q2xvdWRTaGFkaW5nfSBvYmplY3QgdG8gY29udHJvbCBwb2ludCBhdHRlbnVhdGlvbiBhbmQgZXllIGRvbWUgbGlnaHRpbmcuXG4gKiBAcGFyYW0ge0Nlc2l1bTNEVGlsZVN0eWxlfSBbb3B0aW9ucy5zdHlsZV0gVGhlIHN0eWxlLCBkZWZpbmVkIHVzaW5nIHRoZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTLzNkLXRpbGVzL3RyZWUvbWFpbi9zcGVjaWZpY2F0aW9uL1N0eWxpbmd8M0QgVGlsZXMgU3R5bGluZyBsYW5ndWFnZX0sIGFwcGxpZWQgdG8gZWFjaCBwb2ludCBpbiB0aGUgcG9pbnQgY2xvdWQuXG4gKiBAcGFyYW0ge0NsaXBwaW5nUGxhbmVDb2xsZWN0aW9ufSBbb3B0aW9ucy5jbGlwcGluZ1BsYW5lc10gVGhlIHtAbGluayBDbGlwcGluZ1BsYW5lQ29sbGVjdGlvbn0gdXNlZCB0byBzZWxlY3RpdmVseSBkaXNhYmxlIHJlbmRlcmluZyB0aGUgcG9pbnQgY2xvdWQuXG4gKi9cbmZ1bmN0aW9uIFRpbWVEeW5hbWljUG9pbnRDbG91ZChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMuY2xvY2tcIiwgb3B0aW9ucy5jbG9jayk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zLmludGVydmFsc1wiLCBvcHRpb25zLmludGVydmFscyk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBwb2ludCBjbG91ZCB3aWxsIGJlIHNob3duLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5zaG93ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuc2hvdywgdHJ1ZSk7XG5cbiAgLyoqXG4gICAqIEEgNHg0IHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB0aGF0IHRyYW5zZm9ybXMgdGhlIHBvaW50IGNsb3VkLlxuICAgKlxuICAgKiBAdHlwZSB7TWF0cml4NH1cbiAgICogQGRlZmF1bHQgTWF0cml4NC5JREVOVElUWVxuICAgKi9cbiAgdGhpcy5tb2RlbE1hdHJpeCA9IE1hdHJpeDQuY2xvbmUoXG4gICAgZGVmYXVsdFZhbHVlKG9wdGlvbnMubW9kZWxNYXRyaXgsIE1hdHJpeDQuSURFTlRJVFkpXG4gICk7XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgcG9pbnQgY2xvdWQgY2FzdHMgb3IgcmVjZWl2ZXMgc2hhZG93cyBmcm9tIGxpZ2h0IHNvdXJjZXMuXG4gICAqIDxwPlxuICAgKiBFbmFibGluZyBzaGFkb3dzIGhhcyBhIHBlcmZvcm1hbmNlIGltcGFjdC4gQSBwb2ludCBjbG91ZCB0aGF0IGNhc3RzIHNoYWRvd3MgbXVzdCBiZSByZW5kZXJlZCB0d2ljZSwgb25jZSBmcm9tIHRoZSBjYW1lcmEgYW5kIGFnYWluIGZyb20gdGhlIGxpZ2h0J3MgcG9pbnQgb2Ygdmlldy5cbiAgICogPC9wPlxuICAgKiA8cD5cbiAgICogU2hhZG93cyBhcmUgcmVuZGVyZWQgb25seSB3aGVuIHtAbGluayBWaWV3ZXIjc2hhZG93c30gaXMgPGNvZGU+dHJ1ZTwvY29kZT4uXG4gICAqIDwvcD5cbiAgICpcbiAgICogQHR5cGUge1NoYWRvd01vZGV9XG4gICAqIEBkZWZhdWx0IFNoYWRvd01vZGUuRU5BQkxFRFxuICAgKi9cbiAgdGhpcy5zaGFkb3dzID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuc2hhZG93cywgU2hhZG93TW9kZS5FTkFCTEVEKTtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gYW1vdW50IG9mIEdQVSBtZW1vcnkgKGluIE1CKSB0aGF0IG1heSBiZSB1c2VkIHRvIGNhY2hlIHBvaW50IGNsb3VkIGZyYW1lcy5cbiAgICogPHA+XG4gICAqIEZyYW1lcyB0aGF0IGFyZSBub3QgYmVpbmcgbG9hZGVkIG9yIHJlbmRlcmVkIGFyZSB1bmxvYWRlZCB0byBlbmZvcmNlIHRoaXMuXG4gICAqIDwvcD5cbiAgICogPHA+XG4gICAqIElmIGRlY3JlYXNpbmcgdGhpcyB2YWx1ZSByZXN1bHRzIGluIHVubG9hZGluZyB0aWxlcywgdGhlIHRpbGVzIGFyZSB1bmxvYWRlZCB0aGUgbmV4dCBmcmFtZS5cbiAgICogPC9wPlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAyNTZcbiAgICpcbiAgICogQHNlZSBUaW1lRHluYW1pY1BvaW50Q2xvdWQjdG90YWxNZW1vcnlVc2FnZUluQnl0ZXNcbiAgICovXG4gIHRoaXMubWF4aW11bU1lbW9yeVVzYWdlID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMubWF4aW11bU1lbW9yeVVzYWdlLCAyNTYpO1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBjb250cm9sbGluZyBwb2ludCBzaXplIGJhc2VkIG9uIGdlb21ldHJpYyBlcnJvciBhbmQgZXllIGRvbWUgbGlnaHRpbmcuXG4gICAqIEB0eXBlIHtQb2ludENsb3VkU2hhZGluZ31cbiAgICovXG4gIHRoaXMuc2hhZGluZyA9IG5ldyBQb2ludENsb3VkU2hhZGluZyhvcHRpb25zLnNoYWRpbmcpO1xuXG4gIC8qKlxuICAgKiBUaGUgc3R5bGUsIGRlZmluZWQgdXNpbmcgdGhlXG4gICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvM2QtdGlsZXMvdHJlZS9tYWluL3NwZWNpZmljYXRpb24vU3R5bGluZ3wzRCBUaWxlcyBTdHlsaW5nIGxhbmd1YWdlfSxcbiAgICogYXBwbGllZCB0byBlYWNoIHBvaW50IGluIHRoZSBwb2ludCBjbG91ZC5cbiAgICogPHA+XG4gICAqIEFzc2lnbiA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IHRvIHJlbW92ZSB0aGUgc3R5bGUsIHdoaWNoIHdpbGwgcmVzdG9yZSB0aGUgdmlzdWFsXG4gICAqIGFwcGVhcmFuY2Ugb2YgdGhlIHBvaW50IGNsb3VkIHRvIGl0cyBkZWZhdWx0IHdoZW4gbm8gc3R5bGUgd2FzIGFwcGxpZWQuXG4gICAqIDwvcD5cbiAgICpcbiAgICogQHR5cGUge0Nlc2l1bTNEVGlsZVN0eWxlfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBwb2ludENsb3VkLnN0eWxlID0gbmV3IENlc2l1bS5DZXNpdW0zRFRpbGVTdHlsZSh7XG4gICAqICAgIGNvbG9yIDoge1xuICAgKiAgICAgICAgY29uZGl0aW9ucyA6IFtcbiAgICogICAgICAgICAgICBbJyR7Q2xhc3NpZmljYXRpb259ID09PSAwJywgJ2NvbG9yKFwicHVycGxlXCIsIDAuNSknXSxcbiAgICogICAgICAgICAgICBbJyR7Q2xhc3NpZmljYXRpb259ID09PSAxJywgJ2NvbG9yKFwicmVkXCIpJ10sXG4gICAqICAgICAgICAgICAgWyd0cnVlJywgJyR7Q09MT1J9J11cbiAgICogICAgICAgIF1cbiAgICogICAgfSxcbiAgICogICAgc2hvdyA6ICcke0NsYXNzaWZpY2F0aW9ufSAhPT0gMidcbiAgICogfSk7XG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy8zZC10aWxlcy90cmVlL21haW4vc3BlY2lmaWNhdGlvbi9TdHlsaW5nfDNEIFRpbGVzIFN0eWxpbmcgbGFuZ3VhZ2V9XG4gICAqL1xuICB0aGlzLnN0eWxlID0gb3B0aW9ucy5zdHlsZTtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IGZpcmVkIHRvIGluZGljYXRlIHRoYXQgYSBmcmFtZSBmYWlsZWQgdG8gbG9hZC4gQSBmcmFtZSBtYXkgZmFpbCB0byBsb2FkIGlmIHRoZVxuICAgKiByZXF1ZXN0IGZvciBpdHMgdXJpIGZhaWxzIG9yIHByb2Nlc3NpbmcgZmFpbHMgZHVlIHRvIGludmFsaWQgY29udGVudC5cbiAgICogPHA+XG4gICAqIElmIHRoZXJlIGFyZSBubyBldmVudCBsaXN0ZW5lcnMsIGVycm9yIG1lc3NhZ2VzIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICAgKiA8L3A+XG4gICAqIDxwPlxuICAgKiBUaGUgZXJyb3Igb2JqZWN0IHBhc3NlZCB0byB0aGUgbGlzdGVuZXIgY29udGFpbnMgdHdvIHByb3BlcnRpZXM6XG4gICAqIDx1bD5cbiAgICogPGxpPjxjb2RlPnVyaTwvY29kZT46IHRoZSB1cmkgb2YgdGhlIGZhaWxlZCBmcmFtZS48L2xpPlxuICAgKiA8bGk+PGNvZGU+bWVzc2FnZTwvY29kZT46IHRoZSBlcnJvciBtZXNzYWdlLjwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICogQGRlZmF1bHQgbmV3IEV2ZW50KClcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogcG9pbnRDbG91ZC5mcmFtZUZhaWxlZC5hZGRFdmVudExpc3RlbmVyKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnQW4gZXJyb3Igb2NjdXJyZWQgbG9hZGluZyBmcmFtZTogJyArIGVycm9yLnVyaSk7XG4gICAqICAgICBjb25zb2xlLmxvZygnRXJyb3I6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICogfSk7XG4gICAqL1xuICB0aGlzLmZyYW1lRmFpbGVkID0gbmV3IEV2ZW50KCk7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCBmaXJlZCB0byBpbmRpY2F0ZSB0aGF0IGEgbmV3IGZyYW1lIHdhcyByZW5kZXJlZC5cbiAgICogPHA+XG4gICAqIFRoZSB0aW1lIGR5bmFtaWMgcG9pbnQgY2xvdWQge0BsaW5rIFRpbWVEeW5hbWljUG9pbnRDbG91ZH0gaXMgcGFzc2VkIHRvIHRoZSBldmVudCBsaXN0ZW5lci5cbiAgICogPC9wPlxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqIEBkZWZhdWx0IG5ldyBFdmVudCgpXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIHBvaW50Q2xvdWQuZnJhbWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoZnVuY3Rpb24odGltZUR5bmFtaWNQb2ludENsb3VkKSB7XG4gICAqICAgICB2aWV3ZXIuY2FtZXJhLnZpZXdCb3VuZGluZ1NwaGVyZSh0aW1lRHluYW1pY1BvaW50Q2xvdWQuYm91bmRpbmdTcGhlcmUpO1xuICAgKiB9KTtcbiAgICovXG4gIHRoaXMuZnJhbWVDaGFuZ2VkID0gbmV3IEV2ZW50KCk7XG5cbiAgdGhpcy5fY2xvY2sgPSBvcHRpb25zLmNsb2NrO1xuICB0aGlzLl9pbnRlcnZhbHMgPSBvcHRpb25zLmludGVydmFscztcbiAgdGhpcy5fY2xpcHBpbmdQbGFuZXMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuY2xpcHBpbmdQbGFuZXMgPSBvcHRpb25zLmNsaXBwaW5nUGxhbmVzOyAvLyBDYWxsIHNldHRlclxuICB0aGlzLl9wb2ludENsb3VkRXllRG9tZUxpZ2h0aW5nID0gbmV3IFBvaW50Q2xvdWRFeWVEb21lTGlnaHRpbmcoKTtcbiAgdGhpcy5fbG9hZFRpbWVzdGFtcCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fY2xpcHBpbmdQbGFuZXNTdGF0ZSA9IDA7XG4gIHRoaXMuX3N0eWxlRGlydHkgPSBmYWxzZTtcbiAgdGhpcy5fcGlja0lkID0gdW5kZWZpbmVkO1xuICB0aGlzLl90b3RhbE1lbW9yeVVzYWdlSW5CeXRlcyA9IDA7XG4gIHRoaXMuX2ZyYW1lcyA9IFtdO1xuICB0aGlzLl9wcmV2aW91c0ludGVydmFsID0gdW5kZWZpbmVkO1xuICB0aGlzLl9uZXh0SW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RSZW5kZXJlZEZyYW1lID0gdW5kZWZpbmVkO1xuICB0aGlzLl9jbG9ja011bHRpcGxpZXIgPSAwLjA7XG4gIHRoaXMuX3JlYWR5UHJvbWlzZSA9IHdoZW4uZGVmZXIoKTtcblxuICAvLyBGb3IgY2FsY3VsYXRpbmcgYXZlcmFnZSBsb2FkIHRpbWUgb2YgdGhlIGxhc3QgTiBmcmFtZXNcbiAgdGhpcy5fcnVubmluZ1N1bSA9IDAuMDtcbiAgdGhpcy5fcnVubmluZ0xlbmd0aCA9IDA7XG4gIHRoaXMuX3J1bm5pbmdJbmRleCA9IDA7XG4gIHRoaXMuX3J1bm5pbmdTYW1wbGVzID0gYXJyYXlGaWxsKG5ldyBBcnJheSg1KSwgMC4wKTtcbiAgdGhpcy5fcnVubmluZ0F2ZXJhZ2UgPSAwLjA7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRpbWVEeW5hbWljUG9pbnRDbG91ZC5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgQ2xpcHBpbmdQbGFuZUNvbGxlY3Rpb259IHVzZWQgdG8gc2VsZWN0aXZlbHkgZGlzYWJsZSByZW5kZXJpbmcgdGhlIHBvaW50IGNsb3VkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgVGltZUR5bmFtaWNQb2ludENsb3VkLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q2xpcHBpbmdQbGFuZUNvbGxlY3Rpb259XG4gICAqL1xuICBjbGlwcGluZ1BsYW5lczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsaXBwaW5nUGxhbmVzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIENsaXBwaW5nUGxhbmVDb2xsZWN0aW9uLnNldE93bmVyKHZhbHVlLCB0aGlzLCBcIl9jbGlwcGluZ1BsYW5lc1wiKTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgdG90YWwgYW1vdW50IG9mIEdQVSBtZW1vcnkgaW4gYnl0ZXMgdXNlZCBieSB0aGUgcG9pbnQgY2xvdWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaW1lRHluYW1pY1BvaW50Q2xvdWQucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAc2VlIFRpbWVEeW5hbWljUG9pbnRDbG91ZCNtYXhpbXVtTWVtb3J5VXNhZ2VcbiAgICovXG4gIHRvdGFsTWVtb3J5VXNhZ2VJbkJ5dGVzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdG90YWxNZW1vcnlVc2FnZUluQnl0ZXM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGJvdW5kaW5nIHNwaGVyZSBvZiB0aGUgZnJhbWUgYmVpbmcgcmVuZGVyZWQuIFJldHVybnMgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPiBpZiBubyBmcmFtZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFRpbWVEeW5hbWljUG9pbnRDbG91ZC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0JvdW5kaW5nU3BoZXJlfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGJvdW5kaW5nU3BoZXJlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZGVmaW5lZCh0aGlzLl9sYXN0UmVuZGVyZWRGcmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RSZW5kZXJlZEZyYW1lLnBvaW50Q2xvdWQuYm91bmRpbmdTcGhlcmU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHBvaW50IGNsb3VkIHJlbmRlcnMgYSBmcmFtZSBmb3IgdGhlIGZpcnN0IHRpbWUuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBUaW1lRHluYW1pY1BvaW50Q2xvdWQucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtQcm9taXNlLjxUaW1lRHluYW1pY1BvaW50Q2xvdWQ+fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5UHJvbWlzZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5UHJvbWlzZS5wcm9taXNlO1xuICAgIH0sXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gZ2V0RnJhZ21lbnRTaGFkZXJMb2FkZWQoZnMpIHtcbiAgcmV0dXJuIFwidW5pZm9ybSB2ZWM0IGN6bV9waWNrQ29sb3I7XFxuXCIgKyBmcztcbn1cblxuZnVuY3Rpb24gZ2V0VW5pZm9ybU1hcExvYWRlZChzdHJlYW0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh1bmlmb3JtTWFwKSB7XG4gICAgcmV0dXJuIGNvbWJpbmUodW5pZm9ybU1hcCwge1xuICAgICAgY3ptX3BpY2tDb2xvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RyZWFtLl9waWNrSWQuY29sb3I7XG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQaWNrSWRMb2FkZWQoKSB7XG4gIHJldHVybiBcImN6bV9waWNrQ29sb3JcIjtcbn1cblxuLyoqXG4gKiBNYXJrcyB0aGUgcG9pbnQgY2xvdWQncyB7QGxpbmsgVGltZUR5bmFtaWNQb2ludENsb3VkI3N0eWxlfSBhcyBkaXJ0eSwgd2hpY2ggZm9yY2VzIGFsbFxuICogcG9pbnRzIHRvIHJlLWV2YWx1YXRlIHRoZSBzdHlsZSBpbiB0aGUgbmV4dCBmcmFtZS5cbiAqL1xuVGltZUR5bmFtaWNQb2ludENsb3VkLnByb3RvdHlwZS5tYWtlU3R5bGVEaXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRydWU7XG59O1xuXG4vKipcbiAqIEV4cG9zZWQgZm9yIHRlc3RpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuVGltZUR5bmFtaWNQb2ludENsb3VkLnByb3RvdHlwZS5fZ2V0QXZlcmFnZUxvYWRUaW1lID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fcnVubmluZ0xlbmd0aCA9PT0gMCkge1xuICAgIC8vIEJlZm9yZSBhbnkgZnJhbWVzIGhhdmUgbG9hZGVkIG1ha2UgYSBiZXN0IGd1ZXNzIGFib3V0IHRoZSBhdmVyYWdlIGxvYWQgdGltZVxuICAgIHJldHVybiAwLjA1O1xuICB9XG4gIHJldHVybiB0aGlzLl9ydW5uaW5nQXZlcmFnZTtcbn07XG5cbnZhciBzY3JhdGNoRGF0ZSA9IG5ldyBKdWxpYW5EYXRlKCk7XG5cbmZ1bmN0aW9uIGdldENsb2NrTXVsdGlwbGllcih0aGF0KSB7XG4gIHZhciBjbG9jayA9IHRoYXQuX2Nsb2NrO1xuICB2YXIgaXNBbmltYXRpbmcgPSBjbG9jay5jYW5BbmltYXRlICYmIGNsb2NrLnNob3VsZEFuaW1hdGU7XG4gIHZhciBtdWx0aXBsaWVyID0gY2xvY2subXVsdGlwbGllcjtcbiAgcmV0dXJuIGlzQW5pbWF0aW5nID8gbXVsdGlwbGllciA6IDAuMDtcbn1cblxuZnVuY3Rpb24gZ2V0SW50ZXJ2YWxJbmRleCh0aGF0LCBpbnRlcnZhbCkge1xuICByZXR1cm4gdGhhdC5faW50ZXJ2YWxzLmluZGV4T2YoaW50ZXJ2YWwuc3RhcnQpO1xufVxuXG5mdW5jdGlvbiBnZXROZXh0SW50ZXJ2YWwodGhhdCwgY3VycmVudEludGVydmFsKSB7XG4gIHZhciBpbnRlcnZhbHMgPSB0aGF0Ll9pbnRlcnZhbHM7XG4gIHZhciBjbG9jayA9IHRoYXQuX2Nsb2NrO1xuICB2YXIgbXVsdGlwbGllciA9IGdldENsb2NrTXVsdGlwbGllcih0aGF0KTtcblxuICBpZiAobXVsdGlwbGllciA9PT0gMC4wKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBhdmVyYWdlTG9hZFRpbWUgPSB0aGF0Ll9nZXRBdmVyYWdlTG9hZFRpbWUoKTtcbiAgdmFyIHRpbWUgPSBKdWxpYW5EYXRlLmFkZFNlY29uZHMoXG4gICAgY2xvY2suY3VycmVudFRpbWUsXG4gICAgYXZlcmFnZUxvYWRUaW1lICogbXVsdGlwbGllcixcbiAgICBzY3JhdGNoRGF0ZVxuICApO1xuICB2YXIgaW5kZXggPSBpbnRlcnZhbHMuaW5kZXhPZih0aW1lKTtcblxuICB2YXIgY3VycmVudEluZGV4ID0gZ2V0SW50ZXJ2YWxJbmRleCh0aGF0LCBjdXJyZW50SW50ZXJ2YWwpO1xuICBpZiAoaW5kZXggPT09IGN1cnJlbnRJbmRleCkge1xuICAgIGlmIChtdWx0aXBsaWVyID49IDApIHtcbiAgICAgICsraW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC0taW5kZXg7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJucyB1bmRlZmluZWQgaWYgbm90IGluIHJhbmdlXG4gIHJldHVybiBpbnRlcnZhbHMuZ2V0KGluZGV4KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudEludGVydmFsKHRoYXQpIHtcbiAgdmFyIGludGVydmFscyA9IHRoYXQuX2ludGVydmFscztcbiAgdmFyIGNsb2NrID0gdGhhdC5fY2xvY2s7XG4gIHZhciB0aW1lID0gY2xvY2suY3VycmVudFRpbWU7XG4gIHZhciBpbmRleCA9IGludGVydmFscy5pbmRleE9mKHRpbWUpO1xuXG4gIC8vIFJldHVybnMgdW5kZWZpbmVkIGlmIG5vdCBpbiByYW5nZVxuICByZXR1cm4gaW50ZXJ2YWxzLmdldChpbmRleCk7XG59XG5cbmZ1bmN0aW9uIHJlYWNoZWRJbnRlcnZhbCh0aGF0LCBjdXJyZW50SW50ZXJ2YWwsIG5leHRJbnRlcnZhbCkge1xuICB2YXIgbXVsdGlwbGllciA9IGdldENsb2NrTXVsdGlwbGllcih0aGF0KTtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IGdldEludGVydmFsSW5kZXgodGhhdCwgY3VycmVudEludGVydmFsKTtcbiAgdmFyIG5leHRJbmRleCA9IGdldEludGVydmFsSW5kZXgodGhhdCwgbmV4dEludGVydmFsKTtcblxuICBpZiAobXVsdGlwbGllciA+PSAwKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRJbmRleCA+PSBuZXh0SW5kZXg7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRJbmRleCA8PSBuZXh0SW5kZXg7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZyYW1lRmFpbHVyZSh0aGF0LCB1cmkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHZhciBtZXNzYWdlID0gZGVmaW5lZChlcnJvci5tZXNzYWdlKSA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvci50b1N0cmluZygpO1xuICAgIGlmICh0aGF0LmZyYW1lRmFpbGVkLm51bWJlck9mTGlzdGVuZXJzID4gMCkge1xuICAgICAgdGhhdC5mcmFtZUZhaWxlZC5yYWlzZUV2ZW50KHtcbiAgICAgICAgdXJpOiB1cmksXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJBIGZyYW1lIGZhaWxlZCB0byBsb2FkOiBcIiArIHVyaSk7XG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIiArIG1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVxdWVzdEZyYW1lKHRoYXQsIGludGVydmFsLCBmcmFtZVN0YXRlKSB7XG4gIHZhciBpbmRleCA9IGdldEludGVydmFsSW5kZXgodGhhdCwgaW50ZXJ2YWwpO1xuICB2YXIgZnJhbWVzID0gdGhhdC5fZnJhbWVzO1xuICB2YXIgZnJhbWUgPSBmcmFtZXNbaW5kZXhdO1xuICBpZiAoIWRlZmluZWQoZnJhbWUpKSB7XG4gICAgdmFyIHRyYW5zZm9ybUFycmF5ID0gaW50ZXJ2YWwuZGF0YS50cmFuc2Zvcm07XG4gICAgdmFyIHRyYW5zZm9ybSA9IGRlZmluZWQodHJhbnNmb3JtQXJyYXkpXG4gICAgICA/IE1hdHJpeDQuZnJvbUFycmF5KHRyYW5zZm9ybUFycmF5KVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHVyaSA9IGludGVydmFsLmRhdGEudXJpO1xuICAgIGZyYW1lID0ge1xuICAgICAgcG9pbnRDbG91ZDogdW5kZWZpbmVkLFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICB0aW1lc3RhbXA6IGdldFRpbWVzdGFtcCgpLFxuICAgICAgc2VxdWVudGlhbDogdHJ1ZSxcbiAgICAgIHJlYWR5OiBmYWxzZSxcbiAgICAgIHRvdWNoZWRGcmFtZU51bWJlcjogZnJhbWVTdGF0ZS5mcmFtZU51bWJlcixcbiAgICB9O1xuICAgIGZyYW1lc1tpbmRleF0gPSBmcmFtZTtcbiAgICBSZXNvdXJjZS5mZXRjaEFycmF5QnVmZmVyKHtcbiAgICAgIHVybDogdXJpLFxuICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgLy8gUEVSRk9STUFOQ0VfSURFQTogc2hhcmUgYSBtZW1vcnkgcG9vbCwgcmVuZGVyIHN0YXRlcywgc2hhZGVycywgYW5kIG90aGVyIHJlc291cmNlcyBhbW9uZyBhbGxcbiAgICAgICAgLy8gZnJhbWVzLiBFYWNoIGZyYW1lIGp1c3QgbmVlZHMgYW4gaW5kZXgvb2Zmc2V0IGludG8gdGhlIHBvb2wuXG4gICAgICAgIGZyYW1lLnBvaW50Q2xvdWQgPSBuZXcgUG9pbnRDbG91ZCh7XG4gICAgICAgICAgYXJyYXlCdWZmZXI6IGFycmF5QnVmZmVyLFxuICAgICAgICAgIGN1bGw6IHRydWUsXG4gICAgICAgICAgZnJhZ21lbnRTaGFkZXJMb2FkZWQ6IGdldEZyYWdtZW50U2hhZGVyTG9hZGVkLFxuICAgICAgICAgIHVuaWZvcm1NYXBMb2FkZWQ6IGdldFVuaWZvcm1NYXBMb2FkZWQodGhhdCksXG4gICAgICAgICAgcGlja0lkTG9hZGVkOiBnZXRQaWNrSWRMb2FkZWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnJhbWUucG9pbnRDbG91ZC5yZWFkeVByb21pc2U7XG4gICAgICB9KVxuICAgICAgLm90aGVyd2lzZShoYW5kbGVGcmFtZUZhaWx1cmUodGhhdCwgdXJpKSk7XG4gIH1cbiAgcmV0dXJuIGZyYW1lO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVBdmVyYWdlTG9hZFRpbWUodGhhdCwgbG9hZFRpbWUpIHtcbiAgdGhhdC5fcnVubmluZ1N1bSArPSBsb2FkVGltZTtcbiAgdGhhdC5fcnVubmluZ1N1bSAtPSB0aGF0Ll9ydW5uaW5nU2FtcGxlc1t0aGF0Ll9ydW5uaW5nSW5kZXhdO1xuICB0aGF0Ll9ydW5uaW5nU2FtcGxlc1t0aGF0Ll9ydW5uaW5nSW5kZXhdID0gbG9hZFRpbWU7XG4gIHRoYXQuX3J1bm5pbmdMZW5ndGggPSBNYXRoLm1pbihcbiAgICB0aGF0Ll9ydW5uaW5nTGVuZ3RoICsgMSxcbiAgICB0aGF0Ll9ydW5uaW5nU2FtcGxlcy5sZW5ndGhcbiAgKTtcbiAgdGhhdC5fcnVubmluZ0luZGV4ID0gKHRoYXQuX3J1bm5pbmdJbmRleCArIDEpICUgdGhhdC5fcnVubmluZ1NhbXBsZXMubGVuZ3RoO1xuICB0aGF0Ll9ydW5uaW5nQXZlcmFnZSA9IHRoYXQuX3J1bm5pbmdTdW0gLyB0aGF0Ll9ydW5uaW5nTGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlRnJhbWUodGhhdCwgZnJhbWUsIHVwZGF0ZVN0YXRlLCBmcmFtZVN0YXRlKSB7XG4gIGlmIChmcmFtZS50b3VjaGVkRnJhbWVOdW1iZXIgPCBmcmFtZVN0YXRlLmZyYW1lTnVtYmVyIC0gMSkge1xuICAgIC8vIElmIHRoaXMgZnJhbWUgd2FzIG5vdCBsb2FkZWQgaW4gc2VxdWVudGlhbCB1cGRhdGVzIHRoZW4gaXQgY2FuJ3QgYmUgdXNlZCBpdCBmb3IgY2FsY3VsYXRpbmcgdGhlIGF2ZXJhZ2UgbG9hZCB0aW1lLlxuICAgIC8vIEZvciBleGFtcGxlOiBzZWxlY3RpbmcgYSBmcmFtZSBvbiB0aGUgdGltZWxpbmUsIHNlbGVjdGluZyBhbm90aGVyIGZyYW1lIGJlZm9yZSB0aGUgcmVxdWVzdCBmaW5pc2hlcywgdGhlbiBzZWxlY3RpbmcgdGhpcyBmcmFtZSBsYXRlci5cbiAgICBmcmFtZS5zZXF1ZW50aWFsID0gZmFsc2U7XG4gIH1cblxuICB2YXIgcG9pbnRDbG91ZCA9IGZyYW1lLnBvaW50Q2xvdWQ7XG5cbiAgaWYgKGRlZmluZWQocG9pbnRDbG91ZCkgJiYgIWZyYW1lLnJlYWR5KSB7XG4gICAgLy8gQ2FsbCB1cGRhdGUgdG8gcHJlcGFyZSByZW5kZXJlciByZXNvdXJjZXMuIERvbid0IHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gICAgdmFyIGNvbW1hbmRMaXN0ID0gZnJhbWVTdGF0ZS5jb21tYW5kTGlzdDtcbiAgICB2YXIgbGVuZ3RoQmVmb3JlVXBkYXRlID0gY29tbWFuZExpc3QubGVuZ3RoO1xuICAgIHJlbmRlckZyYW1lKHRoYXQsIGZyYW1lLCB1cGRhdGVTdGF0ZSwgZnJhbWVTdGF0ZSk7XG5cbiAgICBpZiAocG9pbnRDbG91ZC5yZWFkeSkge1xuICAgICAgLy8gUG9pbnQgY2xvdWQgYmVjYW1lIHJlYWR5IHRoaXMgdXBkYXRlXG4gICAgICBmcmFtZS5yZWFkeSA9IHRydWU7XG4gICAgICB0aGF0Ll90b3RhbE1lbW9yeVVzYWdlSW5CeXRlcyArPSBwb2ludENsb3VkLmdlb21ldHJ5Qnl0ZUxlbmd0aDtcbiAgICAgIGNvbW1hbmRMaXN0Lmxlbmd0aCA9IGxlbmd0aEJlZm9yZVVwZGF0ZTsgLy8gRG9uJ3QgYWxsb3cgcHJlcGFyaW5nIGZyYW1lIHRvIGluc2VydCBjb21tYW5kcy5cbiAgICAgIGlmIChmcmFtZS5zZXF1ZW50aWFsKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWVzIHVzZWQgdG8gY2FsY3VsYXRlIGF2ZXJhZ2UgbG9hZCB0aW1lXG4gICAgICAgIHZhciBsb2FkVGltZSA9IChnZXRUaW1lc3RhbXAoKSAtIGZyYW1lLnRpbWVzdGFtcCkgLyAxMDAwLjA7XG4gICAgICAgIHVwZGF0ZUF2ZXJhZ2VMb2FkVGltZSh0aGF0LCBsb2FkVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnJhbWUudG91Y2hlZEZyYW1lTnVtYmVyID0gZnJhbWVTdGF0ZS5mcmFtZU51bWJlcjtcbn1cblxudmFyIHNjcmF0Y2hNb2RlbE1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG5cbmZ1bmN0aW9uIGdldEdlb21ldHJpY0Vycm9yKHRoYXQsIHBvaW50Q2xvdWQpIHtcbiAgdmFyIHNoYWRpbmcgPSB0aGF0LnNoYWRpbmc7XG4gIGlmIChkZWZpbmVkKHNoYWRpbmcpICYmIGRlZmluZWQoc2hhZGluZy5iYXNlUmVzb2x1dGlvbikpIHtcbiAgICByZXR1cm4gc2hhZGluZy5iYXNlUmVzb2x1dGlvbjtcbiAgfSBlbHNlIGlmIChkZWZpbmVkKHBvaW50Q2xvdWQuYm91bmRpbmdTcGhlcmUpKSB7XG4gICAgcmV0dXJuIENlc2l1bU1hdGguY2JydChcbiAgICAgIHBvaW50Q2xvdWQuYm91bmRpbmdTcGhlcmUudm9sdW1lKCkgLyBwb2ludENsb3VkLnBvaW50c0xlbmd0aFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIDAuMDtcbn1cblxuZnVuY3Rpb24gZ2V0TWF4aW11bUF0dGVudWF0aW9uKHRoYXQpIHtcbiAgdmFyIHNoYWRpbmcgPSB0aGF0LnNoYWRpbmc7XG4gIGlmIChkZWZpbmVkKHNoYWRpbmcpICYmIGRlZmluZWQoc2hhZGluZy5tYXhpbXVtQXR0ZW51YXRpb24pKSB7XG4gICAgcmV0dXJuIHNoYWRpbmcubWF4aW11bUF0dGVudWF0aW9uO1xuICB9XG5cbiAgLy8gUmV0dXJuIGEgaGFyZGNvZGVkIG1heGltdW0gYXR0ZW51YXRpb24uIEZvciBhIHRpbGVzZXQgdGhpcyB3b3VsZCBpbnN0ZWFkIGJlIHRoZSBtYXhpbXVtIHNjcmVlbiBzcGFjZSBlcnJvci5cbiAgcmV0dXJuIDEwLjA7XG59XG5cbnZhciBkZWZhdWx0U2hhZGluZyA9IG5ldyBQb2ludENsb3VkU2hhZGluZygpO1xuXG5mdW5jdGlvbiByZW5kZXJGcmFtZSh0aGF0LCBmcmFtZSwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpIHtcbiAgdmFyIHNoYWRpbmcgPSBkZWZhdWx0VmFsdWUodGhhdC5zaGFkaW5nLCBkZWZhdWx0U2hhZGluZyk7XG4gIHZhciBwb2ludENsb3VkID0gZnJhbWUucG9pbnRDbG91ZDtcbiAgdmFyIHRyYW5zZm9ybSA9IGRlZmF1bHRWYWx1ZShmcmFtZS50cmFuc2Zvcm0sIE1hdHJpeDQuSURFTlRJVFkpO1xuICBwb2ludENsb3VkLm1vZGVsTWF0cml4ID0gTWF0cml4NC5tdWx0aXBseVRyYW5zZm9ybWF0aW9uKFxuICAgIHRoYXQubW9kZWxNYXRyaXgsXG4gICAgdHJhbnNmb3JtLFxuICAgIHNjcmF0Y2hNb2RlbE1hdHJpeFxuICApO1xuICBwb2ludENsb3VkLnN0eWxlID0gdGhhdC5zdHlsZTtcbiAgcG9pbnRDbG91ZC50aW1lID0gdXBkYXRlU3RhdGUudGltZVNpbmNlTG9hZDtcbiAgcG9pbnRDbG91ZC5zaGFkb3dzID0gdGhhdC5zaGFkb3dzO1xuICBwb2ludENsb3VkLmNsaXBwaW5nUGxhbmVzID0gdGhhdC5fY2xpcHBpbmdQbGFuZXM7XG4gIHBvaW50Q2xvdWQuaXNDbGlwcGVkID0gdXBkYXRlU3RhdGUuaXNDbGlwcGVkO1xuICBwb2ludENsb3VkLmF0dGVudWF0aW9uID0gc2hhZGluZy5hdHRlbnVhdGlvbjtcbiAgcG9pbnRDbG91ZC5iYWNrRmFjZUN1bGxpbmcgPSBzaGFkaW5nLmJhY2tGYWNlQ3VsbGluZztcbiAgcG9pbnRDbG91ZC5ub3JtYWxTaGFkaW5nID0gc2hhZGluZy5ub3JtYWxTaGFkaW5nO1xuICBwb2ludENsb3VkLmdlb21ldHJpY0Vycm9yID0gZ2V0R2VvbWV0cmljRXJyb3IodGhhdCwgcG9pbnRDbG91ZCk7XG4gIHBvaW50Q2xvdWQuZ2VvbWV0cmljRXJyb3JTY2FsZSA9IHNoYWRpbmcuZ2VvbWV0cmljRXJyb3JTY2FsZTtcbiAgcG9pbnRDbG91ZC5tYXhpbXVtQXR0ZW51YXRpb24gPSBnZXRNYXhpbXVtQXR0ZW51YXRpb24odGhhdCk7XG5cbiAgcG9pbnRDbG91ZC51cGRhdGUoZnJhbWVTdGF0ZSk7XG4gIGZyYW1lLnRvdWNoZWRGcmFtZU51bWJlciA9IGZyYW1lU3RhdGUuZnJhbWVOdW1iZXI7XG59XG5cbmZ1bmN0aW9uIGxvYWRGcmFtZSh0aGF0LCBpbnRlcnZhbCwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpIHtcbiAgdmFyIGZyYW1lID0gcmVxdWVzdEZyYW1lKHRoYXQsIGludGVydmFsLCBmcmFtZVN0YXRlKTtcbiAgcHJlcGFyZUZyYW1lKHRoYXQsIGZyYW1lLCB1cGRhdGVTdGF0ZSwgZnJhbWVTdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGdldFVubG9hZENvbmRpdGlvbihmcmFtZVN0YXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAvLyBVbmxvYWQgYWxsIGZyYW1lcyB0aGF0IGFyZW4ndCBjdXJyZW50bHkgYmVpbmcgbG9hZGVkIG9yIHJlbmRlcmVkXG4gICAgcmV0dXJuIGZyYW1lLnRvdWNoZWRGcmFtZU51bWJlciA8IGZyYW1lU3RhdGUuZnJhbWVOdW1iZXI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVubG9hZEZyYW1lcyh0aGF0LCB1bmxvYWRDb25kaXRpb24pIHtcbiAgdmFyIGZyYW1lcyA9IHRoYXQuX2ZyYW1lcztcbiAgdmFyIGxlbmd0aCA9IGZyYW1lcy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgZnJhbWUgPSBmcmFtZXNbaV07XG4gICAgaWYgKGRlZmluZWQoZnJhbWUpKSB7XG4gICAgICBpZiAoIWRlZmluZWQodW5sb2FkQ29uZGl0aW9uKSB8fCB1bmxvYWRDb25kaXRpb24oZnJhbWUpKSB7XG4gICAgICAgIHZhciBwb2ludENsb3VkID0gZnJhbWUucG9pbnRDbG91ZDtcbiAgICAgICAgaWYgKGZyYW1lLnJlYWR5KSB7XG4gICAgICAgICAgdGhhdC5fdG90YWxNZW1vcnlVc2FnZUluQnl0ZXMgLT0gcG9pbnRDbG91ZC5nZW9tZXRyeUJ5dGVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQocG9pbnRDbG91ZCkpIHtcbiAgICAgICAgICBwb2ludENsb3VkLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhbWUgPT09IHRoYXQuX2xhc3RSZW5kZXJlZEZyYW1lKSB7XG4gICAgICAgICAgdGhhdC5fbGFzdFJlbmRlcmVkRnJhbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVzW2ldID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRGcmFtZSh0aGF0LCBpbnRlcnZhbCkge1xuICB2YXIgaW5kZXggPSBnZXRJbnRlcnZhbEluZGV4KHRoYXQsIGludGVydmFsKTtcbiAgdmFyIGZyYW1lID0gdGhhdC5fZnJhbWVzW2luZGV4XTtcbiAgaWYgKGRlZmluZWQoZnJhbWUpICYmIGZyYW1lLnJlYWR5KSB7XG4gICAgcmV0dXJuIGZyYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUludGVydmFsKHRoYXQsIGludGVydmFsLCBmcmFtZSwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpIHtcbiAgaWYgKGRlZmluZWQoZnJhbWUpKSB7XG4gICAgaWYgKGZyYW1lLnJlYWR5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbG9hZEZyYW1lKHRoYXQsIGludGVydmFsLCB1cGRhdGVTdGF0ZSwgZnJhbWVTdGF0ZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlYWR5O1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0TmVhcmVzdFJlYWR5SW50ZXJ2YWwoXG4gIHRoYXQsXG4gIHByZXZpb3VzSW50ZXJ2YWwsXG4gIGN1cnJlbnRJbnRlcnZhbCxcbiAgdXBkYXRlU3RhdGUsXG4gIGZyYW1lU3RhdGVcbikge1xuICB2YXIgaTtcbiAgdmFyIGludGVydmFsO1xuICB2YXIgZnJhbWU7XG4gIHZhciBpbnRlcnZhbHMgPSB0aGF0Ll9pbnRlcnZhbHM7XG4gIHZhciBmcmFtZXMgPSB0aGF0Ll9mcmFtZXM7XG4gIHZhciBjdXJyZW50SW5kZXggPSBnZXRJbnRlcnZhbEluZGV4KHRoYXQsIGN1cnJlbnRJbnRlcnZhbCk7XG4gIHZhciBwcmV2aW91c0luZGV4ID0gZ2V0SW50ZXJ2YWxJbmRleCh0aGF0LCBwcmV2aW91c0ludGVydmFsKTtcblxuICBpZiAoY3VycmVudEluZGV4ID49IHByZXZpb3VzSW5kZXgpIHtcbiAgICAvLyBsb29rIGJhY2t3YXJkc1xuICAgIGZvciAoaSA9IGN1cnJlbnRJbmRleDsgaSA+PSBwcmV2aW91c0luZGV4OyAtLWkpIHtcbiAgICAgIGludGVydmFsID0gaW50ZXJ2YWxzLmdldChpKTtcbiAgICAgIGZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgaWYgKHVwZGF0ZUludGVydmFsKHRoYXQsIGludGVydmFsLCBmcmFtZSwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBpbnRlcnZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbG9vayBmb3J3YXJkc1xuICAgIGZvciAoaSA9IGN1cnJlbnRJbmRleDsgaSA8PSBwcmV2aW91c0luZGV4OyArK2kpIHtcbiAgICAgIGludGVydmFsID0gaW50ZXJ2YWxzLmdldChpKTtcbiAgICAgIGZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgaWYgKHVwZGF0ZUludGVydmFsKHRoYXQsIGludGVydmFsLCBmcmFtZSwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBpbnRlcnZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiBubyBpbnRlcnZhbHMgYXJlIHJlYWR5IHJldHVybiB0aGUgcHJldmlvdXMgaW50ZXJ2YWxcbiAgcmV0dXJuIHByZXZpb3VzSW50ZXJ2YWw7XG59XG5cbmZ1bmN0aW9uIHNldEZyYW1lc0RpcnR5KHRoYXQsIGNsaXBwaW5nUGxhbmVzRGlydHksIHN0eWxlRGlydHkpIHtcbiAgdmFyIGZyYW1lcyA9IHRoYXQuX2ZyYW1lcztcbiAgdmFyIGZyYW1lc0xlbmd0aCA9IGZyYW1lcy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzTGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgZnJhbWUgPSBmcmFtZXNbaV07XG4gICAgaWYgKGRlZmluZWQoZnJhbWUpICYmIGRlZmluZWQoZnJhbWUucG9pbnRDbG91ZCkpIHtcbiAgICAgIGZyYW1lLnBvaW50Q2xvdWQuY2xpcHBpbmdQbGFuZXNEaXJ0eSA9IGNsaXBwaW5nUGxhbmVzRGlydHk7XG4gICAgICBmcmFtZS5wb2ludENsb3VkLnN0eWxlRGlydHkgPSBzdHlsZURpcnR5O1xuICAgIH1cbiAgfVxufVxuXG52YXIgdXBkYXRlU3RhdGUgPSB7XG4gIHRpbWVTaW5jZUxvYWQ6IDAsXG4gIGlzQ2xpcHBlZDogZmFsc2UsXG4gIGNsaXBwaW5nUGxhbmVzRGlydHk6IGZhbHNlLFxufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5UaW1lRHluYW1pY1BvaW50Q2xvdWQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gIGlmIChmcmFtZVN0YXRlLm1vZGUgPT09IFNjZW5lTW9kZS5NT1JQSElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdGhpcy5zaG93KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKHRoaXMuX3BpY2tJZCkpIHtcbiAgICB0aGlzLl9waWNrSWQgPSBmcmFtZVN0YXRlLmNvbnRleHQuY3JlYXRlUGlja0lkKHtcbiAgICAgIHByaW1pdGl2ZTogdGhpcyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICghZGVmaW5lZCh0aGlzLl9sb2FkVGltZXN0YW1wKSkge1xuICAgIHRoaXMuX2xvYWRUaW1lc3RhbXAgPSBKdWxpYW5EYXRlLmNsb25lKGZyYW1lU3RhdGUudGltZSk7XG4gIH1cblxuICAvLyBGb3Igc3R5bGluZ1xuICB2YXIgdGltZVNpbmNlTG9hZCA9IE1hdGgubWF4KFxuICAgIEp1bGlhbkRhdGUuc2Vjb25kc0RpZmZlcmVuY2UoZnJhbWVTdGF0ZS50aW1lLCB0aGlzLl9sb2FkVGltZXN0YW1wKSAqIDEwMDAsXG4gICAgMC4wXG4gICk7XG5cbiAgLy8gVXBkYXRlIGNsaXBwaW5nIHBsYW5lc1xuICB2YXIgY2xpcHBpbmdQbGFuZXMgPSB0aGlzLl9jbGlwcGluZ1BsYW5lcztcbiAgdmFyIGNsaXBwaW5nUGxhbmVzU3RhdGUgPSAwO1xuICB2YXIgY2xpcHBpbmdQbGFuZXNEaXJ0eSA9IGZhbHNlO1xuICB2YXIgaXNDbGlwcGVkID0gZGVmaW5lZChjbGlwcGluZ1BsYW5lcykgJiYgY2xpcHBpbmdQbGFuZXMuZW5hYmxlZDtcblxuICBpZiAoaXNDbGlwcGVkKSB7XG4gICAgY2xpcHBpbmdQbGFuZXMudXBkYXRlKGZyYW1lU3RhdGUpO1xuICAgIGNsaXBwaW5nUGxhbmVzU3RhdGUgPSBjbGlwcGluZ1BsYW5lcy5jbGlwcGluZ1BsYW5lc1N0YXRlO1xuICB9XG5cbiAgaWYgKHRoaXMuX2NsaXBwaW5nUGxhbmVzU3RhdGUgIT09IGNsaXBwaW5nUGxhbmVzU3RhdGUpIHtcbiAgICB0aGlzLl9jbGlwcGluZ1BsYW5lc1N0YXRlID0gY2xpcHBpbmdQbGFuZXNTdGF0ZTtcbiAgICBjbGlwcGluZ1BsYW5lc0RpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzdHlsZURpcnR5ID0gdGhpcy5fc3R5bGVEaXJ0eTtcbiAgdGhpcy5fc3R5bGVEaXJ0eSA9IGZhbHNlO1xuXG4gIGlmIChjbGlwcGluZ1BsYW5lc0RpcnR5IHx8IHN0eWxlRGlydHkpIHtcbiAgICBzZXRGcmFtZXNEaXJ0eSh0aGlzLCBjbGlwcGluZ1BsYW5lc0RpcnR5LCBzdHlsZURpcnR5KTtcbiAgfVxuXG4gIHVwZGF0ZVN0YXRlLnRpbWVTaW5jZUxvYWQgPSB0aW1lU2luY2VMb2FkO1xuICB1cGRhdGVTdGF0ZS5pc0NsaXBwZWQgPSBpc0NsaXBwZWQ7XG5cbiAgdmFyIHNoYWRpbmcgPSB0aGlzLnNoYWRpbmc7XG4gIHZhciBleWVEb21lTGlnaHRpbmcgPSB0aGlzLl9wb2ludENsb3VkRXllRG9tZUxpZ2h0aW5nO1xuXG4gIHZhciBjb21tYW5kTGlzdCA9IGZyYW1lU3RhdGUuY29tbWFuZExpc3Q7XG4gIHZhciBsZW5ndGhCZWZvcmVVcGRhdGUgPSBjb21tYW5kTGlzdC5sZW5ndGg7XG5cbiAgdmFyIHByZXZpb3VzSW50ZXJ2YWwgPSB0aGlzLl9wcmV2aW91c0ludGVydmFsO1xuICB2YXIgbmV4dEludGVydmFsID0gdGhpcy5fbmV4dEludGVydmFsO1xuICB2YXIgY3VycmVudEludGVydmFsID0gZ2V0Q3VycmVudEludGVydmFsKHRoaXMpO1xuXG4gIGlmICghZGVmaW5lZChjdXJyZW50SW50ZXJ2YWwpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNsb2NrTXVsdGlwbGllckNoYW5nZWQgPSBmYWxzZTtcbiAgdmFyIGNsb2NrTXVsdGlwbGllciA9IGdldENsb2NrTXVsdGlwbGllcih0aGlzKTtcbiAgdmFyIGNsb2NrUGF1c2VkID0gY2xvY2tNdWx0aXBsaWVyID09PSAwO1xuICBpZiAoY2xvY2tNdWx0aXBsaWVyICE9PSB0aGlzLl9jbG9ja011bHRpcGxpZXIpIHtcbiAgICBjbG9ja011bHRpcGxpZXJDaGFuZ2VkID0gdHJ1ZTtcbiAgICB0aGlzLl9jbG9ja011bHRpcGxpZXIgPSBjbG9ja011bHRpcGxpZXI7XG4gIH1cblxuICBpZiAoIWRlZmluZWQocHJldmlvdXNJbnRlcnZhbCkgfHwgY2xvY2tQYXVzZWQpIHtcbiAgICBwcmV2aW91c0ludGVydmFsID0gY3VycmVudEludGVydmFsO1xuICB9XG5cbiAgaWYgKFxuICAgICFkZWZpbmVkKG5leHRJbnRlcnZhbCkgfHxcbiAgICBjbG9ja011bHRpcGxpZXJDaGFuZ2VkIHx8XG4gICAgcmVhY2hlZEludGVydmFsKHRoaXMsIGN1cnJlbnRJbnRlcnZhbCwgbmV4dEludGVydmFsKVxuICApIHtcbiAgICBuZXh0SW50ZXJ2YWwgPSBnZXROZXh0SW50ZXJ2YWwodGhpcywgY3VycmVudEludGVydmFsKTtcbiAgfVxuXG4gIHByZXZpb3VzSW50ZXJ2YWwgPSBnZXROZWFyZXN0UmVhZHlJbnRlcnZhbChcbiAgICB0aGlzLFxuICAgIHByZXZpb3VzSW50ZXJ2YWwsXG4gICAgY3VycmVudEludGVydmFsLFxuICAgIHVwZGF0ZVN0YXRlLFxuICAgIGZyYW1lU3RhdGVcbiAgKTtcbiAgdmFyIGZyYW1lID0gZ2V0RnJhbWUodGhpcywgcHJldmlvdXNJbnRlcnZhbCk7XG5cbiAgaWYgKCFkZWZpbmVkKGZyYW1lKSkge1xuICAgIC8vIFRoZSBmcmFtZSBpcyBub3QgcmVhZHkgdG8gcmVuZGVyLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiB0aGUgc2ltdWxhdGlvbiBzdGFydHMgb3Igd2hlbiBzY3J1YmJpbmcgdGhlIHRpbWVsaW5lXG4gICAgLy8gdG8gYSBmcmFtZSB0aGF0IGhhc24ndCBsb2FkZWQgeWV0LiBKdXN0IHJlbmRlciB0aGUgbGFzdCByZW5kZXJlZCBmcmFtZSBpbiBpdHMgcGxhY2UgdW50aWwgaXQgZmluaXNoZXMgbG9hZGluZy5cbiAgICBsb2FkRnJhbWUodGhpcywgcHJldmlvdXNJbnRlcnZhbCwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpO1xuICAgIGZyYW1lID0gdGhpcy5fbGFzdFJlbmRlcmVkRnJhbWU7XG4gIH1cblxuICBpZiAoZGVmaW5lZChmcmFtZSkpIHtcbiAgICByZW5kZXJGcmFtZSh0aGlzLCBmcmFtZSwgdXBkYXRlU3RhdGUsIGZyYW1lU3RhdGUpO1xuICB9XG5cbiAgaWYgKGRlZmluZWQobmV4dEludGVydmFsKSkge1xuICAgIC8vIFN0YXJ0IGxvYWRpbmcgdGhlIG5leHQgZnJhbWVcbiAgICBsb2FkRnJhbWUodGhpcywgbmV4dEludGVydmFsLCB1cGRhdGVTdGF0ZSwgZnJhbWVTdGF0ZSk7XG4gIH1cblxuICB2YXIgdGhhdCA9IHRoaXM7XG4gIGlmIChkZWZpbmVkKGZyYW1lKSAmJiAhZGVmaW5lZCh0aGlzLl9sYXN0UmVuZGVyZWRGcmFtZSkpIHtcbiAgICBmcmFtZVN0YXRlLmFmdGVyUmVuZGVyLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC5fcmVhZHlQcm9taXNlLnJlc29sdmUodGhhdCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZGVmaW5lZChmcmFtZSkgJiYgZnJhbWUgIT09IHRoaXMuX2xhc3RSZW5kZXJlZEZyYW1lKSB7XG4gICAgaWYgKHRoYXQuZnJhbWVDaGFuZ2VkLm51bWJlck9mTGlzdGVuZXJzID4gMCkge1xuICAgICAgZnJhbWVTdGF0ZS5hZnRlclJlbmRlci5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5mcmFtZUNoYW5nZWQucmFpc2VFdmVudCh0aGF0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuX3ByZXZpb3VzSW50ZXJ2YWwgPSBwcmV2aW91c0ludGVydmFsO1xuICB0aGlzLl9uZXh0SW50ZXJ2YWwgPSBuZXh0SW50ZXJ2YWw7XG4gIHRoaXMuX2xhc3RSZW5kZXJlZEZyYW1lID0gZnJhbWU7XG5cbiAgdmFyIHRvdGFsTWVtb3J5VXNhZ2VJbkJ5dGVzID0gdGhpcy5fdG90YWxNZW1vcnlVc2FnZUluQnl0ZXM7XG4gIHZhciBtYXhpbXVtTWVtb3J5VXNhZ2VJbkJ5dGVzID0gdGhpcy5tYXhpbXVtTWVtb3J5VXNhZ2UgKiAxMDI0ICogMTAyNDtcblxuICBpZiAodG90YWxNZW1vcnlVc2FnZUluQnl0ZXMgPiBtYXhpbXVtTWVtb3J5VXNhZ2VJbkJ5dGVzKSB7XG4gICAgdW5sb2FkRnJhbWVzKHRoaXMsIGdldFVubG9hZENvbmRpdGlvbihmcmFtZVN0YXRlKSk7XG4gIH1cblxuICB2YXIgbGVuZ3RoQWZ0ZXJVcGRhdGUgPSBjb21tYW5kTGlzdC5sZW5ndGg7XG4gIHZhciBhZGRlZENvbW1hbmRzTGVuZ3RoID0gbGVuZ3RoQWZ0ZXJVcGRhdGUgLSBsZW5ndGhCZWZvcmVVcGRhdGU7XG5cbiAgaWYgKFxuICAgIGRlZmluZWQoc2hhZGluZykgJiZcbiAgICBzaGFkaW5nLmF0dGVudWF0aW9uICYmXG4gICAgc2hhZGluZy5leWVEb21lTGlnaHRpbmcgJiZcbiAgICBhZGRlZENvbW1hbmRzTGVuZ3RoID4gMFxuICApIHtcbiAgICBleWVEb21lTGlnaHRpbmcudXBkYXRlKFxuICAgICAgZnJhbWVTdGF0ZSxcbiAgICAgIGxlbmd0aEJlZm9yZVVwZGF0ZSxcbiAgICAgIHNoYWRpbmcsXG4gICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqIDxiciAvPjxiciAvPlxuICogSWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkOyBjYWxsaW5nIGFueSBmdW5jdGlvbiBvdGhlciB0aGFuXG4gKiA8Y29kZT5pc0Rlc3Ryb3llZDwvY29kZT4gd2lsbCByZXN1bHQgaW4gYSB7QGxpbmsgRGV2ZWxvcGVyRXJyb3J9IGV4Y2VwdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCA8Y29kZT5mYWxzZTwvY29kZT4uXG4gKlxuICogQHNlZSBUaW1lRHluYW1pY1BvaW50Q2xvdWQjZGVzdHJveVxuICovXG5UaW1lRHluYW1pY1BvaW50Q2xvdWQucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBXZWJHTCByZXNvdXJjZXMgaGVsZCBieSB0aGlzIG9iamVjdC4gIERlc3Ryb3lpbmcgYW4gb2JqZWN0IGFsbG93cyBmb3IgZGV0ZXJtaW5pc3RpY1xuICogcmVsZWFzZSBvZiBXZWJHTCByZXNvdXJjZXMsIGluc3RlYWQgb2YgcmVseWluZyBvbiB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IgdG8gZGVzdHJveSB0aGlzIG9iamVjdC5cbiAqIDxiciAvPjxiciAvPlxuICogT25jZSBhbiBvYmplY3QgaXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLiAgVGhlcmVmb3JlLFxuICogYXNzaWduIHRoZSByZXR1cm4gdmFsdWUgKDxjb2RlPnVuZGVmaW5lZDwvY29kZT4pIHRvIHRoZSBvYmplY3QgYXMgZG9uZSBpbiB0aGUgZXhhbXBsZS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaS5lLiwgZGVzdHJveSgpIHdhcyBjYWxsZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIHBvaW50Q2xvdWQgPSBwb2ludENsb3VkICYmIHBvaW50Q2xvdWQuZGVzdHJveSgpO1xuICpcbiAqIEBzZWUgVGltZUR5bmFtaWNQb2ludENsb3VkI2lzRGVzdHJveWVkXG4gKi9cblRpbWVEeW5hbWljUG9pbnRDbG91ZC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdW5sb2FkRnJhbWVzKHRoaXMpO1xuICB0aGlzLl9jbGlwcGluZ1BsYW5lcyA9IHRoaXMuX2NsaXBwaW5nUGxhbmVzICYmIHRoaXMuX2NsaXBwaW5nUGxhbmVzLmRlc3Ryb3koKTtcbiAgdGhpcy5fcGlja0lkID0gdGhpcy5fcGlja0lkICYmIHRoaXMuX3BpY2tJZC5kZXN0cm95KCk7XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFRpbWVEeW5hbWljUG9pbnRDbG91ZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78831\n')},1057:function(__unused_webpack___webpack_module__,__webpack_exports__){eval('/**\n * A tonemapping algorithm when rendering with high dynamic range.\n *\n * @enum {Number}\n * @private\n */\nvar Tonemapper = {\n  /**\n   * Use the Reinhard tonemapping operator.\n   *\n   * @type {Number}\n   * @constant\n   */\n  REINHARD: 0,\n\n  /**\n   * Use the modified Reinhard tonemapping operator.\n   *\n   * @type {Number}\n   * @constant\n   */\n  MODIFIED_REINHARD: 1,\n\n  /**\n   * Use the Filmic tonemapping operator.\n   *\n   * @type {Number}\n   * @constant\n   */\n  FILMIC: 2,\n\n  /**\n   * Use the ACES tonemapping operator.\n   *\n   * @type {Number}\n   * @constant\n   */\n  ACES: 3,\n\n  /**\n   * @private\n   */\n  validate: function (tonemapper) {\n    return (\n      tonemapper === Tonemapper.REINHARD ||\n      tonemapper === Tonemapper.MODIFIED_REINHARD ||\n      tonemapper === Tonemapper.FILMIC ||\n      tonemapper === Tonemapper.ACES\n    );\n  },\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(Tonemapper));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA1Ny5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlEQUFlLHlCQUF5QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL1RvbmVtYXBwZXIuanM/ZDVhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgdG9uZW1hcHBpbmcgYWxnb3JpdGhtIHdoZW4gcmVuZGVyaW5nIHdpdGggaGlnaCBkeW5hbWljIHJhbmdlLlxuICpcbiAqIEBlbnVtIHtOdW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVG9uZW1hcHBlciA9IHtcbiAgLyoqXG4gICAqIFVzZSB0aGUgUmVpbmhhcmQgdG9uZW1hcHBpbmcgb3BlcmF0b3IuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgUkVJTkhBUkQ6IDAsXG5cbiAgLyoqXG4gICAqIFVzZSB0aGUgbW9kaWZpZWQgUmVpbmhhcmQgdG9uZW1hcHBpbmcgb3BlcmF0b3IuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgTU9ESUZJRURfUkVJTkhBUkQ6IDEsXG5cbiAgLyoqXG4gICAqIFVzZSB0aGUgRmlsbWljIHRvbmVtYXBwaW5nIG9wZXJhdG9yLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEZJTE1JQzogMixcblxuICAvKipcbiAgICogVXNlIHRoZSBBQ0VTIHRvbmVtYXBwaW5nIG9wZXJhdG9yLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEFDRVM6IDMsXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB2YWxpZGF0ZTogZnVuY3Rpb24gKHRvbmVtYXBwZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdG9uZW1hcHBlciA9PT0gVG9uZW1hcHBlci5SRUlOSEFSRCB8fFxuICAgICAgdG9uZW1hcHBlciA9PT0gVG9uZW1hcHBlci5NT0RJRklFRF9SRUlOSEFSRCB8fFxuICAgICAgdG9uZW1hcHBlciA9PT0gVG9uZW1hcHBlci5GSUxNSUMgfHxcbiAgICAgIHRvbmVtYXBwZXIgPT09IFRvbmVtYXBwZXIuQUNFU1xuICAgICk7XG4gIH0sXG59O1xuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmZyZWV6ZShUb25lbWFwcGVyKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1057\n')},7853:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(88108);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86511);\n/* harmony import */ var _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(38443);\n/* harmony import */ var _Renderer_ClearCommand_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39899);\n/* harmony import */ var _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(60072);\n/* harmony import */ var _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2932);\n/* harmony import */ var _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8379);\n/* harmony import */ var _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(21572);\n/* harmony import */ var _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(10667);\n/* harmony import */ var _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(87721);\n/* harmony import */ var _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(53642);\n/* harmony import */ var _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(8743);\n/* harmony import */ var _Shaders_CompareAndPackTranslucentDepth_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(19447);\n/* harmony import */ var _Shaders_PostProcessStages_CompositeTranslucentClassification_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(40643);\n/* harmony import */ var _BlendingState_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(13633);\n/* harmony import */ var _StencilConstants_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(87233);\n/* harmony import */ var _StencilFunction_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(77053);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar debugShowPackedDepth = false;\n\n/**\n * Handles buffers, drawing, and deriving commands needed for classifying translucent 3D Tiles.\n * Uses a depth texture, so classification on translucent 3D Tiles is not available in Internet Explorer.\n *\n * @private\n */\nfunction TranslucentTileClassification(context) {\n  this._drawClassificationFBO = undefined;\n  this._accumulationFBO = undefined;\n  this._packFBO = undefined;\n\n  this._opaqueDepthStencilTexture = undefined;\n\n  this._colorTexture = undefined;\n  this._accumulationTexture = undefined;\n\n  // Reference to either colorTexture or accumulationTexture\n  this._textureToComposite = undefined;\n\n  this._translucentDepthStencilTexture = undefined;\n  this._packedTranslucentDepth = undefined;\n\n  this._packDepthCommand = undefined;\n  this._accumulateCommand = undefined;\n  this._compositeCommand = undefined;\n  this._copyCommand = undefined;\n\n  this._clearColorCommand = new _Renderer_ClearCommand_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(0.0, 0.0, 0.0, 0.0),\n    owner: this,\n  });\n\n  this._clearDepthStencilCommand = new _Renderer_ClearCommand_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    depth: 1.0,\n    stencil: 0,\n    owner: this,\n  });\n\n  this._supported = context.depthTexture;\n\n  this._viewport = new _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._rsDepth = undefined;\n  this._rsAccumulate = undefined;\n  this._rsComp = undefined;\n  this._useScissorTest = undefined;\n  this._scissorRectangle = undefined;\n\n  this._hasTranslucentDepth = false;\n  this._frustumsDrawn = 0;\n}\n\nObject.defineProperties(TranslucentTileClassification.prototype, {\n  /**\n   * Gets whether or not translucent depth was rendered.\n   * @memberof TranslucentTileClassification.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   */\n  hasTranslucentDepth: {\n    get: function () {\n      return this._hasTranslucentDepth;\n    },\n  },\n});\n\nfunction destroyTextures(transpClass) {\n  transpClass._colorTexture =\n    transpClass._colorTexture &&\n    !transpClass._colorTexture.isDestroyed() &&\n    transpClass._colorTexture.destroy();\n\n  transpClass._accumulationTexture =\n    transpClass._accumulationTexture &&\n    !transpClass._accumulationTexture.isDestroyed() &&\n    transpClass._accumulationTexture.destroy();\n  transpClass._textureToComposite = undefined;\n\n  transpClass._translucentDepthStencilTexture =\n    transpClass._translucentDepthStencilTexture &&\n    !transpClass._translucentDepthStencilTexture.isDestroyed() &&\n    transpClass._translucentDepthStencilTexture.destroy();\n  transpClass._packedTranslucentDepth =\n    transpClass._packedTranslucentDepth &&\n    !transpClass._packedTranslucentDepth.isDestroyed() &&\n    transpClass._packedTranslucentDepth.destroy();\n}\n\nfunction destroyFramebuffers(transpClass) {\n  transpClass._drawClassificationFBO =\n    transpClass._drawClassificationFBO &&\n    !transpClass._drawClassificationFBO.isDestroyed() &&\n    transpClass._drawClassificationFBO.destroy();\n  transpClass._accumulationFBO =\n    transpClass._accumulationFBO &&\n    !transpClass._accumulationFBO.isDestroyed() &&\n    transpClass._accumulationFBO.destroy();\n\n  transpClass._packFBO =\n    transpClass._packFBO &&\n    !transpClass._packFBO.isDestroyed() &&\n    transpClass._packFBO.destroy();\n}\n\nfunction rgbaTexture(context, width, height) {\n  return new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z({\n    context: context,\n    width: width,\n    height: height,\n    pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].RGBA */ .Z.RGBA,\n    pixelDatatype: _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].UNSIGNED_BYTE */ .Z.UNSIGNED_BYTE,\n    sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].NEAREST */ .Z.NEAREST,\n  });\n}\n\nfunction updateTextures(transpClass, context, width, height) {\n  destroyTextures(transpClass);\n\n  transpClass._colorTexture = rgbaTexture(context, width, height);\n  transpClass._accumulationTexture = rgbaTexture(context, width, height);\n\n  transpClass._translucentDepthStencilTexture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z({\n    context: context,\n    width: width,\n    height: height,\n    pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].DEPTH_STENCIL */ .Z.DEPTH_STENCIL,\n    pixelDatatype: _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].UNSIGNED_INT_24_8 */ .Z.UNSIGNED_INT_24_8,\n    sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].NEAREST */ .Z.NEAREST,\n  });\n\n  transpClass._packedTranslucentDepth = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z({\n    context: context,\n    width: width,\n    height: height,\n    pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].RGBA */ .Z.RGBA,\n    pixelDatatype: _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].UNSIGNED_BYTE */ .Z.UNSIGNED_BYTE,\n    sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].NEAREST */ .Z.NEAREST,\n  });\n}\n\nfunction updateFramebuffers(transpClass, context) {\n  destroyFramebuffers(transpClass);\n\n  transpClass._drawClassificationFBO = new _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n    context: context,\n    colorTextures: [transpClass._colorTexture],\n    depthStencilTexture: transpClass._translucentDepthStencilTexture,\n    destroyAttachments: false,\n  });\n\n  transpClass._accumulationFBO = new _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n    context: context,\n    colorTextures: [transpClass._accumulationTexture],\n    depthStencilTexture: transpClass._translucentDepthStencilTexture,\n    destroyAttachments: false,\n  });\n\n  transpClass._packFBO = new _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n    context: context,\n    colorTextures: [transpClass._packedTranslucentDepth],\n    destroyAttachments: false,\n  });\n}\n\nfunction updateResources(\n  transpClass,\n  context,\n  passState,\n  globeDepthFramebuffer\n) {\n  if (!transpClass.isSupported()) {\n    return;\n  }\n\n  transpClass._opaqueDepthStencilTexture =\n    globeDepthFramebuffer.depthStencilTexture;\n\n  var width = transpClass._opaqueDepthStencilTexture.width;\n  var height = transpClass._opaqueDepthStencilTexture.height;\n\n  var colorTexture = transpClass._colorTexture;\n  var textureChanged =\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(colorTexture) ||\n    colorTexture.width !== width ||\n    colorTexture.height !== height;\n  if (textureChanged) {\n    updateTextures(transpClass, context, width, height);\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._drawClassificationFBO) || textureChanged) {\n    updateFramebuffers(transpClass, context);\n  }\n\n  var fs;\n  var uniformMap;\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._packDepthCommand)) {\n    fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n      sources: [_Shaders_CompareAndPackTranslucentDepth_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z],\n    });\n\n    uniformMap = {\n      u_opaqueDepthTexture: function () {\n        return transpClass._opaqueDepthStencilTexture;\n      },\n      u_translucentDepthTexture: function () {\n        return transpClass._translucentDepthStencilTexture;\n      },\n    };\n\n    transpClass._packDepthCommand = context.createViewportQuadCommand(fs, {\n      uniformMap: uniformMap,\n      owner: transpClass,\n    });\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._compositeCommand)) {\n    fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n      sources: [_Shaders_PostProcessStages_CompositeTranslucentClassification_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z],\n    });\n\n    uniformMap = {\n      colorTexture: function () {\n        return transpClass._textureToComposite;\n      },\n    };\n\n    if (debugShowPackedDepth) {\n      fs.defines = ["DEBUG_SHOW_DEPTH"];\n      uniformMap.u_packedTranslucentDepth = function () {\n        return transpClass._packedTranslucentDepth;\n      };\n    }\n\n    transpClass._compositeCommand = context.createViewportQuadCommand(fs, {\n      uniformMap: uniformMap,\n      owner: transpClass,\n    });\n\n    var compositeCommand = transpClass._compositeCommand;\n    var compositeProgram = compositeCommand.shaderProgram;\n    var compositePickProgram = context.shaderCache.createDerivedShaderProgram(\n      compositeProgram,\n      "pick",\n      {\n        vertexShaderSource: compositeProgram.vertexShaderSource,\n        fragmentShaderSource: new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n          sources: fs.sources,\n          defines: ["PICK"],\n        }),\n        attributeLocations: compositeProgram._attributeLocations,\n      }\n    );\n    var compositePickCommand = _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].shallowClone */ .Z.shallowClone(compositeCommand);\n    compositePickCommand.shaderProgram = compositePickProgram;\n    compositeCommand.derivedCommands.pick = compositePickCommand;\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._copyCommand)) {\n    fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n      sources: [_Shaders_PostProcessStages_CompositeTranslucentClassification_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z],\n    });\n\n    uniformMap = {\n      colorTexture: function () {\n        return transpClass._colorTexture;\n      },\n    };\n\n    transpClass._copyCommand = context.createViewportQuadCommand(fs, {\n      uniformMap: uniformMap,\n      owner: transpClass,\n    });\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._accumulateCommand)) {\n    fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z({\n      sources: [_Shaders_PostProcessStages_CompositeTranslucentClassification_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z],\n    });\n\n    uniformMap = {\n      colorTexture: function () {\n        return transpClass._colorTexture;\n      },\n    };\n\n    transpClass._accumulateCommand = context.createViewportQuadCommand(fs, {\n      uniformMap: uniformMap,\n      owner: transpClass,\n    });\n  }\n\n  transpClass._viewport.width = width;\n  transpClass._viewport.height = height;\n\n  var useScissorTest = !_Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(\n    transpClass._viewport,\n    passState.viewport\n  );\n  var updateScissor = useScissorTest !== transpClass._useScissorTest;\n  transpClass._useScissorTest = useScissorTest;\n\n  if (\n    !_Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(transpClass._scissorRectangle, passState.viewport)\n  ) {\n    transpClass._scissorRectangle = _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(\n      passState.viewport,\n      transpClass._scissorRectangle\n    );\n    updateScissor = true;\n  }\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._rsDepth) ||\n    !_Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(\n      transpClass._viewport,\n      transpClass._rsDepth.viewport\n    ) ||\n    updateScissor\n  ) {\n    transpClass._rsDepth = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromCache */ .Z.fromCache({\n      viewport: transpClass._viewport,\n      scissorTest: {\n        enabled: transpClass._useScissorTest,\n        rectangle: transpClass._scissorRectangle,\n      },\n    });\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._packDepthCommand)) {\n    transpClass._packDepthCommand.renderState = transpClass._rsDepth;\n  }\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._rsAccumulate) ||\n    !_Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(\n      transpClass._viewport,\n      transpClass._rsAccumulate.viewport\n    ) ||\n    updateScissor\n  ) {\n    transpClass._rsAccumulate = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromCache */ .Z.fromCache({\n      viewport: transpClass._viewport,\n      scissorTest: {\n        enabled: transpClass._useScissorTest,\n        rectangle: transpClass._scissorRectangle,\n      },\n      stencilTest: {\n        enabled: true,\n        frontFunction: _StencilFunction_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].EQUAL */ .Z.EQUAL,\n        reference: _StencilConstants_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].CESIUM_3D_TILE_MASK */ .Z.CESIUM_3D_TILE_MASK,\n      },\n    });\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._accumulateCommand)) {\n    transpClass._accumulateCommand.renderState = transpClass._rsAccumulate;\n  }\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._rsComp) ||\n    !_Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(\n      transpClass._viewport,\n      transpClass._rsComp.viewport\n    ) ||\n    updateScissor\n  ) {\n    transpClass._rsComp = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromCache */ .Z.fromCache({\n      viewport: transpClass._viewport,\n      scissorTest: {\n        enabled: transpClass._useScissorTest,\n        rectangle: transpClass._scissorRectangle,\n      },\n      blending: _BlendingState_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].ALPHA_BLEND */ .Z.ALPHA_BLEND,\n    });\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transpClass._compositeCommand)) {\n    transpClass._compositeCommand.renderState = transpClass._rsComp;\n    transpClass._compositeCommand.derivedCommands.pick.renderState =\n      transpClass._rsComp;\n  }\n}\n\nTranslucentTileClassification.prototype.executeTranslucentCommands = function (\n  scene,\n  executeCommand,\n  passState,\n  commands,\n  globeDepthFramebuffer\n) {\n  // Check for translucent commands that should be classified\n  var length = commands.length;\n  var command;\n  var i;\n\n  var useLogDepth = scene.frameState.useLogDepth;\n  var context = scene.context;\n  var framebuffer = passState.framebuffer;\n\n  for (i = 0; i < length; ++i) {\n    command = commands[i];\n    command = useLogDepth ? command.derivedCommands.logDepth.command : command;\n\n    if (command.depthForTranslucentClassification) {\n      this._hasTranslucentDepth = true;\n      break;\n    }\n  }\n\n  if (!this._hasTranslucentDepth) {\n    return;\n  }\n\n  updateResources(this, context, passState, globeDepthFramebuffer);\n\n  // Get translucent depth\n  passState.framebuffer = this._drawClassificationFBO;\n\n  // Clear depth for multifrustum\n  this._clearDepthStencilCommand.execute(context, passState);\n\n  for (i = 0; i < length; ++i) {\n    command = commands[i];\n    command = useLogDepth ? command.derivedCommands.logDepth.command : command;\n\n    if (!command.depthForTranslucentClassification) {\n      continue;\n    }\n\n    // Depth-only commands are created for all translucent 3D Tiles commands\n    var depthOnlyCommand = command.derivedCommands.depth.depthOnlyCommand;\n    executeCommand(depthOnlyCommand, scene, context, passState);\n  }\n\n  this._frustumsDrawn += this._hasTranslucentDepth ? 1 : 0;\n\n  // Pack depth if any translucent depth commands were performed\n  if (this._hasTranslucentDepth) {\n    passState.framebuffer = this._packFBO;\n    this._packDepthCommand.execute(context, passState);\n  }\n\n  passState.framebuffer = framebuffer;\n};\n\nTranslucentTileClassification.prototype.executeClassificationCommands = function (\n  scene,\n  executeCommand,\n  passState,\n  frustumCommands\n) {\n  if (!this._hasTranslucentDepth) {\n    return;\n  }\n\n  var context = scene.context;\n  var us = context.uniformState;\n  var framebuffer = passState.framebuffer;\n\n  if (this._frustumsDrawn === 2) {\n    // copy classification from first frustum\n    passState.framebuffer = this._accumulationFBO;\n    this._copyCommand.execute(context, passState);\n  }\n\n  passState.framebuffer = this._drawClassificationFBO;\n  if (this._frustumsDrawn > 1) {\n    this._clearColorCommand.execute(context, passState);\n  }\n\n  us.updatePass(_Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].CESIUM_3D_TILE_CLASSIFICATION */ .Z.CESIUM_3D_TILE_CLASSIFICATION);\n  var swapGlobeDepth = us.globeDepthTexture;\n  us.globeDepthTexture = this._packedTranslucentDepth;\n  var commands = frustumCommands.commands[_Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].CESIUM_3D_TILE_CLASSIFICATION */ .Z.CESIUM_3D_TILE_CLASSIFICATION];\n  var length = frustumCommands.indices[_Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].CESIUM_3D_TILE_CLASSIFICATION */ .Z.CESIUM_3D_TILE_CLASSIFICATION];\n  for (var i = 0; i < length; ++i) {\n    executeCommand(commands[i], scene, context, passState);\n  }\n\n  us.globeDepthTexture = swapGlobeDepth;\n  passState.framebuffer = framebuffer;\n\n  if (this._frustumsDrawn === 1) {\n    return;\n  }\n\n  passState.framebuffer = this._accumulationFBO;\n  this._accumulateCommand.execute(context, passState);\n\n  passState.framebuffer = framebuffer;\n};\n\nTranslucentTileClassification.prototype.execute = function (scene, passState) {\n  if (!this._hasTranslucentDepth) {\n    return;\n  }\n  if (this._frustumsDrawn === 1) {\n    this._textureToComposite = this._colorTexture;\n  } else {\n    this._textureToComposite = this._accumulationTexture;\n  }\n\n  var command = scene.frameState.passes.pick\n    ? this._compositeCommand.derivedCommands.pick\n    : this._compositeCommand;\n  command.execute(scene.context, passState);\n\n  clear(this, scene, passState);\n};\n\nfunction clear(translucentTileClassification, scene, passState) {\n  if (!translucentTileClassification._hasTranslucentDepth) {\n    return;\n  }\n\n  var framebuffer = passState.framebuffer;\n\n  passState.framebuffer = translucentTileClassification._drawClassificationFBO;\n  translucentTileClassification._clearColorCommand.execute(\n    scene._context,\n    passState\n  );\n\n  passState.framebuffer = framebuffer;\n\n  if (translucentTileClassification._frustumsDrawn > 1) {\n    passState.framebuffer = translucentTileClassification._accumulationFBO;\n    translucentTileClassification._clearColorCommand.execute(\n      scene._context,\n      passState\n    );\n  }\n\n  translucentTileClassification._hasTranslucentDepth = false;\n  translucentTileClassification._frustumsDrawn = 0;\n}\n\nTranslucentTileClassification.prototype.isSupported = function () {\n  return this._supported;\n};\n\nTranslucentTileClassification.prototype.isDestroyed = function () {\n  return false;\n};\n\nTranslucentTileClassification.prototype.destroy = function () {\n  destroyTextures(this);\n  destroyFramebuffers(this);\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._compositeCommand)) {\n    this._compositeCommand.shaderProgram =\n      this._compositeCommand.shaderProgram &&\n      this._compositeCommand.shaderProgram.destroy();\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._packDepthCommand)) {\n    this._packDepthCommand.shaderProgram =\n      this._packDepthCommand.shaderProgram &&\n      this._packDepthCommand.shaderProgram.destroy();\n  }\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this);\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (TranslucentTileClassification);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWE7QUFDdEI7O0FBRUEseURBQWUsNkJBQTZCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24uanM/OTQ4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm91bmRpbmdSZWN0YW5nbGUgZnJvbSBcIi4uL0NvcmUvQm91bmRpbmdSZWN0YW5nbGUuanNcIjtcbmltcG9ydCBDb2xvciBmcm9tIFwiLi4vQ29yZS9Db2xvci5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IFBpeGVsRm9ybWF0IGZyb20gXCIuLi9Db3JlL1BpeGVsRm9ybWF0LmpzXCI7XG5pbXBvcnQgQ2xlYXJDb21tYW5kIGZyb20gXCIuLi9SZW5kZXJlci9DbGVhckNvbW1hbmQuanNcIjtcbmltcG9ydCBEcmF3Q29tbWFuZCBmcm9tIFwiLi4vUmVuZGVyZXIvRHJhd0NvbW1hbmQuanNcIjtcbmltcG9ydCBGcmFtZWJ1ZmZlciBmcm9tIFwiLi4vUmVuZGVyZXIvRnJhbWVidWZmZXIuanNcIjtcbmltcG9ydCBQYXNzIGZyb20gXCIuLi9SZW5kZXJlci9QYXNzLmpzXCI7XG5pbXBvcnQgUGl4ZWxEYXRhdHlwZSBmcm9tIFwiLi4vUmVuZGVyZXIvUGl4ZWxEYXRhdHlwZS5qc1wiO1xuaW1wb3J0IFJlbmRlclN0YXRlIGZyb20gXCIuLi9SZW5kZXJlci9SZW5kZXJTdGF0ZS5qc1wiO1xuaW1wb3J0IFNhbXBsZXIgZnJvbSBcIi4uL1JlbmRlcmVyL1NhbXBsZXIuanNcIjtcbmltcG9ydCBTaGFkZXJTb3VyY2UgZnJvbSBcIi4uL1JlbmRlcmVyL1NoYWRlclNvdXJjZS5qc1wiO1xuaW1wb3J0IFRleHR1cmUgZnJvbSBcIi4uL1JlbmRlcmVyL1RleHR1cmUuanNcIjtcbmltcG9ydCBDb21wYXJlQW5kUGFja1RyYW5zbHVjZW50RGVwdGggZnJvbSBcIi4uL1NoYWRlcnMvQ29tcGFyZUFuZFBhY2tUcmFuc2x1Y2VudERlcHRoLmpzXCI7XG5pbXBvcnQgQ29tcG9zaXRlVHJhbnNsdWNlbnRDbGFzc2lmaWNhdGlvbiBmcm9tIFwiLi4vU2hhZGVycy9Qb3N0UHJvY2Vzc1N0YWdlcy9Db21wb3NpdGVUcmFuc2x1Y2VudENsYXNzaWZpY2F0aW9uLmpzXCI7XG5pbXBvcnQgQmxlbmRpbmdTdGF0ZSBmcm9tIFwiLi9CbGVuZGluZ1N0YXRlLmpzXCI7XG5pbXBvcnQgU3RlbmNpbENvbnN0YW50cyBmcm9tIFwiLi9TdGVuY2lsQ29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgU3RlbmNpbEZ1bmN0aW9uIGZyb20gXCIuL1N0ZW5jaWxGdW5jdGlvbi5qc1wiO1xuXG52YXIgZGVidWdTaG93UGFja2VkRGVwdGggPSBmYWxzZTtcblxuLyoqXG4gKiBIYW5kbGVzIGJ1ZmZlcnMsIGRyYXdpbmcsIGFuZCBkZXJpdmluZyBjb21tYW5kcyBuZWVkZWQgZm9yIGNsYXNzaWZ5aW5nIHRyYW5zbHVjZW50IDNEIFRpbGVzLlxuICogVXNlcyBhIGRlcHRoIHRleHR1cmUsIHNvIGNsYXNzaWZpY2F0aW9uIG9uIHRyYW5zbHVjZW50IDNEIFRpbGVzIGlzIG5vdCBhdmFpbGFibGUgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gVHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24oY29udGV4dCkge1xuICB0aGlzLl9kcmF3Q2xhc3NpZmljYXRpb25GQk8gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2FjY3VtdWxhdGlvbkZCTyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcGFja0ZCTyA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9vcGFxdWVEZXB0aFN0ZW5jaWxUZXh0dXJlID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX2NvbG9yVGV4dHVyZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fYWNjdW11bGF0aW9uVGV4dHVyZSA9IHVuZGVmaW5lZDtcblxuICAvLyBSZWZlcmVuY2UgdG8gZWl0aGVyIGNvbG9yVGV4dHVyZSBvciBhY2N1bXVsYXRpb25UZXh0dXJlXG4gIHRoaXMuX3RleHR1cmVUb0NvbXBvc2l0ZSA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl90cmFuc2x1Y2VudERlcHRoU3RlbmNpbFRleHR1cmUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BhY2tlZFRyYW5zbHVjZW50RGVwdGggPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fcGFja0RlcHRoQ29tbWFuZCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fYWNjdW11bGF0ZUNvbW1hbmQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NvbXBvc2l0ZUNvbW1hbmQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NvcHlDb21tYW5kID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX2NsZWFyQ29sb3JDb21tYW5kID0gbmV3IENsZWFyQ29tbWFuZCh7XG4gICAgY29sb3I6IG5ldyBDb2xvcigwLjAsIDAuMCwgMC4wLCAwLjApLFxuICAgIG93bmVyOiB0aGlzLFxuICB9KTtcblxuICB0aGlzLl9jbGVhckRlcHRoU3RlbmNpbENvbW1hbmQgPSBuZXcgQ2xlYXJDb21tYW5kKHtcbiAgICBkZXB0aDogMS4wLFxuICAgIHN0ZW5jaWw6IDAsXG4gICAgb3duZXI6IHRoaXMsXG4gIH0pO1xuXG4gIHRoaXMuX3N1cHBvcnRlZCA9IGNvbnRleHQuZGVwdGhUZXh0dXJlO1xuXG4gIHRoaXMuX3ZpZXdwb3J0ID0gbmV3IEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gIHRoaXMuX3JzRGVwdGggPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3JzQWNjdW11bGF0ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcnNDb21wID0gdW5kZWZpbmVkO1xuICB0aGlzLl91c2VTY2lzc29yVGVzdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc2Npc3NvclJlY3RhbmdsZSA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9oYXNUcmFuc2x1Y2VudERlcHRoID0gZmFsc2U7XG4gIHRoaXMuX2ZydXN0dW1zRHJhd24gPSAwO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUcmFuc2x1Y2VudFRpbGVDbGFzc2lmaWNhdGlvbi5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgd2hldGhlciBvciBub3QgdHJhbnNsdWNlbnQgZGVwdGggd2FzIHJlbmRlcmVkLlxuICAgKiBAbWVtYmVyb2YgVHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGhhc1RyYW5zbHVjZW50RGVwdGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNUcmFuc2x1Y2VudERlcHRoO1xuICAgIH0sXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVzKHRyYW5zcENsYXNzKSB7XG4gIHRyYW5zcENsYXNzLl9jb2xvclRleHR1cmUgPVxuICAgIHRyYW5zcENsYXNzLl9jb2xvclRleHR1cmUgJiZcbiAgICAhdHJhbnNwQ2xhc3MuX2NvbG9yVGV4dHVyZS5pc0Rlc3Ryb3llZCgpICYmXG4gICAgdHJhbnNwQ2xhc3MuX2NvbG9yVGV4dHVyZS5kZXN0cm95KCk7XG5cbiAgdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGlvblRleHR1cmUgPVxuICAgIHRyYW5zcENsYXNzLl9hY2N1bXVsYXRpb25UZXh0dXJlICYmXG4gICAgIXRyYW5zcENsYXNzLl9hY2N1bXVsYXRpb25UZXh0dXJlLmlzRGVzdHJveWVkKCkgJiZcbiAgICB0cmFuc3BDbGFzcy5fYWNjdW11bGF0aW9uVGV4dHVyZS5kZXN0cm95KCk7XG4gIHRyYW5zcENsYXNzLl90ZXh0dXJlVG9Db21wb3NpdGUgPSB1bmRlZmluZWQ7XG5cbiAgdHJhbnNwQ2xhc3MuX3RyYW5zbHVjZW50RGVwdGhTdGVuY2lsVGV4dHVyZSA9XG4gICAgdHJhbnNwQ2xhc3MuX3RyYW5zbHVjZW50RGVwdGhTdGVuY2lsVGV4dHVyZSAmJlxuICAgICF0cmFuc3BDbGFzcy5fdHJhbnNsdWNlbnREZXB0aFN0ZW5jaWxUZXh0dXJlLmlzRGVzdHJveWVkKCkgJiZcbiAgICB0cmFuc3BDbGFzcy5fdHJhbnNsdWNlbnREZXB0aFN0ZW5jaWxUZXh0dXJlLmRlc3Ryb3koKTtcbiAgdHJhbnNwQ2xhc3MuX3BhY2tlZFRyYW5zbHVjZW50RGVwdGggPVxuICAgIHRyYW5zcENsYXNzLl9wYWNrZWRUcmFuc2x1Y2VudERlcHRoICYmXG4gICAgIXRyYW5zcENsYXNzLl9wYWNrZWRUcmFuc2x1Y2VudERlcHRoLmlzRGVzdHJveWVkKCkgJiZcbiAgICB0cmFuc3BDbGFzcy5fcGFja2VkVHJhbnNsdWNlbnREZXB0aC5kZXN0cm95KCk7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lGcmFtZWJ1ZmZlcnModHJhbnNwQ2xhc3MpIHtcbiAgdHJhbnNwQ2xhc3MuX2RyYXdDbGFzc2lmaWNhdGlvbkZCTyA9XG4gICAgdHJhbnNwQ2xhc3MuX2RyYXdDbGFzc2lmaWNhdGlvbkZCTyAmJlxuICAgICF0cmFuc3BDbGFzcy5fZHJhd0NsYXNzaWZpY2F0aW9uRkJPLmlzRGVzdHJveWVkKCkgJiZcbiAgICB0cmFuc3BDbGFzcy5fZHJhd0NsYXNzaWZpY2F0aW9uRkJPLmRlc3Ryb3koKTtcbiAgdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGlvbkZCTyA9XG4gICAgdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGlvbkZCTyAmJlxuICAgICF0cmFuc3BDbGFzcy5fYWNjdW11bGF0aW9uRkJPLmlzRGVzdHJveWVkKCkgJiZcbiAgICB0cmFuc3BDbGFzcy5fYWNjdW11bGF0aW9uRkJPLmRlc3Ryb3koKTtcblxuICB0cmFuc3BDbGFzcy5fcGFja0ZCTyA9XG4gICAgdHJhbnNwQ2xhc3MuX3BhY2tGQk8gJiZcbiAgICAhdHJhbnNwQ2xhc3MuX3BhY2tGQk8uaXNEZXN0cm95ZWQoKSAmJlxuICAgIHRyYW5zcENsYXNzLl9wYWNrRkJPLmRlc3Ryb3koKTtcbn1cblxuZnVuY3Rpb24gcmdiYVRleHR1cmUoY29udGV4dCwgd2lkdGgsIGhlaWdodCkge1xuICByZXR1cm4gbmV3IFRleHR1cmUoe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHBpeGVsRm9ybWF0OiBQaXhlbEZvcm1hdC5SR0JBLFxuICAgIHBpeGVsRGF0YXR5cGU6IFBpeGVsRGF0YXR5cGUuVU5TSUdORURfQllURSxcbiAgICBzYW1wbGVyOiBTYW1wbGVyLk5FQVJFU1QsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVUZXh0dXJlcyh0cmFuc3BDbGFzcywgY29udGV4dCwgd2lkdGgsIGhlaWdodCkge1xuICBkZXN0cm95VGV4dHVyZXModHJhbnNwQ2xhc3MpO1xuXG4gIHRyYW5zcENsYXNzLl9jb2xvclRleHR1cmUgPSByZ2JhVGV4dHVyZShjb250ZXh0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGlvblRleHR1cmUgPSByZ2JhVGV4dHVyZShjb250ZXh0LCB3aWR0aCwgaGVpZ2h0KTtcblxuICB0cmFuc3BDbGFzcy5fdHJhbnNsdWNlbnREZXB0aFN0ZW5jaWxUZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHBpeGVsRm9ybWF0OiBQaXhlbEZvcm1hdC5ERVBUSF9TVEVOQ0lMLFxuICAgIHBpeGVsRGF0YXR5cGU6IFBpeGVsRGF0YXR5cGUuVU5TSUdORURfSU5UXzI0XzgsXG4gICAgc2FtcGxlcjogU2FtcGxlci5ORUFSRVNULFxuICB9KTtcblxuICB0cmFuc3BDbGFzcy5fcGFja2VkVHJhbnNsdWNlbnREZXB0aCA9IG5ldyBUZXh0dXJlKHtcbiAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBwaXhlbEZvcm1hdDogUGl4ZWxGb3JtYXQuUkdCQSxcbiAgICBwaXhlbERhdGF0eXBlOiBQaXhlbERhdGF0eXBlLlVOU0lHTkVEX0JZVEUsXG4gICAgc2FtcGxlcjogU2FtcGxlci5ORUFSRVNULFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRnJhbWVidWZmZXJzKHRyYW5zcENsYXNzLCBjb250ZXh0KSB7XG4gIGRlc3Ryb3lGcmFtZWJ1ZmZlcnModHJhbnNwQ2xhc3MpO1xuXG4gIHRyYW5zcENsYXNzLl9kcmF3Q2xhc3NpZmljYXRpb25GQk8gPSBuZXcgRnJhbWVidWZmZXIoe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgY29sb3JUZXh0dXJlczogW3RyYW5zcENsYXNzLl9jb2xvclRleHR1cmVdLFxuICAgIGRlcHRoU3RlbmNpbFRleHR1cmU6IHRyYW5zcENsYXNzLl90cmFuc2x1Y2VudERlcHRoU3RlbmNpbFRleHR1cmUsXG4gICAgZGVzdHJveUF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgfSk7XG5cbiAgdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGlvbkZCTyA9IG5ldyBGcmFtZWJ1ZmZlcih7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICBjb2xvclRleHR1cmVzOiBbdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGlvblRleHR1cmVdLFxuICAgIGRlcHRoU3RlbmNpbFRleHR1cmU6IHRyYW5zcENsYXNzLl90cmFuc2x1Y2VudERlcHRoU3RlbmNpbFRleHR1cmUsXG4gICAgZGVzdHJveUF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgfSk7XG5cbiAgdHJhbnNwQ2xhc3MuX3BhY2tGQk8gPSBuZXcgRnJhbWVidWZmZXIoe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgY29sb3JUZXh0dXJlczogW3RyYW5zcENsYXNzLl9wYWNrZWRUcmFuc2x1Y2VudERlcHRoXSxcbiAgICBkZXN0cm95QXR0YWNobWVudHM6IGZhbHNlLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2VzKFxuICB0cmFuc3BDbGFzcyxcbiAgY29udGV4dCxcbiAgcGFzc1N0YXRlLFxuICBnbG9iZURlcHRoRnJhbWVidWZmZXJcbikge1xuICBpZiAoIXRyYW5zcENsYXNzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cmFuc3BDbGFzcy5fb3BhcXVlRGVwdGhTdGVuY2lsVGV4dHVyZSA9XG4gICAgZ2xvYmVEZXB0aEZyYW1lYnVmZmVyLmRlcHRoU3RlbmNpbFRleHR1cmU7XG5cbiAgdmFyIHdpZHRoID0gdHJhbnNwQ2xhc3MuX29wYXF1ZURlcHRoU3RlbmNpbFRleHR1cmUud2lkdGg7XG4gIHZhciBoZWlnaHQgPSB0cmFuc3BDbGFzcy5fb3BhcXVlRGVwdGhTdGVuY2lsVGV4dHVyZS5oZWlnaHQ7XG5cbiAgdmFyIGNvbG9yVGV4dHVyZSA9IHRyYW5zcENsYXNzLl9jb2xvclRleHR1cmU7XG4gIHZhciB0ZXh0dXJlQ2hhbmdlZCA9XG4gICAgIWRlZmluZWQoY29sb3JUZXh0dXJlKSB8fFxuICAgIGNvbG9yVGV4dHVyZS53aWR0aCAhPT0gd2lkdGggfHxcbiAgICBjb2xvclRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHQ7XG4gIGlmICh0ZXh0dXJlQ2hhbmdlZCkge1xuICAgIHVwZGF0ZVRleHR1cmVzKHRyYW5zcENsYXNzLCBjb250ZXh0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIGlmICghZGVmaW5lZCh0cmFuc3BDbGFzcy5fZHJhd0NsYXNzaWZpY2F0aW9uRkJPKSB8fCB0ZXh0dXJlQ2hhbmdlZCkge1xuICAgIHVwZGF0ZUZyYW1lYnVmZmVycyh0cmFuc3BDbGFzcywgY29udGV4dCk7XG4gIH1cblxuICB2YXIgZnM7XG4gIHZhciB1bmlmb3JtTWFwO1xuXG4gIGlmICghZGVmaW5lZCh0cmFuc3BDbGFzcy5fcGFja0RlcHRoQ29tbWFuZCkpIHtcbiAgICBmcyA9IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgc291cmNlczogW0NvbXBhcmVBbmRQYWNrVHJhbnNsdWNlbnREZXB0aF0sXG4gICAgfSk7XG5cbiAgICB1bmlmb3JtTWFwID0ge1xuICAgICAgdV9vcGFxdWVEZXB0aFRleHR1cmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zcENsYXNzLl9vcGFxdWVEZXB0aFN0ZW5jaWxUZXh0dXJlO1xuICAgICAgfSxcbiAgICAgIHVfdHJhbnNsdWNlbnREZXB0aFRleHR1cmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zcENsYXNzLl90cmFuc2x1Y2VudERlcHRoU3RlbmNpbFRleHR1cmU7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0cmFuc3BDbGFzcy5fcGFja0RlcHRoQ29tbWFuZCA9IGNvbnRleHQuY3JlYXRlVmlld3BvcnRRdWFkQ29tbWFuZChmcywge1xuICAgICAgdW5pZm9ybU1hcDogdW5pZm9ybU1hcCxcbiAgICAgIG93bmVyOiB0cmFuc3BDbGFzcyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICghZGVmaW5lZCh0cmFuc3BDbGFzcy5fY29tcG9zaXRlQ29tbWFuZCkpIHtcbiAgICBmcyA9IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgc291cmNlczogW0NvbXBvc2l0ZVRyYW5zbHVjZW50Q2xhc3NpZmljYXRpb25dLFxuICAgIH0pO1xuXG4gICAgdW5pZm9ybU1hcCA9IHtcbiAgICAgIGNvbG9yVGV4dHVyZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJhbnNwQ2xhc3MuX3RleHR1cmVUb0NvbXBvc2l0ZTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmIChkZWJ1Z1Nob3dQYWNrZWREZXB0aCkge1xuICAgICAgZnMuZGVmaW5lcyA9IFtcIkRFQlVHX1NIT1dfREVQVEhcIl07XG4gICAgICB1bmlmb3JtTWFwLnVfcGFja2VkVHJhbnNsdWNlbnREZXB0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zcENsYXNzLl9wYWNrZWRUcmFuc2x1Y2VudERlcHRoO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0cmFuc3BDbGFzcy5fY29tcG9zaXRlQ29tbWFuZCA9IGNvbnRleHQuY3JlYXRlVmlld3BvcnRRdWFkQ29tbWFuZChmcywge1xuICAgICAgdW5pZm9ybU1hcDogdW5pZm9ybU1hcCxcbiAgICAgIG93bmVyOiB0cmFuc3BDbGFzcyxcbiAgICB9KTtcblxuICAgIHZhciBjb21wb3NpdGVDb21tYW5kID0gdHJhbnNwQ2xhc3MuX2NvbXBvc2l0ZUNvbW1hbmQ7XG4gICAgdmFyIGNvbXBvc2l0ZVByb2dyYW0gPSBjb21wb3NpdGVDb21tYW5kLnNoYWRlclByb2dyYW07XG4gICAgdmFyIGNvbXBvc2l0ZVBpY2tQcm9ncmFtID0gY29udGV4dC5zaGFkZXJDYWNoZS5jcmVhdGVEZXJpdmVkU2hhZGVyUHJvZ3JhbShcbiAgICAgIGNvbXBvc2l0ZVByb2dyYW0sXG4gICAgICBcInBpY2tcIixcbiAgICAgIHtcbiAgICAgICAgdmVydGV4U2hhZGVyU291cmNlOiBjb21wb3NpdGVQcm9ncmFtLnZlcnRleFNoYWRlclNvdXJjZSxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTb3VyY2U6IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgICAgIHNvdXJjZXM6IGZzLnNvdXJjZXMsXG4gICAgICAgICAgZGVmaW5lczogW1wiUElDS1wiXSxcbiAgICAgICAgfSksXG4gICAgICAgIGF0dHJpYnV0ZUxvY2F0aW9uczogY29tcG9zaXRlUHJvZ3JhbS5fYXR0cmlidXRlTG9jYXRpb25zLFxuICAgICAgfVxuICAgICk7XG4gICAgdmFyIGNvbXBvc2l0ZVBpY2tDb21tYW5kID0gRHJhd0NvbW1hbmQuc2hhbGxvd0Nsb25lKGNvbXBvc2l0ZUNvbW1hbmQpO1xuICAgIGNvbXBvc2l0ZVBpY2tDb21tYW5kLnNoYWRlclByb2dyYW0gPSBjb21wb3NpdGVQaWNrUHJvZ3JhbTtcbiAgICBjb21wb3NpdGVDb21tYW5kLmRlcml2ZWRDb21tYW5kcy5waWNrID0gY29tcG9zaXRlUGlja0NvbW1hbmQ7XG4gIH1cblxuICBpZiAoIWRlZmluZWQodHJhbnNwQ2xhc3MuX2NvcHlDb21tYW5kKSkge1xuICAgIGZzID0gbmV3IFNoYWRlclNvdXJjZSh7XG4gICAgICBzb3VyY2VzOiBbQ29tcG9zaXRlVHJhbnNsdWNlbnRDbGFzc2lmaWNhdGlvbl0sXG4gICAgfSk7XG5cbiAgICB1bmlmb3JtTWFwID0ge1xuICAgICAgY29sb3JUZXh0dXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cmFuc3BDbGFzcy5fY29sb3JUZXh0dXJlO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdHJhbnNwQ2xhc3MuX2NvcHlDb21tYW5kID0gY29udGV4dC5jcmVhdGVWaWV3cG9ydFF1YWRDb21tYW5kKGZzLCB7XG4gICAgICB1bmlmb3JtTWFwOiB1bmlmb3JtTWFwLFxuICAgICAgb3duZXI6IHRyYW5zcENsYXNzLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKHRyYW5zcENsYXNzLl9hY2N1bXVsYXRlQ29tbWFuZCkpIHtcbiAgICBmcyA9IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgc291cmNlczogW0NvbXBvc2l0ZVRyYW5zbHVjZW50Q2xhc3NpZmljYXRpb25dLFxuICAgIH0pO1xuXG4gICAgdW5pZm9ybU1hcCA9IHtcbiAgICAgIGNvbG9yVGV4dHVyZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJhbnNwQ2xhc3MuX2NvbG9yVGV4dHVyZTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRyYW5zcENsYXNzLl9hY2N1bXVsYXRlQ29tbWFuZCA9IGNvbnRleHQuY3JlYXRlVmlld3BvcnRRdWFkQ29tbWFuZChmcywge1xuICAgICAgdW5pZm9ybU1hcDogdW5pZm9ybU1hcCxcbiAgICAgIG93bmVyOiB0cmFuc3BDbGFzcyxcbiAgICB9KTtcbiAgfVxuXG4gIHRyYW5zcENsYXNzLl92aWV3cG9ydC53aWR0aCA9IHdpZHRoO1xuICB0cmFuc3BDbGFzcy5fdmlld3BvcnQuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gIHZhciB1c2VTY2lzc29yVGVzdCA9ICFCb3VuZGluZ1JlY3RhbmdsZS5lcXVhbHMoXG4gICAgdHJhbnNwQ2xhc3MuX3ZpZXdwb3J0LFxuICAgIHBhc3NTdGF0ZS52aWV3cG9ydFxuICApO1xuICB2YXIgdXBkYXRlU2Npc3NvciA9IHVzZVNjaXNzb3JUZXN0ICE9PSB0cmFuc3BDbGFzcy5fdXNlU2Npc3NvclRlc3Q7XG4gIHRyYW5zcENsYXNzLl91c2VTY2lzc29yVGVzdCA9IHVzZVNjaXNzb3JUZXN0O1xuXG4gIGlmIChcbiAgICAhQm91bmRpbmdSZWN0YW5nbGUuZXF1YWxzKHRyYW5zcENsYXNzLl9zY2lzc29yUmVjdGFuZ2xlLCBwYXNzU3RhdGUudmlld3BvcnQpXG4gICkge1xuICAgIHRyYW5zcENsYXNzLl9zY2lzc29yUmVjdGFuZ2xlID0gQm91bmRpbmdSZWN0YW5nbGUuY2xvbmUoXG4gICAgICBwYXNzU3RhdGUudmlld3BvcnQsXG4gICAgICB0cmFuc3BDbGFzcy5fc2Npc3NvclJlY3RhbmdsZVxuICAgICk7XG4gICAgdXBkYXRlU2Npc3NvciA9IHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgIWRlZmluZWQodHJhbnNwQ2xhc3MuX3JzRGVwdGgpIHx8XG4gICAgIUJvdW5kaW5nUmVjdGFuZ2xlLmVxdWFscyhcbiAgICAgIHRyYW5zcENsYXNzLl92aWV3cG9ydCxcbiAgICAgIHRyYW5zcENsYXNzLl9yc0RlcHRoLnZpZXdwb3J0XG4gICAgKSB8fFxuICAgIHVwZGF0ZVNjaXNzb3JcbiAgKSB7XG4gICAgdHJhbnNwQ2xhc3MuX3JzRGVwdGggPSBSZW5kZXJTdGF0ZS5mcm9tQ2FjaGUoe1xuICAgICAgdmlld3BvcnQ6IHRyYW5zcENsYXNzLl92aWV3cG9ydCxcbiAgICAgIHNjaXNzb3JUZXN0OiB7XG4gICAgICAgIGVuYWJsZWQ6IHRyYW5zcENsYXNzLl91c2VTY2lzc29yVGVzdCxcbiAgICAgICAgcmVjdGFuZ2xlOiB0cmFuc3BDbGFzcy5fc2Npc3NvclJlY3RhbmdsZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZGVmaW5lZCh0cmFuc3BDbGFzcy5fcGFja0RlcHRoQ29tbWFuZCkpIHtcbiAgICB0cmFuc3BDbGFzcy5fcGFja0RlcHRoQ29tbWFuZC5yZW5kZXJTdGF0ZSA9IHRyYW5zcENsYXNzLl9yc0RlcHRoO1xuICB9XG5cbiAgaWYgKFxuICAgICFkZWZpbmVkKHRyYW5zcENsYXNzLl9yc0FjY3VtdWxhdGUpIHx8XG4gICAgIUJvdW5kaW5nUmVjdGFuZ2xlLmVxdWFscyhcbiAgICAgIHRyYW5zcENsYXNzLl92aWV3cG9ydCxcbiAgICAgIHRyYW5zcENsYXNzLl9yc0FjY3VtdWxhdGUudmlld3BvcnRcbiAgICApIHx8XG4gICAgdXBkYXRlU2Npc3NvclxuICApIHtcbiAgICB0cmFuc3BDbGFzcy5fcnNBY2N1bXVsYXRlID0gUmVuZGVyU3RhdGUuZnJvbUNhY2hlKHtcbiAgICAgIHZpZXdwb3J0OiB0cmFuc3BDbGFzcy5fdmlld3BvcnQsXG4gICAgICBzY2lzc29yVGVzdDoge1xuICAgICAgICBlbmFibGVkOiB0cmFuc3BDbGFzcy5fdXNlU2Npc3NvclRlc3QsXG4gICAgICAgIHJlY3RhbmdsZTogdHJhbnNwQ2xhc3MuX3NjaXNzb3JSZWN0YW5nbGUsXG4gICAgICB9LFxuICAgICAgc3RlbmNpbFRlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgZnJvbnRGdW5jdGlvbjogU3RlbmNpbEZ1bmN0aW9uLkVRVUFMLFxuICAgICAgICByZWZlcmVuY2U6IFN0ZW5jaWxDb25zdGFudHMuQ0VTSVVNXzNEX1RJTEVfTUFTSyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZGVmaW5lZCh0cmFuc3BDbGFzcy5fYWNjdW11bGF0ZUNvbW1hbmQpKSB7XG4gICAgdHJhbnNwQ2xhc3MuX2FjY3VtdWxhdGVDb21tYW5kLnJlbmRlclN0YXRlID0gdHJhbnNwQ2xhc3MuX3JzQWNjdW11bGF0ZTtcbiAgfVxuXG4gIGlmIChcbiAgICAhZGVmaW5lZCh0cmFuc3BDbGFzcy5fcnNDb21wKSB8fFxuICAgICFCb3VuZGluZ1JlY3RhbmdsZS5lcXVhbHMoXG4gICAgICB0cmFuc3BDbGFzcy5fdmlld3BvcnQsXG4gICAgICB0cmFuc3BDbGFzcy5fcnNDb21wLnZpZXdwb3J0XG4gICAgKSB8fFxuICAgIHVwZGF0ZVNjaXNzb3JcbiAgKSB7XG4gICAgdHJhbnNwQ2xhc3MuX3JzQ29tcCA9IFJlbmRlclN0YXRlLmZyb21DYWNoZSh7XG4gICAgICB2aWV3cG9ydDogdHJhbnNwQ2xhc3MuX3ZpZXdwb3J0LFxuICAgICAgc2Npc3NvclRlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdHJhbnNwQ2xhc3MuX3VzZVNjaXNzb3JUZXN0LFxuICAgICAgICByZWN0YW5nbGU6IHRyYW5zcENsYXNzLl9zY2lzc29yUmVjdGFuZ2xlLFxuICAgICAgfSxcbiAgICAgIGJsZW5kaW5nOiBCbGVuZGluZ1N0YXRlLkFMUEhBX0JMRU5ELFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGRlZmluZWQodHJhbnNwQ2xhc3MuX2NvbXBvc2l0ZUNvbW1hbmQpKSB7XG4gICAgdHJhbnNwQ2xhc3MuX2NvbXBvc2l0ZUNvbW1hbmQucmVuZGVyU3RhdGUgPSB0cmFuc3BDbGFzcy5fcnNDb21wO1xuICAgIHRyYW5zcENsYXNzLl9jb21wb3NpdGVDb21tYW5kLmRlcml2ZWRDb21tYW5kcy5waWNrLnJlbmRlclN0YXRlID1cbiAgICAgIHRyYW5zcENsYXNzLl9yc0NvbXA7XG4gIH1cbn1cblxuVHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24ucHJvdG90eXBlLmV4ZWN1dGVUcmFuc2x1Y2VudENvbW1hbmRzID0gZnVuY3Rpb24gKFxuICBzY2VuZSxcbiAgZXhlY3V0ZUNvbW1hbmQsXG4gIHBhc3NTdGF0ZSxcbiAgY29tbWFuZHMsXG4gIGdsb2JlRGVwdGhGcmFtZWJ1ZmZlclxuKSB7XG4gIC8vIENoZWNrIGZvciB0cmFuc2x1Y2VudCBjb21tYW5kcyB0aGF0IHNob3VsZCBiZSBjbGFzc2lmaWVkXG4gIHZhciBsZW5ndGggPSBjb21tYW5kcy5sZW5ndGg7XG4gIHZhciBjb21tYW5kO1xuICB2YXIgaTtcblxuICB2YXIgdXNlTG9nRGVwdGggPSBzY2VuZS5mcmFtZVN0YXRlLnVzZUxvZ0RlcHRoO1xuICB2YXIgY29udGV4dCA9IHNjZW5lLmNvbnRleHQ7XG4gIHZhciBmcmFtZWJ1ZmZlciA9IHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlcjtcblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb21tYW5kID0gY29tbWFuZHNbaV07XG4gICAgY29tbWFuZCA9IHVzZUxvZ0RlcHRoID8gY29tbWFuZC5kZXJpdmVkQ29tbWFuZHMubG9nRGVwdGguY29tbWFuZCA6IGNvbW1hbmQ7XG5cbiAgICBpZiAoY29tbWFuZC5kZXB0aEZvclRyYW5zbHVjZW50Q2xhc3NpZmljYXRpb24pIHtcbiAgICAgIHRoaXMuX2hhc1RyYW5zbHVjZW50RGVwdGggPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKCF0aGlzLl9oYXNUcmFuc2x1Y2VudERlcHRoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdXBkYXRlUmVzb3VyY2VzKHRoaXMsIGNvbnRleHQsIHBhc3NTdGF0ZSwgZ2xvYmVEZXB0aEZyYW1lYnVmZmVyKTtcblxuICAvLyBHZXQgdHJhbnNsdWNlbnQgZGVwdGhcbiAgcGFzc1N0YXRlLmZyYW1lYnVmZmVyID0gdGhpcy5fZHJhd0NsYXNzaWZpY2F0aW9uRkJPO1xuXG4gIC8vIENsZWFyIGRlcHRoIGZvciBtdWx0aWZydXN0dW1cbiAgdGhpcy5fY2xlYXJEZXB0aFN0ZW5jaWxDb21tYW5kLmV4ZWN1dGUoY29udGV4dCwgcGFzc1N0YXRlKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb21tYW5kID0gY29tbWFuZHNbaV07XG4gICAgY29tbWFuZCA9IHVzZUxvZ0RlcHRoID8gY29tbWFuZC5kZXJpdmVkQ29tbWFuZHMubG9nRGVwdGguY29tbWFuZCA6IGNvbW1hbmQ7XG5cbiAgICBpZiAoIWNvbW1hbmQuZGVwdGhGb3JUcmFuc2x1Y2VudENsYXNzaWZpY2F0aW9uKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBEZXB0aC1vbmx5IGNvbW1hbmRzIGFyZSBjcmVhdGVkIGZvciBhbGwgdHJhbnNsdWNlbnQgM0QgVGlsZXMgY29tbWFuZHNcbiAgICB2YXIgZGVwdGhPbmx5Q29tbWFuZCA9IGNvbW1hbmQuZGVyaXZlZENvbW1hbmRzLmRlcHRoLmRlcHRoT25seUNvbW1hbmQ7XG4gICAgZXhlY3V0ZUNvbW1hbmQoZGVwdGhPbmx5Q29tbWFuZCwgc2NlbmUsIGNvbnRleHQsIHBhc3NTdGF0ZSk7XG4gIH1cblxuICB0aGlzLl9mcnVzdHVtc0RyYXduICs9IHRoaXMuX2hhc1RyYW5zbHVjZW50RGVwdGggPyAxIDogMDtcblxuICAvLyBQYWNrIGRlcHRoIGlmIGFueSB0cmFuc2x1Y2VudCBkZXB0aCBjb21tYW5kcyB3ZXJlIHBlcmZvcm1lZFxuICBpZiAodGhpcy5faGFzVHJhbnNsdWNlbnREZXB0aCkge1xuICAgIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IHRoaXMuX3BhY2tGQk87XG4gICAgdGhpcy5fcGFja0RlcHRoQ29tbWFuZC5leGVjdXRlKGNvbnRleHQsIHBhc3NTdGF0ZSk7XG4gIH1cblxuICBwYXNzU3RhdGUuZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcjtcbn07XG5cblRyYW5zbHVjZW50VGlsZUNsYXNzaWZpY2F0aW9uLnByb3RvdHlwZS5leGVjdXRlQ2xhc3NpZmljYXRpb25Db21tYW5kcyA9IGZ1bmN0aW9uIChcbiAgc2NlbmUsXG4gIGV4ZWN1dGVDb21tYW5kLFxuICBwYXNzU3RhdGUsXG4gIGZydXN0dW1Db21tYW5kc1xuKSB7XG4gIGlmICghdGhpcy5faGFzVHJhbnNsdWNlbnREZXB0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb250ZXh0ID0gc2NlbmUuY29udGV4dDtcbiAgdmFyIHVzID0gY29udGV4dC51bmlmb3JtU3RhdGU7XG4gIHZhciBmcmFtZWJ1ZmZlciA9IHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlcjtcblxuICBpZiAodGhpcy5fZnJ1c3R1bXNEcmF3biA9PT0gMikge1xuICAgIC8vIGNvcHkgY2xhc3NpZmljYXRpb24gZnJvbSBmaXJzdCBmcnVzdHVtXG4gICAgcGFzc1N0YXRlLmZyYW1lYnVmZmVyID0gdGhpcy5fYWNjdW11bGF0aW9uRkJPO1xuICAgIHRoaXMuX2NvcHlDb21tYW5kLmV4ZWN1dGUoY29udGV4dCwgcGFzc1N0YXRlKTtcbiAgfVxuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IHRoaXMuX2RyYXdDbGFzc2lmaWNhdGlvbkZCTztcbiAgaWYgKHRoaXMuX2ZydXN0dW1zRHJhd24gPiAxKSB7XG4gICAgdGhpcy5fY2xlYXJDb2xvckNvbW1hbmQuZXhlY3V0ZShjb250ZXh0LCBwYXNzU3RhdGUpO1xuICB9XG5cbiAgdXMudXBkYXRlUGFzcyhQYXNzLkNFU0lVTV8zRF9USUxFX0NMQVNTSUZJQ0FUSU9OKTtcbiAgdmFyIHN3YXBHbG9iZURlcHRoID0gdXMuZ2xvYmVEZXB0aFRleHR1cmU7XG4gIHVzLmdsb2JlRGVwdGhUZXh0dXJlID0gdGhpcy5fcGFja2VkVHJhbnNsdWNlbnREZXB0aDtcbiAgdmFyIGNvbW1hbmRzID0gZnJ1c3R1bUNvbW1hbmRzLmNvbW1hbmRzW1Bhc3MuQ0VTSVVNXzNEX1RJTEVfQ0xBU1NJRklDQVRJT05dO1xuICB2YXIgbGVuZ3RoID0gZnJ1c3R1bUNvbW1hbmRzLmluZGljZXNbUGFzcy5DRVNJVU1fM0RfVElMRV9DTEFTU0lGSUNBVElPTl07XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBleGVjdXRlQ29tbWFuZChjb21tYW5kc1tpXSwgc2NlbmUsIGNvbnRleHQsIHBhc3NTdGF0ZSk7XG4gIH1cblxuICB1cy5nbG9iZURlcHRoVGV4dHVyZSA9IHN3YXBHbG9iZURlcHRoO1xuICBwYXNzU3RhdGUuZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcjtcblxuICBpZiAodGhpcy5fZnJ1c3R1bXNEcmF3biA9PT0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IHRoaXMuX2FjY3VtdWxhdGlvbkZCTztcbiAgdGhpcy5fYWNjdW11bGF0ZUNvbW1hbmQuZXhlY3V0ZShjb250ZXh0LCBwYXNzU3RhdGUpO1xuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xufTtcblxuVHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc2NlbmUsIHBhc3NTdGF0ZSkge1xuICBpZiAoIXRoaXMuX2hhc1RyYW5zbHVjZW50RGVwdGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRoaXMuX2ZydXN0dW1zRHJhd24gPT09IDEpIHtcbiAgICB0aGlzLl90ZXh0dXJlVG9Db21wb3NpdGUgPSB0aGlzLl9jb2xvclRleHR1cmU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fdGV4dHVyZVRvQ29tcG9zaXRlID0gdGhpcy5fYWNjdW11bGF0aW9uVGV4dHVyZTtcbiAgfVxuXG4gIHZhciBjb21tYW5kID0gc2NlbmUuZnJhbWVTdGF0ZS5wYXNzZXMucGlja1xuICAgID8gdGhpcy5fY29tcG9zaXRlQ29tbWFuZC5kZXJpdmVkQ29tbWFuZHMucGlja1xuICAgIDogdGhpcy5fY29tcG9zaXRlQ29tbWFuZDtcbiAgY29tbWFuZC5leGVjdXRlKHNjZW5lLmNvbnRleHQsIHBhc3NTdGF0ZSk7XG5cbiAgY2xlYXIodGhpcywgc2NlbmUsIHBhc3NTdGF0ZSk7XG59O1xuXG5mdW5jdGlvbiBjbGVhcih0cmFuc2x1Y2VudFRpbGVDbGFzc2lmaWNhdGlvbiwgc2NlbmUsIHBhc3NTdGF0ZSkge1xuICBpZiAoIXRyYW5zbHVjZW50VGlsZUNsYXNzaWZpY2F0aW9uLl9oYXNUcmFuc2x1Y2VudERlcHRoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGZyYW1lYnVmZmVyID0gcGFzc1N0YXRlLmZyYW1lYnVmZmVyO1xuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IHRyYW5zbHVjZW50VGlsZUNsYXNzaWZpY2F0aW9uLl9kcmF3Q2xhc3NpZmljYXRpb25GQk87XG4gIHRyYW5zbHVjZW50VGlsZUNsYXNzaWZpY2F0aW9uLl9jbGVhckNvbG9yQ29tbWFuZC5leGVjdXRlKFxuICAgIHNjZW5lLl9jb250ZXh0LFxuICAgIHBhc3NTdGF0ZVxuICApO1xuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuXG4gIGlmICh0cmFuc2x1Y2VudFRpbGVDbGFzc2lmaWNhdGlvbi5fZnJ1c3R1bXNEcmF3biA+IDEpIHtcbiAgICBwYXNzU3RhdGUuZnJhbWVidWZmZXIgPSB0cmFuc2x1Y2VudFRpbGVDbGFzc2lmaWNhdGlvbi5fYWNjdW11bGF0aW9uRkJPO1xuICAgIHRyYW5zbHVjZW50VGlsZUNsYXNzaWZpY2F0aW9uLl9jbGVhckNvbG9yQ29tbWFuZC5leGVjdXRlKFxuICAgICAgc2NlbmUuX2NvbnRleHQsXG4gICAgICBwYXNzU3RhdGVcbiAgICApO1xuICB9XG5cbiAgdHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24uX2hhc1RyYW5zbHVjZW50RGVwdGggPSBmYWxzZTtcbiAgdHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb24uX2ZydXN0dW1zRHJhd24gPSAwO1xufVxuXG5UcmFuc2x1Y2VudFRpbGVDbGFzc2lmaWNhdGlvbi5wcm90b3R5cGUuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9zdXBwb3J0ZWQ7XG59O1xuXG5UcmFuc2x1Y2VudFRpbGVDbGFzc2lmaWNhdGlvbi5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblRyYW5zbHVjZW50VGlsZUNsYXNzaWZpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBkZXN0cm95VGV4dHVyZXModGhpcyk7XG4gIGRlc3Ryb3lGcmFtZWJ1ZmZlcnModGhpcyk7XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fY29tcG9zaXRlQ29tbWFuZCkpIHtcbiAgICB0aGlzLl9jb21wb3NpdGVDb21tYW5kLnNoYWRlclByb2dyYW0gPVxuICAgICAgdGhpcy5fY29tcG9zaXRlQ29tbWFuZC5zaGFkZXJQcm9ncmFtICYmXG4gICAgICB0aGlzLl9jb21wb3NpdGVDb21tYW5kLnNoYWRlclByb2dyYW0uZGVzdHJveSgpO1xuICB9XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fcGFja0RlcHRoQ29tbWFuZCkpIHtcbiAgICB0aGlzLl9wYWNrRGVwdGhDb21tYW5kLnNoYWRlclByb2dyYW0gPVxuICAgICAgdGhpcy5fcGFja0RlcHRoQ29tbWFuZC5zaGFkZXJQcm9ncmFtICYmXG4gICAgICB0aGlzLl9wYWNrRGVwdGhDb21tYW5kLnNoYWRlclByb2dyYW0uZGVzdHJveSgpO1xuICB9XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNsdWNlbnRUaWxlQ2xhc3NpZmljYXRpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7853\n')},74476:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_clone_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83856);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50732);\n/* harmony import */ var _Core_getTimestamp_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59081);\n/* harmony import */ var _Core_TimeConstants_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4877);\n/* harmony import */ var _ThirdParty_Tween_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(85684);\n\n\n\n\n\n\n\n\n\n/**\n * A tween is an animation that interpolates the properties of two objects using an {@link EasingFunction}.  Create\n * one using {@link Scene#tweens} and {@link TweenCollection#add} and related add functions.\n *\n * @alias Tween\n * @constructor\n *\n * @private\n */\nfunction Tween(\n  tweens,\n  tweenjs,\n  startObject,\n  stopObject,\n  duration,\n  delay,\n  easingFunction,\n  update,\n  complete,\n  cancel\n) {\n  this._tweens = tweens;\n  this._tweenjs = tweenjs;\n\n  this._startObject = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(startObject);\n  this._stopObject = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(stopObject);\n\n  this._duration = duration;\n  this._delay = delay;\n  this._easingFunction = easingFunction;\n\n  this._update = update;\n  this._complete = complete;\n\n  /**\n   * The callback to call if the tween is canceled either because {@link Tween#cancelTween}\n   * was called or because the tween was removed from the collection.\n   *\n   * @type {TweenCollection.TweenCancelledCallback}\n   */\n  this.cancel = cancel;\n\n  /**\n   * @private\n   */\n  this.needsStart = true;\n}\n\nObject.defineProperties(Tween.prototype, {\n  /**\n   * An object with properties for initial values of the tween.  The properties of this object are changed during the tween\'s animation.\n   * @memberof Tween.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  startObject: {\n    get: function () {\n      return this._startObject;\n    },\n  },\n\n  /**\n   * An object with properties for the final values of the tween.\n   * @memberof Tween.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  stopObject: {\n    get: function () {\n      return this._stopObject;\n    },\n  },\n\n  /**\n   * The duration, in seconds, for the tween.  The tween is automatically removed from the collection when it stops.\n   * @memberof Tween.prototype\n   *\n   * @type {Number}\n   * @readonly\n   */\n  duration: {\n    get: function () {\n      return this._duration;\n    },\n  },\n\n  /**\n   * The delay, in seconds, before the tween starts animating.\n   * @memberof Tween.prototype\n   *\n   * @type {Number}\n   * @readonly\n   */\n  delay: {\n    get: function () {\n      return this._delay;\n    },\n  },\n\n  /**\n   * Determines the curve for animtion.\n   * @memberof Tween.prototype\n   *\n   * @type {EasingFunction}\n   * @readonly\n   */\n  easingFunction: {\n    get: function () {\n      return this._easingFunction;\n    },\n  },\n\n  /**\n   * The callback to call at each animation update (usually tied to the a rendered frame).\n   * @memberof Tween.prototype\n   *\n   * @type {TweenCollection.TweenUpdateCallback}\n   * @readonly\n   */\n  update: {\n    get: function () {\n      return this._update;\n    },\n  },\n\n  /**\n   * The callback to call when the tween finishes animating.\n   * @memberof Tween.prototype\n   *\n   * @type {TweenCollection.TweenCompleteCallback}\n   * @readonly\n   */\n  complete: {\n    get: function () {\n      return this._complete;\n    },\n  },\n\n  /**\n   * @memberof Tween.prototype\n   *\n   * @private\n   */\n  tweenjs: {\n    get: function () {\n      return this._tweenjs;\n    },\n  },\n});\n\n/**\n * Cancels the tween calling the {@link Tween#cancel} callback if one exists.  This\n * has no effect if the tween finished or was already canceled.\n */\nTween.prototype.cancelTween = function () {\n  this._tweens.remove(this);\n};\n\n/**\n * A collection of tweens for animating properties.  Commonly accessed using {@link Scene#tweens}.\n *\n * @alias TweenCollection\n * @constructor\n *\n * @private\n */\nfunction TweenCollection() {\n  this._tweens = [];\n}\n\nObject.defineProperties(TweenCollection.prototype, {\n  /**\n   * The number of tweens in the collection.\n   * @memberof TweenCollection.prototype\n   *\n   * @type {Number}\n   * @readonly\n   */\n  length: {\n    get: function () {\n      return this._tweens.length;\n    },\n  },\n});\n\n/**\n * Creates a tween for animating between two sets of properties.  The tween starts animating at the next call to {@link TweenCollection#update}, which\n * is implicit when {@link Viewer} or {@link CesiumWidget} render the scene.\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Object} options.startObject An object with properties for initial values of the tween.  The properties of this object are changed during the tween\'s animation.\n * @param {Object} options.stopObject An object with properties for the final values of the tween.\n * @param {Number} options.duration The duration, in seconds, for the tween.  The tween is automatically removed from the collection when it stops.\n * @param {Number} [options.delay=0.0] The delay, in seconds, before the tween starts animating.\n * @param {EasingFunction} [options.easingFunction=EasingFunction.LINEAR_NONE] Determines the curve for animtion.\n * @param {TweenCollection.TweenUpdateCallback} [options.update] The callback to call at each animation update (usually tied to the a rendered frame).\n * @param {TweenCollection.TweenCompleteCallback} [options.complete] The callback to call when the tween finishes animating.\n * @param {TweenCollection.TweenCancelledCallback} [options.cancel] The callback to call if the tween is canceled either because {@link Tween#cancelTween} was called or because the tween was removed from the collection.\n * @returns {Tween} The tween.\n *\n * @exception {DeveloperError} options.duration must be positive.\n */\nTweenCollection.prototype.add = function (options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(options.startObject) || !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(options.stopObject)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(\n      "options.startObject and options.stopObject are required."\n    );\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(options.duration) || options.duration < 0.0) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(\n      "options.duration is required and must be positive."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  if (options.duration === 0.0) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(options.complete)) {\n      options.complete();\n    }\n    return new Tween(this);\n  }\n\n  var duration = options.duration / _Core_TimeConstants_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].SECONDS_PER_MILLISECOND */ .Z.SECONDS_PER_MILLISECOND;\n  var delayInSeconds = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.delay, 0.0);\n  var delay = delayInSeconds / _Core_TimeConstants_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].SECONDS_PER_MILLISECOND */ .Z.SECONDS_PER_MILLISECOND;\n  var easingFunction = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(\n    options.easingFunction,\n    _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].LINEAR_NONE */ .Z.LINEAR_NONE\n  );\n\n  var value = options.startObject;\n  var tweenjs = new _ThirdParty_Tween_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].Tween */ .Z.Tween(value);\n  tweenjs.to((0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.stopObject), duration);\n  tweenjs.delay(delay);\n  tweenjs.easing(easingFunction);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(options.update)) {\n    tweenjs.onUpdate(function () {\n      options.update(value);\n    });\n  }\n  tweenjs.onComplete((0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.complete, null));\n  tweenjs.repeat((0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options._repeat, 0.0));\n\n  var tween = new Tween(\n    this,\n    tweenjs,\n    options.startObject,\n    options.stopObject,\n    options.duration,\n    delayInSeconds,\n    easingFunction,\n    options.update,\n    options.complete,\n    options.cancel\n  );\n  this._tweens.push(tween);\n  return tween;\n};\n\n/**\n * Creates a tween for animating a scalar property on the given object.  The tween starts animating at the next call to {@link TweenCollection#update}, which\n * is implicit when {@link Viewer} or {@link CesiumWidget} render the scene.\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Object} options.object The object containing the property to animate.\n * @param {String} options.property The name of the property to animate.\n * @param {Number} options.startValue The initial value.\n * @param {Number} options.stopValue The final value.\n * @param {Number} [options.duration=3.0] The duration, in seconds, for the tween.  The tween is automatically removed from the collection when it stops.\n * @param {Number} [options.delay=0.0] The delay, in seconds, before the tween starts animating.\n * @param {EasingFunction} [options.easingFunction=EasingFunction.LINEAR_NONE] Determines the curve for animtion.\n * @param {TweenCollection.TweenUpdateCallback} [options.update] The callback to call at each animation update (usually tied to the a rendered frame).\n * @param {TweenCollection.TweenCompleteCallback} [options.complete] The callback to call when the tween finishes animating.\n * @param {TweenCollection.TweenCancelledCallback} [options.cancel] The callback to call if the tween is canceled either because {@link Tween#cancelTween} was called or because the tween was removed from the collection.\n * @returns {Tween} The tween.\n *\n * @exception {DeveloperError} options.object must have the specified property.\n * @exception {DeveloperError} options.duration must be positive.\n */\nTweenCollection.prototype.addProperty = function (options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var object = options.object;\n  var property = options.property;\n  var startValue = options.startValue;\n  var stopValue = options.stopValue;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(object) || !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(options.property)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(\n      "options.object and options.property are required."\n    );\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(object[property])) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(\n      "options.object must have the specified property."\n    );\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(startValue) || !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(stopValue)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(\n      "options.startValue and options.stopValue are required."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  function update(value) {\n    object[property] = value.value;\n  }\n\n  return this.add({\n    startObject: {\n      value: startValue,\n    },\n    stopObject: {\n      value: stopValue,\n    },\n    duration: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.duration, 3.0),\n    delay: options.delay,\n    easingFunction: options.easingFunction,\n    update: update,\n    complete: options.complete,\n    cancel: options.cancel,\n    _repeat: options._repeat,\n  });\n};\n\n/**\n * Creates a tween for animating the alpha of all color uniforms on a {@link Material}.  The tween starts animating at the next call to {@link TweenCollection#update}, which\n * is implicit when {@link Viewer} or {@link CesiumWidget} render the scene.\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Material} options.material The material to animate.\n * @param {Number} [options.startValue=0.0] The initial alpha value.\n * @param {Number} [options.stopValue=1.0] The final alpha value.\n * @param {Number} [options.duration=3.0] The duration, in seconds, for the tween.  The tween is automatically removed from the collection when it stops.\n * @param {Number} [options.delay=0.0] The delay, in seconds, before the tween starts animating.\n * @param {EasingFunction} [options.easingFunction=EasingFunction.LINEAR_NONE] Determines the curve for animtion.\n * @param {TweenCollection.TweenUpdateCallback} [options.update] The callback to call at each animation update (usually tied to the a rendered frame).\n * @param {TweenCollection.TweenCompleteCallback} [options.complete] The callback to call when the tween finishes animating.\n * @param {TweenCollection.TweenCancelledCallback} [options.cancel] The callback to call if the tween is canceled either because {@link Tween#cancelTween} was called or because the tween was removed from the collection.\n * @returns {Tween} The tween.\n *\n * @exception {DeveloperError} material has no properties with alpha components.\n * @exception {DeveloperError} options.duration must be positive.\n */\nTweenCollection.prototype.addAlpha = function (options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var material = options.material;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(material)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("options.material is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var properties = [];\n\n  for (var property in material.uniforms) {\n    if (\n      material.uniforms.hasOwnProperty(property) &&\n      (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(material.uniforms[property]) &&\n      (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(material.uniforms[property].alpha)\n    ) {\n      properties.push(property);\n    }\n  }\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (properties.length === 0) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(\n      "material has no properties with alpha components."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  function update(value) {\n    var length = properties.length;\n    for (var i = 0; i < length; ++i) {\n      material.uniforms[properties[i]].alpha = value.alpha;\n    }\n  }\n\n  return this.add({\n    startObject: {\n      alpha: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.startValue, 0.0), // Default to fade in\n    },\n    stopObject: {\n      alpha: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.stopValue, 1.0),\n    },\n    duration: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.duration, 3.0),\n    delay: options.delay,\n    easingFunction: options.easingFunction,\n    update: update,\n    complete: options.complete,\n    cancel: options.cancel,\n  });\n};\n\n/**\n * Creates a tween for animating the offset uniform of a {@link Material}.  The tween starts animating at the next call to {@link TweenCollection#update}, which\n * is implicit when {@link Viewer} or {@link CesiumWidget} render the scene.\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Material} options.material The material to animate.\n * @param {Number} options.startValue The initial alpha value.\n * @param {Number} options.stopValue The final alpha value.\n * @param {Number} [options.duration=3.0] The duration, in seconds, for the tween.  The tween is automatically removed from the collection when it stops.\n * @param {Number} [options.delay=0.0] The delay, in seconds, before the tween starts animating.\n * @param {EasingFunction} [options.easingFunction=EasingFunction.LINEAR_NONE] Determines the curve for animtion.\n * @param {TweenCollection.TweenUpdateCallback} [options.update] The callback to call at each animation update (usually tied to the a rendered frame).\n * @param {TweenCollection.TweenCancelledCallback} [options.cancel] The callback to call if the tween is canceled either because {@link Tween#cancelTween} was called or because the tween was removed from the collection.\n * @returns {Tween} The tween.\n *\n * @exception {DeveloperError} material.uniforms must have an offset property.\n * @exception {DeveloperError} options.duration must be positive.\n */\nTweenCollection.prototype.addOffsetIncrement = function (options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var material = options.material;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(material)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("material is required.");\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(material.uniforms.offset)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("material.uniforms must have an offset property.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var uniforms = material.uniforms;\n  return this.addProperty({\n    object: uniforms,\n    property: "offset",\n    startValue: uniforms.offset,\n    stopValue: uniforms.offset + 1,\n    duration: options.duration,\n    delay: options.delay,\n    easingFunction: options.easingFunction,\n    update: options.update,\n    cancel: options.cancel,\n    _repeat: Infinity,\n  });\n};\n\n/**\n * Removes a tween from the collection.\n * <p>\n * This calls the {@link Tween#cancel} callback if the tween has one.\n * </p>\n *\n * @param {Tween} tween The tween to remove.\n * @returns {Boolean} <code>true</code> if the tween was removed; <code>false</code> if the tween was not found in the collection.\n */\nTweenCollection.prototype.remove = function (tween) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(tween)) {\n    return false;\n  }\n\n  var index = this._tweens.indexOf(tween);\n  if (index !== -1) {\n    tween.tweenjs.stop();\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(tween.cancel)) {\n      tween.cancel();\n    }\n    this._tweens.splice(index, 1);\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Removes all tweens from the collection.\n * <p>\n * This calls the {@link Tween#cancel} callback for each tween that has one.\n * </p>\n */\nTweenCollection.prototype.removeAll = function () {\n  var tweens = this._tweens;\n\n  for (var i = 0; i < tweens.length; ++i) {\n    var tween = tweens[i];\n    tween.tweenjs.stop();\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(tween.cancel)) {\n      tween.cancel();\n    }\n  }\n  tweens.length = 0;\n};\n\n/**\n * Determines whether this collection contains a given tween.\n *\n * @param {Tween} tween The tween to check for.\n * @returns {Boolean} <code>true</code> if this collection contains the tween, <code>false</code> otherwise.\n */\nTweenCollection.prototype.contains = function (tween) {\n  return (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(tween) && this._tweens.indexOf(tween) !== -1;\n};\n\n/**\n * Returns the tween in the collection at the specified index.  Indices are zero-based\n * and increase as tweens are added.  Removing a tween shifts all tweens after\n * it to the left, changing their indices.  This function is commonly used to iterate over\n * all the tween in the collection.\n *\n * @param {Number} index The zero-based index of the tween.\n * @returns {Tween} The tween at the specified index.\n *\n * @example\n * // Output the duration of all the tweens in the collection.\n * var tweens = scene.tweens;\n * var length = tweens.length;\n * for (var i = 0; i < length; ++i) {\n *   console.log(tweens.get(i).duration);\n * }\n */\nTweenCollection.prototype.get = function (index) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(index)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("index is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  return this._tweens[index];\n};\n\n/**\n * Updates the tweens in the collection to be at the provide time.  When a tween finishes, it is removed\n * from the collection.\n *\n * @param {Number} [time=getTimestamp()] The time in seconds.  By default tweens are synced to the system clock.\n */\nTweenCollection.prototype.update = function (time) {\n  var tweens = this._tweens;\n\n  var i = 0;\n  time = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(time)\n    ? time / _Core_TimeConstants_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].SECONDS_PER_MILLISECOND */ .Z.SECONDS_PER_MILLISECOND\n    : (0,_Core_getTimestamp_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)();\n  while (i < tweens.length) {\n    var tween = tweens[i];\n    var tweenjs = tween.tweenjs;\n\n    if (tween.needsStart) {\n      tween.needsStart = false;\n      tweenjs.start(time);\n    } else if (tweenjs.update(time)) {\n      i++;\n    } else {\n      tweenjs.stop();\n      tweens.splice(i, 1);\n    }\n  }\n};\n\n/**\n * A function that will execute when a tween completes.\n * @callback TweenCollection.TweenCompleteCallback\n */\n\n/**\n * A function that will execute when a tween updates.\n * @callback TweenCollection.TweenUpdateCallback\n */\n\n/**\n * A function that will execute when a tween is cancelled.\n * @callback TweenCollection.TweenCancelledCallback\n */\n/* harmony default export */ __webpack_exports__["Z"] = (TweenCollection);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyxxRUFBTztBQUNoQixhQUFhLHVIQUFxQztBQUNsRCxNQUFNLDBFQUFZO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUFlLGVBQWUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9Ud2VlbkNvbGxlY3Rpb24uanM/NGIwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xvbmUgZnJvbSBcIi4uL0NvcmUvY2xvbmUuanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBFYXNpbmdGdW5jdGlvbiBmcm9tIFwiLi4vQ29yZS9FYXNpbmdGdW5jdGlvbi5qc1wiO1xuaW1wb3J0IGdldFRpbWVzdGFtcCBmcm9tIFwiLi4vQ29yZS9nZXRUaW1lc3RhbXAuanNcIjtcbmltcG9ydCBUaW1lQ29uc3RhbnRzIGZyb20gXCIuLi9Db3JlL1RpbWVDb25zdGFudHMuanNcIjtcbmltcG9ydCBUd2VlbkpTIGZyb20gXCIuLi9UaGlyZFBhcnR5L1R3ZWVuLmpzXCI7XG5cbi8qKlxuICogQSB0d2VlbiBpcyBhbiBhbmltYXRpb24gdGhhdCBpbnRlcnBvbGF0ZXMgdGhlIHByb3BlcnRpZXMgb2YgdHdvIG9iamVjdHMgdXNpbmcgYW4ge0BsaW5rIEVhc2luZ0Z1bmN0aW9ufS4gIENyZWF0ZVxuICogb25lIHVzaW5nIHtAbGluayBTY2VuZSN0d2VlbnN9IGFuZCB7QGxpbmsgVHdlZW5Db2xsZWN0aW9uI2FkZH0gYW5kIHJlbGF0ZWQgYWRkIGZ1bmN0aW9ucy5cbiAqXG4gKiBAYWxpYXMgVHdlZW5cbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFR3ZWVuKFxuICB0d2VlbnMsXG4gIHR3ZWVuanMsXG4gIHN0YXJ0T2JqZWN0LFxuICBzdG9wT2JqZWN0LFxuICBkdXJhdGlvbixcbiAgZGVsYXksXG4gIGVhc2luZ0Z1bmN0aW9uLFxuICB1cGRhdGUsXG4gIGNvbXBsZXRlLFxuICBjYW5jZWxcbikge1xuICB0aGlzLl90d2VlbnMgPSB0d2VlbnM7XG4gIHRoaXMuX3R3ZWVuanMgPSB0d2VlbmpzO1xuXG4gIHRoaXMuX3N0YXJ0T2JqZWN0ID0gY2xvbmUoc3RhcnRPYmplY3QpO1xuICB0aGlzLl9zdG9wT2JqZWN0ID0gY2xvbmUoc3RvcE9iamVjdCk7XG5cbiAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgdGhpcy5fZGVsYXkgPSBkZWxheTtcbiAgdGhpcy5fZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmdGdW5jdGlvbjtcblxuICB0aGlzLl91cGRhdGUgPSB1cGRhdGU7XG4gIHRoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayB0byBjYWxsIGlmIHRoZSB0d2VlbiBpcyBjYW5jZWxlZCBlaXRoZXIgYmVjYXVzZSB7QGxpbmsgVHdlZW4jY2FuY2VsVHdlZW59XG4gICAqIHdhcyBjYWxsZWQgb3IgYmVjYXVzZSB0aGUgdHdlZW4gd2FzIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHR5cGUge1R3ZWVuQ29sbGVjdGlvbi5Ud2VlbkNhbmNlbGxlZENhbGxiYWNrfVxuICAgKi9cbiAgdGhpcy5jYW5jZWwgPSBjYW5jZWw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm5lZWRzU3RhcnQgPSB0cnVlO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUd2Vlbi5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgZm9yIGluaXRpYWwgdmFsdWVzIG9mIHRoZSB0d2Vlbi4gIFRoZSBwcm9wZXJ0aWVzIG9mIHRoaXMgb2JqZWN0IGFyZSBjaGFuZ2VkIGR1cmluZyB0aGUgdHdlZW4ncyBhbmltYXRpb24uXG4gICAqIEBtZW1iZXJvZiBUd2Vlbi5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBzdGFydE9iamVjdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0T2JqZWN0O1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgZm9yIHRoZSBmaW5hbCB2YWx1ZXMgb2YgdGhlIHR3ZWVuLlxuICAgKiBAbWVtYmVyb2YgVHdlZW4ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgc3RvcE9iamVjdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0b3BPYmplY3Q7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGR1cmF0aW9uLCBpbiBzZWNvbmRzLCBmb3IgdGhlIHR3ZWVuLiAgVGhlIHR3ZWVuIGlzIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uIHdoZW4gaXQgc3RvcHMuXG4gICAqIEBtZW1iZXJvZiBUd2Vlbi5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBkdXJhdGlvbjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2R1cmF0aW9uO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBkZWxheSwgaW4gc2Vjb25kcywgYmVmb3JlIHRoZSB0d2VlbiBzdGFydHMgYW5pbWF0aW5nLlxuICAgKiBAbWVtYmVyb2YgVHdlZW4ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZGVsYXk6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWxheTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBjdXJ2ZSBmb3IgYW5pbXRpb24uXG4gICAqIEBtZW1iZXJvZiBUd2Vlbi5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Vhc2luZ0Z1bmN0aW9ufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGVhc2luZ0Z1bmN0aW9uOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZWFzaW5nRnVuY3Rpb247XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIHRvIGNhbGwgYXQgZWFjaCBhbmltYXRpb24gdXBkYXRlICh1c3VhbGx5IHRpZWQgdG8gdGhlIGEgcmVuZGVyZWQgZnJhbWUpLlxuICAgKiBAbWVtYmVyb2YgVHdlZW4ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtUd2VlbkNvbGxlY3Rpb24uVHdlZW5VcGRhdGVDYWxsYmFja31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB1cGRhdGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl91cGRhdGU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiB0aGUgdHdlZW4gZmluaXNoZXMgYW5pbWF0aW5nLlxuICAgKiBAbWVtYmVyb2YgVHdlZW4ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtUd2VlbkNvbGxlY3Rpb24uVHdlZW5Db21wbGV0ZUNhbGxiYWNrfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGNvbXBsZXRlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29tcGxldGU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogQG1lbWJlcm9mIFR3ZWVuLnByb3RvdHlwZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHdlZW5qczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3R3ZWVuanM7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIENhbmNlbHMgdGhlIHR3ZWVuIGNhbGxpbmcgdGhlIHtAbGluayBUd2VlbiNjYW5jZWx9IGNhbGxiYWNrIGlmIG9uZSBleGlzdHMuICBUaGlzXG4gKiBoYXMgbm8gZWZmZWN0IGlmIHRoZSB0d2VlbiBmaW5pc2hlZCBvciB3YXMgYWxyZWFkeSBjYW5jZWxlZC5cbiAqL1xuVHdlZW4ucHJvdG90eXBlLmNhbmNlbFR3ZWVuID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl90d2VlbnMucmVtb3ZlKHRoaXMpO1xufTtcblxuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2YgdHdlZW5zIGZvciBhbmltYXRpbmcgcHJvcGVydGllcy4gIENvbW1vbmx5IGFjY2Vzc2VkIHVzaW5nIHtAbGluayBTY2VuZSN0d2VlbnN9LlxuICpcbiAqIEBhbGlhcyBUd2VlbkNvbGxlY3Rpb25cbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFR3ZWVuQ29sbGVjdGlvbigpIHtcbiAgdGhpcy5fdHdlZW5zID0gW107XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFR3ZWVuQ29sbGVjdGlvbi5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgdHdlZW5zIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAbWVtYmVyb2YgVHdlZW5Db2xsZWN0aW9uLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGxlbmd0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3R3ZWVucy5sZW5ndGg7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0d2VlbiBmb3IgYW5pbWF0aW5nIGJldHdlZW4gdHdvIHNldHMgb2YgcHJvcGVydGllcy4gIFRoZSB0d2VlbiBzdGFydHMgYW5pbWF0aW5nIGF0IHRoZSBuZXh0IGNhbGwgdG8ge0BsaW5rIFR3ZWVuQ29sbGVjdGlvbiN1cGRhdGV9LCB3aGljaFxuICogaXMgaW1wbGljaXQgd2hlbiB7QGxpbmsgVmlld2VyfSBvciB7QGxpbmsgQ2VzaXVtV2lkZ2V0fSByZW5kZXIgdGhlIHNjZW5lLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuc3RhcnRPYmplY3QgQW4gb2JqZWN0IHdpdGggcHJvcGVydGllcyBmb3IgaW5pdGlhbCB2YWx1ZXMgb2YgdGhlIHR3ZWVuLiAgVGhlIHByb3BlcnRpZXMgb2YgdGhpcyBvYmplY3QgYXJlIGNoYW5nZWQgZHVyaW5nIHRoZSB0d2VlbidzIGFuaW1hdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnN0b3BPYmplY3QgQW4gb2JqZWN0IHdpdGggcHJvcGVydGllcyBmb3IgdGhlIGZpbmFsIHZhbHVlcyBvZiB0aGUgdHdlZW4uXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5kdXJhdGlvbiBUaGUgZHVyYXRpb24sIGluIHNlY29uZHMsIGZvciB0aGUgdHdlZW4uICBUaGUgdHdlZW4gaXMgYXV0b21hdGljYWxseSByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24gd2hlbiBpdCBzdG9wcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kZWxheT0wLjBdIFRoZSBkZWxheSwgaW4gc2Vjb25kcywgYmVmb3JlIHRoZSB0d2VlbiBzdGFydHMgYW5pbWF0aW5nLlxuICogQHBhcmFtIHtFYXNpbmdGdW5jdGlvbn0gW29wdGlvbnMuZWFzaW5nRnVuY3Rpb249RWFzaW5nRnVuY3Rpb24uTElORUFSX05PTkVdIERldGVybWluZXMgdGhlIGN1cnZlIGZvciBhbmltdGlvbi5cbiAqIEBwYXJhbSB7VHdlZW5Db2xsZWN0aW9uLlR3ZWVuVXBkYXRlQ2FsbGJhY2t9IFtvcHRpb25zLnVwZGF0ZV0gVGhlIGNhbGxiYWNrIHRvIGNhbGwgYXQgZWFjaCBhbmltYXRpb24gdXBkYXRlICh1c3VhbGx5IHRpZWQgdG8gdGhlIGEgcmVuZGVyZWQgZnJhbWUpLlxuICogQHBhcmFtIHtUd2VlbkNvbGxlY3Rpb24uVHdlZW5Db21wbGV0ZUNhbGxiYWNrfSBbb3B0aW9ucy5jb21wbGV0ZV0gVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiB0aGUgdHdlZW4gZmluaXNoZXMgYW5pbWF0aW5nLlxuICogQHBhcmFtIHtUd2VlbkNvbGxlY3Rpb24uVHdlZW5DYW5jZWxsZWRDYWxsYmFja30gW29wdGlvbnMuY2FuY2VsXSBUaGUgY2FsbGJhY2sgdG8gY2FsbCBpZiB0aGUgdHdlZW4gaXMgY2FuY2VsZWQgZWl0aGVyIGJlY2F1c2Uge0BsaW5rIFR3ZWVuI2NhbmNlbFR3ZWVufSB3YXMgY2FsbGVkIG9yIGJlY2F1c2UgdGhlIHR3ZWVuIHdhcyByZW1vdmVkIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gKiBAcmV0dXJucyB7VHdlZW59IFRoZSB0d2Vlbi5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gb3B0aW9ucy5kdXJhdGlvbiBtdXN0IGJlIHBvc2l0aXZlLlxuICovXG5Ud2VlbkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKG9wdGlvbnMuc3RhcnRPYmplY3QpIHx8ICFkZWZpbmVkKG9wdGlvbnMuc3RvcE9iamVjdCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcIm9wdGlvbnMuc3RhcnRPYmplY3QgYW5kIG9wdGlvbnMuc3RvcE9iamVjdCBhcmUgcmVxdWlyZWQuXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKG9wdGlvbnMuZHVyYXRpb24pIHx8IG9wdGlvbnMuZHVyYXRpb24gPCAwLjApIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcIm9wdGlvbnMuZHVyYXRpb24gaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgcG9zaXRpdmUuXCJcbiAgICApO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIGlmIChvcHRpb25zLmR1cmF0aW9uID09PSAwLjApIHtcbiAgICBpZiAoZGVmaW5lZChvcHRpb25zLmNvbXBsZXRlKSkge1xuICAgICAgb3B0aW9ucy5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFR3ZWVuKHRoaXMpO1xuICB9XG5cbiAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAvIFRpbWVDb25zdGFudHMuU0VDT05EU19QRVJfTUlMTElTRUNPTkQ7XG4gIHZhciBkZWxheUluU2Vjb25kcyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmRlbGF5LCAwLjApO1xuICB2YXIgZGVsYXkgPSBkZWxheUluU2Vjb25kcyAvIFRpbWVDb25zdGFudHMuU0VDT05EU19QRVJfTUlMTElTRUNPTkQ7XG4gIHZhciBlYXNpbmdGdW5jdGlvbiA9IGRlZmF1bHRWYWx1ZShcbiAgICBvcHRpb25zLmVhc2luZ0Z1bmN0aW9uLFxuICAgIEVhc2luZ0Z1bmN0aW9uLkxJTkVBUl9OT05FXG4gICk7XG5cbiAgdmFyIHZhbHVlID0gb3B0aW9ucy5zdGFydE9iamVjdDtcbiAgdmFyIHR3ZWVuanMgPSBuZXcgVHdlZW5KUy5Ud2Vlbih2YWx1ZSk7XG4gIHR3ZWVuanMudG8oY2xvbmUob3B0aW9ucy5zdG9wT2JqZWN0KSwgZHVyYXRpb24pO1xuICB0d2VlbmpzLmRlbGF5KGRlbGF5KTtcbiAgdHdlZW5qcy5lYXNpbmcoZWFzaW5nRnVuY3Rpb24pO1xuICBpZiAoZGVmaW5lZChvcHRpb25zLnVwZGF0ZSkpIHtcbiAgICB0d2VlbmpzLm9uVXBkYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIG9wdGlvbnMudXBkYXRlKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuICB0d2VlbmpzLm9uQ29tcGxldGUoZGVmYXVsdFZhbHVlKG9wdGlvbnMuY29tcGxldGUsIG51bGwpKTtcbiAgdHdlZW5qcy5yZXBlYXQoZGVmYXVsdFZhbHVlKG9wdGlvbnMuX3JlcGVhdCwgMC4wKSk7XG5cbiAgdmFyIHR3ZWVuID0gbmV3IFR3ZWVuKFxuICAgIHRoaXMsXG4gICAgdHdlZW5qcyxcbiAgICBvcHRpb25zLnN0YXJ0T2JqZWN0LFxuICAgIG9wdGlvbnMuc3RvcE9iamVjdCxcbiAgICBvcHRpb25zLmR1cmF0aW9uLFxuICAgIGRlbGF5SW5TZWNvbmRzLFxuICAgIGVhc2luZ0Z1bmN0aW9uLFxuICAgIG9wdGlvbnMudXBkYXRlLFxuICAgIG9wdGlvbnMuY29tcGxldGUsXG4gICAgb3B0aW9ucy5jYW5jZWxcbiAgKTtcbiAgdGhpcy5fdHdlZW5zLnB1c2godHdlZW4pO1xuICByZXR1cm4gdHdlZW47XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0d2VlbiBmb3IgYW5pbWF0aW5nIGEgc2NhbGFyIHByb3BlcnR5IG9uIHRoZSBnaXZlbiBvYmplY3QuICBUaGUgdHdlZW4gc3RhcnRzIGFuaW1hdGluZyBhdCB0aGUgbmV4dCBjYWxsIHRvIHtAbGluayBUd2VlbkNvbGxlY3Rpb24jdXBkYXRlfSwgd2hpY2hcbiAqIGlzIGltcGxpY2l0IHdoZW4ge0BsaW5rIFZpZXdlcn0gb3Ige0BsaW5rIENlc2l1bVdpZGdldH0gcmVuZGVyIHRoZSBzY2VuZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLm9iamVjdCBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHByb3BlcnR5IHRvIGFuaW1hdGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5wcm9wZXJ0eSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYW5pbWF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnN0YXJ0VmFsdWUgVGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5zdG9wVmFsdWUgVGhlIGZpbmFsIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uPTMuMF0gVGhlIGR1cmF0aW9uLCBpbiBzZWNvbmRzLCBmb3IgdGhlIHR3ZWVuLiAgVGhlIHR3ZWVuIGlzIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uIHdoZW4gaXQgc3RvcHMuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGVsYXk9MC4wXSBUaGUgZGVsYXksIGluIHNlY29uZHMsIGJlZm9yZSB0aGUgdHdlZW4gc3RhcnRzIGFuaW1hdGluZy5cbiAqIEBwYXJhbSB7RWFzaW5nRnVuY3Rpb259IFtvcHRpb25zLmVhc2luZ0Z1bmN0aW9uPUVhc2luZ0Z1bmN0aW9uLkxJTkVBUl9OT05FXSBEZXRlcm1pbmVzIHRoZSBjdXJ2ZSBmb3IgYW5pbXRpb24uXG4gKiBAcGFyYW0ge1R3ZWVuQ29sbGVjdGlvbi5Ud2VlblVwZGF0ZUNhbGxiYWNrfSBbb3B0aW9ucy51cGRhdGVdIFRoZSBjYWxsYmFjayB0byBjYWxsIGF0IGVhY2ggYW5pbWF0aW9uIHVwZGF0ZSAodXN1YWxseSB0aWVkIHRvIHRoZSBhIHJlbmRlcmVkIGZyYW1lKS5cbiAqIEBwYXJhbSB7VHdlZW5Db2xsZWN0aW9uLlR3ZWVuQ29tcGxldGVDYWxsYmFja30gW29wdGlvbnMuY29tcGxldGVdIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW4gdGhlIHR3ZWVuIGZpbmlzaGVzIGFuaW1hdGluZy5cbiAqIEBwYXJhbSB7VHdlZW5Db2xsZWN0aW9uLlR3ZWVuQ2FuY2VsbGVkQ2FsbGJhY2t9IFtvcHRpb25zLmNhbmNlbF0gVGhlIGNhbGxiYWNrIHRvIGNhbGwgaWYgdGhlIHR3ZWVuIGlzIGNhbmNlbGVkIGVpdGhlciBiZWNhdXNlIHtAbGluayBUd2VlbiNjYW5jZWxUd2Vlbn0gd2FzIGNhbGxlZCBvciBiZWNhdXNlIHRoZSB0d2VlbiB3YXMgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICogQHJldHVybnMge1R3ZWVufSBUaGUgdHdlZW4uXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IG9wdGlvbnMub2JqZWN0IG11c3QgaGF2ZSB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IG9wdGlvbnMuZHVyYXRpb24gbXVzdCBiZSBwb3NpdGl2ZS5cbiAqL1xuVHdlZW5Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgdmFyIG9iamVjdCA9IG9wdGlvbnMub2JqZWN0O1xuICB2YXIgcHJvcGVydHkgPSBvcHRpb25zLnByb3BlcnR5O1xuICB2YXIgc3RhcnRWYWx1ZSA9IG9wdGlvbnMuc3RhcnRWYWx1ZTtcbiAgdmFyIHN0b3BWYWx1ZSA9IG9wdGlvbnMuc3RvcFZhbHVlO1xuXG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChvYmplY3QpIHx8ICFkZWZpbmVkKG9wdGlvbnMucHJvcGVydHkpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFxuICAgICAgXCJvcHRpb25zLm9iamVjdCBhbmQgb3B0aW9ucy5wcm9wZXJ0eSBhcmUgcmVxdWlyZWQuXCJcbiAgICApO1xuICB9XG4gIGlmICghZGVmaW5lZChvYmplY3RbcHJvcGVydHldKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIFwib3B0aW9ucy5vYmplY3QgbXVzdCBoYXZlIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkuXCJcbiAgICApO1xuICB9XG4gIGlmICghZGVmaW5lZChzdGFydFZhbHVlKSB8fCAhZGVmaW5lZChzdG9wVmFsdWUpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFxuICAgICAgXCJvcHRpb25zLnN0YXJ0VmFsdWUgYW5kIG9wdGlvbnMuc3RvcFZhbHVlIGFyZSByZXF1aXJlZC5cIlxuICAgICk7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHZhbHVlKSB7XG4gICAgb2JqZWN0W3Byb3BlcnR5XSA9IHZhbHVlLnZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuYWRkKHtcbiAgICBzdGFydE9iamVjdDoge1xuICAgICAgdmFsdWU6IHN0YXJ0VmFsdWUsXG4gICAgfSxcbiAgICBzdG9wT2JqZWN0OiB7XG4gICAgICB2YWx1ZTogc3RvcFZhbHVlLFxuICAgIH0sXG4gICAgZHVyYXRpb246IGRlZmF1bHRWYWx1ZShvcHRpb25zLmR1cmF0aW9uLCAzLjApLFxuICAgIGRlbGF5OiBvcHRpb25zLmRlbGF5LFxuICAgIGVhc2luZ0Z1bmN0aW9uOiBvcHRpb25zLmVhc2luZ0Z1bmN0aW9uLFxuICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgIGNvbXBsZXRlOiBvcHRpb25zLmNvbXBsZXRlLFxuICAgIGNhbmNlbDogb3B0aW9ucy5jYW5jZWwsXG4gICAgX3JlcGVhdDogb3B0aW9ucy5fcmVwZWF0LFxuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHR3ZWVuIGZvciBhbmltYXRpbmcgdGhlIGFscGhhIG9mIGFsbCBjb2xvciB1bmlmb3JtcyBvbiBhIHtAbGluayBNYXRlcmlhbH0uICBUaGUgdHdlZW4gc3RhcnRzIGFuaW1hdGluZyBhdCB0aGUgbmV4dCBjYWxsIHRvIHtAbGluayBUd2VlbkNvbGxlY3Rpb24jdXBkYXRlfSwgd2hpY2hcbiAqIGlzIGltcGxpY2l0IHdoZW4ge0BsaW5rIFZpZXdlcn0gb3Ige0BsaW5rIENlc2l1bVdpZGdldH0gcmVuZGVyIHRoZSBzY2VuZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG9wdGlvbnMubWF0ZXJpYWwgVGhlIG1hdGVyaWFsIHRvIGFuaW1hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc3RhcnRWYWx1ZT0wLjBdIFRoZSBpbml0aWFsIGFscGhhIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnN0b3BWYWx1ZT0xLjBdIFRoZSBmaW5hbCBhbHBoYSB2YWx1ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbj0zLjBdIFRoZSBkdXJhdGlvbiwgaW4gc2Vjb25kcywgZm9yIHRoZSB0d2Vlbi4gIFRoZSB0d2VlbiBpcyBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbiB3aGVuIGl0IHN0b3BzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmRlbGF5PTAuMF0gVGhlIGRlbGF5LCBpbiBzZWNvbmRzLCBiZWZvcmUgdGhlIHR3ZWVuIHN0YXJ0cyBhbmltYXRpbmcuXG4gKiBAcGFyYW0ge0Vhc2luZ0Z1bmN0aW9ufSBbb3B0aW9ucy5lYXNpbmdGdW5jdGlvbj1FYXNpbmdGdW5jdGlvbi5MSU5FQVJfTk9ORV0gRGV0ZXJtaW5lcyB0aGUgY3VydmUgZm9yIGFuaW10aW9uLlxuICogQHBhcmFtIHtUd2VlbkNvbGxlY3Rpb24uVHdlZW5VcGRhdGVDYWxsYmFja30gW29wdGlvbnMudXBkYXRlXSBUaGUgY2FsbGJhY2sgdG8gY2FsbCBhdCBlYWNoIGFuaW1hdGlvbiB1cGRhdGUgKHVzdWFsbHkgdGllZCB0byB0aGUgYSByZW5kZXJlZCBmcmFtZSkuXG4gKiBAcGFyYW0ge1R3ZWVuQ29sbGVjdGlvbi5Ud2VlbkNvbXBsZXRlQ2FsbGJhY2t9IFtvcHRpb25zLmNvbXBsZXRlXSBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSB0d2VlbiBmaW5pc2hlcyBhbmltYXRpbmcuXG4gKiBAcGFyYW0ge1R3ZWVuQ29sbGVjdGlvbi5Ud2VlbkNhbmNlbGxlZENhbGxiYWNrfSBbb3B0aW9ucy5jYW5jZWxdIFRoZSBjYWxsYmFjayB0byBjYWxsIGlmIHRoZSB0d2VlbiBpcyBjYW5jZWxlZCBlaXRoZXIgYmVjYXVzZSB7QGxpbmsgVHdlZW4jY2FuY2VsVHdlZW59IHdhcyBjYWxsZWQgb3IgYmVjYXVzZSB0aGUgdHdlZW4gd2FzIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqIEByZXR1cm5zIHtUd2Vlbn0gVGhlIHR3ZWVuLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBtYXRlcmlhbCBoYXMgbm8gcHJvcGVydGllcyB3aXRoIGFscGhhIGNvbXBvbmVudHMuXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gb3B0aW9ucy5kdXJhdGlvbiBtdXN0IGJlIHBvc2l0aXZlLlxuICovXG5Ud2VlbkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEFscGhhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICB2YXIgbWF0ZXJpYWwgPSBvcHRpb25zLm1hdGVyaWFsO1xuXG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChtYXRlcmlhbCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zLm1hdGVyaWFsIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgcHJvcGVydGllcyA9IFtdO1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIG1hdGVyaWFsLnVuaWZvcm1zKSB7XG4gICAgaWYgKFxuICAgICAgbWF0ZXJpYWwudW5pZm9ybXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpICYmXG4gICAgICBkZWZpbmVkKG1hdGVyaWFsLnVuaWZvcm1zW3Byb3BlcnR5XSkgJiZcbiAgICAgIGRlZmluZWQobWF0ZXJpYWwudW5pZm9ybXNbcHJvcGVydHldLmFscGhhKVxuICAgICkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICB9XG4gIH1cblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAocHJvcGVydGllcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcIm1hdGVyaWFsIGhhcyBubyBwcm9wZXJ0aWVzIHdpdGggYWxwaGEgY29tcG9uZW50cy5cIlxuICAgICk7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIG1hdGVyaWFsLnVuaWZvcm1zW3Byb3BlcnRpZXNbaV1dLmFscGhhID0gdmFsdWUuYWxwaGE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuYWRkKHtcbiAgICBzdGFydE9iamVjdDoge1xuICAgICAgYWxwaGE6IGRlZmF1bHRWYWx1ZShvcHRpb25zLnN0YXJ0VmFsdWUsIDAuMCksIC8vIERlZmF1bHQgdG8gZmFkZSBpblxuICAgIH0sXG4gICAgc3RvcE9iamVjdDoge1xuICAgICAgYWxwaGE6IGRlZmF1bHRWYWx1ZShvcHRpb25zLnN0b3BWYWx1ZSwgMS4wKSxcbiAgICB9LFxuICAgIGR1cmF0aW9uOiBkZWZhdWx0VmFsdWUob3B0aW9ucy5kdXJhdGlvbiwgMy4wKSxcbiAgICBkZWxheTogb3B0aW9ucy5kZWxheSxcbiAgICBlYXNpbmdGdW5jdGlvbjogb3B0aW9ucy5lYXNpbmdGdW5jdGlvbixcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICBjb21wbGV0ZTogb3B0aW9ucy5jb21wbGV0ZSxcbiAgICBjYW5jZWw6IG9wdGlvbnMuY2FuY2VsLFxuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHR3ZWVuIGZvciBhbmltYXRpbmcgdGhlIG9mZnNldCB1bmlmb3JtIG9mIGEge0BsaW5rIE1hdGVyaWFsfS4gIFRoZSB0d2VlbiBzdGFydHMgYW5pbWF0aW5nIGF0IHRoZSBuZXh0IGNhbGwgdG8ge0BsaW5rIFR3ZWVuQ29sbGVjdGlvbiN1cGRhdGV9LCB3aGljaFxuICogaXMgaW1wbGljaXQgd2hlbiB7QGxpbmsgVmlld2VyfSBvciB7QGxpbmsgQ2VzaXVtV2lkZ2V0fSByZW5kZXIgdGhlIHNjZW5lLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogQHBhcmFtIHtNYXRlcmlhbH0gb3B0aW9ucy5tYXRlcmlhbCBUaGUgbWF0ZXJpYWwgdG8gYW5pbWF0ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnN0YXJ0VmFsdWUgVGhlIGluaXRpYWwgYWxwaGEgdmFsdWUuXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5zdG9wVmFsdWUgVGhlIGZpbmFsIGFscGhhIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uPTMuMF0gVGhlIGR1cmF0aW9uLCBpbiBzZWNvbmRzLCBmb3IgdGhlIHR3ZWVuLiAgVGhlIHR3ZWVuIGlzIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uIHdoZW4gaXQgc3RvcHMuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGVsYXk9MC4wXSBUaGUgZGVsYXksIGluIHNlY29uZHMsIGJlZm9yZSB0aGUgdHdlZW4gc3RhcnRzIGFuaW1hdGluZy5cbiAqIEBwYXJhbSB7RWFzaW5nRnVuY3Rpb259IFtvcHRpb25zLmVhc2luZ0Z1bmN0aW9uPUVhc2luZ0Z1bmN0aW9uLkxJTkVBUl9OT05FXSBEZXRlcm1pbmVzIHRoZSBjdXJ2ZSBmb3IgYW5pbXRpb24uXG4gKiBAcGFyYW0ge1R3ZWVuQ29sbGVjdGlvbi5Ud2VlblVwZGF0ZUNhbGxiYWNrfSBbb3B0aW9ucy51cGRhdGVdIFRoZSBjYWxsYmFjayB0byBjYWxsIGF0IGVhY2ggYW5pbWF0aW9uIHVwZGF0ZSAodXN1YWxseSB0aWVkIHRvIHRoZSBhIHJlbmRlcmVkIGZyYW1lKS5cbiAqIEBwYXJhbSB7VHdlZW5Db2xsZWN0aW9uLlR3ZWVuQ2FuY2VsbGVkQ2FsbGJhY2t9IFtvcHRpb25zLmNhbmNlbF0gVGhlIGNhbGxiYWNrIHRvIGNhbGwgaWYgdGhlIHR3ZWVuIGlzIGNhbmNlbGVkIGVpdGhlciBiZWNhdXNlIHtAbGluayBUd2VlbiNjYW5jZWxUd2Vlbn0gd2FzIGNhbGxlZCBvciBiZWNhdXNlIHRoZSB0d2VlbiB3YXMgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICogQHJldHVybnMge1R3ZWVufSBUaGUgdHdlZW4uXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IG1hdGVyaWFsLnVuaWZvcm1zIG11c3QgaGF2ZSBhbiBvZmZzZXQgcHJvcGVydHkuXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gb3B0aW9ucy5kdXJhdGlvbiBtdXN0IGJlIHBvc2l0aXZlLlxuICovXG5Ud2VlbkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZE9mZnNldEluY3JlbWVudCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgdmFyIG1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbDtcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQobWF0ZXJpYWwpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwibWF0ZXJpYWwgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIGlmICghZGVmaW5lZChtYXRlcmlhbC51bmlmb3Jtcy5vZmZzZXQpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwibWF0ZXJpYWwudW5pZm9ybXMgbXVzdCBoYXZlIGFuIG9mZnNldCBwcm9wZXJ0eS5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHVuaWZvcm1zID0gbWF0ZXJpYWwudW5pZm9ybXM7XG4gIHJldHVybiB0aGlzLmFkZFByb3BlcnR5KHtcbiAgICBvYmplY3Q6IHVuaWZvcm1zLFxuICAgIHByb3BlcnR5OiBcIm9mZnNldFwiLFxuICAgIHN0YXJ0VmFsdWU6IHVuaWZvcm1zLm9mZnNldCxcbiAgICBzdG9wVmFsdWU6IHVuaWZvcm1zLm9mZnNldCArIDEsXG4gICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgZGVsYXk6IG9wdGlvbnMuZGVsYXksXG4gICAgZWFzaW5nRnVuY3Rpb246IG9wdGlvbnMuZWFzaW5nRnVuY3Rpb24sXG4gICAgdXBkYXRlOiBvcHRpb25zLnVwZGF0ZSxcbiAgICBjYW5jZWw6IG9wdGlvbnMuY2FuY2VsLFxuICAgIF9yZXBlYXQ6IEluZmluaXR5LFxuICB9KTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIHR3ZWVuIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gKiA8cD5cbiAqIFRoaXMgY2FsbHMgdGhlIHtAbGluayBUd2VlbiNjYW5jZWx9IGNhbGxiYWNrIGlmIHRoZSB0d2VlbiBoYXMgb25lLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7VHdlZW59IHR3ZWVuIFRoZSB0d2VlbiB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhlIHR3ZWVuIHdhcyByZW1vdmVkOyA8Y29kZT5mYWxzZTwvY29kZT4gaWYgdGhlIHR3ZWVuIHdhcyBub3QgZm91bmQgaW4gdGhlIGNvbGxlY3Rpb24uXG4gKi9cblR3ZWVuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHR3ZWVuKSB7XG4gIGlmICghZGVmaW5lZCh0d2VlbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgaW5kZXggPSB0aGlzLl90d2VlbnMuaW5kZXhPZih0d2Vlbik7XG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICB0d2Vlbi50d2VlbmpzLnN0b3AoKTtcbiAgICBpZiAoZGVmaW5lZCh0d2Vlbi5jYW5jZWwpKSB7XG4gICAgICB0d2Vlbi5jYW5jZWwoKTtcbiAgICB9XG4gICAgdGhpcy5fdHdlZW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHR3ZWVucyBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICogPHA+XG4gKiBUaGlzIGNhbGxzIHRoZSB7QGxpbmsgVHdlZW4jY2FuY2VsfSBjYWxsYmFjayBmb3IgZWFjaCB0d2VlbiB0aGF0IGhhcyBvbmUuXG4gKiA8L3A+XG4gKi9cblR3ZWVuQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdHdlZW5zID0gdGhpcy5fdHdlZW5zO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHdlZW5zLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHR3ZWVuID0gdHdlZW5zW2ldO1xuICAgIHR3ZWVuLnR3ZWVuanMuc3RvcCgpO1xuICAgIGlmIChkZWZpbmVkKHR3ZWVuLmNhbmNlbCkpIHtcbiAgICAgIHR3ZWVuLmNhbmNlbCgpO1xuICAgIH1cbiAgfVxuICB0d2VlbnMubGVuZ3RoID0gMDtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgY29sbGVjdGlvbiBjb250YWlucyBhIGdpdmVuIHR3ZWVuLlxuICpcbiAqIEBwYXJhbSB7VHdlZW59IHR3ZWVuIFRoZSB0d2VlbiB0byBjaGVjayBmb3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhpcyBjb2xsZWN0aW9uIGNvbnRhaW5zIHRoZSB0d2VlbiwgPGNvZGU+ZmFsc2U8L2NvZGU+IG90aGVyd2lzZS5cbiAqL1xuVHdlZW5Db2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh0d2Vlbikge1xuICByZXR1cm4gZGVmaW5lZCh0d2VlbikgJiYgdGhpcy5fdHdlZW5zLmluZGV4T2YodHdlZW4pICE9PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdHdlZW4gaW4gdGhlIGNvbGxlY3Rpb24gYXQgdGhlIHNwZWNpZmllZCBpbmRleC4gIEluZGljZXMgYXJlIHplcm8tYmFzZWRcbiAqIGFuZCBpbmNyZWFzZSBhcyB0d2VlbnMgYXJlIGFkZGVkLiAgUmVtb3ZpbmcgYSB0d2VlbiBzaGlmdHMgYWxsIHR3ZWVucyBhZnRlclxuICogaXQgdG8gdGhlIGxlZnQsIGNoYW5naW5nIHRoZWlyIGluZGljZXMuICBUaGlzIGZ1bmN0aW9uIGlzIGNvbW1vbmx5IHVzZWQgdG8gaXRlcmF0ZSBvdmVyXG4gKiBhbGwgdGhlIHR3ZWVuIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBUaGUgemVyby1iYXNlZCBpbmRleCBvZiB0aGUgdHdlZW4uXG4gKiBAcmV0dXJucyB7VHdlZW59IFRoZSB0d2VlbiBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBPdXRwdXQgdGhlIGR1cmF0aW9uIG9mIGFsbCB0aGUgdHdlZW5zIGluIHRoZSBjb2xsZWN0aW9uLlxuICogdmFyIHR3ZWVucyA9IHNjZW5lLnR3ZWVucztcbiAqIHZhciBsZW5ndGggPSB0d2VlbnMubGVuZ3RoO1xuICogZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICogICBjb25zb2xlLmxvZyh0d2VlbnMuZ2V0KGkpLmR1cmF0aW9uKTtcbiAqIH1cbiAqL1xuVHdlZW5Db2xsZWN0aW9uLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGluZGV4KSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcImluZGV4IGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICByZXR1cm4gdGhpcy5fdHdlZW5zW2luZGV4XTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdHdlZW5zIGluIHRoZSBjb2xsZWN0aW9uIHRvIGJlIGF0IHRoZSBwcm92aWRlIHRpbWUuICBXaGVuIGEgdHdlZW4gZmluaXNoZXMsIGl0IGlzIHJlbW92ZWRcbiAqIGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lPWdldFRpbWVzdGFtcCgpXSBUaGUgdGltZSBpbiBzZWNvbmRzLiAgQnkgZGVmYXVsdCB0d2VlbnMgYXJlIHN5bmNlZCB0byB0aGUgc3lzdGVtIGNsb2NrLlxuICovXG5Ud2VlbkNvbGxlY3Rpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gIHZhciB0d2VlbnMgPSB0aGlzLl90d2VlbnM7XG5cbiAgdmFyIGkgPSAwO1xuICB0aW1lID0gZGVmaW5lZCh0aW1lKVxuICAgID8gdGltZSAvIFRpbWVDb25zdGFudHMuU0VDT05EU19QRVJfTUlMTElTRUNPTkRcbiAgICA6IGdldFRpbWVzdGFtcCgpO1xuICB3aGlsZSAoaSA8IHR3ZWVucy5sZW5ndGgpIHtcbiAgICB2YXIgdHdlZW4gPSB0d2VlbnNbaV07XG4gICAgdmFyIHR3ZWVuanMgPSB0d2Vlbi50d2VlbmpzO1xuXG4gICAgaWYgKHR3ZWVuLm5lZWRzU3RhcnQpIHtcbiAgICAgIHR3ZWVuLm5lZWRzU3RhcnQgPSBmYWxzZTtcbiAgICAgIHR3ZWVuanMuc3RhcnQodGltZSk7XG4gICAgfSBlbHNlIGlmICh0d2VlbmpzLnVwZGF0ZSh0aW1lKSkge1xuICAgICAgaSsrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0d2VlbmpzLnN0b3AoKTtcbiAgICAgIHR3ZWVucy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGV4ZWN1dGUgd2hlbiBhIHR3ZWVuIGNvbXBsZXRlcy5cbiAqIEBjYWxsYmFjayBUd2VlbkNvbGxlY3Rpb24uVHdlZW5Db21wbGV0ZUNhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBleGVjdXRlIHdoZW4gYSB0d2VlbiB1cGRhdGVzLlxuICogQGNhbGxiYWNrIFR3ZWVuQ29sbGVjdGlvbi5Ud2VlblVwZGF0ZUNhbGxiYWNrXG4gKi9cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBleGVjdXRlIHdoZW4gYSB0d2VlbiBpcyBjYW5jZWxsZWQuXG4gKiBAY2FsbGJhY2sgVHdlZW5Db2xsZWN0aW9uLlR3ZWVuQ2FuY2VsbGVkQ2FsbGJhY2tcbiAqL1xuZXhwb3J0IGRlZmF1bHQgVHdlZW5Db2xsZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///74476\n')},24855:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60838);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(51688);\n/* harmony import */ var _Core_combine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8182);\n/* harmony import */ var _Core_Credit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52975);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(14459);\n/* harmony import */ var _Core_GeographicProjection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(39756);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(96190);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(68985);\n/* harmony import */ var _Core_WebMercatorTilingScheme_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(42423);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(13222);\n/* harmony import */ var _ImageryProvider_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(95451);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar templateRegex = /{[^}]+}/g;\n\nvar tags = {\n  x: xTag,\n  y: yTag,\n  z: zTag,\n  s: sTag,\n  reverseX: reverseXTag,\n  reverseY: reverseYTag,\n  reverseZ: reverseZTag,\n  westDegrees: westDegreesTag,\n  southDegrees: southDegreesTag,\n  eastDegrees: eastDegreesTag,\n  northDegrees: northDegreesTag,\n  westProjected: westProjectedTag,\n  southProjected: southProjectedTag,\n  eastProjected: eastProjectedTag,\n  northProjected: northProjectedTag,\n  width: widthTag,\n  height: heightTag,\n};\n\nvar pickFeaturesTags = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(tags, {\n  i: iTag,\n  j: jTag,\n  reverseI: reverseITag,\n  reverseJ: reverseJTag,\n  longitudeDegrees: longitudeDegreesTag,\n  latitudeDegrees: latitudeDegreesTag,\n  longitudeProjected: longitudeProjectedTag,\n  latitudeProjected: latitudeProjectedTag,\n  format: formatTag,\n});\n\n/**\n * @typedef {Object} UrlTemplateImageryProvider.ConstructorOptions\n *\n * Initialization options for the UrlTemplateImageryProvider constructor\n *\n * @property {Promise.<Object>|Object} [options] Object with the following properties:\n * @property {Resource|String} url  The URL template to use to request tiles.  It has the following keywords:\n * <ul>\n *     <li><code>{z}</code>: The level of the tile in the tiling scheme.  Level zero is the root of the quadtree pyramid.</li>\n *     <li><code>{x}</code>: The tile X coordinate in the tiling scheme, where 0 is the Westernmost tile.</li>\n *     <li><code>{y}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Northernmost tile.</li>\n *     <li><code>{s}</code>: One of the available subdomains, used to overcome browser limits on the number of simultaneous requests per host.</li>\n *     <li><code>{reverseX}</code>: The tile X coordinate in the tiling scheme, where 0 is the Easternmost tile.</li>\n *     <li><code>{reverseY}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Southernmost tile.</li>\n *     <li><code>{reverseZ}</code>: The level of the tile in the tiling scheme, where level zero is the maximum level of the quadtree pyramid.  In order to use reverseZ, maximumLevel must be defined.</li>\n *     <li><code>{westDegrees}</code>: The Western edge of the tile in geodetic degrees.</li>\n *     <li><code>{southDegrees}</code>: The Southern edge of the tile in geodetic degrees.</li>\n *     <li><code>{eastDegrees}</code>: The Eastern edge of the tile in geodetic degrees.</li>\n *     <li><code>{northDegrees}</code>: The Northern edge of the tile in geodetic degrees.</li>\n *     <li><code>{westProjected}</code>: The Western edge of the tile in projected coordinates of the tiling scheme.</li>\n *     <li><code>{southProjected}</code>: The Southern edge of the tile in projected coordinates of the tiling scheme.</li>\n *     <li><code>{eastProjected}</code>: The Eastern edge of the tile in projected coordinates of the tiling scheme.</li>\n *     <li><code>{northProjected}</code>: The Northern edge of the tile in projected coordinates of the tiling scheme.</li>\n *     <li><code>{width}</code>: The width of each tile in pixels.</li>\n *     <li><code>{height}</code>: The height of each tile in pixels.</li>\n * </ul>\n * @property {Resource|String} [pickFeaturesUrl] The URL template to use to pick features.  If this property is not specified,\n *                 {@link UrlTemplateImageryProvider#pickFeatures} will immediately returned undefined, indicating no\n *                 features picked.  The URL template supports all of the keywords supported by the <code>url</code>\n *                 parameter, plus the following:\n * <ul>\n *     <li><code>{i}</code>: The pixel column (horizontal coordinate) of the picked position, where the Westernmost pixel is 0.</li>\n *     <li><code>{j}</code>: The pixel row (vertical coordinate) of the picked position, where the Northernmost pixel is 0.</li>\n *     <li><code>{reverseI}</code>: The pixel column (horizontal coordinate) of the picked position, where the Easternmost pixel is 0.</li>\n *     <li><code>{reverseJ}</code>: The pixel row (vertical coordinate) of the picked position, where the Southernmost pixel is 0.</li>\n *     <li><code>{longitudeDegrees}</code>: The longitude of the picked position in degrees.</li>\n *     <li><code>{latitudeDegrees}</code>: The latitude of the picked position in degrees.</li>\n *     <li><code>{longitudeProjected}</code>: The longitude of the picked position in the projected coordinates of the tiling scheme.</li>\n *     <li><code>{latitudeProjected}</code>: The latitude of the picked position in the projected coordinates of the tiling scheme.</li>\n *     <li><code>{format}</code>: The format in which to get feature information, as specified in the {@link GetFeatureInfoFormat}.</li>\n * </ul>\n * @property {Object} [urlSchemeZeroPadding] Gets the URL scheme zero padding for each tile coordinate. The format is \'000\' where\n * each coordinate will be padded on the left with zeros to match the width of the passed string of zeros. e.g. Setting:\n * urlSchemeZeroPadding : { \'{x}\' : \'0000\'}\n * will cause an \'x\' value of 12 to return the string \'0012\' for {x} in the generated URL.\n * It the passed object has the following keywords:\n * <ul>\n *  <li> <code>{z}</code>: The zero padding for the level of the tile in the tiling scheme.</li>\n *  <li> <code>{x}</code>: The zero padding for the tile X coordinate in the tiling scheme.</li>\n *  <li> <code>{y}</code>: The zero padding for the the tile Y coordinate in the tiling scheme.</li>\n *  <li> <code>{reverseX}</code>: The zero padding for the tile reverseX coordinate in the tiling scheme.</li>\n *  <li> <code>{reverseY}</code>: The zero padding for the tile reverseY coordinate in the tiling scheme.</li>\n *  <li> <code>{reverseZ}</code>: The zero padding for the reverseZ coordinate of the tile in the tiling scheme.</li>\n * </ul>\n * @property {String|String[]} [subdomains=\'abc\'] The subdomains to use for the <code>{s}</code> placeholder in the URL template.\n *                          If this parameter is a single string, each character in the string is a subdomain.  If it is\n *                          an array, each element in the array is a subdomain.\n * @property {Credit|String} [credit=\'\'] A credit for the data source, which is displayed on the canvas.\n * @property {Number} [minimumLevel=0] The minimum level-of-detail supported by the imagery provider.  Take care when specifying\n *                 this that the number of tiles at the minimum level is small, such as four or less.  A larger number is likely\n *                 to result in rendering problems.\n * @property {Number} [maximumLevel] The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n * @property {Rectangle} [rectangle=Rectangle.MAX_VALUE] The rectangle, in radians, covered by the image.\n * @property {TilingScheme} [tilingScheme=WebMercatorTilingScheme] The tiling scheme specifying how the ellipsoidal\n * surface is broken into tiles.  If this parameter is not provided, a {@link WebMercatorTilingScheme}\n * is used.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If the tilingScheme is specified,\n *                    this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither\n *                    parameter is specified, the WGS84 ellipsoid is used.\n * @property {Number} [tileWidth=256] Pixel width of image tiles.\n * @property {Number} [tileHeight=256] Pixel height of image tiles.\n * @property {Boolean} [hasAlphaChannel=true] true if the images provided by this imagery provider\n *                  include an alpha channel; otherwise, false.  If this property is false, an alpha channel, if\n *                  present, will be ignored.  If this property is true, any images without an alpha channel will\n *                  be treated as if their alpha is 1.0 everywhere.  When this property is false, memory usage\n *                  and texture upload time are potentially reduced.\n * @property {GetFeatureInfoFormat[]} [getFeatureInfoFormats] The formats in which to get feature information at a\n *                                 specific location when {@link UrlTemplateImageryProvider#pickFeatures} is invoked.  If this\n *                                 parameter is not specified, feature picking is disabled.\n * @property {Boolean} [enablePickFeatures=true] If true, {@link UrlTemplateImageryProvider#pickFeatures} will\n *        request the <code>pickFeaturesUrl</code> and attempt to interpret the features included in the response.  If false,\n *        {@link UrlTemplateImageryProvider#pickFeatures} will immediately return undefined (indicating no pickable\n *        features) without communicating with the server.  Set this property to false if you know your data\n *        source does not support picking features or if you don\'t want this provider\'s features to be pickable. Note\n *        that this can be dynamically overridden by modifying the {@link UriTemplateImageryProvider#enablePickFeatures}\n *        property.\n * @property {Object} [customTags] Allow to replace custom keywords in the URL template. The object must have strings as keys and functions as values.\n */\n\n/**\n * Provides imagery by requesting tiles using a specified URL template.\n *\n * @alias UrlTemplateImageryProvider\n * @constructor\n *\n * @param {UrlTemplateImageryProvider.ConstructorOptions} options Object describing initialization options\n *\n * @example\n * // Access Natural Earth II imagery, which uses a TMS tiling scheme and Geographic (EPSG:4326) project\n * var tms = new Cesium.UrlTemplateImageryProvider({\n *     url : Cesium.buildModuleUrl(\'Assets/Textures/NaturalEarthII\') + \'/{z}/{x}/{reverseY}.jpg\',\n *     credit : \'© Analytical Graphics, Inc.\',\n *     tilingScheme : new Cesium.GeographicTilingScheme(),\n *     maximumLevel : 5\n * });\n * // Access the CartoDB Positron basemap, which uses an OpenStreetMap-like tiling scheme.\n * var positron = new Cesium.UrlTemplateImageryProvider({\n *     url : \'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\',\n *     credit : \'Map tiles by CartoDB, under CC BY 3.0. Data by OpenStreetMap, under ODbL.\'\n * });\n * // Access a Web Map Service (WMS) server.\n * var wms = new Cesium.UrlTemplateImageryProvider({\n *    url : \'https://programs.communications.gov.au/geoserver/ows?tiled=true&\' +\n *          \'transparent=true&format=image%2Fpng&exceptions=application%2Fvnd.ogc.se_xml&\' +\n *          \'styles=&service=WMS&version=1.1.1&request=GetMap&\' +\n *          \'layers=public%3AMyBroadband_Availability&srs=EPSG%3A3857&\' +\n *          \'bbox={westProjected}%2C{southProjected}%2C{eastProjected}%2C{northProjected}&\' +\n *          \'width=256&height=256\',\n *    rectangle : Cesium.Rectangle.fromDegrees(96.799393, -43.598214999057824, 153.63925700000001, -9.2159219997013)\n * });\n * // Using custom tags in your template url.\n * var custom = new Cesium.UrlTemplateImageryProvider({\n *    url : \'https://yoururl/{Time}/{z}/{y}/{x}.png\',\n *    customTags : {\n *        Time: function(imageryProvider, x, y, level) {\n *            return \'20171231\'\n *        }\n *    }\n * });\n *\n * @see ArcGisMapServerImageryProvider\n * @see BingMapsImageryProvider\n * @see GoogleEarthEnterpriseMapsProvider\n * @see OpenStreetMapImageryProvider\n * @see SingleTileImageryProvider\n * @see TileMapServiceImageryProvider\n * @see WebMapServiceImageryProvider\n * @see WebMapTileServiceImageryProvider\n */\nfunction UrlTemplateImageryProvider(options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(options)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z("options is required.");\n  }\n  if (!_ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].isPromise */ .Z.isPromise(options) && !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(options.url)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z("options is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this._errorEvent = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\n\n  this._resource = undefined;\n  this._urlSchemeZeroPadding = undefined;\n  this._pickFeaturesResource = undefined;\n  this._tileWidth = undefined;\n  this._tileHeight = undefined;\n  this._maximumLevel = undefined;\n  this._minimumLevel = undefined;\n  this._tilingScheme = undefined;\n  this._rectangle = undefined;\n  this._tileDiscardPolicy = undefined;\n  this._credit = undefined;\n  this._hasAlphaChannel = undefined;\n  this._readyPromise = undefined;\n  this._tags = undefined;\n  this._pickFeaturesTags = undefined;\n\n  /**\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultNightAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultDayAlpha = undefined;\n\n  /**\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\n   * makes the imagery darker while greater than 1.0 makes it brighter.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultBrightness = undefined;\n\n  /**\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\n   * the contrast while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultContrast = undefined;\n\n  /**\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultHue = undefined;\n\n  /**\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\n   * saturation while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultSaturation = undefined;\n\n  /**\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultGamma = undefined;\n\n  /**\n   * The default texture minification filter to apply to this provider.\n   *\n   * @type {TextureMinificationFilter}\n   * @default undefined\n   */\n  this.defaultMinificationFilter = undefined;\n\n  /**\n   * The default texture magnification filter to apply to this provider.\n   *\n   * @type {TextureMagnificationFilter}\n   * @default undefined\n   */\n  this.defaultMagnificationFilter = undefined;\n\n  /**\n   * Gets or sets a value indicating whether feature picking is enabled.  If true, {@link UrlTemplateImageryProvider#pickFeatures} will\n   * request the <code>options.pickFeaturesUrl</code> and attempt to interpret the features included in the response.  If false,\n   * {@link UrlTemplateImageryProvider#pickFeatures} will immediately return undefined (indicating no pickable\n   * features) without communicating with the server.  Set this property to false if you know your data\n   * source does not support picking features or if you don\'t want this provider\'s features to be pickable.\n   * @type {Boolean}\n   * @default true\n   */\n  this.enablePickFeatures = true;\n\n  this.reinitialize(options);\n}\n\nObject.defineProperties(UrlTemplateImageryProvider.prototype, {\n  /**\n   * Gets the URL template to use to request tiles.  It has the following keywords:\n   * <ul>\n   *  <li> <code>{z}</code>: The level of the tile in the tiling scheme.  Level zero is the root of the quadtree pyramid.</li>\n   *  <li> <code>{x}</code>: The tile X coordinate in the tiling scheme, where 0 is the Westernmost tile.</li>\n   *  <li> <code>{y}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Northernmost tile.</li>\n   *  <li> <code>{s}</code>: One of the available subdomains, used to overcome browser limits on the number of simultaneous requests per host.</li>\n   *  <li> <code>{reverseX}</code>: The tile X coordinate in the tiling scheme, where 0 is the Easternmost tile.</li>\n   *  <li> <code>{reverseY}</code>: The tile Y coordinate in the tiling scheme, where 0 is the Southernmost tile.</li>\n   *  <li> <code>{reverseZ}</code>: The level of the tile in the tiling scheme, where level zero is the maximum level of the quadtree pyramid.  In order to use reverseZ, maximumLevel must be defined.</li>\n   *  <li> <code>{westDegrees}</code>: The Western edge of the tile in geodetic degrees.</li>\n   *  <li> <code>{southDegrees}</code>: The Southern edge of the tile in geodetic degrees.</li>\n   *  <li> <code>{eastDegrees}</code>: The Eastern edge of the tile in geodetic degrees.</li>\n   *  <li> <code>{northDegrees}</code>: The Northern edge of the tile in geodetic degrees.</li>\n   *  <li> <code>{westProjected}</code>: The Western edge of the tile in projected coordinates of the tiling scheme.</li>\n   *  <li> <code>{southProjected}</code>: The Southern edge of the tile in projected coordinates of the tiling scheme.</li>\n   *  <li> <code>{eastProjected}</code>: The Eastern edge of the tile in projected coordinates of the tiling scheme.</li>\n   *  <li> <code>{northProjected}</code>: The Northern edge of the tile in projected coordinates of the tiling scheme.</li>\n   *  <li> <code>{width}</code>: The width of each tile in pixels.</li>\n   *  <li> <code>{height}</code>: The height of each tile in pixels.</li>\n   * </ul>\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {String}\n   * @readonly\n   */\n  url: {\n    get: function () {\n      return this._resource.url;\n    },\n  },\n\n  /**\n   * Gets the URL scheme zero padding for each tile coordinate. The format is \'000\' where each coordinate will be padded on\n   * the left with zeros to match the width of the passed string of zeros. e.g. Setting:\n   * urlSchemeZeroPadding : { \'{x}\' : \'0000\'}\n   * will cause an \'x\' value of 12 to return the string \'0012\' for {x} in the generated URL.\n   * It has the following keywords:\n   * <ul>\n   *  <li> <code>{z}</code>: The zero padding for the level of the tile in the tiling scheme.</li>\n   *  <li> <code>{x}</code>: The zero padding for the tile X coordinate in the tiling scheme.</li>\n   *  <li> <code>{y}</code>: The zero padding for the the tile Y coordinate in the tiling scheme.</li>\n   *  <li> <code>{reverseX}</code>: The zero padding for the tile reverseX coordinate in the tiling scheme.</li>\n   *  <li> <code>{reverseY}</code>: The zero padding for the tile reverseY coordinate in the tiling scheme.</li>\n   *  <li> <code>{reverseZ}</code>: The zero padding for the reverseZ coordinate of the tile in the tiling scheme.</li>\n   * </ul>\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Object}\n   * @readonly\n   */\n  urlSchemeZeroPadding: {\n    get: function () {\n      return this._urlSchemeZeroPadding;\n    },\n  },\n\n  /**\n   * Gets the URL template to use to use to pick features.  If this property is not specified,\n   * {@link UrlTemplateImageryProvider#pickFeatures} will immediately return undefined, indicating no\n   * features picked.  The URL template supports all of the keywords supported by the\n   * {@link UrlTemplateImageryProvider#url} property, plus the following:\n   * <ul>\n   *     <li><code>{i}</code>: The pixel column (horizontal coordinate) of the picked position, where the Westernmost pixel is 0.</li>\n   *     <li><code>{j}</code>: The pixel row (vertical coordinate) of the picked position, where the Northernmost pixel is 0.</li>\n   *     <li><code>{reverseI}</code>: The pixel column (horizontal coordinate) of the picked position, where the Easternmost pixel is 0.</li>\n   *     <li><code>{reverseJ}</code>: The pixel row (vertical coordinate) of the picked position, where the Southernmost pixel is 0.</li>\n   *     <li><code>{longitudeDegrees}</code>: The longitude of the picked position in degrees.</li>\n   *     <li><code>{latitudeDegrees}</code>: The latitude of the picked position in degrees.</li>\n   *     <li><code>{longitudeProjected}</code>: The longitude of the picked position in the projected coordinates of the tiling scheme.</li>\n   *     <li><code>{latitudeProjected}</code>: The latitude of the picked position in the projected coordinates of the tiling scheme.</li>\n   *     <li><code>{format}</code>: The format in which to get feature information, as specified in the {@link GetFeatureInfoFormat}.</li>\n   * </ul>\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {String}\n   * @readonly\n   */\n  pickFeaturesUrl: {\n    get: function () {\n      return this._pickFeaturesResource.url;\n    },\n  },\n\n  /**\n   * Gets the proxy used by this provider.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Proxy}\n   * @readonly\n   * @default undefined\n   */\n  proxy: {\n    get: function () {\n      return this._resource.proxy;\n    },\n  },\n\n  /**\n   * Gets the width of each tile, in pixels. This function should\n   * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   * @default 256\n   */\n  tileWidth: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "tileWidth must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._tileWidth;\n    },\n  },\n\n  /**\n   * Gets the height of each tile, in pixels.  This function should\n   * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   * @default 256\n   */\n  tileHeight: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "tileHeight must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._tileHeight;\n    },\n  },\n\n  /**\n   * Gets the maximum level-of-detail that can be requested, or undefined if there is no limit.\n   * This function should not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Number|undefined}\n   * @readonly\n   * @default undefined\n   */\n  maximumLevel: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "maximumLevel must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._maximumLevel;\n    },\n  },\n\n  /**\n   * Gets the minimum level-of-detail that can be requested.  This function should\n   * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   * @default 0\n   */\n  minimumLevel: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "minimumLevel must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._minimumLevel;\n    },\n  },\n\n  /**\n   * Gets the tiling scheme used by this provider.  This function should\n   * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {TilingScheme}\n   * @readonly\n   * @default new WebMercatorTilingScheme()\n   */\n  tilingScheme: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "tilingScheme must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._tilingScheme;\n    },\n  },\n\n  /**\n   * Gets the rectangle, in radians, of the imagery provided by this instance.  This function should\n   * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Rectangle}\n   * @readonly\n   * @default tilingScheme.rectangle\n   */\n  rectangle: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "rectangle must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._rectangle;\n    },\n  },\n\n  /**\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\n   * for filtering out "missing" tiles via its shouldDiscardImage function.  If this function\n   * returns undefined, no tiles are filtered.  This function should\n   * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {TileDiscardPolicy}\n   * @readonly\n   * @default undefined\n   */\n  tileDiscardPolicy: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "tileDiscardPolicy must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._tileDiscardPolicy;\n    },\n  },\n\n  /**\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error.  By subscribing\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\n   * are passed an instance of {@link TileProviderError}.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Event}\n   * @readonly\n   */\n  errorEvent: {\n    get: function () {\n      return this._errorEvent;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the provider is ready for use.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(this._resource);\n    },\n  },\n\n  /**\n   * Gets a promise that resolves to true when the provider is ready for use.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Promise.<Boolean>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._readyPromise;\n    },\n  },\n\n  /**\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\n   * the source of the imagery.  This function should not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Credit}\n   * @readonly\n   * @default undefined\n   */\n  credit: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "credit must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._credit;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the images provided by this imagery provider\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\n   * as if their alpha is 1.0 everywhere.  When this property is false, memory usage\n   * and texture upload time are reduced.  This function should\n   * not be called before {@link ImageryProvider#ready} returns true.\n   * @memberof UrlTemplateImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   * @default true\n   */\n  hasAlphaChannel: {\n    get: function () {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!this.ready) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "hasAlphaChannel must not be called before the imagery provider is ready."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      return this._hasAlphaChannel;\n    },\n  },\n});\n\n/**\n * Reinitializes this instance.  Reinitializing an instance already in use is supported, but it is not\n * recommended because existing tiles provided by the imagery provider will not be updated.\n *\n * @param {Promise.<Object>|Object} options Any of the options that may be passed to the {@link UrlTemplateImageryProvider} constructor.\n */\nUrlTemplateImageryProvider.prototype.reinitialize = function (options) {\n  var that = this;\n  that._readyPromise = (0,_ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(options).then(function (properties) {\n    //>>includeStart(\'debug\', pragmas.debug);\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(properties)) {\n      throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z("options is required.");\n    }\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(properties.url)) {\n      throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z("options.url is required.");\n    }\n    //>>includeEnd(\'debug\');\n\n    var customTags = properties.customTags;\n    var allTags = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(tags, customTags);\n    var allPickFeaturesTags = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(pickFeaturesTags, customTags);\n    var resource = _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(properties.url);\n    var pickFeaturesResource = _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(\n      properties.pickFeaturesUrl\n    );\n\n    that.enablePickFeatures = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(\n      properties.enablePickFeatures,\n      that.enablePickFeatures\n    );\n    that._urlSchemeZeroPadding = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(\n      properties.urlSchemeZeroPadding,\n      that.urlSchemeZeroPadding\n    );\n    that._tileDiscardPolicy = properties.tileDiscardPolicy;\n    that._getFeatureInfoFormats = properties.getFeatureInfoFormats;\n\n    that._subdomains = properties.subdomains;\n    if (Array.isArray(that._subdomains)) {\n      that._subdomains = that._subdomains.slice();\n    } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(that._subdomains) && that._subdomains.length > 0) {\n      that._subdomains = that._subdomains.split("");\n    } else {\n      that._subdomains = ["a", "b", "c"];\n    }\n\n    that._tileWidth = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(properties.tileWidth, 256);\n    that._tileHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(properties.tileHeight, 256);\n    that._minimumLevel = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(properties.minimumLevel, 0);\n    that._maximumLevel = properties.maximumLevel;\n    that._tilingScheme = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(\n      properties.tilingScheme,\n      new _Core_WebMercatorTilingScheme_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z({ ellipsoid: properties.ellipsoid })\n    );\n    that._rectangle = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(\n      properties.rectangle,\n      that._tilingScheme.rectangle\n    );\n    that._rectangle = _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].intersection */ .Z.intersection(\n      that._rectangle,\n      that._tilingScheme.rectangle\n    );\n    that._hasAlphaChannel = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(properties.hasAlphaChannel, true);\n\n    var credit = properties.credit;\n    if (typeof credit === "string") {\n      credit = new _Core_Credit_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(credit);\n    }\n    that._credit = credit;\n\n    that._resource = resource;\n    that._tags = allTags;\n    that._pickFeaturesResource = pickFeaturesResource;\n    that._pickFeaturesTags = allPickFeaturesTags;\n\n    return true;\n  });\n};\n\n/**\n * Gets the credits to be displayed when a given tile is displayed.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level;\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\n *\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\n */\nUrlTemplateImageryProvider.prototype.getTileCredits = function (x, y, level) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!this.ready) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      "getTileCredits must not be called before the imagery provider is ready."\n    );\n  }\n  //>>includeEnd(\'debug\');\n  return undefined;\n};\n\n/**\n * Requests the image for a given tile.  This function should\n * not be called before {@link UrlTemplateImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if there are too many active requests to the server, and the request\n *          should be retried later.  The resolved image may be either an\n *          Image or a Canvas DOM object.\n */\nUrlTemplateImageryProvider.prototype.requestImage = function (\n  x,\n  y,\n  level,\n  request\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!this.ready) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      "requestImage must not be called before the imagery provider is ready."\n    );\n  }\n  //>>includeEnd(\'debug\');\n  return _ImageryProvider_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].loadImage */ .Z.loadImage(\n    this,\n    buildImageResource(this, x, y, level, request)\n  );\n};\n\n/**\n * Asynchronously determines what features, if any, are located at a given longitude and latitude within\n * a tile.  This function should not be called before {@link ImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Number} longitude The longitude at which to pick features.\n * @param {Number} latitude  The latitude at which to pick features.\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\n *                   instances.  The array may be empty if no features are found at the given location.\n *                   It may also be undefined if picking is not supported.\n */\nUrlTemplateImageryProvider.prototype.pickFeatures = function (\n  x,\n  y,\n  level,\n  longitude,\n  latitude\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!this.ready) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      "pickFeatures must not be called before the imagery provider is ready."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  if (\n    !this.enablePickFeatures ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(this._pickFeaturesResource) ||\n    this._getFeatureInfoFormats.length === 0\n  ) {\n    return undefined;\n  }\n\n  var formatIndex = 0;\n\n  var that = this;\n\n  function handleResponse(format, data) {\n    return format.callback(data);\n  }\n\n  function doRequest() {\n    if (formatIndex >= that._getFeatureInfoFormats.length) {\n      // No valid formats, so no features picked.\n      return (0,_ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)([]);\n    }\n\n    var format = that._getFeatureInfoFormats[formatIndex];\n    var resource = buildPickFeaturesResource(\n      that,\n      x,\n      y,\n      level,\n      longitude,\n      latitude,\n      format.format\n    );\n\n    ++formatIndex;\n\n    if (format.type === "json") {\n      return resource.fetchJson().then(format.callback).otherwise(doRequest);\n    } else if (format.type === "xml") {\n      return resource.fetchXML().then(format.callback).otherwise(doRequest);\n    } else if (format.type === "text" || format.type === "html") {\n      return resource.fetchText().then(format.callback).otherwise(doRequest);\n    }\n    return resource\n      .fetch({\n        responseType: format.format,\n      })\n      .then(handleResponse.bind(undefined, format))\n      .otherwise(doRequest);\n  }\n\n  return doRequest();\n};\n\nvar degreesScratchComputed = false;\nvar degreesScratch = new _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z();\nvar projectedScratchComputed = false;\nvar projectedScratch = new _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z();\n\nfunction buildImageResource(imageryProvider, x, y, level, request) {\n  degreesScratchComputed = false;\n  projectedScratchComputed = false;\n\n  var resource = imageryProvider._resource;\n  var url = resource.getUrlComponent(true);\n  var allTags = imageryProvider._tags;\n  var templateValues = {};\n\n  var match = url.match(templateRegex);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(match)) {\n    match.forEach(function (tag) {\n      var key = tag.substring(1, tag.length - 1); //strip {}\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(allTags[key])) {\n        templateValues[key] = allTags[key](imageryProvider, x, y, level);\n      }\n    });\n  }\n\n  return resource.getDerivedResource({\n    request: request,\n    templateValues: templateValues,\n  });\n}\n\nvar ijScratchComputed = false;\nvar ijScratch = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar longitudeLatitudeProjectedScratchComputed = false;\n\nfunction buildPickFeaturesResource(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  degreesScratchComputed = false;\n  projectedScratchComputed = false;\n  ijScratchComputed = false;\n  longitudeLatitudeProjectedScratchComputed = false;\n\n  var resource = imageryProvider._pickFeaturesResource;\n  var url = resource.getUrlComponent(true);\n  var allTags = imageryProvider._pickFeaturesTags;\n  var templateValues = {};\n  var match = url.match(templateRegex);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(match)) {\n    match.forEach(function (tag) {\n      var key = tag.substring(1, tag.length - 1); //strip {}\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(allTags[key])) {\n        templateValues[key] = allTags[key](\n          imageryProvider,\n          x,\n          y,\n          level,\n          longitude,\n          latitude,\n          format\n        );\n      }\n    });\n  }\n\n  return resource.getDerivedResource({\n    templateValues: templateValues,\n  });\n}\n\nfunction padWithZerosIfNecessary(imageryProvider, key, value) {\n  if (\n    imageryProvider &&\n    imageryProvider.urlSchemeZeroPadding &&\n    imageryProvider.urlSchemeZeroPadding.hasOwnProperty(key)\n  ) {\n    var paddingTemplate = imageryProvider.urlSchemeZeroPadding[key];\n    if (typeof paddingTemplate === "string") {\n      var paddingTemplateWidth = paddingTemplate.length;\n      if (paddingTemplateWidth > 1) {\n        value =\n          value.length >= paddingTemplateWidth\n            ? value\n            : new Array(\n                paddingTemplateWidth - value.toString().length + 1\n              ).join("0") + value;\n      }\n    }\n  }\n  return value;\n}\n\nfunction xTag(imageryProvider, x, y, level) {\n  return padWithZerosIfNecessary(imageryProvider, "{x}", x);\n}\n\nfunction reverseXTag(imageryProvider, x, y, level) {\n  var reverseX =\n    imageryProvider.tilingScheme.getNumberOfXTilesAtLevel(level) - x - 1;\n  return padWithZerosIfNecessary(imageryProvider, "{reverseX}", reverseX);\n}\n\nfunction yTag(imageryProvider, x, y, level) {\n  return padWithZerosIfNecessary(imageryProvider, "{y}", y);\n}\n\nfunction reverseYTag(imageryProvider, x, y, level) {\n  var reverseY =\n    imageryProvider.tilingScheme.getNumberOfYTilesAtLevel(level) - y - 1;\n  return padWithZerosIfNecessary(imageryProvider, "{reverseY}", reverseY);\n}\n\nfunction reverseZTag(imageryProvider, x, y, level) {\n  var maximumLevel = imageryProvider.maximumLevel;\n  var reverseZ =\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z)(maximumLevel) && level < maximumLevel\n      ? maximumLevel - level - 1\n      : level;\n  return padWithZerosIfNecessary(imageryProvider, "{reverseZ}", reverseZ);\n}\n\nfunction zTag(imageryProvider, x, y, level) {\n  return padWithZerosIfNecessary(imageryProvider, "{z}", level);\n}\n\nfunction sTag(imageryProvider, x, y, level) {\n  var index = (x + y + level) % imageryProvider._subdomains.length;\n  return imageryProvider._subdomains[index];\n}\n\nfunction computeDegrees(imageryProvider, x, y, level) {\n  if (degreesScratchComputed) {\n    return;\n  }\n\n  imageryProvider.tilingScheme.tileXYToRectangle(x, y, level, degreesScratch);\n  degreesScratch.west = _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(degreesScratch.west);\n  degreesScratch.south = _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(degreesScratch.south);\n  degreesScratch.east = _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(degreesScratch.east);\n  degreesScratch.north = _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(degreesScratch.north);\n\n  degreesScratchComputed = true;\n}\n\nfunction westDegreesTag(imageryProvider, x, y, level) {\n  computeDegrees(imageryProvider, x, y, level);\n  return degreesScratch.west;\n}\n\nfunction southDegreesTag(imageryProvider, x, y, level) {\n  computeDegrees(imageryProvider, x, y, level);\n  return degreesScratch.south;\n}\n\nfunction eastDegreesTag(imageryProvider, x, y, level) {\n  computeDegrees(imageryProvider, x, y, level);\n  return degreesScratch.east;\n}\n\nfunction northDegreesTag(imageryProvider, x, y, level) {\n  computeDegrees(imageryProvider, x, y, level);\n  return degreesScratch.north;\n}\n\nfunction computeProjected(imageryProvider, x, y, level) {\n  if (projectedScratchComputed) {\n    return;\n  }\n\n  imageryProvider.tilingScheme.tileXYToNativeRectangle(\n    x,\n    y,\n    level,\n    projectedScratch\n  );\n\n  projectedScratchComputed = true;\n}\n\nfunction westProjectedTag(imageryProvider, x, y, level) {\n  computeProjected(imageryProvider, x, y, level);\n  return projectedScratch.west;\n}\n\nfunction southProjectedTag(imageryProvider, x, y, level) {\n  computeProjected(imageryProvider, x, y, level);\n  return projectedScratch.south;\n}\n\nfunction eastProjectedTag(imageryProvider, x, y, level) {\n  computeProjected(imageryProvider, x, y, level);\n  return projectedScratch.east;\n}\n\nfunction northProjectedTag(imageryProvider, x, y, level) {\n  computeProjected(imageryProvider, x, y, level);\n  return projectedScratch.north;\n}\n\nfunction widthTag(imageryProvider, x, y, level) {\n  return imageryProvider.tileWidth;\n}\n\nfunction heightTag(imageryProvider, x, y, level) {\n  return imageryProvider.tileHeight;\n}\n\nfunction iTag(imageryProvider, x, y, level, longitude, latitude, format) {\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\n  return ijScratch.x;\n}\n\nfunction jTag(imageryProvider, x, y, level, longitude, latitude, format) {\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\n  return ijScratch.y;\n}\n\nfunction reverseITag(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\n  return imageryProvider.tileWidth - ijScratch.x - 1;\n}\n\nfunction reverseJTag(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  computeIJ(imageryProvider, x, y, level, longitude, latitude);\n  return imageryProvider.tileHeight - ijScratch.y - 1;\n}\n\nvar rectangleScratch = new _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z();\nvar longitudeLatitudeProjectedScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\nfunction computeIJ(imageryProvider, x, y, level, longitude, latitude, format) {\n  if (ijScratchComputed) {\n    return;\n  }\n\n  computeLongitudeLatitudeProjected(\n    imageryProvider,\n    x,\n    y,\n    level,\n    longitude,\n    latitude\n  );\n  var projected = longitudeLatitudeProjectedScratch;\n\n  var rectangle = imageryProvider.tilingScheme.tileXYToNativeRectangle(\n    x,\n    y,\n    level,\n    rectangleScratch\n  );\n  ijScratch.x =\n    ((imageryProvider.tileWidth * (projected.x - rectangle.west)) /\n      rectangle.width) |\n    0;\n  ijScratch.y =\n    ((imageryProvider.tileHeight * (rectangle.north - projected.y)) /\n      rectangle.height) |\n    0;\n  ijScratchComputed = true;\n}\n\nfunction longitudeDegreesTag(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  return _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(longitude);\n}\n\nfunction latitudeDegreesTag(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  return _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(latitude);\n}\n\nfunction longitudeProjectedTag(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  computeLongitudeLatitudeProjected(\n    imageryProvider,\n    x,\n    y,\n    level,\n    longitude,\n    latitude\n  );\n  return longitudeLatitudeProjectedScratch.x;\n}\n\nfunction latitudeProjectedTag(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  computeLongitudeLatitudeProjected(\n    imageryProvider,\n    x,\n    y,\n    level,\n    longitude,\n    latitude\n  );\n  return longitudeLatitudeProjectedScratch.y;\n}\n\nvar cartographicScratch = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\nfunction computeLongitudeLatitudeProjected(\n  imageryProvider,\n  x,\n  y,\n  level,\n  longitude,\n  latitude,\n  format\n) {\n  if (longitudeLatitudeProjectedScratchComputed) {\n    return;\n  }\n\n  if (imageryProvider.tilingScheme.projection instanceof _Core_GeographicProjection_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z) {\n    longitudeLatitudeProjectedScratch.x = _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(longitude);\n    longitudeLatitudeProjectedScratch.y = _Core_Math_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].toDegrees */ .Z.toDegrees(latitude);\n  } else {\n    var cartographic = cartographicScratch;\n    cartographic.longitude = longitude;\n    cartographic.latitude = latitude;\n    imageryProvider.tilingScheme.projection.project(\n      cartographic,\n      longitudeLatitudeProjectedScratch\n    );\n  }\n\n  longitudeLatitudeProjectedScratchComputed = true;\n}\n\nfunction formatTag(imageryProvider, x, y, level, longitude, latitude, format) {\n  return format;\n}\n/* harmony default export */ __webpack_exports__["Z"] = (UrlTemplateImageryProvider);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0ZBQW9CO0FBQzlELElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseURBQWUsMEJBQTBCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIuanM/NWY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMiBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4yLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCIuLi9Db3JlL0NhcnRvZ3JhcGhpYy5qc1wiO1xuaW1wb3J0IGNvbWJpbmUgZnJvbSBcIi4uL0NvcmUvY29tYmluZS5qc1wiO1xuaW1wb3J0IENyZWRpdCBmcm9tIFwiLi4vQ29yZS9DcmVkaXQuanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vQ29yZS9FdmVudC5qc1wiO1xuaW1wb3J0IEdlb2dyYXBoaWNQcm9qZWN0aW9uIGZyb20gXCIuLi9Db3JlL0dlb2dyYXBoaWNQcm9qZWN0aW9uLmpzXCI7XG5pbXBvcnQgQ2VzaXVtTWF0aCBmcm9tIFwiLi4vQ29yZS9NYXRoLmpzXCI7XG5pbXBvcnQgUmVjdGFuZ2xlIGZyb20gXCIuLi9Db3JlL1JlY3RhbmdsZS5qc1wiO1xuaW1wb3J0IFJlc291cmNlIGZyb20gXCIuLi9Db3JlL1Jlc291cmNlLmpzXCI7XG5pbXBvcnQgV2ViTWVyY2F0b3JUaWxpbmdTY2hlbWUgZnJvbSBcIi4uL0NvcmUvV2ViTWVyY2F0b3JUaWxpbmdTY2hlbWUuanNcIjtcbmltcG9ydCB3aGVuIGZyb20gXCIuLi9UaGlyZFBhcnR5L3doZW4uanNcIjtcbmltcG9ydCBJbWFnZXJ5UHJvdmlkZXIgZnJvbSBcIi4vSW1hZ2VyeVByb3ZpZGVyLmpzXCI7XG5cbnZhciB0ZW1wbGF0ZVJlZ2V4ID0gL3tbXn1dK30vZztcblxudmFyIHRhZ3MgPSB7XG4gIHg6IHhUYWcsXG4gIHk6IHlUYWcsXG4gIHo6IHpUYWcsXG4gIHM6IHNUYWcsXG4gIHJldmVyc2VYOiByZXZlcnNlWFRhZyxcbiAgcmV2ZXJzZVk6IHJldmVyc2VZVGFnLFxuICByZXZlcnNlWjogcmV2ZXJzZVpUYWcsXG4gIHdlc3REZWdyZWVzOiB3ZXN0RGVncmVlc1RhZyxcbiAgc291dGhEZWdyZWVzOiBzb3V0aERlZ3JlZXNUYWcsXG4gIGVhc3REZWdyZWVzOiBlYXN0RGVncmVlc1RhZyxcbiAgbm9ydGhEZWdyZWVzOiBub3J0aERlZ3JlZXNUYWcsXG4gIHdlc3RQcm9qZWN0ZWQ6IHdlc3RQcm9qZWN0ZWRUYWcsXG4gIHNvdXRoUHJvamVjdGVkOiBzb3V0aFByb2plY3RlZFRhZyxcbiAgZWFzdFByb2plY3RlZDogZWFzdFByb2plY3RlZFRhZyxcbiAgbm9ydGhQcm9qZWN0ZWQ6IG5vcnRoUHJvamVjdGVkVGFnLFxuICB3aWR0aDogd2lkdGhUYWcsXG4gIGhlaWdodDogaGVpZ2h0VGFnLFxufTtcblxudmFyIHBpY2tGZWF0dXJlc1RhZ3MgPSBjb21iaW5lKHRhZ3MsIHtcbiAgaTogaVRhZyxcbiAgajogalRhZyxcbiAgcmV2ZXJzZUk6IHJldmVyc2VJVGFnLFxuICByZXZlcnNlSjogcmV2ZXJzZUpUYWcsXG4gIGxvbmdpdHVkZURlZ3JlZXM6IGxvbmdpdHVkZURlZ3JlZXNUYWcsXG4gIGxhdGl0dWRlRGVncmVlczogbGF0aXR1ZGVEZWdyZWVzVGFnLFxuICBsb25naXR1ZGVQcm9qZWN0ZWQ6IGxvbmdpdHVkZVByb2plY3RlZFRhZyxcbiAgbGF0aXR1ZGVQcm9qZWN0ZWQ6IGxhdGl0dWRlUHJvamVjdGVkVGFnLFxuICBmb3JtYXQ6IGZvcm1hdFRhZyxcbn0pO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLkNvbnN0cnVjdG9yT3B0aW9uc1xuICpcbiAqIEluaXRpYWxpemF0aW9uIG9wdGlvbnMgZm9yIHRoZSBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcm9wZXJ0eSB7UHJvbWlzZS48T2JqZWN0PnxPYmplY3R9IFtvcHRpb25zXSBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcHJvcGVydHkge1Jlc291cmNlfFN0cmluZ30gdXJsICBUaGUgVVJMIHRlbXBsYXRlIHRvIHVzZSB0byByZXF1ZXN0IHRpbGVzLiAgSXQgaGFzIHRoZSBmb2xsb3dpbmcga2V5d29yZHM6XG4gKiA8dWw+XG4gKiAgICAgPGxpPjxjb2RlPnt6fTwvY29kZT46IFRoZSBsZXZlbCBvZiB0aGUgdGlsZSBpbiB0aGUgdGlsaW5nIHNjaGVtZS4gIExldmVsIHplcm8gaXMgdGhlIHJvb3Qgb2YgdGhlIHF1YWR0cmVlIHB5cmFtaWQuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+e3h9PC9jb2RlPjogVGhlIHRpbGUgWCBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLCB3aGVyZSAwIGlzIHRoZSBXZXN0ZXJubW9zdCB0aWxlLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPnt5fTwvY29kZT46IFRoZSB0aWxlIFkgY29vcmRpbmF0ZSBpbiB0aGUgdGlsaW5nIHNjaGVtZSwgd2hlcmUgMCBpcyB0aGUgTm9ydGhlcm5tb3N0IHRpbGUuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+e3N9PC9jb2RlPjogT25lIG9mIHRoZSBhdmFpbGFibGUgc3ViZG9tYWlucywgdXNlZCB0byBvdmVyY29tZSBicm93c2VyIGxpbWl0cyBvbiB0aGUgbnVtYmVyIG9mIHNpbXVsdGFuZW91cyByZXF1ZXN0cyBwZXIgaG9zdC48L2xpPlxuICogICAgIDxsaT48Y29kZT57cmV2ZXJzZVh9PC9jb2RlPjogVGhlIHRpbGUgWCBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLCB3aGVyZSAwIGlzIHRoZSBFYXN0ZXJubW9zdCB0aWxlLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntyZXZlcnNlWX08L2NvZGU+OiBUaGUgdGlsZSBZIGNvb3JkaW5hdGUgaW4gdGhlIHRpbGluZyBzY2hlbWUsIHdoZXJlIDAgaXMgdGhlIFNvdXRoZXJubW9zdCB0aWxlLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntyZXZlcnNlWn08L2NvZGU+OiBUaGUgbGV2ZWwgb2YgdGhlIHRpbGUgaW4gdGhlIHRpbGluZyBzY2hlbWUsIHdoZXJlIGxldmVsIHplcm8gaXMgdGhlIG1heGltdW0gbGV2ZWwgb2YgdGhlIHF1YWR0cmVlIHB5cmFtaWQuICBJbiBvcmRlciB0byB1c2UgcmV2ZXJzZVosIG1heGltdW1MZXZlbCBtdXN0IGJlIGRlZmluZWQuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+e3dlc3REZWdyZWVzfTwvY29kZT46IFRoZSBXZXN0ZXJuIGVkZ2Ugb2YgdGhlIHRpbGUgaW4gZ2VvZGV0aWMgZGVncmVlcy48L2xpPlxuICogICAgIDxsaT48Y29kZT57c291dGhEZWdyZWVzfTwvY29kZT46IFRoZSBTb3V0aGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIGdlb2RldGljIGRlZ3JlZXMuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+e2Vhc3REZWdyZWVzfTwvY29kZT46IFRoZSBFYXN0ZXJuIGVkZ2Ugb2YgdGhlIHRpbGUgaW4gZ2VvZGV0aWMgZGVncmVlcy48L2xpPlxuICogICAgIDxsaT48Y29kZT57bm9ydGhEZWdyZWVzfTwvY29kZT46IFRoZSBOb3J0aGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIGdlb2RldGljIGRlZ3JlZXMuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+e3dlc3RQcm9qZWN0ZWR9PC9jb2RlPjogVGhlIFdlc3Rlcm4gZWRnZSBvZiB0aGUgdGlsZSBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgb2YgdGhlIHRpbGluZyBzY2hlbWUuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+e3NvdXRoUHJvamVjdGVkfTwvY29kZT46IFRoZSBTb3V0aGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICogICAgIDxsaT48Y29kZT57ZWFzdFByb2plY3RlZH08L2NvZGU+OiBUaGUgRWFzdGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICogICAgIDxsaT48Y29kZT57bm9ydGhQcm9qZWN0ZWR9PC9jb2RlPjogVGhlIE5vcnRoZXJuIGVkZ2Ugb2YgdGhlIHRpbGUgaW4gcHJvamVjdGVkIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPnt3aWR0aH08L2NvZGU+OiBUaGUgd2lkdGggb2YgZWFjaCB0aWxlIGluIHBpeGVscy48L2xpPlxuICogICAgIDxsaT48Y29kZT57aGVpZ2h0fTwvY29kZT46IFRoZSBoZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVscy48L2xpPlxuICogPC91bD5cbiAqIEBwcm9wZXJ0eSB7UmVzb3VyY2V8U3RyaW5nfSBbcGlja0ZlYXR1cmVzVXJsXSBUaGUgVVJMIHRlbXBsYXRlIHRvIHVzZSB0byBwaWNrIGZlYXR1cmVzLiAgSWYgdGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3BlY2lmaWVkLFxuICogICAgICAgICAgICAgICAgIHtAbGluayBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciNwaWNrRmVhdHVyZXN9IHdpbGwgaW1tZWRpYXRlbHkgcmV0dXJuZWQgdW5kZWZpbmVkLCBpbmRpY2F0aW5nIG5vXG4gKiAgICAgICAgICAgICAgICAgZmVhdHVyZXMgcGlja2VkLiAgVGhlIFVSTCB0ZW1wbGF0ZSBzdXBwb3J0cyBhbGwgb2YgdGhlIGtleXdvcmRzIHN1cHBvcnRlZCBieSB0aGUgPGNvZGU+dXJsPC9jb2RlPlxuICogICAgICAgICAgICAgICAgIHBhcmFtZXRlciwgcGx1cyB0aGUgZm9sbG93aW5nOlxuICogPHVsPlxuICogICAgIDxsaT48Y29kZT57aX08L2NvZGU+OiBUaGUgcGl4ZWwgY29sdW1uIChob3Jpem9udGFsIGNvb3JkaW5hdGUpIG9mIHRoZSBwaWNrZWQgcG9zaXRpb24sIHdoZXJlIHRoZSBXZXN0ZXJubW9zdCBwaXhlbCBpcyAwLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntqfTwvY29kZT46IFRoZSBwaXhlbCByb3cgKHZlcnRpY2FsIGNvb3JkaW5hdGUpIG9mIHRoZSBwaWNrZWQgcG9zaXRpb24sIHdoZXJlIHRoZSBOb3J0aGVybm1vc3QgcGl4ZWwgaXMgMC48L2xpPlxuICogICAgIDxsaT48Y29kZT57cmV2ZXJzZUl9PC9jb2RlPjogVGhlIHBpeGVsIGNvbHVtbiAoaG9yaXpvbnRhbCBjb29yZGluYXRlKSBvZiB0aGUgcGlja2VkIHBvc2l0aW9uLCB3aGVyZSB0aGUgRWFzdGVybm1vc3QgcGl4ZWwgaXMgMC48L2xpPlxuICogICAgIDxsaT48Y29kZT57cmV2ZXJzZUp9PC9jb2RlPjogVGhlIHBpeGVsIHJvdyAodmVydGljYWwgY29vcmRpbmF0ZSkgb2YgdGhlIHBpY2tlZCBwb3NpdGlvbiwgd2hlcmUgdGhlIFNvdXRoZXJubW9zdCBwaXhlbCBpcyAwLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntsb25naXR1ZGVEZWdyZWVzfTwvY29kZT46IFRoZSBsb25naXR1ZGUgb2YgdGhlIHBpY2tlZCBwb3NpdGlvbiBpbiBkZWdyZWVzLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntsYXRpdHVkZURlZ3JlZXN9PC9jb2RlPjogVGhlIGxhdGl0dWRlIG9mIHRoZSBwaWNrZWQgcG9zaXRpb24gaW4gZGVncmVlcy48L2xpPlxuICogICAgIDxsaT48Y29kZT57bG9uZ2l0dWRlUHJvamVjdGVkfTwvY29kZT46IFRoZSBsb25naXR1ZGUgb2YgdGhlIHBpY2tlZCBwb3NpdGlvbiBpbiB0aGUgcHJvamVjdGVkIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntsYXRpdHVkZVByb2plY3RlZH08L2NvZGU+OiBUaGUgbGF0aXR1ZGUgb2YgdGhlIHBpY2tlZCBwb3NpdGlvbiBpbiB0aGUgcHJvamVjdGVkIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gKiAgICAgPGxpPjxjb2RlPntmb3JtYXR9PC9jb2RlPjogVGhlIGZvcm1hdCBpbiB3aGljaCB0byBnZXQgZmVhdHVyZSBpbmZvcm1hdGlvbiwgYXMgc3BlY2lmaWVkIGluIHRoZSB7QGxpbmsgR2V0RmVhdHVyZUluZm9Gb3JtYXR9LjwvbGk+XG4gKiA8L3VsPlxuICogQHByb3BlcnR5IHtPYmplY3R9IFt1cmxTY2hlbWVaZXJvUGFkZGluZ10gR2V0cyB0aGUgVVJMIHNjaGVtZSB6ZXJvIHBhZGRpbmcgZm9yIGVhY2ggdGlsZSBjb29yZGluYXRlLiBUaGUgZm9ybWF0IGlzICcwMDAnIHdoZXJlXG4gKiBlYWNoIGNvb3JkaW5hdGUgd2lsbCBiZSBwYWRkZWQgb24gdGhlIGxlZnQgd2l0aCB6ZXJvcyB0byBtYXRjaCB0aGUgd2lkdGggb2YgdGhlIHBhc3NlZCBzdHJpbmcgb2YgemVyb3MuIGUuZy4gU2V0dGluZzpcbiAqIHVybFNjaGVtZVplcm9QYWRkaW5nIDogeyAne3h9JyA6ICcwMDAwJ31cbiAqIHdpbGwgY2F1c2UgYW4gJ3gnIHZhbHVlIG9mIDEyIHRvIHJldHVybiB0aGUgc3RyaW5nICcwMDEyJyBmb3Ige3h9IGluIHRoZSBnZW5lcmF0ZWQgVVJMLlxuICogSXQgdGhlIHBhc3NlZCBvYmplY3QgaGFzIHRoZSBmb2xsb3dpbmcga2V5d29yZHM6XG4gKiA8dWw+XG4gKiAgPGxpPiA8Y29kZT57en08L2NvZGU+OiBUaGUgemVybyBwYWRkaW5nIGZvciB0aGUgbGV2ZWwgb2YgdGhlIHRpbGUgaW4gdGhlIHRpbGluZyBzY2hlbWUuPC9saT5cbiAqICA8bGk+IDxjb2RlPnt4fTwvY29kZT46IFRoZSB6ZXJvIHBhZGRpbmcgZm9yIHRoZSB0aWxlIFggY29vcmRpbmF0ZSBpbiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICogIDxsaT4gPGNvZGU+e3l9PC9jb2RlPjogVGhlIHplcm8gcGFkZGluZyBmb3IgdGhlIHRoZSB0aWxlIFkgY29vcmRpbmF0ZSBpbiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICogIDxsaT4gPGNvZGU+e3JldmVyc2VYfTwvY29kZT46IFRoZSB6ZXJvIHBhZGRpbmcgZm9yIHRoZSB0aWxlIHJldmVyc2VYIGNvb3JkaW5hdGUgaW4gdGhlIHRpbGluZyBzY2hlbWUuPC9saT5cbiAqICA8bGk+IDxjb2RlPntyZXZlcnNlWX08L2NvZGU+OiBUaGUgemVybyBwYWRkaW5nIGZvciB0aGUgdGlsZSByZXZlcnNlWSBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gKiAgPGxpPiA8Y29kZT57cmV2ZXJzZVp9PC9jb2RlPjogVGhlIHplcm8gcGFkZGluZyBmb3IgdGhlIHJldmVyc2VaIGNvb3JkaW5hdGUgb2YgdGhlIHRpbGUgaW4gdGhlIHRpbGluZyBzY2hlbWUuPC9saT5cbiAqIDwvdWw+XG4gKiBAcHJvcGVydHkge1N0cmluZ3xTdHJpbmdbXX0gW3N1YmRvbWFpbnM9J2FiYyddIFRoZSBzdWJkb21haW5zIHRvIHVzZSBmb3IgdGhlIDxjb2RlPntzfTwvY29kZT4gcGxhY2Vob2xkZXIgaW4gdGhlIFVSTCB0ZW1wbGF0ZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB0aGlzIHBhcmFtZXRlciBpcyBhIHNpbmdsZSBzdHJpbmcsIGVhY2ggY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcgaXMgYSBzdWJkb21haW4uICBJZiBpdCBpc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIGFuIGFycmF5LCBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIGEgc3ViZG9tYWluLlxuICogQHByb3BlcnR5IHtDcmVkaXR8U3RyaW5nfSBbY3JlZGl0PScnXSBBIGNyZWRpdCBmb3IgdGhlIGRhdGEgc291cmNlLCB3aGljaCBpcyBkaXNwbGF5ZWQgb24gdGhlIGNhbnZhcy5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbWluaW11bUxldmVsPTBdIFRoZSBtaW5pbXVtIGxldmVsLW9mLWRldGFpbCBzdXBwb3J0ZWQgYnkgdGhlIGltYWdlcnkgcHJvdmlkZXIuICBUYWtlIGNhcmUgd2hlbiBzcGVjaWZ5aW5nXG4gKiAgICAgICAgICAgICAgICAgdGhpcyB0aGF0IHRoZSBudW1iZXIgb2YgdGlsZXMgYXQgdGhlIG1pbmltdW0gbGV2ZWwgaXMgc21hbGwsIHN1Y2ggYXMgZm91ciBvciBsZXNzLiAgQSBsYXJnZXIgbnVtYmVyIGlzIGxpa2VseVxuICogICAgICAgICAgICAgICAgIHRvIHJlc3VsdCBpbiByZW5kZXJpbmcgcHJvYmxlbXMuXG4gKiBAcHJvcGVydHkge051bWJlcn0gW21heGltdW1MZXZlbF0gVGhlIG1heGltdW0gbGV2ZWwtb2YtZGV0YWlsIHN1cHBvcnRlZCBieSB0aGUgaW1hZ2VyeSBwcm92aWRlciwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGlzIG5vIGxpbWl0LlxuICogQHByb3BlcnR5IHtSZWN0YW5nbGV9IFtyZWN0YW5nbGU9UmVjdGFuZ2xlLk1BWF9WQUxVRV0gVGhlIHJlY3RhbmdsZSwgaW4gcmFkaWFucywgY292ZXJlZCBieSB0aGUgaW1hZ2UuXG4gKiBAcHJvcGVydHkge1RpbGluZ1NjaGVtZX0gW3RpbGluZ1NjaGVtZT1XZWJNZXJjYXRvclRpbGluZ1NjaGVtZV0gVGhlIHRpbGluZyBzY2hlbWUgc3BlY2lmeWluZyBob3cgdGhlIGVsbGlwc29pZGFsXG4gKiBzdXJmYWNlIGlzIGJyb2tlbiBpbnRvIHRpbGVzLiAgSWYgdGhpcyBwYXJhbWV0ZXIgaXMgbm90IHByb3ZpZGVkLCBhIHtAbGluayBXZWJNZXJjYXRvclRpbGluZ1NjaGVtZX1cbiAqIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge0VsbGlwc29pZH0gW2VsbGlwc29pZF0gVGhlIGVsbGlwc29pZC4gIElmIHRoZSB0aWxpbmdTY2hlbWUgaXMgc3BlY2lmaWVkLFxuICogICAgICAgICAgICAgICAgICAgIHRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgYW5kIHRoZSB0aWxpbmcgc2NoZW1lJ3MgZWxsaXBzb2lkIGlzIHVzZWQgaW5zdGVhZC4gSWYgbmVpdGhlclxuICogICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlciBpcyBzcGVjaWZpZWQsIHRoZSBXR1M4NCBlbGxpcHNvaWQgaXMgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdGlsZVdpZHRoPTI1Nl0gUGl4ZWwgd2lkdGggb2YgaW1hZ2UgdGlsZXMuXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3RpbGVIZWlnaHQ9MjU2XSBQaXhlbCBoZWlnaHQgb2YgaW1hZ2UgdGlsZXMuXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtoYXNBbHBoYUNoYW5uZWw9dHJ1ZV0gdHJ1ZSBpZiB0aGUgaW1hZ2VzIHByb3ZpZGVkIGJ5IHRoaXMgaW1hZ2VyeSBwcm92aWRlclxuICogICAgICAgICAgICAgICAgICBpbmNsdWRlIGFuIGFscGhhIGNoYW5uZWw7IG90aGVyd2lzZSwgZmFsc2UuICBJZiB0aGlzIHByb3BlcnR5IGlzIGZhbHNlLCBhbiBhbHBoYSBjaGFubmVsLCBpZlxuICogICAgICAgICAgICAgICAgICBwcmVzZW50LCB3aWxsIGJlIGlnbm9yZWQuICBJZiB0aGlzIHByb3BlcnR5IGlzIHRydWUsIGFueSBpbWFnZXMgd2l0aG91dCBhbiBhbHBoYSBjaGFubmVsIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgYmUgdHJlYXRlZCBhcyBpZiB0aGVpciBhbHBoYSBpcyAxLjAgZXZlcnl3aGVyZS4gIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBmYWxzZSwgbWVtb3J5IHVzYWdlXG4gKiAgICAgICAgICAgICAgICAgIGFuZCB0ZXh0dXJlIHVwbG9hZCB0aW1lIGFyZSBwb3RlbnRpYWxseSByZWR1Y2VkLlxuICogQHByb3BlcnR5IHtHZXRGZWF0dXJlSW5mb0Zvcm1hdFtdfSBbZ2V0RmVhdHVyZUluZm9Gb3JtYXRzXSBUaGUgZm9ybWF0cyBpbiB3aGljaCB0byBnZXQgZmVhdHVyZSBpbmZvcm1hdGlvbiBhdCBhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmljIGxvY2F0aW9uIHdoZW4ge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3BpY2tGZWF0dXJlc30gaXMgaW52b2tlZC4gIElmIHRoaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyIGlzIG5vdCBzcGVjaWZpZWQsIGZlYXR1cmUgcGlja2luZyBpcyBkaXNhYmxlZC5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2VuYWJsZVBpY2tGZWF0dXJlcz10cnVlXSBJZiB0cnVlLCB7QGxpbmsgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIjcGlja0ZlYXR1cmVzfSB3aWxsXG4gKiAgICAgICAgcmVxdWVzdCB0aGUgPGNvZGU+cGlja0ZlYXR1cmVzVXJsPC9jb2RlPiBhbmQgYXR0ZW1wdCB0byBpbnRlcnByZXQgdGhlIGZlYXR1cmVzIGluY2x1ZGVkIGluIHRoZSByZXNwb25zZS4gIElmIGZhbHNlLFxuICogICAgICAgIHtAbGluayBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciNwaWNrRmVhdHVyZXN9IHdpbGwgaW1tZWRpYXRlbHkgcmV0dXJuIHVuZGVmaW5lZCAoaW5kaWNhdGluZyBubyBwaWNrYWJsZVxuICogICAgICAgIGZlYXR1cmVzKSB3aXRob3V0IGNvbW11bmljYXRpbmcgd2l0aCB0aGUgc2VydmVyLiAgU2V0IHRoaXMgcHJvcGVydHkgdG8gZmFsc2UgaWYgeW91IGtub3cgeW91ciBkYXRhXG4gKiAgICAgICAgc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcGlja2luZyBmZWF0dXJlcyBvciBpZiB5b3UgZG9uJ3Qgd2FudCB0aGlzIHByb3ZpZGVyJ3MgZmVhdHVyZXMgdG8gYmUgcGlja2FibGUuIE5vdGVcbiAqICAgICAgICB0aGF0IHRoaXMgY2FuIGJlIGR5bmFtaWNhbGx5IG92ZXJyaWRkZW4gYnkgbW9kaWZ5aW5nIHRoZSB7QGxpbmsgVXJpVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIjZW5hYmxlUGlja0ZlYXR1cmVzfVxuICogICAgICAgIHByb3BlcnR5LlxuICogQHByb3BlcnR5IHtPYmplY3R9IFtjdXN0b21UYWdzXSBBbGxvdyB0byByZXBsYWNlIGN1c3RvbSBrZXl3b3JkcyBpbiB0aGUgVVJMIHRlbXBsYXRlLiBUaGUgb2JqZWN0IG11c3QgaGF2ZSBzdHJpbmdzIGFzIGtleXMgYW5kIGZ1bmN0aW9ucyBhcyB2YWx1ZXMuXG4gKi9cblxuLyoqXG4gKiBQcm92aWRlcyBpbWFnZXJ5IGJ5IHJlcXVlc3RpbmcgdGlsZXMgdXNpbmcgYSBzcGVjaWZpZWQgVVJMIHRlbXBsYXRlLlxuICpcbiAqIEBhbGlhcyBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlclxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5Db25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnMgT2JqZWN0IGRlc2NyaWJpbmcgaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBY2Nlc3MgTmF0dXJhbCBFYXJ0aCBJSSBpbWFnZXJ5LCB3aGljaCB1c2VzIGEgVE1TIHRpbGluZyBzY2hlbWUgYW5kIEdlb2dyYXBoaWMgKEVQU0c6NDMyNikgcHJvamVjdFxuICogdmFyIHRtcyA9IG5ldyBDZXNpdW0uVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIoe1xuICogICAgIHVybCA6IENlc2l1bS5idWlsZE1vZHVsZVVybCgnQXNzZXRzL1RleHR1cmVzL05hdHVyYWxFYXJ0aElJJykgKyAnL3t6fS97eH0ve3JldmVyc2VZfS5qcGcnLFxuICogICAgIGNyZWRpdCA6ICfCqSBBbmFseXRpY2FsIEdyYXBoaWNzLCBJbmMuJyxcbiAqICAgICB0aWxpbmdTY2hlbWUgOiBuZXcgQ2VzaXVtLkdlb2dyYXBoaWNUaWxpbmdTY2hlbWUoKSxcbiAqICAgICBtYXhpbXVtTGV2ZWwgOiA1XG4gKiB9KTtcbiAqIC8vIEFjY2VzcyB0aGUgQ2FydG9EQiBQb3NpdHJvbiBiYXNlbWFwLCB3aGljaCB1c2VzIGFuIE9wZW5TdHJlZXRNYXAtbGlrZSB0aWxpbmcgc2NoZW1lLlxuICogdmFyIHBvc2l0cm9uID0gbmV3IENlc2l1bS5VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcih7XG4gKiAgICAgdXJsIDogJ2h0dHA6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL2xpZ2h0X2FsbC97en0ve3h9L3t5fS5wbmcnLFxuICogICAgIGNyZWRpdCA6ICdNYXAgdGlsZXMgYnkgQ2FydG9EQiwgdW5kZXIgQ0MgQlkgMy4wLiBEYXRhIGJ5IE9wZW5TdHJlZXRNYXAsIHVuZGVyIE9EYkwuJ1xuICogfSk7XG4gKiAvLyBBY2Nlc3MgYSBXZWIgTWFwIFNlcnZpY2UgKFdNUykgc2VydmVyLlxuICogdmFyIHdtcyA9IG5ldyBDZXNpdW0uVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIoe1xuICogICAgdXJsIDogJ2h0dHBzOi8vcHJvZ3JhbXMuY29tbXVuaWNhdGlvbnMuZ292LmF1L2dlb3NlcnZlci9vd3M/dGlsZWQ9dHJ1ZSYnICtcbiAqICAgICAgICAgICd0cmFuc3BhcmVudD10cnVlJmZvcm1hdD1pbWFnZSUyRnBuZyZleGNlcHRpb25zPWFwcGxpY2F0aW9uJTJGdm5kLm9nYy5zZV94bWwmJyArXG4gKiAgICAgICAgICAnc3R5bGVzPSZzZXJ2aWNlPVdNUyZ2ZXJzaW9uPTEuMS4xJnJlcXVlc3Q9R2V0TWFwJicgK1xuICogICAgICAgICAgJ2xheWVycz1wdWJsaWMlM0FNeUJyb2FkYmFuZF9BdmFpbGFiaWxpdHkmc3JzPUVQU0clM0EzODU3JicgK1xuICogICAgICAgICAgJ2Jib3g9e3dlc3RQcm9qZWN0ZWR9JTJDe3NvdXRoUHJvamVjdGVkfSUyQ3tlYXN0UHJvamVjdGVkfSUyQ3tub3J0aFByb2plY3RlZH0mJyArXG4gKiAgICAgICAgICAnd2lkdGg9MjU2JmhlaWdodD0yNTYnLFxuICogICAgcmVjdGFuZ2xlIDogQ2VzaXVtLlJlY3RhbmdsZS5mcm9tRGVncmVlcyg5Ni43OTkzOTMsIC00My41OTgyMTQ5OTkwNTc4MjQsIDE1My42MzkyNTcwMDAwMDAwMSwgLTkuMjE1OTIxOTk5NzAxMylcbiAqIH0pO1xuICogLy8gVXNpbmcgY3VzdG9tIHRhZ3MgaW4geW91ciB0ZW1wbGF0ZSB1cmwuXG4gKiB2YXIgY3VzdG9tID0gbmV3IENlc2l1bS5VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcih7XG4gKiAgICB1cmwgOiAnaHR0cHM6Ly95b3VydXJsL3tUaW1lfS97en0ve3l9L3t4fS5wbmcnLFxuICogICAgY3VzdG9tVGFncyA6IHtcbiAqICAgICAgICBUaW1lOiBmdW5jdGlvbihpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gKiAgICAgICAgICAgIHJldHVybiAnMjAxNzEyMzEnXG4gKiAgICAgICAgfVxuICogICAgfVxuICogfSk7XG4gKlxuICogQHNlZSBBcmNHaXNNYXBTZXJ2ZXJJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgQmluZ01hcHNJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgR29vZ2xlRWFydGhFbnRlcnByaXNlTWFwc1Byb3ZpZGVyXG4gKiBAc2VlIE9wZW5TdHJlZXRNYXBJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgU2luZ2xlVGlsZUltYWdlcnlQcm92aWRlclxuICogQHNlZSBUaWxlTWFwU2VydmljZUltYWdlcnlQcm92aWRlclxuICogQHNlZSBXZWJNYXBTZXJ2aWNlSW1hZ2VyeVByb3ZpZGVyXG4gKiBAc2VlIFdlYk1hcFRpbGVTZXJ2aWNlSW1hZ2VyeVByb3ZpZGVyXG4gKi9cbmZ1bmN0aW9uIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKG9wdGlvbnMpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwib3B0aW9ucyBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgaWYgKCF3aGVuLmlzUHJvbWlzZShvcHRpb25zKSAmJiAhZGVmaW5lZChvcHRpb25zLnVybCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLl9lcnJvckV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgdGhpcy5fcmVzb3VyY2UgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3VybFNjaGVtZVplcm9QYWRkaW5nID0gdW5kZWZpbmVkO1xuICB0aGlzLl9waWNrRmVhdHVyZXNSZXNvdXJjZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdGlsZVdpZHRoID0gdW5kZWZpbmVkO1xuICB0aGlzLl90aWxlSGVpZ2h0ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tYXhpbXVtTGV2ZWwgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX21pbmltdW1MZXZlbCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdGlsaW5nU2NoZW1lID0gdW5kZWZpbmVkO1xuICB0aGlzLl9yZWN0YW5nbGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3RpbGVEaXNjYXJkUG9saWN5ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9jcmVkaXQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2hhc0FscGhhQ2hhbm5lbCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcmVhZHlQcm9taXNlID0gdW5kZWZpbmVkO1xuICB0aGlzLl90YWdzID0gdW5kZWZpbmVkO1xuICB0aGlzLl9waWNrRmVhdHVyZXNUYWdzID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBhbHBoYSBibGVuZGluZyB2YWx1ZSBvZiB0aGlzIHByb3ZpZGVyLCB3aXRoIDAuMCByZXByZXNlbnRpbmcgZnVsbHkgdHJhbnNwYXJlbnQgYW5kXG4gICAqIDEuMCByZXByZXNlbnRpbmcgZnVsbHkgb3BhcXVlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRBbHBoYSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWxwaGEgYmxlbmRpbmcgdmFsdWUgb24gdGhlIG5pZ2h0IHNpZGUgb2YgdGhlIGdsb2JlIG9mIHRoaXMgcHJvdmlkZXIsIHdpdGggMC4wIHJlcHJlc2VudGluZyBmdWxseSB0cmFuc3BhcmVudCBhbmRcbiAgICogMS4wIHJlcHJlc2VudGluZyBmdWxseSBvcGFxdWUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdE5pZ2h0QWxwaGEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFscGhhIGJsZW5kaW5nIHZhbHVlIG9uIHRoZSBkYXkgc2lkZSBvZiB0aGUgZ2xvYmUgb2YgdGhpcyBwcm92aWRlciwgd2l0aCAwLjAgcmVwcmVzZW50aW5nIGZ1bGx5IHRyYW5zcGFyZW50IGFuZFxuICAgKiAxLjAgcmVwcmVzZW50aW5nIGZ1bGx5IG9wYXF1ZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0RGF5QWxwaGEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGJyaWdodG5lc3Mgb2YgdGhpcyBwcm92aWRlci4gIDEuMCB1c2VzIHRoZSB1bm1vZGlmaWVkIGltYWdlcnkgY29sb3IuICBMZXNzIHRoYW4gMS4wXG4gICAqIG1ha2VzIHRoZSBpbWFnZXJ5IGRhcmtlciB3aGlsZSBncmVhdGVyIHRoYW4gMS4wIG1ha2VzIGl0IGJyaWdodGVyLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRCcmlnaHRuZXNzID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb250cmFzdCBvZiB0aGlzIHByb3ZpZGVyLiAgMS4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci4gIExlc3MgdGhhbiAxLjAgcmVkdWNlc1xuICAgKiB0aGUgY29udHJhc3Qgd2hpbGUgZ3JlYXRlciB0aGFuIDEuMCBpbmNyZWFzZXMgaXQuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdENvbnRyYXN0ID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBodWUgb2YgdGhpcyBwcm92aWRlciBpbiByYWRpYW5zLiAwLjAgdXNlcyB0aGUgdW5tb2RpZmllZCBpbWFnZXJ5IGNvbG9yLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRIdWUgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHNhdHVyYXRpb24gb2YgdGhpcyBwcm92aWRlci4gMS4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci4gTGVzcyB0aGFuIDEuMCByZWR1Y2VzIHRoZVxuICAgKiBzYXR1cmF0aW9uIHdoaWxlIGdyZWF0ZXIgdGhhbiAxLjAgaW5jcmVhc2VzIGl0LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRTYXR1cmF0aW9uID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBnYW1tYSBjb3JyZWN0aW9uIHRvIGFwcGx5IHRvIHRoaXMgcHJvdmlkZXIuICAxLjAgdXNlcyB0aGUgdW5tb2RpZmllZCBpbWFnZXJ5IGNvbG9yLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRHYW1tYSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdGV4dHVyZSBtaW5pZmljYXRpb24gZmlsdGVyIHRvIGFwcGx5IHRvIHRoaXMgcHJvdmlkZXIuXG4gICAqXG4gICAqIEB0eXBlIHtUZXh0dXJlTWluaWZpY2F0aW9uRmlsdGVyfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdE1pbmlmaWNhdGlvbkZpbHRlciA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdGV4dHVyZSBtYWduaWZpY2F0aW9uIGZpbHRlciB0byBhcHBseSB0byB0aGlzIHByb3ZpZGVyLlxuICAgKlxuICAgKiBAdHlwZSB7VGV4dHVyZU1hZ25pZmljYXRpb25GaWx0ZXJ9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0TWFnbmlmaWNhdGlvbkZpbHRlciA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIGZlYXR1cmUgcGlja2luZyBpcyBlbmFibGVkLiAgSWYgdHJ1ZSwge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3BpY2tGZWF0dXJlc30gd2lsbFxuICAgKiByZXF1ZXN0IHRoZSA8Y29kZT5vcHRpb25zLnBpY2tGZWF0dXJlc1VybDwvY29kZT4gYW5kIGF0dGVtcHQgdG8gaW50ZXJwcmV0IHRoZSBmZWF0dXJlcyBpbmNsdWRlZCBpbiB0aGUgcmVzcG9uc2UuICBJZiBmYWxzZSxcbiAgICoge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3BpY2tGZWF0dXJlc30gd2lsbCBpbW1lZGlhdGVseSByZXR1cm4gdW5kZWZpbmVkIChpbmRpY2F0aW5nIG5vIHBpY2thYmxlXG4gICAqIGZlYXR1cmVzKSB3aXRob3V0IGNvbW11bmljYXRpbmcgd2l0aCB0aGUgc2VydmVyLiAgU2V0IHRoaXMgcHJvcGVydHkgdG8gZmFsc2UgaWYgeW91IGtub3cgeW91ciBkYXRhXG4gICAqIHNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IHBpY2tpbmcgZmVhdHVyZXMgb3IgaWYgeW91IGRvbid0IHdhbnQgdGhpcyBwcm92aWRlcidzIGZlYXR1cmVzIHRvIGJlIHBpY2thYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5lbmFibGVQaWNrRmVhdHVyZXMgPSB0cnVlO1xuXG4gIHRoaXMucmVpbml0aWFsaXplKG9wdGlvbnMpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCB0ZW1wbGF0ZSB0byB1c2UgdG8gcmVxdWVzdCB0aWxlcy4gIEl0IGhhcyB0aGUgZm9sbG93aW5nIGtleXdvcmRzOlxuICAgKiA8dWw+XG4gICAqICA8bGk+IDxjb2RlPnt6fTwvY29kZT46IFRoZSBsZXZlbCBvZiB0aGUgdGlsZSBpbiB0aGUgdGlsaW5nIHNjaGVtZS4gIExldmVsIHplcm8gaXMgdGhlIHJvb3Qgb2YgdGhlIHF1YWR0cmVlIHB5cmFtaWQuPC9saT5cbiAgICogIDxsaT4gPGNvZGU+e3h9PC9jb2RlPjogVGhlIHRpbGUgWCBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLCB3aGVyZSAwIGlzIHRoZSBXZXN0ZXJubW9zdCB0aWxlLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPnt5fTwvY29kZT46IFRoZSB0aWxlIFkgY29vcmRpbmF0ZSBpbiB0aGUgdGlsaW5nIHNjaGVtZSwgd2hlcmUgMCBpcyB0aGUgTm9ydGhlcm5tb3N0IHRpbGUuPC9saT5cbiAgICogIDxsaT4gPGNvZGU+e3N9PC9jb2RlPjogT25lIG9mIHRoZSBhdmFpbGFibGUgc3ViZG9tYWlucywgdXNlZCB0byBvdmVyY29tZSBicm93c2VyIGxpbWl0cyBvbiB0aGUgbnVtYmVyIG9mIHNpbXVsdGFuZW91cyByZXF1ZXN0cyBwZXIgaG9zdC48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57cmV2ZXJzZVh9PC9jb2RlPjogVGhlIHRpbGUgWCBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLCB3aGVyZSAwIGlzIHRoZSBFYXN0ZXJubW9zdCB0aWxlLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPntyZXZlcnNlWX08L2NvZGU+OiBUaGUgdGlsZSBZIGNvb3JkaW5hdGUgaW4gdGhlIHRpbGluZyBzY2hlbWUsIHdoZXJlIDAgaXMgdGhlIFNvdXRoZXJubW9zdCB0aWxlLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPntyZXZlcnNlWn08L2NvZGU+OiBUaGUgbGV2ZWwgb2YgdGhlIHRpbGUgaW4gdGhlIHRpbGluZyBzY2hlbWUsIHdoZXJlIGxldmVsIHplcm8gaXMgdGhlIG1heGltdW0gbGV2ZWwgb2YgdGhlIHF1YWR0cmVlIHB5cmFtaWQuICBJbiBvcmRlciB0byB1c2UgcmV2ZXJzZVosIG1heGltdW1MZXZlbCBtdXN0IGJlIGRlZmluZWQuPC9saT5cbiAgICogIDxsaT4gPGNvZGU+e3dlc3REZWdyZWVzfTwvY29kZT46IFRoZSBXZXN0ZXJuIGVkZ2Ugb2YgdGhlIHRpbGUgaW4gZ2VvZGV0aWMgZGVncmVlcy48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57c291dGhEZWdyZWVzfTwvY29kZT46IFRoZSBTb3V0aGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIGdlb2RldGljIGRlZ3JlZXMuPC9saT5cbiAgICogIDxsaT4gPGNvZGU+e2Vhc3REZWdyZWVzfTwvY29kZT46IFRoZSBFYXN0ZXJuIGVkZ2Ugb2YgdGhlIHRpbGUgaW4gZ2VvZGV0aWMgZGVncmVlcy48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57bm9ydGhEZWdyZWVzfTwvY29kZT46IFRoZSBOb3J0aGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIGdlb2RldGljIGRlZ3JlZXMuPC9saT5cbiAgICogIDxsaT4gPGNvZGU+e3dlc3RQcm9qZWN0ZWR9PC9jb2RlPjogVGhlIFdlc3Rlcm4gZWRnZSBvZiB0aGUgdGlsZSBpbiBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgb2YgdGhlIHRpbGluZyBzY2hlbWUuPC9saT5cbiAgICogIDxsaT4gPGNvZGU+e3NvdXRoUHJvamVjdGVkfTwvY29kZT46IFRoZSBTb3V0aGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57ZWFzdFByb2plY3RlZH08L2NvZGU+OiBUaGUgRWFzdGVybiBlZGdlIG9mIHRoZSB0aWxlIGluIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57bm9ydGhQcm9qZWN0ZWR9PC9jb2RlPjogVGhlIE5vcnRoZXJuIGVkZ2Ugb2YgdGhlIHRpbGUgaW4gcHJvamVjdGVkIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPnt3aWR0aH08L2NvZGU+OiBUaGUgd2lkdGggb2YgZWFjaCB0aWxlIGluIHBpeGVscy48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57aGVpZ2h0fTwvY29kZT46IFRoZSBoZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVscy48L2xpPlxuICAgKiA8L3VsPlxuICAgKiBAbWVtYmVyb2YgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdXJsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzb3VyY2UudXJsO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCBzY2hlbWUgemVybyBwYWRkaW5nIGZvciBlYWNoIHRpbGUgY29vcmRpbmF0ZS4gVGhlIGZvcm1hdCBpcyAnMDAwJyB3aGVyZSBlYWNoIGNvb3JkaW5hdGUgd2lsbCBiZSBwYWRkZWQgb25cbiAgICogdGhlIGxlZnQgd2l0aCB6ZXJvcyB0byBtYXRjaCB0aGUgd2lkdGggb2YgdGhlIHBhc3NlZCBzdHJpbmcgb2YgemVyb3MuIGUuZy4gU2V0dGluZzpcbiAgICogdXJsU2NoZW1lWmVyb1BhZGRpbmcgOiB7ICd7eH0nIDogJzAwMDAnfVxuICAgKiB3aWxsIGNhdXNlIGFuICd4JyB2YWx1ZSBvZiAxMiB0byByZXR1cm4gdGhlIHN0cmluZyAnMDAxMicgZm9yIHt4fSBpbiB0aGUgZ2VuZXJhdGVkIFVSTC5cbiAgICogSXQgaGFzIHRoZSBmb2xsb3dpbmcga2V5d29yZHM6XG4gICAqIDx1bD5cbiAgICogIDxsaT4gPGNvZGU+e3p9PC9jb2RlPjogVGhlIHplcm8gcGFkZGluZyBmb3IgdGhlIGxldmVsIG9mIHRoZSB0aWxlIGluIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPnt4fTwvY29kZT46IFRoZSB6ZXJvIHBhZGRpbmcgZm9yIHRoZSB0aWxlIFggY29vcmRpbmF0ZSBpbiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICAgKiAgPGxpPiA8Y29kZT57eX08L2NvZGU+OiBUaGUgemVybyBwYWRkaW5nIGZvciB0aGUgdGhlIHRpbGUgWSBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPntyZXZlcnNlWH08L2NvZGU+OiBUaGUgemVybyBwYWRkaW5nIGZvciB0aGUgdGlsZSByZXZlcnNlWCBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPntyZXZlcnNlWX08L2NvZGU+OiBUaGUgemVybyBwYWRkaW5nIGZvciB0aGUgdGlsZSByZXZlcnNlWSBjb29yZGluYXRlIGluIHRoZSB0aWxpbmcgc2NoZW1lLjwvbGk+XG4gICAqICA8bGk+IDxjb2RlPntyZXZlcnNlWn08L2NvZGU+OiBUaGUgemVybyBwYWRkaW5nIGZvciB0aGUgcmV2ZXJzZVogY29vcmRpbmF0ZSBvZiB0aGUgdGlsZSBpbiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICAgKiA8L3VsPlxuICAgKiBAbWVtYmVyb2YgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdXJsU2NoZW1lWmVyb1BhZGRpbmc6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl91cmxTY2hlbWVaZXJvUGFkZGluZztcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBVUkwgdGVtcGxhdGUgdG8gdXNlIHRvIHVzZSB0byBwaWNrIGZlYXR1cmVzLiAgSWYgdGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3BlY2lmaWVkLFxuICAgKiB7QGxpbmsgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIjcGlja0ZlYXR1cmVzfSB3aWxsIGltbWVkaWF0ZWx5IHJldHVybiB1bmRlZmluZWQsIGluZGljYXRpbmcgbm9cbiAgICogZmVhdHVyZXMgcGlja2VkLiAgVGhlIFVSTCB0ZW1wbGF0ZSBzdXBwb3J0cyBhbGwgb2YgdGhlIGtleXdvcmRzIHN1cHBvcnRlZCBieSB0aGVcbiAgICoge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3VybH0gcHJvcGVydHksIHBsdXMgdGhlIGZvbGxvd2luZzpcbiAgICogPHVsPlxuICAgKiAgICAgPGxpPjxjb2RlPntpfTwvY29kZT46IFRoZSBwaXhlbCBjb2x1bW4gKGhvcml6b250YWwgY29vcmRpbmF0ZSkgb2YgdGhlIHBpY2tlZCBwb3NpdGlvbiwgd2hlcmUgdGhlIFdlc3Rlcm5tb3N0IHBpeGVsIGlzIDAuPC9saT5cbiAgICogICAgIDxsaT48Y29kZT57an08L2NvZGU+OiBUaGUgcGl4ZWwgcm93ICh2ZXJ0aWNhbCBjb29yZGluYXRlKSBvZiB0aGUgcGlja2VkIHBvc2l0aW9uLCB3aGVyZSB0aGUgTm9ydGhlcm5tb3N0IHBpeGVsIGlzIDAuPC9saT5cbiAgICogICAgIDxsaT48Y29kZT57cmV2ZXJzZUl9PC9jb2RlPjogVGhlIHBpeGVsIGNvbHVtbiAoaG9yaXpvbnRhbCBjb29yZGluYXRlKSBvZiB0aGUgcGlja2VkIHBvc2l0aW9uLCB3aGVyZSB0aGUgRWFzdGVybm1vc3QgcGl4ZWwgaXMgMC48L2xpPlxuICAgKiAgICAgPGxpPjxjb2RlPntyZXZlcnNlSn08L2NvZGU+OiBUaGUgcGl4ZWwgcm93ICh2ZXJ0aWNhbCBjb29yZGluYXRlKSBvZiB0aGUgcGlja2VkIHBvc2l0aW9uLCB3aGVyZSB0aGUgU291dGhlcm5tb3N0IHBpeGVsIGlzIDAuPC9saT5cbiAgICogICAgIDxsaT48Y29kZT57bG9uZ2l0dWRlRGVncmVlc308L2NvZGU+OiBUaGUgbG9uZ2l0dWRlIG9mIHRoZSBwaWNrZWQgcG9zaXRpb24gaW4gZGVncmVlcy48L2xpPlxuICAgKiAgICAgPGxpPjxjb2RlPntsYXRpdHVkZURlZ3JlZXN9PC9jb2RlPjogVGhlIGxhdGl0dWRlIG9mIHRoZSBwaWNrZWQgcG9zaXRpb24gaW4gZGVncmVlcy48L2xpPlxuICAgKiAgICAgPGxpPjxjb2RlPntsb25naXR1ZGVQcm9qZWN0ZWR9PC9jb2RlPjogVGhlIGxvbmdpdHVkZSBvZiB0aGUgcGlja2VkIHBvc2l0aW9uIGluIHRoZSBwcm9qZWN0ZWQgY29vcmRpbmF0ZXMgb2YgdGhlIHRpbGluZyBzY2hlbWUuPC9saT5cbiAgICogICAgIDxsaT48Y29kZT57bGF0aXR1ZGVQcm9qZWN0ZWR9PC9jb2RlPjogVGhlIGxhdGl0dWRlIG9mIHRoZSBwaWNrZWQgcG9zaXRpb24gaW4gdGhlIHByb2plY3RlZCBjb29yZGluYXRlcyBvZiB0aGUgdGlsaW5nIHNjaGVtZS48L2xpPlxuICAgKiAgICAgPGxpPjxjb2RlPntmb3JtYXR9PC9jb2RlPjogVGhlIGZvcm1hdCBpbiB3aGljaCB0byBnZXQgZmVhdHVyZSBpbmZvcm1hdGlvbiwgYXMgc3BlY2lmaWVkIGluIHRoZSB7QGxpbmsgR2V0RmVhdHVyZUluZm9Gb3JtYXR9LjwvbGk+XG4gICAqIDwvdWw+XG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBwaWNrRmVhdHVyZXNVcmw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9waWNrRmVhdHVyZXNSZXNvdXJjZS51cmw7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgcHJveHkgdXNlZCBieSB0aGlzIHByb3ZpZGVyLlxuICAgKiBAbWVtYmVyb2YgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm94eX1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgcHJveHk6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXNvdXJjZS5wcm94eTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB3aWR0aCBvZiBlYWNoIHRpbGUsIGluIHBpeGVscy4gVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IDI1NlxuICAgKi9cbiAgdGlsZVdpZHRoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgICAgICBcInRpbGVXaWR0aCBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICAgIHJldHVybiB0aGlzLl90aWxlV2lkdGg7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgaGVpZ2h0IG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IDI1NlxuICAgKi9cbiAgdGlsZUhlaWdodDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgICAgXCJ0aWxlSGVpZ2h0IG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbGVIZWlnaHQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgbWF4aW11bSBsZXZlbC1vZi1kZXRhaWwgdGhhdCBjYW4gYmUgcmVxdWVzdGVkLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgaXMgbm8gbGltaXQuXG4gICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICBtYXhpbXVtTGV2ZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFxuICAgICAgICAgIFwibWF4aW11bUxldmVsIG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICAgICAgcmV0dXJuIHRoaXMuX21heGltdW1MZXZlbDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtaW5pbXVtIGxldmVsLW9mLWRldGFpbCB0aGF0IGNhbiBiZSByZXF1ZXN0ZWQuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgbWluaW11bUxldmVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgICAgICBcIm1pbmltdW1MZXZlbCBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICAgIHJldHVybiB0aGlzLl9taW5pbXVtTGV2ZWw7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgdGlsaW5nIHNjaGVtZSB1c2VkIGJ5IHRoaXMgcHJvdmlkZXIuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7VGlsaW5nU2NoZW1lfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgbmV3IFdlYk1lcmNhdG9yVGlsaW5nU2NoZW1lKClcbiAgICovXG4gIHRpbGluZ1NjaGVtZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgICAgXCJ0aWxpbmdTY2hlbWUgbXVzdCBub3QgYmUgY2FsbGVkIGJlZm9yZSB0aGUgaW1hZ2VyeSBwcm92aWRlciBpcyByZWFkeS5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gICAgICByZXR1cm4gdGhpcy5fdGlsaW5nU2NoZW1lO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHJlY3RhbmdsZSwgaW4gcmFkaWFucywgb2YgdGhlIGltYWdlcnkgcHJvdmlkZWQgYnkgdGhpcyBpbnN0YW5jZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtSZWN0YW5nbGV9XG4gICAqIEByZWFkb25seVxuICAgKiBAZGVmYXVsdCB0aWxpbmdTY2hlbWUucmVjdGFuZ2xlXG4gICAqL1xuICByZWN0YW5nbGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFxuICAgICAgICAgIFwicmVjdGFuZ2xlIG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICAgICAgcmV0dXJuIHRoaXMuX3JlY3RhbmdsZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0aWxlIGRpc2NhcmQgcG9saWN5LiAgSWYgbm90IHVuZGVmaW5lZCwgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlc3BvbnNpYmxlXG4gICAqIGZvciBmaWx0ZXJpbmcgb3V0IFwibWlzc2luZ1wiIHRpbGVzIHZpYSBpdHMgc2hvdWxkRGlzY2FyZEltYWdlIGZ1bmN0aW9uLiAgSWYgdGhpcyBmdW5jdGlvblxuICAgKiByZXR1cm5zIHVuZGVmaW5lZCwgbm8gdGlsZXMgYXJlIGZpbHRlcmVkLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1RpbGVEaXNjYXJkUG9saWN5fVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aWxlRGlzY2FyZFBvbGljeToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgICAgXCJ0aWxlRGlzY2FyZFBvbGljeSBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICAgIHJldHVybiB0aGlzLl90aWxlRGlzY2FyZFBvbGljeTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIGV2ZW50IHRoYXQgaXMgcmFpc2VkIHdoZW4gdGhlIGltYWdlcnkgcHJvdmlkZXIgZW5jb3VudGVycyBhbiBhc3luY2hyb25vdXMgZXJyb3IuICBCeSBzdWJzY3JpYmluZ1xuICAgKiB0byB0aGUgZXZlbnQsIHlvdSB3aWxsIGJlIG5vdGlmaWVkIG9mIHRoZSBlcnJvciBhbmQgY2FuIHBvdGVudGlhbGx5IHJlY292ZXIgZnJvbSBpdC4gIEV2ZW50IGxpc3RlbmVyc1xuICAgKiBhcmUgcGFzc2VkIGFuIGluc3RhbmNlIG9mIHtAbGluayBUaWxlUHJvdmlkZXJFcnJvcn0uXG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0V2ZW50fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGVycm9yRXZlbnQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lcnJvckV2ZW50O1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBwcm92aWRlciBpcyByZWFkeSBmb3IgdXNlLlxuICAgKiBAbWVtYmVyb2YgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGVmaW5lZCh0aGlzLl9yZXNvdXJjZSk7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0cnVlIHdoZW4gdGhlIHByb3ZpZGVyIGlzIHJlYWR5IGZvciB1c2UuXG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb21pc2UuPEJvb2xlYW4+fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5UHJvbWlzZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5UHJvbWlzZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjcmVkaXQgdG8gZGlzcGxheSB3aGVuIHRoaXMgaW1hZ2VyeSBwcm92aWRlciBpcyBhY3RpdmUuICBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIGNyZWRpdFxuICAgKiB0aGUgc291cmNlIG9mIHRoZSBpbWFnZXJ5LiAgVGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0NyZWRpdH1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgY3JlZGl0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICAgICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgICAgICBcImNyZWRpdCBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVkaXQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIGltYWdlcyBwcm92aWRlZCBieSB0aGlzIGltYWdlcnkgcHJvdmlkZXJcbiAgICogaW5jbHVkZSBhbiBhbHBoYSBjaGFubmVsLiAgSWYgdGhpcyBwcm9wZXJ0eSBpcyBmYWxzZSwgYW4gYWxwaGEgY2hhbm5lbCwgaWYgcHJlc2VudCwgd2lsbFxuICAgKiBiZSBpZ25vcmVkLiAgSWYgdGhpcyBwcm9wZXJ0eSBpcyB0cnVlLCBhbnkgaW1hZ2VzIHdpdGhvdXQgYW4gYWxwaGEgY2hhbm5lbCB3aWxsIGJlIHRyZWF0ZWRcbiAgICogYXMgaWYgdGhlaXIgYWxwaGEgaXMgMS4wIGV2ZXJ5d2hlcmUuICBXaGVuIHRoaXMgcHJvcGVydHkgaXMgZmFsc2UsIG1lbW9yeSB1c2FnZVxuICAgKiBhbmQgdGV4dHVyZSB1cGxvYWQgdGltZSBhcmUgcmVkdWNlZC4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGhhc0FscGhhQ2hhbm5lbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgICAgXCJoYXNBbHBoYUNoYW5uZWwgbXVzdCBub3QgYmUgY2FsbGVkIGJlZm9yZSB0aGUgaW1hZ2VyeSBwcm92aWRlciBpcyByZWFkeS5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gICAgICByZXR1cm4gdGhpcy5faGFzQWxwaGFDaGFubmVsO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBSZWluaXRpYWxpemVzIHRoaXMgaW5zdGFuY2UuICBSZWluaXRpYWxpemluZyBhbiBpbnN0YW5jZSBhbHJlYWR5IGluIHVzZSBpcyBzdXBwb3J0ZWQsIGJ1dCBpdCBpcyBub3RcbiAqIHJlY29tbWVuZGVkIGJlY2F1c2UgZXhpc3RpbmcgdGlsZXMgcHJvdmlkZWQgYnkgdGhlIGltYWdlcnkgcHJvdmlkZXIgd2lsbCBub3QgYmUgdXBkYXRlZC5cbiAqXG4gKiBAcGFyYW0ge1Byb21pc2UuPE9iamVjdD58T2JqZWN0fSBvcHRpb25zIEFueSBvZiB0aGUgb3B0aW9ucyB0aGF0IG1heSBiZSBwYXNzZWQgdG8gdGhlIHtAbGluayBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcn0gY29uc3RydWN0b3IuXG4gKi9cblVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5yZWluaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgdGhhdCA9IHRoaXM7XG4gIHRoYXQuX3JlYWR5UHJvbWlzZSA9IHdoZW4ob3B0aW9ucykudGhlbihmdW5jdGlvbiAocHJvcGVydGllcykge1xuICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgaWYgKCFkZWZpbmVkKHByb3BlcnRpZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zIGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgaWYgKCFkZWZpbmVkKHByb3BlcnRpZXMudXJsKSkge1xuICAgICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwib3B0aW9ucy51cmwgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAgIHZhciBjdXN0b21UYWdzID0gcHJvcGVydGllcy5jdXN0b21UYWdzO1xuICAgIHZhciBhbGxUYWdzID0gY29tYmluZSh0YWdzLCBjdXN0b21UYWdzKTtcbiAgICB2YXIgYWxsUGlja0ZlYXR1cmVzVGFncyA9IGNvbWJpbmUocGlja0ZlYXR1cmVzVGFncywgY3VzdG9tVGFncyk7XG4gICAgdmFyIHJlc291cmNlID0gUmVzb3VyY2UuY3JlYXRlSWZOZWVkZWQocHJvcGVydGllcy51cmwpO1xuICAgIHZhciBwaWNrRmVhdHVyZXNSZXNvdXJjZSA9IFJlc291cmNlLmNyZWF0ZUlmTmVlZGVkKFxuICAgICAgcHJvcGVydGllcy5waWNrRmVhdHVyZXNVcmxcbiAgICApO1xuXG4gICAgdGhhdC5lbmFibGVQaWNrRmVhdHVyZXMgPSBkZWZhdWx0VmFsdWUoXG4gICAgICBwcm9wZXJ0aWVzLmVuYWJsZVBpY2tGZWF0dXJlcyxcbiAgICAgIHRoYXQuZW5hYmxlUGlja0ZlYXR1cmVzXG4gICAgKTtcbiAgICB0aGF0Ll91cmxTY2hlbWVaZXJvUGFkZGluZyA9IGRlZmF1bHRWYWx1ZShcbiAgICAgIHByb3BlcnRpZXMudXJsU2NoZW1lWmVyb1BhZGRpbmcsXG4gICAgICB0aGF0LnVybFNjaGVtZVplcm9QYWRkaW5nXG4gICAgKTtcbiAgICB0aGF0Ll90aWxlRGlzY2FyZFBvbGljeSA9IHByb3BlcnRpZXMudGlsZURpc2NhcmRQb2xpY3k7XG4gICAgdGhhdC5fZ2V0RmVhdHVyZUluZm9Gb3JtYXRzID0gcHJvcGVydGllcy5nZXRGZWF0dXJlSW5mb0Zvcm1hdHM7XG5cbiAgICB0aGF0Ll9zdWJkb21haW5zID0gcHJvcGVydGllcy5zdWJkb21haW5zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoYXQuX3N1YmRvbWFpbnMpKSB7XG4gICAgICB0aGF0Ll9zdWJkb21haW5zID0gdGhhdC5fc3ViZG9tYWlucy5zbGljZSgpO1xuICAgIH0gZWxzZSBpZiAoZGVmaW5lZCh0aGF0Ll9zdWJkb21haW5zKSAmJiB0aGF0Ll9zdWJkb21haW5zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoYXQuX3N1YmRvbWFpbnMgPSB0aGF0Ll9zdWJkb21haW5zLnNwbGl0KFwiXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGF0Ll9zdWJkb21haW5zID0gW1wiYVwiLCBcImJcIiwgXCJjXCJdO1xuICAgIH1cblxuICAgIHRoYXQuX3RpbGVXaWR0aCA9IGRlZmF1bHRWYWx1ZShwcm9wZXJ0aWVzLnRpbGVXaWR0aCwgMjU2KTtcbiAgICB0aGF0Ll90aWxlSGVpZ2h0ID0gZGVmYXVsdFZhbHVlKHByb3BlcnRpZXMudGlsZUhlaWdodCwgMjU2KTtcbiAgICB0aGF0Ll9taW5pbXVtTGV2ZWwgPSBkZWZhdWx0VmFsdWUocHJvcGVydGllcy5taW5pbXVtTGV2ZWwsIDApO1xuICAgIHRoYXQuX21heGltdW1MZXZlbCA9IHByb3BlcnRpZXMubWF4aW11bUxldmVsO1xuICAgIHRoYXQuX3RpbGluZ1NjaGVtZSA9IGRlZmF1bHRWYWx1ZShcbiAgICAgIHByb3BlcnRpZXMudGlsaW5nU2NoZW1lLFxuICAgICAgbmV3IFdlYk1lcmNhdG9yVGlsaW5nU2NoZW1lKHsgZWxsaXBzb2lkOiBwcm9wZXJ0aWVzLmVsbGlwc29pZCB9KVxuICAgICk7XG4gICAgdGhhdC5fcmVjdGFuZ2xlID0gZGVmYXVsdFZhbHVlKFxuICAgICAgcHJvcGVydGllcy5yZWN0YW5nbGUsXG4gICAgICB0aGF0Ll90aWxpbmdTY2hlbWUucmVjdGFuZ2xlXG4gICAgKTtcbiAgICB0aGF0Ll9yZWN0YW5nbGUgPSBSZWN0YW5nbGUuaW50ZXJzZWN0aW9uKFxuICAgICAgdGhhdC5fcmVjdGFuZ2xlLFxuICAgICAgdGhhdC5fdGlsaW5nU2NoZW1lLnJlY3RhbmdsZVxuICAgICk7XG4gICAgdGhhdC5faGFzQWxwaGFDaGFubmVsID0gZGVmYXVsdFZhbHVlKHByb3BlcnRpZXMuaGFzQWxwaGFDaGFubmVsLCB0cnVlKTtcblxuICAgIHZhciBjcmVkaXQgPSBwcm9wZXJ0aWVzLmNyZWRpdDtcbiAgICBpZiAodHlwZW9mIGNyZWRpdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY3JlZGl0ID0gbmV3IENyZWRpdChjcmVkaXQpO1xuICAgIH1cbiAgICB0aGF0Ll9jcmVkaXQgPSBjcmVkaXQ7XG5cbiAgICB0aGF0Ll9yZXNvdXJjZSA9IHJlc291cmNlO1xuICAgIHRoYXQuX3RhZ3MgPSBhbGxUYWdzO1xuICAgIHRoYXQuX3BpY2tGZWF0dXJlc1Jlc291cmNlID0gcGlja0ZlYXR1cmVzUmVzb3VyY2U7XG4gICAgdGhhdC5fcGlja0ZlYXR1cmVzVGFncyA9IGFsbFBpY2tGZWF0dXJlc1RhZ3M7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGNyZWRpdHMgdG8gYmUgZGlzcGxheWVkIHdoZW4gYSBnaXZlbiB0aWxlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdGlsZSBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdGlsZSBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHRpbGUgbGV2ZWw7XG4gKiBAcmV0dXJucyB7Q3JlZGl0W119IFRoZSBjcmVkaXRzIHRvIGJlIGRpc3BsYXllZCB3aGVuIHRoZSB0aWxlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gPGNvZGU+Z2V0VGlsZUNyZWRpdHM8L2NvZGU+IG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXG4gKi9cblVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5nZXRUaWxlQ3JlZGl0cyA9IGZ1bmN0aW9uICh4LCB5LCBsZXZlbCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcImdldFRpbGVDcmVkaXRzIG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXCJcbiAgICApO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBSZXF1ZXN0cyB0aGUgaW1hZ2UgZm9yIGEgZ2l2ZW4gdGlsZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdGlsZSBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdGlsZSBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHRpbGUgbGV2ZWwuXG4gKiBAcGFyYW0ge1JlcXVlc3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdCBvYmplY3QuIEludGVuZGVkIGZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50Pnx1bmRlZmluZWR9IEEgcHJvbWlzZSBmb3IgdGhlIGltYWdlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGltYWdlIGlzIGF2YWlsYWJsZSwgb3JcbiAqICAgICAgICAgIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgdG9vIG1hbnkgYWN0aXZlIHJlcXVlc3RzIHRvIHRoZSBzZXJ2ZXIsIGFuZCB0aGUgcmVxdWVzdFxuICogICAgICAgICAgc2hvdWxkIGJlIHJldHJpZWQgbGF0ZXIuICBUaGUgcmVzb2x2ZWQgaW1hZ2UgbWF5IGJlIGVpdGhlciBhblxuICogICAgICAgICAgSW1hZ2Ugb3IgYSBDYW52YXMgRE9NIG9iamVjdC5cbiAqL1xuVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlLnJlcXVlc3RJbWFnZSA9IGZ1bmN0aW9uIChcbiAgeCxcbiAgeSxcbiAgbGV2ZWwsXG4gIHJlcXVlc3Rcbikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcInJlcXVlc3RJbWFnZSBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlwiXG4gICAgKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgcmV0dXJuIEltYWdlcnlQcm92aWRlci5sb2FkSW1hZ2UoXG4gICAgdGhpcyxcbiAgICBidWlsZEltYWdlUmVzb3VyY2UodGhpcywgeCwgeSwgbGV2ZWwsIHJlcXVlc3QpXG4gICk7XG59O1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IGRldGVybWluZXMgd2hhdCBmZWF0dXJlcywgaWYgYW55LCBhcmUgbG9jYXRlZCBhdCBhIGdpdmVuIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgd2l0aGluXG4gKiBhIHRpbGUuICBUaGlzIGZ1bmN0aW9uIHNob3VsZCBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHRpbGUgWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRpbGUgWSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIFRoZSB0aWxlIGxldmVsLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxvbmdpdHVkZSBUaGUgbG9uZ2l0dWRlIGF0IHdoaWNoIHRvIHBpY2sgZmVhdHVyZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gbGF0aXR1ZGUgIFRoZSBsYXRpdHVkZSBhdCB3aGljaCB0byBwaWNrIGZlYXR1cmVzLlxuICogQHJldHVybiB7UHJvbWlzZS48SW1hZ2VyeUxheWVyRmVhdHVyZUluZm9bXT58dW5kZWZpbmVkfSBBIHByb21pc2UgZm9yIHRoZSBwaWNrZWQgZmVhdHVyZXMgdGhhdCB3aWxsIHJlc29sdmUgd2hlbiB0aGUgYXN5bmNocm9ub3VzXG4gKiAgICAgICAgICAgICAgICAgICBwaWNraW5nIGNvbXBsZXRlcy4gIFRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhbiBhcnJheSBvZiB7QGxpbmsgSW1hZ2VyeUxheWVyRmVhdHVyZUluZm99XG4gKiAgICAgICAgICAgICAgICAgICBpbnN0YW5jZXMuICBUaGUgYXJyYXkgbWF5IGJlIGVtcHR5IGlmIG5vIGZlYXR1cmVzIGFyZSBmb3VuZCBhdCB0aGUgZ2l2ZW4gbG9jYXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICBJdCBtYXkgYWxzbyBiZSB1bmRlZmluZWQgaWYgcGlja2luZyBpcyBub3Qgc3VwcG9ydGVkLlxuICovXG5VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUucGlja0ZlYXR1cmVzID0gZnVuY3Rpb24gKFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZVxuKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghdGhpcy5yZWFkeSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIFwicGlja0ZlYXR1cmVzIG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXCJcbiAgICApO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIGlmIChcbiAgICAhdGhpcy5lbmFibGVQaWNrRmVhdHVyZXMgfHxcbiAgICAhZGVmaW5lZCh0aGlzLl9waWNrRmVhdHVyZXNSZXNvdXJjZSkgfHxcbiAgICB0aGlzLl9nZXRGZWF0dXJlSW5mb0Zvcm1hdHMubGVuZ3RoID09PSAwXG4gICkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgZm9ybWF0SW5kZXggPSAwO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcblxuICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShmb3JtYXQsIGRhdGEpIHtcbiAgICByZXR1cm4gZm9ybWF0LmNhbGxiYWNrKGRhdGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9SZXF1ZXN0KCkge1xuICAgIGlmIChmb3JtYXRJbmRleCA+PSB0aGF0Ll9nZXRGZWF0dXJlSW5mb0Zvcm1hdHMubGVuZ3RoKSB7XG4gICAgICAvLyBObyB2YWxpZCBmb3JtYXRzLCBzbyBubyBmZWF0dXJlcyBwaWNrZWQuXG4gICAgICByZXR1cm4gd2hlbihbXSk7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdCA9IHRoYXQuX2dldEZlYXR1cmVJbmZvRm9ybWF0c1tmb3JtYXRJbmRleF07XG4gICAgdmFyIHJlc291cmNlID0gYnVpbGRQaWNrRmVhdHVyZXNSZXNvdXJjZShcbiAgICAgIHRoYXQsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGxldmVsLFxuICAgICAgbG9uZ2l0dWRlLFxuICAgICAgbGF0aXR1ZGUsXG4gICAgICBmb3JtYXQuZm9ybWF0XG4gICAgKTtcblxuICAgICsrZm9ybWF0SW5kZXg7XG5cbiAgICBpZiAoZm9ybWF0LnR5cGUgPT09IFwianNvblwiKSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2UuZmV0Y2hKc29uKCkudGhlbihmb3JtYXQuY2FsbGJhY2spLm90aGVyd2lzZShkb1JlcXVlc3QpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0LnR5cGUgPT09IFwieG1sXCIpIHtcbiAgICAgIHJldHVybiByZXNvdXJjZS5mZXRjaFhNTCgpLnRoZW4oZm9ybWF0LmNhbGxiYWNrKS5vdGhlcndpc2UoZG9SZXF1ZXN0KTtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdC50eXBlID09PSBcInRleHRcIiB8fCBmb3JtYXQudHlwZSA9PT0gXCJodG1sXCIpIHtcbiAgICAgIHJldHVybiByZXNvdXJjZS5mZXRjaFRleHQoKS50aGVuKGZvcm1hdC5jYWxsYmFjaykub3RoZXJ3aXNlKGRvUmVxdWVzdCk7XG4gICAgfVxuICAgIHJldHVybiByZXNvdXJjZVxuICAgICAgLmZldGNoKHtcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBmb3JtYXQuZm9ybWF0LFxuICAgICAgfSlcbiAgICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlLmJpbmQodW5kZWZpbmVkLCBmb3JtYXQpKVxuICAgICAgLm90aGVyd2lzZShkb1JlcXVlc3QpO1xuICB9XG5cbiAgcmV0dXJuIGRvUmVxdWVzdCgpO1xufTtcblxudmFyIGRlZ3JlZXNTY3JhdGNoQ29tcHV0ZWQgPSBmYWxzZTtcbnZhciBkZWdyZWVzU2NyYXRjaCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBwcm9qZWN0ZWRTY3JhdGNoQ29tcHV0ZWQgPSBmYWxzZTtcbnZhciBwcm9qZWN0ZWRTY3JhdGNoID0gbmV3IFJlY3RhbmdsZSgpO1xuXG5mdW5jdGlvbiBidWlsZEltYWdlUmVzb3VyY2UoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCwgcmVxdWVzdCkge1xuICBkZWdyZWVzU2NyYXRjaENvbXB1dGVkID0gZmFsc2U7XG4gIHByb2plY3RlZFNjcmF0Y2hDb21wdXRlZCA9IGZhbHNlO1xuXG4gIHZhciByZXNvdXJjZSA9IGltYWdlcnlQcm92aWRlci5fcmVzb3VyY2U7XG4gIHZhciB1cmwgPSByZXNvdXJjZS5nZXRVcmxDb21wb25lbnQodHJ1ZSk7XG4gIHZhciBhbGxUYWdzID0gaW1hZ2VyeVByb3ZpZGVyLl90YWdzO1xuICB2YXIgdGVtcGxhdGVWYWx1ZXMgPSB7fTtcblxuICB2YXIgbWF0Y2ggPSB1cmwubWF0Y2godGVtcGxhdGVSZWdleCk7XG4gIGlmIChkZWZpbmVkKG1hdGNoKSkge1xuICAgIG1hdGNoLmZvckVhY2goZnVuY3Rpb24gKHRhZykge1xuICAgICAgdmFyIGtleSA9IHRhZy5zdWJzdHJpbmcoMSwgdGFnLmxlbmd0aCAtIDEpOyAvL3N0cmlwIHt9XG4gICAgICBpZiAoZGVmaW5lZChhbGxUYWdzW2tleV0pKSB7XG4gICAgICAgIHRlbXBsYXRlVmFsdWVzW2tleV0gPSBhbGxUYWdzW2tleV0oaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzb3VyY2UuZ2V0RGVyaXZlZFJlc291cmNlKHtcbiAgICByZXF1ZXN0OiByZXF1ZXN0LFxuICAgIHRlbXBsYXRlVmFsdWVzOiB0ZW1wbGF0ZVZhbHVlcyxcbiAgfSk7XG59XG5cbnZhciBpalNjcmF0Y2hDb21wdXRlZCA9IGZhbHNlO1xudmFyIGlqU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4yKCk7XG52YXIgbG9uZ2l0dWRlTGF0aXR1ZGVQcm9qZWN0ZWRTY3JhdGNoQ29tcHV0ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gYnVpbGRQaWNrRmVhdHVyZXNSZXNvdXJjZShcbiAgaW1hZ2VyeVByb3ZpZGVyLFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZSxcbiAgZm9ybWF0XG4pIHtcbiAgZGVncmVlc1NjcmF0Y2hDb21wdXRlZCA9IGZhbHNlO1xuICBwcm9qZWN0ZWRTY3JhdGNoQ29tcHV0ZWQgPSBmYWxzZTtcbiAgaWpTY3JhdGNoQ29tcHV0ZWQgPSBmYWxzZTtcbiAgbG9uZ2l0dWRlTGF0aXR1ZGVQcm9qZWN0ZWRTY3JhdGNoQ29tcHV0ZWQgPSBmYWxzZTtcblxuICB2YXIgcmVzb3VyY2UgPSBpbWFnZXJ5UHJvdmlkZXIuX3BpY2tGZWF0dXJlc1Jlc291cmNlO1xuICB2YXIgdXJsID0gcmVzb3VyY2UuZ2V0VXJsQ29tcG9uZW50KHRydWUpO1xuICB2YXIgYWxsVGFncyA9IGltYWdlcnlQcm92aWRlci5fcGlja0ZlYXR1cmVzVGFncztcbiAgdmFyIHRlbXBsYXRlVmFsdWVzID0ge307XG4gIHZhciBtYXRjaCA9IHVybC5tYXRjaCh0ZW1wbGF0ZVJlZ2V4KTtcbiAgaWYgKGRlZmluZWQobWF0Y2gpKSB7XG4gICAgbWF0Y2guZm9yRWFjaChmdW5jdGlvbiAodGFnKSB7XG4gICAgICB2YXIga2V5ID0gdGFnLnN1YnN0cmluZygxLCB0YWcubGVuZ3RoIC0gMSk7IC8vc3RyaXAge31cbiAgICAgIGlmIChkZWZpbmVkKGFsbFRhZ3Nba2V5XSkpIHtcbiAgICAgICAgdGVtcGxhdGVWYWx1ZXNba2V5XSA9IGFsbFRhZ3Nba2V5XShcbiAgICAgICAgICBpbWFnZXJ5UHJvdmlkZXIsXG4gICAgICAgICAgeCxcbiAgICAgICAgICB5LFxuICAgICAgICAgIGxldmVsLFxuICAgICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgICBmb3JtYXRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXNvdXJjZS5nZXREZXJpdmVkUmVzb3VyY2Uoe1xuICAgIHRlbXBsYXRlVmFsdWVzOiB0ZW1wbGF0ZVZhbHVlcyxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhZFdpdGhaZXJvc0lmTmVjZXNzYXJ5KGltYWdlcnlQcm92aWRlciwga2V5LCB2YWx1ZSkge1xuICBpZiAoXG4gICAgaW1hZ2VyeVByb3ZpZGVyICYmXG4gICAgaW1hZ2VyeVByb3ZpZGVyLnVybFNjaGVtZVplcm9QYWRkaW5nICYmXG4gICAgaW1hZ2VyeVByb3ZpZGVyLnVybFNjaGVtZVplcm9QYWRkaW5nLmhhc093blByb3BlcnR5KGtleSlcbiAgKSB7XG4gICAgdmFyIHBhZGRpbmdUZW1wbGF0ZSA9IGltYWdlcnlQcm92aWRlci51cmxTY2hlbWVaZXJvUGFkZGluZ1trZXldO1xuICAgIGlmICh0eXBlb2YgcGFkZGluZ1RlbXBsYXRlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgcGFkZGluZ1RlbXBsYXRlV2lkdGggPSBwYWRkaW5nVGVtcGxhdGUubGVuZ3RoO1xuICAgICAgaWYgKHBhZGRpbmdUZW1wbGF0ZVdpZHRoID4gMSkge1xuICAgICAgICB2YWx1ZSA9XG4gICAgICAgICAgdmFsdWUubGVuZ3RoID49IHBhZGRpbmdUZW1wbGF0ZVdpZHRoXG4gICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICA6IG5ldyBBcnJheShcbiAgICAgICAgICAgICAgICBwYWRkaW5nVGVtcGxhdGVXaWR0aCAtIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoICsgMVxuICAgICAgICAgICAgICApLmpvaW4oXCIwXCIpICsgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24geFRhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gIHJldHVybiBwYWRXaXRoWmVyb3NJZk5lY2Vzc2FyeShpbWFnZXJ5UHJvdmlkZXIsIFwie3h9XCIsIHgpO1xufVxuXG5mdW5jdGlvbiByZXZlcnNlWFRhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gIHZhciByZXZlcnNlWCA9XG4gICAgaW1hZ2VyeVByb3ZpZGVyLnRpbGluZ1NjaGVtZS5nZXROdW1iZXJPZlhUaWxlc0F0TGV2ZWwobGV2ZWwpIC0geCAtIDE7XG4gIHJldHVybiBwYWRXaXRoWmVyb3NJZk5lY2Vzc2FyeShpbWFnZXJ5UHJvdmlkZXIsIFwie3JldmVyc2VYfVwiLCByZXZlcnNlWCk7XG59XG5cbmZ1bmN0aW9uIHlUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICByZXR1cm4gcGFkV2l0aFplcm9zSWZOZWNlc3NhcnkoaW1hZ2VyeVByb3ZpZGVyLCBcInt5fVwiLCB5KTtcbn1cblxuZnVuY3Rpb24gcmV2ZXJzZVlUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICB2YXIgcmV2ZXJzZVkgPVxuICAgIGltYWdlcnlQcm92aWRlci50aWxpbmdTY2hlbWUuZ2V0TnVtYmVyT2ZZVGlsZXNBdExldmVsKGxldmVsKSAtIHkgLSAxO1xuICByZXR1cm4gcGFkV2l0aFplcm9zSWZOZWNlc3NhcnkoaW1hZ2VyeVByb3ZpZGVyLCBcIntyZXZlcnNlWX1cIiwgcmV2ZXJzZVkpO1xufVxuXG5mdW5jdGlvbiByZXZlcnNlWlRhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gIHZhciBtYXhpbXVtTGV2ZWwgPSBpbWFnZXJ5UHJvdmlkZXIubWF4aW11bUxldmVsO1xuICB2YXIgcmV2ZXJzZVogPVxuICAgIGRlZmluZWQobWF4aW11bUxldmVsKSAmJiBsZXZlbCA8IG1heGltdW1MZXZlbFxuICAgICAgPyBtYXhpbXVtTGV2ZWwgLSBsZXZlbCAtIDFcbiAgICAgIDogbGV2ZWw7XG4gIHJldHVybiBwYWRXaXRoWmVyb3NJZk5lY2Vzc2FyeShpbWFnZXJ5UHJvdmlkZXIsIFwie3JldmVyc2VafVwiLCByZXZlcnNlWik7XG59XG5cbmZ1bmN0aW9uIHpUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICByZXR1cm4gcGFkV2l0aFplcm9zSWZOZWNlc3NhcnkoaW1hZ2VyeVByb3ZpZGVyLCBcInt6fVwiLCBsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIHNUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICB2YXIgaW5kZXggPSAoeCArIHkgKyBsZXZlbCkgJSBpbWFnZXJ5UHJvdmlkZXIuX3N1YmRvbWFpbnMubGVuZ3RoO1xuICByZXR1cm4gaW1hZ2VyeVByb3ZpZGVyLl9zdWJkb21haW5zW2luZGV4XTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlZ3JlZXMoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICBpZiAoZGVncmVlc1NjcmF0Y2hDb21wdXRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGltYWdlcnlQcm92aWRlci50aWxpbmdTY2hlbWUudGlsZVhZVG9SZWN0YW5nbGUoeCwgeSwgbGV2ZWwsIGRlZ3JlZXNTY3JhdGNoKTtcbiAgZGVncmVlc1NjcmF0Y2gud2VzdCA9IENlc2l1bU1hdGgudG9EZWdyZWVzKGRlZ3JlZXNTY3JhdGNoLndlc3QpO1xuICBkZWdyZWVzU2NyYXRjaC5zb3V0aCA9IENlc2l1bU1hdGgudG9EZWdyZWVzKGRlZ3JlZXNTY3JhdGNoLnNvdXRoKTtcbiAgZGVncmVlc1NjcmF0Y2guZWFzdCA9IENlc2l1bU1hdGgudG9EZWdyZWVzKGRlZ3JlZXNTY3JhdGNoLmVhc3QpO1xuICBkZWdyZWVzU2NyYXRjaC5ub3J0aCA9IENlc2l1bU1hdGgudG9EZWdyZWVzKGRlZ3JlZXNTY3JhdGNoLm5vcnRoKTtcblxuICBkZWdyZWVzU2NyYXRjaENvbXB1dGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gd2VzdERlZ3JlZXNUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICBjb21wdXRlRGVncmVlcyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKTtcbiAgcmV0dXJuIGRlZ3JlZXNTY3JhdGNoLndlc3Q7XG59XG5cbmZ1bmN0aW9uIHNvdXRoRGVncmVlc1RhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gIGNvbXB1dGVEZWdyZWVzKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpO1xuICByZXR1cm4gZGVncmVlc1NjcmF0Y2guc291dGg7XG59XG5cbmZ1bmN0aW9uIGVhc3REZWdyZWVzVGFnKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpIHtcbiAgY29tcHV0ZURlZ3JlZXMoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCk7XG4gIHJldHVybiBkZWdyZWVzU2NyYXRjaC5lYXN0O1xufVxuXG5mdW5jdGlvbiBub3J0aERlZ3JlZXNUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICBjb21wdXRlRGVncmVlcyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKTtcbiAgcmV0dXJuIGRlZ3JlZXNTY3JhdGNoLm5vcnRoO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlUHJvamVjdGVkKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpIHtcbiAgaWYgKHByb2plY3RlZFNjcmF0Y2hDb21wdXRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGltYWdlcnlQcm92aWRlci50aWxpbmdTY2hlbWUudGlsZVhZVG9OYXRpdmVSZWN0YW5nbGUoXG4gICAgeCxcbiAgICB5LFxuICAgIGxldmVsLFxuICAgIHByb2plY3RlZFNjcmF0Y2hcbiAgKTtcblxuICBwcm9qZWN0ZWRTY3JhdGNoQ29tcHV0ZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiB3ZXN0UHJvamVjdGVkVGFnKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpIHtcbiAgY29tcHV0ZVByb2plY3RlZChpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKTtcbiAgcmV0dXJuIHByb2plY3RlZFNjcmF0Y2gud2VzdDtcbn1cblxuZnVuY3Rpb24gc291dGhQcm9qZWN0ZWRUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCkge1xuICBjb21wdXRlUHJvamVjdGVkKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpO1xuICByZXR1cm4gcHJvamVjdGVkU2NyYXRjaC5zb3V0aDtcbn1cblxuZnVuY3Rpb24gZWFzdFByb2plY3RlZFRhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gIGNvbXB1dGVQcm9qZWN0ZWQoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCk7XG4gIHJldHVybiBwcm9qZWN0ZWRTY3JhdGNoLmVhc3Q7XG59XG5cbmZ1bmN0aW9uIG5vcnRoUHJvamVjdGVkVGFnKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpIHtcbiAgY29tcHV0ZVByb2plY3RlZChpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKTtcbiAgcmV0dXJuIHByb2plY3RlZFNjcmF0Y2gubm9ydGg7XG59XG5cbmZ1bmN0aW9uIHdpZHRoVGFnKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwpIHtcbiAgcmV0dXJuIGltYWdlcnlQcm92aWRlci50aWxlV2lkdGg7XG59XG5cbmZ1bmN0aW9uIGhlaWdodFRhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsKSB7XG4gIHJldHVybiBpbWFnZXJ5UHJvdmlkZXIudGlsZUhlaWdodDtcbn1cblxuZnVuY3Rpb24gaVRhZyhpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsLCBsb25naXR1ZGUsIGxhdGl0dWRlLCBmb3JtYXQpIHtcbiAgY29tcHV0ZUlKKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwsIGxvbmdpdHVkZSwgbGF0aXR1ZGUpO1xuICByZXR1cm4gaWpTY3JhdGNoLng7XG59XG5cbmZ1bmN0aW9uIGpUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCwgbG9uZ2l0dWRlLCBsYXRpdHVkZSwgZm9ybWF0KSB7XG4gIGNvbXB1dGVJSihpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsLCBsb25naXR1ZGUsIGxhdGl0dWRlKTtcbiAgcmV0dXJuIGlqU2NyYXRjaC55O1xufVxuXG5mdW5jdGlvbiByZXZlcnNlSVRhZyhcbiAgaW1hZ2VyeVByb3ZpZGVyLFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZSxcbiAgZm9ybWF0XG4pIHtcbiAgY29tcHV0ZUlKKGltYWdlcnlQcm92aWRlciwgeCwgeSwgbGV2ZWwsIGxvbmdpdHVkZSwgbGF0aXR1ZGUpO1xuICByZXR1cm4gaW1hZ2VyeVByb3ZpZGVyLnRpbGVXaWR0aCAtIGlqU2NyYXRjaC54IC0gMTtcbn1cblxuZnVuY3Rpb24gcmV2ZXJzZUpUYWcoXG4gIGltYWdlcnlQcm92aWRlcixcbiAgeCxcbiAgeSxcbiAgbGV2ZWwsXG4gIGxvbmdpdHVkZSxcbiAgbGF0aXR1ZGUsXG4gIGZvcm1hdFxuKSB7XG4gIGNvbXB1dGVJSihpbWFnZXJ5UHJvdmlkZXIsIHgsIHksIGxldmVsLCBsb25naXR1ZGUsIGxhdGl0dWRlKTtcbiAgcmV0dXJuIGltYWdlcnlQcm92aWRlci50aWxlSGVpZ2h0IC0gaWpTY3JhdGNoLnkgLSAxO1xufVxuXG52YXIgcmVjdGFuZ2xlU2NyYXRjaCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBsb25naXR1ZGVMYXRpdHVkZVByb2plY3RlZFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xuXG5mdW5jdGlvbiBjb21wdXRlSUooaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCwgbG9uZ2l0dWRlLCBsYXRpdHVkZSwgZm9ybWF0KSB7XG4gIGlmIChpalNjcmF0Y2hDb21wdXRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbXB1dGVMb25naXR1ZGVMYXRpdHVkZVByb2plY3RlZChcbiAgICBpbWFnZXJ5UHJvdmlkZXIsXG4gICAgeCxcbiAgICB5LFxuICAgIGxldmVsLFxuICAgIGxvbmdpdHVkZSxcbiAgICBsYXRpdHVkZVxuICApO1xuICB2YXIgcHJvamVjdGVkID0gbG9uZ2l0dWRlTGF0aXR1ZGVQcm9qZWN0ZWRTY3JhdGNoO1xuXG4gIHZhciByZWN0YW5nbGUgPSBpbWFnZXJ5UHJvdmlkZXIudGlsaW5nU2NoZW1lLnRpbGVYWVRvTmF0aXZlUmVjdGFuZ2xlKFxuICAgIHgsXG4gICAgeSxcbiAgICBsZXZlbCxcbiAgICByZWN0YW5nbGVTY3JhdGNoXG4gICk7XG4gIGlqU2NyYXRjaC54ID1cbiAgICAoKGltYWdlcnlQcm92aWRlci50aWxlV2lkdGggKiAocHJvamVjdGVkLnggLSByZWN0YW5nbGUud2VzdCkpIC9cbiAgICAgIHJlY3RhbmdsZS53aWR0aCkgfFxuICAgIDA7XG4gIGlqU2NyYXRjaC55ID1cbiAgICAoKGltYWdlcnlQcm92aWRlci50aWxlSGVpZ2h0ICogKHJlY3RhbmdsZS5ub3J0aCAtIHByb2plY3RlZC55KSkgL1xuICAgICAgcmVjdGFuZ2xlLmhlaWdodCkgfFxuICAgIDA7XG4gIGlqU2NyYXRjaENvbXB1dGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbG9uZ2l0dWRlRGVncmVlc1RhZyhcbiAgaW1hZ2VyeVByb3ZpZGVyLFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZSxcbiAgZm9ybWF0XG4pIHtcbiAgcmV0dXJuIENlc2l1bU1hdGgudG9EZWdyZWVzKGxvbmdpdHVkZSk7XG59XG5cbmZ1bmN0aW9uIGxhdGl0dWRlRGVncmVlc1RhZyhcbiAgaW1hZ2VyeVByb3ZpZGVyLFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZSxcbiAgZm9ybWF0XG4pIHtcbiAgcmV0dXJuIENlc2l1bU1hdGgudG9EZWdyZWVzKGxhdGl0dWRlKTtcbn1cblxuZnVuY3Rpb24gbG9uZ2l0dWRlUHJvamVjdGVkVGFnKFxuICBpbWFnZXJ5UHJvdmlkZXIsXG4gIHgsXG4gIHksXG4gIGxldmVsLFxuICBsb25naXR1ZGUsXG4gIGxhdGl0dWRlLFxuICBmb3JtYXRcbikge1xuICBjb21wdXRlTG9uZ2l0dWRlTGF0aXR1ZGVQcm9qZWN0ZWQoXG4gICAgaW1hZ2VyeVByb3ZpZGVyLFxuICAgIHgsXG4gICAgeSxcbiAgICBsZXZlbCxcbiAgICBsb25naXR1ZGUsXG4gICAgbGF0aXR1ZGVcbiAgKTtcbiAgcmV0dXJuIGxvbmdpdHVkZUxhdGl0dWRlUHJvamVjdGVkU2NyYXRjaC54O1xufVxuXG5mdW5jdGlvbiBsYXRpdHVkZVByb2plY3RlZFRhZyhcbiAgaW1hZ2VyeVByb3ZpZGVyLFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZSxcbiAgZm9ybWF0XG4pIHtcbiAgY29tcHV0ZUxvbmdpdHVkZUxhdGl0dWRlUHJvamVjdGVkKFxuICAgIGltYWdlcnlQcm92aWRlcixcbiAgICB4LFxuICAgIHksXG4gICAgbGV2ZWwsXG4gICAgbG9uZ2l0dWRlLFxuICAgIGxhdGl0dWRlXG4gICk7XG4gIHJldHVybiBsb25naXR1ZGVMYXRpdHVkZVByb2plY3RlZFNjcmF0Y2gueTtcbn1cblxudmFyIGNhcnRvZ3JhcGhpY1NjcmF0Y2ggPSBuZXcgQ2FydG9ncmFwaGljKCk7XG5cbmZ1bmN0aW9uIGNvbXB1dGVMb25naXR1ZGVMYXRpdHVkZVByb2plY3RlZChcbiAgaW1hZ2VyeVByb3ZpZGVyLFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgbG9uZ2l0dWRlLFxuICBsYXRpdHVkZSxcbiAgZm9ybWF0XG4pIHtcbiAgaWYgKGxvbmdpdHVkZUxhdGl0dWRlUHJvamVjdGVkU2NyYXRjaENvbXB1dGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGltYWdlcnlQcm92aWRlci50aWxpbmdTY2hlbWUucHJvamVjdGlvbiBpbnN0YW5jZW9mIEdlb2dyYXBoaWNQcm9qZWN0aW9uKSB7XG4gICAgbG9uZ2l0dWRlTGF0aXR1ZGVQcm9qZWN0ZWRTY3JhdGNoLnggPSBDZXNpdW1NYXRoLnRvRGVncmVlcyhsb25naXR1ZGUpO1xuICAgIGxvbmdpdHVkZUxhdGl0dWRlUHJvamVjdGVkU2NyYXRjaC55ID0gQ2VzaXVtTWF0aC50b0RlZ3JlZXMobGF0aXR1ZGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjYXJ0b2dyYXBoaWMgPSBjYXJ0b2dyYXBoaWNTY3JhdGNoO1xuICAgIGNhcnRvZ3JhcGhpYy5sb25naXR1ZGUgPSBsb25naXR1ZGU7XG4gICAgY2FydG9ncmFwaGljLmxhdGl0dWRlID0gbGF0aXR1ZGU7XG4gICAgaW1hZ2VyeVByb3ZpZGVyLnRpbGluZ1NjaGVtZS5wcm9qZWN0aW9uLnByb2plY3QoXG4gICAgICBjYXJ0b2dyYXBoaWMsXG4gICAgICBsb25naXR1ZGVMYXRpdHVkZVByb2plY3RlZFNjcmF0Y2hcbiAgICApO1xuICB9XG5cbiAgbG9uZ2l0dWRlTGF0aXR1ZGVQcm9qZWN0ZWRTY3JhdGNoQ29tcHV0ZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUYWcoaW1hZ2VyeVByb3ZpZGVyLCB4LCB5LCBsZXZlbCwgbG9uZ2l0dWRlLCBsYXRpdHVkZSwgZm9ybWF0KSB7XG4gIHJldHVybiBmb3JtYXQ7XG59XG5leHBvcnQgZGVmYXVsdCBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24855\n')}}]);