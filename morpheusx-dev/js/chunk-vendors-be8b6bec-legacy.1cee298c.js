"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[4693],{95757:function(__unused_webpack___webpack_module__,__webpack_exports__){eval('/**\n * Describes how the map will operate in 2D.\n *\n * @enum {Number}\n */\nvar MapMode2D = {\n  /**\n   * The 2D map can be rotated about the z axis.\n   *\n   * @type {Number}\n   * @constant\n   */\n  ROTATE: 0,\n\n  /**\n   * The 2D map can be scrolled infinitely in the horizontal direction.\n   *\n   * @type {Number}\n   * @constant\n   */\n  INFINITE_SCROLL: 1,\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(MapMode2D));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU3NTcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUFlLHdCQUF3QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL01hcE1vZGUyRC5qcz9lNjE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGVzY3JpYmVzIGhvdyB0aGUgbWFwIHdpbGwgb3BlcmF0ZSBpbiAyRC5cbiAqXG4gKiBAZW51bSB7TnVtYmVyfVxuICovXG52YXIgTWFwTW9kZTJEID0ge1xuICAvKipcbiAgICogVGhlIDJEIG1hcCBjYW4gYmUgcm90YXRlZCBhYm91dCB0aGUgeiBheGlzLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIFJPVEFURTogMCxcblxuICAvKipcbiAgICogVGhlIDJEIG1hcCBjYW4gYmUgc2Nyb2xsZWQgaW5maW5pdGVseSBpbiB0aGUgaG9yaXpvbnRhbCBkaXJlY3Rpb24uXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgSU5GSU5JVEVfU0NST0xMOiAxLFxufTtcbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5mcmVlemUoTWFwTW9kZTJEKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///95757\n')},65657:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Credit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52975);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68985);\n/* harmony import */ var _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24855);\n\n\n\n\n\n\n\nvar trailingSlashRegex = /\\/$/;\nvar defaultCredit = new _Core_Credit_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n  \'&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>\'\n);\n\n/**\n * @typedef {Object} MapboxImageryProvider.ConstructorOptions\n *\n * Initialization options for the MapboxImageryProvider constructor\n *\n * @property {String} [url=\'https://api.mapbox.com/v4/\'] The Mapbox server url.\n * @property {String} mapId The Mapbox Map ID.\n * @property {String} accessToken The public access token for the imagery.\n * @property {String} [format=\'png\'] The format of the image request.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If not specified, the WGS84 ellipsoid is used.\n * @property {Number} [minimumLevel=0] The minimum level-of-detail supported by the imagery provider.  Take care when specifying\n *                 this that the number of tiles at the minimum level is small, such as four or less.  A larger number is likely\n *                 to result in rendering problems.\n * @property {Number} [maximumLevel] The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n * @property {Rectangle} [rectangle=Rectangle.MAX_VALUE] The rectangle, in radians, covered by the image.\n * @property {Credit|String} [credit] A credit for the data source, which is displayed on the canvas.\n */\n\n/**\n * Provides tiled imagery hosted by Mapbox.\n *\n * @alias MapboxImageryProvider\n * @constructor\n *\n * @param {MapboxImageryProvider.ConstructorOptions} options Object describing initialization options\n *\n * @example\n * // Mapbox tile provider\n * var mapbox = new Cesium.MapboxImageryProvider({\n *     mapId: \'mapbox.streets\',\n *     accessToken: \'thisIsMyAccessToken\'\n * });\n *\n * @see {@link https://www.mapbox.com/developers/api/maps/#tiles}\n * @see {@link https://www.mapbox.com/developers/api/#access-tokens}\n */\nfunction MapboxImageryProvider(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  var mapId = options.mapId;\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(mapId)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("options.mapId is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var accessToken = options.accessToken;\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(accessToken)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("options.accessToken is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  /**\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultNightAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultDayAlpha = undefined;\n\n  /**\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\n   * makes the imagery darker while greater than 1.0 makes it brighter.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultBrightness = undefined;\n\n  /**\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\n   * the contrast while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultContrast = undefined;\n\n  /**\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultHue = undefined;\n\n  /**\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\n   * saturation while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultSaturation = undefined;\n\n  /**\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultGamma = undefined;\n\n  /**\n   * The default texture minification filter to apply to this provider.\n   *\n   * @type {TextureMinificationFilter}\n   * @default undefined\n   */\n  this.defaultMinificationFilter = undefined;\n\n  /**\n   * The default texture magnification filter to apply to this provider.\n   *\n   * @type {TextureMagnificationFilter}\n   * @default undefined\n   */\n  this.defaultMagnificationFilter = undefined;\n\n  var resource = _Core_Resource_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].createIfNeeded */ .Z.createIfNeeded(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.url, "https://{s}.tiles.mapbox.com/v4/")\n  );\n\n  this._mapId = mapId;\n  this._accessToken = accessToken;\n\n  var format = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.format, "png");\n  if (!/\\./.test(format)) {\n    format = "." + format;\n  }\n  this._format = format;\n\n  var templateUrl = resource.getUrlComponent();\n  if (!trailingSlashRegex.test(templateUrl)) {\n    templateUrl += "/";\n  }\n  templateUrl += mapId + "/{z}/{x}/{y}" + this._format;\n  resource.url = templateUrl;\n\n  resource.setQueryParameters({\n    access_token: accessToken,\n  });\n\n  var credit;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.credit)) {\n    credit = options.credit;\n    if (typeof credit === "string") {\n      credit = new _Core_Credit_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(credit);\n    }\n  } else {\n    credit = defaultCredit;\n  }\n\n  this._resource = resource;\n  this._imageryProvider = new _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    url: resource,\n    credit: credit,\n    ellipsoid: options.ellipsoid,\n    minimumLevel: options.minimumLevel,\n    maximumLevel: options.maximumLevel,\n    rectangle: options.rectangle,\n  });\n}\n\nObject.defineProperties(MapboxImageryProvider.prototype, {\n  /**\n   * Gets the URL of the Mapbox server.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {String}\n   * @readonly\n   */\n  url: {\n    get: function () {\n      return this._imageryProvider.url;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the provider is ready for use.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return this._imageryProvider.ready;\n    },\n  },\n\n  /**\n   * Gets a promise that resolves to true when the provider is ready for use.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Promise.<Boolean>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._imageryProvider.readyPromise;\n    },\n  },\n\n  /**\n   * Gets the rectangle, in radians, of the imagery provided by the instance.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Rectangle}\n   * @readonly\n   */\n  rectangle: {\n    get: function () {\n      return this._imageryProvider.rectangle;\n    },\n  },\n\n  /**\n   * Gets the width of each tile, in pixels.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileWidth: {\n    get: function () {\n      return this._imageryProvider.tileWidth;\n    },\n  },\n\n  /**\n   * Gets the height of each tile, in pixels.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileHeight: {\n    get: function () {\n      return this._imageryProvider.tileHeight;\n    },\n  },\n\n  /**\n   * Gets the maximum level-of-detail that can be requested.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Number|undefined}\n   * @readonly\n   */\n  maximumLevel: {\n    get: function () {\n      return this._imageryProvider.maximumLevel;\n    },\n  },\n\n  /**\n   * Gets the minimum level-of-detail that can be requested.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true. Generally,\n   * a minimum level should only be used when the rectangle of the imagery is small\n   * enough that the number of tiles at the minimum level is small.  An imagery\n   * provider with more than a few tiles at the minimum level will lead to\n   * rendering problems.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  minimumLevel: {\n    get: function () {\n      return this._imageryProvider.minimumLevel;\n    },\n  },\n\n  /**\n   * Gets the tiling scheme used by the provider.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {TilingScheme}\n   * @readonly\n   */\n  tilingScheme: {\n    get: function () {\n      return this._imageryProvider.tilingScheme;\n    },\n  },\n\n  /**\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\n   * for filtering out "missing" tiles via its shouldDiscardImage function.  If this function\n   * returns undefined, no tiles are filtered.  This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {TileDiscardPolicy}\n   * @readonly\n   */\n  tileDiscardPolicy: {\n    get: function () {\n      return this._imageryProvider.tileDiscardPolicy;\n    },\n  },\n\n  /**\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error..  By subscribing\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\n   * are passed an instance of {@link TileProviderError}.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Event}\n   * @readonly\n   */\n  errorEvent: {\n    get: function () {\n      return this._imageryProvider.errorEvent;\n    },\n  },\n\n  /**\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\n   * the source of the imagery. This function should\n   * not be called before {@link MapboxImageryProvider#ready} returns true.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Credit}\n   * @readonly\n   */\n  credit: {\n    get: function () {\n      return this._imageryProvider.credit;\n    },\n  },\n\n  /**\n   * Gets the proxy used by this provider.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Proxy}\n   * @readonly\n   */\n  proxy: {\n    get: function () {\n      return this._imageryProvider.proxy;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the images provided by this imagery provider\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\n   * as if their alpha is 1.0 everywhere.  When this property is false, memory usage\n   * and texture upload time are reduced.\n   * @memberof MapboxImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  hasAlphaChannel: {\n    get: function () {\n      return this._imageryProvider.hasAlphaChannel;\n    },\n  },\n});\n\n/**\n * Gets the credits to be displayed when a given tile is displayed.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level;\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\n *\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\n */\nMapboxImageryProvider.prototype.getTileCredits = function (x, y, level) {\n  return undefined;\n};\n\n/**\n * Requests the image for a given tile.  This function should\n * not be called before {@link MapboxImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if there are too many active requests to the server, and the request\n *          should be retried later.  The resolved image may be either an\n *          Image or a Canvas DOM object.\n *\n * @exception {DeveloperError} <code>requestImage</code> must not be called before the imagery provider is ready.\n */\nMapboxImageryProvider.prototype.requestImage = function (x, y, level, request) {\n  return this._imageryProvider.requestImage(x, y, level, request);\n};\n\n/**\n * Asynchronously determines what features, if any, are located at a given longitude and latitude within\n * a tile.  This function should not be called before {@link MapboxImageryProvider#ready} returns true.\n * This function is optional, so it may not exist on all ImageryProviders.\n *\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Number} longitude The longitude at which to pick features.\n * @param {Number} latitude  The latitude at which to pick features.\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\n *                   instances.  The array may be empty if no features are found at the given location.\n *                   It may also be undefined if picking is not supported.\n *\n * @exception {DeveloperError} <code>pickFeatures</code> must not be called before the imagery provider is ready.\n */\nMapboxImageryProvider.prototype.pickFeatures = function (\n  x,\n  y,\n  level,\n  longitude,\n  latitude\n) {\n  return this._imageryProvider.pickFeatures(x, y, level, longitude, latitude);\n};\n\n// Exposed for tests\nMapboxImageryProvider._defaultCredit = defaultCredit;\n/* harmony default export */ __webpack_exports__["Z"] = (MapboxImageryProvider);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIsbUNBQW1DO0FBQzVEO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsd0RBQXdEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxtQ0FBbUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLCtDQUErQztBQUMzRCw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUFlLHFCQUFxQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL01hcGJveEltYWdlcnlQcm92aWRlci5qcz9mZDA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDcmVkaXQgZnJvbSBcIi4uL0NvcmUvQ3JlZGl0LmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgUmVzb3VyY2UgZnJvbSBcIi4uL0NvcmUvUmVzb3VyY2UuanNcIjtcbmltcG9ydCBVcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlciBmcm9tIFwiLi9VcmxUZW1wbGF0ZUltYWdlcnlQcm92aWRlci5qc1wiO1xuXG52YXIgdHJhaWxpbmdTbGFzaFJlZ2V4ID0gL1xcLyQvO1xudmFyIGRlZmF1bHRDcmVkaXQgPSBuZXcgQ3JlZGl0KFxuICAnJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL2Fib3V0L21hcHMvXCI+TWFwYm94PC9hPiAmY29weTsgPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gPHN0cm9uZz48YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXAtZmVlZGJhY2svXCI+SW1wcm92ZSB0aGlzIG1hcDwvYT48L3N0cm9uZz4nXG4pO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcGJveEltYWdlcnlQcm92aWRlci5Db25zdHJ1Y3Rvck9wdGlvbnNcbiAqXG4gKiBJbml0aWFsaXphdGlvbiBvcHRpb25zIGZvciB0aGUgTWFwYm94SW1hZ2VyeVByb3ZpZGVyIGNvbnN0cnVjdG9yXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IFt1cmw9J2h0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvJ10gVGhlIE1hcGJveCBzZXJ2ZXIgdXJsLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IG1hcElkIFRoZSBNYXBib3ggTWFwIElELlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGFjY2Vzc1Rva2VuIFRoZSBwdWJsaWMgYWNjZXNzIHRva2VuIGZvciB0aGUgaW1hZ2VyeS5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbZm9ybWF0PSdwbmcnXSBUaGUgZm9ybWF0IG9mIHRoZSBpbWFnZSByZXF1ZXN0LlxuICogQHByb3BlcnR5IHtFbGxpcHNvaWR9IFtlbGxpcHNvaWRdIFRoZSBlbGxpcHNvaWQuICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgV0dTODQgZWxsaXBzb2lkIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge051bWJlcn0gW21pbmltdW1MZXZlbD0wXSBUaGUgbWluaW11bSBsZXZlbC1vZi1kZXRhaWwgc3VwcG9ydGVkIGJ5IHRoZSBpbWFnZXJ5IHByb3ZpZGVyLiAgVGFrZSBjYXJlIHdoZW4gc3BlY2lmeWluZ1xuICogICAgICAgICAgICAgICAgIHRoaXMgdGhhdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGF0IHRoZSBtaW5pbXVtIGxldmVsIGlzIHNtYWxsLCBzdWNoIGFzIGZvdXIgb3IgbGVzcy4gIEEgbGFyZ2VyIG51bWJlciBpcyBsaWtlbHlcbiAqICAgICAgICAgICAgICAgICB0byByZXN1bHQgaW4gcmVuZGVyaW5nIHByb2JsZW1zLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFttYXhpbXVtTGV2ZWxdIFRoZSBtYXhpbXVtIGxldmVsLW9mLWRldGFpbCBzdXBwb3J0ZWQgYnkgdGhlIGltYWdlcnkgcHJvdmlkZXIsIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBpcyBubyBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7UmVjdGFuZ2xlfSBbcmVjdGFuZ2xlPVJlY3RhbmdsZS5NQVhfVkFMVUVdIFRoZSByZWN0YW5nbGUsIGluIHJhZGlhbnMsIGNvdmVyZWQgYnkgdGhlIGltYWdlLlxuICogQHByb3BlcnR5IHtDcmVkaXR8U3RyaW5nfSBbY3JlZGl0XSBBIGNyZWRpdCBmb3IgdGhlIGRhdGEgc291cmNlLCB3aGljaCBpcyBkaXNwbGF5ZWQgb24gdGhlIGNhbnZhcy5cbiAqL1xuXG4vKipcbiAqIFByb3ZpZGVzIHRpbGVkIGltYWdlcnkgaG9zdGVkIGJ5IE1hcGJveC5cbiAqXG4gKiBAYWxpYXMgTWFwYm94SW1hZ2VyeVByb3ZpZGVyXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge01hcGJveEltYWdlcnlQcm92aWRlci5Db25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnMgT2JqZWN0IGRlc2NyaWJpbmcgaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBNYXBib3ggdGlsZSBwcm92aWRlclxuICogdmFyIG1hcGJveCA9IG5ldyBDZXNpdW0uTWFwYm94SW1hZ2VyeVByb3ZpZGVyKHtcbiAqICAgICBtYXBJZDogJ21hcGJveC5zdHJlZXRzJyxcbiAqICAgICBhY2Nlc3NUb2tlbjogJ3RoaXNJc015QWNjZXNzVG9rZW4nXG4gKiB9KTtcbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5tYXBib3guY29tL2RldmVsb3BlcnMvYXBpL21hcHMvI3RpbGVzfVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9kZXZlbG9wZXJzL2FwaS8jYWNjZXNzLXRva2Vuc31cbiAqL1xuZnVuY3Rpb24gTWFwYm94SW1hZ2VyeVByb3ZpZGVyKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcbiAgdmFyIG1hcElkID0gb3B0aW9ucy5tYXBJZDtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKG1hcElkKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMubWFwSWQgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciBhY2Nlc3NUb2tlbiA9IG9wdGlvbnMuYWNjZXNzVG9rZW47XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChhY2Nlc3NUb2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zLmFjY2Vzc1Rva2VuIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWxwaGEgYmxlbmRpbmcgdmFsdWUgb2YgdGhpcyBwcm92aWRlciwgd2l0aCAwLjAgcmVwcmVzZW50aW5nIGZ1bGx5IHRyYW5zcGFyZW50IGFuZFxuICAgKiAxLjAgcmVwcmVzZW50aW5nIGZ1bGx5IG9wYXF1ZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0QWxwaGEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFscGhhIGJsZW5kaW5nIHZhbHVlIG9uIHRoZSBuaWdodCBzaWRlIG9mIHRoZSBnbG9iZSBvZiB0aGlzIHByb3ZpZGVyLCB3aXRoIDAuMCByZXByZXNlbnRpbmcgZnVsbHkgdHJhbnNwYXJlbnQgYW5kXG4gICAqIDEuMCByZXByZXNlbnRpbmcgZnVsbHkgb3BhcXVlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHROaWdodEFscGhhID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBhbHBoYSBibGVuZGluZyB2YWx1ZSBvbiB0aGUgZGF5IHNpZGUgb2YgdGhlIGdsb2JlIG9mIHRoaXMgcHJvdmlkZXIsIHdpdGggMC4wIHJlcHJlc2VudGluZyBmdWxseSB0cmFuc3BhcmVudCBhbmRcbiAgICogMS4wIHJlcHJlc2VudGluZyBmdWxseSBvcGFxdWUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdERheUFscGhhID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBicmlnaHRuZXNzIG9mIHRoaXMgcHJvdmlkZXIuICAxLjAgdXNlcyB0aGUgdW5tb2RpZmllZCBpbWFnZXJ5IGNvbG9yLiAgTGVzcyB0aGFuIDEuMFxuICAgKiBtYWtlcyB0aGUgaW1hZ2VyeSBkYXJrZXIgd2hpbGUgZ3JlYXRlciB0aGFuIDEuMCBtYWtlcyBpdCBicmlnaHRlci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0QnJpZ2h0bmVzcyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29udHJhc3Qgb2YgdGhpcyBwcm92aWRlci4gIDEuMCB1c2VzIHRoZSB1bm1vZGlmaWVkIGltYWdlcnkgY29sb3IuICBMZXNzIHRoYW4gMS4wIHJlZHVjZXNcbiAgICogdGhlIGNvbnRyYXN0IHdoaWxlIGdyZWF0ZXIgdGhhbiAxLjAgaW5jcmVhc2VzIGl0LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRDb250cmFzdCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgaHVlIG9mIHRoaXMgcHJvdmlkZXIgaW4gcmFkaWFucy4gMC4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0SHVlID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzYXR1cmF0aW9uIG9mIHRoaXMgcHJvdmlkZXIuIDEuMCB1c2VzIHRoZSB1bm1vZGlmaWVkIGltYWdlcnkgY29sb3IuIExlc3MgdGhhbiAxLjAgcmVkdWNlcyB0aGVcbiAgICogc2F0dXJhdGlvbiB3aGlsZSBncmVhdGVyIHRoYW4gMS4wIGluY3JlYXNlcyBpdC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0U2F0dXJhdGlvbiA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgZ2FtbWEgY29ycmVjdGlvbiB0byBhcHBseSB0byB0aGlzIHByb3ZpZGVyLiAgMS4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0R2FtbWEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRleHR1cmUgbWluaWZpY2F0aW9uIGZpbHRlciB0byBhcHBseSB0byB0aGlzIHByb3ZpZGVyLlxuICAgKlxuICAgKiBAdHlwZSB7VGV4dHVyZU1pbmlmaWNhdGlvbkZpbHRlcn1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRNaW5pZmljYXRpb25GaWx0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRleHR1cmUgbWFnbmlmaWNhdGlvbiBmaWx0ZXIgdG8gYXBwbHkgdG8gdGhpcyBwcm92aWRlci5cbiAgICpcbiAgICogQHR5cGUge1RleHR1cmVNYWduaWZpY2F0aW9uRmlsdGVyfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdE1hZ25pZmljYXRpb25GaWx0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgdmFyIHJlc291cmNlID0gUmVzb3VyY2UuY3JlYXRlSWZOZWVkZWQoXG4gICAgZGVmYXVsdFZhbHVlKG9wdGlvbnMudXJsLCBcImh0dHBzOi8ve3N9LnRpbGVzLm1hcGJveC5jb20vdjQvXCIpXG4gICk7XG5cbiAgdGhpcy5fbWFwSWQgPSBtYXBJZDtcbiAgdGhpcy5fYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjtcblxuICB2YXIgZm9ybWF0ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZm9ybWF0LCBcInBuZ1wiKTtcbiAgaWYgKCEvXFwuLy50ZXN0KGZvcm1hdCkpIHtcbiAgICBmb3JtYXQgPSBcIi5cIiArIGZvcm1hdDtcbiAgfVxuICB0aGlzLl9mb3JtYXQgPSBmb3JtYXQ7XG5cbiAgdmFyIHRlbXBsYXRlVXJsID0gcmVzb3VyY2UuZ2V0VXJsQ29tcG9uZW50KCk7XG4gIGlmICghdHJhaWxpbmdTbGFzaFJlZ2V4LnRlc3QodGVtcGxhdGVVcmwpKSB7XG4gICAgdGVtcGxhdGVVcmwgKz0gXCIvXCI7XG4gIH1cbiAgdGVtcGxhdGVVcmwgKz0gbWFwSWQgKyBcIi97en0ve3h9L3t5fVwiICsgdGhpcy5fZm9ybWF0O1xuICByZXNvdXJjZS51cmwgPSB0ZW1wbGF0ZVVybDtcblxuICByZXNvdXJjZS5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgIGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW4sXG4gIH0pO1xuXG4gIHZhciBjcmVkaXQ7XG4gIGlmIChkZWZpbmVkKG9wdGlvbnMuY3JlZGl0KSkge1xuICAgIGNyZWRpdCA9IG9wdGlvbnMuY3JlZGl0O1xuICAgIGlmICh0eXBlb2YgY3JlZGl0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjcmVkaXQgPSBuZXcgQ3JlZGl0KGNyZWRpdCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNyZWRpdCA9IGRlZmF1bHRDcmVkaXQ7XG4gIH1cblxuICB0aGlzLl9yZXNvdXJjZSA9IHJlc291cmNlO1xuICB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIgPSBuZXcgVXJsVGVtcGxhdGVJbWFnZXJ5UHJvdmlkZXIoe1xuICAgIHVybDogcmVzb3VyY2UsXG4gICAgY3JlZGl0OiBjcmVkaXQsXG4gICAgZWxsaXBzb2lkOiBvcHRpb25zLmVsbGlwc29pZCxcbiAgICBtaW5pbXVtTGV2ZWw6IG9wdGlvbnMubWluaW11bUxldmVsLFxuICAgIG1heGltdW1MZXZlbDogb3B0aW9ucy5tYXhpbXVtTGV2ZWwsXG4gICAgcmVjdGFuZ2xlOiBvcHRpb25zLnJlY3RhbmdsZSxcbiAgfSk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCBvZiB0aGUgTWFwYm94IHNlcnZlci5cbiAgICogQG1lbWJlcm9mIE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB1cmw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIudXJsO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBwcm92aWRlciBpcyByZWFkeSBmb3IgdXNlLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94SW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICByZWFkeToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5yZWFkeTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRydWUgd2hlbiB0aGUgcHJvdmlkZXIgaXMgcmVhZHkgZm9yIHVzZS5cbiAgICogQG1lbWJlcm9mIE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb21pc2UuPEJvb2xlYW4+fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5UHJvbWlzZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5yZWFkeVByb21pc2U7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgcmVjdGFuZ2xlLCBpbiByYWRpYW5zLCBvZiB0aGUgaW1hZ2VyeSBwcm92aWRlZCBieSB0aGUgaW5zdGFuY2UuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94SW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtSZWN0YW5nbGV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcmVjdGFuZ2xlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnJlY3RhbmdsZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB3aWR0aCBvZiBlYWNoIHRpbGUsIGluIHBpeGVscy4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBNYXBib3hJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB0aWxlV2lkdGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIudGlsZVdpZHRoO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhlaWdodCBvZiBlYWNoIHRpbGUsIGluIHBpeGVscy4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBNYXBib3hJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB0aWxlSGVpZ2h0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnRpbGVIZWlnaHQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgbWF4aW11bSBsZXZlbC1vZi1kZXRhaWwgdGhhdCBjYW4gYmUgcmVxdWVzdGVkLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIE1hcGJveEltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94SW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBtYXhpbXVtTGV2ZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIubWF4aW11bUxldmVsO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1pbmltdW0gbGV2ZWwtb2YtZGV0YWlsIHRoYXQgY2FuIGJlIHJlcXVlc3RlZC4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBNYXBib3hJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS4gR2VuZXJhbGx5LFxuICAgKiBhIG1pbmltdW0gbGV2ZWwgc2hvdWxkIG9ubHkgYmUgdXNlZCB3aGVuIHRoZSByZWN0YW5nbGUgb2YgdGhlIGltYWdlcnkgaXMgc21hbGxcbiAgICogZW5vdWdoIHRoYXQgdGhlIG51bWJlciBvZiB0aWxlcyBhdCB0aGUgbWluaW11bSBsZXZlbCBpcyBzbWFsbC4gIEFuIGltYWdlcnlcbiAgICogcHJvdmlkZXIgd2l0aCBtb3JlIHRoYW4gYSBmZXcgdGlsZXMgYXQgdGhlIG1pbmltdW0gbGV2ZWwgd2lsbCBsZWFkIHRvXG4gICAqIHJlbmRlcmluZyBwcm9ibGVtcy5cbiAgICogQG1lbWJlcm9mIE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBtaW5pbXVtTGV2ZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIubWluaW11bUxldmVsO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRpbGluZyBzY2hlbWUgdXNlZCBieSB0aGUgcHJvdmlkZXIuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94SW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtUaWxpbmdTY2hlbWV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdGlsaW5nU2NoZW1lOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnRpbGluZ1NjaGVtZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0aWxlIGRpc2NhcmQgcG9saWN5LiAgSWYgbm90IHVuZGVmaW5lZCwgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlc3BvbnNpYmxlXG4gICAqIGZvciBmaWx0ZXJpbmcgb3V0IFwibWlzc2luZ1wiIHRpbGVzIHZpYSBpdHMgc2hvdWxkRGlzY2FyZEltYWdlIGZ1bmN0aW9uLiAgSWYgdGhpcyBmdW5jdGlvblxuICAgKiByZXR1cm5zIHVuZGVmaW5lZCwgbm8gdGlsZXMgYXJlIGZpbHRlcmVkLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIE1hcGJveEltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94SW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7VGlsZURpc2NhcmRQb2xpY3l9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdGlsZURpc2NhcmRQb2xpY3k6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIudGlsZURpc2NhcmRQb2xpY3k7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhbiBldmVudCB0aGF0IGlzIHJhaXNlZCB3aGVuIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGVuY291bnRlcnMgYW4gYXN5bmNocm9ub3VzIGVycm9yLi4gIEJ5IHN1YnNjcmliaW5nXG4gICAqIHRvIHRoZSBldmVudCwgeW91IHdpbGwgYmUgbm90aWZpZWQgb2YgdGhlIGVycm9yIGFuZCBjYW4gcG90ZW50aWFsbHkgcmVjb3ZlciBmcm9tIGl0LiAgRXZlbnQgbGlzdGVuZXJzXG4gICAqIGFyZSBwYXNzZWQgYW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFRpbGVQcm92aWRlckVycm9yfS5cbiAgICogQG1lbWJlcm9mIE1hcGJveEltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0V2ZW50fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGVycm9yRXZlbnQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIuZXJyb3JFdmVudDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjcmVkaXQgdG8gZGlzcGxheSB3aGVuIHRoaXMgaW1hZ2VyeSBwcm92aWRlciBpcyBhY3RpdmUuICBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIGNyZWRpdFxuICAgKiB0aGUgc291cmNlIG9mIHRoZSBpbWFnZXJ5LiBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94SW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtDcmVkaXR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgY3JlZGl0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLmNyZWRpdDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwcm94eSB1c2VkIGJ5IHRoaXMgcHJvdmlkZXIuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm94eX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBwcm94eToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5wcm94eTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgaW1hZ2VzIHByb3ZpZGVkIGJ5IHRoaXMgaW1hZ2VyeSBwcm92aWRlclxuICAgKiBpbmNsdWRlIGFuIGFscGhhIGNoYW5uZWwuICBJZiB0aGlzIHByb3BlcnR5IGlzIGZhbHNlLCBhbiBhbHBoYSBjaGFubmVsLCBpZiBwcmVzZW50LCB3aWxsXG4gICAqIGJlIGlnbm9yZWQuICBJZiB0aGlzIHByb3BlcnR5IGlzIHRydWUsIGFueSBpbWFnZXMgd2l0aG91dCBhbiBhbHBoYSBjaGFubmVsIHdpbGwgYmUgdHJlYXRlZFxuICAgKiBhcyBpZiB0aGVpciBhbHBoYSBpcyAxLjAgZXZlcnl3aGVyZS4gIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBmYWxzZSwgbWVtb3J5IHVzYWdlXG4gICAqIGFuZCB0ZXh0dXJlIHVwbG9hZCB0aW1lIGFyZSByZWR1Y2VkLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94SW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBoYXNBbHBoYUNoYW5uZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIuaGFzQWxwaGFDaGFubmVsO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBjcmVkaXRzIHRvIGJlIGRpc3BsYXllZCB3aGVuIGEgZ2l2ZW4gdGlsZSBpcyBkaXNwbGF5ZWQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHRpbGUgWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRpbGUgWSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIFRoZSB0aWxlIGxldmVsO1xuICogQHJldHVybnMge0NyZWRpdFtdfSBUaGUgY3JlZGl0cyB0byBiZSBkaXNwbGF5ZWQgd2hlbiB0aGUgdGlsZSBpcyBkaXNwbGF5ZWQuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IDxjb2RlPmdldFRpbGVDcmVkaXRzPC9jb2RlPiBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlxuICovXG5NYXBib3hJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlLmdldFRpbGVDcmVkaXRzID0gZnVuY3Rpb24gKHgsIHksIGxldmVsKSB7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFJlcXVlc3RzIHRoZSBpbWFnZSBmb3IgYSBnaXZlbiB0aWxlLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBNYXBib3hJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdGlsZSBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdGlsZSBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHRpbGUgbGV2ZWwuXG4gKiBAcGFyYW0ge1JlcXVlc3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdCBvYmplY3QuIEludGVuZGVkIGZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50Pnx1bmRlZmluZWR9IEEgcHJvbWlzZSBmb3IgdGhlIGltYWdlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGltYWdlIGlzIGF2YWlsYWJsZSwgb3JcbiAqICAgICAgICAgIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgdG9vIG1hbnkgYWN0aXZlIHJlcXVlc3RzIHRvIHRoZSBzZXJ2ZXIsIGFuZCB0aGUgcmVxdWVzdFxuICogICAgICAgICAgc2hvdWxkIGJlIHJldHJpZWQgbGF0ZXIuICBUaGUgcmVzb2x2ZWQgaW1hZ2UgbWF5IGJlIGVpdGhlciBhblxuICogICAgICAgICAgSW1hZ2Ugb3IgYSBDYW52YXMgRE9NIG9iamVjdC5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gPGNvZGU+cmVxdWVzdEltYWdlPC9jb2RlPiBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlxuICovXG5NYXBib3hJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlLnJlcXVlc3RJbWFnZSA9IGZ1bmN0aW9uICh4LCB5LCBsZXZlbCwgcmVxdWVzdCkge1xuICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnJlcXVlc3RJbWFnZSh4LCB5LCBsZXZlbCwgcmVxdWVzdCk7XG59O1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IGRldGVybWluZXMgd2hhdCBmZWF0dXJlcywgaWYgYW55LCBhcmUgbG9jYXRlZCBhdCBhIGdpdmVuIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgd2l0aGluXG4gKiBhIHRpbGUuICBUaGlzIGZ1bmN0aW9uIHNob3VsZCBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94SW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLCBzbyBpdCBtYXkgbm90IGV4aXN0IG9uIGFsbCBJbWFnZXJ5UHJvdmlkZXJzLlxuICpcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdGlsZSBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdGlsZSBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHRpbGUgbGV2ZWwuXG4gKiBAcGFyYW0ge051bWJlcn0gbG9uZ2l0dWRlIFRoZSBsb25naXR1ZGUgYXQgd2hpY2ggdG8gcGljayBmZWF0dXJlcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsYXRpdHVkZSAgVGhlIGxhdGl0dWRlIGF0IHdoaWNoIHRvIHBpY2sgZmVhdHVyZXMuXG4gKiBAcmV0dXJuIHtQcm9taXNlLjxJbWFnZXJ5TGF5ZXJGZWF0dXJlSW5mb1tdPnx1bmRlZmluZWR9IEEgcHJvbWlzZSBmb3IgdGhlIHBpY2tlZCBmZWF0dXJlcyB0aGF0IHdpbGwgcmVzb2x2ZSB3aGVuIHRoZSBhc3luY2hyb25vdXNcbiAqICAgICAgICAgICAgICAgICAgIHBpY2tpbmcgY29tcGxldGVzLiAgVGhlIHJlc29sdmVkIHZhbHVlIGlzIGFuIGFycmF5IG9mIHtAbGluayBJbWFnZXJ5TGF5ZXJGZWF0dXJlSW5mb31cbiAqICAgICAgICAgICAgICAgICAgIGluc3RhbmNlcy4gIFRoZSBhcnJheSBtYXkgYmUgZW1wdHkgaWYgbm8gZmVhdHVyZXMgYXJlIGZvdW5kIGF0IHRoZSBnaXZlbiBsb2NhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgIEl0IG1heSBhbHNvIGJlIHVuZGVmaW5lZCBpZiBwaWNraW5nIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IDxjb2RlPnBpY2tGZWF0dXJlczwvY29kZT4gbXVzdCBub3QgYmUgY2FsbGVkIGJlZm9yZSB0aGUgaW1hZ2VyeSBwcm92aWRlciBpcyByZWFkeS5cbiAqL1xuTWFwYm94SW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5waWNrRmVhdHVyZXMgPSBmdW5jdGlvbiAoXG4gIHgsXG4gIHksXG4gIGxldmVsLFxuICBsb25naXR1ZGUsXG4gIGxhdGl0dWRlXG4pIHtcbiAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5waWNrRmVhdHVyZXMoeCwgeSwgbGV2ZWwsIGxvbmdpdHVkZSwgbGF0aXR1ZGUpO1xufTtcblxuLy8gRXhwb3NlZCBmb3IgdGVzdHNcbk1hcGJveEltYWdlcnlQcm92aWRlci5fZGVmYXVsdENyZWRpdCA9IGRlZmF1bHRDcmVkaXQ7XG5leHBvcnQgZGVmYXVsdCBNYXBib3hJbWFnZXJ5UHJvdmlkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///65657\n')},9207:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Credit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52975);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68985);\n/* harmony import */ var _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24855);\n\n\n\n\n\n\n\nvar trailingSlashRegex = /\\/$/;\nvar defaultCredit = new _Core_Credit_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n  \'&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>\'\n);\n\n/**\n * @typedef {Object} MapboxStyleImageryProvider.ConstructorOptions\n *\n * Initialization options for the MapboxStyleImageryProvider constructor\n *\n * @property {Resource|String} [url=\'https://api.mapbox.com/styles/v1/\'] The Mapbox server url.\n * @property {String} [username=\'mapbox\'] The username of the map account.\n * @property {String} styleId The Mapbox Style ID.\n * @property {String} accessToken The public access token for the imagery.\n * @property {Number} [tilesize=512] The size of the image tiles.\n * @property {Boolean} [scaleFactor] Determines if tiles are rendered at a @2x scale factor.\n * @property {Ellipsoid} [ellipsoid] The ellipsoid.  If not specified, the WGS84 ellipsoid is used.\n * @property {Number} [minimumLevel=0] The minimum level-of-detail supported by the imagery provider.  Take care when specifying\n *                 this that the number of tiles at the minimum level is small, such as four or less.  A larger number is likely\n *                 to result in rendering problems.\n * @property {Number} [maximumLevel] The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n * @property {Rectangle} [rectangle=Rectangle.MAX_VALUE] The rectangle, in radians, covered by the image.\n * @property {Credit|String} [credit] A credit for the data source, which is displayed on the canvas.\n */\n\n/**\n * Provides tiled imagery hosted by Mapbox.\n *\n * @alias MapboxStyleImageryProvider\n * @constructor\n *\n * @param {MapboxStyleImageryProvider.ConstructorOptions} options Object describing initialization options\n *\n * @example\n * // Mapbox style provider\n * var mapbox = new Cesium.MapboxStyleImageryProvider({\n *     styleId: \'streets-v11\',\n *     accessToken: \'thisIsMyAccessToken\'\n * });\n *\n * @see {@link https://docs.mapbox.com/api/maps/#styles}\n * @see {@link https://docs.mapbox.com/api/#access-tokens-and-token-scopes}\n */\nfunction MapboxStyleImageryProvider(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  var styleId = options.styleId;\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(styleId)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("options.styleId is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var accessToken = options.accessToken;\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(accessToken)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("options.accessToken is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  /**\n   * The default alpha blending value of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the night side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultNightAlpha = undefined;\n\n  /**\n   * The default alpha blending value on the day side of the globe of this provider, with 0.0 representing fully transparent and\n   * 1.0 representing fully opaque.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultDayAlpha = undefined;\n\n  /**\n   * The default brightness of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0\n   * makes the imagery darker while greater than 1.0 makes it brighter.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultBrightness = undefined;\n\n  /**\n   * The default contrast of this provider.  1.0 uses the unmodified imagery color.  Less than 1.0 reduces\n   * the contrast while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultContrast = undefined;\n\n  /**\n   * The default hue of this provider in radians. 0.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultHue = undefined;\n\n  /**\n   * The default saturation of this provider. 1.0 uses the unmodified imagery color. Less than 1.0 reduces the\n   * saturation while greater than 1.0 increases it.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultSaturation = undefined;\n\n  /**\n   * The default gamma correction to apply to this provider.  1.0 uses the unmodified imagery color.\n   *\n   * @type {Number|undefined}\n   * @default undefined\n   */\n  this.defaultGamma = undefined;\n\n  /**\n   * The default texture minification filter to apply to this provider.\n   *\n   * @type {TextureMinificationFilter}\n   * @default undefined\n   */\n  this.defaultMinificationFilter = undefined;\n\n  /**\n   * The default texture magnification filter to apply to this provider.\n   *\n   * @type {TextureMagnificationFilter}\n   * @default undefined\n   */\n  this.defaultMagnificationFilter = undefined;\n\n  var resource = _Core_Resource_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].createIfNeeded */ .Z.createIfNeeded(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.url, "https://api.mapbox.com/styles/v1/")\n  );\n\n  this._styleId = styleId;\n  this._accessToken = accessToken;\n\n  var tilesize = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.tilesize, 512);\n  this._tilesize = tilesize;\n\n  var username = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options.username, "mapbox");\n  this._username = username;\n\n  var scaleFactor = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.scaleFactor) ? "@2x" : "";\n\n  var templateUrl = resource.getUrlComponent();\n  if (!trailingSlashRegex.test(templateUrl)) {\n    templateUrl += "/";\n  }\n  templateUrl +=\n    this._username +\n    "/" +\n    styleId +\n    "/tiles/" +\n    this._tilesize +\n    "/{z}/{x}/{y}" +\n    scaleFactor;\n  resource.url = templateUrl;\n\n  resource.setQueryParameters({\n    access_token: accessToken,\n  });\n\n  var credit;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(options.credit)) {\n    credit = options.credit;\n    if (typeof credit === "string") {\n      credit = new _Core_Credit_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(credit);\n    }\n  } else {\n    credit = defaultCredit;\n  }\n\n  this._resource = resource;\n  this._imageryProvider = new _UrlTemplateImageryProvider_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    url: resource,\n    credit: credit,\n    ellipsoid: options.ellipsoid,\n    minimumLevel: options.minimumLevel,\n    maximumLevel: options.maximumLevel,\n    rectangle: options.rectangle,\n  });\n}\n\nObject.defineProperties(MapboxStyleImageryProvider.prototype, {\n  /**\n   * Gets the URL of the Mapbox server.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {String}\n   * @readonly\n   */\n  url: {\n    get: function () {\n      return this._imageryProvider.url;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the provider is ready for use.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return this._imageryProvider.ready;\n    },\n  },\n\n  /**\n   * Gets a promise that resolves to true when the provider is ready for use.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Promise.<Boolean>}\n   * @readonly\n   */\n  readyPromise: {\n    get: function () {\n      return this._imageryProvider.readyPromise;\n    },\n  },\n\n  /**\n   * Gets the rectangle, in radians, of the imagery provided by the instance.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Rectangle}\n   * @readonly\n   */\n  rectangle: {\n    get: function () {\n      return this._imageryProvider.rectangle;\n    },\n  },\n\n  /**\n   * Gets the width of each tile, in pixels.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileWidth: {\n    get: function () {\n      return this._imageryProvider.tileWidth;\n    },\n  },\n\n  /**\n   * Gets the height of each tile, in pixels.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  tileHeight: {\n    get: function () {\n      return this._imageryProvider.tileHeight;\n    },\n  },\n\n  /**\n   * Gets the maximum level-of-detail that can be requested.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Number|undefined}\n   * @readonly\n   */\n  maximumLevel: {\n    get: function () {\n      return this._imageryProvider.maximumLevel;\n    },\n  },\n\n  /**\n   * Gets the minimum level-of-detail that can be requested.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true. Generally,\n   * a minimum level should only be used when the rectangle of the imagery is small\n   * enough that the number of tiles at the minimum level is small.  An imagery\n   * provider with more than a few tiles at the minimum level will lead to\n   * rendering problems.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Number}\n   * @readonly\n   */\n  minimumLevel: {\n    get: function () {\n      return this._imageryProvider.minimumLevel;\n    },\n  },\n\n  /**\n   * Gets the tiling scheme used by the provider.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {TilingScheme}\n   * @readonly\n   */\n  tilingScheme: {\n    get: function () {\n      return this._imageryProvider.tilingScheme;\n    },\n  },\n\n  /**\n   * Gets the tile discard policy.  If not undefined, the discard policy is responsible\n   * for filtering out "missing" tiles via its shouldDiscardImage function.  If this function\n   * returns undefined, no tiles are filtered.  This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {TileDiscardPolicy}\n   * @readonly\n   */\n  tileDiscardPolicy: {\n    get: function () {\n      return this._imageryProvider.tileDiscardPolicy;\n    },\n  },\n\n  /**\n   * Gets an event that is raised when the imagery provider encounters an asynchronous error..  By subscribing\n   * to the event, you will be notified of the error and can potentially recover from it.  Event listeners\n   * are passed an instance of {@link TileProviderError}.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Event}\n   * @readonly\n   */\n  errorEvent: {\n    get: function () {\n      return this._imageryProvider.errorEvent;\n    },\n  },\n\n  /**\n   * Gets the credit to display when this imagery provider is active.  Typically this is used to credit\n   * the source of the imagery. This function should\n   * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Credit}\n   * @readonly\n   */\n  credit: {\n    get: function () {\n      return this._imageryProvider.credit;\n    },\n  },\n\n  /**\n   * Gets the proxy used by this provider.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Proxy}\n   * @readonly\n   */\n  proxy: {\n    get: function () {\n      return this._imageryProvider.proxy;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not the images provided by this imagery provider\n   * include an alpha channel.  If this property is false, an alpha channel, if present, will\n   * be ignored.  If this property is true, any images without an alpha channel will be treated\n   * as if their alpha is 1.0 everywhere.  When this property is false, memory usage\n   * and texture upload time are reduced.\n   * @memberof MapboxStyleImageryProvider.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  hasAlphaChannel: {\n    get: function () {\n      return this._imageryProvider.hasAlphaChannel;\n    },\n  },\n});\n\n/**\n * Gets the credits to be displayed when a given tile is displayed.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level;\n * @returns {Credit[]} The credits to be displayed when the tile is displayed.\n *\n * @exception {DeveloperError} <code>getTileCredits</code> must not be called before the imagery provider is ready.\n */\nMapboxStyleImageryProvider.prototype.getTileCredits = function (x, y, level) {\n  return undefined;\n};\n\n/**\n * Requests the image for a given tile.  This function should\n * not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Request} [request] The request object. Intended for internal use only.\n * @returns {Promise.<HTMLImageElement|HTMLCanvasElement>|undefined} A promise for the image that will resolve when the image is available, or\n *          undefined if there are too many active requests to the server, and the request\n *          should be retried later.  The resolved image may be either an\n *          Image or a Canvas DOM object.\n *\n * @exception {DeveloperError} <code>requestImage</code> must not be called before the imagery provider is ready.\n */\nMapboxStyleImageryProvider.prototype.requestImage = function (\n  x,\n  y,\n  level,\n  request\n) {\n  return this._imageryProvider.requestImage(x, y, level, request);\n};\n\n/**\n * Asynchronously determines what features, if any, are located at a given longitude and latitude within\n * a tile.  This function should not be called before {@link MapboxStyleImageryProvider#ready} returns true.\n * This function is optional, so it may not exist on all ImageryProviders.\n *\n *\n * @param {Number} x The tile X coordinate.\n * @param {Number} y The tile Y coordinate.\n * @param {Number} level The tile level.\n * @param {Number} longitude The longitude at which to pick features.\n * @param {Number} latitude  The latitude at which to pick features.\n * @return {Promise.<ImageryLayerFeatureInfo[]>|undefined} A promise for the picked features that will resolve when the asynchronous\n *                   picking completes.  The resolved value is an array of {@link ImageryLayerFeatureInfo}\n *                   instances.  The array may be empty if no features are found at the given location.\n *                   It may also be undefined if picking is not supported.\n *\n * @exception {DeveloperError} <code>pickFeatures</code> must not be called before the imagery provider is ready.\n */\nMapboxStyleImageryProvider.prototype.pickFeatures = function (\n  x,\n  y,\n  level,\n  longitude,\n  latitude\n) {\n  return this._imageryProvider.pickFeatures(x, y, level, longitude, latitude);\n};\n\n// Exposed for tests\nMapboxStyleImageryProvider._defaultCredit = defaultCredit;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (MapboxStyleImageryProvider)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5Qix3Q0FBd0M7QUFDakU7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsYUFBYSx3REFBd0Q7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCx3Q0FBd0M7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLCtDQUErQztBQUMzRCw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNFQUFlLDBFQUEwQixJQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL01hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLmpzP2M2MTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENyZWRpdCBmcm9tIFwiLi4vQ29yZS9DcmVkaXQuanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBSZXNvdXJjZSBmcm9tIFwiLi4vQ29yZS9SZXNvdXJjZS5qc1wiO1xuaW1wb3J0IFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyIGZyb20gXCIuL1VybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyLmpzXCI7XG5cbnZhciB0cmFpbGluZ1NsYXNoUmVnZXggPSAvXFwvJC87XG52YXIgZGVmYXVsdENyZWRpdCA9IG5ldyBDcmVkaXQoXG4gICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYWJvdXQvbWFwcy9cIj5NYXBib3g8L2E+ICZjb3B5OyA8YSBocmVmPVwiaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiA8c3Ryb25nPjxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL21hcC1mZWVkYmFjay9cIj5JbXByb3ZlIHRoaXMgbWFwPC9hPjwvc3Ryb25nPidcbik7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIuQ29uc3RydWN0b3JPcHRpb25zXG4gKlxuICogSW5pdGlhbGl6YXRpb24gb3B0aW9ucyBmb3IgdGhlIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyIGNvbnN0cnVjdG9yXG4gKlxuICogQHByb3BlcnR5IHtSZXNvdXJjZXxTdHJpbmd9IFt1cmw9J2h0dHBzOi8vYXBpLm1hcGJveC5jb20vc3R5bGVzL3YxLyddIFRoZSBNYXBib3ggc2VydmVyIHVybC5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbdXNlcm5hbWU9J21hcGJveCddIFRoZSB1c2VybmFtZSBvZiB0aGUgbWFwIGFjY291bnQuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gc3R5bGVJZCBUaGUgTWFwYm94IFN0eWxlIElELlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGFjY2Vzc1Rva2VuIFRoZSBwdWJsaWMgYWNjZXNzIHRva2VuIGZvciB0aGUgaW1hZ2VyeS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdGlsZXNpemU9NTEyXSBUaGUgc2l6ZSBvZiB0aGUgaW1hZ2UgdGlsZXMuXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtzY2FsZUZhY3Rvcl0gRGV0ZXJtaW5lcyBpZiB0aWxlcyBhcmUgcmVuZGVyZWQgYXQgYSBAMnggc2NhbGUgZmFjdG9yLlxuICogQHByb3BlcnR5IHtFbGxpcHNvaWR9IFtlbGxpcHNvaWRdIFRoZSBlbGxpcHNvaWQuICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgV0dTODQgZWxsaXBzb2lkIGlzIHVzZWQuXG4gKiBAcHJvcGVydHkge051bWJlcn0gW21pbmltdW1MZXZlbD0wXSBUaGUgbWluaW11bSBsZXZlbC1vZi1kZXRhaWwgc3VwcG9ydGVkIGJ5IHRoZSBpbWFnZXJ5IHByb3ZpZGVyLiAgVGFrZSBjYXJlIHdoZW4gc3BlY2lmeWluZ1xuICogICAgICAgICAgICAgICAgIHRoaXMgdGhhdCB0aGUgbnVtYmVyIG9mIHRpbGVzIGF0IHRoZSBtaW5pbXVtIGxldmVsIGlzIHNtYWxsLCBzdWNoIGFzIGZvdXIgb3IgbGVzcy4gIEEgbGFyZ2VyIG51bWJlciBpcyBsaWtlbHlcbiAqICAgICAgICAgICAgICAgICB0byByZXN1bHQgaW4gcmVuZGVyaW5nIHByb2JsZW1zLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFttYXhpbXVtTGV2ZWxdIFRoZSBtYXhpbXVtIGxldmVsLW9mLWRldGFpbCBzdXBwb3J0ZWQgYnkgdGhlIGltYWdlcnkgcHJvdmlkZXIsIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBpcyBubyBsaW1pdC5cbiAqIEBwcm9wZXJ0eSB7UmVjdGFuZ2xlfSBbcmVjdGFuZ2xlPVJlY3RhbmdsZS5NQVhfVkFMVUVdIFRoZSByZWN0YW5nbGUsIGluIHJhZGlhbnMsIGNvdmVyZWQgYnkgdGhlIGltYWdlLlxuICogQHByb3BlcnR5IHtDcmVkaXR8U3RyaW5nfSBbY3JlZGl0XSBBIGNyZWRpdCBmb3IgdGhlIGRhdGEgc291cmNlLCB3aGljaCBpcyBkaXNwbGF5ZWQgb24gdGhlIGNhbnZhcy5cbiAqL1xuXG4vKipcbiAqIFByb3ZpZGVzIHRpbGVkIGltYWdlcnkgaG9zdGVkIGJ5IE1hcGJveC5cbiAqXG4gKiBAYWxpYXMgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXJcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7TWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIuQ29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zIE9iamVjdCBkZXNjcmliaW5nIGluaXRpYWxpemF0aW9uIG9wdGlvbnNcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gTWFwYm94IHN0eWxlIHByb3ZpZGVyXG4gKiB2YXIgbWFwYm94ID0gbmV3IENlc2l1bS5NYXBib3hTdHlsZUltYWdlcnlQcm92aWRlcih7XG4gKiAgICAgc3R5bGVJZDogJ3N0cmVldHMtdjExJyxcbiAqICAgICBhY2Nlc3NUb2tlbjogJ3RoaXNJc015QWNjZXNzVG9rZW4nXG4gKiB9KTtcbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2RvY3MubWFwYm94LmNvbS9hcGkvbWFwcy8jc3R5bGVzfVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpLyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXN9XG4gKi9cbmZ1bmN0aW9uIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcbiAgdmFyIHN0eWxlSWQgPSBvcHRpb25zLnN0eWxlSWQ7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChzdHlsZUlkKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMuc3R5bGVJZCBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGFjY2Vzc1Rva2VuID0gb3B0aW9ucy5hY2Nlc3NUb2tlbjtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGFjY2Vzc1Rva2VuKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMuYWNjZXNzVG9rZW4gaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBhbHBoYSBibGVuZGluZyB2YWx1ZSBvZiB0aGlzIHByb3ZpZGVyLCB3aXRoIDAuMCByZXByZXNlbnRpbmcgZnVsbHkgdHJhbnNwYXJlbnQgYW5kXG4gICAqIDEuMCByZXByZXNlbnRpbmcgZnVsbHkgb3BhcXVlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRBbHBoYSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWxwaGEgYmxlbmRpbmcgdmFsdWUgb24gdGhlIG5pZ2h0IHNpZGUgb2YgdGhlIGdsb2JlIG9mIHRoaXMgcHJvdmlkZXIsIHdpdGggMC4wIHJlcHJlc2VudGluZyBmdWxseSB0cmFuc3BhcmVudCBhbmRcbiAgICogMS4wIHJlcHJlc2VudGluZyBmdWxseSBvcGFxdWUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdE5pZ2h0QWxwaGEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFscGhhIGJsZW5kaW5nIHZhbHVlIG9uIHRoZSBkYXkgc2lkZSBvZiB0aGUgZ2xvYmUgb2YgdGhpcyBwcm92aWRlciwgd2l0aCAwLjAgcmVwcmVzZW50aW5nIGZ1bGx5IHRyYW5zcGFyZW50IGFuZFxuICAgKiAxLjAgcmVwcmVzZW50aW5nIGZ1bGx5IG9wYXF1ZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0RGF5QWxwaGEgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGJyaWdodG5lc3Mgb2YgdGhpcyBwcm92aWRlci4gIDEuMCB1c2VzIHRoZSB1bm1vZGlmaWVkIGltYWdlcnkgY29sb3IuICBMZXNzIHRoYW4gMS4wXG4gICAqIG1ha2VzIHRoZSBpbWFnZXJ5IGRhcmtlciB3aGlsZSBncmVhdGVyIHRoYW4gMS4wIG1ha2VzIGl0IGJyaWdodGVyLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRCcmlnaHRuZXNzID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb250cmFzdCBvZiB0aGlzIHByb3ZpZGVyLiAgMS4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci4gIExlc3MgdGhhbiAxLjAgcmVkdWNlc1xuICAgKiB0aGUgY29udHJhc3Qgd2hpbGUgZ3JlYXRlciB0aGFuIDEuMCBpbmNyZWFzZXMgaXQuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdENvbnRyYXN0ID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBodWUgb2YgdGhpcyBwcm92aWRlciBpbiByYWRpYW5zLiAwLjAgdXNlcyB0aGUgdW5tb2RpZmllZCBpbWFnZXJ5IGNvbG9yLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRIdWUgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHNhdHVyYXRpb24gb2YgdGhpcyBwcm92aWRlci4gMS4wIHVzZXMgdGhlIHVubW9kaWZpZWQgaW1hZ2VyeSBjb2xvci4gTGVzcyB0aGFuIDEuMCByZWR1Y2VzIHRoZVxuICAgKiBzYXR1cmF0aW9uIHdoaWxlIGdyZWF0ZXIgdGhhbiAxLjAgaW5jcmVhc2VzIGl0LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRTYXR1cmF0aW9uID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBnYW1tYSBjb3JyZWN0aW9uIHRvIGFwcGx5IHRvIHRoaXMgcHJvdmlkZXIuICAxLjAgdXNlcyB0aGUgdW5tb2RpZmllZCBpbWFnZXJ5IGNvbG9yLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmRlZmF1bHRHYW1tYSA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdGV4dHVyZSBtaW5pZmljYXRpb24gZmlsdGVyIHRvIGFwcGx5IHRvIHRoaXMgcHJvdmlkZXIuXG4gICAqXG4gICAqIEB0eXBlIHtUZXh0dXJlTWluaWZpY2F0aW9uRmlsdGVyfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuZGVmYXVsdE1pbmlmaWNhdGlvbkZpbHRlciA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdGV4dHVyZSBtYWduaWZpY2F0aW9uIGZpbHRlciB0byBhcHBseSB0byB0aGlzIHByb3ZpZGVyLlxuICAgKlxuICAgKiBAdHlwZSB7VGV4dHVyZU1hZ25pZmljYXRpb25GaWx0ZXJ9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5kZWZhdWx0TWFnbmlmaWNhdGlvbkZpbHRlciA9IHVuZGVmaW5lZDtcblxuICB2YXIgcmVzb3VyY2UgPSBSZXNvdXJjZS5jcmVhdGVJZk5lZWRlZChcbiAgICBkZWZhdWx0VmFsdWUob3B0aW9ucy51cmwsIFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbS9zdHlsZXMvdjEvXCIpXG4gICk7XG5cbiAgdGhpcy5fc3R5bGVJZCA9IHN0eWxlSWQ7XG4gIHRoaXMuX2FjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG5cbiAgdmFyIHRpbGVzaXplID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMudGlsZXNpemUsIDUxMik7XG4gIHRoaXMuX3RpbGVzaXplID0gdGlsZXNpemU7XG5cbiAgdmFyIHVzZXJuYW1lID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMudXNlcm5hbWUsIFwibWFwYm94XCIpO1xuICB0aGlzLl91c2VybmFtZSA9IHVzZXJuYW1lO1xuXG4gIHZhciBzY2FsZUZhY3RvciA9IGRlZmluZWQob3B0aW9ucy5zY2FsZUZhY3RvcikgPyBcIkAyeFwiIDogXCJcIjtcblxuICB2YXIgdGVtcGxhdGVVcmwgPSByZXNvdXJjZS5nZXRVcmxDb21wb25lbnQoKTtcbiAgaWYgKCF0cmFpbGluZ1NsYXNoUmVnZXgudGVzdCh0ZW1wbGF0ZVVybCkpIHtcbiAgICB0ZW1wbGF0ZVVybCArPSBcIi9cIjtcbiAgfVxuICB0ZW1wbGF0ZVVybCArPVxuICAgIHRoaXMuX3VzZXJuYW1lICtcbiAgICBcIi9cIiArXG4gICAgc3R5bGVJZCArXG4gICAgXCIvdGlsZXMvXCIgK1xuICAgIHRoaXMuX3RpbGVzaXplICtcbiAgICBcIi97en0ve3h9L3t5fVwiICtcbiAgICBzY2FsZUZhY3RvcjtcbiAgcmVzb3VyY2UudXJsID0gdGVtcGxhdGVVcmw7XG5cbiAgcmVzb3VyY2Uuc2V0UXVlcnlQYXJhbWV0ZXJzKHtcbiAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuLFxuICB9KTtcblxuICB2YXIgY3JlZGl0O1xuICBpZiAoZGVmaW5lZChvcHRpb25zLmNyZWRpdCkpIHtcbiAgICBjcmVkaXQgPSBvcHRpb25zLmNyZWRpdDtcbiAgICBpZiAodHlwZW9mIGNyZWRpdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY3JlZGl0ID0gbmV3IENyZWRpdChjcmVkaXQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjcmVkaXQgPSBkZWZhdWx0Q3JlZGl0O1xuICB9XG5cbiAgdGhpcy5fcmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgdGhpcy5faW1hZ2VyeVByb3ZpZGVyID0gbmV3IFVybFRlbXBsYXRlSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICB1cmw6IHJlc291cmNlLFxuICAgIGNyZWRpdDogY3JlZGl0LFxuICAgIGVsbGlwc29pZDogb3B0aW9ucy5lbGxpcHNvaWQsXG4gICAgbWluaW11bUxldmVsOiBvcHRpb25zLm1pbmltdW1MZXZlbCxcbiAgICBtYXhpbXVtTGV2ZWw6IG9wdGlvbnMubWF4aW11bUxldmVsLFxuICAgIHJlY3RhbmdsZTogb3B0aW9ucy5yZWN0YW5nbGUsXG4gIH0pO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCBvZiB0aGUgTWFwYm94IHNlcnZlci5cbiAgICogQG1lbWJlcm9mIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHVybDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci51cmw7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHByb3ZpZGVyIGlzIHJlYWR5IGZvciB1c2UuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcmVhZHk6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIucmVhZHk7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0cnVlIHdoZW4gdGhlIHByb3ZpZGVyIGlzIHJlYWR5IGZvciB1c2UuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb21pc2UuPEJvb2xlYW4+fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlYWR5UHJvbWlzZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5yZWFkeVByb21pc2U7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgcmVjdGFuZ2xlLCBpbiByYWRpYW5zLCBvZiB0aGUgaW1hZ2VyeSBwcm92aWRlZCBieSB0aGUgaW5zdGFuY2UuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UmVjdGFuZ2xlfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlY3RhbmdsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5yZWN0YW5nbGU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgd2lkdGggb2YgZWFjaCB0aWxlLCBpbiBwaXhlbHMuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHRpbGVXaWR0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci50aWxlV2lkdGg7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgaGVpZ2h0IG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB0aWxlSGVpZ2h0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnRpbGVIZWlnaHQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgbWF4aW11bSBsZXZlbC1vZi1kZXRhaWwgdGhhdCBjYW4gYmUgcmVxdWVzdGVkLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcnx1bmRlZmluZWR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgbWF4aW11bUxldmVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLm1heGltdW1MZXZlbDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtaW5pbXVtIGxldmVsLW9mLWRldGFpbCB0aGF0IGNhbiBiZSByZXF1ZXN0ZWQuICBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS4gR2VuZXJhbGx5LFxuICAgKiBhIG1pbmltdW0gbGV2ZWwgc2hvdWxkIG9ubHkgYmUgdXNlZCB3aGVuIHRoZSByZWN0YW5nbGUgb2YgdGhlIGltYWdlcnkgaXMgc21hbGxcbiAgICogZW5vdWdoIHRoYXQgdGhlIG51bWJlciBvZiB0aWxlcyBhdCB0aGUgbWluaW11bSBsZXZlbCBpcyBzbWFsbC4gIEFuIGltYWdlcnlcbiAgICogcHJvdmlkZXIgd2l0aCBtb3JlIHRoYW4gYSBmZXcgdGlsZXMgYXQgdGhlIG1pbmltdW0gbGV2ZWwgd2lsbCBsZWFkIHRvXG4gICAqIHJlbmRlcmluZyBwcm9ibGVtcy5cbiAgICogQG1lbWJlcm9mIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIG1pbmltdW1MZXZlbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5taW5pbXVtTGV2ZWw7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgdGlsaW5nIHNjaGVtZSB1c2VkIGJ5IHRoZSBwcm92aWRlci4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gICAqIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtUaWxpbmdTY2hlbWV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdGlsaW5nU2NoZW1lOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnRpbGluZ1NjaGVtZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0aWxlIGRpc2NhcmQgcG9saWN5LiAgSWYgbm90IHVuZGVmaW5lZCwgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlc3BvbnNpYmxlXG4gICAqIGZvciBmaWx0ZXJpbmcgb3V0IFwibWlzc2luZ1wiIHRpbGVzIHZpYSBpdHMgc2hvdWxkRGlzY2FyZEltYWdlIGZ1bmN0aW9uLiAgSWYgdGhpcyBmdW5jdGlvblxuICAgKiByZXR1cm5zIHVuZGVmaW5lZCwgbm8gdGlsZXMgYXJlIGZpbHRlcmVkLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRcbiAgICogbm90IGJlIGNhbGxlZCBiZWZvcmUge0BsaW5rIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyI3JlYWR5fSByZXR1cm5zIHRydWUuXG4gICAqIEBtZW1iZXJvZiBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge1RpbGVEaXNjYXJkUG9saWN5fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHRpbGVEaXNjYXJkUG9saWN5OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW1hZ2VyeVByb3ZpZGVyLnRpbGVEaXNjYXJkUG9saWN5O1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgYW4gZXZlbnQgdGhhdCBpcyByYWlzZWQgd2hlbiB0aGUgaW1hZ2VyeSBwcm92aWRlciBlbmNvdW50ZXJzIGFuIGFzeW5jaHJvbm91cyBlcnJvci4uICBCeSBzdWJzY3JpYmluZ1xuICAgKiB0byB0aGUgZXZlbnQsIHlvdSB3aWxsIGJlIG5vdGlmaWVkIG9mIHRoZSBlcnJvciBhbmQgY2FuIHBvdGVudGlhbGx5IHJlY292ZXIgZnJvbSBpdC4gIEV2ZW50IGxpc3RlbmVyc1xuICAgKiBhcmUgcGFzc2VkIGFuIGluc3RhbmNlIG9mIHtAbGluayBUaWxlUHJvdmlkZXJFcnJvcn0uXG4gICAqIEBtZW1iZXJvZiBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0V2ZW50fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGVycm9yRXZlbnQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIuZXJyb3JFdmVudDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjcmVkaXQgdG8gZGlzcGxheSB3aGVuIHRoaXMgaW1hZ2VyeSBwcm92aWRlciBpcyBhY3RpdmUuICBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIGNyZWRpdFxuICAgKiB0aGUgc291cmNlIG9mIHRoZSBpbWFnZXJ5LiBUaGlzIGZ1bmN0aW9uIHNob3VsZFxuICAgKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAgICogQG1lbWJlcm9mIE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q3JlZGl0fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGNyZWRpdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5jcmVkaXQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgcHJveHkgdXNlZCBieSB0aGlzIHByb3ZpZGVyLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm94eX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBwcm94eToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5wcm94eTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgaW1hZ2VzIHByb3ZpZGVkIGJ5IHRoaXMgaW1hZ2VyeSBwcm92aWRlclxuICAgKiBpbmNsdWRlIGFuIGFscGhhIGNoYW5uZWwuICBJZiB0aGlzIHByb3BlcnR5IGlzIGZhbHNlLCBhbiBhbHBoYSBjaGFubmVsLCBpZiBwcmVzZW50LCB3aWxsXG4gICAqIGJlIGlnbm9yZWQuICBJZiB0aGlzIHByb3BlcnR5IGlzIHRydWUsIGFueSBpbWFnZXMgd2l0aG91dCBhbiBhbHBoYSBjaGFubmVsIHdpbGwgYmUgdHJlYXRlZFxuICAgKiBhcyBpZiB0aGVpciBhbHBoYSBpcyAxLjAgZXZlcnl3aGVyZS4gIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBmYWxzZSwgbWVtb3J5IHVzYWdlXG4gICAqIGFuZCB0ZXh0dXJlIHVwbG9hZCB0aW1lIGFyZSByZWR1Y2VkLlxuICAgKiBAbWVtYmVyb2YgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGhhc0FscGhhQ2hhbm5lbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5oYXNBbHBoYUNoYW5uZWw7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIGNyZWRpdHMgdG8gYmUgZGlzcGxheWVkIHdoZW4gYSBnaXZlbiB0aWxlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdGlsZSBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdGlsZSBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHRpbGUgbGV2ZWw7XG4gKiBAcmV0dXJucyB7Q3JlZGl0W119IFRoZSBjcmVkaXRzIHRvIGJlIGRpc3BsYXllZCB3aGVuIHRoZSB0aWxlIGlzIGRpc3BsYXllZC5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gPGNvZGU+Z2V0VGlsZUNyZWRpdHM8L2NvZGU+IG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXG4gKi9cbk1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5nZXRUaWxlQ3JlZGl0cyA9IGZ1bmN0aW9uICh4LCB5LCBsZXZlbCkge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBSZXF1ZXN0cyB0aGUgaW1hZ2UgZm9yIGEgZ2l2ZW4gdGlsZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkXG4gKiBub3QgYmUgY2FsbGVkIGJlZm9yZSB7QGxpbmsgTWFwYm94U3R5bGVJbWFnZXJ5UHJvdmlkZXIjcmVhZHl9IHJldHVybnMgdHJ1ZS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdGlsZSBYIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdGlsZSBZIGNvb3JkaW5hdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHRpbGUgbGV2ZWwuXG4gKiBAcGFyYW0ge1JlcXVlc3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdCBvYmplY3QuIEludGVuZGVkIGZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAqIEByZXR1cm5zIHtQcm9taXNlLjxIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50Pnx1bmRlZmluZWR9IEEgcHJvbWlzZSBmb3IgdGhlIGltYWdlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGltYWdlIGlzIGF2YWlsYWJsZSwgb3JcbiAqICAgICAgICAgIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgdG9vIG1hbnkgYWN0aXZlIHJlcXVlc3RzIHRvIHRoZSBzZXJ2ZXIsIGFuZCB0aGUgcmVxdWVzdFxuICogICAgICAgICAgc2hvdWxkIGJlIHJldHJpZWQgbGF0ZXIuICBUaGUgcmVzb2x2ZWQgaW1hZ2UgbWF5IGJlIGVpdGhlciBhblxuICogICAgICAgICAgSW1hZ2Ugb3IgYSBDYW52YXMgRE9NIG9iamVjdC5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gPGNvZGU+cmVxdWVzdEltYWdlPC9jb2RlPiBtdXN0IG5vdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBpbWFnZXJ5IHByb3ZpZGVyIGlzIHJlYWR5LlxuICovXG5NYXBib3hTdHlsZUltYWdlcnlQcm92aWRlci5wcm90b3R5cGUucmVxdWVzdEltYWdlID0gZnVuY3Rpb24gKFxuICB4LFxuICB5LFxuICBsZXZlbCxcbiAgcmVxdWVzdFxuKSB7XG4gIHJldHVybiB0aGlzLl9pbWFnZXJ5UHJvdmlkZXIucmVxdWVzdEltYWdlKHgsIHksIGxldmVsLCByZXF1ZXN0KTtcbn07XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgZGV0ZXJtaW5lcyB3aGF0IGZlYXR1cmVzLCBpZiBhbnksIGFyZSBsb2NhdGVkIGF0IGEgZ2l2ZW4gbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSB3aXRoaW5cbiAqIGEgdGlsZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHtAbGluayBNYXBib3hTdHlsZUltYWdlcnlQcm92aWRlciNyZWFkeX0gcmV0dXJucyB0cnVlLlxuICogVGhpcyBmdW5jdGlvbiBpcyBvcHRpb25hbCwgc28gaXQgbWF5IG5vdCBleGlzdCBvbiBhbGwgSW1hZ2VyeVByb3ZpZGVycy5cbiAqXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHRpbGUgWCBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRpbGUgWSBjb29yZGluYXRlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIFRoZSB0aWxlIGxldmVsLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxvbmdpdHVkZSBUaGUgbG9uZ2l0dWRlIGF0IHdoaWNoIHRvIHBpY2sgZmVhdHVyZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gbGF0aXR1ZGUgIFRoZSBsYXRpdHVkZSBhdCB3aGljaCB0byBwaWNrIGZlYXR1cmVzLlxuICogQHJldHVybiB7UHJvbWlzZS48SW1hZ2VyeUxheWVyRmVhdHVyZUluZm9bXT58dW5kZWZpbmVkfSBBIHByb21pc2UgZm9yIHRoZSBwaWNrZWQgZmVhdHVyZXMgdGhhdCB3aWxsIHJlc29sdmUgd2hlbiB0aGUgYXN5bmNocm9ub3VzXG4gKiAgICAgICAgICAgICAgICAgICBwaWNraW5nIGNvbXBsZXRlcy4gIFRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhbiBhcnJheSBvZiB7QGxpbmsgSW1hZ2VyeUxheWVyRmVhdHVyZUluZm99XG4gKiAgICAgICAgICAgICAgICAgICBpbnN0YW5jZXMuICBUaGUgYXJyYXkgbWF5IGJlIGVtcHR5IGlmIG5vIGZlYXR1cmVzIGFyZSBmb3VuZCBhdCB0aGUgZ2l2ZW4gbG9jYXRpb24uXG4gKiAgICAgICAgICAgICAgICAgICBJdCBtYXkgYWxzbyBiZSB1bmRlZmluZWQgaWYgcGlja2luZyBpcyBub3Qgc3VwcG9ydGVkLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSA8Y29kZT5waWNrRmVhdHVyZXM8L2NvZGU+IG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGltYWdlcnkgcHJvdmlkZXIgaXMgcmVhZHkuXG4gKi9cbk1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLnByb3RvdHlwZS5waWNrRmVhdHVyZXMgPSBmdW5jdGlvbiAoXG4gIHgsXG4gIHksXG4gIGxldmVsLFxuICBsb25naXR1ZGUsXG4gIGxhdGl0dWRlXG4pIHtcbiAgcmV0dXJuIHRoaXMuX2ltYWdlcnlQcm92aWRlci5waWNrRmVhdHVyZXMoeCwgeSwgbGV2ZWwsIGxvbmdpdHVkZSwgbGF0aXR1ZGUpO1xufTtcblxuLy8gRXhwb3NlZCBmb3IgdGVzdHNcbk1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyLl9kZWZhdWx0Q3JlZGl0ID0gZGVmYXVsdENyZWRpdDtcbmV4cG9ydCBkZWZhdWx0IE1hcGJveFN0eWxlSW1hZ2VyeVByb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9207\n')},69592:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60838);\n/* harmony import */ var _Core_clone_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(83856);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59947);\n/* harmony import */ var _Core_combine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8182);\n/* harmony import */ var _Core_createGuid_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(39960);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12572);\n/* harmony import */ var _Core_loadKTX2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(54973);\n/* harmony import */ var _Core_Matrix2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(71171);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(68201);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(72248);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(68985);\n/* harmony import */ var _Renderer_CubeMap_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(51107);\n/* harmony import */ var _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8743);\n/* harmony import */ var _Shaders_Materials_AspectRampMaterial_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(4635);\n/* harmony import */ var _Shaders_Materials_BumpMapMaterial_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(32824);\n/* harmony import */ var _Shaders_Materials_CheckerboardMaterial_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(12748);\n/* harmony import */ var _Shaders_Materials_DotMaterial_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(85805);\n/* harmony import */ var _Shaders_Materials_ElevationBandMaterial_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(43659);\n/* harmony import */ var _Shaders_Materials_ElevationContourMaterial_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(94678);\n/* harmony import */ var _Shaders_Materials_ElevationRampMaterial_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(44452);\n/* harmony import */ var _Shaders_Materials_FadeMaterial_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(65082);\n/* harmony import */ var _Shaders_Materials_GridMaterial_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(18595);\n/* harmony import */ var _Shaders_Materials_NormalMapMaterial_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(19431);\n/* harmony import */ var _Shaders_Materials_PolylineArrowMaterial_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(81699);\n/* harmony import */ var _Shaders_Materials_PolylineDashMaterial_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(24291);\n/* harmony import */ var _Shaders_Materials_PolylineGlowMaterial_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(20126);\n/* harmony import */ var _Shaders_Materials_PolylineOutlineMaterial_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(51650);\n/* harmony import */ var _Shaders_Materials_RimLightingMaterial_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(4164);\n/* harmony import */ var _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(87721);\n/* harmony import */ var _Shaders_Materials_SlopeRampMaterial_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(70778);\n/* harmony import */ var _Shaders_Materials_StripeMaterial_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(33931);\n/* harmony import */ var _Renderer_TextureMagnificationFilter_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(42246);\n/* harmony import */ var _Renderer_TextureMinificationFilter_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(80188);\n/* harmony import */ var _Shaders_Materials_Water_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(72866);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(13222);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * A Material defines surface appearance through a combination of diffuse, specular,\n * normal, emission, and alpha components. These values are specified using a\n * JSON schema called Fabric which gets parsed and assembled into glsl shader code\n * behind-the-scenes. Check out the {@link https://github.com/CesiumGS/cesium/wiki/Fabric|wiki page}\n * for more details on Fabric.\n * <br /><br />\n * <style type="text/css">\n *  #materialDescriptions code {\n *      font-weight: normal;\n *      font-family: Consolas, \'Lucida Console\', Monaco, monospace;\n *      color: #A35A00;\n *  }\n *  #materialDescriptions ul, #materialDescriptions ul ul {\n *      list-style-type: none;\n *  }\n *  #materialDescriptions ul ul {\n *      margin-bottom: 10px;\n *  }\n *  #materialDescriptions ul ul li {\n *      font-weight: normal;\n *      color: #000000;\n *      text-indent: -2em;\n *      margin-left: 2em;\n *  }\n *  #materialDescriptions ul li {\n *      font-weight: bold;\n *      color: #0053CF;\n *  }\n * </style>\n *\n * Base material types and their uniforms:\n * <div id=\'materialDescriptions\'>\n * <ul>\n *  <li>Color</li>\n *  <ul>\n *      <li><code>color</code>:  rgba color object.</li>\n *  </ul>\n *  <li>Image</li>\n *  <ul>\n *      <li><code>image</code>:  path to image.</li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of times to repeat the image.</li>\n *  </ul>\n *  <li>DiffuseMap</li>\n *  <ul>\n *      <li><code>image</code>:  path to image.</li>\n *      <li><code>channels</code>:  Three character string containing any combination of r, g, b, and a for selecting the desired image channels.</li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of times to repeat the image.</li>\n *  </ul>\n *  <li>AlphaMap</li>\n *  <ul>\n *      <li><code>image</code>:  path to image.</li>\n *      <li><code>channel</code>:  One character string containing r, g, b, or a for selecting the desired image channel. </li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of times to repeat the image.</li>\n *  </ul>\n *  <li>SpecularMap</li>\n *  <ul>\n *      <li><code>image</code>: path to image.</li>\n *      <li><code>channel</code>: One character string containing r, g, b, or a for selecting the desired image channel. </li>\n *      <li><code>repeat</code>: Object with x and y values specifying the number of times to repeat the image.</li>\n *  </ul>\n *  <li>EmissionMap</li>\n *  <ul>\n *      <li><code>image</code>:  path to image.</li>\n *      <li><code>channels</code>:  Three character string containing any combination of r, g, b, and a for selecting the desired image channels. </li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of times to repeat the image.</li>\n *  </ul>\n *  <li>BumpMap</li>\n *  <ul>\n *      <li><code>image</code>:  path to image.</li>\n *      <li><code>channel</code>:  One character string containing r, g, b, or a for selecting the desired image channel. </li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of times to repeat the image.</li>\n *      <li><code>strength</code>:  Bump strength value between 0.0 and 1.0 where 0.0 is small bumps and 1.0 is large bumps.</li>\n *  </ul>\n *  <li>NormalMap</li>\n *  <ul>\n *      <li><code>image</code>:  path to image.</li>\n *      <li><code>channels</code>:  Three character string containing any combination of r, g, b, and a for selecting the desired image channels. </li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of times to repeat the image.</li>\n *      <li><code>strength</code>:  Bump strength value between 0.0 and 1.0 where 0.0 is small bumps and 1.0 is large bumps.</li>\n *  </ul>\n *  <li>Grid</li>\n *  <ul>\n *      <li><code>color</code>:  rgba color object for the whole material.</li>\n *      <li><code>cellAlpha</code>: Alpha value for the cells between grid lines.  This will be combined with color.alpha.</li>\n *      <li><code>lineCount</code>:  Object with x and y values specifying the number of columns and rows respectively.</li>\n *      <li><code>lineThickness</code>:  Object with x and y values specifying the thickness of grid lines (in pixels where available).</li>\n *      <li><code>lineOffset</code>:  Object with x and y values specifying the offset of grid lines (range is 0 to 1).</li>\n *  </ul>\n *  <li>Stripe</li>\n *  <ul>\n *      <li><code>horizontal</code>:  Boolean that determines if the stripes are horizontal or vertical.</li>\n *      <li><code>evenColor</code>:  rgba color object for the stripe\'s first color.</li>\n *      <li><code>oddColor</code>:  rgba color object for the stripe\'s second color.</li>\n *      <li><code>offset</code>:  Number that controls at which point into the pattern to begin drawing; with 0.0 being the beginning of the even color, 1.0 the beginning of the odd color, 2.0 being the even color again, and any multiple or fractional values being in between.</li>\n *      <li><code>repeat</code>:  Number that controls the total number of stripes, half light and half dark.</li>\n *  </ul>\n *  <li>Checkerboard</li>\n *  <ul>\n *      <li><code>lightColor</code>:  rgba color object for the checkerboard\'s light alternating color.</li>\n *      <li><code>darkColor</code>: rgba color object for the checkerboard\'s dark alternating color.</li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of columns and rows respectively.</li>\n *  </ul>\n *  <li>Dot</li>\n *  <ul>\n *      <li><code>lightColor</code>:  rgba color object for the dot color.</li>\n *      <li><code>darkColor</code>:  rgba color object for the background color.</li>\n *      <li><code>repeat</code>:  Object with x and y values specifying the number of columns and rows of dots respectively.</li>\n *  </ul>\n *  <li>Water</li>\n *  <ul>\n *      <li><code>baseWaterColor</code>:  rgba color object base color of the water.</li>\n *      <li><code>blendColor</code>:  rgba color object used when blending from water to non-water areas.</li>\n *      <li><code>specularMap</code>:  Single channel texture used to indicate areas of water.</li>\n *      <li><code>normalMap</code>:  Normal map for water normal perturbation.</li>\n *      <li><code>frequency</code>:  Number that controls the number of waves.</li>\n *      <li><code>animationSpeed</code>:  Number that controls the animations speed of the water.</li>\n *      <li><code>amplitude</code>:  Number that controls the amplitude of water waves.</li>\n *      <li><code>specularIntensity</code>:  Number that controls the intensity of specular reflections.</li>\n *  </ul>\n *  <li>RimLighting</li>\n *  <ul>\n *      <li><code>color</code>:  diffuse color and alpha.</li>\n *      <li><code>rimColor</code>:  diffuse color and alpha of the rim.</li>\n *      <li><code>width</code>:  Number that determines the rim\'s width.</li>\n *  </ul>\n *  <li>Fade</li>\n *  <ul>\n *      <li><code>fadeInColor</code>: diffuse color and alpha at <code>time</code></li>\n *      <li><code>fadeOutColor</code>: diffuse color and alpha at <code>maximumDistance</code> from <code>time</code></li>\n *      <li><code>maximumDistance</code>: Number between 0.0 and 1.0 where the <code>fadeInColor</code> becomes the <code>fadeOutColor</code>. A value of 0.0 gives the entire material a color of <code>fadeOutColor</code> and a value of 1.0 gives the the entire material a color of <code>fadeInColor</code></li>\n *      <li><code>repeat</code>: true if the fade should wrap around the texture coodinates.</li>\n *      <li><code>fadeDirection</code>: Object with x and y values specifying if the fade should be in the x and y directions.</li>\n *      <li><code>time</code>: Object with x and y values between 0.0 and 1.0 of the <code>fadeInColor</code> position</li>\n *  </ul>\n *  <li>PolylineArrow</li>\n *  <ul>\n *      <li><code>color</code>: diffuse color and alpha.</li>\n *  </ul>\n *  <li>PolylineDash</li>\n *  <ul>\n *      <li><code>color</code>: color for the line.</li>\n *      <li><code>gapColor</code>: color for the gaps in the line.</li>\n *      <li><code>dashLength</code>: Dash length in pixels.</li>\n *      <li><code>dashPattern</code>: The 16 bit stipple pattern for the line..</li>\n *  </ul>\n *  <li>PolylineGlow</li>\n *  <ul>\n *      <li><code>color</code>: color and maximum alpha for the glow on the line.</li>\n *      <li><code>glowPower</code>: strength of the glow, as a percentage of the total line width (less than 1.0).</li>\n *      <li><code>taperPower</code>: strength of the tapering effect, as a percentage of the total line length.  If 1.0 or higher, no taper effect is used.</li>\n *  </ul>\n *  <li>PolylineOutline</li>\n *  <ul>\n *      <li><code>color</code>: diffuse color and alpha for the interior of the line.</li>\n *      <li><code>outlineColor</code>: diffuse color and alpha for the outline.</li>\n *      <li><code>outlineWidth</code>: width of the outline in pixels.</li>\n *  </ul>\n *  <li>ElevationContour</li>\n *  <ul>\n *      <li><code>color</code>: color and alpha for the contour line.</li>\n *      <li><code>spacing</code>: spacing for contour lines in meters.</li>\n *      <li><code>width</code>: Number specifying the width of the grid lines in pixels.</li>\n *  </ul>\n *  <li>ElevationRamp</li>\n *  <ul>\n *      <li><code>image</code>: color ramp image to use for coloring the terrain.</li>\n *      <li><code>minimumHeight</code>: minimum height for the ramp.</li>\n *      <li><code>maximumHeight</code>: maximum height for the ramp.</li>\n *  </ul>\n *  <li>SlopeRamp</li>\n *  <ul>\n *      <li><code>image</code>: color ramp image to use for coloring the terrain by slope.</li>\n *  </ul>\n *  <li>AspectRamp</li>\n *  <ul>\n *      <li><code>image</code>: color ramp image to use for color the terrain by aspect.</li>\n *  </ul>\n *  <li>ElevationBand</li>\n *  <ul>\n *      <li><code>heights</code>: image of heights sorted from lowest to highest.</li>\n *      <li><code>colors</code>: image of colors at the corresponding heights.</li>\n * </ul>\n * </ul>\n * </ul>\n * </div>\n *\n * @alias Material\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Boolean} [options.strict=false] Throws errors for issues that would normally be ignored, including unused uniforms or materials.\n * @param {Boolean|Function} [options.translucent=true] When <code>true</code> or a function that returns <code>true</code>, the geometry\n *                           with this material is expected to appear translucent.\n * @param {TextureMinificationFilter} [options.minificationFilter=TextureMinificationFilter.LINEAR] The {@link TextureMinificationFilter} to apply to this material\'s textures.\n * @param {TextureMagnificationFilter} [options.magnificationFilter=TextureMagnificationFilter.LINEAR] The {@link TextureMagnificationFilter} to apply to this material\'s textures.\n * @param {Object} options.fabric The fabric JSON used to generate the material.\n *\n * @constructor\n *\n * @exception {DeveloperError} fabric: uniform has invalid type.\n * @exception {DeveloperError} fabric: uniforms and materials cannot share the same property.\n * @exception {DeveloperError} fabric: cannot have source and components in the same section.\n * @exception {DeveloperError} fabric: property name is not valid. It should be \'type\', \'materials\', \'uniforms\', \'components\', or \'source\'.\n * @exception {DeveloperError} fabric: property name is not valid. It should be \'diffuse\', \'specular\', \'shininess\', \'normal\', \'emission\', or \'alpha\'.\n * @exception {DeveloperError} strict: shader source does not use string.\n * @exception {DeveloperError} strict: shader source does not use uniform.\n * @exception {DeveloperError} strict: shader source does not use material.\n *\n * @see {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric wiki page} for a more detailed options of Fabric.\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Materials.html|Cesium Sandcastle Materials Demo}\n *\n * @example\n * // Create a color material with fromType:\n * polygon.material = Cesium.Material.fromType(\'Color\');\n * polygon.material.uniforms.color = new Cesium.Color(1.0, 1.0, 0.0, 1.0);\n *\n * // Create the default material:\n * polygon.material = new Cesium.Material();\n *\n * // Create a color material with full Fabric notation:\n * polygon.material = new Cesium.Material({\n *     fabric : {\n *         type : \'Color\',\n *         uniforms : {\n *             color : new Cesium.Color(1.0, 1.0, 0.0, 1.0)\n *         }\n *     }\n * });\n */\nfunction Material(options) {\n  /**\n   * The material type. Can be an existing type or a new type. If no type is specified in fabric, type is a GUID.\n   * @type {String}\n   * @default undefined\n   */\n  this.type = undefined;\n\n  /**\n   * The glsl shader source for this material.\n   * @type {String}\n   * @default undefined\n   */\n  this.shaderSource = undefined;\n\n  /**\n   * Maps sub-material names to Material objects.\n   * @type {Object}\n   * @default undefined\n   */\n  this.materials = undefined;\n\n  /**\n   * Maps uniform names to their values.\n   * @type {Object}\n   * @default undefined\n   */\n  this.uniforms = undefined;\n  this._uniforms = undefined;\n\n  /**\n   * When <code>true</code> or a function that returns <code>true</code>,\n   * the geometry is expected to appear translucent.\n   * @type {Boolean|Function}\n   * @default undefined\n   */\n  this.translucent = undefined;\n\n  this._minificationFilter = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n    options.minificationFilter,\n    _Renderer_TextureMinificationFilter_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"].LINEAR */ .Z.LINEAR\n  );\n  this._magnificationFilter = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n    options.magnificationFilter,\n    _Renderer_TextureMagnificationFilter_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].LINEAR */ .Z.LINEAR\n  );\n\n  this._strict = undefined;\n  this._template = undefined;\n  this._count = undefined;\n\n  this._texturePaths = {};\n  this._loadedImages = [];\n  this._loadedCubeMaps = [];\n\n  this._textures = {};\n\n  this._updateFunctions = [];\n\n  this._defaultTexture = undefined;\n\n  initializeMaterial(options, this);\n  Object.defineProperties(this, {\n    type: {\n      value: this.type,\n      writable: false,\n    },\n  });\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(Material._uniformList[this.type])) {\n    Material._uniformList[this.type] = Object.keys(this._uniforms);\n  }\n}\n\n// Cached list of combined uniform names indexed by type.\n// Used to get the list of uniforms in the same order.\nMaterial._uniformList = {};\n\n/**\n * Creates a new material using an existing material type.\n * <br /><br />\n * Shorthand for: new Material({fabric : {type : type}});\n *\n * @param {String} type The base material type.\n * @param {Object} [uniforms] Overrides for the default uniforms.\n * @returns {Material} New material object.\n *\n * @exception {DeveloperError} material with that type does not exist.\n *\n * @example\n * var material = Cesium.Material.fromType(\'Color\', {\n *     color : new Cesium.Color(1.0, 0.0, 0.0, 1.0)\n * });\n */\nMaterial.fromType = function (type, uniforms) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(Material._materialCache.getMaterial(type))) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      "material with type \'" + type + "\' does not exist."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  var material = new Material({\n    fabric: {\n      type: type,\n    },\n  });\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(uniforms)) {\n    for (var name in uniforms) {\n      if (uniforms.hasOwnProperty(name)) {\n        material.uniforms[name] = uniforms[name];\n      }\n    }\n  }\n\n  return material;\n};\n\n/**\n * Gets whether or not this material is translucent.\n * @returns {Boolean} <code>true</code> if this material is translucent, <code>false</code> otherwise.\n */\nMaterial.prototype.isTranslucent = function () {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(this.translucent)) {\n    if (typeof this.translucent === "function") {\n      return this.translucent();\n    }\n\n    return this.translucent;\n  }\n\n  var translucent = true;\n  var funcs = this._translucentFunctions;\n  var length = funcs.length;\n  for (var i = 0; i < length; ++i) {\n    var func = funcs[i];\n    if (typeof func === "function") {\n      translucent = translucent && func();\n    } else {\n      translucent = translucent && func;\n    }\n\n    if (!translucent) {\n      break;\n    }\n  }\n  return translucent;\n};\n\n/**\n * @private\n */\nMaterial.prototype.update = function (context) {\n  this._defaultTexture = context.defaultTexture;\n\n  var i;\n  var uniformId;\n\n  var loadedImages = this._loadedImages;\n  var length = loadedImages.length;\n  for (i = 0; i < length; ++i) {\n    var loadedImage = loadedImages[i];\n    uniformId = loadedImage.id;\n    var image = loadedImage.image;\n\n    // Images transcoded from KTX2 can contain multiple mip levels:\n    // https://github.khronos.org/KTX-Specification/#_mip_level_array\n    var mipLevels;\n    if (Array.isArray(image)) {\n      // highest detail mip should be level 0\n      mipLevels = image.slice(1, image.length).map(function (mipLevel) {\n        return mipLevel.bufferView;\n      });\n      image = image[0];\n    }\n\n    var sampler = new _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n      minificationFilter: this._minificationFilter,\n      magnificationFilter: this._magnificationFilter,\n    });\n\n    var texture;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(image.internalFormat)) {\n      texture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n        context: context,\n        pixelFormat: image.internalFormat,\n        width: image.width,\n        height: image.height,\n        source: {\n          arrayBufferView: image.bufferView,\n          mipLevels: mipLevels,\n        },\n        sampler: sampler,\n      });\n    } else {\n      texture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n        context: context,\n        source: image,\n        sampler: sampler,\n      });\n    }\n\n    // The material destroys its old texture only after the new one has been loaded.\n    // This will ensure a smooth swap of textures and prevent the default texture\n    // from appearing for a few frames.\n    var oldTexture = this._textures[uniformId];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(oldTexture) && oldTexture !== this._defaultTexture) {\n      oldTexture.destroy();\n    }\n\n    this._textures[uniformId] = texture;\n\n    var uniformDimensionsName = uniformId + "Dimensions";\n    if (this.uniforms.hasOwnProperty(uniformDimensionsName)) {\n      var uniformDimensions = this.uniforms[uniformDimensionsName];\n      uniformDimensions.x = texture._width;\n      uniformDimensions.y = texture._height;\n    }\n  }\n\n  loadedImages.length = 0;\n\n  var loadedCubeMaps = this._loadedCubeMaps;\n  length = loadedCubeMaps.length;\n\n  for (i = 0; i < length; ++i) {\n    var loadedCubeMap = loadedCubeMaps[i];\n    uniformId = loadedCubeMap.id;\n    var images = loadedCubeMap.images;\n\n    var cubeMap = new _Renderer_CubeMap_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z({\n      context: context,\n      source: {\n        positiveX: images[0],\n        negativeX: images[1],\n        positiveY: images[2],\n        negativeY: images[3],\n        positiveZ: images[4],\n        negativeZ: images[5],\n      },\n      sampler: new _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n        minificationFilter: this._minificationFilter,\n        magnificationFilter: this._magnificationFilter,\n      }),\n    });\n\n    this._textures[uniformId] = cubeMap;\n  }\n\n  loadedCubeMaps.length = 0;\n\n  var updateFunctions = this._updateFunctions;\n  length = updateFunctions.length;\n  for (i = 0; i < length; ++i) {\n    updateFunctions[i](this, context);\n  }\n\n  var subMaterials = this.materials;\n  for (var name in subMaterials) {\n    if (subMaterials.hasOwnProperty(name)) {\n      subMaterials[name].update(context);\n    }\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {Boolean} True if this object was destroyed; otherwise, false.\n *\n * @see Material#destroy\n */\nMaterial.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * material = material && material.destroy();\n *\n * @see Material#isDestroyed\n */\nMaterial.prototype.destroy = function () {\n  var textures = this._textures;\n  for (var texture in textures) {\n    if (textures.hasOwnProperty(texture)) {\n      var instance = textures[texture];\n      if (instance !== this._defaultTexture) {\n        instance.destroy();\n      }\n    }\n  }\n\n  var materials = this.materials;\n  for (var material in materials) {\n    if (materials.hasOwnProperty(material)) {\n      materials[material].destroy();\n    }\n  }\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this);\n};\n\nfunction initializeMaterial(options, result) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  result._strict = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.strict, false);\n  result._count = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.count, 0);\n  result._template = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.fabric, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT)\n  );\n  result._template.uniforms = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(result._template.uniforms, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT)\n  );\n  result._template.materials = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(result._template.materials, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT)\n  );\n\n  result.type = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(result._template.type)\n    ? result._template.type\n    : (0,_Core_createGuid_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)();\n\n  result.shaderSource = "";\n  result.materials = {};\n  result.uniforms = {};\n  result._uniforms = {};\n  result._translucentFunctions = [];\n\n  var translucent;\n\n  // If the cache contains this material type, build the material template off of the stored template.\n  var cachedMaterial = Material._materialCache.getMaterial(result.type);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(cachedMaterial)) {\n    var template = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(cachedMaterial.fabric, true);\n    result._template = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result._template, template, true);\n    translucent = cachedMaterial.translucent;\n  }\n\n  // Make sure the template has no obvious errors. More error checking happens later.\n  checkForTemplateErrors(result);\n\n  // If the material has a new type, add it to the cache.\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(cachedMaterial)) {\n    Material._materialCache.addMaterial(result.type, result);\n  }\n\n  createMethodDefinition(result);\n  createUniforms(result);\n  createSubMaterials(result);\n\n  var defaultTranslucent =\n    result._translucentFunctions.length === 0 ? true : undefined;\n  translucent = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(translucent, defaultTranslucent);\n  translucent = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.translucent, translucent);\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(translucent)) {\n    if (typeof translucent === "function") {\n      var wrappedTranslucent = function () {\n        return translucent(result);\n      };\n      result._translucentFunctions.push(wrappedTranslucent);\n    } else {\n      result._translucentFunctions.push(translucent);\n    }\n  }\n}\n\nfunction checkForValidProperties(object, properties, result, throwNotFound) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(object)) {\n    for (var property in object) {\n      if (object.hasOwnProperty(property)) {\n        var hasProperty = properties.indexOf(property) !== -1;\n        if (\n          (throwNotFound && !hasProperty) ||\n          (!throwNotFound && hasProperty)\n        ) {\n          result(property, properties);\n        }\n      }\n    }\n  }\n}\n\nfunction invalidNameError(property, properties) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  var errorString =\n    "fabric: property name \'" + property + "\' is not valid. It should be ";\n  for (var i = 0; i < properties.length; i++) {\n    var propertyName = "\'" + properties[i] + "\'";\n    errorString +=\n      i === properties.length - 1\n        ? "or " + propertyName + "."\n        : propertyName + ", ";\n  }\n  throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(errorString);\n  //>>includeEnd(\'debug\');\n}\n\nfunction duplicateNameError(property, properties) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  var errorString =\n    "fabric: uniforms and materials cannot share the same property \'" +\n    property +\n    "\'";\n  throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(errorString);\n  //>>includeEnd(\'debug\');\n}\n\nvar templateProperties = [\n  "type",\n  "materials",\n  "uniforms",\n  "components",\n  "source",\n];\nvar componentProperties = [\n  "diffuse",\n  "specular",\n  "shininess",\n  "normal",\n  "emission",\n  "alpha",\n];\n\nfunction checkForTemplateErrors(material) {\n  var template = material._template;\n  var uniforms = template.uniforms;\n  var materials = template.materials;\n  var components = template.components;\n\n  // Make sure source and components do not exist in the same template.\n  //>>includeStart(\'debug\', pragmas.debug);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(components) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(template.source)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      "fabric: cannot have source and components in the same template."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  // Make sure all template and components properties are valid.\n  checkForValidProperties(template, templateProperties, invalidNameError, true);\n  checkForValidProperties(\n    components,\n    componentProperties,\n    invalidNameError,\n    true\n  );\n\n  // Make sure uniforms and materials do not share any of the same names.\n  var materialNames = [];\n  for (var property in materials) {\n    if (materials.hasOwnProperty(property)) {\n      materialNames.push(property);\n    }\n  }\n  checkForValidProperties(uniforms, materialNames, duplicateNameError, false);\n}\n\nfunction isMaterialFused(shaderComponent, material) {\n  var materials = material._template.materials;\n  for (var subMaterialId in materials) {\n    if (materials.hasOwnProperty(subMaterialId)) {\n      if (shaderComponent.indexOf(subMaterialId) > -1) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n// Create the czm_getMaterial method body using source or components.\nfunction createMethodDefinition(material) {\n  var components = material._template.components;\n  var source = material._template.source;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(source)) {\n    material.shaderSource += source + "\\n";\n  } else {\n    material.shaderSource +=\n      "czm_material czm_getMaterial(czm_materialInput materialInput)\\n{\\n";\n    material.shaderSource +=\n      "czm_material material = czm_getDefaultMaterial(materialInput);\\n";\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(components)) {\n      var isMultiMaterial =\n        Object.keys(material._template.materials).length > 0;\n      for (var component in components) {\n        if (components.hasOwnProperty(component)) {\n          if (component === "diffuse" || component === "emission") {\n            var isFusion =\n              isMultiMaterial &&\n              isMaterialFused(components[component], material);\n            var componentSource = isFusion\n              ? components[component]\n              : "czm_gammaCorrect(" + components[component] + ")";\n            material.shaderSource +=\n              "material." + component + " = " + componentSource + "; \\n";\n          } else if (component === "alpha") {\n            material.shaderSource +=\n              "material.alpha = " + components.alpha + "; \\n";\n          } else {\n            material.shaderSource +=\n              "material." + component + " = " + components[component] + ";\\n";\n          }\n        }\n      }\n    }\n    material.shaderSource += "return material;\\n}\\n";\n  }\n}\n\nvar matrixMap = {\n  mat2: _Core_Matrix2_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z,\n  mat3: _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z,\n  mat4: _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z,\n};\n\nvar ktx2Regex = /\\.ktx2$/i;\n\nfunction createTexture2DUpdateFunction(uniformId) {\n  var oldUniformValue;\n  return function (material, context) {\n    var uniforms = material.uniforms;\n    var uniformValue = uniforms[uniformId];\n    var uniformChanged = oldUniformValue !== uniformValue;\n    var uniformValueIsDefaultImage =\n      !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(uniformValue) || uniformValue === Material.DefaultImageId;\n    oldUniformValue = uniformValue;\n\n    var texture = material._textures[uniformId];\n    var uniformDimensionsName;\n    var uniformDimensions;\n\n    if (uniformValue instanceof HTMLVideoElement) {\n      // HTMLVideoElement.readyState >=2 means we have enough data for the current frame.\n      // See: https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/readyState\n      if (uniformValue.readyState >= 2) {\n        if (uniformChanged && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(texture)) {\n          if (texture !== context.defaultTexture) {\n            texture.destroy();\n          }\n          texture = undefined;\n        }\n\n        if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(texture) || texture === context.defaultTexture) {\n          var sampler = new _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n            minificationFilter: material._minificationFilter,\n            magnificationFilter: material._magnificationFilter,\n          });\n          texture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n            context: context,\n            source: uniformValue,\n            sampler: sampler,\n          });\n          material._textures[uniformId] = texture;\n          return;\n        }\n\n        texture.copyFrom({\n          source: uniformValue,\n        });\n      } else if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(texture)) {\n        material._textures[uniformId] = context.defaultTexture;\n      }\n      return;\n    }\n\n    if (uniformValue instanceof _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z && uniformValue !== texture) {\n      material._texturePaths[uniformId] = undefined;\n      var tmp = material._textures[uniformId];\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(tmp) && tmp !== material._defaultTexture) {\n        tmp.destroy();\n      }\n      material._textures[uniformId] = uniformValue;\n\n      uniformDimensionsName = uniformId + "Dimensions";\n      if (uniforms.hasOwnProperty(uniformDimensionsName)) {\n        uniformDimensions = uniforms[uniformDimensionsName];\n        uniformDimensions.x = uniformValue._width;\n        uniformDimensions.y = uniformValue._height;\n      }\n\n      return;\n    }\n\n    if (uniformChanged && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(texture) && uniformValueIsDefaultImage) {\n      // If the newly-assigned texture is the default texture,\n      // we don\'t need to wait for a new image to load before destroying\n      // the old texture.\n      if (texture !== material._defaultTexture) {\n        texture.destroy();\n      }\n      texture = undefined;\n    }\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(texture)) {\n      material._texturePaths[uniformId] = undefined;\n      texture = material._textures[uniformId] = material._defaultTexture;\n\n      uniformDimensionsName = uniformId + "Dimensions";\n      if (uniforms.hasOwnProperty(uniformDimensionsName)) {\n        uniformDimensions = uniforms[uniformDimensionsName];\n        uniformDimensions.x = texture._width;\n        uniformDimensions.y = texture._height;\n      }\n    }\n\n    if (uniformValueIsDefaultImage) {\n      return;\n    }\n\n    // When using the entity layer, the Resource objects get recreated on getValue because\n    //  they are clonable. That\'s why we check the url property for Resources\n    //  because the instances aren\'t the same and we keep trying to load the same\n    //  image if it fails to load.\n    var isResource = uniformValue instanceof _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z;\n    if (\n      !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(material._texturePaths[uniformId]) ||\n      (isResource &&\n        uniformValue.url !== material._texturePaths[uniformId].url) ||\n      (!isResource && uniformValue !== material._texturePaths[uniformId])\n    ) {\n      if (typeof uniformValue === "string" || isResource) {\n        var resource = isResource\n          ? uniformValue\n          : _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue);\n\n        var promise;\n        if (ktx2Regex.test(resource.url)) {\n          promise = (0,_Core_loadKTX2_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(resource.url);\n        } else {\n          promise = resource.fetchImage();\n        }\n\n        promise\n          .then(function (image) {\n            material._loadedImages.push({\n              id: uniformId,\n              image: image,\n            });\n          })\n          .otherwise(function () {\n            if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(texture) && texture !== material._defaultTexture) {\n              texture.destroy();\n            }\n            material._textures[uniformId] = material._defaultTexture;\n          });\n      } else if (\n        uniformValue instanceof HTMLCanvasElement ||\n        uniformValue instanceof HTMLImageElement\n      ) {\n        material._loadedImages.push({\n          id: uniformId,\n          image: uniformValue,\n        });\n      }\n\n      material._texturePaths[uniformId] = uniformValue;\n    }\n  };\n}\n\nfunction createCubeMapUpdateFunction(uniformId) {\n  return function (material, context) {\n    var uniformValue = material.uniforms[uniformId];\n\n    if (uniformValue instanceof _Renderer_CubeMap_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z) {\n      var tmp = material._textures[uniformId];\n      if (tmp !== material._defaultTexture) {\n        tmp.destroy();\n      }\n      material._texturePaths[uniformId] = undefined;\n      material._textures[uniformId] = uniformValue;\n      return;\n    }\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(material._textures[uniformId])) {\n      material._texturePaths[uniformId] = undefined;\n      material._textures[uniformId] = context.defaultCubeMap;\n    }\n\n    if (uniformValue === Material.DefaultCubeMapId) {\n      return;\n    }\n\n    var path =\n      uniformValue.positiveX +\n      uniformValue.negativeX +\n      uniformValue.positiveY +\n      uniformValue.negativeY +\n      uniformValue.positiveZ +\n      uniformValue.negativeZ;\n\n    if (path !== material._texturePaths[uniformId]) {\n      var promises = [\n        _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue.positiveX).fetchImage(),\n        _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue.negativeX).fetchImage(),\n        _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue.positiveY).fetchImage(),\n        _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue.negativeY).fetchImage(),\n        _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue.positiveZ).fetchImage(),\n        _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].createIfNeeded */ .Z.createIfNeeded(uniformValue.negativeZ).fetchImage(),\n      ];\n\n      _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].all */ .Z.all(promises).then(function (images) {\n        material._loadedCubeMaps.push({\n          id: uniformId,\n          images: images,\n        });\n      });\n\n      material._texturePaths[uniformId] = path;\n    }\n  };\n}\n\nfunction createUniforms(material) {\n  var uniforms = material._template.uniforms;\n  for (var uniformId in uniforms) {\n    if (uniforms.hasOwnProperty(uniformId)) {\n      createUniform(material, uniformId);\n    }\n  }\n}\n\n// Writes uniform declarations to the shader file and connects uniform values with\n// corresponding material properties through the returnUniforms function.\nfunction createUniform(material, uniformId) {\n  var strict = material._strict;\n  var materialUniforms = material._template.uniforms;\n  var uniformValue = materialUniforms[uniformId];\n  var uniformType = getUniformType(uniformValue);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(uniformType)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n      "fabric: uniform \'" + uniformId + "\' has invalid type."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  var replacedTokenCount;\n  if (uniformType === "channels") {\n    replacedTokenCount = replaceToken(material, uniformId, uniformValue, false);\n    //>>includeStart(\'debug\', pragmas.debug);\n    if (replacedTokenCount === 0 && strict) {\n      throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n        "strict: shader source does not use channels \'" + uniformId + "\'."\n      );\n    }\n    //>>includeEnd(\'debug\');\n  } else {\n    // Since webgl doesn\'t allow texture dimension queries in glsl, create a uniform to do it.\n    // Check if the shader source actually uses texture dimensions before creating the uniform.\n    if (uniformType === "sampler2D") {\n      var imageDimensionsUniformName = uniformId + "Dimensions";\n      if (getNumberOfTokens(material, imageDimensionsUniformName) > 0) {\n        materialUniforms[imageDimensionsUniformName] = {\n          type: "ivec3",\n          x: 1,\n          y: 1,\n        };\n        createUniform(material, imageDimensionsUniformName);\n      }\n    }\n\n    // Add uniform declaration to source code.\n    var uniformDeclarationRegex = new RegExp(\n      "uniform\\\\s+" + uniformType + "\\\\s+" + uniformId + "\\\\s*;"\n    );\n    if (!uniformDeclarationRegex.test(material.shaderSource)) {\n      var uniformDeclaration = "uniform " + uniformType + " " + uniformId + ";";\n      material.shaderSource = uniformDeclaration + material.shaderSource;\n    }\n\n    var newUniformId = uniformId + "_" + material._count++;\n    replacedTokenCount = replaceToken(material, uniformId, newUniformId);\n    //>>includeStart(\'debug\', pragmas.debug);\n    if (replacedTokenCount === 1 && strict) {\n      throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n        "strict: shader source does not use uniform \'" + uniformId + "\'."\n      );\n    }\n    //>>includeEnd(\'debug\');\n\n    // Set uniform value\n    material.uniforms[uniformId] = uniformValue;\n\n    if (uniformType === "sampler2D") {\n      material._uniforms[newUniformId] = function () {\n        return material._textures[uniformId];\n      };\n      material._updateFunctions.push(createTexture2DUpdateFunction(uniformId));\n    } else if (uniformType === "samplerCube") {\n      material._uniforms[newUniformId] = function () {\n        return material._textures[uniformId];\n      };\n      material._updateFunctions.push(createCubeMapUpdateFunction(uniformId));\n    } else if (uniformType.indexOf("mat") !== -1) {\n      var scratchMatrix = new matrixMap[uniformType]();\n      material._uniforms[newUniformId] = function () {\n        return matrixMap[uniformType].fromColumnMajorArray(\n          material.uniforms[uniformId],\n          scratchMatrix\n        );\n      };\n    } else {\n      material._uniforms[newUniformId] = function () {\n        return material.uniforms[uniformId];\n      };\n    }\n  }\n}\n\n// Determines the uniform type based on the uniform in the template.\nfunction getUniformType(uniformValue) {\n  var uniformType = uniformValue.type;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(uniformType)) {\n    var type = typeof uniformValue;\n    if (type === "number") {\n      uniformType = "float";\n    } else if (type === "boolean") {\n      uniformType = "bool";\n    } else if (\n      type === "string" ||\n      uniformValue instanceof _Core_Resource_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z ||\n      uniformValue instanceof HTMLCanvasElement ||\n      uniformValue instanceof HTMLImageElement\n    ) {\n      if (/^([rgba]){1,4}$/i.test(uniformValue)) {\n        uniformType = "channels";\n      } else if (uniformValue === Material.DefaultCubeMapId) {\n        uniformType = "samplerCube";\n      } else {\n        uniformType = "sampler2D";\n      }\n    } else if (type === "object") {\n      if (Array.isArray(uniformValue)) {\n        if (\n          uniformValue.length === 4 ||\n          uniformValue.length === 9 ||\n          uniformValue.length === 16\n        ) {\n          uniformType = "mat" + Math.sqrt(uniformValue.length);\n        }\n      } else {\n        var numAttributes = 0;\n        for (var attribute in uniformValue) {\n          if (uniformValue.hasOwnProperty(attribute)) {\n            numAttributes += 1;\n          }\n        }\n        if (numAttributes >= 2 && numAttributes <= 4) {\n          uniformType = "vec" + numAttributes;\n        } else if (numAttributes === 6) {\n          uniformType = "samplerCube";\n        }\n      }\n    }\n  }\n  return uniformType;\n}\n\n// Create all sub-materials by combining source and uniforms together.\nfunction createSubMaterials(material) {\n  var strict = material._strict;\n  var subMaterialTemplates = material._template.materials;\n  for (var subMaterialId in subMaterialTemplates) {\n    if (subMaterialTemplates.hasOwnProperty(subMaterialId)) {\n      // Construct the sub-material.\n      var subMaterial = new Material({\n        strict: strict,\n        fabric: subMaterialTemplates[subMaterialId],\n        count: material._count,\n      });\n\n      material._count = subMaterial._count;\n      material._uniforms = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n        material._uniforms,\n        subMaterial._uniforms,\n        true\n      );\n      material.materials[subMaterialId] = subMaterial;\n      material._translucentFunctions = material._translucentFunctions.concat(\n        subMaterial._translucentFunctions\n      );\n\n      // Make the material\'s czm_getMaterial unique by appending the sub-material type.\n      var originalMethodName = "czm_getMaterial";\n      var newMethodName = originalMethodName + "_" + material._count++;\n      replaceToken(subMaterial, originalMethodName, newMethodName);\n      material.shaderSource = subMaterial.shaderSource + material.shaderSource;\n\n      // Replace each material id with an czm_getMaterial method call.\n      var materialMethodCall = newMethodName + "(materialInput)";\n      var tokensReplacedCount = replaceToken(\n        material,\n        subMaterialId,\n        materialMethodCall\n      );\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (tokensReplacedCount === 0 && strict) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n          "strict: shader source does not use material \'" + subMaterialId + "\'."\n        );\n      }\n      //>>includeEnd(\'debug\');\n    }\n  }\n}\n\n// Used for searching or replacing a token in a material\'s shader source with something else.\n// If excludePeriod is true, do not accept tokens that are preceded by periods.\n// http://stackoverflow.com/questions/641407/javascript-negative-lookbehind-equivalent\nfunction replaceToken(material, token, newToken, excludePeriod) {\n  excludePeriod = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(excludePeriod, true);\n  var count = 0;\n  var suffixChars = "([\\\\w])?";\n  var prefixChars = "([\\\\w" + (excludePeriod ? "." : "") + "])?";\n  var regExp = new RegExp(prefixChars + token + suffixChars, "g");\n  material.shaderSource = material.shaderSource.replace(regExp, function (\n    $0,\n    $1,\n    $2\n  ) {\n    if ($1 || $2) {\n      return $0;\n    }\n    count += 1;\n    return newToken;\n  });\n  return count;\n}\n\nfunction getNumberOfTokens(material, token, excludePeriod) {\n  return replaceToken(material, token, token, excludePeriod);\n}\n\nMaterial._materialCache = {\n  _materials: {},\n  addMaterial: function (type, materialTemplate) {\n    this._materials[type] = materialTemplate;\n  },\n  getMaterial: function (type) {\n    return this._materials[type];\n  },\n};\n\n/**\n * Gets or sets the default texture uniform value.\n * @type {String}\n */\nMaterial.DefaultImageId = "czm_defaultImage";\n\n/**\n * Gets or sets the default cube map texture uniform value.\n * @type {String}\n */\nMaterial.DefaultCubeMapId = "czm_defaultCubeMap";\n\n/**\n * Gets the name of the color material.\n * @type {String}\n * @readonly\n */\nMaterial.ColorType = "Color";\nMaterial._materialCache.addMaterial(Material.ColorType, {\n  fabric: {\n    type: Material.ColorType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 0.0, 0.0, 0.5),\n    },\n    components: {\n      diffuse: "color.rgb",\n      alpha: "color.a",\n    },\n  },\n  translucent: function (material) {\n    return material.uniforms.color.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the image material.\n * @type {String}\n * @readonly\n */\nMaterial.ImageType = "Image";\nMaterial._materialCache.addMaterial(Material.ImageType, {\n  fabric: {\n    type: Material.ImageType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0, 1.0),\n    },\n    components: {\n      diffuse:\n        "texture2D(image, fract(repeat * materialInput.st)).rgb * color.rgb",\n      alpha: "texture2D(image, fract(repeat * materialInput.st)).a * color.a",\n    },\n  },\n  translucent: function (material) {\n    return material.uniforms.color.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the diffuce map material.\n * @type {String}\n * @readonly\n */\nMaterial.DiffuseMapType = "DiffuseMap";\nMaterial._materialCache.addMaterial(Material.DiffuseMapType, {\n  fabric: {\n    type: Material.DiffuseMapType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      channels: "rgb",\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n    },\n    components: {\n      diffuse: "texture2D(image, fract(repeat * materialInput.st)).channels",\n    },\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the alpha map material.\n * @type {String}\n * @readonly\n */\nMaterial.AlphaMapType = "AlphaMap";\nMaterial._materialCache.addMaterial(Material.AlphaMapType, {\n  fabric: {\n    type: Material.AlphaMapType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      channel: "a",\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n    },\n    components: {\n      alpha: "texture2D(image, fract(repeat * materialInput.st)).channel",\n    },\n  },\n  translucent: true,\n});\n\n/**\n * Gets the name of the specular map material.\n * @type {String}\n * @readonly\n */\nMaterial.SpecularMapType = "SpecularMap";\nMaterial._materialCache.addMaterial(Material.SpecularMapType, {\n  fabric: {\n    type: Material.SpecularMapType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      channel: "r",\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n    },\n    components: {\n      specular: "texture2D(image, fract(repeat * materialInput.st)).channel",\n    },\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the emmision map material.\n * @type {String}\n * @readonly\n */\nMaterial.EmissionMapType = "EmissionMap";\nMaterial._materialCache.addMaterial(Material.EmissionMapType, {\n  fabric: {\n    type: Material.EmissionMapType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      channels: "rgb",\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n    },\n    components: {\n      emission: "texture2D(image, fract(repeat * materialInput.st)).channels",\n    },\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the bump map material.\n * @type {String}\n * @readonly\n */\nMaterial.BumpMapType = "BumpMap";\nMaterial._materialCache.addMaterial(Material.BumpMapType, {\n  fabric: {\n    type: Material.BumpMapType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      channel: "r",\n      strength: 0.8,\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n    },\n    source: _Shaders_Materials_BumpMapMaterial_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z,\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the normal map material.\n * @type {String}\n * @readonly\n */\nMaterial.NormalMapType = "NormalMap";\nMaterial._materialCache.addMaterial(Material.NormalMapType, {\n  fabric: {\n    type: Material.NormalMapType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      channels: "rgb",\n      strength: 0.8,\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n    },\n    source: _Shaders_Materials_NormalMapMaterial_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z,\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the grid material.\n * @type {String}\n * @readonly\n */\nMaterial.GridType = "Grid";\nMaterial._materialCache.addMaterial(Material.GridType, {\n  fabric: {\n    type: Material.GridType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 1.0, 0.0, 1.0),\n      cellAlpha: 0.1,\n      lineCount: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(8.0, 8.0),\n      lineThickness: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1.0, 1.0),\n      lineOffset: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(0.0, 0.0),\n    },\n    source: _Shaders_Materials_GridMaterial_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return uniforms.color.alpha < 1.0 || uniforms.cellAlpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the stripe material.\n * @type {String}\n * @readonly\n */\nMaterial.StripeType = "Stripe";\nMaterial._materialCache.addMaterial(Material.StripeType, {\n  fabric: {\n    type: Material.StripeType,\n    uniforms: {\n      horizontal: true,\n      evenColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0, 0.5),\n      oddColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 0.0, 1.0, 0.5),\n      offset: 0.0,\n      repeat: 5.0,\n    },\n    source: _Shaders_Materials_StripeMaterial_js__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return uniforms.evenColor.alpha < 1.0 || uniforms.oddColor.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the checkerboard material.\n * @type {String}\n * @readonly\n */\nMaterial.CheckerboardType = "Checkerboard";\nMaterial._materialCache.addMaterial(Material.CheckerboardType, {\n  fabric: {\n    type: Material.CheckerboardType,\n    uniforms: {\n      lightColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0, 0.5),\n      darkColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 0.0, 0.0, 0.5),\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(5.0, 5.0),\n    },\n    source: _Shaders_Materials_CheckerboardMaterial_js__WEBPACK_IMPORTED_MODULE_24__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return uniforms.lightColor.alpha < 1.0 || uniforms.darkColor.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the dot material.\n * @type {String}\n * @readonly\n */\nMaterial.DotType = "Dot";\nMaterial._materialCache.addMaterial(Material.DotType, {\n  fabric: {\n    type: Material.DotType,\n    uniforms: {\n      lightColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 0.0, 0.75),\n      darkColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 1.0, 1.0, 0.75),\n      repeat: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(5.0, 5.0),\n    },\n    source: _Shaders_Materials_DotMaterial_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return uniforms.lightColor.alpha < 1.0 || uniforms.darkColor.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the water material.\n * @type {String}\n * @readonly\n */\nMaterial.WaterType = "Water";\nMaterial._materialCache.addMaterial(Material.WaterType, {\n  fabric: {\n    type: Material.WaterType,\n    uniforms: {\n      baseWaterColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.2, 0.3, 0.6, 1.0),\n      blendColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 1.0, 0.699, 1.0),\n      specularMap: Material.DefaultImageId,\n      normalMap: Material.DefaultImageId,\n      frequency: 10.0,\n      animationSpeed: 0.01,\n      amplitude: 1.0,\n      specularIntensity: 0.5,\n      fadeFactor: 1.0,\n    },\n    source: _Shaders_Materials_Water_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return (\n      uniforms.baseWaterColor.alpha < 1.0 || uniforms.blendColor.alpha < 1.0\n    );\n  },\n});\n\n/**\n * Gets the name of the rim lighting material.\n * @type {String}\n * @readonly\n */\nMaterial.RimLightingType = "RimLighting";\nMaterial._materialCache.addMaterial(Material.RimLightingType, {\n  fabric: {\n    type: Material.RimLightingType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 0.0, 0.0, 0.7),\n      rimColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0, 0.4),\n      width: 0.3,\n    },\n    source: _Shaders_Materials_RimLightingMaterial_js__WEBPACK_IMPORTED_MODULE_27__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return uniforms.color.alpha < 1.0 || uniforms.rimColor.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the fade material.\n * @type {String}\n * @readonly\n */\nMaterial.FadeType = "Fade";\nMaterial._materialCache.addMaterial(Material.FadeType, {\n  fabric: {\n    type: Material.FadeType,\n    uniforms: {\n      fadeInColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 0.0, 0.0, 1.0),\n      fadeOutColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 0.0, 0.0, 0.0),\n      maximumDistance: 0.5,\n      repeat: true,\n      fadeDirection: {\n        x: true,\n        y: true,\n      },\n      time: new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(0.5, 0.5),\n    },\n    source: _Shaders_Materials_FadeMaterial_js__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return (\n      uniforms.fadeInColor.alpha < 1.0 || uniforms.fadeOutColor.alpha < 1.0\n    );\n  },\n});\n\n/**\n * Gets the name of the polyline arrow material.\n * @type {String}\n * @readonly\n */\nMaterial.PolylineArrowType = "PolylineArrow";\nMaterial._materialCache.addMaterial(Material.PolylineArrowType, {\n  fabric: {\n    type: Material.PolylineArrowType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0, 1.0),\n    },\n    source: _Shaders_Materials_PolylineArrowMaterial_js__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .Z,\n  },\n  translucent: true,\n});\n\n/**\n * Gets the name of the polyline glow material.\n * @type {String}\n * @readonly\n */\nMaterial.PolylineDashType = "PolylineDash";\nMaterial._materialCache.addMaterial(Material.PolylineDashType, {\n  fabric: {\n    type: Material.PolylineDashType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 0.0, 1.0, 1.0),\n      gapColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 0.0, 0.0, 0.0),\n      dashLength: 16.0,\n      dashPattern: 255.0,\n    },\n    source: _Shaders_Materials_PolylineDashMaterial_js__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .Z,\n  },\n  translucent: true,\n});\n\n/**\n * Gets the name of the polyline glow material.\n * @type {String}\n * @readonly\n */\nMaterial.PolylineGlowType = "PolylineGlow";\nMaterial._materialCache.addMaterial(Material.PolylineGlowType, {\n  fabric: {\n    type: Material.PolylineGlowType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(0.0, 0.5, 1.0, 1.0),\n      glowPower: 0.25,\n      taperPower: 1.0,\n    },\n    source: _Shaders_Materials_PolylineGlowMaterial_js__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z,\n  },\n  translucent: true,\n});\n\n/**\n * Gets the name of the polyline outline material.\n * @type {String}\n * @readonly\n */\nMaterial.PolylineOutlineType = "PolylineOutline";\nMaterial._materialCache.addMaterial(Material.PolylineOutlineType, {\n  fabric: {\n    type: Material.PolylineOutlineType,\n    uniforms: {\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 1.0, 1.0, 1.0),\n      outlineColor: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 0.0, 0.0, 1.0),\n      outlineWidth: 1.0,\n    },\n    source: _Shaders_Materials_PolylineOutlineMaterial_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .Z,\n  },\n  translucent: function (material) {\n    var uniforms = material.uniforms;\n    return uniforms.color.alpha < 1.0 || uniforms.outlineColor.alpha < 1.0;\n  },\n});\n\n/**\n * Gets the name of the elevation contour material.\n * @type {String}\n * @readonly\n */\nMaterial.ElevationContourType = "ElevationContour";\nMaterial._materialCache.addMaterial(Material.ElevationContourType, {\n  fabric: {\n    type: Material.ElevationContourType,\n    uniforms: {\n      spacing: 100.0,\n      color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(1.0, 0.0, 0.0, 1.0),\n      width: 1.0,\n    },\n    source: _Shaders_Materials_ElevationContourMaterial_js__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z,\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the elevation contour material.\n * @type {String}\n * @readonly\n */\nMaterial.ElevationRampType = "ElevationRamp";\nMaterial._materialCache.addMaterial(Material.ElevationRampType, {\n  fabric: {\n    type: Material.ElevationRampType,\n    uniforms: {\n      image: Material.DefaultImageId,\n      minimumHeight: 0.0,\n      maximumHeight: 10000.0,\n    },\n    source: _Shaders_Materials_ElevationRampMaterial_js__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z,\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the slope ramp material.\n * @type {String}\n * @readonly\n */\nMaterial.SlopeRampMaterialType = "SlopeRamp";\nMaterial._materialCache.addMaterial(Material.SlopeRampMaterialType, {\n  fabric: {\n    type: Material.SlopeRampMaterialType,\n    uniforms: {\n      image: Material.DefaultImageId,\n    },\n    source: _Shaders_Materials_SlopeRampMaterial_js__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .Z,\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the aspect ramp material.\n * @type {String}\n * @readonly\n */\nMaterial.AspectRampMaterialType = "AspectRamp";\nMaterial._materialCache.addMaterial(Material.AspectRampMaterialType, {\n  fabric: {\n    type: Material.AspectRampMaterialType,\n    uniforms: {\n      image: Material.DefaultImageId,\n    },\n    source: _Shaders_Materials_AspectRampMaterial_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z,\n  },\n  translucent: false,\n});\n\n/**\n * Gets the name of the elevation band material.\n * @type {String}\n * @readonly\n */\nMaterial.ElevationBandType = "ElevationBand";\nMaterial._materialCache.addMaterial(Material.ElevationBandType, {\n  fabric: {\n    type: Material.ElevationBandType,\n    uniforms: {\n      heights: Material.DefaultImageId,\n      colors: Material.DefaultImageId,\n    },\n    source: _Shaders_Materials_ElevationBandMaterial_js__WEBPACK_IMPORTED_MODULE_37__/* ["default"] */ .Z,\n  },\n  translucent: true,\n});\n\n/* harmony default export */ __webpack_exports__["Z"] = (Material);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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N0I7QUFDQSxLQUFLO0FBQ0wsWUFBWSwrRkFBdUI7QUFDbkMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrREFBSztBQUN0QjtBQUNBLEtBQUs7QUFDTCxZQUFZLGdHQUF3QjtBQUNwQyxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSw2RkFBcUI7QUFDakMsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSx5RkFBaUI7QUFDN0IsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSwwRkFBa0I7QUFDOUIsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLDZGQUFxQjtBQUNqQyxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVELHlEQUFlLFFBQVEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9NYXRlcmlhbC5qcz8xMWI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXJ0ZXNpYW4yIGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjIuanNcIjtcbmltcG9ydCBjbG9uZSBmcm9tIFwiLi4vQ29yZS9jbG9uZS5qc1wiO1xuaW1wb3J0IENvbG9yIGZyb20gXCIuLi9Db3JlL0NvbG9yLmpzXCI7XG5pbXBvcnQgY29tYmluZSBmcm9tIFwiLi4vQ29yZS9jb21iaW5lLmpzXCI7XG5pbXBvcnQgY3JlYXRlR3VpZCBmcm9tIFwiLi4vQ29yZS9jcmVhdGVHdWlkLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgbG9hZEtUWDIgZnJvbSBcIi4uL0NvcmUvbG9hZEtUWDIuanNcIjtcbmltcG9ydCBNYXRyaXgyIGZyb20gXCIuLi9Db3JlL01hdHJpeDIuanNcIjtcbmltcG9ydCBNYXRyaXgzIGZyb20gXCIuLi9Db3JlL01hdHJpeDMuanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBSZXNvdXJjZSBmcm9tIFwiLi4vQ29yZS9SZXNvdXJjZS5qc1wiO1xuaW1wb3J0IEN1YmVNYXAgZnJvbSBcIi4uL1JlbmRlcmVyL0N1YmVNYXAuanNcIjtcbmltcG9ydCBUZXh0dXJlIGZyb20gXCIuLi9SZW5kZXJlci9UZXh0dXJlLmpzXCI7XG5pbXBvcnQgQXNwZWN0UmFtcE1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9Bc3BlY3RSYW1wTWF0ZXJpYWwuanNcIjtcbmltcG9ydCBCdW1wTWFwTWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL0J1bXBNYXBNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IENoZWNrZXJib2FyZE1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9DaGVja2VyYm9hcmRNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IERvdE1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9Eb3RNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IEVsZXZhdGlvbkJhbmRNYXRlcmlhbCBmcm9tIFwiLi4vU2hhZGVycy9NYXRlcmlhbHMvRWxldmF0aW9uQmFuZE1hdGVyaWFsLmpzXCI7XG5pbXBvcnQgRWxldmF0aW9uQ29udG91ck1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9FbGV2YXRpb25Db250b3VyTWF0ZXJpYWwuanNcIjtcbmltcG9ydCBFbGV2YXRpb25SYW1wTWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL0VsZXZhdGlvblJhbXBNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IEZhZGVNYXRlcmlhbCBmcm9tIFwiLi4vU2hhZGVycy9NYXRlcmlhbHMvRmFkZU1hdGVyaWFsLmpzXCI7XG5pbXBvcnQgR3JpZE1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9HcmlkTWF0ZXJpYWwuanNcIjtcbmltcG9ydCBOb3JtYWxNYXBNYXRlcmlhbCBmcm9tIFwiLi4vU2hhZGVycy9NYXRlcmlhbHMvTm9ybWFsTWFwTWF0ZXJpYWwuanNcIjtcbmltcG9ydCBQb2x5bGluZUFycm93TWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL1BvbHlsaW5lQXJyb3dNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IFBvbHlsaW5lRGFzaE1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9Qb2x5bGluZURhc2hNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IFBvbHlsaW5lR2xvd01hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9Qb2x5bGluZUdsb3dNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IFBvbHlsaW5lT3V0bGluZU1hdGVyaWFsIGZyb20gXCIuLi9TaGFkZXJzL01hdGVyaWFscy9Qb2x5bGluZU91dGxpbmVNYXRlcmlhbC5qc1wiO1xuaW1wb3J0IFJpbUxpZ2h0aW5nTWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL1JpbUxpZ2h0aW5nTWF0ZXJpYWwuanNcIjtcbmltcG9ydCBTYW1wbGVyIGZyb20gXCIuLi9SZW5kZXJlci9TYW1wbGVyLmpzXCI7XG5pbXBvcnQgU2xvcGVSYW1wTWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL1Nsb3BlUmFtcE1hdGVyaWFsLmpzXCI7XG5pbXBvcnQgU3RyaXBlTWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL1N0cmlwZU1hdGVyaWFsLmpzXCI7XG5pbXBvcnQgVGV4dHVyZU1hZ25pZmljYXRpb25GaWx0ZXIgZnJvbSBcIi4uL1JlbmRlcmVyL1RleHR1cmVNYWduaWZpY2F0aW9uRmlsdGVyLmpzXCI7XG5pbXBvcnQgVGV4dHVyZU1pbmlmaWNhdGlvbkZpbHRlciBmcm9tIFwiLi4vUmVuZGVyZXIvVGV4dHVyZU1pbmlmaWNhdGlvbkZpbHRlci5qc1wiO1xuaW1wb3J0IFdhdGVyTWF0ZXJpYWwgZnJvbSBcIi4uL1NoYWRlcnMvTWF0ZXJpYWxzL1dhdGVyLmpzXCI7XG5pbXBvcnQgd2hlbiBmcm9tIFwiLi4vVGhpcmRQYXJ0eS93aGVuLmpzXCI7XG5cbi8qKlxuICogQSBNYXRlcmlhbCBkZWZpbmVzIHN1cmZhY2UgYXBwZWFyYW5jZSB0aHJvdWdoIGEgY29tYmluYXRpb24gb2YgZGlmZnVzZSwgc3BlY3VsYXIsXG4gKiBub3JtYWwsIGVtaXNzaW9uLCBhbmQgYWxwaGEgY29tcG9uZW50cy4gVGhlc2UgdmFsdWVzIGFyZSBzcGVjaWZpZWQgdXNpbmcgYVxuICogSlNPTiBzY2hlbWEgY2FsbGVkIEZhYnJpYyB3aGljaCBnZXRzIHBhcnNlZCBhbmQgYXNzZW1ibGVkIGludG8gZ2xzbCBzaGFkZXIgY29kZVxuICogYmVoaW5kLXRoZS1zY2VuZXMuIENoZWNrIG91dCB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9jZXNpdW0vd2lraS9GYWJyaWN8d2lraSBwYWdlfVxuICogZm9yIG1vcmUgZGV0YWlscyBvbiBGYWJyaWMuXG4gKiA8YnIgLz48YnIgLz5cbiAqIDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5cbiAqICAjbWF0ZXJpYWxEZXNjcmlwdGlvbnMgY29kZSB7XG4gKiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gKiAgICAgIGZvbnQtZmFtaWx5OiBDb25zb2xhcywgJ0x1Y2lkYSBDb25zb2xlJywgTW9uYWNvLCBtb25vc3BhY2U7XG4gKiAgICAgIGNvbG9yOiAjQTM1QTAwO1xuICogIH1cbiAqICAjbWF0ZXJpYWxEZXNjcmlwdGlvbnMgdWwsICNtYXRlcmlhbERlc2NyaXB0aW9ucyB1bCB1bCB7XG4gKiAgICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAqICB9XG4gKiAgI21hdGVyaWFsRGVzY3JpcHRpb25zIHVsIHVsIHtcbiAqICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAqICB9XG4gKiAgI21hdGVyaWFsRGVzY3JpcHRpb25zIHVsIHVsIGxpIHtcbiAqICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAqICAgICAgY29sb3I6ICMwMDAwMDA7XG4gKiAgICAgIHRleHQtaW5kZW50OiAtMmVtO1xuICogICAgICBtYXJnaW4tbGVmdDogMmVtO1xuICogIH1cbiAqICAjbWF0ZXJpYWxEZXNjcmlwdGlvbnMgdWwgbGkge1xuICogICAgICBmb250LXdlaWdodDogYm9sZDtcbiAqICAgICAgY29sb3I6ICMwMDUzQ0Y7XG4gKiAgfVxuICogPC9zdHlsZT5cbiAqXG4gKiBCYXNlIG1hdGVyaWFsIHR5cGVzIGFuZCB0aGVpciB1bmlmb3JtczpcbiAqIDxkaXYgaWQ9J21hdGVyaWFsRGVzY3JpcHRpb25zJz5cbiAqIDx1bD5cbiAqICA8bGk+Q29sb3I8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmNvbG9yPC9jb2RlPjogIHJnYmEgY29sb3Igb2JqZWN0LjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+SW1hZ2U8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmltYWdlPC9jb2RlPjogIHBhdGggdG8gaW1hZ2UuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46ICBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBpbWFnZS48L2xpPlxuICogIDwvdWw+XG4gKiAgPGxpPkRpZmZ1c2VNYXA8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmltYWdlPC9jb2RlPjogIHBhdGggdG8gaW1hZ2UuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmNoYW5uZWxzPC9jb2RlPjogIFRocmVlIGNoYXJhY3RlciBzdHJpbmcgY29udGFpbmluZyBhbnkgY29tYmluYXRpb24gb2YgciwgZywgYiwgYW5kIGEgZm9yIHNlbGVjdGluZyB0aGUgZGVzaXJlZCBpbWFnZSBjaGFubmVscy48L2xpPlxuICogICAgICA8bGk+PGNvZGU+cmVwZWF0PC9jb2RlPjogIE9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIGltYWdlLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+QWxwaGFNYXA8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmltYWdlPC9jb2RlPjogIHBhdGggdG8gaW1hZ2UuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmNoYW5uZWw8L2NvZGU+OiAgT25lIGNoYXJhY3RlciBzdHJpbmcgY29udGFpbmluZyByLCBnLCBiLCBvciBhIGZvciBzZWxlY3RpbmcgdGhlIGRlc2lyZWQgaW1hZ2UgY2hhbm5lbC4gPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46ICBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBpbWFnZS48L2xpPlxuICogIDwvdWw+XG4gKiAgPGxpPlNwZWN1bGFyTWFwPC9saT5cbiAqICA8dWw+XG4gKiAgICAgIDxsaT48Y29kZT5pbWFnZTwvY29kZT46IHBhdGggdG8gaW1hZ2UuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmNoYW5uZWw8L2NvZGU+OiBPbmUgY2hhcmFjdGVyIHN0cmluZyBjb250YWluaW5nIHIsIGcsIGIsIG9yIGEgZm9yIHNlbGVjdGluZyB0aGUgZGVzaXJlZCBpbWFnZSBjaGFubmVsLiA8L2xpPlxuICogICAgICA8bGk+PGNvZGU+cmVwZWF0PC9jb2RlPjogT2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgaW1hZ2UuPC9saT5cbiAqICA8L3VsPlxuICogIDxsaT5FbWlzc2lvbk1hcDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+aW1hZ2U8L2NvZGU+OiAgcGF0aCB0byBpbWFnZS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+Y2hhbm5lbHM8L2NvZGU+OiAgVGhyZWUgY2hhcmFjdGVyIHN0cmluZyBjb250YWluaW5nIGFueSBjb21iaW5hdGlvbiBvZiByLCBnLCBiLCBhbmQgYSBmb3Igc2VsZWN0aW5nIHRoZSBkZXNpcmVkIGltYWdlIGNoYW5uZWxzLiA8L2xpPlxuICogICAgICA8bGk+PGNvZGU+cmVwZWF0PC9jb2RlPjogIE9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIGltYWdlLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+QnVtcE1hcDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+aW1hZ2U8L2NvZGU+OiAgcGF0aCB0byBpbWFnZS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+Y2hhbm5lbDwvY29kZT46ICBPbmUgY2hhcmFjdGVyIHN0cmluZyBjb250YWluaW5nIHIsIGcsIGIsIG9yIGEgZm9yIHNlbGVjdGluZyB0aGUgZGVzaXJlZCBpbWFnZSBjaGFubmVsLiA8L2xpPlxuICogICAgICA8bGk+PGNvZGU+cmVwZWF0PC9jb2RlPjogIE9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIGltYWdlLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT5zdHJlbmd0aDwvY29kZT46ICBCdW1wIHN0cmVuZ3RoIHZhbHVlIGJldHdlZW4gMC4wIGFuZCAxLjAgd2hlcmUgMC4wIGlzIHNtYWxsIGJ1bXBzIGFuZCAxLjAgaXMgbGFyZ2UgYnVtcHMuPC9saT5cbiAqICA8L3VsPlxuICogIDxsaT5Ob3JtYWxNYXA8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmltYWdlPC9jb2RlPjogIHBhdGggdG8gaW1hZ2UuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmNoYW5uZWxzPC9jb2RlPjogIFRocmVlIGNoYXJhY3RlciBzdHJpbmcgY29udGFpbmluZyBhbnkgY29tYmluYXRpb24gb2YgciwgZywgYiwgYW5kIGEgZm9yIHNlbGVjdGluZyB0aGUgZGVzaXJlZCBpbWFnZSBjaGFubmVscy4gPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46ICBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBpbWFnZS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+c3RyZW5ndGg8L2NvZGU+OiAgQnVtcCBzdHJlbmd0aCB2YWx1ZSBiZXR3ZWVuIDAuMCBhbmQgMS4wIHdoZXJlIDAuMCBpcyBzbWFsbCBidW1wcyBhbmQgMS4wIGlzIGxhcmdlIGJ1bXBzLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+R3JpZDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+Y29sb3I8L2NvZGU+OiAgcmdiYSBjb2xvciBvYmplY3QgZm9yIHRoZSB3aG9sZSBtYXRlcmlhbC48L2xpPlxuICogICAgICA8bGk+PGNvZGU+Y2VsbEFscGhhPC9jb2RlPjogQWxwaGEgdmFsdWUgZm9yIHRoZSBjZWxscyBiZXR3ZWVuIGdyaWQgbGluZXMuICBUaGlzIHdpbGwgYmUgY29tYmluZWQgd2l0aCBjb2xvci5hbHBoYS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+bGluZUNvdW50PC9jb2RlPjogIE9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBjb2x1bW5zIGFuZCByb3dzIHJlc3BlY3RpdmVseS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+bGluZVRoaWNrbmVzczwvY29kZT46ICBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIHRoZSB0aGlja25lc3Mgb2YgZ3JpZCBsaW5lcyAoaW4gcGl4ZWxzIHdoZXJlIGF2YWlsYWJsZSkuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmxpbmVPZmZzZXQ8L2NvZGU+OiAgT2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMgc3BlY2lmeWluZyB0aGUgb2Zmc2V0IG9mIGdyaWQgbGluZXMgKHJhbmdlIGlzIDAgdG8gMSkuPC9saT5cbiAqICA8L3VsPlxuICogIDxsaT5TdHJpcGU8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmhvcml6b250YWw8L2NvZGU+OiAgQm9vbGVhbiB0aGF0IGRldGVybWluZXMgaWYgdGhlIHN0cmlwZXMgYXJlIGhvcml6b250YWwgb3IgdmVydGljYWwuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmV2ZW5Db2xvcjwvY29kZT46ICByZ2JhIGNvbG9yIG9iamVjdCBmb3IgdGhlIHN0cmlwZSdzIGZpcnN0IGNvbG9yLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT5vZGRDb2xvcjwvY29kZT46ICByZ2JhIGNvbG9yIG9iamVjdCBmb3IgdGhlIHN0cmlwZSdzIHNlY29uZCBjb2xvci48L2xpPlxuICogICAgICA8bGk+PGNvZGU+b2Zmc2V0PC9jb2RlPjogIE51bWJlciB0aGF0IGNvbnRyb2xzIGF0IHdoaWNoIHBvaW50IGludG8gdGhlIHBhdHRlcm4gdG8gYmVnaW4gZHJhd2luZzsgd2l0aCAwLjAgYmVpbmcgdGhlIGJlZ2lubmluZyBvZiB0aGUgZXZlbiBjb2xvciwgMS4wIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG9kZCBjb2xvciwgMi4wIGJlaW5nIHRoZSBldmVuIGNvbG9yIGFnYWluLCBhbmQgYW55IG11bHRpcGxlIG9yIGZyYWN0aW9uYWwgdmFsdWVzIGJlaW5nIGluIGJldHdlZW4uPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46ICBOdW1iZXIgdGhhdCBjb250cm9scyB0aGUgdG90YWwgbnVtYmVyIG9mIHN0cmlwZXMsIGhhbGYgbGlnaHQgYW5kIGhhbGYgZGFyay48L2xpPlxuICogIDwvdWw+XG4gKiAgPGxpPkNoZWNrZXJib2FyZDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+bGlnaHRDb2xvcjwvY29kZT46ICByZ2JhIGNvbG9yIG9iamVjdCBmb3IgdGhlIGNoZWNrZXJib2FyZCdzIGxpZ2h0IGFsdGVybmF0aW5nIGNvbG9yLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT5kYXJrQ29sb3I8L2NvZGU+OiByZ2JhIGNvbG9yIG9iamVjdCBmb3IgdGhlIGNoZWNrZXJib2FyZCdzIGRhcmsgYWx0ZXJuYXRpbmcgY29sb3IuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46ICBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgY29sdW1ucyBhbmQgcm93cyByZXNwZWN0aXZlbHkuPC9saT5cbiAqICA8L3VsPlxuICogIDxsaT5Eb3Q8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmxpZ2h0Q29sb3I8L2NvZGU+OiAgcmdiYSBjb2xvciBvYmplY3QgZm9yIHRoZSBkb3QgY29sb3IuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmRhcmtDb2xvcjwvY29kZT46ICByZ2JhIGNvbG9yIG9iamVjdCBmb3IgdGhlIGJhY2tncm91bmQgY29sb3IuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46ICBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgY29sdW1ucyBhbmQgcm93cyBvZiBkb3RzIHJlc3BlY3RpdmVseS48L2xpPlxuICogIDwvdWw+XG4gKiAgPGxpPldhdGVyPC9saT5cbiAqICA8dWw+XG4gKiAgICAgIDxsaT48Y29kZT5iYXNlV2F0ZXJDb2xvcjwvY29kZT46ICByZ2JhIGNvbG9yIG9iamVjdCBiYXNlIGNvbG9yIG9mIHRoZSB3YXRlci48L2xpPlxuICogICAgICA8bGk+PGNvZGU+YmxlbmRDb2xvcjwvY29kZT46ICByZ2JhIGNvbG9yIG9iamVjdCB1c2VkIHdoZW4gYmxlbmRpbmcgZnJvbSB3YXRlciB0byBub24td2F0ZXIgYXJlYXMuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnNwZWN1bGFyTWFwPC9jb2RlPjogIFNpbmdsZSBjaGFubmVsIHRleHR1cmUgdXNlZCB0byBpbmRpY2F0ZSBhcmVhcyBvZiB3YXRlci48L2xpPlxuICogICAgICA8bGk+PGNvZGU+bm9ybWFsTWFwPC9jb2RlPjogIE5vcm1hbCBtYXAgZm9yIHdhdGVyIG5vcm1hbCBwZXJ0dXJiYXRpb24uPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmZyZXF1ZW5jeTwvY29kZT46ICBOdW1iZXIgdGhhdCBjb250cm9scyB0aGUgbnVtYmVyIG9mIHdhdmVzLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT5hbmltYXRpb25TcGVlZDwvY29kZT46ICBOdW1iZXIgdGhhdCBjb250cm9scyB0aGUgYW5pbWF0aW9ucyBzcGVlZCBvZiB0aGUgd2F0ZXIuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmFtcGxpdHVkZTwvY29kZT46ICBOdW1iZXIgdGhhdCBjb250cm9scyB0aGUgYW1wbGl0dWRlIG9mIHdhdGVyIHdhdmVzLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT5zcGVjdWxhckludGVuc2l0eTwvY29kZT46ICBOdW1iZXIgdGhhdCBjb250cm9scyB0aGUgaW50ZW5zaXR5IG9mIHNwZWN1bGFyIHJlZmxlY3Rpb25zLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+UmltTGlnaHRpbmc8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmNvbG9yPC9jb2RlPjogIGRpZmZ1c2UgY29sb3IgYW5kIGFscGhhLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT5yaW1Db2xvcjwvY29kZT46ICBkaWZmdXNlIGNvbG9yIGFuZCBhbHBoYSBvZiB0aGUgcmltLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT53aWR0aDwvY29kZT46ICBOdW1iZXIgdGhhdCBkZXRlcm1pbmVzIHRoZSByaW0ncyB3aWR0aC48L2xpPlxuICogIDwvdWw+XG4gKiAgPGxpPkZhZGU8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmZhZGVJbkNvbG9yPC9jb2RlPjogZGlmZnVzZSBjb2xvciBhbmQgYWxwaGEgYXQgPGNvZGU+dGltZTwvY29kZT48L2xpPlxuICogICAgICA8bGk+PGNvZGU+ZmFkZU91dENvbG9yPC9jb2RlPjogZGlmZnVzZSBjb2xvciBhbmQgYWxwaGEgYXQgPGNvZGU+bWF4aW11bURpc3RhbmNlPC9jb2RlPiBmcm9tIDxjb2RlPnRpbWU8L2NvZGU+PC9saT5cbiAqICAgICAgPGxpPjxjb2RlPm1heGltdW1EaXN0YW5jZTwvY29kZT46IE51bWJlciBiZXR3ZWVuIDAuMCBhbmQgMS4wIHdoZXJlIHRoZSA8Y29kZT5mYWRlSW5Db2xvcjwvY29kZT4gYmVjb21lcyB0aGUgPGNvZGU+ZmFkZU91dENvbG9yPC9jb2RlPi4gQSB2YWx1ZSBvZiAwLjAgZ2l2ZXMgdGhlIGVudGlyZSBtYXRlcmlhbCBhIGNvbG9yIG9mIDxjb2RlPmZhZGVPdXRDb2xvcjwvY29kZT4gYW5kIGEgdmFsdWUgb2YgMS4wIGdpdmVzIHRoZSB0aGUgZW50aXJlIG1hdGVyaWFsIGEgY29sb3Igb2YgPGNvZGU+ZmFkZUluQ29sb3I8L2NvZGU+PC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnJlcGVhdDwvY29kZT46IHRydWUgaWYgdGhlIGZhZGUgc2hvdWxkIHdyYXAgYXJvdW5kIHRoZSB0ZXh0dXJlIGNvb2RpbmF0ZXMuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmZhZGVEaXJlY3Rpb248L2NvZGU+OiBPYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBzcGVjaWZ5aW5nIGlmIHRoZSBmYWRlIHNob3VsZCBiZSBpbiB0aGUgeCBhbmQgeSBkaXJlY3Rpb25zLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT50aW1lPC9jb2RlPjogT2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMgYmV0d2VlbiAwLjAgYW5kIDEuMCBvZiB0aGUgPGNvZGU+ZmFkZUluQ29sb3I8L2NvZGU+IHBvc2l0aW9uPC9saT5cbiAqICA8L3VsPlxuICogIDxsaT5Qb2x5bGluZUFycm93PC9saT5cbiAqICA8dWw+XG4gKiAgICAgIDxsaT48Y29kZT5jb2xvcjwvY29kZT46IGRpZmZ1c2UgY29sb3IgYW5kIGFscGhhLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+UG9seWxpbmVEYXNoPC9saT5cbiAqICA8dWw+XG4gKiAgICAgIDxsaT48Y29kZT5jb2xvcjwvY29kZT46IGNvbG9yIGZvciB0aGUgbGluZS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+Z2FwQ29sb3I8L2NvZGU+OiBjb2xvciBmb3IgdGhlIGdhcHMgaW4gdGhlIGxpbmUuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmRhc2hMZW5ndGg8L2NvZGU+OiBEYXNoIGxlbmd0aCBpbiBwaXhlbHMuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmRhc2hQYXR0ZXJuPC9jb2RlPjogVGhlIDE2IGJpdCBzdGlwcGxlIHBhdHRlcm4gZm9yIHRoZSBsaW5lLi48L2xpPlxuICogIDwvdWw+XG4gKiAgPGxpPlBvbHlsaW5lR2xvdzwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+Y29sb3I8L2NvZGU+OiBjb2xvciBhbmQgbWF4aW11bSBhbHBoYSBmb3IgdGhlIGdsb3cgb24gdGhlIGxpbmUuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmdsb3dQb3dlcjwvY29kZT46IHN0cmVuZ3RoIG9mIHRoZSBnbG93LCBhcyBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHRvdGFsIGxpbmUgd2lkdGggKGxlc3MgdGhhbiAxLjApLjwvbGk+XG4gKiAgICAgIDxsaT48Y29kZT50YXBlclBvd2VyPC9jb2RlPjogc3RyZW5ndGggb2YgdGhlIHRhcGVyaW5nIGVmZmVjdCwgYXMgYSBwZXJjZW50YWdlIG9mIHRoZSB0b3RhbCBsaW5lIGxlbmd0aC4gIElmIDEuMCBvciBoaWdoZXIsIG5vIHRhcGVyIGVmZmVjdCBpcyB1c2VkLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+UG9seWxpbmVPdXRsaW5lPC9saT5cbiAqICA8dWw+XG4gKiAgICAgIDxsaT48Y29kZT5jb2xvcjwvY29kZT46IGRpZmZ1c2UgY29sb3IgYW5kIGFscGhhIGZvciB0aGUgaW50ZXJpb3Igb2YgdGhlIGxpbmUuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPm91dGxpbmVDb2xvcjwvY29kZT46IGRpZmZ1c2UgY29sb3IgYW5kIGFscGhhIGZvciB0aGUgb3V0bGluZS48L2xpPlxuICogICAgICA8bGk+PGNvZGU+b3V0bGluZVdpZHRoPC9jb2RlPjogd2lkdGggb2YgdGhlIG91dGxpbmUgaW4gcGl4ZWxzLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+RWxldmF0aW9uQ29udG91cjwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+Y29sb3I8L2NvZGU+OiBjb2xvciBhbmQgYWxwaGEgZm9yIHRoZSBjb250b3VyIGxpbmUuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPnNwYWNpbmc8L2NvZGU+OiBzcGFjaW5nIGZvciBjb250b3VyIGxpbmVzIGluIG1ldGVycy48L2xpPlxuICogICAgICA8bGk+PGNvZGU+d2lkdGg8L2NvZGU+OiBOdW1iZXIgc3BlY2lmeWluZyB0aGUgd2lkdGggb2YgdGhlIGdyaWQgbGluZXMgaW4gcGl4ZWxzLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+RWxldmF0aW9uUmFtcDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+aW1hZ2U8L2NvZGU+OiBjb2xvciByYW1wIGltYWdlIHRvIHVzZSBmb3IgY29sb3JpbmcgdGhlIHRlcnJhaW4uPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPm1pbmltdW1IZWlnaHQ8L2NvZGU+OiBtaW5pbXVtIGhlaWdodCBmb3IgdGhlIHJhbXAuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPm1heGltdW1IZWlnaHQ8L2NvZGU+OiBtYXhpbXVtIGhlaWdodCBmb3IgdGhlIHJhbXAuPC9saT5cbiAqICA8L3VsPlxuICogIDxsaT5TbG9wZVJhbXA8L2xpPlxuICogIDx1bD5cbiAqICAgICAgPGxpPjxjb2RlPmltYWdlPC9jb2RlPjogY29sb3IgcmFtcCBpbWFnZSB0byB1c2UgZm9yIGNvbG9yaW5nIHRoZSB0ZXJyYWluIGJ5IHNsb3BlLjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+QXNwZWN0UmFtcDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+aW1hZ2U8L2NvZGU+OiBjb2xvciByYW1wIGltYWdlIHRvIHVzZSBmb3IgY29sb3IgdGhlIHRlcnJhaW4gYnkgYXNwZWN0LjwvbGk+XG4gKiAgPC91bD5cbiAqICA8bGk+RWxldmF0aW9uQmFuZDwvbGk+XG4gKiAgPHVsPlxuICogICAgICA8bGk+PGNvZGU+aGVpZ2h0czwvY29kZT46IGltYWdlIG9mIGhlaWdodHMgc29ydGVkIGZyb20gbG93ZXN0IHRvIGhpZ2hlc3QuPC9saT5cbiAqICAgICAgPGxpPjxjb2RlPmNvbG9yczwvY29kZT46IGltYWdlIG9mIGNvbG9ycyBhdCB0aGUgY29ycmVzcG9uZGluZyBoZWlnaHRzLjwvbGk+XG4gKiA8L3VsPlxuICogPC91bD5cbiAqIDwvdWw+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAYWxpYXMgTWF0ZXJpYWxcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc3RyaWN0PWZhbHNlXSBUaHJvd3MgZXJyb3JzIGZvciBpc3N1ZXMgdGhhdCB3b3VsZCBub3JtYWxseSBiZSBpZ25vcmVkLCBpbmNsdWRpbmcgdW51c2VkIHVuaWZvcm1zIG9yIG1hdGVyaWFscy5cbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gW29wdGlvbnMudHJhbnNsdWNlbnQ9dHJ1ZV0gV2hlbiA8Y29kZT50cnVlPC9jb2RlPiBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGdlb21ldHJ5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggdGhpcyBtYXRlcmlhbCBpcyBleHBlY3RlZCB0byBhcHBlYXIgdHJhbnNsdWNlbnQuXG4gKiBAcGFyYW0ge1RleHR1cmVNaW5pZmljYXRpb25GaWx0ZXJ9IFtvcHRpb25zLm1pbmlmaWNhdGlvbkZpbHRlcj1UZXh0dXJlTWluaWZpY2F0aW9uRmlsdGVyLkxJTkVBUl0gVGhlIHtAbGluayBUZXh0dXJlTWluaWZpY2F0aW9uRmlsdGVyfSB0byBhcHBseSB0byB0aGlzIG1hdGVyaWFsJ3MgdGV4dHVyZXMuXG4gKiBAcGFyYW0ge1RleHR1cmVNYWduaWZpY2F0aW9uRmlsdGVyfSBbb3B0aW9ucy5tYWduaWZpY2F0aW9uRmlsdGVyPVRleHR1cmVNYWduaWZpY2F0aW9uRmlsdGVyLkxJTkVBUl0gVGhlIHtAbGluayBUZXh0dXJlTWFnbmlmaWNhdGlvbkZpbHRlcn0gdG8gYXBwbHkgdG8gdGhpcyBtYXRlcmlhbCdzIHRleHR1cmVzLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuZmFicmljIFRoZSBmYWJyaWMgSlNPTiB1c2VkIHRvIGdlbmVyYXRlIHRoZSBtYXRlcmlhbC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gZmFicmljOiB1bmlmb3JtIGhhcyBpbnZhbGlkIHR5cGUuXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gZmFicmljOiB1bmlmb3JtcyBhbmQgbWF0ZXJpYWxzIGNhbm5vdCBzaGFyZSB0aGUgc2FtZSBwcm9wZXJ0eS5cbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBmYWJyaWM6IGNhbm5vdCBoYXZlIHNvdXJjZSBhbmQgY29tcG9uZW50cyBpbiB0aGUgc2FtZSBzZWN0aW9uLlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IGZhYnJpYzogcHJvcGVydHkgbmFtZSBpcyBub3QgdmFsaWQuIEl0IHNob3VsZCBiZSAndHlwZScsICdtYXRlcmlhbHMnLCAndW5pZm9ybXMnLCAnY29tcG9uZW50cycsIG9yICdzb3VyY2UnLlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IGZhYnJpYzogcHJvcGVydHkgbmFtZSBpcyBub3QgdmFsaWQuIEl0IHNob3VsZCBiZSAnZGlmZnVzZScsICdzcGVjdWxhcicsICdzaGluaW5lc3MnLCAnbm9ybWFsJywgJ2VtaXNzaW9uJywgb3IgJ2FscGhhJy5cbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBzdHJpY3Q6IHNoYWRlciBzb3VyY2UgZG9lcyBub3QgdXNlIHN0cmluZy5cbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBzdHJpY3Q6IHNoYWRlciBzb3VyY2UgZG9lcyBub3QgdXNlIHVuaWZvcm0uXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gc3RyaWN0OiBzaGFkZXIgc291cmNlIGRvZXMgbm90IHVzZSBtYXRlcmlhbC5cbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvY2VzaXVtL3dpa2kvRmFicmljfEZhYnJpYyB3aWtpIHBhZ2V9IGZvciBhIG1vcmUgZGV0YWlsZWQgb3B0aW9ucyBvZiBGYWJyaWMuXG4gKlxuICogQGRlbW8ge0BsaW5rIGh0dHBzOi8vc2FuZGNhc3RsZS5jZXNpdW0uY29tL2luZGV4Lmh0bWw/c3JjPU1hdGVyaWFscy5odG1sfENlc2l1bSBTYW5kY2FzdGxlIE1hdGVyaWFscyBEZW1vfVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBjb2xvciBtYXRlcmlhbCB3aXRoIGZyb21UeXBlOlxuICogcG9seWdvbi5tYXRlcmlhbCA9IENlc2l1bS5NYXRlcmlhbC5mcm9tVHlwZSgnQ29sb3InKTtcbiAqIHBvbHlnb24ubWF0ZXJpYWwudW5pZm9ybXMuY29sb3IgPSBuZXcgQ2VzaXVtLkNvbG9yKDEuMCwgMS4wLCAwLjAsIDEuMCk7XG4gKlxuICogLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IG1hdGVyaWFsOlxuICogcG9seWdvbi5tYXRlcmlhbCA9IG5ldyBDZXNpdW0uTWF0ZXJpYWwoKTtcbiAqXG4gKiAvLyBDcmVhdGUgYSBjb2xvciBtYXRlcmlhbCB3aXRoIGZ1bGwgRmFicmljIG5vdGF0aW9uOlxuICogcG9seWdvbi5tYXRlcmlhbCA9IG5ldyBDZXNpdW0uTWF0ZXJpYWwoe1xuICogICAgIGZhYnJpYyA6IHtcbiAqICAgICAgICAgdHlwZSA6ICdDb2xvcicsXG4gKiAgICAgICAgIHVuaWZvcm1zIDoge1xuICogICAgICAgICAgICAgY29sb3IgOiBuZXcgQ2VzaXVtLkNvbG9yKDEuMCwgMS4wLCAwLjAsIDEuMClcbiAqICAgICAgICAgfVxuICogICAgIH1cbiAqIH0pO1xuICovXG5mdW5jdGlvbiBNYXRlcmlhbChvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBUaGUgbWF0ZXJpYWwgdHlwZS4gQ2FuIGJlIGFuIGV4aXN0aW5nIHR5cGUgb3IgYSBuZXcgdHlwZS4gSWYgbm8gdHlwZSBpcyBzcGVjaWZpZWQgaW4gZmFicmljLCB0eXBlIGlzIGEgR1VJRC5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLnR5cGUgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBnbHNsIHNoYWRlciBzb3VyY2UgZm9yIHRoaXMgbWF0ZXJpYWwuXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5zaGFkZXJTb3VyY2UgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1hcHMgc3ViLW1hdGVyaWFsIG5hbWVzIHRvIE1hdGVyaWFsIG9iamVjdHMuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5tYXRlcmlhbHMgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1hcHMgdW5pZm9ybSBuYW1lcyB0byB0aGVpciB2YWx1ZXMuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy51bmlmb3JtcyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdW5pZm9ybXMgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFdoZW4gPGNvZGU+dHJ1ZTwvY29kZT4gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgPGNvZGU+dHJ1ZTwvY29kZT4sXG4gICAqIHRoZSBnZW9tZXRyeSBpcyBleHBlY3RlZCB0byBhcHBlYXIgdHJhbnNsdWNlbnQuXG4gICAqIEB0eXBlIHtCb29sZWFufEZ1bmN0aW9ufVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMudHJhbnNsdWNlbnQgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fbWluaWZpY2F0aW9uRmlsdGVyID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMubWluaWZpY2F0aW9uRmlsdGVyLFxuICAgIFRleHR1cmVNaW5pZmljYXRpb25GaWx0ZXIuTElORUFSXG4gICk7XG4gIHRoaXMuX21hZ25pZmljYXRpb25GaWx0ZXIgPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy5tYWduaWZpY2F0aW9uRmlsdGVyLFxuICAgIFRleHR1cmVNYWduaWZpY2F0aW9uRmlsdGVyLkxJTkVBUlxuICApO1xuXG4gIHRoaXMuX3N0cmljdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdGVtcGxhdGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NvdW50ID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX3RleHR1cmVQYXRocyA9IHt9O1xuICB0aGlzLl9sb2FkZWRJbWFnZXMgPSBbXTtcbiAgdGhpcy5fbG9hZGVkQ3ViZU1hcHMgPSBbXTtcblxuICB0aGlzLl90ZXh0dXJlcyA9IHt9O1xuXG4gIHRoaXMuX3VwZGF0ZUZ1bmN0aW9ucyA9IFtdO1xuXG4gIHRoaXMuX2RlZmF1bHRUZXh0dXJlID0gdW5kZWZpbmVkO1xuXG4gIGluaXRpYWxpemVNYXRlcmlhbChvcHRpb25zLCB0aGlzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgIHR5cGU6IHtcbiAgICAgIHZhbHVlOiB0aGlzLnR5cGUsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKCFkZWZpbmVkKE1hdGVyaWFsLl91bmlmb3JtTGlzdFt0aGlzLnR5cGVdKSkge1xuICAgIE1hdGVyaWFsLl91bmlmb3JtTGlzdFt0aGlzLnR5cGVdID0gT2JqZWN0LmtleXModGhpcy5fdW5pZm9ybXMpO1xuICB9XG59XG5cbi8vIENhY2hlZCBsaXN0IG9mIGNvbWJpbmVkIHVuaWZvcm0gbmFtZXMgaW5kZXhlZCBieSB0eXBlLlxuLy8gVXNlZCB0byBnZXQgdGhlIGxpc3Qgb2YgdW5pZm9ybXMgaW4gdGhlIHNhbWUgb3JkZXIuXG5NYXRlcmlhbC5fdW5pZm9ybUxpc3QgPSB7fTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdGVyaWFsIHVzaW5nIGFuIGV4aXN0aW5nIG1hdGVyaWFsIHR5cGUuXG4gKiA8YnIgLz48YnIgLz5cbiAqIFNob3J0aGFuZCBmb3I6IG5ldyBNYXRlcmlhbCh7ZmFicmljIDoge3R5cGUgOiB0eXBlfX0pO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBiYXNlIG1hdGVyaWFsIHR5cGUuXG4gKiBAcGFyYW0ge09iamVjdH0gW3VuaWZvcm1zXSBPdmVycmlkZXMgZm9yIHRoZSBkZWZhdWx0IHVuaWZvcm1zLlxuICogQHJldHVybnMge01hdGVyaWFsfSBOZXcgbWF0ZXJpYWwgb2JqZWN0LlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBtYXRlcmlhbCB3aXRoIHRoYXQgdHlwZSBkb2VzIG5vdCBleGlzdC5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hdGVyaWFsID0gQ2VzaXVtLk1hdGVyaWFsLmZyb21UeXBlKCdDb2xvcicsIHtcbiAqICAgICBjb2xvciA6IG5ldyBDZXNpdW0uQ29sb3IoMS4wLCAwLjAsIDAuMCwgMS4wKVxuICogfSk7XG4gKi9cbk1hdGVyaWFsLmZyb21UeXBlID0gZnVuY3Rpb24gKHR5cGUsIHVuaWZvcm1zKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChNYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5nZXRNYXRlcmlhbCh0eXBlKSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcIm1hdGVyaWFsIHdpdGggdHlwZSAnXCIgKyB0eXBlICsgXCInIGRvZXMgbm90IGV4aXN0LlwiXG4gICAgKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgbWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoe1xuICAgIGZhYnJpYzoge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoZGVmaW5lZCh1bmlmb3JtcykpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHVuaWZvcm1zKSB7XG4gICAgICBpZiAodW5pZm9ybXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgbWF0ZXJpYWwudW5pZm9ybXNbbmFtZV0gPSB1bmlmb3Jtc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWF0ZXJpYWw7XG59O1xuXG4vKipcbiAqIEdldHMgd2hldGhlciBvciBub3QgdGhpcyBtYXRlcmlhbCBpcyB0cmFuc2x1Y2VudC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSA8Y29kZT50cnVlPC9jb2RlPiBpZiB0aGlzIG1hdGVyaWFsIGlzIHRyYW5zbHVjZW50LCA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLlxuICovXG5NYXRlcmlhbC5wcm90b3R5cGUuaXNUcmFuc2x1Y2VudCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGRlZmluZWQodGhpcy50cmFuc2x1Y2VudCkpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMudHJhbnNsdWNlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsdWNlbnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50cmFuc2x1Y2VudDtcbiAgfVxuXG4gIHZhciB0cmFuc2x1Y2VudCA9IHRydWU7XG4gIHZhciBmdW5jcyA9IHRoaXMuX3RyYW5zbHVjZW50RnVuY3Rpb25zO1xuICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGZ1bmMgPSBmdW5jc1tpXTtcbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdHJhbnNsdWNlbnQgPSB0cmFuc2x1Y2VudCAmJiBmdW5jKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zbHVjZW50ID0gdHJhbnNsdWNlbnQgJiYgZnVuYztcbiAgICB9XG5cbiAgICBpZiAoIXRyYW5zbHVjZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRyYW5zbHVjZW50O1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5NYXRlcmlhbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgdGhpcy5fZGVmYXVsdFRleHR1cmUgPSBjb250ZXh0LmRlZmF1bHRUZXh0dXJlO1xuXG4gIHZhciBpO1xuICB2YXIgdW5pZm9ybUlkO1xuXG4gIHZhciBsb2FkZWRJbWFnZXMgPSB0aGlzLl9sb2FkZWRJbWFnZXM7XG4gIHZhciBsZW5ndGggPSBsb2FkZWRJbWFnZXMubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgbG9hZGVkSW1hZ2UgPSBsb2FkZWRJbWFnZXNbaV07XG4gICAgdW5pZm9ybUlkID0gbG9hZGVkSW1hZ2UuaWQ7XG4gICAgdmFyIGltYWdlID0gbG9hZGVkSW1hZ2UuaW1hZ2U7XG5cbiAgICAvLyBJbWFnZXMgdHJhbnNjb2RlZCBmcm9tIEtUWDIgY2FuIGNvbnRhaW4gbXVsdGlwbGUgbWlwIGxldmVsczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5raHJvbm9zLm9yZy9LVFgtU3BlY2lmaWNhdGlvbi8jX21pcF9sZXZlbF9hcnJheVxuICAgIHZhciBtaXBMZXZlbHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW1hZ2UpKSB7XG4gICAgICAvLyBoaWdoZXN0IGRldGFpbCBtaXAgc2hvdWxkIGJlIGxldmVsIDBcbiAgICAgIG1pcExldmVscyA9IGltYWdlLnNsaWNlKDEsIGltYWdlLmxlbmd0aCkubWFwKGZ1bmN0aW9uIChtaXBMZXZlbCkge1xuICAgICAgICByZXR1cm4gbWlwTGV2ZWwuYnVmZmVyVmlldztcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UgPSBpbWFnZVswXTtcbiAgICB9XG5cbiAgICB2YXIgc2FtcGxlciA9IG5ldyBTYW1wbGVyKHtcbiAgICAgIG1pbmlmaWNhdGlvbkZpbHRlcjogdGhpcy5fbWluaWZpY2F0aW9uRmlsdGVyLFxuICAgICAgbWFnbmlmaWNhdGlvbkZpbHRlcjogdGhpcy5fbWFnbmlmaWNhdGlvbkZpbHRlcixcbiAgICB9KTtcblxuICAgIHZhciB0ZXh0dXJlO1xuICAgIGlmIChkZWZpbmVkKGltYWdlLmludGVybmFsRm9ybWF0KSkge1xuICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHtcbiAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgcGl4ZWxGb3JtYXQ6IGltYWdlLmludGVybmFsRm9ybWF0LFxuICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1hZ2UuaGVpZ2h0LFxuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICBhcnJheUJ1ZmZlclZpZXc6IGltYWdlLmJ1ZmZlclZpZXcsXG4gICAgICAgICAgbWlwTGV2ZWxzOiBtaXBMZXZlbHMsXG4gICAgICAgIH0sXG4gICAgICAgIHNhbXBsZXI6IHNhbXBsZXIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHtcbiAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgc291cmNlOiBpbWFnZSxcbiAgICAgICAgc2FtcGxlcjogc2FtcGxlcixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRoZSBtYXRlcmlhbCBkZXN0cm95cyBpdHMgb2xkIHRleHR1cmUgb25seSBhZnRlciB0aGUgbmV3IG9uZSBoYXMgYmVlbiBsb2FkZWQuXG4gICAgLy8gVGhpcyB3aWxsIGVuc3VyZSBhIHNtb290aCBzd2FwIG9mIHRleHR1cmVzIGFuZCBwcmV2ZW50IHRoZSBkZWZhdWx0IHRleHR1cmVcbiAgICAvLyBmcm9tIGFwcGVhcmluZyBmb3IgYSBmZXcgZnJhbWVzLlxuICAgIHZhciBvbGRUZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbdW5pZm9ybUlkXTtcbiAgICBpZiAoZGVmaW5lZChvbGRUZXh0dXJlKSAmJiBvbGRUZXh0dXJlICE9PSB0aGlzLl9kZWZhdWx0VGV4dHVyZSkge1xuICAgICAgb2xkVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdGV4dHVyZXNbdW5pZm9ybUlkXSA9IHRleHR1cmU7XG5cbiAgICB2YXIgdW5pZm9ybURpbWVuc2lvbnNOYW1lID0gdW5pZm9ybUlkICsgXCJEaW1lbnNpb25zXCI7XG4gICAgaWYgKHRoaXMudW5pZm9ybXMuaGFzT3duUHJvcGVydHkodW5pZm9ybURpbWVuc2lvbnNOYW1lKSkge1xuICAgICAgdmFyIHVuaWZvcm1EaW1lbnNpb25zID0gdGhpcy51bmlmb3Jtc1t1bmlmb3JtRGltZW5zaW9uc05hbWVdO1xuICAgICAgdW5pZm9ybURpbWVuc2lvbnMueCA9IHRleHR1cmUuX3dpZHRoO1xuICAgICAgdW5pZm9ybURpbWVuc2lvbnMueSA9IHRleHR1cmUuX2hlaWdodDtcbiAgICB9XG4gIH1cblxuICBsb2FkZWRJbWFnZXMubGVuZ3RoID0gMDtcblxuICB2YXIgbG9hZGVkQ3ViZU1hcHMgPSB0aGlzLl9sb2FkZWRDdWJlTWFwcztcbiAgbGVuZ3RoID0gbG9hZGVkQ3ViZU1hcHMubGVuZ3RoO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBsb2FkZWRDdWJlTWFwID0gbG9hZGVkQ3ViZU1hcHNbaV07XG4gICAgdW5pZm9ybUlkID0gbG9hZGVkQ3ViZU1hcC5pZDtcbiAgICB2YXIgaW1hZ2VzID0gbG9hZGVkQ3ViZU1hcC5pbWFnZXM7XG5cbiAgICB2YXIgY3ViZU1hcCA9IG5ldyBDdWJlTWFwKHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgcG9zaXRpdmVYOiBpbWFnZXNbMF0sXG4gICAgICAgIG5lZ2F0aXZlWDogaW1hZ2VzWzFdLFxuICAgICAgICBwb3NpdGl2ZVk6IGltYWdlc1syXSxcbiAgICAgICAgbmVnYXRpdmVZOiBpbWFnZXNbM10sXG4gICAgICAgIHBvc2l0aXZlWjogaW1hZ2VzWzRdLFxuICAgICAgICBuZWdhdGl2ZVo6IGltYWdlc1s1XSxcbiAgICAgIH0sXG4gICAgICBzYW1wbGVyOiBuZXcgU2FtcGxlcih7XG4gICAgICAgIG1pbmlmaWNhdGlvbkZpbHRlcjogdGhpcy5fbWluaWZpY2F0aW9uRmlsdGVyLFxuICAgICAgICBtYWduaWZpY2F0aW9uRmlsdGVyOiB0aGlzLl9tYWduaWZpY2F0aW9uRmlsdGVyLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICB0aGlzLl90ZXh0dXJlc1t1bmlmb3JtSWRdID0gY3ViZU1hcDtcbiAgfVxuXG4gIGxvYWRlZEN1YmVNYXBzLmxlbmd0aCA9IDA7XG5cbiAgdmFyIHVwZGF0ZUZ1bmN0aW9ucyA9IHRoaXMuX3VwZGF0ZUZ1bmN0aW9ucztcbiAgbGVuZ3RoID0gdXBkYXRlRnVuY3Rpb25zLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdXBkYXRlRnVuY3Rpb25zW2ldKHRoaXMsIGNvbnRleHQpO1xuICB9XG5cbiAgdmFyIHN1Yk1hdGVyaWFscyA9IHRoaXMubWF0ZXJpYWxzO1xuICBmb3IgKHZhciBuYW1lIGluIHN1Yk1hdGVyaWFscykge1xuICAgIGlmIChzdWJNYXRlcmlhbHMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHN1Yk1hdGVyaWFsc1tuYW1lXS51cGRhdGUoY29udGV4dCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICogPGJyIC8+PGJyIC8+XG4gKiBJZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gKlxuICogQHNlZSBNYXRlcmlhbCNkZXN0cm95XG4gKi9cbk1hdGVyaWFsLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgV2ViR0wgcmVzb3VyY2VzIGhlbGQgYnkgdGhpcyBvYmplY3QuICBEZXN0cm95aW5nIGFuIG9iamVjdCBhbGxvd3MgZm9yIGRldGVybWluaXN0aWNcbiAqIHJlbGVhc2Ugb2YgV2ViR0wgcmVzb3VyY2VzLCBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gdGhlIGdhcmJhZ2UgY29sbGVjdG9yIHRvIGRlc3Ryb3kgdGhpcyBvYmplY3QuXG4gKiA8YnIgLz48YnIgLz5cbiAqIE9uY2UgYW4gb2JqZWN0IGlzIGRlc3Ryb3llZCwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkOyBjYWxsaW5nIGFueSBmdW5jdGlvbiBvdGhlciB0aGFuXG4gKiA8Y29kZT5pc0Rlc3Ryb3llZDwvY29kZT4gd2lsbCByZXN1bHQgaW4gYSB7QGxpbmsgRGV2ZWxvcGVyRXJyb3J9IGV4Y2VwdGlvbi4gIFRoZXJlZm9yZSxcbiAqIGFzc2lnbiB0aGUgcmV0dXJuIHZhbHVlICg8Y29kZT51bmRlZmluZWQ8L2NvZGU+KSB0byB0aGUgb2JqZWN0IGFzIGRvbmUgaW4gdGhlIGV4YW1wbGUuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IFRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGkuZS4sIGRlc3Ryb3koKSB3YXMgY2FsbGVkLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogbWF0ZXJpYWwgPSBtYXRlcmlhbCAmJiBtYXRlcmlhbC5kZXN0cm95KCk7XG4gKlxuICogQHNlZSBNYXRlcmlhbCNpc0Rlc3Ryb3llZFxuICovXG5NYXRlcmlhbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRleHR1cmVzID0gdGhpcy5fdGV4dHVyZXM7XG4gIGZvciAodmFyIHRleHR1cmUgaW4gdGV4dHVyZXMpIHtcbiAgICBpZiAodGV4dHVyZXMuaGFzT3duUHJvcGVydHkodGV4dHVyZSkpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IHRleHR1cmVzW3RleHR1cmVdO1xuICAgICAgaWYgKGluc3RhbmNlICE9PSB0aGlzLl9kZWZhdWx0VGV4dHVyZSkge1xuICAgICAgICBpbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIG1hdGVyaWFscyA9IHRoaXMubWF0ZXJpYWxzO1xuICBmb3IgKHZhciBtYXRlcmlhbCBpbiBtYXRlcmlhbHMpIHtcbiAgICBpZiAobWF0ZXJpYWxzLmhhc093blByb3BlcnR5KG1hdGVyaWFsKSkge1xuICAgICAgbWF0ZXJpYWxzW21hdGVyaWFsXS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZU1hdGVyaWFsKG9wdGlvbnMsIHJlc3VsdCkge1xuICBvcHRpb25zID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMsIGRlZmF1bHRWYWx1ZS5FTVBUWV9PQkpFQ1QpO1xuICByZXN1bHQuX3N0cmljdCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnN0cmljdCwgZmFsc2UpO1xuICByZXN1bHQuX2NvdW50ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuY291bnQsIDApO1xuICByZXN1bHQuX3RlbXBsYXRlID0gY2xvbmUoXG4gICAgZGVmYXVsdFZhbHVlKG9wdGlvbnMuZmFicmljLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKVxuICApO1xuICByZXN1bHQuX3RlbXBsYXRlLnVuaWZvcm1zID0gY2xvbmUoXG4gICAgZGVmYXVsdFZhbHVlKHJlc3VsdC5fdGVtcGxhdGUudW5pZm9ybXMsIGRlZmF1bHRWYWx1ZS5FTVBUWV9PQkpFQ1QpXG4gICk7XG4gIHJlc3VsdC5fdGVtcGxhdGUubWF0ZXJpYWxzID0gY2xvbmUoXG4gICAgZGVmYXVsdFZhbHVlKHJlc3VsdC5fdGVtcGxhdGUubWF0ZXJpYWxzLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKVxuICApO1xuXG4gIHJlc3VsdC50eXBlID0gZGVmaW5lZChyZXN1bHQuX3RlbXBsYXRlLnR5cGUpXG4gICAgPyByZXN1bHQuX3RlbXBsYXRlLnR5cGVcbiAgICA6IGNyZWF0ZUd1aWQoKTtcblxuICByZXN1bHQuc2hhZGVyU291cmNlID0gXCJcIjtcbiAgcmVzdWx0Lm1hdGVyaWFscyA9IHt9O1xuICByZXN1bHQudW5pZm9ybXMgPSB7fTtcbiAgcmVzdWx0Ll91bmlmb3JtcyA9IHt9O1xuICByZXN1bHQuX3RyYW5zbHVjZW50RnVuY3Rpb25zID0gW107XG5cbiAgdmFyIHRyYW5zbHVjZW50O1xuXG4gIC8vIElmIHRoZSBjYWNoZSBjb250YWlucyB0aGlzIG1hdGVyaWFsIHR5cGUsIGJ1aWxkIHRoZSBtYXRlcmlhbCB0ZW1wbGF0ZSBvZmYgb2YgdGhlIHN0b3JlZCB0ZW1wbGF0ZS5cbiAgdmFyIGNhY2hlZE1hdGVyaWFsID0gTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuZ2V0TWF0ZXJpYWwocmVzdWx0LnR5cGUpO1xuICBpZiAoZGVmaW5lZChjYWNoZWRNYXRlcmlhbCkpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBjbG9uZShjYWNoZWRNYXRlcmlhbC5mYWJyaWMsIHRydWUpO1xuICAgIHJlc3VsdC5fdGVtcGxhdGUgPSBjb21iaW5lKHJlc3VsdC5fdGVtcGxhdGUsIHRlbXBsYXRlLCB0cnVlKTtcbiAgICB0cmFuc2x1Y2VudCA9IGNhY2hlZE1hdGVyaWFsLnRyYW5zbHVjZW50O1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIHRoZSB0ZW1wbGF0ZSBoYXMgbm8gb2J2aW91cyBlcnJvcnMuIE1vcmUgZXJyb3IgY2hlY2tpbmcgaGFwcGVucyBsYXRlci5cbiAgY2hlY2tGb3JUZW1wbGF0ZUVycm9ycyhyZXN1bHQpO1xuXG4gIC8vIElmIHRoZSBtYXRlcmlhbCBoYXMgYSBuZXcgdHlwZSwgYWRkIGl0IHRvIHRoZSBjYWNoZS5cbiAgaWYgKCFkZWZpbmVkKGNhY2hlZE1hdGVyaWFsKSkge1xuICAgIE1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKHJlc3VsdC50eXBlLCByZXN1bHQpO1xuICB9XG5cbiAgY3JlYXRlTWV0aG9kRGVmaW5pdGlvbihyZXN1bHQpO1xuICBjcmVhdGVVbmlmb3JtcyhyZXN1bHQpO1xuICBjcmVhdGVTdWJNYXRlcmlhbHMocmVzdWx0KTtcblxuICB2YXIgZGVmYXVsdFRyYW5zbHVjZW50ID1cbiAgICByZXN1bHQuX3RyYW5zbHVjZW50RnVuY3Rpb25zLmxlbmd0aCA9PT0gMCA/IHRydWUgOiB1bmRlZmluZWQ7XG4gIHRyYW5zbHVjZW50ID0gZGVmYXVsdFZhbHVlKHRyYW5zbHVjZW50LCBkZWZhdWx0VHJhbnNsdWNlbnQpO1xuICB0cmFuc2x1Y2VudCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnRyYW5zbHVjZW50LCB0cmFuc2x1Y2VudCk7XG5cbiAgaWYgKGRlZmluZWQodHJhbnNsdWNlbnQpKSB7XG4gICAgaWYgKHR5cGVvZiB0cmFuc2x1Y2VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB2YXIgd3JhcHBlZFRyYW5zbHVjZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJhbnNsdWNlbnQocmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZXN1bHQuX3RyYW5zbHVjZW50RnVuY3Rpb25zLnB1c2god3JhcHBlZFRyYW5zbHVjZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0Ll90cmFuc2x1Y2VudEZ1bmN0aW9ucy5wdXNoKHRyYW5zbHVjZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JWYWxpZFByb3BlcnRpZXMob2JqZWN0LCBwcm9wZXJ0aWVzLCByZXN1bHQsIHRocm93Tm90Rm91bmQpIHtcbiAgaWYgKGRlZmluZWQob2JqZWN0KSkge1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgdmFyIGhhc1Byb3BlcnR5ID0gcHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KSAhPT0gLTE7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAodGhyb3dOb3RGb3VuZCAmJiAhaGFzUHJvcGVydHkpIHx8XG4gICAgICAgICAgKCF0aHJvd05vdEZvdW5kICYmIGhhc1Byb3BlcnR5KVxuICAgICAgICApIHtcbiAgICAgICAgICByZXN1bHQocHJvcGVydHksIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGludmFsaWROYW1lRXJyb3IocHJvcGVydHksIHByb3BlcnRpZXMpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgdmFyIGVycm9yU3RyaW5nID1cbiAgICBcImZhYnJpYzogcHJvcGVydHkgbmFtZSAnXCIgKyBwcm9wZXJ0eSArIFwiJyBpcyBub3QgdmFsaWQuIEl0IHNob3VsZCBiZSBcIjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3BlcnR5TmFtZSA9IFwiJ1wiICsgcHJvcGVydGllc1tpXSArIFwiJ1wiO1xuICAgIGVycm9yU3RyaW5nICs9XG4gICAgICBpID09PSBwcm9wZXJ0aWVzLmxlbmd0aCAtIDFcbiAgICAgICAgPyBcIm9yIFwiICsgcHJvcGVydHlOYW1lICsgXCIuXCJcbiAgICAgICAgOiBwcm9wZXJ0eU5hbWUgKyBcIiwgXCI7XG4gIH1cbiAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKGVycm9yU3RyaW5nKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG59XG5cbmZ1bmN0aW9uIGR1cGxpY2F0ZU5hbWVFcnJvcihwcm9wZXJ0eSwgcHJvcGVydGllcykge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICB2YXIgZXJyb3JTdHJpbmcgPVxuICAgIFwiZmFicmljOiB1bmlmb3JtcyBhbmQgbWF0ZXJpYWxzIGNhbm5vdCBzaGFyZSB0aGUgc2FtZSBwcm9wZXJ0eSAnXCIgK1xuICAgIHByb3BlcnR5ICtcbiAgICBcIidcIjtcbiAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKGVycm9yU3RyaW5nKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG59XG5cbnZhciB0ZW1wbGF0ZVByb3BlcnRpZXMgPSBbXG4gIFwidHlwZVwiLFxuICBcIm1hdGVyaWFsc1wiLFxuICBcInVuaWZvcm1zXCIsXG4gIFwiY29tcG9uZW50c1wiLFxuICBcInNvdXJjZVwiLFxuXTtcbnZhciBjb21wb25lbnRQcm9wZXJ0aWVzID0gW1xuICBcImRpZmZ1c2VcIixcbiAgXCJzcGVjdWxhclwiLFxuICBcInNoaW5pbmVzc1wiLFxuICBcIm5vcm1hbFwiLFxuICBcImVtaXNzaW9uXCIsXG4gIFwiYWxwaGFcIixcbl07XG5cbmZ1bmN0aW9uIGNoZWNrRm9yVGVtcGxhdGVFcnJvcnMobWF0ZXJpYWwpIHtcbiAgdmFyIHRlbXBsYXRlID0gbWF0ZXJpYWwuX3RlbXBsYXRlO1xuICB2YXIgdW5pZm9ybXMgPSB0ZW1wbGF0ZS51bmlmb3JtcztcbiAgdmFyIG1hdGVyaWFscyA9IHRlbXBsYXRlLm1hdGVyaWFscztcbiAgdmFyIGNvbXBvbmVudHMgPSB0ZW1wbGF0ZS5jb21wb25lbnRzO1xuXG4gIC8vIE1ha2Ugc3VyZSBzb3VyY2UgYW5kIGNvbXBvbmVudHMgZG8gbm90IGV4aXN0IGluIHRoZSBzYW1lIHRlbXBsYXRlLlxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoZGVmaW5lZChjb21wb25lbnRzKSAmJiBkZWZpbmVkKHRlbXBsYXRlLnNvdXJjZSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICBcImZhYnJpYzogY2Fubm90IGhhdmUgc291cmNlIGFuZCBjb21wb25lbnRzIGluIHRoZSBzYW1lIHRlbXBsYXRlLlwiXG4gICAgKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAvLyBNYWtlIHN1cmUgYWxsIHRlbXBsYXRlIGFuZCBjb21wb25lbnRzIHByb3BlcnRpZXMgYXJlIHZhbGlkLlxuICBjaGVja0ZvclZhbGlkUHJvcGVydGllcyh0ZW1wbGF0ZSwgdGVtcGxhdGVQcm9wZXJ0aWVzLCBpbnZhbGlkTmFtZUVycm9yLCB0cnVlKTtcbiAgY2hlY2tGb3JWYWxpZFByb3BlcnRpZXMoXG4gICAgY29tcG9uZW50cyxcbiAgICBjb21wb25lbnRQcm9wZXJ0aWVzLFxuICAgIGludmFsaWROYW1lRXJyb3IsXG4gICAgdHJ1ZVxuICApO1xuXG4gIC8vIE1ha2Ugc3VyZSB1bmlmb3JtcyBhbmQgbWF0ZXJpYWxzIGRvIG5vdCBzaGFyZSBhbnkgb2YgdGhlIHNhbWUgbmFtZXMuXG4gIHZhciBtYXRlcmlhbE5hbWVzID0gW107XG4gIGZvciAodmFyIHByb3BlcnR5IGluIG1hdGVyaWFscykge1xuICAgIGlmIChtYXRlcmlhbHMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICBtYXRlcmlhbE5hbWVzLnB1c2gocHJvcGVydHkpO1xuICAgIH1cbiAgfVxuICBjaGVja0ZvclZhbGlkUHJvcGVydGllcyh1bmlmb3JtcywgbWF0ZXJpYWxOYW1lcywgZHVwbGljYXRlTmFtZUVycm9yLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGlzTWF0ZXJpYWxGdXNlZChzaGFkZXJDb21wb25lbnQsIG1hdGVyaWFsKSB7XG4gIHZhciBtYXRlcmlhbHMgPSBtYXRlcmlhbC5fdGVtcGxhdGUubWF0ZXJpYWxzO1xuICBmb3IgKHZhciBzdWJNYXRlcmlhbElkIGluIG1hdGVyaWFscykge1xuICAgIGlmIChtYXRlcmlhbHMuaGFzT3duUHJvcGVydHkoc3ViTWF0ZXJpYWxJZCkpIHtcbiAgICAgIGlmIChzaGFkZXJDb21wb25lbnQuaW5kZXhPZihzdWJNYXRlcmlhbElkKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBjem1fZ2V0TWF0ZXJpYWwgbWV0aG9kIGJvZHkgdXNpbmcgc291cmNlIG9yIGNvbXBvbmVudHMuXG5mdW5jdGlvbiBjcmVhdGVNZXRob2REZWZpbml0aW9uKG1hdGVyaWFsKSB7XG4gIHZhciBjb21wb25lbnRzID0gbWF0ZXJpYWwuX3RlbXBsYXRlLmNvbXBvbmVudHM7XG4gIHZhciBzb3VyY2UgPSBtYXRlcmlhbC5fdGVtcGxhdGUuc291cmNlO1xuICBpZiAoZGVmaW5lZChzb3VyY2UpKSB7XG4gICAgbWF0ZXJpYWwuc2hhZGVyU291cmNlICs9IHNvdXJjZSArIFwiXFxuXCI7XG4gIH0gZWxzZSB7XG4gICAgbWF0ZXJpYWwuc2hhZGVyU291cmNlICs9XG4gICAgICBcImN6bV9tYXRlcmlhbCBjem1fZ2V0TWF0ZXJpYWwoY3ptX21hdGVyaWFsSW5wdXQgbWF0ZXJpYWxJbnB1dClcXG57XFxuXCI7XG4gICAgbWF0ZXJpYWwuc2hhZGVyU291cmNlICs9XG4gICAgICBcImN6bV9tYXRlcmlhbCBtYXRlcmlhbCA9IGN6bV9nZXREZWZhdWx0TWF0ZXJpYWwobWF0ZXJpYWxJbnB1dCk7XFxuXCI7XG4gICAgaWYgKGRlZmluZWQoY29tcG9uZW50cykpIHtcbiAgICAgIHZhciBpc011bHRpTWF0ZXJpYWwgPVxuICAgICAgICBPYmplY3Qua2V5cyhtYXRlcmlhbC5fdGVtcGxhdGUubWF0ZXJpYWxzKS5sZW5ndGggPiAwO1xuICAgICAgZm9yICh2YXIgY29tcG9uZW50IGluIGNvbXBvbmVudHMpIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudHMuaGFzT3duUHJvcGVydHkoY29tcG9uZW50KSkge1xuICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IFwiZGlmZnVzZVwiIHx8IGNvbXBvbmVudCA9PT0gXCJlbWlzc2lvblwiKSB7XG4gICAgICAgICAgICB2YXIgaXNGdXNpb24gPVxuICAgICAgICAgICAgICBpc011bHRpTWF0ZXJpYWwgJiZcbiAgICAgICAgICAgICAgaXNNYXRlcmlhbEZ1c2VkKGNvbXBvbmVudHNbY29tcG9uZW50XSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFNvdXJjZSA9IGlzRnVzaW9uXG4gICAgICAgICAgICAgID8gY29tcG9uZW50c1tjb21wb25lbnRdXG4gICAgICAgICAgICAgIDogXCJjem1fZ2FtbWFDb3JyZWN0KFwiICsgY29tcG9uZW50c1tjb21wb25lbnRdICsgXCIpXCI7XG4gICAgICAgICAgICBtYXRlcmlhbC5zaGFkZXJTb3VyY2UgKz1cbiAgICAgICAgICAgICAgXCJtYXRlcmlhbC5cIiArIGNvbXBvbmVudCArIFwiID0gXCIgKyBjb21wb25lbnRTb3VyY2UgKyBcIjsgXFxuXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQgPT09IFwiYWxwaGFcIikge1xuICAgICAgICAgICAgbWF0ZXJpYWwuc2hhZGVyU291cmNlICs9XG4gICAgICAgICAgICAgIFwibWF0ZXJpYWwuYWxwaGEgPSBcIiArIGNvbXBvbmVudHMuYWxwaGEgKyBcIjsgXFxuXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLnNoYWRlclNvdXJjZSArPVxuICAgICAgICAgICAgICBcIm1hdGVyaWFsLlwiICsgY29tcG9uZW50ICsgXCIgPSBcIiArIGNvbXBvbmVudHNbY29tcG9uZW50XSArIFwiO1xcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtYXRlcmlhbC5zaGFkZXJTb3VyY2UgKz0gXCJyZXR1cm4gbWF0ZXJpYWw7XFxufVxcblwiO1xuICB9XG59XG5cbnZhciBtYXRyaXhNYXAgPSB7XG4gIG1hdDI6IE1hdHJpeDIsXG4gIG1hdDM6IE1hdHJpeDMsXG4gIG1hdDQ6IE1hdHJpeDQsXG59O1xuXG52YXIga3R4MlJlZ2V4ID0gL1xcLmt0eDIkL2k7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUyRFVwZGF0ZUZ1bmN0aW9uKHVuaWZvcm1JZCkge1xuICB2YXIgb2xkVW5pZm9ybVZhbHVlO1xuICByZXR1cm4gZnVuY3Rpb24gKG1hdGVyaWFsLCBjb250ZXh0KSB7XG4gICAgdmFyIHVuaWZvcm1zID0gbWF0ZXJpYWwudW5pZm9ybXM7XG4gICAgdmFyIHVuaWZvcm1WYWx1ZSA9IHVuaWZvcm1zW3VuaWZvcm1JZF07XG4gICAgdmFyIHVuaWZvcm1DaGFuZ2VkID0gb2xkVW5pZm9ybVZhbHVlICE9PSB1bmlmb3JtVmFsdWU7XG4gICAgdmFyIHVuaWZvcm1WYWx1ZUlzRGVmYXVsdEltYWdlID1cbiAgICAgICFkZWZpbmVkKHVuaWZvcm1WYWx1ZSkgfHwgdW5pZm9ybVZhbHVlID09PSBNYXRlcmlhbC5EZWZhdWx0SW1hZ2VJZDtcbiAgICBvbGRVbmlmb3JtVmFsdWUgPSB1bmlmb3JtVmFsdWU7XG5cbiAgICB2YXIgdGV4dHVyZSA9IG1hdGVyaWFsLl90ZXh0dXJlc1t1bmlmb3JtSWRdO1xuICAgIHZhciB1bmlmb3JtRGltZW5zaW9uc05hbWU7XG4gICAgdmFyIHVuaWZvcm1EaW1lbnNpb25zO1xuXG4gICAgaWYgKHVuaWZvcm1WYWx1ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgIC8vIEhUTUxWaWRlb0VsZW1lbnQucmVhZHlTdGF0ZSA+PTIgbWVhbnMgd2UgaGF2ZSBlbm91Z2ggZGF0YSBmb3IgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L3JlYWR5U3RhdGVcbiAgICAgIGlmICh1bmlmb3JtVmFsdWUucmVhZHlTdGF0ZSA+PSAyKSB7XG4gICAgICAgIGlmICh1bmlmb3JtQ2hhbmdlZCAmJiBkZWZpbmVkKHRleHR1cmUpKSB7XG4gICAgICAgICAgaWYgKHRleHR1cmUgIT09IGNvbnRleHQuZGVmYXVsdFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZXh0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRleHR1cmUpIHx8IHRleHR1cmUgPT09IGNvbnRleHQuZGVmYXVsdFRleHR1cmUpIHtcbiAgICAgICAgICB2YXIgc2FtcGxlciA9IG5ldyBTYW1wbGVyKHtcbiAgICAgICAgICAgIG1pbmlmaWNhdGlvbkZpbHRlcjogbWF0ZXJpYWwuX21pbmlmaWNhdGlvbkZpbHRlcixcbiAgICAgICAgICAgIG1hZ25pZmljYXRpb25GaWx0ZXI6IG1hdGVyaWFsLl9tYWduaWZpY2F0aW9uRmlsdGVyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRleHR1cmUgPSBuZXcgVGV4dHVyZSh7XG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgc291cmNlOiB1bmlmb3JtVmFsdWUsXG4gICAgICAgICAgICBzYW1wbGVyOiBzYW1wbGVyLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1hdGVyaWFsLl90ZXh0dXJlc1t1bmlmb3JtSWRdID0gdGV4dHVyZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0dXJlLmNvcHlGcm9tKHtcbiAgICAgICAgICBzb3VyY2U6IHVuaWZvcm1WYWx1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCFkZWZpbmVkKHRleHR1cmUpKSB7XG4gICAgICAgIG1hdGVyaWFsLl90ZXh0dXJlc1t1bmlmb3JtSWRdID0gY29udGV4dC5kZWZhdWx0VGV4dHVyZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodW5pZm9ybVZhbHVlIGluc3RhbmNlb2YgVGV4dHVyZSAmJiB1bmlmb3JtVmFsdWUgIT09IHRleHR1cmUpIHtcbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlUGF0aHNbdW5pZm9ybUlkXSA9IHVuZGVmaW5lZDtcbiAgICAgIHZhciB0bXAgPSBtYXRlcmlhbC5fdGV4dHVyZXNbdW5pZm9ybUlkXTtcbiAgICAgIGlmIChkZWZpbmVkKHRtcCkgJiYgdG1wICE9PSBtYXRlcmlhbC5fZGVmYXVsdFRleHR1cmUpIHtcbiAgICAgICAgdG1wLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlc1t1bmlmb3JtSWRdID0gdW5pZm9ybVZhbHVlO1xuXG4gICAgICB1bmlmb3JtRGltZW5zaW9uc05hbWUgPSB1bmlmb3JtSWQgKyBcIkRpbWVuc2lvbnNcIjtcbiAgICAgIGlmICh1bmlmb3Jtcy5oYXNPd25Qcm9wZXJ0eSh1bmlmb3JtRGltZW5zaW9uc05hbWUpKSB7XG4gICAgICAgIHVuaWZvcm1EaW1lbnNpb25zID0gdW5pZm9ybXNbdW5pZm9ybURpbWVuc2lvbnNOYW1lXTtcbiAgICAgICAgdW5pZm9ybURpbWVuc2lvbnMueCA9IHVuaWZvcm1WYWx1ZS5fd2lkdGg7XG4gICAgICAgIHVuaWZvcm1EaW1lbnNpb25zLnkgPSB1bmlmb3JtVmFsdWUuX2hlaWdodDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh1bmlmb3JtQ2hhbmdlZCAmJiBkZWZpbmVkKHRleHR1cmUpICYmIHVuaWZvcm1WYWx1ZUlzRGVmYXVsdEltYWdlKSB7XG4gICAgICAvLyBJZiB0aGUgbmV3bHktYXNzaWduZWQgdGV4dHVyZSBpcyB0aGUgZGVmYXVsdCB0ZXh0dXJlLFxuICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byB3YWl0IGZvciBhIG5ldyBpbWFnZSB0byBsb2FkIGJlZm9yZSBkZXN0cm95aW5nXG4gICAgICAvLyB0aGUgb2xkIHRleHR1cmUuXG4gICAgICBpZiAodGV4dHVyZSAhPT0gbWF0ZXJpYWwuX2RlZmF1bHRUZXh0dXJlKSB7XG4gICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgdGV4dHVyZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoIWRlZmluZWQodGV4dHVyZSkpIHtcbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlUGF0aHNbdW5pZm9ybUlkXSA9IHVuZGVmaW5lZDtcbiAgICAgIHRleHR1cmUgPSBtYXRlcmlhbC5fdGV4dHVyZXNbdW5pZm9ybUlkXSA9IG1hdGVyaWFsLl9kZWZhdWx0VGV4dHVyZTtcblxuICAgICAgdW5pZm9ybURpbWVuc2lvbnNOYW1lID0gdW5pZm9ybUlkICsgXCJEaW1lbnNpb25zXCI7XG4gICAgICBpZiAodW5pZm9ybXMuaGFzT3duUHJvcGVydHkodW5pZm9ybURpbWVuc2lvbnNOYW1lKSkge1xuICAgICAgICB1bmlmb3JtRGltZW5zaW9ucyA9IHVuaWZvcm1zW3VuaWZvcm1EaW1lbnNpb25zTmFtZV07XG4gICAgICAgIHVuaWZvcm1EaW1lbnNpb25zLnggPSB0ZXh0dXJlLl93aWR0aDtcbiAgICAgICAgdW5pZm9ybURpbWVuc2lvbnMueSA9IHRleHR1cmUuX2hlaWdodDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodW5pZm9ybVZhbHVlSXNEZWZhdWx0SW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHVzaW5nIHRoZSBlbnRpdHkgbGF5ZXIsIHRoZSBSZXNvdXJjZSBvYmplY3RzIGdldCByZWNyZWF0ZWQgb24gZ2V0VmFsdWUgYmVjYXVzZVxuICAgIC8vICB0aGV5IGFyZSBjbG9uYWJsZS4gVGhhdCdzIHdoeSB3ZSBjaGVjayB0aGUgdXJsIHByb3BlcnR5IGZvciBSZXNvdXJjZXNcbiAgICAvLyAgYmVjYXVzZSB0aGUgaW5zdGFuY2VzIGFyZW4ndCB0aGUgc2FtZSBhbmQgd2Uga2VlcCB0cnlpbmcgdG8gbG9hZCB0aGUgc2FtZVxuICAgIC8vICBpbWFnZSBpZiBpdCBmYWlscyB0byBsb2FkLlxuICAgIHZhciBpc1Jlc291cmNlID0gdW5pZm9ybVZhbHVlIGluc3RhbmNlb2YgUmVzb3VyY2U7XG4gICAgaWYgKFxuICAgICAgIWRlZmluZWQobWF0ZXJpYWwuX3RleHR1cmVQYXRoc1t1bmlmb3JtSWRdKSB8fFxuICAgICAgKGlzUmVzb3VyY2UgJiZcbiAgICAgICAgdW5pZm9ybVZhbHVlLnVybCAhPT0gbWF0ZXJpYWwuX3RleHR1cmVQYXRoc1t1bmlmb3JtSWRdLnVybCkgfHxcbiAgICAgICghaXNSZXNvdXJjZSAmJiB1bmlmb3JtVmFsdWUgIT09IG1hdGVyaWFsLl90ZXh0dXJlUGF0aHNbdW5pZm9ybUlkXSlcbiAgICApIHtcbiAgICAgIGlmICh0eXBlb2YgdW5pZm9ybVZhbHVlID09PSBcInN0cmluZ1wiIHx8IGlzUmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIHJlc291cmNlID0gaXNSZXNvdXJjZVxuICAgICAgICAgID8gdW5pZm9ybVZhbHVlXG4gICAgICAgICAgOiBSZXNvdXJjZS5jcmVhdGVJZk5lZWRlZCh1bmlmb3JtVmFsdWUpO1xuXG4gICAgICAgIHZhciBwcm9taXNlO1xuICAgICAgICBpZiAoa3R4MlJlZ2V4LnRlc3QocmVzb3VyY2UudXJsKSkge1xuICAgICAgICAgIHByb21pc2UgPSBsb2FkS1RYMihyZXNvdXJjZS51cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21pc2UgPSByZXNvdXJjZS5mZXRjaEltYWdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgICBtYXRlcmlhbC5fbG9hZGVkSW1hZ2VzLnB1c2goe1xuICAgICAgICAgICAgICBpZDogdW5pZm9ybUlkLFxuICAgICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5vdGhlcndpc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGRlZmluZWQodGV4dHVyZSkgJiYgdGV4dHVyZSAhPT0gbWF0ZXJpYWwuX2RlZmF1bHRUZXh0dXJlKSB7XG4gICAgICAgICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0ZXJpYWwuX3RleHR1cmVzW3VuaWZvcm1JZF0gPSBtYXRlcmlhbC5fZGVmYXVsdFRleHR1cmU7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB1bmlmb3JtVmFsdWUgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCB8fFxuICAgICAgICB1bmlmb3JtVmFsdWUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICApIHtcbiAgICAgICAgbWF0ZXJpYWwuX2xvYWRlZEltYWdlcy5wdXNoKHtcbiAgICAgICAgICBpZDogdW5pZm9ybUlkLFxuICAgICAgICAgIGltYWdlOiB1bmlmb3JtVmFsdWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBtYXRlcmlhbC5fdGV4dHVyZVBhdGhzW3VuaWZvcm1JZF0gPSB1bmlmb3JtVmFsdWU7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDdWJlTWFwVXBkYXRlRnVuY3Rpb24odW5pZm9ybUlkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobWF0ZXJpYWwsIGNvbnRleHQpIHtcbiAgICB2YXIgdW5pZm9ybVZhbHVlID0gbWF0ZXJpYWwudW5pZm9ybXNbdW5pZm9ybUlkXTtcblxuICAgIGlmICh1bmlmb3JtVmFsdWUgaW5zdGFuY2VvZiBDdWJlTWFwKSB7XG4gICAgICB2YXIgdG1wID0gbWF0ZXJpYWwuX3RleHR1cmVzW3VuaWZvcm1JZF07XG4gICAgICBpZiAodG1wICE9PSBtYXRlcmlhbC5fZGVmYXVsdFRleHR1cmUpIHtcbiAgICAgICAgdG1wLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlUGF0aHNbdW5pZm9ybUlkXSA9IHVuZGVmaW5lZDtcbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlc1t1bmlmb3JtSWRdID0gdW5pZm9ybVZhbHVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVmaW5lZChtYXRlcmlhbC5fdGV4dHVyZXNbdW5pZm9ybUlkXSkpIHtcbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlUGF0aHNbdW5pZm9ybUlkXSA9IHVuZGVmaW5lZDtcbiAgICAgIG1hdGVyaWFsLl90ZXh0dXJlc1t1bmlmb3JtSWRdID0gY29udGV4dC5kZWZhdWx0Q3ViZU1hcDtcbiAgICB9XG5cbiAgICBpZiAodW5pZm9ybVZhbHVlID09PSBNYXRlcmlhbC5EZWZhdWx0Q3ViZU1hcElkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPVxuICAgICAgdW5pZm9ybVZhbHVlLnBvc2l0aXZlWCArXG4gICAgICB1bmlmb3JtVmFsdWUubmVnYXRpdmVYICtcbiAgICAgIHVuaWZvcm1WYWx1ZS5wb3NpdGl2ZVkgK1xuICAgICAgdW5pZm9ybVZhbHVlLm5lZ2F0aXZlWSArXG4gICAgICB1bmlmb3JtVmFsdWUucG9zaXRpdmVaICtcbiAgICAgIHVuaWZvcm1WYWx1ZS5uZWdhdGl2ZVo7XG5cbiAgICBpZiAocGF0aCAhPT0gbWF0ZXJpYWwuX3RleHR1cmVQYXRoc1t1bmlmb3JtSWRdKSB7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbXG4gICAgICAgIFJlc291cmNlLmNyZWF0ZUlmTmVlZGVkKHVuaWZvcm1WYWx1ZS5wb3NpdGl2ZVgpLmZldGNoSW1hZ2UoKSxcbiAgICAgICAgUmVzb3VyY2UuY3JlYXRlSWZOZWVkZWQodW5pZm9ybVZhbHVlLm5lZ2F0aXZlWCkuZmV0Y2hJbWFnZSgpLFxuICAgICAgICBSZXNvdXJjZS5jcmVhdGVJZk5lZWRlZCh1bmlmb3JtVmFsdWUucG9zaXRpdmVZKS5mZXRjaEltYWdlKCksXG4gICAgICAgIFJlc291cmNlLmNyZWF0ZUlmTmVlZGVkKHVuaWZvcm1WYWx1ZS5uZWdhdGl2ZVkpLmZldGNoSW1hZ2UoKSxcbiAgICAgICAgUmVzb3VyY2UuY3JlYXRlSWZOZWVkZWQodW5pZm9ybVZhbHVlLnBvc2l0aXZlWikuZmV0Y2hJbWFnZSgpLFxuICAgICAgICBSZXNvdXJjZS5jcmVhdGVJZk5lZWRlZCh1bmlmb3JtVmFsdWUubmVnYXRpdmVaKS5mZXRjaEltYWdlKCksXG4gICAgICBdO1xuXG4gICAgICB3aGVuLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICAgIG1hdGVyaWFsLl9sb2FkZWRDdWJlTWFwcy5wdXNoKHtcbiAgICAgICAgICBpZDogdW5pZm9ybUlkLFxuICAgICAgICAgIGltYWdlczogaW1hZ2VzLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBtYXRlcmlhbC5fdGV4dHVyZVBhdGhzW3VuaWZvcm1JZF0gPSBwYXRoO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVW5pZm9ybXMobWF0ZXJpYWwpIHtcbiAgdmFyIHVuaWZvcm1zID0gbWF0ZXJpYWwuX3RlbXBsYXRlLnVuaWZvcm1zO1xuICBmb3IgKHZhciB1bmlmb3JtSWQgaW4gdW5pZm9ybXMpIHtcbiAgICBpZiAodW5pZm9ybXMuaGFzT3duUHJvcGVydHkodW5pZm9ybUlkKSkge1xuICAgICAgY3JlYXRlVW5pZm9ybShtYXRlcmlhbCwgdW5pZm9ybUlkKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gV3JpdGVzIHVuaWZvcm0gZGVjbGFyYXRpb25zIHRvIHRoZSBzaGFkZXIgZmlsZSBhbmQgY29ubmVjdHMgdW5pZm9ybSB2YWx1ZXMgd2l0aFxuLy8gY29ycmVzcG9uZGluZyBtYXRlcmlhbCBwcm9wZXJ0aWVzIHRocm91Z2ggdGhlIHJldHVyblVuaWZvcm1zIGZ1bmN0aW9uLlxuZnVuY3Rpb24gY3JlYXRlVW5pZm9ybShtYXRlcmlhbCwgdW5pZm9ybUlkKSB7XG4gIHZhciBzdHJpY3QgPSBtYXRlcmlhbC5fc3RyaWN0O1xuICB2YXIgbWF0ZXJpYWxVbmlmb3JtcyA9IG1hdGVyaWFsLl90ZW1wbGF0ZS51bmlmb3JtcztcbiAgdmFyIHVuaWZvcm1WYWx1ZSA9IG1hdGVyaWFsVW5pZm9ybXNbdW5pZm9ybUlkXTtcbiAgdmFyIHVuaWZvcm1UeXBlID0gZ2V0VW5pZm9ybVR5cGUodW5pZm9ybVZhbHVlKTtcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQodW5pZm9ybVR5cGUpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFxuICAgICAgXCJmYWJyaWM6IHVuaWZvcm0gJ1wiICsgdW5pZm9ybUlkICsgXCInIGhhcyBpbnZhbGlkIHR5cGUuXCJcbiAgICApO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciByZXBsYWNlZFRva2VuQ291bnQ7XG4gIGlmICh1bmlmb3JtVHlwZSA9PT0gXCJjaGFubmVsc1wiKSB7XG4gICAgcmVwbGFjZWRUb2tlbkNvdW50ID0gcmVwbGFjZVRva2VuKG1hdGVyaWFsLCB1bmlmb3JtSWQsIHVuaWZvcm1WYWx1ZSwgZmFsc2UpO1xuICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgaWYgKHJlcGxhY2VkVG9rZW5Db3VudCA9PT0gMCAmJiBzdHJpY3QpIHtcbiAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgICAgXCJzdHJpY3Q6IHNoYWRlciBzb3VyY2UgZG9lcyBub3QgdXNlIGNoYW5uZWxzICdcIiArIHVuaWZvcm1JZCArIFwiJy5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2luY2Ugd2ViZ2wgZG9lc24ndCBhbGxvdyB0ZXh0dXJlIGRpbWVuc2lvbiBxdWVyaWVzIGluIGdsc2wsIGNyZWF0ZSBhIHVuaWZvcm0gdG8gZG8gaXQuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHNoYWRlciBzb3VyY2UgYWN0dWFsbHkgdXNlcyB0ZXh0dXJlIGRpbWVuc2lvbnMgYmVmb3JlIGNyZWF0aW5nIHRoZSB1bmlmb3JtLlxuICAgIGlmICh1bmlmb3JtVHlwZSA9PT0gXCJzYW1wbGVyMkRcIikge1xuICAgICAgdmFyIGltYWdlRGltZW5zaW9uc1VuaWZvcm1OYW1lID0gdW5pZm9ybUlkICsgXCJEaW1lbnNpb25zXCI7XG4gICAgICBpZiAoZ2V0TnVtYmVyT2ZUb2tlbnMobWF0ZXJpYWwsIGltYWdlRGltZW5zaW9uc1VuaWZvcm1OYW1lKSA+IDApIHtcbiAgICAgICAgbWF0ZXJpYWxVbmlmb3Jtc1tpbWFnZURpbWVuc2lvbnNVbmlmb3JtTmFtZV0gPSB7XG4gICAgICAgICAgdHlwZTogXCJpdmVjM1wiLFxuICAgICAgICAgIHg6IDEsXG4gICAgICAgICAgeTogMSxcbiAgICAgICAgfTtcbiAgICAgICAgY3JlYXRlVW5pZm9ybShtYXRlcmlhbCwgaW1hZ2VEaW1lbnNpb25zVW5pZm9ybU5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCB1bmlmb3JtIGRlY2xhcmF0aW9uIHRvIHNvdXJjZSBjb2RlLlxuICAgIHZhciB1bmlmb3JtRGVjbGFyYXRpb25SZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICBcInVuaWZvcm1cXFxccytcIiArIHVuaWZvcm1UeXBlICsgXCJcXFxccytcIiArIHVuaWZvcm1JZCArIFwiXFxcXHMqO1wiXG4gICAgKTtcbiAgICBpZiAoIXVuaWZvcm1EZWNsYXJhdGlvblJlZ2V4LnRlc3QobWF0ZXJpYWwuc2hhZGVyU291cmNlKSkge1xuICAgICAgdmFyIHVuaWZvcm1EZWNsYXJhdGlvbiA9IFwidW5pZm9ybSBcIiArIHVuaWZvcm1UeXBlICsgXCIgXCIgKyB1bmlmb3JtSWQgKyBcIjtcIjtcbiAgICAgIG1hdGVyaWFsLnNoYWRlclNvdXJjZSA9IHVuaWZvcm1EZWNsYXJhdGlvbiArIG1hdGVyaWFsLnNoYWRlclNvdXJjZTtcbiAgICB9XG5cbiAgICB2YXIgbmV3VW5pZm9ybUlkID0gdW5pZm9ybUlkICsgXCJfXCIgKyBtYXRlcmlhbC5fY291bnQrKztcbiAgICByZXBsYWNlZFRva2VuQ291bnQgPSByZXBsYWNlVG9rZW4obWF0ZXJpYWwsIHVuaWZvcm1JZCwgbmV3VW5pZm9ybUlkKTtcbiAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICAgIGlmIChyZXBsYWNlZFRva2VuQ291bnQgPT09IDEgJiYgc3RyaWN0KSB7XG4gICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgIFwic3RyaWN0OiBzaGFkZXIgc291cmNlIGRvZXMgbm90IHVzZSB1bmlmb3JtICdcIiArIHVuaWZvcm1JZCArIFwiJy5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAvLyBTZXQgdW5pZm9ybSB2YWx1ZVxuICAgIG1hdGVyaWFsLnVuaWZvcm1zW3VuaWZvcm1JZF0gPSB1bmlmb3JtVmFsdWU7XG5cbiAgICBpZiAodW5pZm9ybVR5cGUgPT09IFwic2FtcGxlcjJEXCIpIHtcbiAgICAgIG1hdGVyaWFsLl91bmlmb3Jtc1tuZXdVbmlmb3JtSWRdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbWF0ZXJpYWwuX3RleHR1cmVzW3VuaWZvcm1JZF07XG4gICAgICB9O1xuICAgICAgbWF0ZXJpYWwuX3VwZGF0ZUZ1bmN0aW9ucy5wdXNoKGNyZWF0ZVRleHR1cmUyRFVwZGF0ZUZ1bmN0aW9uKHVuaWZvcm1JZCkpO1xuICAgIH0gZWxzZSBpZiAodW5pZm9ybVR5cGUgPT09IFwic2FtcGxlckN1YmVcIikge1xuICAgICAgbWF0ZXJpYWwuX3VuaWZvcm1zW25ld1VuaWZvcm1JZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBtYXRlcmlhbC5fdGV4dHVyZXNbdW5pZm9ybUlkXTtcbiAgICAgIH07XG4gICAgICBtYXRlcmlhbC5fdXBkYXRlRnVuY3Rpb25zLnB1c2goY3JlYXRlQ3ViZU1hcFVwZGF0ZUZ1bmN0aW9uKHVuaWZvcm1JZCkpO1xuICAgIH0gZWxzZSBpZiAodW5pZm9ybVR5cGUuaW5kZXhPZihcIm1hdFwiKSAhPT0gLTEpIHtcbiAgICAgIHZhciBzY3JhdGNoTWF0cml4ID0gbmV3IG1hdHJpeE1hcFt1bmlmb3JtVHlwZV0oKTtcbiAgICAgIG1hdGVyaWFsLl91bmlmb3Jtc1tuZXdVbmlmb3JtSWRdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbWF0cml4TWFwW3VuaWZvcm1UeXBlXS5mcm9tQ29sdW1uTWFqb3JBcnJheShcbiAgICAgICAgICBtYXRlcmlhbC51bmlmb3Jtc1t1bmlmb3JtSWRdLFxuICAgICAgICAgIHNjcmF0Y2hNYXRyaXhcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGVyaWFsLl91bmlmb3Jtc1tuZXdVbmlmb3JtSWRdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbWF0ZXJpYWwudW5pZm9ybXNbdW5pZm9ybUlkXTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8vIERldGVybWluZXMgdGhlIHVuaWZvcm0gdHlwZSBiYXNlZCBvbiB0aGUgdW5pZm9ybSBpbiB0aGUgdGVtcGxhdGUuXG5mdW5jdGlvbiBnZXRVbmlmb3JtVHlwZSh1bmlmb3JtVmFsdWUpIHtcbiAgdmFyIHVuaWZvcm1UeXBlID0gdW5pZm9ybVZhbHVlLnR5cGU7XG4gIGlmICghZGVmaW5lZCh1bmlmb3JtVHlwZSkpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB1bmlmb3JtVmFsdWU7XG4gICAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHVuaWZvcm1UeXBlID0gXCJmbG9hdFwiO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHVuaWZvcm1UeXBlID0gXCJib29sXCI7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHR5cGUgPT09IFwic3RyaW5nXCIgfHxcbiAgICAgIHVuaWZvcm1WYWx1ZSBpbnN0YW5jZW9mIFJlc291cmNlIHx8XG4gICAgICB1bmlmb3JtVmFsdWUgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCB8fFxuICAgICAgdW5pZm9ybVZhbHVlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudFxuICAgICkge1xuICAgICAgaWYgKC9eKFtyZ2JhXSl7MSw0fSQvaS50ZXN0KHVuaWZvcm1WYWx1ZSkpIHtcbiAgICAgICAgdW5pZm9ybVR5cGUgPSBcImNoYW5uZWxzXCI7XG4gICAgICB9IGVsc2UgaWYgKHVuaWZvcm1WYWx1ZSA9PT0gTWF0ZXJpYWwuRGVmYXVsdEN1YmVNYXBJZCkge1xuICAgICAgICB1bmlmb3JtVHlwZSA9IFwic2FtcGxlckN1YmVcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVuaWZvcm1UeXBlID0gXCJzYW1wbGVyMkRcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHVuaWZvcm1WYWx1ZSkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHVuaWZvcm1WYWx1ZS5sZW5ndGggPT09IDQgfHxcbiAgICAgICAgICB1bmlmb3JtVmFsdWUubGVuZ3RoID09PSA5IHx8XG4gICAgICAgICAgdW5pZm9ybVZhbHVlLmxlbmd0aCA9PT0gMTZcbiAgICAgICAgKSB7XG4gICAgICAgICAgdW5pZm9ybVR5cGUgPSBcIm1hdFwiICsgTWF0aC5zcXJ0KHVuaWZvcm1WYWx1ZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbnVtQXR0cmlidXRlcyA9IDA7XG4gICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZSBpbiB1bmlmb3JtVmFsdWUpIHtcbiAgICAgICAgICBpZiAodW5pZm9ybVZhbHVlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgIG51bUF0dHJpYnV0ZXMgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bUF0dHJpYnV0ZXMgPj0gMiAmJiBudW1BdHRyaWJ1dGVzIDw9IDQpIHtcbiAgICAgICAgICB1bmlmb3JtVHlwZSA9IFwidmVjXCIgKyBudW1BdHRyaWJ1dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKG51bUF0dHJpYnV0ZXMgPT09IDYpIHtcbiAgICAgICAgICB1bmlmb3JtVHlwZSA9IFwic2FtcGxlckN1YmVcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdW5pZm9ybVR5cGU7XG59XG5cbi8vIENyZWF0ZSBhbGwgc3ViLW1hdGVyaWFscyBieSBjb21iaW5pbmcgc291cmNlIGFuZCB1bmlmb3JtcyB0b2dldGhlci5cbmZ1bmN0aW9uIGNyZWF0ZVN1Yk1hdGVyaWFscyhtYXRlcmlhbCkge1xuICB2YXIgc3RyaWN0ID0gbWF0ZXJpYWwuX3N0cmljdDtcbiAgdmFyIHN1Yk1hdGVyaWFsVGVtcGxhdGVzID0gbWF0ZXJpYWwuX3RlbXBsYXRlLm1hdGVyaWFscztcbiAgZm9yICh2YXIgc3ViTWF0ZXJpYWxJZCBpbiBzdWJNYXRlcmlhbFRlbXBsYXRlcykge1xuICAgIGlmIChzdWJNYXRlcmlhbFRlbXBsYXRlcy5oYXNPd25Qcm9wZXJ0eShzdWJNYXRlcmlhbElkKSkge1xuICAgICAgLy8gQ29uc3RydWN0IHRoZSBzdWItbWF0ZXJpYWwuXG4gICAgICB2YXIgc3ViTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoe1xuICAgICAgICBzdHJpY3Q6IHN0cmljdCxcbiAgICAgICAgZmFicmljOiBzdWJNYXRlcmlhbFRlbXBsYXRlc1tzdWJNYXRlcmlhbElkXSxcbiAgICAgICAgY291bnQ6IG1hdGVyaWFsLl9jb3VudCxcbiAgICAgIH0pO1xuXG4gICAgICBtYXRlcmlhbC5fY291bnQgPSBzdWJNYXRlcmlhbC5fY291bnQ7XG4gICAgICBtYXRlcmlhbC5fdW5pZm9ybXMgPSBjb21iaW5lKFxuICAgICAgICBtYXRlcmlhbC5fdW5pZm9ybXMsXG4gICAgICAgIHN1Yk1hdGVyaWFsLl91bmlmb3JtcyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIG1hdGVyaWFsLm1hdGVyaWFsc1tzdWJNYXRlcmlhbElkXSA9IHN1Yk1hdGVyaWFsO1xuICAgICAgbWF0ZXJpYWwuX3RyYW5zbHVjZW50RnVuY3Rpb25zID0gbWF0ZXJpYWwuX3RyYW5zbHVjZW50RnVuY3Rpb25zLmNvbmNhdChcbiAgICAgICAgc3ViTWF0ZXJpYWwuX3RyYW5zbHVjZW50RnVuY3Rpb25zXG4gICAgICApO1xuXG4gICAgICAvLyBNYWtlIHRoZSBtYXRlcmlhbCdzIGN6bV9nZXRNYXRlcmlhbCB1bmlxdWUgYnkgYXBwZW5kaW5nIHRoZSBzdWItbWF0ZXJpYWwgdHlwZS5cbiAgICAgIHZhciBvcmlnaW5hbE1ldGhvZE5hbWUgPSBcImN6bV9nZXRNYXRlcmlhbFwiO1xuICAgICAgdmFyIG5ld01ldGhvZE5hbWUgPSBvcmlnaW5hbE1ldGhvZE5hbWUgKyBcIl9cIiArIG1hdGVyaWFsLl9jb3VudCsrO1xuICAgICAgcmVwbGFjZVRva2VuKHN1Yk1hdGVyaWFsLCBvcmlnaW5hbE1ldGhvZE5hbWUsIG5ld01ldGhvZE5hbWUpO1xuICAgICAgbWF0ZXJpYWwuc2hhZGVyU291cmNlID0gc3ViTWF0ZXJpYWwuc2hhZGVyU291cmNlICsgbWF0ZXJpYWwuc2hhZGVyU291cmNlO1xuXG4gICAgICAvLyBSZXBsYWNlIGVhY2ggbWF0ZXJpYWwgaWQgd2l0aCBhbiBjem1fZ2V0TWF0ZXJpYWwgbWV0aG9kIGNhbGwuXG4gICAgICB2YXIgbWF0ZXJpYWxNZXRob2RDYWxsID0gbmV3TWV0aG9kTmFtZSArIFwiKG1hdGVyaWFsSW5wdXQpXCI7XG4gICAgICB2YXIgdG9rZW5zUmVwbGFjZWRDb3VudCA9IHJlcGxhY2VUb2tlbihcbiAgICAgICAgbWF0ZXJpYWwsXG4gICAgICAgIHN1Yk1hdGVyaWFsSWQsXG4gICAgICAgIG1hdGVyaWFsTWV0aG9kQ2FsbFxuICAgICAgKTtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBpZiAodG9rZW5zUmVwbGFjZWRDb3VudCA9PT0gMCAmJiBzdHJpY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFxuICAgICAgICAgIFwic3RyaWN0OiBzaGFkZXIgc291cmNlIGRvZXMgbm90IHVzZSBtYXRlcmlhbCAnXCIgKyBzdWJNYXRlcmlhbElkICsgXCInLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVXNlZCBmb3Igc2VhcmNoaW5nIG9yIHJlcGxhY2luZyBhIHRva2VuIGluIGEgbWF0ZXJpYWwncyBzaGFkZXIgc291cmNlIHdpdGggc29tZXRoaW5nIGVsc2UuXG4vLyBJZiBleGNsdWRlUGVyaW9kIGlzIHRydWUsIGRvIG5vdCBhY2NlcHQgdG9rZW5zIHRoYXQgYXJlIHByZWNlZGVkIGJ5IHBlcmlvZHMuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY0MTQwNy9qYXZhc2NyaXB0LW5lZ2F0aXZlLWxvb2tiZWhpbmQtZXF1aXZhbGVudFxuZnVuY3Rpb24gcmVwbGFjZVRva2VuKG1hdGVyaWFsLCB0b2tlbiwgbmV3VG9rZW4sIGV4Y2x1ZGVQZXJpb2QpIHtcbiAgZXhjbHVkZVBlcmlvZCA9IGRlZmF1bHRWYWx1ZShleGNsdWRlUGVyaW9kLCB0cnVlKTtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIHN1ZmZpeENoYXJzID0gXCIoW1xcXFx3XSk/XCI7XG4gIHZhciBwcmVmaXhDaGFycyA9IFwiKFtcXFxcd1wiICsgKGV4Y2x1ZGVQZXJpb2QgPyBcIi5cIiA6IFwiXCIpICsgXCJdKT9cIjtcbiAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAocHJlZml4Q2hhcnMgKyB0b2tlbiArIHN1ZmZpeENoYXJzLCBcImdcIik7XG4gIG1hdGVyaWFsLnNoYWRlclNvdXJjZSA9IG1hdGVyaWFsLnNoYWRlclNvdXJjZS5yZXBsYWNlKHJlZ0V4cCwgZnVuY3Rpb24gKFxuICAgICQwLFxuICAgICQxLFxuICAgICQyXG4gICkge1xuICAgIGlmICgkMSB8fCAkMikge1xuICAgICAgcmV0dXJuICQwO1xuICAgIH1cbiAgICBjb3VudCArPSAxO1xuICAgIHJldHVybiBuZXdUb2tlbjtcbiAgfSk7XG4gIHJldHVybiBjb3VudDtcbn1cblxuZnVuY3Rpb24gZ2V0TnVtYmVyT2ZUb2tlbnMobWF0ZXJpYWwsIHRva2VuLCBleGNsdWRlUGVyaW9kKSB7XG4gIHJldHVybiByZXBsYWNlVG9rZW4obWF0ZXJpYWwsIHRva2VuLCB0b2tlbiwgZXhjbHVkZVBlcmlvZCk7XG59XG5cbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlID0ge1xuICBfbWF0ZXJpYWxzOiB7fSxcbiAgYWRkTWF0ZXJpYWw6IGZ1bmN0aW9uICh0eXBlLCBtYXRlcmlhbFRlbXBsYXRlKSB7XG4gICAgdGhpcy5fbWF0ZXJpYWxzW3R5cGVdID0gbWF0ZXJpYWxUZW1wbGF0ZTtcbiAgfSxcbiAgZ2V0TWF0ZXJpYWw6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hdGVyaWFsc1t0eXBlXTtcbiAgfSxcbn07XG5cbi8qKlxuICogR2V0cyBvciBzZXRzIHRoZSBkZWZhdWx0IHRleHR1cmUgdW5pZm9ybSB2YWx1ZS5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKi9cbk1hdGVyaWFsLkRlZmF1bHRJbWFnZUlkID0gXCJjem1fZGVmYXVsdEltYWdlXCI7XG5cbi8qKlxuICogR2V0cyBvciBzZXRzIHRoZSBkZWZhdWx0IGN1YmUgbWFwIHRleHR1cmUgdW5pZm9ybSB2YWx1ZS5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKi9cbk1hdGVyaWFsLkRlZmF1bHRDdWJlTWFwSWQgPSBcImN6bV9kZWZhdWx0Q3ViZU1hcFwiO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGNvbG9yIG1hdGVyaWFsLlxuICogQHR5cGUge1N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5NYXRlcmlhbC5Db2xvclR5cGUgPSBcIkNvbG9yXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5Db2xvclR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuQ29sb3JUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBjb2xvcjogbmV3IENvbG9yKDEuMCwgMC4wLCAwLjAsIDAuNSksXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBkaWZmdXNlOiBcImNvbG9yLnJnYlwiLFxuICAgICAgYWxwaGE6IFwiY29sb3IuYVwiLFxuICAgIH0sXG4gIH0sXG4gIHRyYW5zbHVjZW50OiBmdW5jdGlvbiAobWF0ZXJpYWwpIHtcbiAgICByZXR1cm4gbWF0ZXJpYWwudW5pZm9ybXMuY29sb3IuYWxwaGEgPCAxLjA7XG4gIH0sXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBpbWFnZSBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuSW1hZ2VUeXBlID0gXCJJbWFnZVwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuSW1hZ2VUeXBlLCB7XG4gIGZhYnJpYzoge1xuICAgIHR5cGU6IE1hdGVyaWFsLkltYWdlVHlwZSxcbiAgICB1bmlmb3Jtczoge1xuICAgICAgaW1hZ2U6IE1hdGVyaWFsLkRlZmF1bHRJbWFnZUlkLFxuICAgICAgcmVwZWF0OiBuZXcgQ2FydGVzaWFuMigxLjAsIDEuMCksXG4gICAgICBjb2xvcjogbmV3IENvbG9yKDEuMCwgMS4wLCAxLjAsIDEuMCksXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBkaWZmdXNlOlxuICAgICAgICBcInRleHR1cmUyRChpbWFnZSwgZnJhY3QocmVwZWF0ICogbWF0ZXJpYWxJbnB1dC5zdCkpLnJnYiAqIGNvbG9yLnJnYlwiLFxuICAgICAgYWxwaGE6IFwidGV4dHVyZTJEKGltYWdlLCBmcmFjdChyZXBlYXQgKiBtYXRlcmlhbElucHV0LnN0KSkuYSAqIGNvbG9yLmFcIixcbiAgICB9LFxuICB9LFxuICB0cmFuc2x1Y2VudDogZnVuY3Rpb24gKG1hdGVyaWFsKSB7XG4gICAgcmV0dXJuIG1hdGVyaWFsLnVuaWZvcm1zLmNvbG9yLmFscGhhIDwgMS4wO1xuICB9LFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgZGlmZnVjZSBtYXAgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLkRpZmZ1c2VNYXBUeXBlID0gXCJEaWZmdXNlTWFwXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5EaWZmdXNlTWFwVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5EaWZmdXNlTWFwVHlwZSxcbiAgICB1bmlmb3Jtczoge1xuICAgICAgaW1hZ2U6IE1hdGVyaWFsLkRlZmF1bHRJbWFnZUlkLFxuICAgICAgY2hhbm5lbHM6IFwicmdiXCIsXG4gICAgICByZXBlYXQ6IG5ldyBDYXJ0ZXNpYW4yKDEuMCwgMS4wKSxcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgIGRpZmZ1c2U6IFwidGV4dHVyZTJEKGltYWdlLCBmcmFjdChyZXBlYXQgKiBtYXRlcmlhbElucHV0LnN0KSkuY2hhbm5lbHNcIixcbiAgICB9LFxuICB9LFxuICB0cmFuc2x1Y2VudDogZmFsc2UsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBhbHBoYSBtYXAgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLkFscGhhTWFwVHlwZSA9IFwiQWxwaGFNYXBcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLkFscGhhTWFwVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5BbHBoYU1hcFR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGltYWdlOiBNYXRlcmlhbC5EZWZhdWx0SW1hZ2VJZCxcbiAgICAgIGNoYW5uZWw6IFwiYVwiLFxuICAgICAgcmVwZWF0OiBuZXcgQ2FydGVzaWFuMigxLjAsIDEuMCksXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBhbHBoYTogXCJ0ZXh0dXJlMkQoaW1hZ2UsIGZyYWN0KHJlcGVhdCAqIG1hdGVyaWFsSW5wdXQuc3QpKS5jaGFubmVsXCIsXG4gICAgfSxcbiAgfSxcbiAgdHJhbnNsdWNlbnQ6IHRydWUsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBzcGVjdWxhciBtYXAgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlNwZWN1bGFyTWFwVHlwZSA9IFwiU3BlY3VsYXJNYXBcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLlNwZWN1bGFyTWFwVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5TcGVjdWxhck1hcFR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGltYWdlOiBNYXRlcmlhbC5EZWZhdWx0SW1hZ2VJZCxcbiAgICAgIGNoYW5uZWw6IFwiclwiLFxuICAgICAgcmVwZWF0OiBuZXcgQ2FydGVzaWFuMigxLjAsIDEuMCksXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBzcGVjdWxhcjogXCJ0ZXh0dXJlMkQoaW1hZ2UsIGZyYWN0KHJlcGVhdCAqIG1hdGVyaWFsSW5wdXQuc3QpKS5jaGFubmVsXCIsXG4gICAgfSxcbiAgfSxcbiAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgZW1taXNpb24gbWFwIG1hdGVyaWFsLlxuICogQHR5cGUge1N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5NYXRlcmlhbC5FbWlzc2lvbk1hcFR5cGUgPSBcIkVtaXNzaW9uTWFwXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5FbWlzc2lvbk1hcFR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuRW1pc3Npb25NYXBUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBpbWFnZTogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgICBjaGFubmVsczogXCJyZ2JcIixcbiAgICAgIHJlcGVhdDogbmV3IENhcnRlc2lhbjIoMS4wLCAxLjApLFxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgZW1pc3Npb246IFwidGV4dHVyZTJEKGltYWdlLCBmcmFjdChyZXBlYXQgKiBtYXRlcmlhbElucHV0LnN0KSkuY2hhbm5lbHNcIixcbiAgICB9LFxuICB9LFxuICB0cmFuc2x1Y2VudDogZmFsc2UsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBidW1wIG1hcCBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuQnVtcE1hcFR5cGUgPSBcIkJ1bXBNYXBcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLkJ1bXBNYXBUeXBlLCB7XG4gIGZhYnJpYzoge1xuICAgIHR5cGU6IE1hdGVyaWFsLkJ1bXBNYXBUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBpbWFnZTogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgICBjaGFubmVsOiBcInJcIixcbiAgICAgIHN0cmVuZ3RoOiAwLjgsXG4gICAgICByZXBlYXQ6IG5ldyBDYXJ0ZXNpYW4yKDEuMCwgMS4wKSxcbiAgICB9LFxuICAgIHNvdXJjZTogQnVtcE1hcE1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZmFsc2UsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBub3JtYWwgbWFwIG1hdGVyaWFsLlxuICogQHR5cGUge1N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5NYXRlcmlhbC5Ob3JtYWxNYXBUeXBlID0gXCJOb3JtYWxNYXBcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLk5vcm1hbE1hcFR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuTm9ybWFsTWFwVHlwZSxcbiAgICB1bmlmb3Jtczoge1xuICAgICAgaW1hZ2U6IE1hdGVyaWFsLkRlZmF1bHRJbWFnZUlkLFxuICAgICAgY2hhbm5lbHM6IFwicmdiXCIsXG4gICAgICBzdHJlbmd0aDogMC44LFxuICAgICAgcmVwZWF0OiBuZXcgQ2FydGVzaWFuMigxLjAsIDEuMCksXG4gICAgfSxcbiAgICBzb3VyY2U6IE5vcm1hbE1hcE1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZmFsc2UsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBncmlkIG1hdGVyaWFsLlxuICogQHR5cGUge1N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5NYXRlcmlhbC5HcmlkVHlwZSA9IFwiR3JpZFwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuR3JpZFR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuR3JpZFR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGNvbG9yOiBuZXcgQ29sb3IoMC4wLCAxLjAsIDAuMCwgMS4wKSxcbiAgICAgIGNlbGxBbHBoYTogMC4xLFxuICAgICAgbGluZUNvdW50OiBuZXcgQ2FydGVzaWFuMig4LjAsIDguMCksXG4gICAgICBsaW5lVGhpY2tuZXNzOiBuZXcgQ2FydGVzaWFuMigxLjAsIDEuMCksXG4gICAgICBsaW5lT2Zmc2V0OiBuZXcgQ2FydGVzaWFuMigwLjAsIDAuMCksXG4gICAgfSxcbiAgICBzb3VyY2U6IEdyaWRNYXRlcmlhbCxcbiAgfSxcbiAgdHJhbnNsdWNlbnQ6IGZ1bmN0aW9uIChtYXRlcmlhbCkge1xuICAgIHZhciB1bmlmb3JtcyA9IG1hdGVyaWFsLnVuaWZvcm1zO1xuICAgIHJldHVybiB1bmlmb3Jtcy5jb2xvci5hbHBoYSA8IDEuMCB8fCB1bmlmb3Jtcy5jZWxsQWxwaGEgPCAxLjA7XG4gIH0sXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBzdHJpcGUgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlN0cmlwZVR5cGUgPSBcIlN0cmlwZVwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuU3RyaXBlVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5TdHJpcGVUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBob3Jpem9udGFsOiB0cnVlLFxuICAgICAgZXZlbkNvbG9yOiBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCwgMC41KSxcbiAgICAgIG9kZENvbG9yOiBuZXcgQ29sb3IoMC4wLCAwLjAsIDEuMCwgMC41KSxcbiAgICAgIG9mZnNldDogMC4wLFxuICAgICAgcmVwZWF0OiA1LjAsXG4gICAgfSxcbiAgICBzb3VyY2U6IFN0cmlwZU1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZnVuY3Rpb24gKG1hdGVyaWFsKSB7XG4gICAgdmFyIHVuaWZvcm1zID0gbWF0ZXJpYWwudW5pZm9ybXM7XG4gICAgcmV0dXJuIHVuaWZvcm1zLmV2ZW5Db2xvci5hbHBoYSA8IDEuMCB8fCB1bmlmb3Jtcy5vZGRDb2xvci5hbHBoYSA8IDEuMDtcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGNoZWNrZXJib2FyZCBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuQ2hlY2tlcmJvYXJkVHlwZSA9IFwiQ2hlY2tlcmJvYXJkXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5DaGVja2VyYm9hcmRUeXBlLCB7XG4gIGZhYnJpYzoge1xuICAgIHR5cGU6IE1hdGVyaWFsLkNoZWNrZXJib2FyZFR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGxpZ2h0Q29sb3I6IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wLCAwLjUpLFxuICAgICAgZGFya0NvbG9yOiBuZXcgQ29sb3IoMC4wLCAwLjAsIDAuMCwgMC41KSxcbiAgICAgIHJlcGVhdDogbmV3IENhcnRlc2lhbjIoNS4wLCA1LjApLFxuICAgIH0sXG4gICAgc291cmNlOiBDaGVja2VyYm9hcmRNYXRlcmlhbCxcbiAgfSxcbiAgdHJhbnNsdWNlbnQ6IGZ1bmN0aW9uIChtYXRlcmlhbCkge1xuICAgIHZhciB1bmlmb3JtcyA9IG1hdGVyaWFsLnVuaWZvcm1zO1xuICAgIHJldHVybiB1bmlmb3Jtcy5saWdodENvbG9yLmFscGhhIDwgMS4wIHx8IHVuaWZvcm1zLmRhcmtDb2xvci5hbHBoYSA8IDEuMDtcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGRvdCBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuRG90VHlwZSA9IFwiRG90XCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5Eb3RUeXBlLCB7XG4gIGZhYnJpYzoge1xuICAgIHR5cGU6IE1hdGVyaWFsLkRvdFR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGxpZ2h0Q29sb3I6IG5ldyBDb2xvcigxLjAsIDEuMCwgMC4wLCAwLjc1KSxcbiAgICAgIGRhcmtDb2xvcjogbmV3IENvbG9yKDAuMCwgMS4wLCAxLjAsIDAuNzUpLFxuICAgICAgcmVwZWF0OiBuZXcgQ2FydGVzaWFuMig1LjAsIDUuMCksXG4gICAgfSxcbiAgICBzb3VyY2U6IERvdE1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZnVuY3Rpb24gKG1hdGVyaWFsKSB7XG4gICAgdmFyIHVuaWZvcm1zID0gbWF0ZXJpYWwudW5pZm9ybXM7XG4gICAgcmV0dXJuIHVuaWZvcm1zLmxpZ2h0Q29sb3IuYWxwaGEgPCAxLjAgfHwgdW5pZm9ybXMuZGFya0NvbG9yLmFscGhhIDwgMS4wO1xuICB9LFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgd2F0ZXIgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLldhdGVyVHlwZSA9IFwiV2F0ZXJcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLldhdGVyVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5XYXRlclR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGJhc2VXYXRlckNvbG9yOiBuZXcgQ29sb3IoMC4yLCAwLjMsIDAuNiwgMS4wKSxcbiAgICAgIGJsZW5kQ29sb3I6IG5ldyBDb2xvcigwLjAsIDEuMCwgMC42OTksIDEuMCksXG4gICAgICBzcGVjdWxhck1hcDogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgICBub3JtYWxNYXA6IE1hdGVyaWFsLkRlZmF1bHRJbWFnZUlkLFxuICAgICAgZnJlcXVlbmN5OiAxMC4wLFxuICAgICAgYW5pbWF0aW9uU3BlZWQ6IDAuMDEsXG4gICAgICBhbXBsaXR1ZGU6IDEuMCxcbiAgICAgIHNwZWN1bGFySW50ZW5zaXR5OiAwLjUsXG4gICAgICBmYWRlRmFjdG9yOiAxLjAsXG4gICAgfSxcbiAgICBzb3VyY2U6IFdhdGVyTWF0ZXJpYWwsXG4gIH0sXG4gIHRyYW5zbHVjZW50OiBmdW5jdGlvbiAobWF0ZXJpYWwpIHtcbiAgICB2YXIgdW5pZm9ybXMgPSBtYXRlcmlhbC51bmlmb3JtcztcbiAgICByZXR1cm4gKFxuICAgICAgdW5pZm9ybXMuYmFzZVdhdGVyQ29sb3IuYWxwaGEgPCAxLjAgfHwgdW5pZm9ybXMuYmxlbmRDb2xvci5hbHBoYSA8IDEuMFxuICAgICk7XG4gIH0sXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSByaW0gbGlnaHRpbmcgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlJpbUxpZ2h0aW5nVHlwZSA9IFwiUmltTGlnaHRpbmdcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLlJpbUxpZ2h0aW5nVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5SaW1MaWdodGluZ1R5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGNvbG9yOiBuZXcgQ29sb3IoMS4wLCAwLjAsIDAuMCwgMC43KSxcbiAgICAgIHJpbUNvbG9yOiBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCwgMC40KSxcbiAgICAgIHdpZHRoOiAwLjMsXG4gICAgfSxcbiAgICBzb3VyY2U6IFJpbUxpZ2h0aW5nTWF0ZXJpYWwsXG4gIH0sXG4gIHRyYW5zbHVjZW50OiBmdW5jdGlvbiAobWF0ZXJpYWwpIHtcbiAgICB2YXIgdW5pZm9ybXMgPSBtYXRlcmlhbC51bmlmb3JtcztcbiAgICByZXR1cm4gdW5pZm9ybXMuY29sb3IuYWxwaGEgPCAxLjAgfHwgdW5pZm9ybXMucmltQ29sb3IuYWxwaGEgPCAxLjA7XG4gIH0sXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBmYWRlIG1hdGVyaWFsLlxuICogQHR5cGUge1N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5NYXRlcmlhbC5GYWRlVHlwZSA9IFwiRmFkZVwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuRmFkZVR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuRmFkZVR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGZhZGVJbkNvbG9yOiBuZXcgQ29sb3IoMS4wLCAwLjAsIDAuMCwgMS4wKSxcbiAgICAgIGZhZGVPdXRDb2xvcjogbmV3IENvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCksXG4gICAgICBtYXhpbXVtRGlzdGFuY2U6IDAuNSxcbiAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgIGZhZGVEaXJlY3Rpb246IHtcbiAgICAgICAgeDogdHJ1ZSxcbiAgICAgICAgeTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB0aW1lOiBuZXcgQ2FydGVzaWFuMigwLjUsIDAuNSksXG4gICAgfSxcbiAgICBzb3VyY2U6IEZhZGVNYXRlcmlhbCxcbiAgfSxcbiAgdHJhbnNsdWNlbnQ6IGZ1bmN0aW9uIChtYXRlcmlhbCkge1xuICAgIHZhciB1bmlmb3JtcyA9IG1hdGVyaWFsLnVuaWZvcm1zO1xuICAgIHJldHVybiAoXG4gICAgICB1bmlmb3Jtcy5mYWRlSW5Db2xvci5hbHBoYSA8IDEuMCB8fCB1bmlmb3Jtcy5mYWRlT3V0Q29sb3IuYWxwaGEgPCAxLjBcbiAgICApO1xuICB9LFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgcG9seWxpbmUgYXJyb3cgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlBvbHlsaW5lQXJyb3dUeXBlID0gXCJQb2x5bGluZUFycm93XCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5Qb2x5bGluZUFycm93VHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5Qb2x5bGluZUFycm93VHlwZSxcbiAgICB1bmlmb3Jtczoge1xuICAgICAgY29sb3I6IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wLCAxLjApLFxuICAgIH0sXG4gICAgc291cmNlOiBQb2x5bGluZUFycm93TWF0ZXJpYWwsXG4gIH0sXG4gIHRyYW5zbHVjZW50OiB0cnVlLFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgcG9seWxpbmUgZ2xvdyBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuUG9seWxpbmVEYXNoVHlwZSA9IFwiUG9seWxpbmVEYXNoXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5Qb2x5bGluZURhc2hUeXBlLCB7XG4gIGZhYnJpYzoge1xuICAgIHR5cGU6IE1hdGVyaWFsLlBvbHlsaW5lRGFzaFR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGNvbG9yOiBuZXcgQ29sb3IoMS4wLCAwLjAsIDEuMCwgMS4wKSxcbiAgICAgIGdhcENvbG9yOiBuZXcgQ29sb3IoMC4wLCAwLjAsIDAuMCwgMC4wKSxcbiAgICAgIGRhc2hMZW5ndGg6IDE2LjAsXG4gICAgICBkYXNoUGF0dGVybjogMjU1LjAsXG4gICAgfSxcbiAgICBzb3VyY2U6IFBvbHlsaW5lRGFzaE1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogdHJ1ZSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIHBvbHlsaW5lIGdsb3cgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlBvbHlsaW5lR2xvd1R5cGUgPSBcIlBvbHlsaW5lR2xvd1wiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuUG9seWxpbmVHbG93VHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5Qb2x5bGluZUdsb3dUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBjb2xvcjogbmV3IENvbG9yKDAuMCwgMC41LCAxLjAsIDEuMCksXG4gICAgICBnbG93UG93ZXI6IDAuMjUsXG4gICAgICB0YXBlclBvd2VyOiAxLjAsXG4gICAgfSxcbiAgICBzb3VyY2U6IFBvbHlsaW5lR2xvd01hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogdHJ1ZSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIHBvbHlsaW5lIG91dGxpbmUgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlBvbHlsaW5lT3V0bGluZVR5cGUgPSBcIlBvbHlsaW5lT3V0bGluZVwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuUG9seWxpbmVPdXRsaW5lVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5Qb2x5bGluZU91dGxpbmVUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBjb2xvcjogbmV3IENvbG9yKDEuMCwgMS4wLCAxLjAsIDEuMCksXG4gICAgICBvdXRsaW5lQ29sb3I6IG5ldyBDb2xvcigxLjAsIDAuMCwgMC4wLCAxLjApLFxuICAgICAgb3V0bGluZVdpZHRoOiAxLjAsXG4gICAgfSxcbiAgICBzb3VyY2U6IFBvbHlsaW5lT3V0bGluZU1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZnVuY3Rpb24gKG1hdGVyaWFsKSB7XG4gICAgdmFyIHVuaWZvcm1zID0gbWF0ZXJpYWwudW5pZm9ybXM7XG4gICAgcmV0dXJuIHVuaWZvcm1zLmNvbG9yLmFscGhhIDwgMS4wIHx8IHVuaWZvcm1zLm91dGxpbmVDb2xvci5hbHBoYSA8IDEuMDtcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGVsZXZhdGlvbiBjb250b3VyIG1hdGVyaWFsLlxuICogQHR5cGUge1N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5NYXRlcmlhbC5FbGV2YXRpb25Db250b3VyVHlwZSA9IFwiRWxldmF0aW9uQ29udG91clwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuRWxldmF0aW9uQ29udG91clR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuRWxldmF0aW9uQ29udG91clR5cGUsXG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIHNwYWNpbmc6IDEwMC4wLFxuICAgICAgY29sb3I6IG5ldyBDb2xvcigxLjAsIDAuMCwgMC4wLCAxLjApLFxuICAgICAgd2lkdGg6IDEuMCxcbiAgICB9LFxuICAgIHNvdXJjZTogRWxldmF0aW9uQ29udG91ck1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZmFsc2UsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBlbGV2YXRpb24gY29udG91ciBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuRWxldmF0aW9uUmFtcFR5cGUgPSBcIkVsZXZhdGlvblJhbXBcIjtcbk1hdGVyaWFsLl9tYXRlcmlhbENhY2hlLmFkZE1hdGVyaWFsKE1hdGVyaWFsLkVsZXZhdGlvblJhbXBUeXBlLCB7XG4gIGZhYnJpYzoge1xuICAgIHR5cGU6IE1hdGVyaWFsLkVsZXZhdGlvblJhbXBUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBpbWFnZTogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgICBtaW5pbXVtSGVpZ2h0OiAwLjAsXG4gICAgICBtYXhpbXVtSGVpZ2h0OiAxMDAwMC4wLFxuICAgIH0sXG4gICAgc291cmNlOiBFbGV2YXRpb25SYW1wTWF0ZXJpYWwsXG4gIH0sXG4gIHRyYW5zbHVjZW50OiBmYWxzZSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIHNsb3BlIHJhbXAgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLlNsb3BlUmFtcE1hdGVyaWFsVHlwZSA9IFwiU2xvcGVSYW1wXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5TbG9wZVJhbXBNYXRlcmlhbFR5cGUsIHtcbiAgZmFicmljOiB7XG4gICAgdHlwZTogTWF0ZXJpYWwuU2xvcGVSYW1wTWF0ZXJpYWxUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBpbWFnZTogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgfSxcbiAgICBzb3VyY2U6IFNsb3BlUmFtcE1hdGVyaWFsLFxuICB9LFxuICB0cmFuc2x1Y2VudDogZmFsc2UsXG59KTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBhc3BlY3QgcmFtcCBtYXRlcmlhbC5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqL1xuTWF0ZXJpYWwuQXNwZWN0UmFtcE1hdGVyaWFsVHlwZSA9IFwiQXNwZWN0UmFtcFwiO1xuTWF0ZXJpYWwuX21hdGVyaWFsQ2FjaGUuYWRkTWF0ZXJpYWwoTWF0ZXJpYWwuQXNwZWN0UmFtcE1hdGVyaWFsVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5Bc3BlY3RSYW1wTWF0ZXJpYWxUeXBlLFxuICAgIHVuaWZvcm1zOiB7XG4gICAgICBpbWFnZTogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgfSxcbiAgICBzb3VyY2U6IEFzcGVjdFJhbXBNYXRlcmlhbCxcbiAgfSxcbiAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgZWxldmF0aW9uIGJhbmQgbWF0ZXJpYWwuXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbk1hdGVyaWFsLkVsZXZhdGlvbkJhbmRUeXBlID0gXCJFbGV2YXRpb25CYW5kXCI7XG5NYXRlcmlhbC5fbWF0ZXJpYWxDYWNoZS5hZGRNYXRlcmlhbChNYXRlcmlhbC5FbGV2YXRpb25CYW5kVHlwZSwge1xuICBmYWJyaWM6IHtcbiAgICB0eXBlOiBNYXRlcmlhbC5FbGV2YXRpb25CYW5kVHlwZSxcbiAgICB1bmlmb3Jtczoge1xuICAgICAgaGVpZ2h0czogTWF0ZXJpYWwuRGVmYXVsdEltYWdlSWQsXG4gICAgICBjb2xvcnM6IE1hdGVyaWFsLkRlZmF1bHRJbWFnZUlkLFxuICAgIH0sXG4gICAgc291cmNlOiBFbGV2YXRpb25CYW5kTWF0ZXJpYWwsXG4gIH0sXG4gIHRyYW5zbHVjZW50OiB0cnVlLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hdGVyaWFsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///69592\n')},79158:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82982);\n/* harmony import */ var _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67252);\n/* harmony import */ var _Shaders_Appearances_AllMaterialAppearanceFS_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(76754);\n/* harmony import */ var _Shaders_Appearances_AllMaterialAppearanceVS_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(66433);\n/* harmony import */ var _Shaders_Appearances_BasicMaterialAppearanceFS_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(13366);\n/* harmony import */ var _Shaders_Appearances_BasicMaterialAppearanceVS_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26479);\n/* harmony import */ var _Shaders_Appearances_TexturedMaterialAppearanceFS_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(93774);\n/* harmony import */ var _Shaders_Appearances_TexturedMaterialAppearanceVS_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(80330);\n/* harmony import */ var _Appearance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12804);\n/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69592);\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n     * An appearance for arbitrary geometry (as opposed to {@link EllipsoidSurfaceAppearance}, for example)\n     * that supports shading with materials.\n     *\n     * @alias MaterialAppearance\n     * @constructor\n     *\n     * @param {Object} [options] Object with the following properties:\n     * @param {Boolean} [options.flat=false] When <code>true</code>, flat shading is used in the fragment shader, which means lighting is not taking into account.\n     * @param {Boolean} [options.faceForward=!options.closed] When <code>true</code>, the fragment shader flips the surface normal as needed to ensure that the normal faces the viewer to avoid dark spots.  This is useful when both sides of a geometry should be shaded like {@link WallGeometry}.\n     * @param {Boolean} [options.translucent=true] When <code>true</code>, the geometry is expected to appear translucent so {@link MaterialAppearance#renderState} has alpha blending enabled.\n     * @param {Boolean} [options.closed=false] When <code>true</code>, the geometry is expected to be closed so {@link MaterialAppearance#renderState} has backface culling enabled.\n     * @param {MaterialAppearance.MaterialSupportType} [options.materialSupport=MaterialAppearance.MaterialSupport.TEXTURED] The type of materials that will be supported.\n     * @param {Material} [options.material=Material.ColorType] The material used to determine the fragment color.\n     * @param {String} [options.vertexShaderSource] Optional GLSL vertex shader source to override the default vertex shader.\n     * @param {String} [options.fragmentShaderSource] Optional GLSL fragment shader source to override the default fragment shader.\n     * @param {Object} [options.renderState] Optional render state to override the default render state.\n     *\n     * @see {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric}\n     * @demo {@link https://sandcastle.cesium.com/index.html?src=Materials.html|Cesium Sandcastle Material Appearance Demo}\n     *\n     * @example\n     * var primitive = new Cesium.Primitive({\n     *   geometryInstances : new Cesium.GeometryInstance({\n     *     geometry : new Cesium.WallGeometry({\n            materialSupport :  Cesium.MaterialAppearance.MaterialSupport.BASIC.vertexFormat,\n     *       // ...\n     *     })\n     *   }),\n     *   appearance : new Cesium.MaterialAppearance({\n     *     material : Cesium.Material.fromType(\'Color\'),\n     *     faceForward : true\n     *   })\n     *\n     * });\n     */\nfunction MaterialAppearance(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var translucent = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.translucent, true);\n  var closed = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.closed, false);\n  var materialSupport = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.materialSupport,\n    MaterialAppearance.MaterialSupport.TEXTURED\n  );\n\n  /**\n   * The material used to determine the fragment color.  Unlike other {@link MaterialAppearance}\n   * properties, this is not read-only, so an appearance\'s material can change on the fly.\n   *\n   * @type Material\n   *\n   * @default {@link Material.ColorType}\n   *\n   * @see {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric}\n   */\n  this.material = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.material)\n    ? options.material\n    : _Material_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromType */ .Z.fromType(_Material_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].ColorType */ .Z.ColorType);\n\n  /**\n   * When <code>true</code>, the geometry is expected to appear translucent.\n   *\n   * @type {Boolean}\n   *\n   * @default true\n   */\n  this.translucent = translucent;\n\n  this._vertexShaderSource = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.vertexShaderSource,\n    materialSupport.vertexShaderSource\n  );\n  this._fragmentShaderSource = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.fragmentShaderSource,\n    materialSupport.fragmentShaderSource\n  );\n  this._renderState = _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getDefaultRenderState */ .Z.getDefaultRenderState(\n    translucent,\n    closed,\n    options.renderState\n  );\n  this._closed = closed;\n\n  // Non-derived members\n\n  this._materialSupport = materialSupport;\n  this._vertexFormat = materialSupport.vertexFormat;\n  this._flat = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.flat, false);\n  this._faceForward = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.faceForward, !closed);\n}\n\nObject.defineProperties(MaterialAppearance.prototype, {\n  /**\n   * The GLSL source code for the vertex shader.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  vertexShaderSource: {\n    get: function () {\n      return this._vertexShaderSource;\n    },\n  },\n\n  /**\n   * The GLSL source code for the fragment shader.  The full fragment shader\n   * source is built procedurally taking into account {@link MaterialAppearance#material},\n   * {@link MaterialAppearance#flat}, and {@link MaterialAppearance#faceForward}.\n   * Use {@link MaterialAppearance#getFragmentShaderSource} to get the full source.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  fragmentShaderSource: {\n    get: function () {\n      return this._fragmentShaderSource;\n    },\n  },\n\n  /**\n   * The WebGL fixed-function state to use when rendering the geometry.\n   * <p>\n   * The render state can be explicitly defined when constructing a {@link MaterialAppearance}\n   * instance, or it is set implicitly via {@link MaterialAppearance#translucent}\n   * and {@link MaterialAppearance#closed}.\n   * </p>\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  renderState: {\n    get: function () {\n      return this._renderState;\n    },\n  },\n\n  /**\n   * When <code>true</code>, the geometry is expected to be closed so\n   * {@link MaterialAppearance#renderState} has backface culling enabled.\n   * If the viewer enters the geometry, it will not be visible.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default false\n   */\n  closed: {\n    get: function () {\n      return this._closed;\n    },\n  },\n\n  /**\n   * The type of materials supported by this instance.  This impacts the required\n   * {@link VertexFormat} and the complexity of the vertex and fragment shaders.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {MaterialAppearance.MaterialSupportType}\n   * @readonly\n   *\n   * @default {@link MaterialAppearance.MaterialSupport.TEXTURED}\n   */\n  materialSupport: {\n    get: function () {\n      return this._materialSupport;\n    },\n  },\n\n  /**\n   * The {@link VertexFormat} that this appearance instance is compatible with.\n   * A geometry can have more vertex attributes and still be compatible - at a\n   * potential performance cost - but it can\'t have less.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type VertexFormat\n   * @readonly\n   *\n   * @default {@link MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat}\n   */\n  vertexFormat: {\n    get: function () {\n      return this._vertexFormat;\n    },\n  },\n\n  /**\n   * When <code>true</code>, flat shading is used in the fragment shader,\n   * which means lighting is not taking into account.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default false\n   */\n  flat: {\n    get: function () {\n      return this._flat;\n    },\n  },\n\n  /**\n   * When <code>true</code>, the fragment shader flips the surface normal\n   * as needed to ensure that the normal faces the viewer to avoid\n   * dark spots.  This is useful when both sides of a geometry should be\n   * shaded like {@link WallGeometry}.\n   *\n   * @memberof MaterialAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default true\n   */\n  faceForward: {\n    get: function () {\n      return this._faceForward;\n    },\n  },\n});\n\n/**\n * Procedurally creates the full GLSL fragment shader source.  For {@link MaterialAppearance},\n * this is derived from {@link MaterialAppearance#fragmentShaderSource}, {@link MaterialAppearance#material},\n * {@link MaterialAppearance#flat}, and {@link MaterialAppearance#faceForward}.\n *\n * @function\n *\n * @returns {String} The full GLSL fragment shader source.\n */\nMaterialAppearance.prototype.getFragmentShaderSource =\n  _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.getFragmentShaderSource */ .Z.prototype.getFragmentShaderSource;\n\n/**\n * Determines if the geometry is translucent based on {@link MaterialAppearance#translucent} and {@link Material#isTranslucent}.\n *\n * @function\n *\n * @returns {Boolean} <code>true</code> if the appearance is translucent.\n */\nMaterialAppearance.prototype.isTranslucent = _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.isTranslucent */ .Z.prototype.isTranslucent;\n\n/**\n * Creates a render state.  This is not the final render state instance; instead,\n * it can contain a subset of render state properties identical to the render state\n * created in the context.\n *\n * @function\n *\n * @returns {Object} The render state.\n */\nMaterialAppearance.prototype.getRenderState =\n  _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.getRenderState */ .Z.prototype.getRenderState;\n\n/**\n * @typedef MaterialAppearance.MaterialSupportType\n * @type {Object}\n * @property {VertexFormat} vertexFormat\n * @property {String} vertexShaderSource\n * @property {String} fragmentShaderSource\n */\n\n/**\n * Determines the type of {@link Material} that is supported by a\n * {@link MaterialAppearance} instance.  This is a trade-off between\n * flexibility (a wide array of materials) and memory/performance\n * (required vertex format and GLSL shader complexity.\n * @namespace\n */\nMaterialAppearance.MaterialSupport = {\n  /**\n   * Only basic materials, which require just <code>position</code> and\n   * <code>normal</code> vertex attributes, are supported.\n   *\n   * @type {MaterialAppearance.MaterialSupportType}\n   * @constant\n   */\n  BASIC: Object.freeze({\n    vertexFormat: _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].POSITION_AND_NORMAL */ .Z.POSITION_AND_NORMAL,\n    vertexShaderSource: _Shaders_Appearances_BasicMaterialAppearanceVS_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,\n    fragmentShaderSource: _Shaders_Appearances_BasicMaterialAppearanceFS_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z,\n  }),\n  /**\n   * Materials with textures, which require <code>position</code>,\n   * <code>normal</code>, and <code>st</code> vertex attributes,\n   * are supported.  The vast majority of materials fall into this category.\n   *\n   * @type {MaterialAppearance.MaterialSupportType}\n   * @constant\n   */\n  TEXTURED: Object.freeze({\n    vertexFormat: _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].POSITION_NORMAL_AND_ST */ .Z.POSITION_NORMAL_AND_ST,\n    vertexShaderSource: _Shaders_Appearances_TexturedMaterialAppearanceVS_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z,\n    fragmentShaderSource: _Shaders_Appearances_TexturedMaterialAppearanceFS_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z,\n  }),\n  /**\n   * All materials, including those that work in tangent space, are supported.\n   * This requires <code>position</code>, <code>normal</code>, <code>st</code>,\n   * <code>tangent</code>, and <code>bitangent</code> vertex attributes.\n   *\n   * @type {MaterialAppearance.MaterialSupportType}\n   * @constant\n   */\n  ALL: Object.freeze({\n    vertexFormat: _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ALL */ .Z.ALL,\n    vertexShaderSource: _Shaders_Appearances_AllMaterialAppearanceVS_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z,\n    fragmentShaderSource: _Shaders_Appearances_AllMaterialAppearanceFS_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z,\n  }),\n};\n/* harmony default export */ __webpack_exports__["Z"] = (MaterialAppearance);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRztBQUNIO0FBQ0EseURBQWUsa0JBQWtCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvTWF0ZXJpYWxBcHBlYXJhbmNlLmpzPzhmN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBWZXJ0ZXhGb3JtYXQgZnJvbSBcIi4uL0NvcmUvVmVydGV4Rm9ybWF0LmpzXCI7XG5pbXBvcnQgQWxsTWF0ZXJpYWxBcHBlYXJhbmNlRlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvQWxsTWF0ZXJpYWxBcHBlYXJhbmNlRlMuanNcIjtcbmltcG9ydCBBbGxNYXRlcmlhbEFwcGVhcmFuY2VWUyBmcm9tIFwiLi4vU2hhZGVycy9BcHBlYXJhbmNlcy9BbGxNYXRlcmlhbEFwcGVhcmFuY2VWUy5qc1wiO1xuaW1wb3J0IEJhc2ljTWF0ZXJpYWxBcHBlYXJhbmNlRlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvQmFzaWNNYXRlcmlhbEFwcGVhcmFuY2VGUy5qc1wiO1xuaW1wb3J0IEJhc2ljTWF0ZXJpYWxBcHBlYXJhbmNlVlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvQmFzaWNNYXRlcmlhbEFwcGVhcmFuY2VWUy5qc1wiO1xuaW1wb3J0IFRleHR1cmVkTWF0ZXJpYWxBcHBlYXJhbmNlRlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvVGV4dHVyZWRNYXRlcmlhbEFwcGVhcmFuY2VGUy5qc1wiO1xuaW1wb3J0IFRleHR1cmVkTWF0ZXJpYWxBcHBlYXJhbmNlVlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvVGV4dHVyZWRNYXRlcmlhbEFwcGVhcmFuY2VWUy5qc1wiO1xuaW1wb3J0IEFwcGVhcmFuY2UgZnJvbSBcIi4vQXBwZWFyYW5jZS5qc1wiO1xuaW1wb3J0IE1hdGVyaWFsIGZyb20gXCIuL01hdGVyaWFsLmpzXCI7XG5cbi8qKlxuICAgICAqIEFuIGFwcGVhcmFuY2UgZm9yIGFyYml0cmFyeSBnZW9tZXRyeSAoYXMgb3Bwb3NlZCB0byB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2V9LCBmb3IgZXhhbXBsZSlcbiAgICAgKiB0aGF0IHN1cHBvcnRzIHNoYWRpbmcgd2l0aCBtYXRlcmlhbHMuXG4gICAgICpcbiAgICAgKiBAYWxpYXMgTWF0ZXJpYWxBcHBlYXJhbmNlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZsYXQ9ZmFsc2VdIFdoZW4gPGNvZGU+dHJ1ZTwvY29kZT4sIGZsYXQgc2hhZGluZyBpcyB1c2VkIGluIHRoZSBmcmFnbWVudCBzaGFkZXIsIHdoaWNoIG1lYW5zIGxpZ2h0aW5nIGlzIG5vdCB0YWtpbmcgaW50byBhY2NvdW50LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmFjZUZvcndhcmQ9IW9wdGlvbnMuY2xvc2VkXSBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZnJhZ21lbnQgc2hhZGVyIGZsaXBzIHRoZSBzdXJmYWNlIG5vcm1hbCBhcyBuZWVkZWQgdG8gZW5zdXJlIHRoYXQgdGhlIG5vcm1hbCBmYWNlcyB0aGUgdmlld2VyIHRvIGF2b2lkIGRhcmsgc3BvdHMuICBUaGlzIGlzIHVzZWZ1bCB3aGVuIGJvdGggc2lkZXMgb2YgYSBnZW9tZXRyeSBzaG91bGQgYmUgc2hhZGVkIGxpa2Uge0BsaW5rIFdhbGxHZW9tZXRyeX0uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy50cmFuc2x1Y2VudD10cnVlXSBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZ2VvbWV0cnkgaXMgZXhwZWN0ZWQgdG8gYXBwZWFyIHRyYW5zbHVjZW50IHNvIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UjcmVuZGVyU3RhdGV9IGhhcyBhbHBoYSBibGVuZGluZyBlbmFibGVkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2xvc2VkPWZhbHNlXSBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZ2VvbWV0cnkgaXMgZXhwZWN0ZWQgdG8gYmUgY2xvc2VkIHNvIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UjcmVuZGVyU3RhdGV9IGhhcyBiYWNrZmFjZSBjdWxsaW5nIGVuYWJsZWQuXG4gICAgICogQHBhcmFtIHtNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0VHlwZX0gW29wdGlvbnMubWF0ZXJpYWxTdXBwb3J0PU1hdGVyaWFsQXBwZWFyYW5jZS5NYXRlcmlhbFN1cHBvcnQuVEVYVFVSRURdIFRoZSB0eXBlIG9mIG1hdGVyaWFscyB0aGF0IHdpbGwgYmUgc3VwcG9ydGVkLlxuICAgICAqIEBwYXJhbSB7TWF0ZXJpYWx9IFtvcHRpb25zLm1hdGVyaWFsPU1hdGVyaWFsLkNvbG9yVHlwZV0gVGhlIG1hdGVyaWFsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBmcmFnbWVudCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudmVydGV4U2hhZGVyU291cmNlXSBPcHRpb25hbCBHTFNMIHZlcnRleCBzaGFkZXIgc291cmNlIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50U2hhZGVyU291cmNlXSBPcHRpb25hbCBHTFNMIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5yZW5kZXJTdGF0ZV0gT3B0aW9uYWwgcmVuZGVyIHN0YXRlIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHJlbmRlciBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9jZXNpdW0vd2lraS9GYWJyaWN8RmFicmljfVxuICAgICAqIEBkZW1vIHtAbGluayBodHRwczovL3NhbmRjYXN0bGUuY2VzaXVtLmNvbS9pbmRleC5odG1sP3NyYz1NYXRlcmlhbHMuaHRtbHxDZXNpdW0gU2FuZGNhc3RsZSBNYXRlcmlhbCBBcHBlYXJhbmNlIERlbW99XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwcmltaXRpdmUgPSBuZXcgQ2VzaXVtLlByaW1pdGl2ZSh7XG4gICAgICogICBnZW9tZXRyeUluc3RhbmNlcyA6IG5ldyBDZXNpdW0uR2VvbWV0cnlJbnN0YW5jZSh7XG4gICAgICogICAgIGdlb21ldHJ5IDogbmV3IENlc2l1bS5XYWxsR2VvbWV0cnkoe1xuICAgICAgICAgICAgbWF0ZXJpYWxTdXBwb3J0IDogIENlc2l1bS5NYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0LkJBU0lDLnZlcnRleEZvcm1hdCxcbiAgICAgKiAgICAgICAvLyAuLi5cbiAgICAgKiAgICAgfSlcbiAgICAgKiAgIH0pLFxuICAgICAqICAgYXBwZWFyYW5jZSA6IG5ldyBDZXNpdW0uTWF0ZXJpYWxBcHBlYXJhbmNlKHtcbiAgICAgKiAgICAgbWF0ZXJpYWwgOiBDZXNpdW0uTWF0ZXJpYWwuZnJvbVR5cGUoJ0NvbG9yJyksXG4gICAgICogICAgIGZhY2VGb3J3YXJkIDogdHJ1ZVxuICAgICAqICAgfSlcbiAgICAgKlxuICAgICAqIH0pO1xuICAgICAqL1xuZnVuY3Rpb24gTWF0ZXJpYWxBcHBlYXJhbmNlKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICB2YXIgdHJhbnNsdWNlbnQgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy50cmFuc2x1Y2VudCwgdHJ1ZSk7XG4gIHZhciBjbG9zZWQgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5jbG9zZWQsIGZhbHNlKTtcbiAgdmFyIG1hdGVyaWFsU3VwcG9ydCA9IGRlZmF1bHRWYWx1ZShcbiAgICBvcHRpb25zLm1hdGVyaWFsU3VwcG9ydCxcbiAgICBNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0LlRFWFRVUkVEXG4gICk7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXRlcmlhbCB1c2VkIHRvIGRldGVybWluZSB0aGUgZnJhZ21lbnQgY29sb3IuICBVbmxpa2Ugb3RoZXIge0BsaW5rIE1hdGVyaWFsQXBwZWFyYW5jZX1cbiAgICogcHJvcGVydGllcywgdGhpcyBpcyBub3QgcmVhZC1vbmx5LCBzbyBhbiBhcHBlYXJhbmNlJ3MgbWF0ZXJpYWwgY2FuIGNoYW5nZSBvbiB0aGUgZmx5LlxuICAgKlxuICAgKiBAdHlwZSBNYXRlcmlhbFxuICAgKlxuICAgKiBAZGVmYXVsdCB7QGxpbmsgTWF0ZXJpYWwuQ29sb3JUeXBlfVxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvY2VzaXVtL3dpa2kvRmFicmljfEZhYnJpY31cbiAgICovXG4gIHRoaXMubWF0ZXJpYWwgPSBkZWZpbmVkKG9wdGlvbnMubWF0ZXJpYWwpXG4gICAgPyBvcHRpb25zLm1hdGVyaWFsXG4gICAgOiBNYXRlcmlhbC5mcm9tVHlwZShNYXRlcmlhbC5Db2xvclR5cGUpO1xuXG4gIC8qKlxuICAgKiBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZ2VvbWV0cnkgaXMgZXhwZWN0ZWQgdG8gYXBwZWFyIHRyYW5zbHVjZW50LlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICpcbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy50cmFuc2x1Y2VudCA9IHRyYW5zbHVjZW50O1xuXG4gIHRoaXMuX3ZlcnRleFNoYWRlclNvdXJjZSA9IGRlZmF1bHRWYWx1ZShcbiAgICBvcHRpb25zLnZlcnRleFNoYWRlclNvdXJjZSxcbiAgICBtYXRlcmlhbFN1cHBvcnQudmVydGV4U2hhZGVyU291cmNlXG4gICk7XG4gIHRoaXMuX2ZyYWdtZW50U2hhZGVyU291cmNlID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMuZnJhZ21lbnRTaGFkZXJTb3VyY2UsXG4gICAgbWF0ZXJpYWxTdXBwb3J0LmZyYWdtZW50U2hhZGVyU291cmNlXG4gICk7XG4gIHRoaXMuX3JlbmRlclN0YXRlID0gQXBwZWFyYW5jZS5nZXREZWZhdWx0UmVuZGVyU3RhdGUoXG4gICAgdHJhbnNsdWNlbnQsXG4gICAgY2xvc2VkLFxuICAgIG9wdGlvbnMucmVuZGVyU3RhdGVcbiAgKTtcbiAgdGhpcy5fY2xvc2VkID0gY2xvc2VkO1xuXG4gIC8vIE5vbi1kZXJpdmVkIG1lbWJlcnNcblxuICB0aGlzLl9tYXRlcmlhbFN1cHBvcnQgPSBtYXRlcmlhbFN1cHBvcnQ7XG4gIHRoaXMuX3ZlcnRleEZvcm1hdCA9IG1hdGVyaWFsU3VwcG9ydC52ZXJ0ZXhGb3JtYXQ7XG4gIHRoaXMuX2ZsYXQgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5mbGF0LCBmYWxzZSk7XG4gIHRoaXMuX2ZhY2VGb3J3YXJkID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZmFjZUZvcndhcmQsICFjbG9zZWQpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhNYXRlcmlhbEFwcGVhcmFuY2UucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBUaGUgR0xTTCBzb3VyY2UgY29kZSBmb3IgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBNYXRlcmlhbEFwcGVhcmFuY2UucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdmVydGV4U2hhZGVyU291cmNlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmVydGV4U2hhZGVyU291cmNlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBHTFNMIHNvdXJjZSBjb2RlIGZvciB0aGUgZnJhZ21lbnQgc2hhZGVyLiAgVGhlIGZ1bGwgZnJhZ21lbnQgc2hhZGVyXG4gICAqIHNvdXJjZSBpcyBidWlsdCBwcm9jZWR1cmFsbHkgdGFraW5nIGludG8gYWNjb3VudCB7QGxpbmsgTWF0ZXJpYWxBcHBlYXJhbmNlI21hdGVyaWFsfSxcbiAgICoge0BsaW5rIE1hdGVyaWFsQXBwZWFyYW5jZSNmbGF0fSwgYW5kIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UjZmFjZUZvcndhcmR9LlxuICAgKiBVc2Uge0BsaW5rIE1hdGVyaWFsQXBwZWFyYW5jZSNnZXRGcmFnbWVudFNoYWRlclNvdXJjZX0gdG8gZ2V0IHRoZSBmdWxsIHNvdXJjZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIE1hdGVyaWFsQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBmcmFnbWVudFNoYWRlclNvdXJjZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZyYWdtZW50U2hhZGVyU291cmNlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBXZWJHTCBmaXhlZC1mdW5jdGlvbiBzdGF0ZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGdlb21ldHJ5LlxuICAgKiA8cD5cbiAgICogVGhlIHJlbmRlciBzdGF0ZSBjYW4gYmUgZXhwbGljaXRseSBkZWZpbmVkIHdoZW4gY29uc3RydWN0aW5nIGEge0BsaW5rIE1hdGVyaWFsQXBwZWFyYW5jZX1cbiAgICogaW5zdGFuY2UsIG9yIGl0IGlzIHNldCBpbXBsaWNpdGx5IHZpYSB7QGxpbmsgTWF0ZXJpYWxBcHBlYXJhbmNlI3RyYW5zbHVjZW50fVxuICAgKiBhbmQge0BsaW5rIE1hdGVyaWFsQXBwZWFyYW5jZSNjbG9zZWR9LlxuICAgKiA8L3A+XG4gICAqXG4gICAqIEBtZW1iZXJvZiBNYXRlcmlhbEFwcGVhcmFuY2UucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcmVuZGVyU3RhdGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJTdGF0ZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZ2VvbWV0cnkgaXMgZXhwZWN0ZWQgdG8gYmUgY2xvc2VkIHNvXG4gICAqIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UjcmVuZGVyU3RhdGV9IGhhcyBiYWNrZmFjZSBjdWxsaW5nIGVuYWJsZWQuXG4gICAqIElmIHRoZSB2aWV3ZXIgZW50ZXJzIHRoZSBnZW9tZXRyeSwgaXQgd2lsbCBub3QgYmUgdmlzaWJsZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIE1hdGVyaWFsQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgY2xvc2VkOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2xvc2VkO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIG1hdGVyaWFscyBzdXBwb3J0ZWQgYnkgdGhpcyBpbnN0YW5jZS4gIFRoaXMgaW1wYWN0cyB0aGUgcmVxdWlyZWRcbiAgICoge0BsaW5rIFZlcnRleEZvcm1hdH0gYW5kIHRoZSBjb21wbGV4aXR5IG9mIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBNYXRlcmlhbEFwcGVhcmFuY2UucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0VHlwZX1cbiAgICogQHJlYWRvbmx5XG4gICAqXG4gICAqIEBkZWZhdWx0IHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0LlRFWFRVUkVEfVxuICAgKi9cbiAgbWF0ZXJpYWxTdXBwb3J0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWF0ZXJpYWxTdXBwb3J0O1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgVmVydGV4Rm9ybWF0fSB0aGF0IHRoaXMgYXBwZWFyYW5jZSBpbnN0YW5jZSBpcyBjb21wYXRpYmxlIHdpdGguXG4gICAqIEEgZ2VvbWV0cnkgY2FuIGhhdmUgbW9yZSB2ZXJ0ZXggYXR0cmlidXRlcyBhbmQgc3RpbGwgYmUgY29tcGF0aWJsZSAtIGF0IGFcbiAgICogcG90ZW50aWFsIHBlcmZvcm1hbmNlIGNvc3QgLSBidXQgaXQgY2FuJ3QgaGF2ZSBsZXNzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTWF0ZXJpYWxBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSBWZXJ0ZXhGb3JtYXRcbiAgICogQHJlYWRvbmx5XG4gICAqXG4gICAqIEBkZWZhdWx0IHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0LlRFWFRVUkVELnZlcnRleEZvcm1hdH1cbiAgICovXG4gIHZlcnRleEZvcm1hdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZlcnRleEZvcm1hdDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCBmbGF0IHNoYWRpbmcgaXMgdXNlZCBpbiB0aGUgZnJhZ21lbnQgc2hhZGVyLFxuICAgKiB3aGljaCBtZWFucyBsaWdodGluZyBpcyBub3QgdGFraW5nIGludG8gYWNjb3VudC5cbiAgICpcbiAgICogQG1lbWJlcm9mIE1hdGVyaWFsQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZmxhdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZsYXQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGZyYWdtZW50IHNoYWRlciBmbGlwcyB0aGUgc3VyZmFjZSBub3JtYWxcbiAgICogYXMgbmVlZGVkIHRvIGVuc3VyZSB0aGF0IHRoZSBub3JtYWwgZmFjZXMgdGhlIHZpZXdlciB0byBhdm9pZFxuICAgKiBkYXJrIHNwb3RzLiAgVGhpcyBpcyB1c2VmdWwgd2hlbiBib3RoIHNpZGVzIG9mIGEgZ2VvbWV0cnkgc2hvdWxkIGJlXG4gICAqIHNoYWRlZCBsaWtlIHtAbGluayBXYWxsR2VvbWV0cnl9LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTWF0ZXJpYWxBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQHJlYWRvbmx5XG4gICAqXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGZhY2VGb3J3YXJkOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmFjZUZvcndhcmQ7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIFByb2NlZHVyYWxseSBjcmVhdGVzIHRoZSBmdWxsIEdMU0wgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZS4gIEZvciB7QGxpbmsgTWF0ZXJpYWxBcHBlYXJhbmNlfSxcbiAqIHRoaXMgaXMgZGVyaXZlZCBmcm9tIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UjZnJhZ21lbnRTaGFkZXJTb3VyY2V9LCB7QGxpbmsgTWF0ZXJpYWxBcHBlYXJhbmNlI21hdGVyaWFsfSxcbiAqIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UjZmxhdH0sIGFuZCB7QGxpbmsgTWF0ZXJpYWxBcHBlYXJhbmNlI2ZhY2VGb3J3YXJkfS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgZnVsbCBHTFNMIGZyYWdtZW50IHNoYWRlciBzb3VyY2UuXG4gKi9cbk1hdGVyaWFsQXBwZWFyYW5jZS5wcm90b3R5cGUuZ2V0RnJhZ21lbnRTaGFkZXJTb3VyY2UgPVxuICBBcHBlYXJhbmNlLnByb3RvdHlwZS5nZXRGcmFnbWVudFNoYWRlclNvdXJjZTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBnZW9tZXRyeSBpcyB0cmFuc2x1Y2VudCBiYXNlZCBvbiB7QGxpbmsgTWF0ZXJpYWxBcHBlYXJhbmNlI3RyYW5zbHVjZW50fSBhbmQge0BsaW5rIE1hdGVyaWFsI2lzVHJhbnNsdWNlbnR9LlxuICpcbiAqIEBmdW5jdGlvblxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSA8Y29kZT50cnVlPC9jb2RlPiBpZiB0aGUgYXBwZWFyYW5jZSBpcyB0cmFuc2x1Y2VudC5cbiAqL1xuTWF0ZXJpYWxBcHBlYXJhbmNlLnByb3RvdHlwZS5pc1RyYW5zbHVjZW50ID0gQXBwZWFyYW5jZS5wcm90b3R5cGUuaXNUcmFuc2x1Y2VudDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVuZGVyIHN0YXRlLiAgVGhpcyBpcyBub3QgdGhlIGZpbmFsIHJlbmRlciBzdGF0ZSBpbnN0YW5jZTsgaW5zdGVhZCxcbiAqIGl0IGNhbiBjb250YWluIGEgc3Vic2V0IG9mIHJlbmRlciBzdGF0ZSBwcm9wZXJ0aWVzIGlkZW50aWNhbCB0byB0aGUgcmVuZGVyIHN0YXRlXG4gKiBjcmVhdGVkIGluIHRoZSBjb250ZXh0LlxuICpcbiAqIEBmdW5jdGlvblxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZW5kZXIgc3RhdGUuXG4gKi9cbk1hdGVyaWFsQXBwZWFyYW5jZS5wcm90b3R5cGUuZ2V0UmVuZGVyU3RhdGUgPVxuICBBcHBlYXJhbmNlLnByb3RvdHlwZS5nZXRSZW5kZXJTdGF0ZTtcblxuLyoqXG4gKiBAdHlwZWRlZiBNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0VHlwZVxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcm9wZXJ0eSB7VmVydGV4Rm9ybWF0fSB2ZXJ0ZXhGb3JtYXRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB2ZXJ0ZXhTaGFkZXJTb3VyY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmcmFnbWVudFNoYWRlclNvdXJjZVxuICovXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgdHlwZSBvZiB7QGxpbmsgTWF0ZXJpYWx9IHRoYXQgaXMgc3VwcG9ydGVkIGJ5IGFcbiAqIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2V9IGluc3RhbmNlLiAgVGhpcyBpcyBhIHRyYWRlLW9mZiBiZXR3ZWVuXG4gKiBmbGV4aWJpbGl0eSAoYSB3aWRlIGFycmF5IG9mIG1hdGVyaWFscykgYW5kIG1lbW9yeS9wZXJmb3JtYW5jZVxuICogKHJlcXVpcmVkIHZlcnRleCBmb3JtYXQgYW5kIEdMU0wgc2hhZGVyIGNvbXBsZXhpdHkuXG4gKiBAbmFtZXNwYWNlXG4gKi9cbk1hdGVyaWFsQXBwZWFyYW5jZS5NYXRlcmlhbFN1cHBvcnQgPSB7XG4gIC8qKlxuICAgKiBPbmx5IGJhc2ljIG1hdGVyaWFscywgd2hpY2ggcmVxdWlyZSBqdXN0IDxjb2RlPnBvc2l0aW9uPC9jb2RlPiBhbmRcbiAgICogPGNvZGU+bm9ybWFsPC9jb2RlPiB2ZXJ0ZXggYXR0cmlidXRlcywgYXJlIHN1cHBvcnRlZC5cbiAgICpcbiAgICogQHR5cGUge01hdGVyaWFsQXBwZWFyYW5jZS5NYXRlcmlhbFN1cHBvcnRUeXBlfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEJBU0lDOiBPYmplY3QuZnJlZXplKHtcbiAgICB2ZXJ0ZXhGb3JtYXQ6IFZlcnRleEZvcm1hdC5QT1NJVElPTl9BTkRfTk9STUFMLFxuICAgIHZlcnRleFNoYWRlclNvdXJjZTogQmFzaWNNYXRlcmlhbEFwcGVhcmFuY2VWUyxcbiAgICBmcmFnbWVudFNoYWRlclNvdXJjZTogQmFzaWNNYXRlcmlhbEFwcGVhcmFuY2VGUyxcbiAgfSksXG4gIC8qKlxuICAgKiBNYXRlcmlhbHMgd2l0aCB0ZXh0dXJlcywgd2hpY2ggcmVxdWlyZSA8Y29kZT5wb3NpdGlvbjwvY29kZT4sXG4gICAqIDxjb2RlPm5vcm1hbDwvY29kZT4sIGFuZCA8Y29kZT5zdDwvY29kZT4gdmVydGV4IGF0dHJpYnV0ZXMsXG4gICAqIGFyZSBzdXBwb3J0ZWQuICBUaGUgdmFzdCBtYWpvcml0eSBvZiBtYXRlcmlhbHMgZmFsbCBpbnRvIHRoaXMgY2F0ZWdvcnkuXG4gICAqXG4gICAqIEB0eXBlIHtNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0VHlwZX1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBURVhUVVJFRDogT2JqZWN0LmZyZWV6ZSh7XG4gICAgdmVydGV4Rm9ybWF0OiBWZXJ0ZXhGb3JtYXQuUE9TSVRJT05fTk9STUFMX0FORF9TVCxcbiAgICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IFRleHR1cmVkTWF0ZXJpYWxBcHBlYXJhbmNlVlMsXG4gICAgZnJhZ21lbnRTaGFkZXJTb3VyY2U6IFRleHR1cmVkTWF0ZXJpYWxBcHBlYXJhbmNlRlMsXG4gIH0pLFxuICAvKipcbiAgICogQWxsIG1hdGVyaWFscywgaW5jbHVkaW5nIHRob3NlIHRoYXQgd29yayBpbiB0YW5nZW50IHNwYWNlLCBhcmUgc3VwcG9ydGVkLlxuICAgKiBUaGlzIHJlcXVpcmVzIDxjb2RlPnBvc2l0aW9uPC9jb2RlPiwgPGNvZGU+bm9ybWFsPC9jb2RlPiwgPGNvZGU+c3Q8L2NvZGU+LFxuICAgKiA8Y29kZT50YW5nZW50PC9jb2RlPiwgYW5kIDxjb2RlPmJpdGFuZ2VudDwvY29kZT4gdmVydGV4IGF0dHJpYnV0ZXMuXG4gICAqXG4gICAqIEB0eXBlIHtNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0VHlwZX1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBBTEw6IE9iamVjdC5mcmVlemUoe1xuICAgIHZlcnRleEZvcm1hdDogVmVydGV4Rm9ybWF0LkFMTCxcbiAgICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IEFsbE1hdGVyaWFsQXBwZWFyYW5jZVZTLFxuICAgIGZyYWdtZW50U2hhZGVyU291cmNlOiBBbGxNYXRlcmlhbEFwcGVhcmFuY2VGUyxcbiAgfSksXG59O1xuZXhwb3J0IGRlZmF1bHQgTWF0ZXJpYWxBcHBlYXJhbmNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///79158\n')}}]);