"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[5714],{37973:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _getElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43412);\n/* harmony import */ var _subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55619);\n\n\n\n\n\n\n\nvar svgNS = "http://www.w3.org/2000/svg";\nvar xlinkNS = "http://www.w3.org/1999/xlink";\n\nvar widgetForDrag;\n\nvar gradientEnabledColor0 = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(247,250,255,0.384)");\nvar gradientEnabledColor1 = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(143,191,255,0.216)");\nvar gradientEnabledColor2 = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(153,197,255,0.098)");\nvar gradientEnabledColor3 = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(255,255,255,0.086)");\n\nvar gradientDisabledColor0 = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString(\n  "rgba(255,255,255,0.267)"\n);\nvar gradientDisabledColor1 = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(255,255,255,0)");\n\nvar gradientKnobColor = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(66,67,68,0.3)");\nvar gradientPointerColor = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString("rgba(0,0,0,0.5)");\n\nfunction getElementColor(element) {\n  return _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromCssColorString */ .Z.fromCssColorString(\n    window.getComputedStyle(element).getPropertyValue("color")\n  );\n}\n\nvar svgIconsById = {\n  animation_pathReset: {\n    tagName: "path",\n    transform: "translate(16,16) scale(0.85) translate(-16,-16)",\n    d:\n      "M24.316,5.318,9.833,13.682,9.833,5.5,5.5,5.5,5.5,25.5,9.833,25.5,9.833,17.318,24.316,25.682z",\n  },\n  animation_pathPause: {\n    tagName: "path",\n    transform: "translate(16,16) scale(0.85) translate(-16,-16)",\n    d: "M13,5.5,7.5,5.5,7.5,25.5,13,25.5zM24.5,5.5,19,5.5,19,25.5,24.5,25.5z",\n  },\n  animation_pathPlay: {\n    tagName: "path",\n    transform: "translate(16,16) scale(0.85) translate(-16,-16)",\n    d: "M6.684,25.682L24.316,15.5L6.684,5.318V25.682z",\n  },\n  animation_pathPlayReverse: {\n    tagName: "path",\n    transform: "translate(16,16) scale(-0.85,0.85) translate(-16,-16)",\n    d: "M6.684,25.682L24.316,15.5L6.684,5.318V25.682z",\n  },\n  animation_pathLoop: {\n    tagName: "path",\n    transform: "translate(16,16) scale(0.85) translate(-16,-16)",\n    d:\n      "M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z",\n  },\n  animation_pathClock: {\n    tagName: "path",\n    transform: "translate(16,16) scale(0.85) translate(-16,-15.5)",\n    d:\n      "M15.5,2.374C8.251,2.375,2.376,8.251,2.374,15.5C2.376,22.748,8.251,28.623,15.5,28.627c7.249-0.004,13.124-5.879,13.125-13.127C28.624,8.251,22.749,2.375,15.5,2.374zM15.5,25.623C9.909,25.615,5.385,21.09,5.375,15.5C5.385,9.909,9.909,5.384,15.5,5.374c5.59,0.01,10.115,4.535,10.124,10.125C25.615,21.09,21.091,25.615,15.5,25.623zM8.625,15.5c-0.001-0.552-0.448-0.999-1.001-1c-0.553,0-1,0.448-1,1c0,0.553,0.449,1,1,1C8.176,16.5,8.624,16.053,8.625,15.5zM8.179,18.572c-0.478,0.277-0.642,0.889-0.365,1.367c0.275,0.479,0.889,0.641,1.365,0.365c0.479-0.275,0.643-0.887,0.367-1.367C9.27,18.461,8.658,18.297,8.179,18.572zM9.18,10.696c-0.479-0.276-1.09-0.112-1.366,0.366s-0.111,1.09,0.365,1.366c0.479,0.276,1.09,0.113,1.367-0.366C9.821,11.584,9.657,10.973,9.18,10.696zM22.822,12.428c0.478-0.275,0.643-0.888,0.366-1.366c-0.275-0.478-0.89-0.642-1.366-0.366c-0.479,0.278-0.642,0.89-0.366,1.367C21.732,12.54,22.344,12.705,22.822,12.428zM12.062,21.455c-0.478-0.275-1.089-0.111-1.366,0.367c-0.275,0.479-0.111,1.09,0.366,1.365c0.478,0.277,1.091,0.111,1.365-0.365C12.704,22.344,12.54,21.732,12.062,21.455zM12.062,9.545c0.479-0.276,0.642-0.888,0.366-1.366c-0.276-0.478-0.888-0.642-1.366-0.366s-0.642,0.888-0.366,1.366C10.973,9.658,11.584,9.822,12.062,9.545zM22.823,18.572c-0.48-0.275-1.092-0.111-1.367,0.365c-0.275,0.479-0.112,1.092,0.367,1.367c0.477,0.275,1.089,0.113,1.365-0.365C23.464,19.461,23.3,18.848,22.823,18.572zM19.938,7.813c-0.477-0.276-1.091-0.111-1.365,0.366c-0.275,0.48-0.111,1.091,0.366,1.367s1.089,0.112,1.366-0.366C20.581,8.702,20.418,8.089,19.938,7.813zM23.378,14.5c-0.554,0.002-1.001,0.45-1.001,1c0.001,0.552,0.448,1,1.001,1c0.551,0,1-0.447,1-1C24.378,14.949,23.929,14.5,23.378,14.5zM15.501,6.624c-0.552,0-1,0.448-1,1l-0.466,7.343l-3.004,1.96c-0.478,0.277-0.642,0.889-0.365,1.365c0.275,0.479,0.889,0.643,1.365,0.367l3.305-1.676C15.39,16.99,15.444,17,15.501,17c0.828,0,1.5-0.671,1.5-1.5l-0.5-7.876C16.501,7.072,16.053,6.624,15.501,6.624zM15.501,22.377c-0.552,0-1,0.447-1,1s0.448,1,1,1s1-0.447,1-1S16.053,22.377,15.501,22.377zM18.939,21.455c-0.479,0.277-0.643,0.889-0.366,1.367c0.275,0.477,0.888,0.643,1.366,0.365c0.478-0.275,0.642-0.889,0.366-1.365C20.028,21.344,19.417,21.18,18.939,21.455z",\n  },\n  animation_pathWingButton: {\n    tagName: "path",\n    d:\n      "m 4.5,0.5 c -2.216,0 -4,1.784 -4,4 l 0,24 c 0,2.216 1.784,4 4,4 l 13.71875,0 C 22.478584,27.272785 27.273681,22.511272 32.5,18.25 l 0,-13.75 c 0,-2.216 -1.784,-4 -4,-4 l -24,0 z",\n  },\n  animation_pathPointer: {\n    tagName: "path",\n    d: "M-15,-65,-15,-55,15,-55,15,-65,0,-95z",\n  },\n  animation_pathSwooshFX: {\n    tagName: "path",\n    d:\n      "m 85,0 c 0,16.617 -4.813944,35.356 -13.131081,48.4508 h 6.099803 c 8.317138,-13.0948 13.13322,-28.5955 13.13322,-45.2124 0,-46.94483 -38.402714,-85.00262 -85.7743869,-85.00262 -1.0218522,0 -2.0373001,0.0241 -3.0506131,0.0589 45.958443,1.59437 82.723058,35.77285 82.723058,81.70532 z",\n  },\n};\n\n//Dynamically builds an SVG element from a JSON object.\nfunction svgFromObject(obj) {\n  var ele = document.createElementNS(svgNS, obj.tagName);\n  for (var field in obj) {\n    if (obj.hasOwnProperty(field) && field !== "tagName") {\n      if (field === "children") {\n        var i;\n        var len = obj.children.length;\n        for (i = 0; i < len; ++i) {\n          ele.appendChild(svgFromObject(obj.children[i]));\n        }\n      } else if (field.indexOf("xlink:") === 0) {\n        ele.setAttributeNS(xlinkNS, field.substring(6), obj[field]);\n      } else if (field === "textContent") {\n        ele.textContent = obj[field];\n      } else {\n        ele.setAttribute(field, obj[field]);\n      }\n    }\n  }\n  return ele;\n}\n\nfunction svgText(x, y, msg) {\n  var text = document.createElementNS(svgNS, "text");\n  text.setAttribute("x", x);\n  text.setAttribute("y", y);\n  text.setAttribute("class", "cesium-animation-svgText");\n\n  var tspan = document.createElementNS(svgNS, "tspan");\n  tspan.textContent = msg;\n  text.appendChild(tspan);\n  return text;\n}\n\nfunction setShuttleRingPointer(shuttleRingPointer, knobOuter, angle) {\n  shuttleRingPointer.setAttribute(\n    "transform",\n    "translate(100,100) rotate(" + angle + ")"\n  );\n  knobOuter.setAttribute("transform", "rotate(" + angle + ")");\n}\n\nvar makeColorStringScratch = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nfunction makeColorString(background, gradient) {\n  var gradientAlpha = gradient.alpha;\n  var backgroundAlpha = 1.0 - gradientAlpha;\n  makeColorStringScratch.red =\n    background.red * backgroundAlpha + gradient.red * gradientAlpha;\n  makeColorStringScratch.green =\n    background.green * backgroundAlpha + gradient.green * gradientAlpha;\n  makeColorStringScratch.blue =\n    background.blue * backgroundAlpha + gradient.blue * gradientAlpha;\n  return makeColorStringScratch.toCssColorString();\n}\n\nfunction rectButton(x, y, path) {\n  var iconInfo = svgIconsById[path];\n\n  var button = {\n    tagName: "g",\n    class: "cesium-animation-rectButton",\n    transform: "translate(" + x + "," + y + ")",\n    children: [\n      {\n        tagName: "rect",\n        class: "cesium-animation-buttonGlow",\n        width: 32,\n        height: 32,\n        rx: 2,\n        ry: 2,\n      },\n      {\n        tagName: "rect",\n        class: "cesium-animation-buttonMain",\n        width: 32,\n        height: 32,\n        rx: 4,\n        ry: 4,\n      },\n      {\n        class: "cesium-animation-buttonPath",\n        id: path,\n        tagName: iconInfo.tagName,\n        transform: iconInfo.transform,\n        d: iconInfo.d,\n      },\n      {\n        tagName: "title",\n        textContent: "",\n      },\n    ],\n  };\n  return svgFromObject(button);\n}\n\nfunction wingButton(x, y, path) {\n  var buttonIconInfo = svgIconsById[path];\n  var wingIconInfo = svgIconsById["animation_pathWingButton"];\n\n  var button = {\n    tagName: "g",\n    class: "cesium-animation-rectButton",\n    transform: "translate(" + x + "," + y + ")",\n    children: [\n      {\n        class: "cesium-animation-buttonGlow",\n        id: "animation_pathWingButton",\n        tagName: wingIconInfo.tagName,\n        d: wingIconInfo.d,\n      },\n      {\n        class: "cesium-animation-buttonMain",\n        id: "animation_pathWingButton",\n        tagName: wingIconInfo.tagName,\n        d: wingIconInfo.d,\n      },\n      {\n        class: "cesium-animation-buttonPath",\n        id: path,\n        tagName: buttonIconInfo.tagName,\n        transform: buttonIconInfo.transform,\n        d: buttonIconInfo.d,\n      },\n      {\n        tagName: "title",\n        textContent: "",\n      },\n    ],\n  };\n  return svgFromObject(button);\n}\n\nfunction setShuttleRingFromMouseOrTouch(widget, e) {\n  var viewModel = widget._viewModel;\n  var shuttleRingDragging = viewModel.shuttleRingDragging;\n\n  if (shuttleRingDragging && widgetForDrag !== widget) {\n    return;\n  }\n\n  if (\n    e.type === "mousedown" ||\n    (shuttleRingDragging && e.type === "mousemove") ||\n    (e.type === "touchstart" && e.touches.length === 1) ||\n    (shuttleRingDragging && e.type === "touchmove" && e.touches.length === 1)\n  ) {\n    var centerX = widget._centerX;\n    var centerY = widget._centerY;\n    var svg = widget._svgNode;\n    var rect = svg.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    if (e.type === "touchstart" || e.type === "touchmove") {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    } else {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    }\n\n    if (\n      !shuttleRingDragging &&\n      (clientX > rect.right ||\n        clientX < rect.left ||\n        clientY < rect.top ||\n        clientY > rect.bottom)\n    ) {\n      return;\n    }\n\n    var pointerRect = widget._shuttleRingPointer.getBoundingClientRect();\n\n    var x = clientX - centerX - rect.left;\n    var y = clientY - centerY - rect.top;\n\n    var angle = (Math.atan2(y, x) * 180) / Math.PI + 90;\n    if (angle > 180) {\n      angle -= 360;\n    }\n    var shuttleRingAngle = viewModel.shuttleRingAngle;\n    if (\n      shuttleRingDragging ||\n      (clientX < pointerRect.right &&\n        clientX > pointerRect.left &&\n        clientY > pointerRect.top &&\n        clientY < pointerRect.bottom)\n    ) {\n      widgetForDrag = widget;\n      viewModel.shuttleRingDragging = true;\n      viewModel.shuttleRingAngle = angle;\n    } else if (angle < shuttleRingAngle) {\n      viewModel.slower();\n    } else if (angle > shuttleRingAngle) {\n      viewModel.faster();\n    }\n    e.preventDefault();\n  } else {\n    if (widget === widgetForDrag) {\n      widgetForDrag = undefined;\n    }\n    viewModel.shuttleRingDragging = false;\n  }\n}\n\n//This is a private class for treating an SVG element like a button.\n//If we ever need a general purpose SVG button, we can make this generic.\nfunction SvgButton(svgElement, viewModel) {\n  this._viewModel = viewModel;\n  this.svgElement = svgElement;\n  this._enabled = undefined;\n  this._toggled = undefined;\n\n  var that = this;\n  this._clickFunction = function () {\n    var command = that._viewModel.command;\n    if (command.canExecute) {\n      command();\n    }\n  };\n\n  svgElement.addEventListener("click", this._clickFunction, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  this._subscriptions = [\n    //\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel, "toggled", this.setToggled, this), //\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel, "tooltip", this.setTooltip, this), //\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n      viewModel.command,\n      "canExecute",\n      this.setEnabled,\n      this\n    ),\n  ];\n}\n\nSvgButton.prototype.destroy = function () {\n  this.svgElement.removeEventListener("click", this._clickFunction, true);\n  var subscriptions = this._subscriptions;\n  for (var i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n  (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n\nSvgButton.prototype.isDestroyed = function () {\n  return false;\n};\n\nSvgButton.prototype.setEnabled = function (enabled) {\n  if (this._enabled !== enabled) {\n    this._enabled = enabled;\n\n    if (!enabled) {\n      this.svgElement.setAttribute("class", "cesium-animation-buttonDisabled");\n      return;\n    }\n\n    if (this._toggled) {\n      this.svgElement.setAttribute(\n        "class",\n        "cesium-animation-rectButton cesium-animation-buttonToggled"\n      );\n      return;\n    }\n\n    this.svgElement.setAttribute("class", "cesium-animation-rectButton");\n  }\n};\n\nSvgButton.prototype.setToggled = function (toggled) {\n  if (this._toggled !== toggled) {\n    this._toggled = toggled;\n\n    if (this._enabled) {\n      if (toggled) {\n        this.svgElement.setAttribute(\n          "class",\n          "cesium-animation-rectButton cesium-animation-buttonToggled"\n        );\n      } else {\n        this.svgElement.setAttribute("class", "cesium-animation-rectButton");\n      }\n    }\n  }\n};\n\nSvgButton.prototype.setTooltip = function (tooltip) {\n  this.svgElement.getElementsByTagName("title")[0].textContent = tooltip;\n};\n\n/**\n * <span style="display: block; text-align: center;">\n * <img src="Images/AnimationWidget.png" width="211" height="142" alt="" />\n * <br />Animation widget\n * </span>\n * <br /><br />\n * The Animation widget provides buttons for play, pause, and reverse, along with the\n * current time and date, surrounded by a "shuttle ring" for controlling the speed of animation.\n * <br /><br />\n * The "shuttle ring" concept is borrowed from video editing, where typically a\n * "jog wheel" can be rotated to move past individual animation frames very slowly, and\n * a surrounding shuttle ring can be twisted to control direction and speed of fast playback.\n * Cesium typically treats time as continuous (not broken into pre-defined animation frames),\n * so this widget offers no jog wheel.  Instead, the shuttle ring is capable of both fast and\n * very slow playback.  Click and drag the shuttle ring pointer itself (shown above in green),\n * or click in the rest of the ring area to nudge the pointer to the next preset speed in that direction.\n * <br /><br />\n * The Animation widget also provides a "realtime" button (in the upper-left) that keeps\n * animation time in sync with the end user\'s system clock, typically displaying\n * "today" or "right now."  This mode is not available in {@link ClockRange.CLAMPED} or\n * {@link ClockRange.LOOP_STOP} mode if the current time is outside of {@link Clock}\'s startTime and endTime.\n *\n * @alias Animation\n * @constructor\n *\n * @param {Element|String} container The DOM element or ID that will contain the widget.\n * @param {AnimationViewModel} viewModel The view model used by this widget.\n *\n * @exception {DeveloperError} Element with id "container" does not exist in the document.\n *\n *\n * @example\n * // In HTML head, include a link to Animation.css stylesheet,\n * // and in the body, include: <div id="animationContainer"></div>\n *\n * var clock = new Cesium.Clock();\n * var clockViewModel = new Cesium.ClockViewModel(clock);\n * var viewModel = new Cesium.AnimationViewModel(clockViewModel);\n * var widget = new Cesium.Animation(\'animationContainer\', viewModel);\n *\n * function tick() {\n *     clock.tick();\n *     Cesium.requestAnimationFrame(tick);\n * }\n * Cesium.requestAnimationFrame(tick);\n *\n * @see AnimationViewModel\n * @see Clock\n */\nfunction Animation(container, viewModel) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(container)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("container is required.");\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(viewModel)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("viewModel is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  container = (0,_getElement_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(container);\n  this._viewModel = viewModel;\n  this._container = container;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._defsElement = undefined;\n  this._svgNode = undefined;\n  this._topG = undefined;\n  this._lastHeight = undefined;\n  this._lastWidth = undefined;\n\n  var ownerDocument = container.ownerDocument;\n\n  // Firefox requires SVG references to be included directly, not imported from external CSS.\n  // Also, CSS minifiers get confused by this being in an external CSS file.\n  var cssStyle = document.createElement("style");\n  cssStyle.textContent =\n    ".cesium-animation-rectButton .cesium-animation-buttonGlow { filter: url(#animation_blurred); }\\\n.cesium-animation-rectButton .cesium-animation-buttonMain { fill: url(#animation_buttonNormal); }\\\n.cesium-animation-buttonToggled .cesium-animation-buttonMain { fill: url(#animation_buttonToggled); }\\\n.cesium-animation-rectButton:hover .cesium-animation-buttonMain { fill: url(#animation_buttonHovered); }\\\n.cesium-animation-buttonDisabled .cesium-animation-buttonMain { fill: url(#animation_buttonDisabled); }\\\n.cesium-animation-shuttleRingG .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshGradient); }\\\n.cesium-animation-shuttleRingG:hover .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshHovered); }\\\n.cesium-animation-shuttleRingPointer { fill: url(#animation_shuttleRingPointerGradient); }\\\n.cesium-animation-shuttleRingPausePointer { fill: url(#animation_shuttleRingPointerPaused); }\\\n.cesium-animation-knobOuter { fill: url(#animation_knobOuter); }\\\n.cesium-animation-knobInner { fill: url(#animation_knobInner); }";\n\n  ownerDocument.head.insertBefore(cssStyle, ownerDocument.head.childNodes[0]);\n\n  var themeEle = document.createElement("div");\n  themeEle.className = "cesium-animation-theme";\n  themeEle.innerHTML =\n    \'<div class="cesium-animation-themeNormal"></div>\\\n<div class="cesium-animation-themeHover"></div>\\\n<div class="cesium-animation-themeSelect"></div>\\\n<div class="cesium-animation-themeDisabled"></div>\\\n<div class="cesium-animation-themeKnob"></div>\\\n<div class="cesium-animation-themePointer"></div>\\\n<div class="cesium-animation-themeSwoosh"></div>\\\n<div class="cesium-animation-themeSwooshHover"></div>\';\n\n  this._theme = themeEle;\n  this._themeNormal = themeEle.childNodes[0];\n  this._themeHover = themeEle.childNodes[1];\n  this._themeSelect = themeEle.childNodes[2];\n  this._themeDisabled = themeEle.childNodes[3];\n  this._themeKnob = themeEle.childNodes[4];\n  this._themePointer = themeEle.childNodes[5];\n  this._themeSwoosh = themeEle.childNodes[6];\n  this._themeSwooshHover = themeEle.childNodes[7];\n\n  var svg = document.createElementNS(svgNS, "svg:svg");\n  this._svgNode = svg;\n\n  // Define the XLink namespace that SVG uses\n  svg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", xlinkNS);\n\n  var topG = document.createElementNS(svgNS, "g");\n  this._topG = topG;\n\n  this._realtimeSVG = new SvgButton(\n    wingButton(3, 4, "animation_pathClock"),\n    viewModel.playRealtimeViewModel\n  );\n  this._playReverseSVG = new SvgButton(\n    rectButton(44, 99, "animation_pathPlayReverse"),\n    viewModel.playReverseViewModel\n  );\n  this._playForwardSVG = new SvgButton(\n    rectButton(124, 99, "animation_pathPlay"),\n    viewModel.playForwardViewModel\n  );\n  this._pauseSVG = new SvgButton(\n    rectButton(84, 99, "animation_pathPause"),\n    viewModel.pauseViewModel\n  );\n\n  var buttonsG = document.createElementNS(svgNS, "g");\n  buttonsG.appendChild(this._realtimeSVG.svgElement);\n  buttonsG.appendChild(this._playReverseSVG.svgElement);\n  buttonsG.appendChild(this._playForwardSVG.svgElement);\n  buttonsG.appendChild(this._pauseSVG.svgElement);\n\n  var shuttleRingBackPanel = svgFromObject({\n    tagName: "circle",\n    class: "cesium-animation-shuttleRingBack",\n    cx: 100,\n    cy: 100,\n    r: 99,\n  });\n  this._shuttleRingBackPanel = shuttleRingBackPanel;\n\n  var swooshIconInfo = svgIconsById["animation_pathSwooshFX"];\n  var shuttleRingPointerIconInfo = svgIconsById["animation_pathPointer"];\n\n  var shuttleRingSwooshG = svgFromObject({\n    tagName: "g",\n    class: "cesium-animation-shuttleRingSwoosh",\n    children: [\n      {\n        tagName: swooshIconInfo.tagName,\n        transform: "translate(100,97) scale(-1,1)",\n        id: "animation_pathSwooshFX",\n        d: swooshIconInfo.d,\n      },\n      {\n        tagName: swooshIconInfo.tagName,\n        transform: "translate(100,97)",\n        id: "animation_pathSwooshFX",\n        d: swooshIconInfo.d,\n      },\n      {\n        tagName: "line",\n        x1: 100,\n        y1: 8,\n        x2: 100,\n        y2: 22,\n      },\n    ],\n  });\n  this._shuttleRingSwooshG = shuttleRingSwooshG;\n\n  this._shuttleRingPointer = svgFromObject({\n    class: "cesium-animation-shuttleRingPointer",\n    id: "animation_pathPointer",\n    tagName: shuttleRingPointerIconInfo.tagName,\n    d: shuttleRingPointerIconInfo.d,\n  });\n\n  var knobG = svgFromObject({\n    tagName: "g",\n    transform: "translate(100,100)",\n  });\n\n  this._knobOuter = svgFromObject({\n    tagName: "circle",\n    class: "cesium-animation-knobOuter",\n    cx: 0,\n    cy: 0,\n    r: 71,\n  });\n\n  var knobInnerAndShieldSize = 61;\n\n  var knobInner = svgFromObject({\n    tagName: "circle",\n    class: "cesium-animation-knobInner",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize,\n  });\n\n  this._knobDate = svgText(0, -24, "");\n  this._knobTime = svgText(0, -7, "");\n  this._knobStatus = svgText(0, -41, "");\n\n  // widget shield catches clicks on the knob itself (even while DOM elements underneath are changing).\n  var knobShield = svgFromObject({\n    tagName: "circle",\n    class: "cesium-animation-blank",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize,\n  });\n\n  var shuttleRingBackG = document.createElementNS(svgNS, "g");\n  shuttleRingBackG.setAttribute("class", "cesium-animation-shuttleRingG");\n\n  container.appendChild(themeEle);\n  topG.appendChild(shuttleRingBackG);\n  topG.appendChild(knobG);\n  topG.appendChild(buttonsG);\n\n  shuttleRingBackG.appendChild(shuttleRingBackPanel);\n  shuttleRingBackG.appendChild(shuttleRingSwooshG);\n  shuttleRingBackG.appendChild(this._shuttleRingPointer);\n\n  knobG.appendChild(this._knobOuter);\n  knobG.appendChild(knobInner);\n  knobG.appendChild(this._knobDate);\n  knobG.appendChild(this._knobTime);\n  knobG.appendChild(this._knobStatus);\n  knobG.appendChild(knobShield);\n\n  svg.appendChild(topG);\n  container.appendChild(svg);\n\n  var that = this;\n  function mouseCallback(e) {\n    setShuttleRingFromMouseOrTouch(that, e);\n  }\n  this._mouseCallback = mouseCallback;\n\n  shuttleRingBackPanel.addEventListener("mousedown", mouseCallback, true);\n  shuttleRingBackPanel.addEventListener("touchstart", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener("mousedown", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener("touchstart", mouseCallback, true);\n  ownerDocument.addEventListener("mousemove", mouseCallback, true);\n  ownerDocument.addEventListener("touchmove", mouseCallback, true);\n  ownerDocument.addEventListener("mouseup", mouseCallback, true);\n  ownerDocument.addEventListener("touchend", mouseCallback, true);\n  ownerDocument.addEventListener("touchcancel", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener("mousedown", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener("touchstart", mouseCallback, true);\n  this._knobOuter.addEventListener("mousedown", mouseCallback, true);\n  this._knobOuter.addEventListener("touchstart", mouseCallback, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  var timeNode = this._knobTime.childNodes[0];\n  var dateNode = this._knobDate.childNodes[0];\n  var statusNode = this._knobStatus.childNodes[0];\n  var isPaused;\n  this._subscriptions = [\n    //\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel.pauseViewModel, "toggled", function (value) {\n      if (isPaused !== value) {\n        isPaused = value;\n        if (isPaused) {\n          that._shuttleRingPointer.setAttribute(\n            "class",\n            "cesium-animation-shuttleRingPausePointer"\n          );\n        } else {\n          that._shuttleRingPointer.setAttribute(\n            "class",\n            "cesium-animation-shuttleRingPointer"\n          );\n        }\n      }\n    }),\n\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel, "shuttleRingAngle", function (value) {\n      setShuttleRingPointer(that._shuttleRingPointer, that._knobOuter, value);\n    }),\n\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel, "dateLabel", function (value) {\n      if (dateNode.textContent !== value) {\n        dateNode.textContent = value;\n      }\n    }),\n\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel, "timeLabel", function (value) {\n      if (timeNode.textContent !== value) {\n        timeNode.textContent = value;\n      }\n    }),\n\n    (0,_subscribeAndEvaluate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewModel, "multiplierLabel", function (value) {\n      if (statusNode.textContent !== value) {\n        statusNode.textContent = value;\n      }\n    }),\n  ];\n\n  this.applyThemeChanges();\n  this.resize();\n}\n\nObject.defineProperties(Animation.prototype, {\n  /**\n   * Gets the parent container.\n   *\n   * @memberof Animation.prototype\n   * @type {Element}\n   * @readonly\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   *\n   * @memberof Animation.prototype\n   * @type {AnimationViewModel}\n   * @readonly\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nAnimation.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the animation widget.  Should be called if permanently\n * removing the widget from layout.\n */\nAnimation.prototype.destroy = function () {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this._observer)) {\n    this._observer.disconnect();\n    this._observer = undefined;\n  }\n\n  var doc = this._container.ownerDocument;\n\n  var mouseCallback = this._mouseCallback;\n  this._shuttleRingBackPanel.removeEventListener(\n    "mousedown",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingBackPanel.removeEventListener(\n    "touchstart",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingSwooshG.removeEventListener(\n    "mousedown",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingSwooshG.removeEventListener(\n    "touchstart",\n    mouseCallback,\n    true\n  );\n  doc.removeEventListener("mousemove", mouseCallback, true);\n  doc.removeEventListener("touchmove", mouseCallback, true);\n  doc.removeEventListener("mouseup", mouseCallback, true);\n  doc.removeEventListener("touchend", mouseCallback, true);\n  doc.removeEventListener("touchcancel", mouseCallback, true);\n  this._shuttleRingPointer.removeEventListener(\n    "mousedown",\n    mouseCallback,\n    true\n  );\n  this._shuttleRingPointer.removeEventListener(\n    "touchstart",\n    mouseCallback,\n    true\n  );\n  this._knobOuter.removeEventListener("mousedown", mouseCallback, true);\n  this._knobOuter.removeEventListener("touchstart", mouseCallback, true);\n\n  this._container.removeChild(this._svgNode);\n  this._container.removeChild(this._theme);\n  this._realtimeSVG.destroy();\n  this._playReverseSVG.destroy();\n  this._playForwardSVG.destroy();\n  this._pauseSVG.destroy();\n\n  var subscriptions = this._subscriptions;\n  for (var i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n\n/**\n * Resizes the widget to match the container size.\n * This function should be called whenever the container size is changed.\n */\nAnimation.prototype.resize = function () {\n  var parentWidth = this._container.clientWidth;\n  var parentHeight = this._container.clientHeight;\n  if (parentWidth === this._lastWidth && parentHeight === this._lastHeight) {\n    return;\n  }\n\n  var svg = this._svgNode;\n\n  //The width and height as the SVG was originally drawn.\n  var baseWidth = 200;\n  var baseHeight = 132;\n\n  var width = parentWidth;\n  var height = parentHeight;\n\n  if (parentWidth === 0 && parentHeight === 0) {\n    width = baseWidth;\n    height = baseHeight;\n  } else if (parentWidth === 0) {\n    height = parentHeight;\n    width = baseWidth * (parentHeight / baseHeight);\n  } else if (parentHeight === 0) {\n    width = parentWidth;\n    height = baseHeight * (parentWidth / baseWidth);\n  }\n\n  var scaleX = width / baseWidth;\n  var scaleY = height / baseHeight;\n\n  svg.style.cssText =\n    "width: " +\n    width +\n    "px; height: " +\n    height +\n    "px; position: absolute; bottom: 0; left: 0; overflow: hidden;";\n  svg.setAttribute("width", width);\n  svg.setAttribute("height", height);\n  svg.setAttribute("viewBox", "0 0 " + width + " " + height);\n\n  this._topG.setAttribute("transform", "scale(" + scaleX + "," + scaleY + ")");\n\n  this._centerX = Math.max(1, 100.0 * scaleX);\n  this._centerY = Math.max(1, 100.0 * scaleY);\n\n  this._lastHeight = parentWidth;\n  this._lastWidth = parentHeight;\n};\n\n/**\n * Updates the widget to reflect any modified CSS rules for theming.\n *\n * @example\n * //Switch to the cesium-lighter theme.\n * document.body.className = \'cesium-lighter\';\n * animation.applyThemeChanges();\n */\nAnimation.prototype.applyThemeChanges = function () {\n  // Since we rely on computed styles for themeing, we can\'t actually\n  // do anything if the container has not yet been added to the DOM.\n  // Set up an observer to be notified when it is added and apply\n  // the changes at that time.\n\n  var doc = this._container.ownerDocument;\n\n  if (!doc.body.contains(this._container)) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this._observer)) {\n      //Already listening.\n      return;\n    }\n    var that = this;\n    that._observer = new MutationObserver(function () {\n      if (doc.body.contains(that._container)) {\n        that._observer.disconnect();\n        that._observer = undefined;\n        that.applyThemeChanges();\n      }\n    });\n    that._observer.observe(doc, { childList: true, subtree: true });\n    return;\n  }\n\n  var buttonNormalBackColor = getElementColor(this._themeNormal);\n  var buttonHoverBackColor = getElementColor(this._themeHover);\n  var buttonToggledBackColor = getElementColor(this._themeSelect);\n  var buttonDisabledBackColor = getElementColor(this._themeDisabled);\n  var knobBackColor = getElementColor(this._themeKnob);\n  var pointerColor = getElementColor(this._themePointer);\n  var swooshColor = getElementColor(this._themeSwoosh);\n  var swooshHoverColor = getElementColor(this._themeSwooshHover);\n\n  var defsElement = svgFromObject({\n    tagName: "defs",\n    children: [\n      {\n        id: "animation_buttonNormal",\n        tagName: "linearGradient",\n        x1: "50%",\n        y1: "0%",\n        x2: "50%",\n        y2: "100%",\n        children: [\n          //add a \'stop-opacity\' field to make translucent.\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-color": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor0\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "12%",\n            "stop-color": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor1\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "46%",\n            "stop-color": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor2\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "81%",\n            "stop-color": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor3\n            ),\n          },\n        ],\n      },\n      {\n        id: "animation_buttonHovered",\n        tagName: "linearGradient",\n        x1: "50%",\n        y1: "0%",\n        x2: "50%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-color": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor0\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "12%",\n            "stop-color": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor1\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "46%",\n            "stop-color": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor2\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "81%",\n            "stop-color": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor3\n            ),\n          },\n        ],\n      },\n      {\n        id: "animation_buttonToggled",\n        tagName: "linearGradient",\n        x1: "50%",\n        y1: "0%",\n        x2: "50%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-color": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor0\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "12%",\n            "stop-color": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor1\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "46%",\n            "stop-color": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor2\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "81%",\n            "stop-color": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor3\n            ),\n          },\n        ],\n      },\n      {\n        id: "animation_buttonDisabled",\n        tagName: "linearGradient",\n        x1: "50%",\n        y1: "0%",\n        x2: "50%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-color": makeColorString(\n              buttonDisabledBackColor,\n              gradientDisabledColor0\n            ),\n          },\n          {\n            tagName: "stop",\n            offset: "75%",\n            "stop-color": makeColorString(\n              buttonDisabledBackColor,\n              gradientDisabledColor1\n            ),\n          },\n        ],\n      },\n      {\n        id: "animation_blurred",\n        tagName: "filter",\n        width: "200%",\n        height: "200%",\n        x: "-50%",\n        y: "-50%",\n        children: [\n          {\n            tagName: "feGaussianBlur",\n            stdDeviation: 4,\n            in: "SourceGraphic",\n          },\n        ],\n      },\n      {\n        id: "animation_shuttleRingSwooshGradient",\n        tagName: "linearGradient",\n        x1: "50%",\n        y1: "0%",\n        x2: "50%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-opacity": 0.2,\n            "stop-color": swooshColor.toCssColorString(),\n          },\n          {\n            tagName: "stop",\n            offset: "85%",\n            "stop-opacity": 0.85,\n            "stop-color": swooshColor.toCssColorString(),\n          },\n          {\n            tagName: "stop",\n            offset: "95%",\n            "stop-opacity": 0.05,\n            "stop-color": swooshColor.toCssColorString(),\n          },\n        ],\n      },\n      {\n        id: "animation_shuttleRingSwooshHovered",\n        tagName: "linearGradient",\n        x1: "50%",\n        y1: "0%",\n        x2: "50%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-opacity": 0.2,\n            "stop-color": swooshHoverColor.toCssColorString(),\n          },\n          {\n            tagName: "stop",\n            offset: "85%",\n            "stop-opacity": 0.85,\n            "stop-color": swooshHoverColor.toCssColorString(),\n          },\n          {\n            tagName: "stop",\n            offset: "95%",\n            "stop-opacity": 0.05,\n            "stop-color": swooshHoverColor.toCssColorString(),\n          },\n        ],\n      },\n      {\n        id: "animation_shuttleRingPointerGradient",\n        tagName: "linearGradient",\n        x1: "0%",\n        y1: "50%",\n        x2: "100%",\n        y2: "50%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-color": pointerColor.toCssColorString(),\n          },\n          {\n            tagName: "stop",\n            offset: "40%",\n            "stop-color": pointerColor.toCssColorString(),\n          },\n          {\n            tagName: "stop",\n            offset: "60%",\n            "stop-color": makeColorString(pointerColor, gradientPointerColor),\n          },\n          {\n            tagName: "stop",\n            offset: "100%",\n            "stop-color": makeColorString(pointerColor, gradientPointerColor),\n          },\n        ],\n      },\n      {\n        id: "animation_shuttleRingPointerPaused",\n        tagName: "linearGradient",\n        x1: "0%",\n        y1: "50%",\n        x2: "100%",\n        y2: "50%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "0%",\n            "stop-color": "#CCC",\n          },\n          {\n            tagName: "stop",\n            offset: "40%",\n            "stop-color": "#CCC",\n          },\n          {\n            tagName: "stop",\n            offset: "60%",\n            "stop-color": "#555",\n          },\n          {\n            tagName: "stop",\n            offset: "100%",\n            "stop-color": "#555",\n          },\n        ],\n      },\n      {\n        id: "animation_knobOuter",\n        tagName: "linearGradient",\n        x1: "20%",\n        y1: "0%",\n        x2: "90%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "5%",\n            "stop-color": makeColorString(knobBackColor, gradientEnabledColor0),\n          },\n          {\n            tagName: "stop",\n            offset: "60%",\n            "stop-color": makeColorString(knobBackColor, gradientKnobColor),\n          },\n          {\n            tagName: "stop",\n            offset: "85%",\n            "stop-color": makeColorString(knobBackColor, gradientEnabledColor1),\n          },\n        ],\n      },\n      {\n        id: "animation_knobInner",\n        tagName: "linearGradient",\n        x1: "20%",\n        y1: "0%",\n        x2: "90%",\n        y2: "100%",\n        children: [\n          {\n            tagName: "stop",\n            offset: "5%",\n            "stop-color": makeColorString(knobBackColor, gradientKnobColor),\n          },\n          {\n            tagName: "stop",\n            offset: "60%",\n            "stop-color": makeColorString(knobBackColor, gradientEnabledColor0),\n          },\n          {\n            tagName: "stop",\n            offset: "85%",\n            "stop-color": makeColorString(knobBackColor, gradientEnabledColor3),\n          },\n        ],\n      },\n    ],\n  });\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this._defsElement)) {\n    this._svgNode.appendChild(defsElement);\n  } else {\n    this._svgNode.replaceChild(defsElement, this._defsElement);\n  }\n  this._defsElement = defsElement;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Animation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc5NzMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdDO0FBQ0k7QUFDWTtBQUNFO0FBQ2hCO0FBQ29COztBQUU5RDtBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBd0I7QUFDcEQsNEJBQTRCLHFHQUF3QjtBQUNwRCw0QkFBNEIscUdBQXdCO0FBQ3BELDRCQUE0QixxR0FBd0I7O0FBRXBELDZCQUE2QixxR0FBd0I7QUFDckQ7QUFDQTtBQUNBLDZCQUE2QixxR0FBd0I7O0FBRXJELHdCQUF3QixxR0FBd0I7QUFDaEQsMkJBQTJCLHFHQUF3Qjs7QUFFbkQ7QUFDQSxTQUFTLHFHQUF3QjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsK0RBQUs7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDZFQUFvQjtBQUN4QixJ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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSCxPQUFPLHFFQUFPO0FBQ2Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBZSxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvV2lkZ2V0cy9BbmltYXRpb24vQW5pbWF0aW9uLmpzP2UxY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbG9yIGZyb20gXCIuLi8uLi9Db3JlL0NvbG9yLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uLy4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBnZXRFbGVtZW50IGZyb20gXCIuLi9nZXRFbGVtZW50LmpzXCI7XG5pbXBvcnQgc3Vic2NyaWJlQW5kRXZhbHVhdGUgZnJvbSBcIi4uL3N1YnNjcmliZUFuZEV2YWx1YXRlLmpzXCI7XG5cbnZhciBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbnZhciB4bGlua05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI7XG5cbnZhciB3aWRnZXRGb3JEcmFnO1xuXG52YXIgZ3JhZGllbnRFbmFibGVkQ29sb3IwID0gQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFwicmdiYSgyNDcsMjUwLDI1NSwwLjM4NClcIik7XG52YXIgZ3JhZGllbnRFbmFibGVkQ29sb3IxID0gQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFwicmdiYSgxNDMsMTkxLDI1NSwwLjIxNilcIik7XG52YXIgZ3JhZGllbnRFbmFibGVkQ29sb3IyID0gQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFwicmdiYSgxNTMsMTk3LDI1NSwwLjA5OClcIik7XG52YXIgZ3JhZGllbnRFbmFibGVkQ29sb3IzID0gQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFwicmdiYSgyNTUsMjU1LDI1NSwwLjA4NilcIik7XG5cbnZhciBncmFkaWVudERpc2FibGVkQ29sb3IwID0gQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKFxuICBcInJnYmEoMjU1LDI1NSwyNTUsMC4yNjcpXCJcbik7XG52YXIgZ3JhZGllbnREaXNhYmxlZENvbG9yMSA9IENvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhcInJnYmEoMjU1LDI1NSwyNTUsMClcIik7XG5cbnZhciBncmFkaWVudEtub2JDb2xvciA9IENvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhcInJnYmEoNjYsNjcsNjgsMC4zKVwiKTtcbnZhciBncmFkaWVudFBvaW50ZXJDb2xvciA9IENvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhcInJnYmEoMCwwLDAsMC41KVwiKTtcblxuZnVuY3Rpb24gZ2V0RWxlbWVudENvbG9yKGVsZW1lbnQpIHtcbiAgcmV0dXJuIENvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhcbiAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKFwiY29sb3JcIilcbiAgKTtcbn1cblxudmFyIHN2Z0ljb25zQnlJZCA9IHtcbiAgYW5pbWF0aW9uX3BhdGhSZXNldDoge1xuICAgIHRhZ05hbWU6IFwicGF0aFwiLFxuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMTYsMTYpIHNjYWxlKDAuODUpIHRyYW5zbGF0ZSgtMTYsLTE2KVwiLFxuICAgIGQ6XG4gICAgICBcIk0yNC4zMTYsNS4zMTgsOS44MzMsMTMuNjgyLDkuODMzLDUuNSw1LjUsNS41LDUuNSwyNS41LDkuODMzLDI1LjUsOS44MzMsMTcuMzE4LDI0LjMxNiwyNS42ODJ6XCIsXG4gIH0sXG4gIGFuaW1hdGlvbl9wYXRoUGF1c2U6IHtcbiAgICB0YWdOYW1lOiBcInBhdGhcIixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDE2LDE2KSBzY2FsZSgwLjg1KSB0cmFuc2xhdGUoLTE2LC0xNilcIixcbiAgICBkOiBcIk0xMyw1LjUsNy41LDUuNSw3LjUsMjUuNSwxMywyNS41ek0yNC41LDUuNSwxOSw1LjUsMTksMjUuNSwyNC41LDI1LjV6XCIsXG4gIH0sXG4gIGFuaW1hdGlvbl9wYXRoUGxheToge1xuICAgIHRhZ05hbWU6IFwicGF0aFwiLFxuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMTYsMTYpIHNjYWxlKDAuODUpIHRyYW5zbGF0ZSgtMTYsLTE2KVwiLFxuICAgIGQ6IFwiTTYuNjg0LDI1LjY4MkwyNC4zMTYsMTUuNUw2LjY4NCw1LjMxOFYyNS42ODJ6XCIsXG4gIH0sXG4gIGFuaW1hdGlvbl9wYXRoUGxheVJldmVyc2U6IHtcbiAgICB0YWdOYW1lOiBcInBhdGhcIixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDE2LDE2KSBzY2FsZSgtMC44NSwwLjg1KSB0cmFuc2xhdGUoLTE2LC0xNilcIixcbiAgICBkOiBcIk02LjY4NCwyNS42ODJMMjQuMzE2LDE1LjVMNi42ODQsNS4zMThWMjUuNjgyelwiLFxuICB9LFxuICBhbmltYXRpb25fcGF0aExvb3A6IHtcbiAgICB0YWdOYW1lOiBcInBhdGhcIixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDE2LDE2KSBzY2FsZSgwLjg1KSB0cmFuc2xhdGUoLTE2LC0xNilcIixcbiAgICBkOlxuICAgICAgXCJNMjQuMjQ5LDE1LjQ5OWMtMC4wMDksNC44MzItMy45MTgsOC43NDEtOC43NSw4Ljc1Yy0yLjUxNSwwLTQuNzY4LTEuMDY0LTYuMzY1LTIuNzYzbDIuMDY4LTEuNDQybC03LjkwMS0zLjcwM2wwLjc0NCw4LjY5NGwyLjE5My0xLjUyOWMyLjI0NCwyLjU5NCw1LjU2Miw0LjI0Miw5LjI2LDQuMjQyYzYuNzY3LDAsMTIuMjQ5LTUuNDgyLDEyLjI0OS0xMi4yNDlIMjQuMjQ5ek0xNS40OTksNi43NWMyLjUxNiwwLDQuNzY5LDEuMDY1LDYuMzY3LDIuNzY0bC0yLjA2OCwxLjQ0M2w3LjkwMSwzLjcwMWwtMC43NDYtOC42OTNsLTIuMTkyLDEuNTI5Yy0yLjI0NS0yLjU5NC01LjU2Mi00LjI0NS05LjI2Mi00LjI0NUM4LjczNCwzLjI1LDMuMjUsOC43MzQsMy4yNDksMTUuNDk5SDYuNzVDNi43NTgsMTAuNjY4LDEwLjY2OCw2Ljc1OCwxNS40OTksNi43NXpcIixcbiAgfSxcbiAgYW5pbWF0aW9uX3BhdGhDbG9jazoge1xuICAgIHRhZ05hbWU6IFwicGF0aFwiLFxuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoMTYsMTYpIHNjYWxlKDAuODUpIHRyYW5zbGF0ZSgtMTYsLTE1LjUpXCIsXG4gICAgZDpcbiAgICAgIFwiTTE1LjUsMi4zNzRDOC4yNTEsMi4zNzUsMi4zNzYsOC4yNTEsMi4zNzQsMTUuNUMyLjM3NiwyMi43NDgsOC4yNTEsMjguNjIzLDE1LjUsMjguNjI3YzcuMjQ5LTAuMDA0LDEzLjEyNC01Ljg3OSwxMy4xMjUtMTMuMTI3QzI4LjYyNCw4LjI1MSwyMi43NDksMi4zNzUsMTUuNSwyLjM3NHpNMTUuNSwyNS42MjNDOS45MDksMjUuNjE1LDUuMzg1LDIxLjA5LDUuMzc1LDE1LjVDNS4zODUsOS45MDksOS45MDksNS4zODQsMTUuNSw1LjM3NGM1LjU5LDAuMDEsMTAuMTE1LDQuNTM1LDEwLjEyNCwxMC4xMjVDMjUuNjE1LDIxLjA5LDIxLjA5MSwyNS42MTUsMTUuNSwyNS42MjN6TTguNjI1LDE1LjVjLTAuMDAxLTAuNTUyLTAuNDQ4LTAuOTk5LTEuMDAxLTFjLTAuNTUzLDAtMSwwLjQ0OC0xLDFjMCwwLjU1MywwLjQ0OSwxLDEsMUM4LjE3NiwxNi41LDguNjI0LDE2LjA1Myw4LjYyNSwxNS41ek04LjE3OSwxOC41NzJjLTAuNDc4LDAuMjc3LTAuNjQyLDAuODg5LTAuMzY1LDEuMzY3YzAuMjc1LDAuNDc5LDAuODg5LDAuNjQxLDEuMzY1LDAuMzY1YzAuNDc5LTAuMjc1LDAuNjQzLTAuODg3LDAuMzY3LTEuMzY3QzkuMjcsMTguNDYxLDguNjU4LDE4LjI5Nyw4LjE3OSwxOC41NzJ6TTkuMTgsMTAuNjk2Yy0wLjQ3OS0wLjI3Ni0xLjA5LTAuMTEyLTEuMzY2LDAuMzY2cy0wLjExMSwxLjA5LDAuMzY1LDEuMzY2YzAuNDc5LDAuMjc2LDEuMDksMC4xMTMsMS4zNjctMC4zNjZDOS44MjEsMTEuNTg0LDkuNjU3LDEwLjk3Myw5LjE4LDEwLjY5NnpNMjIuODIyLDEyLjQyOGMwLjQ3OC0wLjI3NSwwLjY0My0wLjg4OCwwLjM2Ni0xLjM2NmMtMC4yNzUtMC40NzgtMC44OS0wLjY0Mi0xLjM2Ni0wLjM2NmMtMC40NzksMC4yNzgtMC42NDIsMC44OS0wLjM2NiwxLjM2N0MyMS43MzIsMTIuNTQsMjIuMzQ0LDEyLjcwNSwyMi44MjIsMTIuNDI4ek0xMi4wNjIsMjEuNDU1Yy0wLjQ3OC0wLjI3NS0xLjA4OS0wLjExMS0xLjM2NiwwLjM2N2MtMC4yNzUsMC40NzktMC4xMTEsMS4wOSwwLjM2NiwxLjM2NWMwLjQ3OCwwLjI3NywxLjA5MSwwLjExMSwxLjM2NS0wLjM2NUMxMi43MDQsMjIuMzQ0LDEyLjU0LDIxLjczMiwxMi4wNjIsMjEuNDU1ek0xMi4wNjIsOS41NDVjMC40NzktMC4yNzYsMC42NDItMC44ODgsMC4zNjYtMS4zNjZjLTAuMjc2LTAuNDc4LTAuODg4LTAuNjQyLTEuMzY2LTAuMzY2cy0wLjY0MiwwLjg4OC0wLjM2NiwxLjM2NkMxMC45NzMsOS42NTgsMTEuNTg0LDkuODIyLDEyLjA2Miw5LjU0NXpNMjIuODIzLDE4LjU3MmMtMC40OC0wLjI3NS0xLjA5Mi0wLjExMS0xLjM2NywwLjM2NWMtMC4yNzUsMC40NzktMC4xMTIsMS4wOTIsMC4zNjcsMS4zNjdjMC40NzcsMC4yNzUsMS4wODksMC4xMTMsMS4zNjUtMC4zNjVDMjMuNDY0LDE5LjQ2MSwyMy4zLDE4Ljg0OCwyMi44MjMsMTguNTcyek0xOS45MzgsNy44MTNjLTAuNDc3LTAuMjc2LTEuMDkxLTAuMTExLTEuMzY1LDAuMzY2Yy0wLjI3NSwwLjQ4LTAuMTExLDEuMDkxLDAuMzY2LDEuMzY3czEuMDg5LDAuMTEyLDEuMzY2LTAuMzY2QzIwLjU4MSw4LjcwMiwyMC40MTgsOC4wODksMTkuOTM4LDcuODEzek0yMy4zNzgsMTQuNWMtMC41NTQsMC4wMDItMS4wMDEsMC40NS0xLjAwMSwxYzAuMDAxLDAuNTUyLDAuNDQ4LDEsMS4wMDEsMWMwLjU1MSwwLDEtMC40NDcsMS0xQzI0LjM3OCwxNC45NDksMjMuOTI5LDE0LjUsMjMuMzc4LDE0LjV6TTE1LjUwMSw2LjYyNGMtMC41NTIsMC0xLDAuNDQ4LTEsMWwtMC40NjYsNy4zNDNsLTMuMDA0LDEuOTZjLTAuNDc4LDAuMjc3LTAuNjQyLDAuODg5LTAuMzY1LDEuMzY1YzAuMjc1LDAuNDc5LDAuODg5LDAuNjQzLDEuMzY1LDAuMzY3bDMuMzA1LTEuNjc2QzE1LjM5LDE2Ljk5LDE1LjQ0NCwxNywxNS41MDEsMTdjMC44MjgsMCwxLjUtMC42NzEsMS41LTEuNWwtMC41LTcuODc2QzE2LjUwMSw3LjA3MiwxNi4wNTMsNi42MjQsMTUuNTAxLDYuNjI0ek0xNS41MDEsMjIuMzc3Yy0wLjU1MiwwLTEsMC40NDctMSwxczAuNDQ4LDEsMSwxczEtMC40NDcsMS0xUzE2LjA1MywyMi4zNzcsMTUuNTAxLDIyLjM3N3pNMTguOTM5LDIxLjQ1NWMtMC40NzksMC4yNzctMC42NDMsMC44ODktMC4zNjYsMS4zNjdjMC4yNzUsMC40NzcsMC44ODgsMC42NDMsMS4zNjYsMC4zNjVjMC40NzgtMC4yNzUsMC42NDItMC44ODksMC4zNjYtMS4zNjVDMjAuMDI4LDIxLjM0NCwxOS40MTcsMjEuMTgsMTguOTM5LDIxLjQ1NXpcIixcbiAgfSxcbiAgYW5pbWF0aW9uX3BhdGhXaW5nQnV0dG9uOiB7XG4gICAgdGFnTmFtZTogXCJwYXRoXCIsXG4gICAgZDpcbiAgICAgIFwibSA0LjUsMC41IGMgLTIuMjE2LDAgLTQsMS43ODQgLTQsNCBsIDAsMjQgYyAwLDIuMjE2IDEuNzg0LDQgNCw0IGwgMTMuNzE4NzUsMCBDIDIyLjQ3ODU4NCwyNy4yNzI3ODUgMjcuMjczNjgxLDIyLjUxMTI3MiAzMi41LDE4LjI1IGwgMCwtMTMuNzUgYyAwLC0yLjIxNiAtMS43ODQsLTQgLTQsLTQgbCAtMjQsMCB6XCIsXG4gIH0sXG4gIGFuaW1hdGlvbl9wYXRoUG9pbnRlcjoge1xuICAgIHRhZ05hbWU6IFwicGF0aFwiLFxuICAgIGQ6IFwiTS0xNSwtNjUsLTE1LC01NSwxNSwtNTUsMTUsLTY1LDAsLTk1elwiLFxuICB9LFxuICBhbmltYXRpb25fcGF0aFN3b29zaEZYOiB7XG4gICAgdGFnTmFtZTogXCJwYXRoXCIsXG4gICAgZDpcbiAgICAgIFwibSA4NSwwIGMgMCwxNi42MTcgLTQuODEzOTQ0LDM1LjM1NiAtMTMuMTMxMDgxLDQ4LjQ1MDggaCA2LjA5OTgwMyBjIDguMzE3MTM4LC0xMy4wOTQ4IDEzLjEzMzIyLC0yOC41OTU1IDEzLjEzMzIyLC00NS4yMTI0IDAsLTQ2Ljk0NDgzIC0zOC40MDI3MTQsLTg1LjAwMjYyIC04NS43NzQzODY5LC04NS4wMDI2MiAtMS4wMjE4NTIyLDAgLTIuMDM3MzAwMSwwLjAyNDEgLTMuMDUwNjEzMSwwLjA1ODkgNDUuOTU4NDQzLDEuNTk0MzcgODIuNzIzMDU4LDM1Ljc3Mjg1IDgyLjcyMzA1OCw4MS43MDUzMiB6XCIsXG4gIH0sXG59O1xuXG4vL0R5bmFtaWNhbGx5IGJ1aWxkcyBhbiBTVkcgZWxlbWVudCBmcm9tIGEgSlNPTiBvYmplY3QuXG5mdW5jdGlvbiBzdmdGcm9tT2JqZWN0KG9iaikge1xuICB2YXIgZWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCBvYmoudGFnTmFtZSk7XG4gIGZvciAodmFyIGZpZWxkIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoZmllbGQpICYmIGZpZWxkICE9PSBcInRhZ05hbWVcIikge1xuICAgICAgaWYgKGZpZWxkID09PSBcImNoaWxkcmVuXCIpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBsZW4gPSBvYmouY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICBlbGUuYXBwZW5kQ2hpbGQoc3ZnRnJvbU9iamVjdChvYmouY2hpbGRyZW5baV0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChmaWVsZC5pbmRleE9mKFwieGxpbms6XCIpID09PSAwKSB7XG4gICAgICAgIGVsZS5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBmaWVsZC5zdWJzdHJpbmcoNiksIG9ialtmaWVsZF0pO1xuICAgICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgICAgIGVsZS50ZXh0Q29udGVudCA9IG9ialtmaWVsZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGUuc2V0QXR0cmlidXRlKGZpZWxkLCBvYmpbZmllbGRdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZTtcbn1cblxuZnVuY3Rpb24gc3ZnVGV4dCh4LCB5LCBtc2cpIHtcbiAgdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIFwidGV4dFwiKTtcbiAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIHgpO1xuICB0ZXh0LnNldEF0dHJpYnV0ZShcInlcIiwgeSk7XG4gIHRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjZXNpdW0tYW5pbWF0aW9uLXN2Z1RleHRcIik7XG5cbiAgdmFyIHRzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCBcInRzcGFuXCIpO1xuICB0c3Bhbi50ZXh0Q29udGVudCA9IG1zZztcbiAgdGV4dC5hcHBlbmRDaGlsZCh0c3Bhbik7XG4gIHJldHVybiB0ZXh0O1xufVxuXG5mdW5jdGlvbiBzZXRTaHV0dGxlUmluZ1BvaW50ZXIoc2h1dHRsZVJpbmdQb2ludGVyLCBrbm9iT3V0ZXIsIGFuZ2xlKSB7XG4gIHNodXR0bGVSaW5nUG9pbnRlci5zZXRBdHRyaWJ1dGUoXG4gICAgXCJ0cmFuc2Zvcm1cIixcbiAgICBcInRyYW5zbGF0ZSgxMDAsMTAwKSByb3RhdGUoXCIgKyBhbmdsZSArIFwiKVwiXG4gICk7XG4gIGtub2JPdXRlci5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoXCIgKyBhbmdsZSArIFwiKVwiKTtcbn1cblxudmFyIG1ha2VDb2xvclN0cmluZ1NjcmF0Y2ggPSBuZXcgQ29sb3IoKTtcbmZ1bmN0aW9uIG1ha2VDb2xvclN0cmluZyhiYWNrZ3JvdW5kLCBncmFkaWVudCkge1xuICB2YXIgZ3JhZGllbnRBbHBoYSA9IGdyYWRpZW50LmFscGhhO1xuICB2YXIgYmFja2dyb3VuZEFscGhhID0gMS4wIC0gZ3JhZGllbnRBbHBoYTtcbiAgbWFrZUNvbG9yU3RyaW5nU2NyYXRjaC5yZWQgPVxuICAgIGJhY2tncm91bmQucmVkICogYmFja2dyb3VuZEFscGhhICsgZ3JhZGllbnQucmVkICogZ3JhZGllbnRBbHBoYTtcbiAgbWFrZUNvbG9yU3RyaW5nU2NyYXRjaC5ncmVlbiA9XG4gICAgYmFja2dyb3VuZC5ncmVlbiAqIGJhY2tncm91bmRBbHBoYSArIGdyYWRpZW50LmdyZWVuICogZ3JhZGllbnRBbHBoYTtcbiAgbWFrZUNvbG9yU3RyaW5nU2NyYXRjaC5ibHVlID1cbiAgICBiYWNrZ3JvdW5kLmJsdWUgKiBiYWNrZ3JvdW5kQWxwaGEgKyBncmFkaWVudC5ibHVlICogZ3JhZGllbnRBbHBoYTtcbiAgcmV0dXJuIG1ha2VDb2xvclN0cmluZ1NjcmF0Y2gudG9Dc3NDb2xvclN0cmluZygpO1xufVxuXG5mdW5jdGlvbiByZWN0QnV0dG9uKHgsIHksIHBhdGgpIHtcbiAgdmFyIGljb25JbmZvID0gc3ZnSWNvbnNCeUlkW3BhdGhdO1xuXG4gIHZhciBidXR0b24gPSB7XG4gICAgdGFnTmFtZTogXCJnXCIsXG4gICAgY2xhc3M6IFwiY2VzaXVtLWFuaW1hdGlvbi1yZWN0QnV0dG9uXCIsXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHggKyBcIixcIiArIHkgKyBcIilcIixcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWdOYW1lOiBcInJlY3RcIixcbiAgICAgICAgY2xhc3M6IFwiY2VzaXVtLWFuaW1hdGlvbi1idXR0b25HbG93XCIsXG4gICAgICAgIHdpZHRoOiAzMixcbiAgICAgICAgaGVpZ2h0OiAzMixcbiAgICAgICAgcng6IDIsXG4gICAgICAgIHJ5OiAyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnTmFtZTogXCJyZWN0XCIsXG4gICAgICAgIGNsYXNzOiBcImNlc2l1bS1hbmltYXRpb24tYnV0dG9uTWFpblwiLFxuICAgICAgICB3aWR0aDogMzIsXG4gICAgICAgIGhlaWdodDogMzIsXG4gICAgICAgIHJ4OiA0LFxuICAgICAgICByeTogNCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiBcImNlc2l1bS1hbmltYXRpb24tYnV0dG9uUGF0aFwiLFxuICAgICAgICBpZDogcGF0aCxcbiAgICAgICAgdGFnTmFtZTogaWNvbkluZm8udGFnTmFtZSxcbiAgICAgICAgdHJhbnNmb3JtOiBpY29uSW5mby50cmFuc2Zvcm0sXG4gICAgICAgIGQ6IGljb25JbmZvLmQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0YWdOYW1lOiBcInRpdGxlXCIsXG4gICAgICAgIHRleHRDb250ZW50OiBcIlwiLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuICByZXR1cm4gc3ZnRnJvbU9iamVjdChidXR0b24pO1xufVxuXG5mdW5jdGlvbiB3aW5nQnV0dG9uKHgsIHksIHBhdGgpIHtcbiAgdmFyIGJ1dHRvbkljb25JbmZvID0gc3ZnSWNvbnNCeUlkW3BhdGhdO1xuICB2YXIgd2luZ0ljb25JbmZvID0gc3ZnSWNvbnNCeUlkW1wiYW5pbWF0aW9uX3BhdGhXaW5nQnV0dG9uXCJdO1xuXG4gIHZhciBidXR0b24gPSB7XG4gICAgdGFnTmFtZTogXCJnXCIsXG4gICAgY2xhc3M6IFwiY2VzaXVtLWFuaW1hdGlvbi1yZWN0QnV0dG9uXCIsXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIHggKyBcIixcIiArIHkgKyBcIilcIixcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBjbGFzczogXCJjZXNpdW0tYW5pbWF0aW9uLWJ1dHRvbkdsb3dcIixcbiAgICAgICAgaWQ6IFwiYW5pbWF0aW9uX3BhdGhXaW5nQnV0dG9uXCIsXG4gICAgICAgIHRhZ05hbWU6IHdpbmdJY29uSW5mby50YWdOYW1lLFxuICAgICAgICBkOiB3aW5nSWNvbkluZm8uZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiBcImNlc2l1bS1hbmltYXRpb24tYnV0dG9uTWFpblwiLFxuICAgICAgICBpZDogXCJhbmltYXRpb25fcGF0aFdpbmdCdXR0b25cIixcbiAgICAgICAgdGFnTmFtZTogd2luZ0ljb25JbmZvLnRhZ05hbWUsXG4gICAgICAgIGQ6IHdpbmdJY29uSW5mby5kLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY2xhc3M6IFwiY2VzaXVtLWFuaW1hdGlvbi1idXR0b25QYXRoXCIsXG4gICAgICAgIGlkOiBwYXRoLFxuICAgICAgICB0YWdOYW1lOiBidXR0b25JY29uSW5mby50YWdOYW1lLFxuICAgICAgICB0cmFuc2Zvcm06IGJ1dHRvbkljb25JbmZvLnRyYW5zZm9ybSxcbiAgICAgICAgZDogYnV0dG9uSWNvbkluZm8uZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZ05hbWU6IFwidGl0bGVcIixcbiAgICAgICAgdGV4dENvbnRlbnQ6IFwiXCIsXG4gICAgICB9LFxuICAgIF0sXG4gIH07XG4gIHJldHVybiBzdmdGcm9tT2JqZWN0KGJ1dHRvbik7XG59XG5cbmZ1bmN0aW9uIHNldFNodXR0bGVSaW5nRnJvbU1vdXNlT3JUb3VjaCh3aWRnZXQsIGUpIHtcbiAgdmFyIHZpZXdNb2RlbCA9IHdpZGdldC5fdmlld01vZGVsO1xuICB2YXIgc2h1dHRsZVJpbmdEcmFnZ2luZyA9IHZpZXdNb2RlbC5zaHV0dGxlUmluZ0RyYWdnaW5nO1xuXG4gIGlmIChzaHV0dGxlUmluZ0RyYWdnaW5nICYmIHdpZGdldEZvckRyYWcgIT09IHdpZGdldCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChcbiAgICBlLnR5cGUgPT09IFwibW91c2Vkb3duXCIgfHxcbiAgICAoc2h1dHRsZVJpbmdEcmFnZ2luZyAmJiBlLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIpIHx8XG4gICAgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIgJiYgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSkgfHxcbiAgICAoc2h1dHRsZVJpbmdEcmFnZ2luZyAmJiBlLnR5cGUgPT09IFwidG91Y2htb3ZlXCIgJiYgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSlcbiAgKSB7XG4gICAgdmFyIGNlbnRlclggPSB3aWRnZXQuX2NlbnRlclg7XG4gICAgdmFyIGNlbnRlclkgPSB3aWRnZXQuX2NlbnRlclk7XG4gICAgdmFyIHN2ZyA9IHdpZGdldC5fc3ZnTm9kZTtcbiAgICB2YXIgcmVjdCA9IHN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgY2xpZW50WDtcbiAgICB2YXIgY2xpZW50WTtcbiAgICBpZiAoZS50eXBlID09PSBcInRvdWNoc3RhcnRcIiB8fCBlLnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGNsaWVudFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGNsaWVudFkgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xpZW50WCA9IGUuY2xpZW50WDtcbiAgICAgIGNsaWVudFkgPSBlLmNsaWVudFk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXNodXR0bGVSaW5nRHJhZ2dpbmcgJiZcbiAgICAgIChjbGllbnRYID4gcmVjdC5yaWdodCB8fFxuICAgICAgICBjbGllbnRYIDwgcmVjdC5sZWZ0IHx8XG4gICAgICAgIGNsaWVudFkgPCByZWN0LnRvcCB8fFxuICAgICAgICBjbGllbnRZID4gcmVjdC5ib3R0b20pXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHBvaW50ZXJSZWN0ID0gd2lkZ2V0Ll9zaHV0dGxlUmluZ1BvaW50ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgeCA9IGNsaWVudFggLSBjZW50ZXJYIC0gcmVjdC5sZWZ0O1xuICAgIHZhciB5ID0gY2xpZW50WSAtIGNlbnRlclkgLSByZWN0LnRvcDtcblxuICAgIHZhciBhbmdsZSA9IChNYXRoLmF0YW4yKHksIHgpICogMTgwKSAvIE1hdGguUEkgKyA5MDtcbiAgICBpZiAoYW5nbGUgPiAxODApIHtcbiAgICAgIGFuZ2xlIC09IDM2MDtcbiAgICB9XG4gICAgdmFyIHNodXR0bGVSaW5nQW5nbGUgPSB2aWV3TW9kZWwuc2h1dHRsZVJpbmdBbmdsZTtcbiAgICBpZiAoXG4gICAgICBzaHV0dGxlUmluZ0RyYWdnaW5nIHx8XG4gICAgICAoY2xpZW50WCA8IHBvaW50ZXJSZWN0LnJpZ2h0ICYmXG4gICAgICAgIGNsaWVudFggPiBwb2ludGVyUmVjdC5sZWZ0ICYmXG4gICAgICAgIGNsaWVudFkgPiBwb2ludGVyUmVjdC50b3AgJiZcbiAgICAgICAgY2xpZW50WSA8IHBvaW50ZXJSZWN0LmJvdHRvbSlcbiAgICApIHtcbiAgICAgIHdpZGdldEZvckRyYWcgPSB3aWRnZXQ7XG4gICAgICB2aWV3TW9kZWwuc2h1dHRsZVJpbmdEcmFnZ2luZyA9IHRydWU7XG4gICAgICB2aWV3TW9kZWwuc2h1dHRsZVJpbmdBbmdsZSA9IGFuZ2xlO1xuICAgIH0gZWxzZSBpZiAoYW5nbGUgPCBzaHV0dGxlUmluZ0FuZ2xlKSB7XG4gICAgICB2aWV3TW9kZWwuc2xvd2VyKCk7XG4gICAgfSBlbHNlIGlmIChhbmdsZSA+IHNodXR0bGVSaW5nQW5nbGUpIHtcbiAgICAgIHZpZXdNb2RlbC5mYXN0ZXIoKTtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9IGVsc2Uge1xuICAgIGlmICh3aWRnZXQgPT09IHdpZGdldEZvckRyYWcpIHtcbiAgICAgIHdpZGdldEZvckRyYWcgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZpZXdNb2RlbC5zaHV0dGxlUmluZ0RyYWdnaW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy9UaGlzIGlzIGEgcHJpdmF0ZSBjbGFzcyBmb3IgdHJlYXRpbmcgYW4gU1ZHIGVsZW1lbnQgbGlrZSBhIGJ1dHRvbi5cbi8vSWYgd2UgZXZlciBuZWVkIGEgZ2VuZXJhbCBwdXJwb3NlIFNWRyBidXR0b24sIHdlIGNhbiBtYWtlIHRoaXMgZ2VuZXJpYy5cbmZ1bmN0aW9uIFN2Z0J1dHRvbihzdmdFbGVtZW50LCB2aWV3TW9kZWwpIHtcbiAgdGhpcy5fdmlld01vZGVsID0gdmlld01vZGVsO1xuICB0aGlzLnN2Z0VsZW1lbnQgPSBzdmdFbGVtZW50O1xuICB0aGlzLl9lbmFibGVkID0gdW5kZWZpbmVkO1xuICB0aGlzLl90b2dnbGVkID0gdW5kZWZpbmVkO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcbiAgdGhpcy5fY2xpY2tGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29tbWFuZCA9IHRoYXQuX3ZpZXdNb2RlbC5jb21tYW5kO1xuICAgIGlmIChjb21tYW5kLmNhbkV4ZWN1dGUpIHtcbiAgICAgIGNvbW1hbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgc3ZnRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xpY2tGdW5jdGlvbiwgdHJ1ZSk7XG5cbiAgLy9UT0RPOiBTaW5jZSB0aGUgYW5pbWF0aW9uIHdpZGdldCB1c2VzIFNWRyBhbmQgaGFzIG5vIEhUTUwgYmFja2luZyxcbiAgLy93ZSBuZWVkIHRvIHdpcmUgZXZlcnl0aGluZyB1cCBtYW51YWxseS4gIEtub2Nrb3V0IGNhbiBzdXBwb3NlZGx5XG4gIC8vYmluZCB0byBTVkcsIHNvIHdlIHdlIGZpZ3VyZSB0aGF0IG91dCB3ZSBjYW4gbW9kaWZ5IG91ciBTVkdcbiAgLy90byBpbmNsdWRlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uIGRpcmVjdGx5LlxuXG4gIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbXG4gICAgLy9cbiAgICBzdWJzY3JpYmVBbmRFdmFsdWF0ZSh2aWV3TW9kZWwsIFwidG9nZ2xlZFwiLCB0aGlzLnNldFRvZ2dsZWQsIHRoaXMpLCAvL1xuICAgIHN1YnNjcmliZUFuZEV2YWx1YXRlKHZpZXdNb2RlbCwgXCJ0b29sdGlwXCIsIHRoaXMuc2V0VG9vbHRpcCwgdGhpcyksIC8vXG4gICAgc3Vic2NyaWJlQW5kRXZhbHVhdGUoXG4gICAgICB2aWV3TW9kZWwuY29tbWFuZCxcbiAgICAgIFwiY2FuRXhlY3V0ZVwiLFxuICAgICAgdGhpcy5zZXRFbmFibGVkLFxuICAgICAgdGhpc1xuICAgICksXG4gIF07XG59XG5cblN2Z0J1dHRvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zdmdFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbGlja0Z1bmN0aW9uLCB0cnVlKTtcbiAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHN1YnNjcmlwdGlvbnNbaV0uZGlzcG9zZSgpO1xuICB9XG4gIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuXG5TdmdCdXR0b24ucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG5TdmdCdXR0b24ucHJvdG90eXBlLnNldEVuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICBpZiAodGhpcy5fZW5hYmxlZCAhPT0gZW5hYmxlZCkge1xuICAgIHRoaXMuX2VuYWJsZWQgPSBlbmFibGVkO1xuXG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICB0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjZXNpdW0tYW5pbWF0aW9uLWJ1dHRvbkRpc2FibGVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl90b2dnbGVkKSB7XG4gICAgICB0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgIFwiY2VzaXVtLWFuaW1hdGlvbi1yZWN0QnV0dG9uIGNlc2l1bS1hbmltYXRpb24tYnV0dG9uVG9nZ2xlZFwiXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNlc2l1bS1hbmltYXRpb24tcmVjdEJ1dHRvblwiKTtcbiAgfVxufTtcblxuU3ZnQnV0dG9uLnByb3RvdHlwZS5zZXRUb2dnbGVkID0gZnVuY3Rpb24gKHRvZ2dsZWQpIHtcbiAgaWYgKHRoaXMuX3RvZ2dsZWQgIT09IHRvZ2dsZWQpIHtcbiAgICB0aGlzLl90b2dnbGVkID0gdG9nZ2xlZDtcblxuICAgIGlmICh0aGlzLl9lbmFibGVkKSB7XG4gICAgICBpZiAodG9nZ2xlZCkge1xuICAgICAgICB0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgICBcImNlc2l1bS1hbmltYXRpb24tcmVjdEJ1dHRvbiBjZXNpdW0tYW5pbWF0aW9uLWJ1dHRvblRvZ2dsZWRcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2VzaXVtLWFuaW1hdGlvbi1yZWN0QnV0dG9uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuU3ZnQnV0dG9uLnByb3RvdHlwZS5zZXRUb29sdGlwID0gZnVuY3Rpb24gKHRvb2x0aXApIHtcbiAgdGhpcy5zdmdFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGl0bGVcIilbMF0udGV4dENvbnRlbnQgPSB0b29sdGlwO1xufTtcblxuLyoqXG4gKiA8c3BhbiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gKiA8aW1nIHNyYz1cIkltYWdlcy9BbmltYXRpb25XaWRnZXQucG5nXCIgd2lkdGg9XCIyMTFcIiBoZWlnaHQ9XCIxNDJcIiBhbHQ9XCJcIiAvPlxuICogPGJyIC8+QW5pbWF0aW9uIHdpZGdldFxuICogPC9zcGFuPlxuICogPGJyIC8+PGJyIC8+XG4gKiBUaGUgQW5pbWF0aW9uIHdpZGdldCBwcm92aWRlcyBidXR0b25zIGZvciBwbGF5LCBwYXVzZSwgYW5kIHJldmVyc2UsIGFsb25nIHdpdGggdGhlXG4gKiBjdXJyZW50IHRpbWUgYW5kIGRhdGUsIHN1cnJvdW5kZWQgYnkgYSBcInNodXR0bGUgcmluZ1wiIGZvciBjb250cm9sbGluZyB0aGUgc3BlZWQgb2YgYW5pbWF0aW9uLlxuICogPGJyIC8+PGJyIC8+XG4gKiBUaGUgXCJzaHV0dGxlIHJpbmdcIiBjb25jZXB0IGlzIGJvcnJvd2VkIGZyb20gdmlkZW8gZWRpdGluZywgd2hlcmUgdHlwaWNhbGx5IGFcbiAqIFwiam9nIHdoZWVsXCIgY2FuIGJlIHJvdGF0ZWQgdG8gbW92ZSBwYXN0IGluZGl2aWR1YWwgYW5pbWF0aW9uIGZyYW1lcyB2ZXJ5IHNsb3dseSwgYW5kXG4gKiBhIHN1cnJvdW5kaW5nIHNodXR0bGUgcmluZyBjYW4gYmUgdHdpc3RlZCB0byBjb250cm9sIGRpcmVjdGlvbiBhbmQgc3BlZWQgb2YgZmFzdCBwbGF5YmFjay5cbiAqIENlc2l1bSB0eXBpY2FsbHkgdHJlYXRzIHRpbWUgYXMgY29udGludW91cyAobm90IGJyb2tlbiBpbnRvIHByZS1kZWZpbmVkIGFuaW1hdGlvbiBmcmFtZXMpLFxuICogc28gdGhpcyB3aWRnZXQgb2ZmZXJzIG5vIGpvZyB3aGVlbC4gIEluc3RlYWQsIHRoZSBzaHV0dGxlIHJpbmcgaXMgY2FwYWJsZSBvZiBib3RoIGZhc3QgYW5kXG4gKiB2ZXJ5IHNsb3cgcGxheWJhY2suICBDbGljayBhbmQgZHJhZyB0aGUgc2h1dHRsZSByaW5nIHBvaW50ZXIgaXRzZWxmIChzaG93biBhYm92ZSBpbiBncmVlbiksXG4gKiBvciBjbGljayBpbiB0aGUgcmVzdCBvZiB0aGUgcmluZyBhcmVhIHRvIG51ZGdlIHRoZSBwb2ludGVyIHRvIHRoZSBuZXh0IHByZXNldCBzcGVlZCBpbiB0aGF0IGRpcmVjdGlvbi5cbiAqIDxiciAvPjxiciAvPlxuICogVGhlIEFuaW1hdGlvbiB3aWRnZXQgYWxzbyBwcm92aWRlcyBhIFwicmVhbHRpbWVcIiBidXR0b24gKGluIHRoZSB1cHBlci1sZWZ0KSB0aGF0IGtlZXBzXG4gKiBhbmltYXRpb24gdGltZSBpbiBzeW5jIHdpdGggdGhlIGVuZCB1c2VyJ3Mgc3lzdGVtIGNsb2NrLCB0eXBpY2FsbHkgZGlzcGxheWluZ1xuICogXCJ0b2RheVwiIG9yIFwicmlnaHQgbm93LlwiICBUaGlzIG1vZGUgaXMgbm90IGF2YWlsYWJsZSBpbiB7QGxpbmsgQ2xvY2tSYW5nZS5DTEFNUEVEfSBvclxuICoge0BsaW5rIENsb2NrUmFuZ2UuTE9PUF9TVE9QfSBtb2RlIGlmIHRoZSBjdXJyZW50IHRpbWUgaXMgb3V0c2lkZSBvZiB7QGxpbmsgQ2xvY2t9J3Mgc3RhcnRUaW1lIGFuZCBlbmRUaW1lLlxuICpcbiAqIEBhbGlhcyBBbmltYXRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd9IGNvbnRhaW5lciBUaGUgRE9NIGVsZW1lbnQgb3IgSUQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIHdpZGdldC5cbiAqIEBwYXJhbSB7QW5pbWF0aW9uVmlld01vZGVsfSB2aWV3TW9kZWwgVGhlIHZpZXcgbW9kZWwgdXNlZCBieSB0aGlzIHdpZGdldC5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gRWxlbWVudCB3aXRoIGlkIFwiY29udGFpbmVyXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGRvY3VtZW50LlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSW4gSFRNTCBoZWFkLCBpbmNsdWRlIGEgbGluayB0byBBbmltYXRpb24uY3NzIHN0eWxlc2hlZXQsXG4gKiAvLyBhbmQgaW4gdGhlIGJvZHksIGluY2x1ZGU6IDxkaXYgaWQ9XCJhbmltYXRpb25Db250YWluZXJcIj48L2Rpdj5cbiAqXG4gKiB2YXIgY2xvY2sgPSBuZXcgQ2VzaXVtLkNsb2NrKCk7XG4gKiB2YXIgY2xvY2tWaWV3TW9kZWwgPSBuZXcgQ2VzaXVtLkNsb2NrVmlld01vZGVsKGNsb2NrKTtcbiAqIHZhciB2aWV3TW9kZWwgPSBuZXcgQ2VzaXVtLkFuaW1hdGlvblZpZXdNb2RlbChjbG9ja1ZpZXdNb2RlbCk7XG4gKiB2YXIgd2lkZ2V0ID0gbmV3IENlc2l1bS5BbmltYXRpb24oJ2FuaW1hdGlvbkNvbnRhaW5lcicsIHZpZXdNb2RlbCk7XG4gKlxuICogZnVuY3Rpb24gdGljaygpIHtcbiAqICAgICBjbG9jay50aWNrKCk7XG4gKiAgICAgQ2VzaXVtLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAqIH1cbiAqIENlc2l1bS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gKlxuICogQHNlZSBBbmltYXRpb25WaWV3TW9kZWxcbiAqIEBzZWUgQ2xvY2tcbiAqL1xuZnVuY3Rpb24gQW5pbWF0aW9uKGNvbnRhaW5lciwgdmlld01vZGVsKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChjb250YWluZXIpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiY29udGFpbmVyIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICBpZiAoIWRlZmluZWQodmlld01vZGVsKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInZpZXdNb2RlbCBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgY29udGFpbmVyID0gZ2V0RWxlbWVudChjb250YWluZXIpO1xuICB0aGlzLl92aWV3TW9kZWwgPSB2aWV3TW9kZWw7XG4gIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgdGhpcy5fY2VudGVyWCA9IDA7XG4gIHRoaXMuX2NlbnRlclkgPSAwO1xuICB0aGlzLl9kZWZzRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc3ZnTm9kZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdG9wRyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbGFzdEhlaWdodCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbGFzdFdpZHRoID0gdW5kZWZpbmVkO1xuXG4gIHZhciBvd25lckRvY3VtZW50ID0gY29udGFpbmVyLm93bmVyRG9jdW1lbnQ7XG5cbiAgLy8gRmlyZWZveCByZXF1aXJlcyBTVkcgcmVmZXJlbmNlcyB0byBiZSBpbmNsdWRlZCBkaXJlY3RseSwgbm90IGltcG9ydGVkIGZyb20gZXh0ZXJuYWwgQ1NTLlxuICAvLyBBbHNvLCBDU1MgbWluaWZpZXJzIGdldCBjb25mdXNlZCBieSB0aGlzIGJlaW5nIGluIGFuIGV4dGVybmFsIENTUyBmaWxlLlxuICB2YXIgY3NzU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIGNzc1N0eWxlLnRleHRDb250ZW50ID1cbiAgICBcIi5jZXNpdW0tYW5pbWF0aW9uLXJlY3RCdXR0b24gLmNlc2l1bS1hbmltYXRpb24tYnV0dG9uR2xvdyB7IGZpbHRlcjogdXJsKCNhbmltYXRpb25fYmx1cnJlZCk7IH1cXFxuLmNlc2l1bS1hbmltYXRpb24tcmVjdEJ1dHRvbiAuY2VzaXVtLWFuaW1hdGlvbi1idXR0b25NYWluIHsgZmlsbDogdXJsKCNhbmltYXRpb25fYnV0dG9uTm9ybWFsKTsgfVxcXG4uY2VzaXVtLWFuaW1hdGlvbi1idXR0b25Ub2dnbGVkIC5jZXNpdW0tYW5pbWF0aW9uLWJ1dHRvbk1haW4geyBmaWxsOiB1cmwoI2FuaW1hdGlvbl9idXR0b25Ub2dnbGVkKTsgfVxcXG4uY2VzaXVtLWFuaW1hdGlvbi1yZWN0QnV0dG9uOmhvdmVyIC5jZXNpdW0tYW5pbWF0aW9uLWJ1dHRvbk1haW4geyBmaWxsOiB1cmwoI2FuaW1hdGlvbl9idXR0b25Ib3ZlcmVkKTsgfVxcXG4uY2VzaXVtLWFuaW1hdGlvbi1idXR0b25EaXNhYmxlZCAuY2VzaXVtLWFuaW1hdGlvbi1idXR0b25NYWluIHsgZmlsbDogdXJsKCNhbmltYXRpb25fYnV0dG9uRGlzYWJsZWQpOyB9XFxcbi5jZXNpdW0tYW5pbWF0aW9uLXNodXR0bGVSaW5nRyAuY2VzaXVtLWFuaW1hdGlvbi1zaHV0dGxlUmluZ1N3b29zaCB7IGZpbGw6IHVybCgjYW5pbWF0aW9uX3NodXR0bGVSaW5nU3dvb3NoR3JhZGllbnQpOyB9XFxcbi5jZXNpdW0tYW5pbWF0aW9uLXNodXR0bGVSaW5nRzpob3ZlciAuY2VzaXVtLWFuaW1hdGlvbi1zaHV0dGxlUmluZ1N3b29zaCB7IGZpbGw6IHVybCgjYW5pbWF0aW9uX3NodXR0bGVSaW5nU3dvb3NoSG92ZXJlZCk7IH1cXFxuLmNlc2l1bS1hbmltYXRpb24tc2h1dHRsZVJpbmdQb2ludGVyIHsgZmlsbDogdXJsKCNhbmltYXRpb25fc2h1dHRsZVJpbmdQb2ludGVyR3JhZGllbnQpOyB9XFxcbi5jZXNpdW0tYW5pbWF0aW9uLXNodXR0bGVSaW5nUGF1c2VQb2ludGVyIHsgZmlsbDogdXJsKCNhbmltYXRpb25fc2h1dHRsZVJpbmdQb2ludGVyUGF1c2VkKTsgfVxcXG4uY2VzaXVtLWFuaW1hdGlvbi1rbm9iT3V0ZXIgeyBmaWxsOiB1cmwoI2FuaW1hdGlvbl9rbm9iT3V0ZXIpOyB9XFxcbi5jZXNpdW0tYW5pbWF0aW9uLWtub2JJbm5lciB7IGZpbGw6IHVybCgjYW5pbWF0aW9uX2tub2JJbm5lcik7IH1cIjtcblxuICBvd25lckRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGNzc1N0eWxlLCBvd25lckRvY3VtZW50LmhlYWQuY2hpbGROb2Rlc1swXSk7XG5cbiAgdmFyIHRoZW1lRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGhlbWVFbGUuY2xhc3NOYW1lID0gXCJjZXNpdW0tYW5pbWF0aW9uLXRoZW1lXCI7XG4gIHRoZW1lRWxlLmlubmVySFRNTCA9XG4gICAgJzxkaXYgY2xhc3M9XCJjZXNpdW0tYW5pbWF0aW9uLXRoZW1lTm9ybWFsXCI+PC9kaXY+XFxcbjxkaXYgY2xhc3M9XCJjZXNpdW0tYW5pbWF0aW9uLXRoZW1lSG92ZXJcIj48L2Rpdj5cXFxuPGRpdiBjbGFzcz1cImNlc2l1bS1hbmltYXRpb24tdGhlbWVTZWxlY3RcIj48L2Rpdj5cXFxuPGRpdiBjbGFzcz1cImNlc2l1bS1hbmltYXRpb24tdGhlbWVEaXNhYmxlZFwiPjwvZGl2PlxcXG48ZGl2IGNsYXNzPVwiY2VzaXVtLWFuaW1hdGlvbi10aGVtZUtub2JcIj48L2Rpdj5cXFxuPGRpdiBjbGFzcz1cImNlc2l1bS1hbmltYXRpb24tdGhlbWVQb2ludGVyXCI+PC9kaXY+XFxcbjxkaXYgY2xhc3M9XCJjZXNpdW0tYW5pbWF0aW9uLXRoZW1lU3dvb3NoXCI+PC9kaXY+XFxcbjxkaXYgY2xhc3M9XCJjZXNpdW0tYW5pbWF0aW9uLXRoZW1lU3dvb3NoSG92ZXJcIj48L2Rpdj4nO1xuXG4gIHRoaXMuX3RoZW1lID0gdGhlbWVFbGU7XG4gIHRoaXMuX3RoZW1lTm9ybWFsID0gdGhlbWVFbGUuY2hpbGROb2Rlc1swXTtcbiAgdGhpcy5fdGhlbWVIb3ZlciA9IHRoZW1lRWxlLmNoaWxkTm9kZXNbMV07XG4gIHRoaXMuX3RoZW1lU2VsZWN0ID0gdGhlbWVFbGUuY2hpbGROb2Rlc1syXTtcbiAgdGhpcy5fdGhlbWVEaXNhYmxlZCA9IHRoZW1lRWxlLmNoaWxkTm9kZXNbM107XG4gIHRoaXMuX3RoZW1lS25vYiA9IHRoZW1lRWxlLmNoaWxkTm9kZXNbNF07XG4gIHRoaXMuX3RoZW1lUG9pbnRlciA9IHRoZW1lRWxlLmNoaWxkTm9kZXNbNV07XG4gIHRoaXMuX3RoZW1lU3dvb3NoID0gdGhlbWVFbGUuY2hpbGROb2Rlc1s2XTtcbiAgdGhpcy5fdGhlbWVTd29vc2hIb3ZlciA9IHRoZW1lRWxlLmNoaWxkTm9kZXNbN107XG5cbiAgdmFyIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgXCJzdmc6c3ZnXCIpO1xuICB0aGlzLl9zdmdOb2RlID0gc3ZnO1xuXG4gIC8vIERlZmluZSB0aGUgWExpbmsgbmFtZXNwYWNlIHRoYXQgU1ZHIHVzZXNcbiAgc3ZnLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIiwgXCJ4bWxuczp4bGlua1wiLCB4bGlua05TKTtcblxuICB2YXIgdG9wRyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgXCJnXCIpO1xuICB0aGlzLl90b3BHID0gdG9wRztcblxuICB0aGlzLl9yZWFsdGltZVNWRyA9IG5ldyBTdmdCdXR0b24oXG4gICAgd2luZ0J1dHRvbigzLCA0LCBcImFuaW1hdGlvbl9wYXRoQ2xvY2tcIiksXG4gICAgdmlld01vZGVsLnBsYXlSZWFsdGltZVZpZXdNb2RlbFxuICApO1xuICB0aGlzLl9wbGF5UmV2ZXJzZVNWRyA9IG5ldyBTdmdCdXR0b24oXG4gICAgcmVjdEJ1dHRvbig0NCwgOTksIFwiYW5pbWF0aW9uX3BhdGhQbGF5UmV2ZXJzZVwiKSxcbiAgICB2aWV3TW9kZWwucGxheVJldmVyc2VWaWV3TW9kZWxcbiAgKTtcbiAgdGhpcy5fcGxheUZvcndhcmRTVkcgPSBuZXcgU3ZnQnV0dG9uKFxuICAgIHJlY3RCdXR0b24oMTI0LCA5OSwgXCJhbmltYXRpb25fcGF0aFBsYXlcIiksXG4gICAgdmlld01vZGVsLnBsYXlGb3J3YXJkVmlld01vZGVsXG4gICk7XG4gIHRoaXMuX3BhdXNlU1ZHID0gbmV3IFN2Z0J1dHRvbihcbiAgICByZWN0QnV0dG9uKDg0LCA5OSwgXCJhbmltYXRpb25fcGF0aFBhdXNlXCIpLFxuICAgIHZpZXdNb2RlbC5wYXVzZVZpZXdNb2RlbFxuICApO1xuXG4gIHZhciBidXR0b25zRyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgXCJnXCIpO1xuICBidXR0b25zRy5hcHBlbmRDaGlsZCh0aGlzLl9yZWFsdGltZVNWRy5zdmdFbGVtZW50KTtcbiAgYnV0dG9uc0cuYXBwZW5kQ2hpbGQodGhpcy5fcGxheVJldmVyc2VTVkcuc3ZnRWxlbWVudCk7XG4gIGJ1dHRvbnNHLmFwcGVuZENoaWxkKHRoaXMuX3BsYXlGb3J3YXJkU1ZHLnN2Z0VsZW1lbnQpO1xuICBidXR0b25zRy5hcHBlbmRDaGlsZCh0aGlzLl9wYXVzZVNWRy5zdmdFbGVtZW50KTtcblxuICB2YXIgc2h1dHRsZVJpbmdCYWNrUGFuZWwgPSBzdmdGcm9tT2JqZWN0KHtcbiAgICB0YWdOYW1lOiBcImNpcmNsZVwiLFxuICAgIGNsYXNzOiBcImNlc2l1bS1hbmltYXRpb24tc2h1dHRsZVJpbmdCYWNrXCIsXG4gICAgY3g6IDEwMCxcbiAgICBjeTogMTAwLFxuICAgIHI6IDk5LFxuICB9KTtcbiAgdGhpcy5fc2h1dHRsZVJpbmdCYWNrUGFuZWwgPSBzaHV0dGxlUmluZ0JhY2tQYW5lbDtcblxuICB2YXIgc3dvb3NoSWNvbkluZm8gPSBzdmdJY29uc0J5SWRbXCJhbmltYXRpb25fcGF0aFN3b29zaEZYXCJdO1xuICB2YXIgc2h1dHRsZVJpbmdQb2ludGVySWNvbkluZm8gPSBzdmdJY29uc0J5SWRbXCJhbmltYXRpb25fcGF0aFBvaW50ZXJcIl07XG5cbiAgdmFyIHNodXR0bGVSaW5nU3dvb3NoRyA9IHN2Z0Zyb21PYmplY3Qoe1xuICAgIHRhZ05hbWU6IFwiZ1wiLFxuICAgIGNsYXNzOiBcImNlc2l1bS1hbmltYXRpb24tc2h1dHRsZVJpbmdTd29vc2hcIixcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0YWdOYW1lOiBzd29vc2hJY29uSW5mby50YWdOYW1lLFxuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDEwMCw5Nykgc2NhbGUoLTEsMSlcIixcbiAgICAgICAgaWQ6IFwiYW5pbWF0aW9uX3BhdGhTd29vc2hGWFwiLFxuICAgICAgICBkOiBzd29vc2hJY29uSW5mby5kLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnTmFtZTogc3dvb3NoSWNvbkluZm8udGFnTmFtZSxcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgxMDAsOTcpXCIsXG4gICAgICAgIGlkOiBcImFuaW1hdGlvbl9wYXRoU3dvb3NoRlhcIixcbiAgICAgICAgZDogc3dvb3NoSWNvbkluZm8uZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZ05hbWU6IFwibGluZVwiLFxuICAgICAgICB4MTogMTAwLFxuICAgICAgICB5MTogOCxcbiAgICAgICAgeDI6IDEwMCxcbiAgICAgICAgeTI6IDIyLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcbiAgdGhpcy5fc2h1dHRsZVJpbmdTd29vc2hHID0gc2h1dHRsZVJpbmdTd29vc2hHO1xuXG4gIHRoaXMuX3NodXR0bGVSaW5nUG9pbnRlciA9IHN2Z0Zyb21PYmplY3Qoe1xuICAgIGNsYXNzOiBcImNlc2l1bS1hbmltYXRpb24tc2h1dHRsZVJpbmdQb2ludGVyXCIsXG4gICAgaWQ6IFwiYW5pbWF0aW9uX3BhdGhQb2ludGVyXCIsXG4gICAgdGFnTmFtZTogc2h1dHRsZVJpbmdQb2ludGVySWNvbkluZm8udGFnTmFtZSxcbiAgICBkOiBzaHV0dGxlUmluZ1BvaW50ZXJJY29uSW5mby5kLFxuICB9KTtcblxuICB2YXIga25vYkcgPSBzdmdGcm9tT2JqZWN0KHtcbiAgICB0YWdOYW1lOiBcImdcIixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDEwMCwxMDApXCIsXG4gIH0pO1xuXG4gIHRoaXMuX2tub2JPdXRlciA9IHN2Z0Zyb21PYmplY3Qoe1xuICAgIHRhZ05hbWU6IFwiY2lyY2xlXCIsXG4gICAgY2xhc3M6IFwiY2VzaXVtLWFuaW1hdGlvbi1rbm9iT3V0ZXJcIixcbiAgICBjeDogMCxcbiAgICBjeTogMCxcbiAgICByOiA3MSxcbiAgfSk7XG5cbiAgdmFyIGtub2JJbm5lckFuZFNoaWVsZFNpemUgPSA2MTtcblxuICB2YXIga25vYklubmVyID0gc3ZnRnJvbU9iamVjdCh7XG4gICAgdGFnTmFtZTogXCJjaXJjbGVcIixcbiAgICBjbGFzczogXCJjZXNpdW0tYW5pbWF0aW9uLWtub2JJbm5lclwiLFxuICAgIGN4OiAwLFxuICAgIGN5OiAwLFxuICAgIHI6IGtub2JJbm5lckFuZFNoaWVsZFNpemUsXG4gIH0pO1xuXG4gIHRoaXMuX2tub2JEYXRlID0gc3ZnVGV4dCgwLCAtMjQsIFwiXCIpO1xuICB0aGlzLl9rbm9iVGltZSA9IHN2Z1RleHQoMCwgLTcsIFwiXCIpO1xuICB0aGlzLl9rbm9iU3RhdHVzID0gc3ZnVGV4dCgwLCAtNDEsIFwiXCIpO1xuXG4gIC8vIHdpZGdldCBzaGllbGQgY2F0Y2hlcyBjbGlja3Mgb24gdGhlIGtub2IgaXRzZWxmIChldmVuIHdoaWxlIERPTSBlbGVtZW50cyB1bmRlcm5lYXRoIGFyZSBjaGFuZ2luZykuXG4gIHZhciBrbm9iU2hpZWxkID0gc3ZnRnJvbU9iamVjdCh7XG4gICAgdGFnTmFtZTogXCJjaXJjbGVcIixcbiAgICBjbGFzczogXCJjZXNpdW0tYW5pbWF0aW9uLWJsYW5rXCIsXG4gICAgY3g6IDAsXG4gICAgY3k6IDAsXG4gICAgcjoga25vYklubmVyQW5kU2hpZWxkU2l6ZSxcbiAgfSk7XG5cbiAgdmFyIHNodXR0bGVSaW5nQmFja0cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIFwiZ1wiKTtcbiAgc2h1dHRsZVJpbmdCYWNrRy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNlc2l1bS1hbmltYXRpb24tc2h1dHRsZVJpbmdHXCIpO1xuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGVtZUVsZSk7XG4gIHRvcEcuYXBwZW5kQ2hpbGQoc2h1dHRsZVJpbmdCYWNrRyk7XG4gIHRvcEcuYXBwZW5kQ2hpbGQoa25vYkcpO1xuICB0b3BHLmFwcGVuZENoaWxkKGJ1dHRvbnNHKTtcblxuICBzaHV0dGxlUmluZ0JhY2tHLmFwcGVuZENoaWxkKHNodXR0bGVSaW5nQmFja1BhbmVsKTtcbiAgc2h1dHRsZVJpbmdCYWNrRy5hcHBlbmRDaGlsZChzaHV0dGxlUmluZ1N3b29zaEcpO1xuICBzaHV0dGxlUmluZ0JhY2tHLmFwcGVuZENoaWxkKHRoaXMuX3NodXR0bGVSaW5nUG9pbnRlcik7XG5cbiAga25vYkcuYXBwZW5kQ2hpbGQodGhpcy5fa25vYk91dGVyKTtcbiAga25vYkcuYXBwZW5kQ2hpbGQoa25vYklubmVyKTtcbiAga25vYkcuYXBwZW5kQ2hpbGQodGhpcy5fa25vYkRhdGUpO1xuICBrbm9iRy5hcHBlbmRDaGlsZCh0aGlzLl9rbm9iVGltZSk7XG4gIGtub2JHLmFwcGVuZENoaWxkKHRoaXMuX2tub2JTdGF0dXMpO1xuICBrbm9iRy5hcHBlbmRDaGlsZChrbm9iU2hpZWxkKTtcblxuICBzdmcuYXBwZW5kQ2hpbGQodG9wRyk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmcpO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcbiAgZnVuY3Rpb24gbW91c2VDYWxsYmFjayhlKSB7XG4gICAgc2V0U2h1dHRsZVJpbmdGcm9tTW91c2VPclRvdWNoKHRoYXQsIGUpO1xuICB9XG4gIHRoaXMuX21vdXNlQ2FsbGJhY2sgPSBtb3VzZUNhbGxiYWNrO1xuXG4gIHNodXR0bGVSaW5nQmFja1BhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VDYWxsYmFjaywgdHJ1ZSk7XG4gIHNodXR0bGVSaW5nQmFja1BhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG1vdXNlQ2FsbGJhY2ssIHRydWUpO1xuICBzaHV0dGxlUmluZ1N3b29zaEcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgc2h1dHRsZVJpbmdTd29vc2hHLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG1vdXNlQ2FsbGJhY2ssIHRydWUpO1xuICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VDYWxsYmFjaywgdHJ1ZSk7XG4gIG93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgb3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgb3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgbW91c2VDYWxsYmFjaywgdHJ1ZSk7XG4gIG93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIG1vdXNlQ2FsbGJhY2ssIHRydWUpO1xuICB0aGlzLl9zaHV0dGxlUmluZ1BvaW50ZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgdGhpcy5fc2h1dHRsZVJpbmdQb2ludGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG1vdXNlQ2FsbGJhY2ssIHRydWUpO1xuICB0aGlzLl9rbm9iT3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgdGhpcy5fa25vYk91dGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIG1vdXNlQ2FsbGJhY2ssIHRydWUpO1xuXG4gIC8vVE9ETzogU2luY2UgdGhlIGFuaW1hdGlvbiB3aWRnZXQgdXNlcyBTVkcgYW5kIGhhcyBubyBIVE1MIGJhY2tpbmcsXG4gIC8vd2UgbmVlZCB0byB3aXJlIGV2ZXJ5dGhpbmcgdXAgbWFudWFsbHkuICBLbm9ja291dCBjYW4gc3VwcG9zZWRseVxuICAvL2JpbmQgdG8gU1ZHLCBzbyB3ZSB3ZSBmaWd1cmUgdGhhdCBvdXQgd2UgY2FuIG1vZGlmeSBvdXIgU1ZHXG4gIC8vdG8gaW5jbHVkZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbiBkaXJlY3RseS5cblxuICB2YXIgdGltZU5vZGUgPSB0aGlzLl9rbm9iVGltZS5jaGlsZE5vZGVzWzBdO1xuICB2YXIgZGF0ZU5vZGUgPSB0aGlzLl9rbm9iRGF0ZS5jaGlsZE5vZGVzWzBdO1xuICB2YXIgc3RhdHVzTm9kZSA9IHRoaXMuX2tub2JTdGF0dXMuY2hpbGROb2Rlc1swXTtcbiAgdmFyIGlzUGF1c2VkO1xuICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW1xuICAgIC8vXG4gICAgc3Vic2NyaWJlQW5kRXZhbHVhdGUodmlld01vZGVsLnBhdXNlVmlld01vZGVsLCBcInRvZ2dsZWRcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoaXNQYXVzZWQgIT09IHZhbHVlKSB7XG4gICAgICAgIGlzUGF1c2VkID0gdmFsdWU7XG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xuICAgICAgICAgIHRoYXQuX3NodXR0bGVSaW5nUG9pbnRlci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICAgICBcImNlc2l1bS1hbmltYXRpb24tc2h1dHRsZVJpbmdQYXVzZVBvaW50ZXJcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhhdC5fc2h1dHRsZVJpbmdQb2ludGVyLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgICAgIFwiY2VzaXVtLWFuaW1hdGlvbi1zaHV0dGxlUmluZ1BvaW50ZXJcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIHN1YnNjcmliZUFuZEV2YWx1YXRlKHZpZXdNb2RlbCwgXCJzaHV0dGxlUmluZ0FuZ2xlXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgc2V0U2h1dHRsZVJpbmdQb2ludGVyKHRoYXQuX3NodXR0bGVSaW5nUG9pbnRlciwgdGhhdC5fa25vYk91dGVyLCB2YWx1ZSk7XG4gICAgfSksXG5cbiAgICBzdWJzY3JpYmVBbmRFdmFsdWF0ZSh2aWV3TW9kZWwsIFwiZGF0ZUxhYmVsXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKGRhdGVOb2RlLnRleHRDb250ZW50ICE9PSB2YWx1ZSkge1xuICAgICAgICBkYXRlTm9kZS50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pLFxuXG4gICAgc3Vic2NyaWJlQW5kRXZhbHVhdGUodmlld01vZGVsLCBcInRpbWVMYWJlbFwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aW1lTm9kZS50ZXh0Q29udGVudCAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGltZU5vZGUudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KSxcblxuICAgIHN1YnNjcmliZUFuZEV2YWx1YXRlKHZpZXdNb2RlbCwgXCJtdWx0aXBsaWVyTGFiZWxcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc3RhdHVzTm9kZS50ZXh0Q29udGVudCAhPT0gdmFsdWUpIHtcbiAgICAgICAgc3RhdHVzTm9kZS50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pLFxuICBdO1xuXG4gIHRoaXMuYXBwbHlUaGVtZUNoYW5nZXMoKTtcbiAgdGhpcy5yZXNpemUoKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQW5pbWF0aW9uLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgcGFyZW50IGNvbnRhaW5lci5cbiAgICpcbiAgICogQG1lbWJlcm9mIEFuaW1hdGlvbi5wcm90b3R5cGVcbiAgICogQHR5cGUge0VsZW1lbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgY29udGFpbmVyOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZpZXcgbW9kZWwuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBBbmltYXRpb24ucHJvdG90eXBlXG4gICAqIEB0eXBlIHtBbmltYXRpb25WaWV3TW9kZWx9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdmlld01vZGVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmlld01vZGVsO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5BbmltYXRpb24ucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBhbmltYXRpb24gd2lkZ2V0LiAgU2hvdWxkIGJlIGNhbGxlZCBpZiBwZXJtYW5lbnRseVxuICogcmVtb3ZpbmcgdGhlIHdpZGdldCBmcm9tIGxheW91dC5cbiAqL1xuQW5pbWF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZGVmaW5lZCh0aGlzLl9vYnNlcnZlcikpIHtcbiAgICB0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgZG9jID0gdGhpcy5fY29udGFpbmVyLm93bmVyRG9jdW1lbnQ7XG5cbiAgdmFyIG1vdXNlQ2FsbGJhY2sgPSB0aGlzLl9tb3VzZUNhbGxiYWNrO1xuICB0aGlzLl9zaHV0dGxlUmluZ0JhY2tQYW5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIFwibW91c2Vkb3duXCIsXG4gICAgbW91c2VDYWxsYmFjayxcbiAgICB0cnVlXG4gICk7XG4gIHRoaXMuX3NodXR0bGVSaW5nQmFja1BhbmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgXCJ0b3VjaHN0YXJ0XCIsXG4gICAgbW91c2VDYWxsYmFjayxcbiAgICB0cnVlXG4gICk7XG4gIHRoaXMuX3NodXR0bGVSaW5nU3dvb3NoRy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIFwibW91c2Vkb3duXCIsXG4gICAgbW91c2VDYWxsYmFjayxcbiAgICB0cnVlXG4gICk7XG4gIHRoaXMuX3NodXR0bGVSaW5nU3dvb3NoRy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIFwidG91Y2hzdGFydFwiLFxuICAgIG1vdXNlQ2FsbGJhY2ssXG4gICAgdHJ1ZVxuICApO1xuICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgbW91c2VDYWxsYmFjaywgdHJ1ZSk7XG4gIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBtb3VzZUNhbGxiYWNrLCB0cnVlKTtcbiAgdGhpcy5fc2h1dHRsZVJpbmdQb2ludGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgXCJtb3VzZWRvd25cIixcbiAgICBtb3VzZUNhbGxiYWNrLFxuICAgIHRydWVcbiAgKTtcbiAgdGhpcy5fc2h1dHRsZVJpbmdQb2ludGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgXCJ0b3VjaHN0YXJ0XCIsXG4gICAgbW91c2VDYWxsYmFjayxcbiAgICB0cnVlXG4gICk7XG4gIHRoaXMuX2tub2JPdXRlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlQ2FsbGJhY2ssIHRydWUpO1xuICB0aGlzLl9rbm9iT3V0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgbW91c2VDYWxsYmFjaywgdHJ1ZSk7XG5cbiAgdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX3N2Z05vZGUpO1xuICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fdGhlbWUpO1xuICB0aGlzLl9yZWFsdGltZVNWRy5kZXN0cm95KCk7XG4gIHRoaXMuX3BsYXlSZXZlcnNlU1ZHLmRlc3Ryb3koKTtcbiAgdGhpcy5fcGxheUZvcndhcmRTVkcuZGVzdHJveSgpO1xuICB0aGlzLl9wYXVzZVNWRy5kZXN0cm95KCk7XG5cbiAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHN1YnNjcmlwdGlvbnNbaV0uZGlzcG9zZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuXG4vKipcbiAqIFJlc2l6ZXMgdGhlIHdpZGdldCB0byBtYXRjaCB0aGUgY29udGFpbmVyIHNpemUuXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGNvbnRhaW5lciBzaXplIGlzIGNoYW5nZWQuXG4gKi9cbkFuaW1hdGlvbi5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcGFyZW50V2lkdGggPSB0aGlzLl9jb250YWluZXIuY2xpZW50V2lkdGg7XG4gIHZhciBwYXJlbnRIZWlnaHQgPSB0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICBpZiAocGFyZW50V2lkdGggPT09IHRoaXMuX2xhc3RXaWR0aCAmJiBwYXJlbnRIZWlnaHQgPT09IHRoaXMuX2xhc3RIZWlnaHQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3ZnID0gdGhpcy5fc3ZnTm9kZTtcblxuICAvL1RoZSB3aWR0aCBhbmQgaGVpZ2h0IGFzIHRoZSBTVkcgd2FzIG9yaWdpbmFsbHkgZHJhd24uXG4gIHZhciBiYXNlV2lkdGggPSAyMDA7XG4gIHZhciBiYXNlSGVpZ2h0ID0gMTMyO1xuXG4gIHZhciB3aWR0aCA9IHBhcmVudFdpZHRoO1xuICB2YXIgaGVpZ2h0ID0gcGFyZW50SGVpZ2h0O1xuXG4gIGlmIChwYXJlbnRXaWR0aCA9PT0gMCAmJiBwYXJlbnRIZWlnaHQgPT09IDApIHtcbiAgICB3aWR0aCA9IGJhc2VXaWR0aDtcbiAgICBoZWlnaHQgPSBiYXNlSGVpZ2h0O1xuICB9IGVsc2UgaWYgKHBhcmVudFdpZHRoID09PSAwKSB7XG4gICAgaGVpZ2h0ID0gcGFyZW50SGVpZ2h0O1xuICAgIHdpZHRoID0gYmFzZVdpZHRoICogKHBhcmVudEhlaWdodCAvIGJhc2VIZWlnaHQpO1xuICB9IGVsc2UgaWYgKHBhcmVudEhlaWdodCA9PT0gMCkge1xuICAgIHdpZHRoID0gcGFyZW50V2lkdGg7XG4gICAgaGVpZ2h0ID0gYmFzZUhlaWdodCAqIChwYXJlbnRXaWR0aCAvIGJhc2VXaWR0aCk7XG4gIH1cblxuICB2YXIgc2NhbGVYID0gd2lkdGggLyBiYXNlV2lkdGg7XG4gIHZhciBzY2FsZVkgPSBoZWlnaHQgLyBiYXNlSGVpZ2h0O1xuXG4gIHN2Zy5zdHlsZS5jc3NUZXh0ID1cbiAgICBcIndpZHRoOiBcIiArXG4gICAgd2lkdGggK1xuICAgIFwicHg7IGhlaWdodDogXCIgK1xuICAgIGhlaWdodCArXG4gICAgXCJweDsgcG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDA7IGxlZnQ6IDA7IG92ZXJmbG93OiBoaWRkZW47XCI7XG4gIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0KTtcblxuICB0aGlzLl90b3BHLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGVYICsgXCIsXCIgKyBzY2FsZVkgKyBcIilcIik7XG5cbiAgdGhpcy5fY2VudGVyWCA9IE1hdGgubWF4KDEsIDEwMC4wICogc2NhbGVYKTtcbiAgdGhpcy5fY2VudGVyWSA9IE1hdGgubWF4KDEsIDEwMC4wICogc2NhbGVZKTtcblxuICB0aGlzLl9sYXN0SGVpZ2h0ID0gcGFyZW50V2lkdGg7XG4gIHRoaXMuX2xhc3RXaWR0aCA9IHBhcmVudEhlaWdodDtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgd2lkZ2V0IHRvIHJlZmxlY3QgYW55IG1vZGlmaWVkIENTUyBydWxlcyBmb3IgdGhlbWluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy9Td2l0Y2ggdG8gdGhlIGNlc2l1bS1saWdodGVyIHRoZW1lLlxuICogZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSAnY2VzaXVtLWxpZ2h0ZXInO1xuICogYW5pbWF0aW9uLmFwcGx5VGhlbWVDaGFuZ2VzKCk7XG4gKi9cbkFuaW1hdGlvbi5wcm90b3R5cGUuYXBwbHlUaGVtZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFNpbmNlIHdlIHJlbHkgb24gY29tcHV0ZWQgc3R5bGVzIGZvciB0aGVtZWluZywgd2UgY2FuJ3QgYWN0dWFsbHlcbiAgLy8gZG8gYW55dGhpbmcgaWYgdGhlIGNvbnRhaW5lciBoYXMgbm90IHlldCBiZWVuIGFkZGVkIHRvIHRoZSBET00uXG4gIC8vIFNldCB1cCBhbiBvYnNlcnZlciB0byBiZSBub3RpZmllZCB3aGVuIGl0IGlzIGFkZGVkIGFuZCBhcHBseVxuICAvLyB0aGUgY2hhbmdlcyBhdCB0aGF0IHRpbWUuXG5cbiAgdmFyIGRvYyA9IHRoaXMuX2NvbnRhaW5lci5vd25lckRvY3VtZW50O1xuXG4gIGlmICghZG9jLmJvZHkuY29udGFpbnModGhpcy5fY29udGFpbmVyKSkge1xuICAgIGlmIChkZWZpbmVkKHRoaXMuX29ic2VydmVyKSkge1xuICAgICAgLy9BbHJlYWR5IGxpc3RlbmluZy5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoYXQuX29ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvYy5ib2R5LmNvbnRhaW5zKHRoYXQuX2NvbnRhaW5lcikpIHtcbiAgICAgICAgdGhhdC5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGF0Ll9vYnNlcnZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhhdC5hcHBseVRoZW1lQ2hhbmdlcygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoYXQuX29ic2VydmVyLm9ic2VydmUoZG9jLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYnV0dG9uTm9ybWFsQmFja0NvbG9yID0gZ2V0RWxlbWVudENvbG9yKHRoaXMuX3RoZW1lTm9ybWFsKTtcbiAgdmFyIGJ1dHRvbkhvdmVyQmFja0NvbG9yID0gZ2V0RWxlbWVudENvbG9yKHRoaXMuX3RoZW1lSG92ZXIpO1xuICB2YXIgYnV0dG9uVG9nZ2xlZEJhY2tDb2xvciA9IGdldEVsZW1lbnRDb2xvcih0aGlzLl90aGVtZVNlbGVjdCk7XG4gIHZhciBidXR0b25EaXNhYmxlZEJhY2tDb2xvciA9IGdldEVsZW1lbnRDb2xvcih0aGlzLl90aGVtZURpc2FibGVkKTtcbiAgdmFyIGtub2JCYWNrQ29sb3IgPSBnZXRFbGVtZW50Q29sb3IodGhpcy5fdGhlbWVLbm9iKTtcbiAgdmFyIHBvaW50ZXJDb2xvciA9IGdldEVsZW1lbnRDb2xvcih0aGlzLl90aGVtZVBvaW50ZXIpO1xuICB2YXIgc3dvb3NoQ29sb3IgPSBnZXRFbGVtZW50Q29sb3IodGhpcy5fdGhlbWVTd29vc2gpO1xuICB2YXIgc3dvb3NoSG92ZXJDb2xvciA9IGdldEVsZW1lbnRDb2xvcih0aGlzLl90aGVtZVN3b29zaEhvdmVyKTtcblxuICB2YXIgZGVmc0VsZW1lbnQgPSBzdmdGcm9tT2JqZWN0KHtcbiAgICB0YWdOYW1lOiBcImRlZnNcIixcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBpZDogXCJhbmltYXRpb25fYnV0dG9uTm9ybWFsXCIsXG4gICAgICAgIHRhZ05hbWU6IFwibGluZWFyR3JhZGllbnRcIixcbiAgICAgICAgeDE6IFwiNTAlXCIsXG4gICAgICAgIHkxOiBcIjAlXCIsXG4gICAgICAgIHgyOiBcIjUwJVwiLFxuICAgICAgICB5MjogXCIxMDAlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLy9hZGQgYSAnc3RvcC1vcGFjaXR5JyBmaWVsZCB0byBtYWtlIHRyYW5zbHVjZW50LlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogbWFrZUNvbG9yU3RyaW5nKFxuICAgICAgICAgICAgICBidXR0b25Ob3JtYWxCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yMFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjEyJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uTm9ybWFsQmFja0NvbG9yLFxuICAgICAgICAgICAgICBncmFkaWVudEVuYWJsZWRDb2xvcjFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI0NiVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBtYWtlQ29sb3JTdHJpbmcoXG4gICAgICAgICAgICAgIGJ1dHRvbk5vcm1hbEJhY2tDb2xvcixcbiAgICAgICAgICAgICAgZ3JhZGllbnRFbmFibGVkQ29sb3IyXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiODElXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogbWFrZUNvbG9yU3RyaW5nKFxuICAgICAgICAgICAgICBidXR0b25Ob3JtYWxCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yM1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IFwiYW5pbWF0aW9uX2J1dHRvbkhvdmVyZWRcIixcbiAgICAgICAgdGFnTmFtZTogXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAgICB4MTogXCI1MCVcIixcbiAgICAgICAgeTE6IFwiMCVcIixcbiAgICAgICAgeDI6IFwiNTAlXCIsXG4gICAgICAgIHkyOiBcIjEwMCVcIixcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCIwJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uSG92ZXJCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yMFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjEyJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uSG92ZXJCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjQ2JVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uSG92ZXJCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yMlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjgxJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uSG92ZXJCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yM1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IFwiYW5pbWF0aW9uX2J1dHRvblRvZ2dsZWRcIixcbiAgICAgICAgdGFnTmFtZTogXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAgICB4MTogXCI1MCVcIixcbiAgICAgICAgeTE6IFwiMCVcIixcbiAgICAgICAgeDI6IFwiNTAlXCIsXG4gICAgICAgIHkyOiBcIjEwMCVcIixcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCIwJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uVG9nZ2xlZEJhY2tDb2xvcixcbiAgICAgICAgICAgICAgZ3JhZGllbnRFbmFibGVkQ29sb3IwXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiMTIlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogbWFrZUNvbG9yU3RyaW5nKFxuICAgICAgICAgICAgICBidXR0b25Ub2dnbGVkQmFja0NvbG9yLFxuICAgICAgICAgICAgICBncmFkaWVudEVuYWJsZWRDb2xvcjFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI0NiVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBtYWtlQ29sb3JTdHJpbmcoXG4gICAgICAgICAgICAgIGJ1dHRvblRvZ2dsZWRCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RW5hYmxlZENvbG9yMlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjgxJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uVG9nZ2xlZEJhY2tDb2xvcixcbiAgICAgICAgICAgICAgZ3JhZGllbnRFbmFibGVkQ29sb3IzXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJhbmltYXRpb25fYnV0dG9uRGlzYWJsZWRcIixcbiAgICAgICAgdGFnTmFtZTogXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAgICB4MTogXCI1MCVcIixcbiAgICAgICAgeTE6IFwiMCVcIixcbiAgICAgICAgeDI6IFwiNTAlXCIsXG4gICAgICAgIHkyOiBcIjEwMCVcIixcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCIwJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhcbiAgICAgICAgICAgICAgYnV0dG9uRGlzYWJsZWRCYWNrQ29sb3IsXG4gICAgICAgICAgICAgIGdyYWRpZW50RGlzYWJsZWRDb2xvcjBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI3NSVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBtYWtlQ29sb3JTdHJpbmcoXG4gICAgICAgICAgICAgIGJ1dHRvbkRpc2FibGVkQmFja0NvbG9yLFxuICAgICAgICAgICAgICBncmFkaWVudERpc2FibGVkQ29sb3IxXG4gICAgICAgICAgICApLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJhbmltYXRpb25fYmx1cnJlZFwiLFxuICAgICAgICB0YWdOYW1lOiBcImZpbHRlclwiLFxuICAgICAgICB3aWR0aDogXCIyMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIyMDAlXCIsXG4gICAgICAgIHg6IFwiLTUwJVwiLFxuICAgICAgICB5OiBcIi01MCVcIixcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcImZlR2F1c3NpYW5CbHVyXCIsXG4gICAgICAgICAgICBzdGREZXZpYXRpb246IDQsXG4gICAgICAgICAgICBpbjogXCJTb3VyY2VHcmFwaGljXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcImFuaW1hdGlvbl9zaHV0dGxlUmluZ1N3b29zaEdyYWRpZW50XCIsXG4gICAgICAgIHRhZ05hbWU6IFwibGluZWFyR3JhZGllbnRcIixcbiAgICAgICAgeDE6IFwiNTAlXCIsXG4gICAgICAgIHkxOiBcIjAlXCIsXG4gICAgICAgIHgyOiBcIjUwJVwiLFxuICAgICAgICB5MjogXCIxMDAlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiMCVcIixcbiAgICAgICAgICAgIFwic3RvcC1vcGFjaXR5XCI6IDAuMixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBzd29vc2hDb2xvci50b0Nzc0NvbG9yU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI4NSVcIixcbiAgICAgICAgICAgIFwic3RvcC1vcGFjaXR5XCI6IDAuODUsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogc3dvb3NoQ29sb3IudG9Dc3NDb2xvclN0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiOTUlXCIsXG4gICAgICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiAwLjA1LFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IHN3b29zaENvbG9yLnRvQ3NzQ29sb3JTdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IFwiYW5pbWF0aW9uX3NodXR0bGVSaW5nU3dvb3NoSG92ZXJlZFwiLFxuICAgICAgICB0YWdOYW1lOiBcImxpbmVhckdyYWRpZW50XCIsXG4gICAgICAgIHgxOiBcIjUwJVwiLFxuICAgICAgICB5MTogXCIwJVwiLFxuICAgICAgICB4MjogXCI1MCVcIixcbiAgICAgICAgeTI6IFwiMTAwJVwiLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjAlXCIsXG4gICAgICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiAwLjIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogc3dvb3NoSG92ZXJDb2xvci50b0Nzc0NvbG9yU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI4NSVcIixcbiAgICAgICAgICAgIFwic3RvcC1vcGFjaXR5XCI6IDAuODUsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogc3dvb3NoSG92ZXJDb2xvci50b0Nzc0NvbG9yU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI5NSVcIixcbiAgICAgICAgICAgIFwic3RvcC1vcGFjaXR5XCI6IDAuMDUsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogc3dvb3NoSG92ZXJDb2xvci50b0Nzc0NvbG9yU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcImFuaW1hdGlvbl9zaHV0dGxlUmluZ1BvaW50ZXJHcmFkaWVudFwiLFxuICAgICAgICB0YWdOYW1lOiBcImxpbmVhckdyYWRpZW50XCIsXG4gICAgICAgIHgxOiBcIjAlXCIsXG4gICAgICAgIHkxOiBcIjUwJVwiLFxuICAgICAgICB4MjogXCIxMDAlXCIsXG4gICAgICAgIHkyOiBcIjUwJVwiLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogcG9pbnRlckNvbG9yLnRvQ3NzQ29sb3JTdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjQwJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IHBvaW50ZXJDb2xvci50b0Nzc0NvbG9yU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI2MCVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBtYWtlQ29sb3JTdHJpbmcocG9pbnRlckNvbG9yLCBncmFkaWVudFBvaW50ZXJDb2xvciksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCIxMDAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogbWFrZUNvbG9yU3RyaW5nKHBvaW50ZXJDb2xvciwgZ3JhZGllbnRQb2ludGVyQ29sb3IpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJhbmltYXRpb25fc2h1dHRsZVJpbmdQb2ludGVyUGF1c2VkXCIsXG4gICAgICAgIHRhZ05hbWU6IFwibGluZWFyR3JhZGllbnRcIixcbiAgICAgICAgeDE6IFwiMCVcIixcbiAgICAgICAgeTE6IFwiNTAlXCIsXG4gICAgICAgIHgyOiBcIjEwMCVcIixcbiAgICAgICAgeTI6IFwiNTAlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiMCVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBcIiNDQ0NcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjQwJVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IFwiI0NDQ1wiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiNjAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogXCIjNTU1XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCIxMDAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogXCIjNTU1XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcImFuaW1hdGlvbl9rbm9iT3V0ZXJcIixcbiAgICAgICAgdGFnTmFtZTogXCJsaW5lYXJHcmFkaWVudFwiLFxuICAgICAgICB4MTogXCIyMCVcIixcbiAgICAgICAgeTE6IFwiMCVcIixcbiAgICAgICAgeDI6IFwiOTAlXCIsXG4gICAgICAgIHkyOiBcIjEwMCVcIixcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI1JVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhrbm9iQmFja0NvbG9yLCBncmFkaWVudEVuYWJsZWRDb2xvcjApLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiNjAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogbWFrZUNvbG9yU3RyaW5nKGtub2JCYWNrQ29sb3IsIGdyYWRpZW50S25vYkNvbG9yKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhZ05hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb2Zmc2V0OiBcIjg1JVwiLFxuICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IG1ha2VDb2xvclN0cmluZyhrbm9iQmFja0NvbG9yLCBncmFkaWVudEVuYWJsZWRDb2xvcjEpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogXCJhbmltYXRpb25fa25vYklubmVyXCIsXG4gICAgICAgIHRhZ05hbWU6IFwibGluZWFyR3JhZGllbnRcIixcbiAgICAgICAgeDE6IFwiMjAlXCIsXG4gICAgICAgIHkxOiBcIjAlXCIsXG4gICAgICAgIHgyOiBcIjkwJVwiLFxuICAgICAgICB5MjogXCIxMDAlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiNSVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBtYWtlQ29sb3JTdHJpbmcoa25vYkJhY2tDb2xvciwgZ3JhZGllbnRLbm9iQ29sb3IpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJzdG9wXCIsXG4gICAgICAgICAgICBvZmZzZXQ6IFwiNjAlXCIsXG4gICAgICAgICAgICBcInN0b3AtY29sb3JcIjogbWFrZUNvbG9yU3RyaW5nKGtub2JCYWNrQ29sb3IsIGdyYWRpZW50RW5hYmxlZENvbG9yMCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YWdOYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9mZnNldDogXCI4NSVcIixcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiOiBtYWtlQ29sb3JTdHJpbmcoa25vYkJhY2tDb2xvciwgZ3JhZGllbnRFbmFibGVkQ29sb3IzKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcblxuICBpZiAoIWRlZmluZWQodGhpcy5fZGVmc0VsZW1lbnQpKSB7XG4gICAgdGhpcy5fc3ZnTm9kZS5hcHBlbmRDaGlsZChkZWZzRWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fc3ZnTm9kZS5yZXBsYWNlQ2hpbGQoZGVmc0VsZW1lbnQsIHRoaXMuX2RlZnNFbGVtZW50KTtcbiAgfVxuICB0aGlzLl9kZWZzRWxlbWVudCA9IGRlZnNFbGVtZW50O1xufTtcbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37973\n')},15483:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_binarySearch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(377);\n/* harmony import */ var _Core_ClockRange_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44159);\n/* harmony import */ var _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(96627);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(12572);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55293);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(53454);\n/* harmony import */ var _createCommand_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28389);\n/* harmony import */ var _ToggleButtonViewModel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(37255);\n\n\n\n\n\n\n\n\n\n\nvar monthNames = [\n  "Jan",\n  "Feb",\n  "Mar",\n  "Apr",\n  "May",\n  "Jun",\n  "Jul",\n  "Aug",\n  "Sep",\n  "Oct",\n  "Nov",\n  "Dec",\n];\nvar realtimeShuttleRingAngle = 15;\nvar maxShuttleRingAngle = 105;\n\nfunction numberComparator(left, right) {\n  return left - right;\n}\n\nfunction getTypicalMultiplierIndex(multiplier, shuttleRingTicks) {\n  var index = (0,_Core_binarySearch_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(shuttleRingTicks, multiplier, numberComparator);\n  return index < 0 ? ~index : index;\n}\n\nfunction angleToMultiplier(angle, shuttleRingTicks) {\n  //Use a linear scale for -1 to 1 between -15 < angle < 15 degrees\n  if (Math.abs(angle) <= realtimeShuttleRingAngle) {\n    return angle / realtimeShuttleRingAngle;\n  }\n\n  var minp = realtimeShuttleRingAngle;\n  var maxp = maxShuttleRingAngle;\n  var maxv;\n  var minv = 0;\n  var scale;\n  if (angle > 0) {\n    maxv = Math.log(shuttleRingTicks[shuttleRingTicks.length - 1]);\n    scale = (maxv - minv) / (maxp - minp);\n    return Math.exp(minv + scale * (angle - minp));\n  }\n\n  maxv = Math.log(-shuttleRingTicks[0]);\n  scale = (maxv - minv) / (maxp - minp);\n  return -Math.exp(minv + scale * (Math.abs(angle) - minp));\n}\n\nfunction multiplierToAngle(multiplier, shuttleRingTicks, clockViewModel) {\n  if (clockViewModel.clockStep === _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].SYSTEM_CLOCK */ .Z.SYSTEM_CLOCK) {\n    return realtimeShuttleRingAngle;\n  }\n\n  if (Math.abs(multiplier) <= 1) {\n    return multiplier * realtimeShuttleRingAngle;\n  }\n\n  var fastedMultipler = shuttleRingTicks[shuttleRingTicks.length - 1];\n  if (multiplier > fastedMultipler) {\n    multiplier = fastedMultipler;\n  } else if (multiplier < -fastedMultipler) {\n    multiplier = -fastedMultipler;\n  }\n\n  var minp = realtimeShuttleRingAngle;\n  var maxp = maxShuttleRingAngle;\n  var maxv;\n  var minv = 0;\n  var scale;\n\n  if (multiplier > 0) {\n    maxv = Math.log(fastedMultipler);\n    scale = (maxv - minv) / (maxp - minp);\n    return (Math.log(multiplier) - minv) / scale + minp;\n  }\n\n  maxv = Math.log(-shuttleRingTicks[0]);\n  scale = (maxv - minv) / (maxp - minp);\n  return -((Math.log(Math.abs(multiplier)) - minv) / scale + minp);\n}\n\n/**\n * The view model for the {@link Animation} widget.\n * @alias AnimationViewModel\n * @constructor\n *\n * @param {ClockViewModel} clockViewModel The ClockViewModel instance to use.\n *\n * @see Animation\n */\nfunction AnimationViewModel(clockViewModel) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(clockViewModel)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("clockViewModel is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var that = this;\n  this._clockViewModel = clockViewModel;\n  this._allShuttleRingTicks = [];\n  this._dateFormatter = AnimationViewModel.defaultDateFormatter;\n  this._timeFormatter = AnimationViewModel.defaultTimeFormatter;\n\n  /**\n   * Gets or sets whether the shuttle ring is currently being dragged.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.shuttleRingDragging = false;\n\n  /**\n   * Gets or sets whether dragging the shuttle ring should cause the multiplier\n   * to snap to the defined tick values rather than interpolating between them.\n   * This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.snapToTicks = false;\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].track */ .Z.track(this, [\n    "_allShuttleRingTicks",\n    "_dateFormatter",\n    "_timeFormatter",\n    "shuttleRingDragging",\n    "snapToTicks",\n  ]);\n\n  this._sortedFilteredPositiveTicks = [];\n\n  this.setShuttleRingTicks(AnimationViewModel.defaultTicks);\n\n  /**\n   * Gets the string representation of the current time.  This property is observable.\n   * @type {String}\n   */\n  this.timeLabel = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "timeLabel", function () {\n    return that._timeFormatter(that._clockViewModel.currentTime, that);\n  });\n\n  /**\n   * Gets the string representation of the current date.  This property is observable.\n   * @type {String}\n   */\n  this.dateLabel = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "dateLabel", function () {\n    return that._dateFormatter(that._clockViewModel.currentTime, that);\n  });\n\n  /**\n   * Gets the string representation of the current multiplier.  This property is observable.\n   * @type {String}\n   */\n  this.multiplierLabel = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "multiplierLabel", function () {\n    var clockViewModel = that._clockViewModel;\n    if (clockViewModel.clockStep === _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].SYSTEM_CLOCK */ .Z.SYSTEM_CLOCK) {\n      return "Today";\n    }\n\n    var multiplier = clockViewModel.multiplier;\n\n    //If it\'s a whole number, just return it.\n    if (multiplier % 1 === 0) {\n      return multiplier.toFixed(0) + "x";\n    }\n\n    //Convert to decimal string and remove any trailing zeroes\n    return multiplier.toFixed(3).replace(/0{0,3}$/, "") + "x";\n  });\n\n  /**\n   * Gets or sets the current shuttle ring angle.  This property is observable.\n   * @type {Number}\n   */\n  this.shuttleRingAngle = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "shuttleRingAngle", {\n    get: function () {\n      return multiplierToAngle(\n        clockViewModel.multiplier,\n        that._allShuttleRingTicks,\n        clockViewModel\n      );\n    },\n    set: function (angle) {\n      angle = Math.max(\n        Math.min(angle, maxShuttleRingAngle),\n        -maxShuttleRingAngle\n      );\n      var ticks = that._allShuttleRingTicks;\n\n      var clockViewModel = that._clockViewModel;\n      clockViewModel.clockStep = _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].SYSTEM_CLOCK_MULTIPLIER */ .Z.SYSTEM_CLOCK_MULTIPLIER;\n\n      //If we are at the max angle, simply return the max value in either direction.\n      if (Math.abs(angle) === maxShuttleRingAngle) {\n        clockViewModel.multiplier =\n          angle > 0 ? ticks[ticks.length - 1] : ticks[0];\n        return;\n      }\n\n      var multiplier = angleToMultiplier(angle, ticks);\n      if (that.snapToTicks) {\n        multiplier = ticks[getTypicalMultiplierIndex(multiplier, ticks)];\n      } else if (multiplier !== 0) {\n        var positiveMultiplier = Math.abs(multiplier);\n\n        if (positiveMultiplier > 100) {\n          var numDigits = positiveMultiplier.toFixed(0).length - 2;\n          var divisor = Math.pow(10, numDigits);\n          multiplier = (Math.round(multiplier / divisor) * divisor) | 0;\n        } else if (positiveMultiplier > realtimeShuttleRingAngle) {\n          multiplier = Math.round(multiplier);\n        } else if (positiveMultiplier > 1) {\n          multiplier = +multiplier.toFixed(1);\n        } else if (positiveMultiplier > 0) {\n          multiplier = +multiplier.toFixed(2);\n        }\n      }\n      clockViewModel.multiplier = multiplier;\n    },\n  });\n\n  this._canAnimate = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "_canAnimate", function () {\n    var clockViewModel = that._clockViewModel;\n    var clockRange = clockViewModel.clockRange;\n\n    if (that.shuttleRingDragging || clockRange === _Core_ClockRange_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNBOUNDED */ .Z.UNBOUNDED) {\n      return true;\n    }\n\n    var multiplier = clockViewModel.multiplier;\n    var currentTime = clockViewModel.currentTime;\n    var startTime = clockViewModel.startTime;\n\n    var result = false;\n    if (clockRange === _Core_ClockRange_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].LOOP_STOP */ .Z.LOOP_STOP) {\n      result =\n        _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].greaterThan */ .Z.greaterThan(currentTime, startTime) ||\n        (currentTime.equals(startTime) && multiplier > 0);\n    } else {\n      var stopTime = clockViewModel.stopTime;\n      result =\n        (_Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].greaterThan */ .Z.greaterThan(currentTime, startTime) &&\n          _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].lessThan */ .Z.lessThan(currentTime, stopTime)) || //\n        (currentTime.equals(startTime) && multiplier > 0) || //\n        (currentTime.equals(stopTime) && multiplier < 0);\n    }\n\n    if (!result) {\n      clockViewModel.shouldAnimate = false;\n    }\n    return result;\n  });\n\n  this._isSystemTimeAvailable = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "_isSystemTimeAvailable", function () {\n    var clockViewModel = that._clockViewModel;\n    var clockRange = clockViewModel.clockRange;\n    if (clockRange === _Core_ClockRange_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNBOUNDED */ .Z.UNBOUNDED) {\n      return true;\n    }\n\n    var systemTime = clockViewModel.systemTime;\n    return (\n      _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].greaterThanOrEquals */ .Z.greaterThanOrEquals(systemTime, clockViewModel.startTime) &&\n      _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].lessThanOrEquals */ .Z.lessThanOrEquals(systemTime, clockViewModel.stopTime)\n    );\n  });\n\n  this._isAnimating = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].defineProperty */ .Z.defineProperty(this, "_isAnimating", function () {\n    return (\n      that._clockViewModel.shouldAnimate &&\n      (that._canAnimate || that.shuttleRingDragging)\n    );\n  });\n\n  var pauseCommand = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function () {\n    var clockViewModel = that._clockViewModel;\n    if (clockViewModel.shouldAnimate) {\n      clockViewModel.shouldAnimate = false;\n    } else if (that._canAnimate) {\n      clockViewModel.shouldAnimate = true;\n    }\n  });\n\n  this._pauseViewModel = new _ToggleButtonViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(pauseCommand, {\n    toggled: _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].computed */ .Z.computed(function () {\n      return !that._isAnimating;\n    }),\n    tooltip: "Pause",\n  });\n\n  var playReverseCommand = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function () {\n    var clockViewModel = that._clockViewModel;\n    var multiplier = clockViewModel.multiplier;\n    if (multiplier > 0) {\n      clockViewModel.multiplier = -multiplier;\n    }\n    clockViewModel.shouldAnimate = true;\n  });\n\n  this._playReverseViewModel = new _ToggleButtonViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(playReverseCommand, {\n    toggled: _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].computed */ .Z.computed(function () {\n      return that._isAnimating && clockViewModel.multiplier < 0;\n    }),\n    tooltip: "Play Reverse",\n  });\n\n  var playForwardCommand = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function () {\n    var clockViewModel = that._clockViewModel;\n    var multiplier = clockViewModel.multiplier;\n    if (multiplier < 0) {\n      clockViewModel.multiplier = -multiplier;\n    }\n    clockViewModel.shouldAnimate = true;\n  });\n\n  this._playForwardViewModel = new _ToggleButtonViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(playForwardCommand, {\n    toggled: _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].computed */ .Z.computed(function () {\n      return (\n        that._isAnimating &&\n        clockViewModel.multiplier > 0 &&\n        clockViewModel.clockStep !== _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].SYSTEM_CLOCK */ .Z.SYSTEM_CLOCK\n      );\n    }),\n    tooltip: "Play Forward",\n  });\n\n  var playRealtimeCommand = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function () {\n    that._clockViewModel.clockStep = _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].SYSTEM_CLOCK */ .Z.SYSTEM_CLOCK;\n  }, _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].getObservable */ .Z.getObservable(this, "_isSystemTimeAvailable"));\n\n  this._playRealtimeViewModel = new _ToggleButtonViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(playRealtimeCommand, {\n    toggled: _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].computed */ .Z.computed(function () {\n      return clockViewModel.clockStep === _Core_ClockStep_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].SYSTEM_CLOCK */ .Z.SYSTEM_CLOCK;\n    }),\n    tooltip: _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].computed */ .Z.computed(function () {\n      return that._isSystemTimeAvailable\n        ? "Today (real-time)"\n        : "Current time not in range";\n    }),\n  });\n\n  this._slower = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function () {\n    var clockViewModel = that._clockViewModel;\n    var shuttleRingTicks = that._allShuttleRingTicks;\n    var multiplier = clockViewModel.multiplier;\n    var index = getTypicalMultiplierIndex(multiplier, shuttleRingTicks) - 1;\n    if (index >= 0) {\n      clockViewModel.multiplier = shuttleRingTicks[index];\n    }\n  });\n\n  this._faster = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function () {\n    var clockViewModel = that._clockViewModel;\n    var shuttleRingTicks = that._allShuttleRingTicks;\n    var multiplier = clockViewModel.multiplier;\n    var index = getTypicalMultiplierIndex(multiplier, shuttleRingTicks) + 1;\n    if (index < shuttleRingTicks.length) {\n      clockViewModel.multiplier = shuttleRingTicks[index];\n    }\n  });\n}\n\n/**\n * Gets or sets the default date formatter used by new instances.\n *\n * @member\n * @type {AnimationViewModel.DateFormatter}\n */\nAnimationViewModel.defaultDateFormatter = function (date, viewModel) {\n  var gregorianDate = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].toGregorianDate */ .Z.toGregorianDate(date);\n  return (\n    monthNames[gregorianDate.month - 1] +\n    " " +\n    gregorianDate.day +\n    " " +\n    gregorianDate.year\n  );\n};\n\n/**\n * Gets or sets the default array of known clock multipliers associated with new instances of the shuttle ring.\n * @type {Number[]}\n */\nAnimationViewModel.defaultTicks = [\n  //\n  0.001,\n  0.002,\n  0.005,\n  0.01,\n  0.02,\n  0.05,\n  0.1,\n  0.25,\n  0.5,\n  1.0,\n  2.0,\n  5.0,\n  10.0, //\n  15.0,\n  30.0,\n  60.0,\n  120.0,\n  300.0,\n  600.0,\n  900.0,\n  1800.0,\n  3600.0,\n  7200.0,\n  14400.0, //\n  21600.0,\n  43200.0,\n  86400.0,\n  172800.0,\n  345600.0,\n  604800.0,\n];\n\n/**\n * Gets or sets the default time formatter used by new instances.\n *\n * @member\n * @type {AnimationViewModel.TimeFormatter}\n */\nAnimationViewModel.defaultTimeFormatter = function (date, viewModel) {\n  var gregorianDate = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].toGregorianDate */ .Z.toGregorianDate(date);\n  var millisecond = Math.round(gregorianDate.millisecond);\n  if (Math.abs(viewModel._clockViewModel.multiplier) < 1) {\n    return (\n      gregorianDate.hour.toString().padStart(2, "0") +\n      ":" +\n      gregorianDate.minute.toString().padStart(2, "0") +\n      ":" +\n      gregorianDate.second.toString().padStart(2, "0") +\n      "." +\n      millisecond.toString().padStart(3, "0")\n    );\n  }\n  return (\n    gregorianDate.hour.toString().padStart(2, "0") +\n    ":" +\n    gregorianDate.minute.toString().padStart(2, "0") +\n    ":" +\n    gregorianDate.second.toString().padStart(2, "0") +\n    " UTC"\n  );\n};\n\n/**\n * Gets a copy of the array of positive known clock multipliers to associate with the shuttle ring.\n *\n * @returns {Number[]} The array of known clock multipliers associated with the shuttle ring.\n */\nAnimationViewModel.prototype.getShuttleRingTicks = function () {\n  return this._sortedFilteredPositiveTicks.slice(0);\n};\n\n/**\n * Sets the array of positive known clock multipliers to associate with the shuttle ring.\n * These values will have negative equivalents created for them and sets both the minimum\n * and maximum range of values for the shuttle ring as well as the values that are snapped\n * to when a single click is made.  The values need not be in order, as they will be sorted\n * automatically, and duplicate values will be removed.\n *\n * @param {Number[]} positiveTicks The list of known positive clock multipliers to associate with the shuttle ring.\n */\nAnimationViewModel.prototype.setShuttleRingTicks = function (positiveTicks) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(positiveTicks)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("positiveTicks is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var i;\n  var len;\n  var tick;\n\n  var hash = {};\n  var sortedFilteredPositiveTicks = this._sortedFilteredPositiveTicks;\n  sortedFilteredPositiveTicks.length = 0;\n  for (i = 0, len = positiveTicks.length; i < len; ++i) {\n    tick = positiveTicks[i];\n    //filter duplicates\n    if (!hash.hasOwnProperty(tick)) {\n      hash[tick] = true;\n      sortedFilteredPositiveTicks.push(tick);\n    }\n  }\n  sortedFilteredPositiveTicks.sort(numberComparator);\n\n  var allTicks = [];\n  for (len = sortedFilteredPositiveTicks.length, i = len - 1; i >= 0; --i) {\n    tick = sortedFilteredPositiveTicks[i];\n    if (tick !== 0) {\n      allTicks.push(-tick);\n    }\n  }\n  Array.prototype.push.apply(allTicks, sortedFilteredPositiveTicks);\n\n  this._allShuttleRingTicks = allTicks;\n};\n\nObject.defineProperties(AnimationViewModel.prototype, {\n  /**\n   * Gets a command that decreases the speed of animation.\n   * @memberof AnimationViewModel.prototype\n   * @type {Command}\n   */\n  slower: {\n    get: function () {\n      return this._slower;\n    },\n  },\n\n  /**\n   * Gets a command that increases the speed of animation.\n   * @memberof AnimationViewModel.prototype\n   * @type {Command}\n   */\n  faster: {\n    get: function () {\n      return this._faster;\n    },\n  },\n\n  /**\n   * Gets the clock view model.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {ClockViewModel}\n   */\n  clockViewModel: {\n    get: function () {\n      return this._clockViewModel;\n    },\n  },\n\n  /**\n   * Gets the pause toggle button view model.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {ToggleButtonViewModel}\n   */\n  pauseViewModel: {\n    get: function () {\n      return this._pauseViewModel;\n    },\n  },\n\n  /**\n   * Gets the reverse toggle button view model.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {ToggleButtonViewModel}\n   */\n  playReverseViewModel: {\n    get: function () {\n      return this._playReverseViewModel;\n    },\n  },\n\n  /**\n   * Gets the play toggle button view model.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {ToggleButtonViewModel}\n   */\n  playForwardViewModel: {\n    get: function () {\n      return this._playForwardViewModel;\n    },\n  },\n\n  /**\n   * Gets the realtime toggle button view model.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {ToggleButtonViewModel}\n   */\n  playRealtimeViewModel: {\n    get: function () {\n      return this._playRealtimeViewModel;\n    },\n  },\n\n  /**\n   * Gets or sets the function which formats a date for display.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {AnimationViewModel.DateFormatter}\n   * @default AnimationViewModel.defaultDateFormatter\n   */\n  dateFormatter: {\n    //TODO:@exception {DeveloperError} dateFormatter must be a function.\n    get: function () {\n      return this._dateFormatter;\n    },\n    set: function (dateFormatter) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (typeof dateFormatter !== "function") {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("dateFormatter must be a function");\n      }\n      //>>includeEnd(\'debug\');\n\n      this._dateFormatter = dateFormatter;\n    },\n  },\n\n  /**\n   * Gets or sets the function which formats a time for display.\n   * @memberof AnimationViewModel.prototype\n   *\n   * @type {AnimationViewModel.TimeFormatter}\n   * @default AnimationViewModel.defaultTimeFormatter\n   */\n  timeFormatter: {\n    //TODO:@exception {DeveloperError} timeFormatter must be a function.\n    get: function () {\n      return this._timeFormatter;\n    },\n    set: function (timeFormatter) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (typeof timeFormatter !== "function") {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("timeFormatter must be a function");\n      }\n      //>>includeEnd(\'debug\');\n\n      this._timeFormatter = timeFormatter;\n    },\n  },\n});\n\n//Currently exposed for tests.\nAnimationViewModel._maxShuttleRingAngle = maxShuttleRingAngle;\nAnimationViewModel._realtimeShuttleRingAngle = realtimeShuttleRingAngle;\n\n/**\n * A function that formats a date for display.\n * @callback AnimationViewModel.DateFormatter\n *\n * @param {JulianDate} date The date to be formatted\n * @param {AnimationViewModel} viewModel The AnimationViewModel instance requesting formatting.\n * @returns {String} The string representation of the calendar date portion of the provided date.\n */\n\n/**\n * A function that formats a time for display.\n * @callback AnimationViewModel.TimeFormatter\n *\n * @param {JulianDate} date The date to be formatted\n * @param {AnimationViewModel} viewModel The AnimationViewModel instance requesting formatting.\n * @returns {String} The string representation of the time portion of the provided date.\n */\n/* harmony default export */ __webpack_exports__["Z"] = (AnimationViewModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU0ODMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNEO0FBQ0o7QUFDRjtBQUNKO0FBQ2M7QUFDUjtBQUNFO0FBQ0o7QUFDZ0I7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsMEVBQVk7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLDZGQUFzQjtBQUN6RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBLEVBQUUsb0ZBQWM7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLEVBQUUsc0dBQXVCO0FBQ3pCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxFQUFFLHNHQUF1QjtBQUN6QjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsRUFBRSxzR0FBdUI7QUFDekI7QUFDQSxxQ0FBcUMsNkZBQXNCO0FBQzNEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsSUFBSTtBQUNoRCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLEVBQUUsc0dBQXVCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsbUhBQWlDOztBQUVsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQSxFQUFFLHNHQUF1QjtBQUN6QjtBQUNBOztBQUVBLG1EQUFtRCx3RkFBb0I7QUFDdkU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsd0ZBQW9CO0FBQzNDO0FBQ0EsUUFBUSw0RkFBc0I7QUFDOUI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFNBQVMsNEZBQXNCO0FBQy9CLFVBQVUsc0ZBQW1CO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFLHNHQUF1QjtBQUN6QjtBQUNBO0FBQ0EsdUJBQXVCLHdGQUFvQjtBQUMzQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDRHQUE4QjtBQUNwQyxNQUFNLHNHQUEyQjtBQUNqQztBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFLHNHQUF1QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgscUJBQXFCLHNFQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSCw2QkFBNkIsMEVBQXFCO0FBQ2xELGFBQWEsMEZBQWlCO0FBQzlCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSCwyQkFBMkIsc0VBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxtQ0FBbUMsMEVBQXFCO0FBQ3hELGFBQWEsMEZBQWlCO0FBQzlCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSCwyQkFBMkIsc0VBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxtQ0FBbUMsMEVBQXFCO0FBQ3hELGFBQWEsMEZBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2RkFBc0I7QUFDM0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVILDRCQUE0QixzRUFBYTtBQUN6QyxxQ0FBcUMsNkZBQXNCO0FBQzNELEdBQUcsRUFBRSxvR0FBc0I7O0FBRTNCLG9DQUFvQywwRUFBcUI7QUFDekQsYUFBYSwwRkFBaUI7QUFDOUIsMENBQTBDLDZGQUFzQjtBQUNoRSxLQUFLO0FBQ0wsYUFBYSwwRkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUgsaUJBQWlCLHNFQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxpQkFBaUIsc0VBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLHNCQUFzQixvR0FBMEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxzQkFBc0Isb0dBQTBCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxRUFBTztBQUNkLGNBQWMsd0VBQWM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFNBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUE4RCxRQUFRO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQkFBZ0I7QUFDdkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0VBQWM7QUFDaEM7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQkFBZ0I7QUFDdkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0VBQWM7QUFDaEM7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYSxRQUFRO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsUUFBUTtBQUNyQjtBQUNBLHlEQUFlLGtCQUFrQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1dpZGdldHMvQW5pbWF0aW9uL0FuaW1hdGlvblZpZXdNb2RlbC5qcz84OTU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiaW5hcnlTZWFyY2ggZnJvbSBcIi4uLy4uL0NvcmUvYmluYXJ5U2VhcmNoLmpzXCI7XG5pbXBvcnQgQ2xvY2tSYW5nZSBmcm9tIFwiLi4vLi4vQ29yZS9DbG9ja1JhbmdlLmpzXCI7XG5pbXBvcnQgQ2xvY2tTdGVwIGZyb20gXCIuLi8uLi9Db3JlL0Nsb2NrU3RlcC5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uLy4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi8uLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgSnVsaWFuRGF0ZSBmcm9tIFwiLi4vLi4vQ29yZS9KdWxpYW5EYXRlLmpzXCI7XG5pbXBvcnQga25vY2tvdXQgZnJvbSBcIi4uLy4uL1RoaXJkUGFydHkva25vY2tvdXQuanNcIjtcbmltcG9ydCBjcmVhdGVDb21tYW5kIGZyb20gXCIuLi9jcmVhdGVDb21tYW5kLmpzXCI7XG5pbXBvcnQgVG9nZ2xlQnV0dG9uVmlld01vZGVsIGZyb20gXCIuLi9Ub2dnbGVCdXR0b25WaWV3TW9kZWwuanNcIjtcblxudmFyIG1vbnRoTmFtZXMgPSBbXG4gIFwiSmFuXCIsXG4gIFwiRmViXCIsXG4gIFwiTWFyXCIsXG4gIFwiQXByXCIsXG4gIFwiTWF5XCIsXG4gIFwiSnVuXCIsXG4gIFwiSnVsXCIsXG4gIFwiQXVnXCIsXG4gIFwiU2VwXCIsXG4gIFwiT2N0XCIsXG4gIFwiTm92XCIsXG4gIFwiRGVjXCIsXG5dO1xudmFyIHJlYWx0aW1lU2h1dHRsZVJpbmdBbmdsZSA9IDE1O1xudmFyIG1heFNodXR0bGVSaW5nQW5nbGUgPSAxMDU7XG5cbmZ1bmN0aW9uIG51bWJlckNvbXBhcmF0b3IobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgLSByaWdodDtcbn1cblxuZnVuY3Rpb24gZ2V0VHlwaWNhbE11bHRpcGxpZXJJbmRleChtdWx0aXBsaWVyLCBzaHV0dGxlUmluZ1RpY2tzKSB7XG4gIHZhciBpbmRleCA9IGJpbmFyeVNlYXJjaChzaHV0dGxlUmluZ1RpY2tzLCBtdWx0aXBsaWVyLCBudW1iZXJDb21wYXJhdG9yKTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IH5pbmRleCA6IGluZGV4O1xufVxuXG5mdW5jdGlvbiBhbmdsZVRvTXVsdGlwbGllcihhbmdsZSwgc2h1dHRsZVJpbmdUaWNrcykge1xuICAvL1VzZSBhIGxpbmVhciBzY2FsZSBmb3IgLTEgdG8gMSBiZXR3ZWVuIC0xNSA8IGFuZ2xlIDwgMTUgZGVncmVlc1xuICBpZiAoTWF0aC5hYnMoYW5nbGUpIDw9IHJlYWx0aW1lU2h1dHRsZVJpbmdBbmdsZSkge1xuICAgIHJldHVybiBhbmdsZSAvIHJlYWx0aW1lU2h1dHRsZVJpbmdBbmdsZTtcbiAgfVxuXG4gIHZhciBtaW5wID0gcmVhbHRpbWVTaHV0dGxlUmluZ0FuZ2xlO1xuICB2YXIgbWF4cCA9IG1heFNodXR0bGVSaW5nQW5nbGU7XG4gIHZhciBtYXh2O1xuICB2YXIgbWludiA9IDA7XG4gIHZhciBzY2FsZTtcbiAgaWYgKGFuZ2xlID4gMCkge1xuICAgIG1heHYgPSBNYXRoLmxvZyhzaHV0dGxlUmluZ1RpY2tzW3NodXR0bGVSaW5nVGlja3MubGVuZ3RoIC0gMV0pO1xuICAgIHNjYWxlID0gKG1heHYgLSBtaW52KSAvIChtYXhwIC0gbWlucCk7XG4gICAgcmV0dXJuIE1hdGguZXhwKG1pbnYgKyBzY2FsZSAqIChhbmdsZSAtIG1pbnApKTtcbiAgfVxuXG4gIG1heHYgPSBNYXRoLmxvZygtc2h1dHRsZVJpbmdUaWNrc1swXSk7XG4gIHNjYWxlID0gKG1heHYgLSBtaW52KSAvIChtYXhwIC0gbWlucCk7XG4gIHJldHVybiAtTWF0aC5leHAobWludiArIHNjYWxlICogKE1hdGguYWJzKGFuZ2xlKSAtIG1pbnApKTtcbn1cblxuZnVuY3Rpb24gbXVsdGlwbGllclRvQW5nbGUobXVsdGlwbGllciwgc2h1dHRsZVJpbmdUaWNrcywgY2xvY2tWaWV3TW9kZWwpIHtcbiAgaWYgKGNsb2NrVmlld01vZGVsLmNsb2NrU3RlcCA9PT0gQ2xvY2tTdGVwLlNZU1RFTV9DTE9DSykge1xuICAgIHJldHVybiByZWFsdGltZVNodXR0bGVSaW5nQW5nbGU7XG4gIH1cblxuICBpZiAoTWF0aC5hYnMobXVsdGlwbGllcikgPD0gMSkge1xuICAgIHJldHVybiBtdWx0aXBsaWVyICogcmVhbHRpbWVTaHV0dGxlUmluZ0FuZ2xlO1xuICB9XG5cbiAgdmFyIGZhc3RlZE11bHRpcGxlciA9IHNodXR0bGVSaW5nVGlja3Nbc2h1dHRsZVJpbmdUaWNrcy5sZW5ndGggLSAxXTtcbiAgaWYgKG11bHRpcGxpZXIgPiBmYXN0ZWRNdWx0aXBsZXIpIHtcbiAgICBtdWx0aXBsaWVyID0gZmFzdGVkTXVsdGlwbGVyO1xuICB9IGVsc2UgaWYgKG11bHRpcGxpZXIgPCAtZmFzdGVkTXVsdGlwbGVyKSB7XG4gICAgbXVsdGlwbGllciA9IC1mYXN0ZWRNdWx0aXBsZXI7XG4gIH1cblxuICB2YXIgbWlucCA9IHJlYWx0aW1lU2h1dHRsZVJpbmdBbmdsZTtcbiAgdmFyIG1heHAgPSBtYXhTaHV0dGxlUmluZ0FuZ2xlO1xuICB2YXIgbWF4djtcbiAgdmFyIG1pbnYgPSAwO1xuICB2YXIgc2NhbGU7XG5cbiAgaWYgKG11bHRpcGxpZXIgPiAwKSB7XG4gICAgbWF4diA9IE1hdGgubG9nKGZhc3RlZE11bHRpcGxlcik7XG4gICAgc2NhbGUgPSAobWF4diAtIG1pbnYpIC8gKG1heHAgLSBtaW5wKTtcbiAgICByZXR1cm4gKE1hdGgubG9nKG11bHRpcGxpZXIpIC0gbWludikgLyBzY2FsZSArIG1pbnA7XG4gIH1cblxuICBtYXh2ID0gTWF0aC5sb2coLXNodXR0bGVSaW5nVGlja3NbMF0pO1xuICBzY2FsZSA9IChtYXh2IC0gbWludikgLyAobWF4cCAtIG1pbnApO1xuICByZXR1cm4gLSgoTWF0aC5sb2coTWF0aC5hYnMobXVsdGlwbGllcikpIC0gbWludikgLyBzY2FsZSArIG1pbnApO1xufVxuXG4vKipcbiAqIFRoZSB2aWV3IG1vZGVsIGZvciB0aGUge0BsaW5rIEFuaW1hdGlvbn0gd2lkZ2V0LlxuICogQGFsaWFzIEFuaW1hdGlvblZpZXdNb2RlbFxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtDbG9ja1ZpZXdNb2RlbH0gY2xvY2tWaWV3TW9kZWwgVGhlIENsb2NrVmlld01vZGVsIGluc3RhbmNlIHRvIHVzZS5cbiAqXG4gKiBAc2VlIEFuaW1hdGlvblxuICovXG5mdW5jdGlvbiBBbmltYXRpb25WaWV3TW9kZWwoY2xvY2tWaWV3TW9kZWwpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGNsb2NrVmlld01vZGVsKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcImNsb2NrVmlld01vZGVsIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgdGhhdCA9IHRoaXM7XG4gIHRoaXMuX2Nsb2NrVmlld01vZGVsID0gY2xvY2tWaWV3TW9kZWw7XG4gIHRoaXMuX2FsbFNodXR0bGVSaW5nVGlja3MgPSBbXTtcbiAgdGhpcy5fZGF0ZUZvcm1hdHRlciA9IEFuaW1hdGlvblZpZXdNb2RlbC5kZWZhdWx0RGF0ZUZvcm1hdHRlcjtcbiAgdGhpcy5fdGltZUZvcm1hdHRlciA9IEFuaW1hdGlvblZpZXdNb2RlbC5kZWZhdWx0VGltZUZvcm1hdHRlcjtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgdGhlIHNodXR0bGUgcmluZyBpcyBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZC4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnNodXR0bGVSaW5nRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgZHJhZ2dpbmcgdGhlIHNodXR0bGUgcmluZyBzaG91bGQgY2F1c2UgdGhlIG11bHRpcGxpZXJcbiAgICogdG8gc25hcCB0byB0aGUgZGVmaW5lZCB0aWNrIHZhbHVlcyByYXRoZXIgdGhhbiBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdGhlbS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuc25hcFRvVGlja3MgPSBmYWxzZTtcblxuICBrbm9ja291dC50cmFjayh0aGlzLCBbXG4gICAgXCJfYWxsU2h1dHRsZVJpbmdUaWNrc1wiLFxuICAgIFwiX2RhdGVGb3JtYXR0ZXJcIixcbiAgICBcIl90aW1lRm9ybWF0dGVyXCIsXG4gICAgXCJzaHV0dGxlUmluZ0RyYWdnaW5nXCIsXG4gICAgXCJzbmFwVG9UaWNrc1wiLFxuICBdKTtcblxuICB0aGlzLl9zb3J0ZWRGaWx0ZXJlZFBvc2l0aXZlVGlja3MgPSBbXTtcblxuICB0aGlzLnNldFNodXR0bGVSaW5nVGlja3MoQW5pbWF0aW9uVmlld01vZGVsLmRlZmF1bHRUaWNrcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY3VycmVudCB0aW1lLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgdGhpcy50aW1lTGFiZWwgPSB1bmRlZmluZWQ7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZUxhYmVsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhhdC5fdGltZUZvcm1hdHRlcih0aGF0Ll9jbG9ja1ZpZXdNb2RlbC5jdXJyZW50VGltZSwgdGhhdCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGN1cnJlbnQgZGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIHRoaXMuZGF0ZUxhYmVsID0gdW5kZWZpbmVkO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhdGVMYWJlbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoYXQuX2RhdGVGb3JtYXR0ZXIodGhhdC5fY2xvY2tWaWV3TW9kZWwuY3VycmVudFRpbWUsIHRoYXQpO1xuICB9KTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjdXJyZW50IG11bHRpcGxpZXIuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICB0aGlzLm11bHRpcGxpZXJMYWJlbCA9IHVuZGVmaW5lZDtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtdWx0aXBsaWVyTGFiZWxcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIGlmIChjbG9ja1ZpZXdNb2RlbC5jbG9ja1N0ZXAgPT09IENsb2NrU3RlcC5TWVNURU1fQ0xPQ0spIHtcbiAgICAgIHJldHVybiBcIlRvZGF5XCI7XG4gICAgfVxuXG4gICAgdmFyIG11bHRpcGxpZXIgPSBjbG9ja1ZpZXdNb2RlbC5tdWx0aXBsaWVyO1xuXG4gICAgLy9JZiBpdCdzIGEgd2hvbGUgbnVtYmVyLCBqdXN0IHJldHVybiBpdC5cbiAgICBpZiAobXVsdGlwbGllciAlIDEgPT09IDApIHtcbiAgICAgIHJldHVybiBtdWx0aXBsaWVyLnRvRml4ZWQoMCkgKyBcInhcIjtcbiAgICB9XG5cbiAgICAvL0NvbnZlcnQgdG8gZGVjaW1hbCBzdHJpbmcgYW5kIHJlbW92ZSBhbnkgdHJhaWxpbmcgemVyb2VzXG4gICAgcmV0dXJuIG11bHRpcGxpZXIudG9GaXhlZCgzKS5yZXBsYWNlKC8wezAsM30kLywgXCJcIikgKyBcInhcIjtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgY3VycmVudCBzaHV0dGxlIHJpbmcgYW5nbGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB0aGlzLnNodXR0bGVSaW5nQW5nbGUgPSB1bmRlZmluZWQ7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2h1dHRsZVJpbmdBbmdsZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllclRvQW5nbGUoXG4gICAgICAgIGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXIsXG4gICAgICAgIHRoYXQuX2FsbFNodXR0bGVSaW5nVGlja3MsXG4gICAgICAgIGNsb2NrVmlld01vZGVsXG4gICAgICApO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgIGFuZ2xlID0gTWF0aC5tYXgoXG4gICAgICAgIE1hdGgubWluKGFuZ2xlLCBtYXhTaHV0dGxlUmluZ0FuZ2xlKSxcbiAgICAgICAgLW1heFNodXR0bGVSaW5nQW5nbGVcbiAgICAgICk7XG4gICAgICB2YXIgdGlja3MgPSB0aGF0Ll9hbGxTaHV0dGxlUmluZ1RpY2tzO1xuXG4gICAgICB2YXIgY2xvY2tWaWV3TW9kZWwgPSB0aGF0Ll9jbG9ja1ZpZXdNb2RlbDtcbiAgICAgIGNsb2NrVmlld01vZGVsLmNsb2NrU3RlcCA9IENsb2NrU3RlcC5TWVNURU1fQ0xPQ0tfTVVMVElQTElFUjtcblxuICAgICAgLy9JZiB3ZSBhcmUgYXQgdGhlIG1heCBhbmdsZSwgc2ltcGx5IHJldHVybiB0aGUgbWF4IHZhbHVlIGluIGVpdGhlciBkaXJlY3Rpb24uXG4gICAgICBpZiAoTWF0aC5hYnMoYW5nbGUpID09PSBtYXhTaHV0dGxlUmluZ0FuZ2xlKSB7XG4gICAgICAgIGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXIgPVxuICAgICAgICAgIGFuZ2xlID4gMCA/IHRpY2tzW3RpY2tzLmxlbmd0aCAtIDFdIDogdGlja3NbMF07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG11bHRpcGxpZXIgPSBhbmdsZVRvTXVsdGlwbGllcihhbmdsZSwgdGlja3MpO1xuICAgICAgaWYgKHRoYXQuc25hcFRvVGlja3MpIHtcbiAgICAgICAgbXVsdGlwbGllciA9IHRpY2tzW2dldFR5cGljYWxNdWx0aXBsaWVySW5kZXgobXVsdGlwbGllciwgdGlja3MpXTtcbiAgICAgIH0gZWxzZSBpZiAobXVsdGlwbGllciAhPT0gMCkge1xuICAgICAgICB2YXIgcG9zaXRpdmVNdWx0aXBsaWVyID0gTWF0aC5hYnMobXVsdGlwbGllcik7XG5cbiAgICAgICAgaWYgKHBvc2l0aXZlTXVsdGlwbGllciA+IDEwMCkge1xuICAgICAgICAgIHZhciBudW1EaWdpdHMgPSBwb3NpdGl2ZU11bHRpcGxpZXIudG9GaXhlZCgwKS5sZW5ndGggLSAyO1xuICAgICAgICAgIHZhciBkaXZpc29yID0gTWF0aC5wb3coMTAsIG51bURpZ2l0cyk7XG4gICAgICAgICAgbXVsdGlwbGllciA9IChNYXRoLnJvdW5kKG11bHRpcGxpZXIgLyBkaXZpc29yKSAqIGRpdmlzb3IpIHwgMDtcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGl2ZU11bHRpcGxpZXIgPiByZWFsdGltZVNodXR0bGVSaW5nQW5nbGUpIHtcbiAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5yb3VuZChtdWx0aXBsaWVyKTtcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGl2ZU11bHRpcGxpZXIgPiAxKSB7XG4gICAgICAgICAgbXVsdGlwbGllciA9ICttdWx0aXBsaWVyLnRvRml4ZWQoMSk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpdmVNdWx0aXBsaWVyID4gMCkge1xuICAgICAgICAgIG11bHRpcGxpZXIgPSArbXVsdGlwbGllci50b0ZpeGVkKDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjbG9ja1ZpZXdNb2RlbC5tdWx0aXBsaWVyID0gbXVsdGlwbGllcjtcbiAgICB9LFxuICB9KTtcblxuICB0aGlzLl9jYW5BbmltYXRlID0gdW5kZWZpbmVkO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYW5BbmltYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2xvY2tWaWV3TW9kZWwgPSB0aGF0Ll9jbG9ja1ZpZXdNb2RlbDtcbiAgICB2YXIgY2xvY2tSYW5nZSA9IGNsb2NrVmlld01vZGVsLmNsb2NrUmFuZ2U7XG5cbiAgICBpZiAodGhhdC5zaHV0dGxlUmluZ0RyYWdnaW5nIHx8IGNsb2NrUmFuZ2UgPT09IENsb2NrUmFuZ2UuVU5CT1VOREVEKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgbXVsdGlwbGllciA9IGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXI7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gY2xvY2tWaWV3TW9kZWwuY3VycmVudFRpbWU7XG4gICAgdmFyIHN0YXJ0VGltZSA9IGNsb2NrVmlld01vZGVsLnN0YXJ0VGltZTtcblxuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICBpZiAoY2xvY2tSYW5nZSA9PT0gQ2xvY2tSYW5nZS5MT09QX1NUT1ApIHtcbiAgICAgIHJlc3VsdCA9XG4gICAgICAgIEp1bGlhbkRhdGUuZ3JlYXRlclRoYW4oY3VycmVudFRpbWUsIHN0YXJ0VGltZSkgfHxcbiAgICAgICAgKGN1cnJlbnRUaW1lLmVxdWFscyhzdGFydFRpbWUpICYmIG11bHRpcGxpZXIgPiAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0b3BUaW1lID0gY2xvY2tWaWV3TW9kZWwuc3RvcFRpbWU7XG4gICAgICByZXN1bHQgPVxuICAgICAgICAoSnVsaWFuRGF0ZS5ncmVhdGVyVGhhbihjdXJyZW50VGltZSwgc3RhcnRUaW1lKSAmJlxuICAgICAgICAgIEp1bGlhbkRhdGUubGVzc1RoYW4oY3VycmVudFRpbWUsIHN0b3BUaW1lKSkgfHwgLy9cbiAgICAgICAgKGN1cnJlbnRUaW1lLmVxdWFscyhzdGFydFRpbWUpICYmIG11bHRpcGxpZXIgPiAwKSB8fCAvL1xuICAgICAgICAoY3VycmVudFRpbWUuZXF1YWxzKHN0b3BUaW1lKSAmJiBtdWx0aXBsaWVyIDwgMCk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIGNsb2NrVmlld01vZGVsLnNob3VsZEFuaW1hdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG5cbiAgdGhpcy5faXNTeXN0ZW1UaW1lQXZhaWxhYmxlID0gdW5kZWZpbmVkO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc1N5c3RlbVRpbWVBdmFpbGFibGVcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIHZhciBjbG9ja1JhbmdlID0gY2xvY2tWaWV3TW9kZWwuY2xvY2tSYW5nZTtcbiAgICBpZiAoY2xvY2tSYW5nZSA9PT0gQ2xvY2tSYW5nZS5VTkJPVU5ERUQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzeXN0ZW1UaW1lID0gY2xvY2tWaWV3TW9kZWwuc3lzdGVtVGltZTtcbiAgICByZXR1cm4gKFxuICAgICAgSnVsaWFuRGF0ZS5ncmVhdGVyVGhhbk9yRXF1YWxzKHN5c3RlbVRpbWUsIGNsb2NrVmlld01vZGVsLnN0YXJ0VGltZSkgJiZcbiAgICAgIEp1bGlhbkRhdGUubGVzc1RoYW5PckVxdWFscyhzeXN0ZW1UaW1lLCBjbG9ja1ZpZXdNb2RlbC5zdG9wVGltZSlcbiAgICApO1xuICB9KTtcblxuICB0aGlzLl9pc0FuaW1hdGluZyA9IHVuZGVmaW5lZDtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNBbmltYXRpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGF0Ll9jbG9ja1ZpZXdNb2RlbC5zaG91bGRBbmltYXRlICYmXG4gICAgICAodGhhdC5fY2FuQW5pbWF0ZSB8fCB0aGF0LnNodXR0bGVSaW5nRHJhZ2dpbmcpXG4gICAgKTtcbiAgfSk7XG5cbiAgdmFyIHBhdXNlQ29tbWFuZCA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIGlmIChjbG9ja1ZpZXdNb2RlbC5zaG91bGRBbmltYXRlKSB7XG4gICAgICBjbG9ja1ZpZXdNb2RlbC5zaG91bGRBbmltYXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0aGF0Ll9jYW5BbmltYXRlKSB7XG4gICAgICBjbG9ja1ZpZXdNb2RlbC5zaG91bGRBbmltYXRlID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX3BhdXNlVmlld01vZGVsID0gbmV3IFRvZ2dsZUJ1dHRvblZpZXdNb2RlbChwYXVzZUNvbW1hbmQsIHtcbiAgICB0b2dnbGVkOiBrbm9ja291dC5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gIXRoYXQuX2lzQW5pbWF0aW5nO1xuICAgIH0pLFxuICAgIHRvb2x0aXA6IFwiUGF1c2VcIixcbiAgfSk7XG5cbiAgdmFyIHBsYXlSZXZlcnNlQ29tbWFuZCA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIHZhciBtdWx0aXBsaWVyID0gY2xvY2tWaWV3TW9kZWwubXVsdGlwbGllcjtcbiAgICBpZiAobXVsdGlwbGllciA+IDApIHtcbiAgICAgIGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXIgPSAtbXVsdGlwbGllcjtcbiAgICB9XG4gICAgY2xvY2tWaWV3TW9kZWwuc2hvdWxkQW5pbWF0ZSA9IHRydWU7XG4gIH0pO1xuXG4gIHRoaXMuX3BsYXlSZXZlcnNlVmlld01vZGVsID0gbmV3IFRvZ2dsZUJ1dHRvblZpZXdNb2RlbChwbGF5UmV2ZXJzZUNvbW1hbmQsIHtcbiAgICB0b2dnbGVkOiBrbm9ja291dC5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhhdC5faXNBbmltYXRpbmcgJiYgY2xvY2tWaWV3TW9kZWwubXVsdGlwbGllciA8IDA7XG4gICAgfSksXG4gICAgdG9vbHRpcDogXCJQbGF5IFJldmVyc2VcIixcbiAgfSk7XG5cbiAgdmFyIHBsYXlGb3J3YXJkQ29tbWFuZCA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIHZhciBtdWx0aXBsaWVyID0gY2xvY2tWaWV3TW9kZWwubXVsdGlwbGllcjtcbiAgICBpZiAobXVsdGlwbGllciA8IDApIHtcbiAgICAgIGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXIgPSAtbXVsdGlwbGllcjtcbiAgICB9XG4gICAgY2xvY2tWaWV3TW9kZWwuc2hvdWxkQW5pbWF0ZSA9IHRydWU7XG4gIH0pO1xuXG4gIHRoaXMuX3BsYXlGb3J3YXJkVmlld01vZGVsID0gbmV3IFRvZ2dsZUJ1dHRvblZpZXdNb2RlbChwbGF5Rm9yd2FyZENvbW1hbmQsIHtcbiAgICB0b2dnbGVkOiBrbm9ja291dC5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGF0Ll9pc0FuaW1hdGluZyAmJlxuICAgICAgICBjbG9ja1ZpZXdNb2RlbC5tdWx0aXBsaWVyID4gMCAmJlxuICAgICAgICBjbG9ja1ZpZXdNb2RlbC5jbG9ja1N0ZXAgIT09IENsb2NrU3RlcC5TWVNURU1fQ0xPQ0tcbiAgICAgICk7XG4gICAgfSksXG4gICAgdG9vbHRpcDogXCJQbGF5IEZvcndhcmRcIixcbiAgfSk7XG5cbiAgdmFyIHBsYXlSZWFsdGltZUNvbW1hbmQgPSBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICB0aGF0Ll9jbG9ja1ZpZXdNb2RlbC5jbG9ja1N0ZXAgPSBDbG9ja1N0ZXAuU1lTVEVNX0NMT0NLO1xuICB9LCBrbm9ja291dC5nZXRPYnNlcnZhYmxlKHRoaXMsIFwiX2lzU3lzdGVtVGltZUF2YWlsYWJsZVwiKSk7XG5cbiAgdGhpcy5fcGxheVJlYWx0aW1lVmlld01vZGVsID0gbmV3IFRvZ2dsZUJ1dHRvblZpZXdNb2RlbChwbGF5UmVhbHRpbWVDb21tYW5kLCB7XG4gICAgdG9nZ2xlZDoga25vY2tvdXQuY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNsb2NrVmlld01vZGVsLmNsb2NrU3RlcCA9PT0gQ2xvY2tTdGVwLlNZU1RFTV9DTE9DSztcbiAgICB9KSxcbiAgICB0b29sdGlwOiBrbm9ja291dC5jb21wdXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhhdC5faXNTeXN0ZW1UaW1lQXZhaWxhYmxlXG4gICAgICAgID8gXCJUb2RheSAocmVhbC10aW1lKVwiXG4gICAgICAgIDogXCJDdXJyZW50IHRpbWUgbm90IGluIHJhbmdlXCI7XG4gICAgfSksXG4gIH0pO1xuXG4gIHRoaXMuX3Nsb3dlciA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIHZhciBzaHV0dGxlUmluZ1RpY2tzID0gdGhhdC5fYWxsU2h1dHRsZVJpbmdUaWNrcztcbiAgICB2YXIgbXVsdGlwbGllciA9IGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXI7XG4gICAgdmFyIGluZGV4ID0gZ2V0VHlwaWNhbE11bHRpcGxpZXJJbmRleChtdWx0aXBsaWVyLCBzaHV0dGxlUmluZ1RpY2tzKSAtIDE7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXIgPSBzaHV0dGxlUmluZ1RpY2tzW2luZGV4XTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX2Zhc3RlciA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9ja1ZpZXdNb2RlbCA9IHRoYXQuX2Nsb2NrVmlld01vZGVsO1xuICAgIHZhciBzaHV0dGxlUmluZ1RpY2tzID0gdGhhdC5fYWxsU2h1dHRsZVJpbmdUaWNrcztcbiAgICB2YXIgbXVsdGlwbGllciA9IGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXI7XG4gICAgdmFyIGluZGV4ID0gZ2V0VHlwaWNhbE11bHRpcGxpZXJJbmRleChtdWx0aXBsaWVyLCBzaHV0dGxlUmluZ1RpY2tzKSArIDE7XG4gICAgaWYgKGluZGV4IDwgc2h1dHRsZVJpbmdUaWNrcy5sZW5ndGgpIHtcbiAgICAgIGNsb2NrVmlld01vZGVsLm11bHRpcGxpZXIgPSBzaHV0dGxlUmluZ1RpY2tzW2luZGV4XTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldHMgb3Igc2V0cyB0aGUgZGVmYXVsdCBkYXRlIGZvcm1hdHRlciB1c2VkIGJ5IG5ldyBpbnN0YW5jZXMuXG4gKlxuICogQG1lbWJlclxuICogQHR5cGUge0FuaW1hdGlvblZpZXdNb2RlbC5EYXRlRm9ybWF0dGVyfVxuICovXG5BbmltYXRpb25WaWV3TW9kZWwuZGVmYXVsdERhdGVGb3JtYXR0ZXIgPSBmdW5jdGlvbiAoZGF0ZSwgdmlld01vZGVsKSB7XG4gIHZhciBncmVnb3JpYW5EYXRlID0gSnVsaWFuRGF0ZS50b0dyZWdvcmlhbkRhdGUoZGF0ZSk7XG4gIHJldHVybiAoXG4gICAgbW9udGhOYW1lc1tncmVnb3JpYW5EYXRlLm1vbnRoIC0gMV0gK1xuICAgIFwiIFwiICtcbiAgICBncmVnb3JpYW5EYXRlLmRheSArXG4gICAgXCIgXCIgK1xuICAgIGdyZWdvcmlhbkRhdGUueWVhclxuICApO1xufTtcblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIGRlZmF1bHQgYXJyYXkgb2Yga25vd24gY2xvY2sgbXVsdGlwbGllcnMgYXNzb2NpYXRlZCB3aXRoIG5ldyBpbnN0YW5jZXMgb2YgdGhlIHNodXR0bGUgcmluZy5cbiAqIEB0eXBlIHtOdW1iZXJbXX1cbiAqL1xuQW5pbWF0aW9uVmlld01vZGVsLmRlZmF1bHRUaWNrcyA9IFtcbiAgLy9cbiAgMC4wMDEsXG4gIDAuMDAyLFxuICAwLjAwNSxcbiAgMC4wMSxcbiAgMC4wMixcbiAgMC4wNSxcbiAgMC4xLFxuICAwLjI1LFxuICAwLjUsXG4gIDEuMCxcbiAgMi4wLFxuICA1LjAsXG4gIDEwLjAsIC8vXG4gIDE1LjAsXG4gIDMwLjAsXG4gIDYwLjAsXG4gIDEyMC4wLFxuICAzMDAuMCxcbiAgNjAwLjAsXG4gIDkwMC4wLFxuICAxODAwLjAsXG4gIDM2MDAuMCxcbiAgNzIwMC4wLFxuICAxNDQwMC4wLCAvL1xuICAyMTYwMC4wLFxuICA0MzIwMC4wLFxuICA4NjQwMC4wLFxuICAxNzI4MDAuMCxcbiAgMzQ1NjAwLjAsXG4gIDYwNDgwMC4wLFxuXTtcblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIGRlZmF1bHQgdGltZSBmb3JtYXR0ZXIgdXNlZCBieSBuZXcgaW5zdGFuY2VzLlxuICpcbiAqIEBtZW1iZXJcbiAqIEB0eXBlIHtBbmltYXRpb25WaWV3TW9kZWwuVGltZUZvcm1hdHRlcn1cbiAqL1xuQW5pbWF0aW9uVmlld01vZGVsLmRlZmF1bHRUaW1lRm9ybWF0dGVyID0gZnVuY3Rpb24gKGRhdGUsIHZpZXdNb2RlbCkge1xuICB2YXIgZ3JlZ29yaWFuRGF0ZSA9IEp1bGlhbkRhdGUudG9HcmVnb3JpYW5EYXRlKGRhdGUpO1xuICB2YXIgbWlsbGlzZWNvbmQgPSBNYXRoLnJvdW5kKGdyZWdvcmlhbkRhdGUubWlsbGlzZWNvbmQpO1xuICBpZiAoTWF0aC5hYnModmlld01vZGVsLl9jbG9ja1ZpZXdNb2RlbC5tdWx0aXBsaWVyKSA8IDEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZ3JlZ29yaWFuRGF0ZS5ob3VyLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcbiAgICAgIFwiOlwiICtcbiAgICAgIGdyZWdvcmlhbkRhdGUubWludXRlLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcbiAgICAgIFwiOlwiICtcbiAgICAgIGdyZWdvcmlhbkRhdGUuc2Vjb25kLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcbiAgICAgIFwiLlwiICtcbiAgICAgIG1pbGxpc2Vjb25kLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgXCIwXCIpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gKFxuICAgIGdyZWdvcmlhbkRhdGUuaG91ci50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKSArXG4gICAgXCI6XCIgK1xuICAgIGdyZWdvcmlhbkRhdGUubWludXRlLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpICtcbiAgICBcIjpcIiArXG4gICAgZ3JlZ29yaWFuRGF0ZS5zZWNvbmQudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIikgK1xuICAgIFwiIFVUQ1wiXG4gICk7XG59O1xuXG4vKipcbiAqIEdldHMgYSBjb3B5IG9mIHRoZSBhcnJheSBvZiBwb3NpdGl2ZSBrbm93biBjbG9jayBtdWx0aXBsaWVycyB0byBhc3NvY2lhdGUgd2l0aCB0aGUgc2h1dHRsZSByaW5nLlxuICpcbiAqIEByZXR1cm5zIHtOdW1iZXJbXX0gVGhlIGFycmF5IG9mIGtub3duIGNsb2NrIG11bHRpcGxpZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc2h1dHRsZSByaW5nLlxuICovXG5BbmltYXRpb25WaWV3TW9kZWwucHJvdG90eXBlLmdldFNodXR0bGVSaW5nVGlja3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9zb3J0ZWRGaWx0ZXJlZFBvc2l0aXZlVGlja3Muc2xpY2UoMCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGFycmF5IG9mIHBvc2l0aXZlIGtub3duIGNsb2NrIG11bHRpcGxpZXJzIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBzaHV0dGxlIHJpbmcuXG4gKiBUaGVzZSB2YWx1ZXMgd2lsbCBoYXZlIG5lZ2F0aXZlIGVxdWl2YWxlbnRzIGNyZWF0ZWQgZm9yIHRoZW0gYW5kIHNldHMgYm90aCB0aGUgbWluaW11bVxuICogYW5kIG1heGltdW0gcmFuZ2Ugb2YgdmFsdWVzIGZvciB0aGUgc2h1dHRsZSByaW5nIGFzIHdlbGwgYXMgdGhlIHZhbHVlcyB0aGF0IGFyZSBzbmFwcGVkXG4gKiB0byB3aGVuIGEgc2luZ2xlIGNsaWNrIGlzIG1hZGUuICBUaGUgdmFsdWVzIG5lZWQgbm90IGJlIGluIG9yZGVyLCBhcyB0aGV5IHdpbGwgYmUgc29ydGVkXG4gKiBhdXRvbWF0aWNhbGx5LCBhbmQgZHVwbGljYXRlIHZhbHVlcyB3aWxsIGJlIHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJbXX0gcG9zaXRpdmVUaWNrcyBUaGUgbGlzdCBvZiBrbm93biBwb3NpdGl2ZSBjbG9jayBtdWx0aXBsaWVycyB0byBhc3NvY2lhdGUgd2l0aCB0aGUgc2h1dHRsZSByaW5nLlxuICovXG5BbmltYXRpb25WaWV3TW9kZWwucHJvdG90eXBlLnNldFNodXR0bGVSaW5nVGlja3MgPSBmdW5jdGlvbiAocG9zaXRpdmVUaWNrcykge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQocG9zaXRpdmVUaWNrcykpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJwb3NpdGl2ZVRpY2tzIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgaTtcbiAgdmFyIGxlbjtcbiAgdmFyIHRpY2s7XG5cbiAgdmFyIGhhc2ggPSB7fTtcbiAgdmFyIHNvcnRlZEZpbHRlcmVkUG9zaXRpdmVUaWNrcyA9IHRoaXMuX3NvcnRlZEZpbHRlcmVkUG9zaXRpdmVUaWNrcztcbiAgc29ydGVkRmlsdGVyZWRQb3NpdGl2ZVRpY2tzLmxlbmd0aCA9IDA7XG4gIGZvciAoaSA9IDAsIGxlbiA9IHBvc2l0aXZlVGlja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICB0aWNrID0gcG9zaXRpdmVUaWNrc1tpXTtcbiAgICAvL2ZpbHRlciBkdXBsaWNhdGVzXG4gICAgaWYgKCFoYXNoLmhhc093blByb3BlcnR5KHRpY2spKSB7XG4gICAgICBoYXNoW3RpY2tdID0gdHJ1ZTtcbiAgICAgIHNvcnRlZEZpbHRlcmVkUG9zaXRpdmVUaWNrcy5wdXNoKHRpY2spO1xuICAgIH1cbiAgfVxuICBzb3J0ZWRGaWx0ZXJlZFBvc2l0aXZlVGlja3Muc29ydChudW1iZXJDb21wYXJhdG9yKTtcblxuICB2YXIgYWxsVGlja3MgPSBbXTtcbiAgZm9yIChsZW4gPSBzb3J0ZWRGaWx0ZXJlZFBvc2l0aXZlVGlja3MubGVuZ3RoLCBpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICB0aWNrID0gc29ydGVkRmlsdGVyZWRQb3NpdGl2ZVRpY2tzW2ldO1xuICAgIGlmICh0aWNrICE9PSAwKSB7XG4gICAgICBhbGxUaWNrcy5wdXNoKC10aWNrKTtcbiAgICB9XG4gIH1cbiAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYWxsVGlja3MsIHNvcnRlZEZpbHRlcmVkUG9zaXRpdmVUaWNrcyk7XG5cbiAgdGhpcy5fYWxsU2h1dHRsZVJpbmdUaWNrcyA9IGFsbFRpY2tzO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQW5pbWF0aW9uVmlld01vZGVsLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyBhIGNvbW1hbmQgdGhhdCBkZWNyZWFzZXMgdGhlIHNwZWVkIG9mIGFuaW1hdGlvbi5cbiAgICogQG1lbWJlcm9mIEFuaW1hdGlvblZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICBzbG93ZXI6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zbG93ZXI7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBhIGNvbW1hbmQgdGhhdCBpbmNyZWFzZXMgdGhlIHNwZWVkIG9mIGFuaW1hdGlvbi5cbiAgICogQG1lbWJlcm9mIEFuaW1hdGlvblZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICBmYXN0ZXI6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mYXN0ZXI7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY2xvY2sgdmlldyBtb2RlbC5cbiAgICogQG1lbWJlcm9mIEFuaW1hdGlvblZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Nsb2NrVmlld01vZGVsfVxuICAgKi9cbiAgY2xvY2tWaWV3TW9kZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jbG9ja1ZpZXdNb2RlbDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXVzZSB0b2dnbGUgYnV0dG9uIHZpZXcgbW9kZWwuXG4gICAqIEBtZW1iZXJvZiBBbmltYXRpb25WaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtUb2dnbGVCdXR0b25WaWV3TW9kZWx9XG4gICAqL1xuICBwYXVzZVZpZXdNb2RlbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BhdXNlVmlld01vZGVsO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHJldmVyc2UgdG9nZ2xlIGJ1dHRvbiB2aWV3IG1vZGVsLlxuICAgKiBAbWVtYmVyb2YgQW5pbWF0aW9uVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7VG9nZ2xlQnV0dG9uVmlld01vZGVsfVxuICAgKi9cbiAgcGxheVJldmVyc2VWaWV3TW9kZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wbGF5UmV2ZXJzZVZpZXdNb2RlbDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwbGF5IHRvZ2dsZSBidXR0b24gdmlldyBtb2RlbC5cbiAgICogQG1lbWJlcm9mIEFuaW1hdGlvblZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1RvZ2dsZUJ1dHRvblZpZXdNb2RlbH1cbiAgICovXG4gIHBsYXlGb3J3YXJkVmlld01vZGVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGxheUZvcndhcmRWaWV3TW9kZWw7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgcmVhbHRpbWUgdG9nZ2xlIGJ1dHRvbiB2aWV3IG1vZGVsLlxuICAgKiBAbWVtYmVyb2YgQW5pbWF0aW9uVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7VG9nZ2xlQnV0dG9uVmlld01vZGVsfVxuICAgKi9cbiAgcGxheVJlYWx0aW1lVmlld01vZGVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGxheVJlYWx0aW1lVmlld01vZGVsO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZnVuY3Rpb24gd2hpY2ggZm9ybWF0cyBhIGRhdGUgZm9yIGRpc3BsYXkuXG4gICAqIEBtZW1iZXJvZiBBbmltYXRpb25WaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtBbmltYXRpb25WaWV3TW9kZWwuRGF0ZUZvcm1hdHRlcn1cbiAgICogQGRlZmF1bHQgQW5pbWF0aW9uVmlld01vZGVsLmRlZmF1bHREYXRlRm9ybWF0dGVyXG4gICAqL1xuICBkYXRlRm9ybWF0dGVyOiB7XG4gICAgLy9UT0RPOkBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBkYXRlRm9ybWF0dGVyIG11c3QgYmUgYSBmdW5jdGlvbi5cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRlRm9ybWF0dGVyO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAoZGF0ZUZvcm1hdHRlcikge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICh0eXBlb2YgZGF0ZUZvcm1hdHRlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcImRhdGVGb3JtYXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAgIHRoaXMuX2RhdGVGb3JtYXR0ZXIgPSBkYXRlRm9ybWF0dGVyO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZnVuY3Rpb24gd2hpY2ggZm9ybWF0cyBhIHRpbWUgZm9yIGRpc3BsYXkuXG4gICAqIEBtZW1iZXJvZiBBbmltYXRpb25WaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtBbmltYXRpb25WaWV3TW9kZWwuVGltZUZvcm1hdHRlcn1cbiAgICogQGRlZmF1bHQgQW5pbWF0aW9uVmlld01vZGVsLmRlZmF1bHRUaW1lRm9ybWF0dGVyXG4gICAqL1xuICB0aW1lRm9ybWF0dGVyOiB7XG4gICAgLy9UT0RPOkBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSB0aW1lRm9ybWF0dGVyIG11c3QgYmUgYSBmdW5jdGlvbi5cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90aW1lRm9ybWF0dGVyO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodGltZUZvcm1hdHRlcikge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICh0eXBlb2YgdGltZUZvcm1hdHRlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInRpbWVGb3JtYXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAgIHRoaXMuX3RpbWVGb3JtYXR0ZXIgPSB0aW1lRm9ybWF0dGVyO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLy9DdXJyZW50bHkgZXhwb3NlZCBmb3IgdGVzdHMuXG5BbmltYXRpb25WaWV3TW9kZWwuX21heFNodXR0bGVSaW5nQW5nbGUgPSBtYXhTaHV0dGxlUmluZ0FuZ2xlO1xuQW5pbWF0aW9uVmlld01vZGVsLl9yZWFsdGltZVNodXR0bGVSaW5nQW5nbGUgPSByZWFsdGltZVNodXR0bGVSaW5nQW5nbGU7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGZvcm1hdHMgYSBkYXRlIGZvciBkaXNwbGF5LlxuICogQGNhbGxiYWNrIEFuaW1hdGlvblZpZXdNb2RlbC5EYXRlRm9ybWF0dGVyXG4gKlxuICogQHBhcmFtIHtKdWxpYW5EYXRlfSBkYXRlIFRoZSBkYXRlIHRvIGJlIGZvcm1hdHRlZFxuICogQHBhcmFtIHtBbmltYXRpb25WaWV3TW9kZWx9IHZpZXdNb2RlbCBUaGUgQW5pbWF0aW9uVmlld01vZGVsIGluc3RhbmNlIHJlcXVlc3RpbmcgZm9ybWF0dGluZy5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNhbGVuZGFyIGRhdGUgcG9ydGlvbiBvZiB0aGUgcHJvdmlkZWQgZGF0ZS5cbiAqL1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBmb3JtYXRzIGEgdGltZSBmb3IgZGlzcGxheS5cbiAqIEBjYWxsYmFjayBBbmltYXRpb25WaWV3TW9kZWwuVGltZUZvcm1hdHRlclxuICpcbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gZGF0ZSBUaGUgZGF0ZSB0byBiZSBmb3JtYXR0ZWRcbiAqIEBwYXJhbSB7QW5pbWF0aW9uVmlld01vZGVsfSB2aWV3TW9kZWwgVGhlIEFuaW1hdGlvblZpZXdNb2RlbCBpbnN0YW5jZSByZXF1ZXN0aW5nIGZvcm1hdHRpbmcuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0aW1lIHBvcnRpb24gb2YgdGhlIHByb3ZpZGVkIGRhdGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGlvblZpZXdNb2RlbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15483\n')},35504:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(96037);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(53454);\n/* harmony import */ var _getElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(43412);\n/* harmony import */ var _BaseLayerPickerViewModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2737);\n\n\n\n\n\n\n\n\n/**\n * <span style="display: block; text-align: center;">\n * <img src="Images/BaseLayerPicker.png" width="264" height="287" alt="" />\n * <br />BaseLayerPicker with its drop-panel open.\n * </span>\n * <br /><br />\n * The BaseLayerPicker is a single button widget that displays a panel of available imagery and\n * terrain providers.  When imagery is selected, the corresponding imagery layer is created and inserted\n * as the base layer of the imagery collection; removing the existing base.  When terrain is selected,\n * it replaces the current terrain provider.  Each item in the available providers list contains a name,\n * a representative icon, and a tooltip to display more information when hovered. The list is initially\n * empty, and must be configured before use, as illustrated in the below example.\n *\n * @alias BaseLayerPicker\n * @constructor\n *\n * @param {Element|String} container The parent HTML container node or ID for this widget.\n * @param {Object} options Object with the following properties:\n * @param {Globe} options.globe The Globe to use.\n * @param {ProviderViewModel[]} [options.imageryProviderViewModels=[]] The array of ProviderViewModel instances to use for imagery.\n * @param {ProviderViewModel} [options.selectedImageryProviderViewModel] The view model for the current base imagery layer, if not supplied the first available imagery layer is used.\n * @param {ProviderViewModel[]} [options.terrainProviderViewModels=[]] The array of ProviderViewModel instances to use for terrain.\n * @param {ProviderViewModel} [options.selectedTerrainProviderViewModel] The view model for the current base terrain layer, if not supplied the first available terrain layer is used.\n *\n * @exception {DeveloperError} Element with id "container" does not exist in the document.\n *\n *\n * @example\n * // In HTML head, include a link to the BaseLayerPicker.css stylesheet,\n * // and in the body, include: <div id="baseLayerPickerContainer"\n * //   style="position:absolute;top:24px;right:24px;width:38px;height:38px;"></div>\n *\n * //Create the list of available providers we would like the user to select from.\n * //This example uses 3, OpenStreetMap, The Black Marble, and a single, non-streaming world image.\n * var imageryViewModels = [];\n * imageryViewModels.push(new Cesium.ProviderViewModel({\n *      name : \'Open\\u00adStreet\\u00adMap\',\n *      iconUrl : Cesium.buildModuleUrl(\'Widgets/Images/ImageryProviders/openStreetMap.png\'),\n *      tooltip : \'OpenStreetMap (OSM) is a collaborative project to create a free editable \\\n * map of the world.\\nhttp://www.openstreetmap.org\',\n *      creationFunction : function() {\n *          return new Cesium.OpenStreetMapImageryProvider({\n *              url : \'https://a.tile.openstreetmap.org/\'\n *          });\n *      }\n *  }));\n *\n *  imageryViewModels.push(new Cesium.ProviderViewModel({\n *      name : \'Earth at Night\',\n *      iconUrl : Cesium.buildModuleUrl(\'Widgets/Images/ImageryProviders/blackMarble.png\'),\n *      tooltip : \'The lights of cities and villages trace the outlines of civilization \\\n * in this global view of the Earth at night as seen by NASA/NOAA\\\'s Suomi NPP satellite.\',\n *      creationFunction : function() {\n *          return new Cesium.IonImageryProvider({ assetId: 3812 });\n *      }\n *  }));\n *\n *  imageryViewModels.push(new Cesium.ProviderViewModel({\n *      name : \'Natural Earth\\u00a0II\',\n *      iconUrl : Cesium.buildModuleUrl(\'Widgets/Images/ImageryProviders/naturalEarthII.png\'),\n *      tooltip : \'Natural Earth II, darkened for contrast.\\nhttp://www.naturalearthdata.com/\',\n *      creationFunction : function() {\n *          return new Cesium.TileMapServiceImageryProvider({\n *              url : Cesium.buildModuleUrl(\'Assets/Textures/NaturalEarthII\')\n *          });\n *      }\n *  }));\n *\n * //Create a CesiumWidget without imagery, if you haven\'t already done so.\n * var cesiumWidget = new Cesium.CesiumWidget(\'cesiumContainer\', { imageryProvider: false });\n *\n * //Finally, create the baseLayerPicker widget using our view models.\n * var layers = cesiumWidget.imageryLayers;\n * var baseLayerPicker = new Cesium.BaseLayerPicker(\'baseLayerPickerContainer\', {\n *     globe : cesiumWidget.scene.globe,\n *     imageryProviderViewModels : imageryViewModels\n * });\n *\n * @see TerrainProvider\n * @see ImageryProvider\n * @see ImageryLayerCollection\n */\nfunction BaseLayerPicker(container, options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(container)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("container is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  container = (0,_getElement_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(container);\n\n  var viewModel = new _BaseLayerPickerViewModel_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(options);\n\n  var element = document.createElement("button");\n  element.type = "button";\n  element.className = "cesium-button cesium-toolbar-button";\n  element.setAttribute(\n    "data-bind",\n    "\\\nattr: { title: buttonTooltip },\\\nclick: toggleDropDown"\n  );\n  container.appendChild(element);\n\n  var imgElement = document.createElement("img");\n  imgElement.setAttribute("draggable", "false");\n  imgElement.className = "cesium-baseLayerPicker-selected";\n  imgElement.setAttribute(\n    "data-bind",\n    "\\\nattr: { src: buttonImageUrl }, visible: !!buttonImageUrl"\n  );\n  element.appendChild(imgElement);\n\n  var dropPanel = document.createElement("div");\n  dropPanel.className = "cesium-baseLayerPicker-dropDown";\n  dropPanel.setAttribute(\n    "data-bind",\n    \'\\\ncss: { "cesium-baseLayerPicker-dropDown-visible" : dropDownVisible }\'\n  );\n  container.appendChild(dropPanel);\n\n  var imageryTitle = document.createElement("div");\n  imageryTitle.className = "cesium-baseLayerPicker-sectionTitle";\n  imageryTitle.setAttribute(\n    "data-bind",\n    "visible: imageryProviderViewModels.length > 0"\n  );\n  imageryTitle.innerHTML = "Imagery";\n  dropPanel.appendChild(imageryTitle);\n\n  var imagerySection = document.createElement("div");\n  imagerySection.className = "cesium-baseLayerPicker-section";\n  imagerySection.setAttribute("data-bind", "foreach: _imageryProviders");\n  dropPanel.appendChild(imagerySection);\n\n  var imageryCategories = document.createElement("div");\n  imageryCategories.className = "cesium-baseLayerPicker-category";\n  imagerySection.appendChild(imageryCategories);\n\n  var categoryTitle = document.createElement("div");\n  categoryTitle.className = "cesium-baseLayerPicker-categoryTitle";\n  categoryTitle.setAttribute("data-bind", "text: name");\n  imageryCategories.appendChild(categoryTitle);\n\n  var imageryChoices = document.createElement("div");\n  imageryChoices.className = "cesium-baseLayerPicker-choices";\n  imageryChoices.setAttribute("data-bind", "foreach: providers");\n  imageryCategories.appendChild(imageryChoices);\n\n  var imageryProvider = document.createElement("div");\n  imageryProvider.className = "cesium-baseLayerPicker-item";\n  imageryProvider.setAttribute(\n    "data-bind",\n    \'\\\ncss: { "cesium-baseLayerPicker-selectedItem" : $data === $parents[1].selectedImagery },\\\nattr: { title: tooltip },\\\nvisible: creationCommand.canExecute,\\\nclick: function($data) { $parents[1].selectedImagery = $data; }\'\n  );\n  imageryChoices.appendChild(imageryProvider);\n\n  var providerIcon = document.createElement("img");\n  providerIcon.className = "cesium-baseLayerPicker-itemIcon";\n  providerIcon.setAttribute("data-bind", "attr: { src: iconUrl }");\n  providerIcon.setAttribute("draggable", "false");\n  imageryProvider.appendChild(providerIcon);\n\n  var providerLabel = document.createElement("div");\n  providerLabel.className = "cesium-baseLayerPicker-itemLabel";\n  providerLabel.setAttribute("data-bind", "text: name");\n  imageryProvider.appendChild(providerLabel);\n\n  var terrainTitle = document.createElement("div");\n  terrainTitle.className = "cesium-baseLayerPicker-sectionTitle";\n  terrainTitle.setAttribute(\n    "data-bind",\n    "visible: terrainProviderViewModels.length > 0"\n  );\n  terrainTitle.innerHTML = "Terrain";\n  dropPanel.appendChild(terrainTitle);\n\n  var terrainSection = document.createElement("div");\n  terrainSection.className = "cesium-baseLayerPicker-section";\n  terrainSection.setAttribute("data-bind", "foreach: _terrainProviders");\n  dropPanel.appendChild(terrainSection);\n\n  var terrainCategories = document.createElement("div");\n  terrainCategories.className = "cesium-baseLayerPicker-category";\n  terrainSection.appendChild(terrainCategories);\n\n  var terrainCategoryTitle = document.createElement("div");\n  terrainCategoryTitle.className = "cesium-baseLayerPicker-categoryTitle";\n  terrainCategoryTitle.setAttribute("data-bind", "text: name");\n  terrainCategories.appendChild(terrainCategoryTitle);\n\n  var terrainChoices = document.createElement("div");\n  terrainChoices.className = "cesium-baseLayerPicker-choices";\n  terrainChoices.setAttribute("data-bind", "foreach: providers");\n  terrainCategories.appendChild(terrainChoices);\n\n  var terrainProvider = document.createElement("div");\n  terrainProvider.className = "cesium-baseLayerPicker-item";\n  terrainProvider.setAttribute(\n    "data-bind",\n    \'\\\ncss: { "cesium-baseLayerPicker-selectedItem" : $data === $parents[1].selectedTerrain },\\\nattr: { title: tooltip },\\\nvisible: creationCommand.canExecute,\\\nclick: function($data) { $parents[1].selectedTerrain = $data; }\'\n  );\n  terrainChoices.appendChild(terrainProvider);\n\n  var terrainProviderIcon = document.createElement("img");\n  terrainProviderIcon.className = "cesium-baseLayerPicker-itemIcon";\n  terrainProviderIcon.setAttribute("data-bind", "attr: { src: iconUrl }");\n  terrainProviderIcon.setAttribute("draggable", "false");\n  terrainProvider.appendChild(terrainProviderIcon);\n\n  var terrainProviderLabel = document.createElement("div");\n  terrainProviderLabel.className = "cesium-baseLayerPicker-itemLabel";\n  terrainProviderLabel.setAttribute("data-bind", "text: name");\n  terrainProvider.appendChild(terrainProviderLabel);\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].applyBindings */ .Z.applyBindings(viewModel, element);\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].applyBindings */ .Z.applyBindings(viewModel, dropPanel);\n\n  this._viewModel = viewModel;\n  this._container = container;\n  this._element = element;\n  this._dropPanel = dropPanel;\n\n  this._closeDropDown = function (e) {\n    if (!(element.contains(e.target) || dropPanel.contains(e.target))) {\n      viewModel.dropDownVisible = false;\n    }\n  };\n\n  if (_Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].supportsPointerEvents */ .Z.supportsPointerEvents()) {\n    document.addEventListener("pointerdown", this._closeDropDown, true);\n  } else {\n    document.addEventListener("mousedown", this._closeDropDown, true);\n    document.addEventListener("touchstart", this._closeDropDown, true);\n  }\n}\n\nObject.defineProperties(BaseLayerPicker.prototype, {\n  /**\n   * Gets the parent container.\n   * @memberof BaseLayerPicker.prototype\n   *\n   * @type {Element}\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   * @memberof BaseLayerPicker.prototype\n   *\n   * @type {BaseLayerPickerViewModel}\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nBaseLayerPicker.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nBaseLayerPicker.prototype.destroy = function () {\n  if (_Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].supportsPointerEvents */ .Z.supportsPointerEvents()) {\n    document.removeEventListener("pointerdown", this._closeDropDown, true);\n  } else {\n    document.removeEventListener("mousedown", this._closeDropDown, true);\n    document.removeEventListener("touchstart", this._closeDropDown, true);\n  }\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].cleanNode */ .Z.cleanNode(this._element);\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].cleanNode */ .Z.cleanNode(this._dropPanel);\n  this._container.removeChild(this._element);\n  this._container.removeChild(this._dropPanel);\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (BaseLayerPicker);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzSEFBc0M7QUFDNUM7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLEVBQUUsNEZBQWtCO0FBQ3BCLEVBQUUsNEZBQWtCO0FBQ3BCO0FBQ0E7QUFDQSxTQUFTLDJFQUFhO0FBQ3RCO0FBQ0EseURBQWUsZUFBZSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1dpZGdldHMvQmFzZUxheWVyUGlja2VyL0Jhc2VMYXllclBpY2tlci5qcz9jMTQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi8uLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi8uLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IEZlYXR1cmVEZXRlY3Rpb24gZnJvbSBcIi4uLy4uL0NvcmUvRmVhdHVyZURldGVjdGlvbi5qc1wiO1xuaW1wb3J0IGtub2Nrb3V0IGZyb20gXCIuLi8uLi9UaGlyZFBhcnR5L2tub2Nrb3V0LmpzXCI7XG5pbXBvcnQgZ2V0RWxlbWVudCBmcm9tIFwiLi4vZ2V0RWxlbWVudC5qc1wiO1xuaW1wb3J0IEJhc2VMYXllclBpY2tlclZpZXdNb2RlbCBmcm9tIFwiLi9CYXNlTGF5ZXJQaWNrZXJWaWV3TW9kZWwuanNcIjtcblxuLyoqXG4gKiA8c3BhbiBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gKiA8aW1nIHNyYz1cIkltYWdlcy9CYXNlTGF5ZXJQaWNrZXIucG5nXCIgd2lkdGg9XCIyNjRcIiBoZWlnaHQ9XCIyODdcIiBhbHQ9XCJcIiAvPlxuICogPGJyIC8+QmFzZUxheWVyUGlja2VyIHdpdGggaXRzIGRyb3AtcGFuZWwgb3Blbi5cbiAqIDwvc3Bhbj5cbiAqIDxiciAvPjxiciAvPlxuICogVGhlIEJhc2VMYXllclBpY2tlciBpcyBhIHNpbmdsZSBidXR0b24gd2lkZ2V0IHRoYXQgZGlzcGxheXMgYSBwYW5lbCBvZiBhdmFpbGFibGUgaW1hZ2VyeSBhbmRcbiAqIHRlcnJhaW4gcHJvdmlkZXJzLiAgV2hlbiBpbWFnZXJ5IGlzIHNlbGVjdGVkLCB0aGUgY29ycmVzcG9uZGluZyBpbWFnZXJ5IGxheWVyIGlzIGNyZWF0ZWQgYW5kIGluc2VydGVkXG4gKiBhcyB0aGUgYmFzZSBsYXllciBvZiB0aGUgaW1hZ2VyeSBjb2xsZWN0aW9uOyByZW1vdmluZyB0aGUgZXhpc3RpbmcgYmFzZS4gIFdoZW4gdGVycmFpbiBpcyBzZWxlY3RlZCxcbiAqIGl0IHJlcGxhY2VzIHRoZSBjdXJyZW50IHRlcnJhaW4gcHJvdmlkZXIuICBFYWNoIGl0ZW0gaW4gdGhlIGF2YWlsYWJsZSBwcm92aWRlcnMgbGlzdCBjb250YWlucyBhIG5hbWUsXG4gKiBhIHJlcHJlc2VudGF0aXZlIGljb24sIGFuZCBhIHRvb2x0aXAgdG8gZGlzcGxheSBtb3JlIGluZm9ybWF0aW9uIHdoZW4gaG92ZXJlZC4gVGhlIGxpc3QgaXMgaW5pdGlhbGx5XG4gKiBlbXB0eSwgYW5kIG11c3QgYmUgY29uZmlndXJlZCBiZWZvcmUgdXNlLCBhcyBpbGx1c3RyYXRlZCBpbiB0aGUgYmVsb3cgZXhhbXBsZS5cbiAqXG4gKiBAYWxpYXMgQmFzZUxheWVyUGlja2VyXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBjb250YWluZXIgVGhlIHBhcmVudCBIVE1MIGNvbnRhaW5lciBub2RlIG9yIElEIGZvciB0aGlzIHdpZGdldC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7R2xvYmV9IG9wdGlvbnMuZ2xvYmUgVGhlIEdsb2JlIHRvIHVzZS5cbiAqIEBwYXJhbSB7UHJvdmlkZXJWaWV3TW9kZWxbXX0gW29wdGlvbnMuaW1hZ2VyeVByb3ZpZGVyVmlld01vZGVscz1bXV0gVGhlIGFycmF5IG9mIFByb3ZpZGVyVmlld01vZGVsIGluc3RhbmNlcyB0byB1c2UgZm9yIGltYWdlcnkuXG4gKiBAcGFyYW0ge1Byb3ZpZGVyVmlld01vZGVsfSBbb3B0aW9ucy5zZWxlY3RlZEltYWdlcnlQcm92aWRlclZpZXdNb2RlbF0gVGhlIHZpZXcgbW9kZWwgZm9yIHRoZSBjdXJyZW50IGJhc2UgaW1hZ2VyeSBsYXllciwgaWYgbm90IHN1cHBsaWVkIHRoZSBmaXJzdCBhdmFpbGFibGUgaW1hZ2VyeSBsYXllciBpcyB1c2VkLlxuICogQHBhcmFtIHtQcm92aWRlclZpZXdNb2RlbFtdfSBbb3B0aW9ucy50ZXJyYWluUHJvdmlkZXJWaWV3TW9kZWxzPVtdXSBUaGUgYXJyYXkgb2YgUHJvdmlkZXJWaWV3TW9kZWwgaW5zdGFuY2VzIHRvIHVzZSBmb3IgdGVycmFpbi5cbiAqIEBwYXJhbSB7UHJvdmlkZXJWaWV3TW9kZWx9IFtvcHRpb25zLnNlbGVjdGVkVGVycmFpblByb3ZpZGVyVmlld01vZGVsXSBUaGUgdmlldyBtb2RlbCBmb3IgdGhlIGN1cnJlbnQgYmFzZSB0ZXJyYWluIGxheWVyLCBpZiBub3Qgc3VwcGxpZWQgdGhlIGZpcnN0IGF2YWlsYWJsZSB0ZXJyYWluIGxheWVyIGlzIHVzZWQuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IEVsZW1lbnQgd2l0aCBpZCBcImNvbnRhaW5lclwiIGRvZXMgbm90IGV4aXN0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEluIEhUTUwgaGVhZCwgaW5jbHVkZSBhIGxpbmsgdG8gdGhlIEJhc2VMYXllclBpY2tlci5jc3Mgc3R5bGVzaGVldCxcbiAqIC8vIGFuZCBpbiB0aGUgYm9keSwgaW5jbHVkZTogPGRpdiBpZD1cImJhc2VMYXllclBpY2tlckNvbnRhaW5lclwiXG4gKiAvLyAgIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7dG9wOjI0cHg7cmlnaHQ6MjRweDt3aWR0aDozOHB4O2hlaWdodDozOHB4O1wiPjwvZGl2PlxuICpcbiAqIC8vQ3JlYXRlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBwcm92aWRlcnMgd2Ugd291bGQgbGlrZSB0aGUgdXNlciB0byBzZWxlY3QgZnJvbS5cbiAqIC8vVGhpcyBleGFtcGxlIHVzZXMgMywgT3BlblN0cmVldE1hcCwgVGhlIEJsYWNrIE1hcmJsZSwgYW5kIGEgc2luZ2xlLCBub24tc3RyZWFtaW5nIHdvcmxkIGltYWdlLlxuICogdmFyIGltYWdlcnlWaWV3TW9kZWxzID0gW107XG4gKiBpbWFnZXJ5Vmlld01vZGVscy5wdXNoKG5ldyBDZXNpdW0uUHJvdmlkZXJWaWV3TW9kZWwoe1xuICogICAgICBuYW1lIDogJ09wZW5cXHUwMGFkU3RyZWV0XFx1MDBhZE1hcCcsXG4gKiAgICAgIGljb25VcmwgOiBDZXNpdW0uYnVpbGRNb2R1bGVVcmwoJ1dpZGdldHMvSW1hZ2VzL0ltYWdlcnlQcm92aWRlcnMvb3BlblN0cmVldE1hcC5wbmcnKSxcbiAqICAgICAgdG9vbHRpcCA6ICdPcGVuU3RyZWV0TWFwIChPU00pIGlzIGEgY29sbGFib3JhdGl2ZSBwcm9qZWN0IHRvIGNyZWF0ZSBhIGZyZWUgZWRpdGFibGUgXFxcbiAqIG1hcCBvZiB0aGUgd29ybGQuXFxuaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZycsXG4gKiAgICAgIGNyZWF0aW9uRnVuY3Rpb24gOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLk9wZW5TdHJlZXRNYXBJbWFnZXJ5UHJvdmlkZXIoe1xuICogICAgICAgICAgICAgIHVybCA6ICdodHRwczovL2EudGlsZS5vcGVuc3RyZWV0bWFwLm9yZy8nXG4gKiAgICAgICAgICB9KTtcbiAqICAgICAgfVxuICogIH0pKTtcbiAqXG4gKiAgaW1hZ2VyeVZpZXdNb2RlbHMucHVzaChuZXcgQ2VzaXVtLlByb3ZpZGVyVmlld01vZGVsKHtcbiAqICAgICAgbmFtZSA6ICdFYXJ0aCBhdCBOaWdodCcsXG4gKiAgICAgIGljb25VcmwgOiBDZXNpdW0uYnVpbGRNb2R1bGVVcmwoJ1dpZGdldHMvSW1hZ2VzL0ltYWdlcnlQcm92aWRlcnMvYmxhY2tNYXJibGUucG5nJyksXG4gKiAgICAgIHRvb2x0aXAgOiAnVGhlIGxpZ2h0cyBvZiBjaXRpZXMgYW5kIHZpbGxhZ2VzIHRyYWNlIHRoZSBvdXRsaW5lcyBvZiBjaXZpbGl6YXRpb24gXFxcbiAqIGluIHRoaXMgZ2xvYmFsIHZpZXcgb2YgdGhlIEVhcnRoIGF0IG5pZ2h0IGFzIHNlZW4gYnkgTkFTQS9OT0FBXFwncyBTdW9taSBOUFAgc2F0ZWxsaXRlLicsXG4gKiAgICAgIGNyZWF0aW9uRnVuY3Rpb24gOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLklvbkltYWdlcnlQcm92aWRlcih7IGFzc2V0SWQ6IDM4MTIgfSk7XG4gKiAgICAgIH1cbiAqICB9KSk7XG4gKlxuICogIGltYWdlcnlWaWV3TW9kZWxzLnB1c2gobmV3IENlc2l1bS5Qcm92aWRlclZpZXdNb2RlbCh7XG4gKiAgICAgIG5hbWUgOiAnTmF0dXJhbCBFYXJ0aFxcdTAwYTBJSScsXG4gKiAgICAgIGljb25VcmwgOiBDZXNpdW0uYnVpbGRNb2R1bGVVcmwoJ1dpZGdldHMvSW1hZ2VzL0ltYWdlcnlQcm92aWRlcnMvbmF0dXJhbEVhcnRoSUkucG5nJyksXG4gKiAgICAgIHRvb2x0aXAgOiAnTmF0dXJhbCBFYXJ0aCBJSSwgZGFya2VuZWQgZm9yIGNvbnRyYXN0Llxcbmh0dHA6Ly93d3cubmF0dXJhbGVhcnRoZGF0YS5jb20vJyxcbiAqICAgICAgY3JlYXRpb25GdW5jdGlvbiA6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgcmV0dXJuIG5ldyBDZXNpdW0uVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIoe1xuICogICAgICAgICAgICAgIHVybCA6IENlc2l1bS5idWlsZE1vZHVsZVVybCgnQXNzZXRzL1RleHR1cmVzL05hdHVyYWxFYXJ0aElJJylcbiAqICAgICAgICAgIH0pO1xuICogICAgICB9XG4gKiAgfSkpO1xuICpcbiAqIC8vQ3JlYXRlIGEgQ2VzaXVtV2lkZ2V0IHdpdGhvdXQgaW1hZ2VyeSwgaWYgeW91IGhhdmVuJ3QgYWxyZWFkeSBkb25lIHNvLlxuICogdmFyIGNlc2l1bVdpZGdldCA9IG5ldyBDZXNpdW0uQ2VzaXVtV2lkZ2V0KCdjZXNpdW1Db250YWluZXInLCB7IGltYWdlcnlQcm92aWRlcjogZmFsc2UgfSk7XG4gKlxuICogLy9GaW5hbGx5LCBjcmVhdGUgdGhlIGJhc2VMYXllclBpY2tlciB3aWRnZXQgdXNpbmcgb3VyIHZpZXcgbW9kZWxzLlxuICogdmFyIGxheWVycyA9IGNlc2l1bVdpZGdldC5pbWFnZXJ5TGF5ZXJzO1xuICogdmFyIGJhc2VMYXllclBpY2tlciA9IG5ldyBDZXNpdW0uQmFzZUxheWVyUGlja2VyKCdiYXNlTGF5ZXJQaWNrZXJDb250YWluZXInLCB7XG4gKiAgICAgZ2xvYmUgOiBjZXNpdW1XaWRnZXQuc2NlbmUuZ2xvYmUsXG4gKiAgICAgaW1hZ2VyeVByb3ZpZGVyVmlld01vZGVscyA6IGltYWdlcnlWaWV3TW9kZWxzXG4gKiB9KTtcbiAqXG4gKiBAc2VlIFRlcnJhaW5Qcm92aWRlclxuICogQHNlZSBJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgSW1hZ2VyeUxheWVyQ29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBCYXNlTGF5ZXJQaWNrZXIoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChjb250YWluZXIpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiY29udGFpbmVyIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBjb250YWluZXIgPSBnZXRFbGVtZW50KGNvbnRhaW5lcik7XG5cbiAgdmFyIHZpZXdNb2RlbCA9IG5ldyBCYXNlTGF5ZXJQaWNrZXJWaWV3TW9kZWwob3B0aW9ucyk7XG5cbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBlbGVtZW50LnR5cGUgPSBcImJ1dHRvblwiO1xuICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJ1dHRvbiBjZXNpdW0tdG9vbGJhci1idXR0b25cIjtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkYXRhLWJpbmRcIixcbiAgICBcIlxcXG5hdHRyOiB7IHRpdGxlOiBidXR0b25Ub29sdGlwIH0sXFxcbmNsaWNrOiB0b2dnbGVEcm9wRG93blwiXG4gICk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICB2YXIgaW1nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIGltZ0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsIFwiZmFsc2VcIik7XG4gIGltZ0VsZW1lbnQuY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLXNlbGVjdGVkXCI7XG4gIGltZ0VsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgXCJcXFxuYXR0cjogeyBzcmM6IGJ1dHRvbkltYWdlVXJsIH0sIHZpc2libGU6ICEhYnV0dG9uSW1hZ2VVcmxcIlxuICApO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGltZ0VsZW1lbnQpO1xuXG4gIHZhciBkcm9wUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkcm9wUGFuZWwuY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLWRyb3BEb3duXCI7XG4gIGRyb3BQYW5lbC5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkYXRhLWJpbmRcIixcbiAgICAnXFxcbmNzczogeyBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItZHJvcERvd24tdmlzaWJsZVwiIDogZHJvcERvd25WaXNpYmxlIH0nXG4gICk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkcm9wUGFuZWwpO1xuXG4gIHZhciBpbWFnZXJ5VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpbWFnZXJ5VGl0bGUuY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLXNlY3Rpb25UaXRsZVwiO1xuICBpbWFnZXJ5VGl0bGUuc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgXCJ2aXNpYmxlOiBpbWFnZXJ5UHJvdmlkZXJWaWV3TW9kZWxzLmxlbmd0aCA+IDBcIlxuICApO1xuICBpbWFnZXJ5VGl0bGUuaW5uZXJIVE1MID0gXCJJbWFnZXJ5XCI7XG4gIGRyb3BQYW5lbC5hcHBlbmRDaGlsZChpbWFnZXJ5VGl0bGUpO1xuXG4gIHZhciBpbWFnZXJ5U2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGltYWdlcnlTZWN0aW9uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJhc2VMYXllclBpY2tlci1zZWN0aW9uXCI7XG4gIGltYWdlcnlTZWN0aW9uLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcImZvcmVhY2g6IF9pbWFnZXJ5UHJvdmlkZXJzXCIpO1xuICBkcm9wUGFuZWwuYXBwZW5kQ2hpbGQoaW1hZ2VyeVNlY3Rpb24pO1xuXG4gIHZhciBpbWFnZXJ5Q2F0ZWdvcmllcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGltYWdlcnlDYXRlZ29yaWVzLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJhc2VMYXllclBpY2tlci1jYXRlZ29yeVwiO1xuICBpbWFnZXJ5U2VjdGlvbi5hcHBlbmRDaGlsZChpbWFnZXJ5Q2F0ZWdvcmllcyk7XG5cbiAgdmFyIGNhdGVnb3J5VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjYXRlZ29yeVRpdGxlLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJhc2VMYXllclBpY2tlci1jYXRlZ29yeVRpdGxlXCI7XG4gIGNhdGVnb3J5VGl0bGUuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwidGV4dDogbmFtZVwiKTtcbiAgaW1hZ2VyeUNhdGVnb3JpZXMuYXBwZW5kQ2hpbGQoY2F0ZWdvcnlUaXRsZSk7XG5cbiAgdmFyIGltYWdlcnlDaG9pY2VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgaW1hZ2VyeUNob2ljZXMuY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLWNob2ljZXNcIjtcbiAgaW1hZ2VyeUNob2ljZXMuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwiZm9yZWFjaDogcHJvdmlkZXJzXCIpO1xuICBpbWFnZXJ5Q2F0ZWdvcmllcy5hcHBlbmRDaGlsZChpbWFnZXJ5Q2hvaWNlcyk7XG5cbiAgdmFyIGltYWdlcnlQcm92aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGltYWdlcnlQcm92aWRlci5jbGFzc05hbWUgPSBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItaXRlbVwiO1xuICBpbWFnZXJ5UHJvdmlkZXIuc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgJ1xcXG5jc3M6IHsgXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLXNlbGVjdGVkSXRlbVwiIDogJGRhdGEgPT09ICRwYXJlbnRzWzFdLnNlbGVjdGVkSW1hZ2VyeSB9LFxcXG5hdHRyOiB7IHRpdGxlOiB0b29sdGlwIH0sXFxcbnZpc2libGU6IGNyZWF0aW9uQ29tbWFuZC5jYW5FeGVjdXRlLFxcXG5jbGljazogZnVuY3Rpb24oJGRhdGEpIHsgJHBhcmVudHNbMV0uc2VsZWN0ZWRJbWFnZXJ5ID0gJGRhdGE7IH0nXG4gICk7XG4gIGltYWdlcnlDaG9pY2VzLmFwcGVuZENoaWxkKGltYWdlcnlQcm92aWRlcik7XG5cbiAgdmFyIHByb3ZpZGVySWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIHByb3ZpZGVySWNvbi5jbGFzc05hbWUgPSBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItaXRlbUljb25cIjtcbiAgcHJvdmlkZXJJY29uLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcImF0dHI6IHsgc3JjOiBpY29uVXJsIH1cIik7XG4gIHByb3ZpZGVySWNvbi5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwgXCJmYWxzZVwiKTtcbiAgaW1hZ2VyeVByb3ZpZGVyLmFwcGVuZENoaWxkKHByb3ZpZGVySWNvbik7XG5cbiAgdmFyIHByb3ZpZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBwcm92aWRlckxhYmVsLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJhc2VMYXllclBpY2tlci1pdGVtTGFiZWxcIjtcbiAgcHJvdmlkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJ0ZXh0OiBuYW1lXCIpO1xuICBpbWFnZXJ5UHJvdmlkZXIuYXBwZW5kQ2hpbGQocHJvdmlkZXJMYWJlbCk7XG5cbiAgdmFyIHRlcnJhaW5UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRlcnJhaW5UaXRsZS5jbGFzc05hbWUgPSBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItc2VjdGlvblRpdGxlXCI7XG4gIHRlcnJhaW5UaXRsZS5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkYXRhLWJpbmRcIixcbiAgICBcInZpc2libGU6IHRlcnJhaW5Qcm92aWRlclZpZXdNb2RlbHMubGVuZ3RoID4gMFwiXG4gICk7XG4gIHRlcnJhaW5UaXRsZS5pbm5lckhUTUwgPSBcIlRlcnJhaW5cIjtcbiAgZHJvcFBhbmVsLmFwcGVuZENoaWxkKHRlcnJhaW5UaXRsZSk7XG5cbiAgdmFyIHRlcnJhaW5TZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGVycmFpblNlY3Rpb24uY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLXNlY3Rpb25cIjtcbiAgdGVycmFpblNlY3Rpb24uc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwiZm9yZWFjaDogX3RlcnJhaW5Qcm92aWRlcnNcIik7XG4gIGRyb3BQYW5lbC5hcHBlbmRDaGlsZCh0ZXJyYWluU2VjdGlvbik7XG5cbiAgdmFyIHRlcnJhaW5DYXRlZ29yaWVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGVycmFpbkNhdGVnb3JpZXMuY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLWNhdGVnb3J5XCI7XG4gIHRlcnJhaW5TZWN0aW9uLmFwcGVuZENoaWxkKHRlcnJhaW5DYXRlZ29yaWVzKTtcblxuICB2YXIgdGVycmFpbkNhdGVnb3J5VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0ZXJyYWluQ2F0ZWdvcnlUaXRsZS5jbGFzc05hbWUgPSBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItY2F0ZWdvcnlUaXRsZVwiO1xuICB0ZXJyYWluQ2F0ZWdvcnlUaXRsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJ0ZXh0OiBuYW1lXCIpO1xuICB0ZXJyYWluQ2F0ZWdvcmllcy5hcHBlbmRDaGlsZCh0ZXJyYWluQ2F0ZWdvcnlUaXRsZSk7XG5cbiAgdmFyIHRlcnJhaW5DaG9pY2VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGVycmFpbkNob2ljZXMuY2xhc3NOYW1lID0gXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLWNob2ljZXNcIjtcbiAgdGVycmFpbkNob2ljZXMuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwiZm9yZWFjaDogcHJvdmlkZXJzXCIpO1xuICB0ZXJyYWluQ2F0ZWdvcmllcy5hcHBlbmRDaGlsZCh0ZXJyYWluQ2hvaWNlcyk7XG5cbiAgdmFyIHRlcnJhaW5Qcm92aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRlcnJhaW5Qcm92aWRlci5jbGFzc05hbWUgPSBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItaXRlbVwiO1xuICB0ZXJyYWluUHJvdmlkZXIuc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgJ1xcXG5jc3M6IHsgXCJjZXNpdW0tYmFzZUxheWVyUGlja2VyLXNlbGVjdGVkSXRlbVwiIDogJGRhdGEgPT09ICRwYXJlbnRzWzFdLnNlbGVjdGVkVGVycmFpbiB9LFxcXG5hdHRyOiB7IHRpdGxlOiB0b29sdGlwIH0sXFxcbnZpc2libGU6IGNyZWF0aW9uQ29tbWFuZC5jYW5FeGVjdXRlLFxcXG5jbGljazogZnVuY3Rpb24oJGRhdGEpIHsgJHBhcmVudHNbMV0uc2VsZWN0ZWRUZXJyYWluID0gJGRhdGE7IH0nXG4gICk7XG4gIHRlcnJhaW5DaG9pY2VzLmFwcGVuZENoaWxkKHRlcnJhaW5Qcm92aWRlcik7XG5cbiAgdmFyIHRlcnJhaW5Qcm92aWRlckljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICB0ZXJyYWluUHJvdmlkZXJJY29uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJhc2VMYXllclBpY2tlci1pdGVtSWNvblwiO1xuICB0ZXJyYWluUHJvdmlkZXJJY29uLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcImF0dHI6IHsgc3JjOiBpY29uVXJsIH1cIik7XG4gIHRlcnJhaW5Qcm92aWRlckljb24uc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsIFwiZmFsc2VcIik7XG4gIHRlcnJhaW5Qcm92aWRlci5hcHBlbmRDaGlsZCh0ZXJyYWluUHJvdmlkZXJJY29uKTtcblxuICB2YXIgdGVycmFpblByb3ZpZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0ZXJyYWluUHJvdmlkZXJMYWJlbC5jbGFzc05hbWUgPSBcImNlc2l1bS1iYXNlTGF5ZXJQaWNrZXItaXRlbUxhYmVsXCI7XG4gIHRlcnJhaW5Qcm92aWRlckxhYmVsLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcInRleHQ6IG5hbWVcIik7XG4gIHRlcnJhaW5Qcm92aWRlci5hcHBlbmRDaGlsZCh0ZXJyYWluUHJvdmlkZXJMYWJlbCk7XG5cbiAga25vY2tvdXQuYXBwbHlCaW5kaW5ncyh2aWV3TW9kZWwsIGVsZW1lbnQpO1xuICBrbm9ja291dC5hcHBseUJpbmRpbmdzKHZpZXdNb2RlbCwgZHJvcFBhbmVsKTtcblxuICB0aGlzLl92aWV3TW9kZWwgPSB2aWV3TW9kZWw7XG4gIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gIHRoaXMuX2Ryb3BQYW5lbCA9IGRyb3BQYW5lbDtcblxuICB0aGlzLl9jbG9zZURyb3BEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIShlbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSB8fCBkcm9wUGFuZWwuY29udGFpbnMoZS50YXJnZXQpKSkge1xuICAgICAgdmlld01vZGVsLmRyb3BEb3duVmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBpZiAoRmVhdHVyZURldGVjdGlvbi5zdXBwb3J0c1BvaW50ZXJFdmVudHMoKSkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLl9jbG9zZURyb3BEb3duLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2Nsb3NlRHJvcERvd24sIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX2Nsb3NlRHJvcERvd24sIHRydWUpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJhc2VMYXllclBpY2tlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIHBhcmVudCBjb250YWluZXIuXG4gICAqIEBtZW1iZXJvZiBCYXNlTGF5ZXJQaWNrZXIucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtFbGVtZW50fVxuICAgKi9cbiAgY29udGFpbmVyOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZpZXcgbW9kZWwuXG4gICAqIEBtZW1iZXJvZiBCYXNlTGF5ZXJQaWNrZXIucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtCYXNlTGF5ZXJQaWNrZXJWaWV3TW9kZWx9XG4gICAqL1xuICB2aWV3TW9kZWw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl92aWV3TW9kZWw7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkJhc2VMYXllclBpY2tlci5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIHdpZGdldC4gIFNob3VsZCBiZSBjYWxsZWQgaWYgcGVybWFuZW50bHlcbiAqIHJlbW92aW5nIHRoZSB3aWRnZXQgZnJvbSBsYXlvdXQuXG4gKi9cbkJhc2VMYXllclBpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKEZlYXR1cmVEZXRlY3Rpb24uc3VwcG9ydHNQb2ludGVyRXZlbnRzKCkpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgdGhpcy5fY2xvc2VEcm9wRG93biwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9jbG9zZURyb3BEb3duLCB0cnVlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9jbG9zZURyb3BEb3duLCB0cnVlKTtcbiAgfVxuXG4gIGtub2Nrb3V0LmNsZWFuTm9kZSh0aGlzLl9lbGVtZW50KTtcbiAga25vY2tvdXQuY2xlYW5Ob2RlKHRoaXMuX2Ryb3BQYW5lbCk7XG4gIHRoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2Ryb3BQYW5lbCk7XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IEJhc2VMYXllclBpY2tlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///35504\n')},2737:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_EllipsoidTerrainProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81176);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(53454);\n/* harmony import */ var _createCommand_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(28389);\n\n\n\n\n\n\n\n/**\n * The view model for {@link BaseLayerPicker}.\n * @alias BaseLayerPickerViewModel\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Globe} options.globe The Globe to use.\n * @param {ProviderViewModel[]} [options.imageryProviderViewModels=[]] The array of ProviderViewModel instances to use for imagery.\n * @param {ProviderViewModel} [options.selectedImageryProviderViewModel] The view model for the current base imagery layer, if not supplied the first available imagery layer is used.\n * @param {ProviderViewModel[]} [options.terrainProviderViewModels=[]] The array of ProviderViewModel instances to use for terrain.\n * @param {ProviderViewModel} [options.selectedTerrainProviderViewModel] The view model for the current base terrain layer, if not supplied the first available terrain layer is used.\n *\n * @exception {DeveloperError} imageryProviderViewModels must be an array.\n * @exception {DeveloperError} terrainProviderViewModels must be an array.\n */\nfunction BaseLayerPickerViewModel(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var globe = options.globe;\n  var imageryProviderViewModels = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.imageryProviderViewModels,\n    []\n  );\n  var terrainProviderViewModels = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.terrainProviderViewModels,\n    []\n  );\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(globe)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("globe is required");\n  }\n  //>>includeEnd(\'debug\');\n\n  this._globe = globe;\n\n  /**\n   * Gets or sets an array of ProviderViewModel instances available for imagery selection.\n   * This property is observable.\n   * @type {ProviderViewModel[]}\n   */\n  this.imageryProviderViewModels = imageryProviderViewModels.slice(0);\n\n  /**\n   * Gets or sets an array of ProviderViewModel instances available for terrain selection.\n   * This property is observable.\n   * @type {ProviderViewModel[]}\n   */\n  this.terrainProviderViewModels = terrainProviderViewModels.slice(0);\n\n  /**\n   * Gets or sets whether the imagery selection drop-down is currently visible.\n   * @type {Boolean}\n   * @default false\n   */\n  this.dropDownVisible = false;\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].track */ .Z.track(this, [\n    "imageryProviderViewModels",\n    "terrainProviderViewModels",\n    "dropDownVisible",\n  ]);\n\n  var imageryObservable = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].getObservable */ .Z.getObservable(\n    this,\n    "imageryProviderViewModels"\n  );\n  var imageryProviders = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].pureComputed */ .Z.pureComputed(function () {\n    var providers = imageryObservable();\n    var categories = {};\n    var i;\n    for (i = 0; i < providers.length; i++) {\n      var provider = providers[i];\n      var category = provider.category;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(categories[category])) {\n        categories[category].push(provider);\n      } else {\n        categories[category] = [provider];\n      }\n    }\n    var allCategoryNames = Object.keys(categories);\n\n    var result = [];\n    for (i = 0; i < allCategoryNames.length; i++) {\n      var name = allCategoryNames[i];\n      result.push({\n        name: name,\n        providers: categories[name],\n      });\n    }\n    return result;\n  });\n  this._imageryProviders = imageryProviders;\n\n  var terrainObservable = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].getObservable */ .Z.getObservable(\n    this,\n    "terrainProviderViewModels"\n  );\n  var terrainProviders = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].pureComputed */ .Z.pureComputed(function () {\n    var providers = terrainObservable();\n    var categories = {};\n    var i;\n    for (i = 0; i < providers.length; i++) {\n      var provider = providers[i];\n      var category = provider.category;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(categories[category])) {\n        categories[category].push(provider);\n      } else {\n        categories[category] = [provider];\n      }\n    }\n    var allCategoryNames = Object.keys(categories);\n\n    var result = [];\n    for (i = 0; i < allCategoryNames.length; i++) {\n      var name = allCategoryNames[i];\n      result.push({\n        name: name,\n        providers: categories[name],\n      });\n    }\n    return result;\n  });\n  this._terrainProviders = terrainProviders;\n\n  /**\n   * Gets the button tooltip.  This property is observable.\n   * @type {String}\n   */\n  this.buttonTooltip = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defineProperty */ .Z.defineProperty(this, "buttonTooltip", function () {\n    var selectedImagery = this.selectedImagery;\n    var selectedTerrain = this.selectedTerrain;\n\n    var imageryTip = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(selectedImagery)\n      ? selectedImagery.name\n      : undefined;\n    var terrainTip = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(selectedTerrain)\n      ? selectedTerrain.name\n      : undefined;\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(imageryTip) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(terrainTip)) {\n      return imageryTip + "\\n" + terrainTip;\n    } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(imageryTip)) {\n      return imageryTip;\n    }\n    return terrainTip;\n  });\n\n  /**\n   * Gets the button background image.  This property is observable.\n   * @type {String}\n   */\n  this.buttonImageUrl = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defineProperty */ .Z.defineProperty(this, "buttonImageUrl", function () {\n    var selectedImagery = this.selectedImagery;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(selectedImagery)) {\n      return selectedImagery.iconUrl;\n    }\n  });\n\n  /**\n   * Gets or sets the currently selected imagery.  This property is observable.\n   * @type {ProviderViewModel}\n   * @default undefined\n   */\n  this.selectedImagery = undefined;\n  var selectedImageryViewModel = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].observable */ .Z.observable();\n\n  this._currentImageryProviders = [];\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defineProperty */ .Z.defineProperty(this, "selectedImagery", {\n    get: function () {\n      return selectedImageryViewModel();\n    },\n    set: function (value) {\n      if (selectedImageryViewModel() === value) {\n        this.dropDownVisible = false;\n        return;\n      }\n\n      var i;\n      var currentImageryProviders = this._currentImageryProviders;\n      var currentImageryProvidersLength = currentImageryProviders.length;\n      var imageryLayers = this._globe.imageryLayers;\n      var hadExistingBaseLayer = false;\n      for (i = 0; i < currentImageryProvidersLength; i++) {\n        var layersLength = imageryLayers.length;\n        for (var x = 0; x < layersLength; x++) {\n          var layer = imageryLayers.get(x);\n          if (layer.imageryProvider === currentImageryProviders[i]) {\n            imageryLayers.remove(layer);\n            hadExistingBaseLayer = true;\n            break;\n          }\n        }\n      }\n\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(value)) {\n        var newProviders = value.creationCommand();\n        if (Array.isArray(newProviders)) {\n          var newProvidersLength = newProviders.length;\n          for (i = newProvidersLength - 1; i >= 0; i--) {\n            imageryLayers.addImageryProvider(newProviders[i], 0);\n          }\n          this._currentImageryProviders = newProviders.slice(0);\n        } else {\n          this._currentImageryProviders = [newProviders];\n          if (hadExistingBaseLayer) {\n            imageryLayers.addImageryProvider(newProviders, 0);\n          } else {\n            var baseLayer = imageryLayers.get(0);\n            if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(baseLayer)) {\n              imageryLayers.remove(baseLayer);\n            }\n            imageryLayers.addImageryProvider(newProviders, 0);\n          }\n        }\n      }\n      selectedImageryViewModel(value);\n      this.dropDownVisible = false;\n    },\n  });\n\n  /**\n   * Gets or sets the currently selected terrain.  This property is observable.\n   * @type {ProviderViewModel}\n   * @default undefined\n   */\n  this.selectedTerrain = undefined;\n  var selectedTerrainViewModel = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].observable */ .Z.observable();\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].defineProperty */ .Z.defineProperty(this, "selectedTerrain", {\n    get: function () {\n      return selectedTerrainViewModel();\n    },\n    set: function (value) {\n      if (selectedTerrainViewModel() === value) {\n        this.dropDownVisible = false;\n        return;\n      }\n\n      var newProvider;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(value)) {\n        newProvider = value.creationCommand();\n      }\n\n      this._globe.depthTestAgainstTerrain = !(\n        newProvider instanceof _Core_EllipsoidTerrainProvider_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z\n      );\n      this._globe.terrainProvider = newProvider;\n      selectedTerrainViewModel(value);\n      this.dropDownVisible = false;\n    },\n  });\n\n  var that = this;\n  this._toggleDropDown = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(function () {\n    that.dropDownVisible = !that.dropDownVisible;\n  });\n\n  this.selectedImagery = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.selectedImageryProviderViewModel,\n    imageryProviderViewModels[0]\n  );\n  this.selectedTerrain = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.selectedTerrainProviderViewModel,\n    terrainProviderViewModels[0]\n  );\n}\n\nObject.defineProperties(BaseLayerPickerViewModel.prototype, {\n  /**\n   * Gets the command to toggle the visibility of the drop down.\n   * @memberof BaseLayerPickerViewModel.prototype\n   *\n   * @type {Command}\n   */\n  toggleDropDown: {\n    get: function () {\n      return this._toggleDropDown;\n    },\n  },\n\n  /**\n   * Gets the globe.\n   * @memberof BaseLayerPickerViewModel.prototype\n   *\n   * @type {Globe}\n   */\n  globe: {\n    get: function () {\n      return this._globe;\n    },\n  },\n});\n/* harmony default export */ __webpack_exports__["Z"] = (BaseLayerPickerViewModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0EsaUNBQWlDLDhGQUFtQjs7QUFFcEQsRUFBRSxzR0FBdUI7QUFDekI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxxRUFBTztBQUNqQjtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLGtGQUF3QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0EseUJBQXlCLHNFQUFhO0FBQ3RDO0FBQ0EsR0FBRzs7QUFFSCx5QkFBeUIsMEVBQVk7QUFDckM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBFQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNELHlEQUFlLHdCQUF3QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1dpZGdldHMvQmFzZUxheWVyUGlja2VyL0Jhc2VMYXllclBpY2tlclZpZXdNb2RlbC5qcz83ZGFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uLy4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uLy4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBFbGxpcHNvaWRUZXJyYWluUHJvdmlkZXIgZnJvbSBcIi4uLy4uL0NvcmUvRWxsaXBzb2lkVGVycmFpblByb3ZpZGVyLmpzXCI7XG5pbXBvcnQga25vY2tvdXQgZnJvbSBcIi4uLy4uL1RoaXJkUGFydHkva25vY2tvdXQuanNcIjtcbmltcG9ydCBjcmVhdGVDb21tYW5kIGZyb20gXCIuLi9jcmVhdGVDb21tYW5kLmpzXCI7XG5cbi8qKlxuICogVGhlIHZpZXcgbW9kZWwgZm9yIHtAbGluayBCYXNlTGF5ZXJQaWNrZXJ9LlxuICogQGFsaWFzIEJhc2VMYXllclBpY2tlclZpZXdNb2RlbFxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogQHBhcmFtIHtHbG9iZX0gb3B0aW9ucy5nbG9iZSBUaGUgR2xvYmUgdG8gdXNlLlxuICogQHBhcmFtIHtQcm92aWRlclZpZXdNb2RlbFtdfSBbb3B0aW9ucy5pbWFnZXJ5UHJvdmlkZXJWaWV3TW9kZWxzPVtdXSBUaGUgYXJyYXkgb2YgUHJvdmlkZXJWaWV3TW9kZWwgaW5zdGFuY2VzIHRvIHVzZSBmb3IgaW1hZ2VyeS5cbiAqIEBwYXJhbSB7UHJvdmlkZXJWaWV3TW9kZWx9IFtvcHRpb25zLnNlbGVjdGVkSW1hZ2VyeVByb3ZpZGVyVmlld01vZGVsXSBUaGUgdmlldyBtb2RlbCBmb3IgdGhlIGN1cnJlbnQgYmFzZSBpbWFnZXJ5IGxheWVyLCBpZiBub3Qgc3VwcGxpZWQgdGhlIGZpcnN0IGF2YWlsYWJsZSBpbWFnZXJ5IGxheWVyIGlzIHVzZWQuXG4gKiBAcGFyYW0ge1Byb3ZpZGVyVmlld01vZGVsW119IFtvcHRpb25zLnRlcnJhaW5Qcm92aWRlclZpZXdNb2RlbHM9W11dIFRoZSBhcnJheSBvZiBQcm92aWRlclZpZXdNb2RlbCBpbnN0YW5jZXMgdG8gdXNlIGZvciB0ZXJyYWluLlxuICogQHBhcmFtIHtQcm92aWRlclZpZXdNb2RlbH0gW29wdGlvbnMuc2VsZWN0ZWRUZXJyYWluUHJvdmlkZXJWaWV3TW9kZWxdIFRoZSB2aWV3IG1vZGVsIGZvciB0aGUgY3VycmVudCBiYXNlIHRlcnJhaW4gbGF5ZXIsIGlmIG5vdCBzdXBwbGllZCB0aGUgZmlyc3QgYXZhaWxhYmxlIHRlcnJhaW4gbGF5ZXIgaXMgdXNlZC5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gaW1hZ2VyeVByb3ZpZGVyVmlld01vZGVscyBtdXN0IGJlIGFuIGFycmF5LlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IHRlcnJhaW5Qcm92aWRlclZpZXdNb2RlbHMgbXVzdCBiZSBhbiBhcnJheS5cbiAqL1xuZnVuY3Rpb24gQmFzZUxheWVyUGlja2VyVmlld01vZGVsKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICB2YXIgZ2xvYmUgPSBvcHRpb25zLmdsb2JlO1xuICB2YXIgaW1hZ2VyeVByb3ZpZGVyVmlld01vZGVscyA9IGRlZmF1bHRWYWx1ZShcbiAgICBvcHRpb25zLmltYWdlcnlQcm92aWRlclZpZXdNb2RlbHMsXG4gICAgW11cbiAgKTtcbiAgdmFyIHRlcnJhaW5Qcm92aWRlclZpZXdNb2RlbHMgPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy50ZXJyYWluUHJvdmlkZXJWaWV3TW9kZWxzLFxuICAgIFtdXG4gICk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGdsb2JlKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcImdsb2JlIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHRoaXMuX2dsb2JlID0gZ2xvYmU7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBhbiBhcnJheSBvZiBQcm92aWRlclZpZXdNb2RlbCBpbnN0YW5jZXMgYXZhaWxhYmxlIGZvciBpbWFnZXJ5IHNlbGVjdGlvbi5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7UHJvdmlkZXJWaWV3TW9kZWxbXX1cbiAgICovXG4gIHRoaXMuaW1hZ2VyeVByb3ZpZGVyVmlld01vZGVscyA9IGltYWdlcnlQcm92aWRlclZpZXdNb2RlbHMuc2xpY2UoMCk7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBhbiBhcnJheSBvZiBQcm92aWRlclZpZXdNb2RlbCBpbnN0YW5jZXMgYXZhaWxhYmxlIGZvciB0ZXJyYWluIHNlbGVjdGlvbi5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7UHJvdmlkZXJWaWV3TW9kZWxbXX1cbiAgICovXG4gIHRoaXMudGVycmFpblByb3ZpZGVyVmlld01vZGVscyA9IHRlcnJhaW5Qcm92aWRlclZpZXdNb2RlbHMuc2xpY2UoMCk7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIHRoZSBpbWFnZXJ5IHNlbGVjdGlvbiBkcm9wLWRvd24gaXMgY3VycmVudGx5IHZpc2libGUuXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5kcm9wRG93blZpc2libGUgPSBmYWxzZTtcblxuICBrbm9ja291dC50cmFjayh0aGlzLCBbXG4gICAgXCJpbWFnZXJ5UHJvdmlkZXJWaWV3TW9kZWxzXCIsXG4gICAgXCJ0ZXJyYWluUHJvdmlkZXJWaWV3TW9kZWxzXCIsXG4gICAgXCJkcm9wRG93blZpc2libGVcIixcbiAgXSk7XG5cbiAgdmFyIGltYWdlcnlPYnNlcnZhYmxlID0ga25vY2tvdXQuZ2V0T2JzZXJ2YWJsZShcbiAgICB0aGlzLFxuICAgIFwiaW1hZ2VyeVByb3ZpZGVyVmlld01vZGVsc1wiXG4gICk7XG4gIHZhciBpbWFnZXJ5UHJvdmlkZXJzID0ga25vY2tvdXQucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvdmlkZXJzID0gaW1hZ2VyeU9ic2VydmFibGUoKTtcbiAgICB2YXIgY2F0ZWdvcmllcyA9IHt9O1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1tpXTtcbiAgICAgIHZhciBjYXRlZ29yeSA9IHByb3ZpZGVyLmNhdGVnb3J5O1xuICAgICAgaWYgKGRlZmluZWQoY2F0ZWdvcmllc1tjYXRlZ29yeV0pKSB7XG4gICAgICAgIGNhdGVnb3JpZXNbY2F0ZWdvcnldLnB1c2gocHJvdmlkZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2F0ZWdvcmllc1tjYXRlZ29yeV0gPSBbcHJvdmlkZXJdO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgYWxsQ2F0ZWdvcnlOYW1lcyA9IE9iamVjdC5rZXlzKGNhdGVnb3JpZXMpO1xuXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhbGxDYXRlZ29yeU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbmFtZSA9IGFsbENhdGVnb3J5TmFtZXNbaV07XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHByb3ZpZGVyczogY2F0ZWdvcmllc1tuYW1lXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcbiAgdGhpcy5faW1hZ2VyeVByb3ZpZGVycyA9IGltYWdlcnlQcm92aWRlcnM7XG5cbiAgdmFyIHRlcnJhaW5PYnNlcnZhYmxlID0ga25vY2tvdXQuZ2V0T2JzZXJ2YWJsZShcbiAgICB0aGlzLFxuICAgIFwidGVycmFpblByb3ZpZGVyVmlld01vZGVsc1wiXG4gICk7XG4gIHZhciB0ZXJyYWluUHJvdmlkZXJzID0ga25vY2tvdXQucHVyZUNvbXB1dGVkKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvdmlkZXJzID0gdGVycmFpbk9ic2VydmFibGUoKTtcbiAgICB2YXIgY2F0ZWdvcmllcyA9IHt9O1xuICAgIHZhciBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1tpXTtcbiAgICAgIHZhciBjYXRlZ29yeSA9IHByb3ZpZGVyLmNhdGVnb3J5O1xuICAgICAgaWYgKGRlZmluZWQoY2F0ZWdvcmllc1tjYXRlZ29yeV0pKSB7XG4gICAgICAgIGNhdGVnb3JpZXNbY2F0ZWdvcnldLnB1c2gocHJvdmlkZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2F0ZWdvcmllc1tjYXRlZ29yeV0gPSBbcHJvdmlkZXJdO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgYWxsQ2F0ZWdvcnlOYW1lcyA9IE9iamVjdC5rZXlzKGNhdGVnb3JpZXMpO1xuXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhbGxDYXRlZ29yeU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbmFtZSA9IGFsbENhdGVnb3J5TmFtZXNbaV07XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHByb3ZpZGVyczogY2F0ZWdvcmllc1tuYW1lXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcbiAgdGhpcy5fdGVycmFpblByb3ZpZGVycyA9IHRlcnJhaW5Qcm92aWRlcnM7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJ1dHRvbiB0b29sdGlwLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgdGhpcy5idXR0b25Ub29sdGlwID0gdW5kZWZpbmVkO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJ1dHRvblRvb2x0aXBcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxlY3RlZEltYWdlcnkgPSB0aGlzLnNlbGVjdGVkSW1hZ2VyeTtcbiAgICB2YXIgc2VsZWN0ZWRUZXJyYWluID0gdGhpcy5zZWxlY3RlZFRlcnJhaW47XG5cbiAgICB2YXIgaW1hZ2VyeVRpcCA9IGRlZmluZWQoc2VsZWN0ZWRJbWFnZXJ5KVxuICAgICAgPyBzZWxlY3RlZEltYWdlcnkubmFtZVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHRlcnJhaW5UaXAgPSBkZWZpbmVkKHNlbGVjdGVkVGVycmFpbilcbiAgICAgID8gc2VsZWN0ZWRUZXJyYWluLm5hbWVcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGRlZmluZWQoaW1hZ2VyeVRpcCkgJiYgZGVmaW5lZCh0ZXJyYWluVGlwKSkge1xuICAgICAgcmV0dXJuIGltYWdlcnlUaXAgKyBcIlxcblwiICsgdGVycmFpblRpcDtcbiAgICB9IGVsc2UgaWYgKGRlZmluZWQoaW1hZ2VyeVRpcCkpIHtcbiAgICAgIHJldHVybiBpbWFnZXJ5VGlwO1xuICAgIH1cbiAgICByZXR1cm4gdGVycmFpblRpcDtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJ1dHRvbiBiYWNrZ3JvdW5kIGltYWdlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgdGhpcy5idXR0b25JbWFnZVVybCA9IHVuZGVmaW5lZDtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJidXR0b25JbWFnZVVybFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGVjdGVkSW1hZ2VyeSA9IHRoaXMuc2VsZWN0ZWRJbWFnZXJ5O1xuICAgIGlmIChkZWZpbmVkKHNlbGVjdGVkSW1hZ2VyeSkpIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZEltYWdlcnkuaWNvblVybDtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpbWFnZXJ5LiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7UHJvdmlkZXJWaWV3TW9kZWx9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgdGhpcy5zZWxlY3RlZEltYWdlcnkgPSB1bmRlZmluZWQ7XG4gIHZhciBzZWxlY3RlZEltYWdlcnlWaWV3TW9kZWwgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG5cbiAgdGhpcy5fY3VycmVudEltYWdlcnlQcm92aWRlcnMgPSBbXTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZWxlY3RlZEltYWdlcnlcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNlbGVjdGVkSW1hZ2VyeVZpZXdNb2RlbCgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWxlY3RlZEltYWdlcnlWaWV3TW9kZWwoKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5kcm9wRG93blZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBjdXJyZW50SW1hZ2VyeVByb3ZpZGVycyA9IHRoaXMuX2N1cnJlbnRJbWFnZXJ5UHJvdmlkZXJzO1xuICAgICAgdmFyIGN1cnJlbnRJbWFnZXJ5UHJvdmlkZXJzTGVuZ3RoID0gY3VycmVudEltYWdlcnlQcm92aWRlcnMubGVuZ3RoO1xuICAgICAgdmFyIGltYWdlcnlMYXllcnMgPSB0aGlzLl9nbG9iZS5pbWFnZXJ5TGF5ZXJzO1xuICAgICAgdmFyIGhhZEV4aXN0aW5nQmFzZUxheWVyID0gZmFsc2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY3VycmVudEltYWdlcnlQcm92aWRlcnNMZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGF5ZXJzTGVuZ3RoID0gaW1hZ2VyeUxheWVycy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbGF5ZXJzTGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICB2YXIgbGF5ZXIgPSBpbWFnZXJ5TGF5ZXJzLmdldCh4KTtcbiAgICAgICAgICBpZiAobGF5ZXIuaW1hZ2VyeVByb3ZpZGVyID09PSBjdXJyZW50SW1hZ2VyeVByb3ZpZGVyc1tpXSkge1xuICAgICAgICAgICAgaW1hZ2VyeUxheWVycy5yZW1vdmUobGF5ZXIpO1xuICAgICAgICAgICAgaGFkRXhpc3RpbmdCYXNlTGF5ZXIgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YXIgbmV3UHJvdmlkZXJzID0gdmFsdWUuY3JlYXRpb25Db21tYW5kKCk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld1Byb3ZpZGVycykpIHtcbiAgICAgICAgICB2YXIgbmV3UHJvdmlkZXJzTGVuZ3RoID0gbmV3UHJvdmlkZXJzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGkgPSBuZXdQcm92aWRlcnNMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaW1hZ2VyeUxheWVycy5hZGRJbWFnZXJ5UHJvdmlkZXIobmV3UHJvdmlkZXJzW2ldLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fY3VycmVudEltYWdlcnlQcm92aWRlcnMgPSBuZXdQcm92aWRlcnMuc2xpY2UoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY3VycmVudEltYWdlcnlQcm92aWRlcnMgPSBbbmV3UHJvdmlkZXJzXTtcbiAgICAgICAgICBpZiAoaGFkRXhpc3RpbmdCYXNlTGF5ZXIpIHtcbiAgICAgICAgICAgIGltYWdlcnlMYXllcnMuYWRkSW1hZ2VyeVByb3ZpZGVyKG5ld1Byb3ZpZGVycywgMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBiYXNlTGF5ZXIgPSBpbWFnZXJ5TGF5ZXJzLmdldCgwKTtcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGJhc2VMYXllcikpIHtcbiAgICAgICAgICAgICAgaW1hZ2VyeUxheWVycy5yZW1vdmUoYmFzZUxheWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlcnlMYXllcnMuYWRkSW1hZ2VyeVByb3ZpZGVyKG5ld1Byb3ZpZGVycywgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZWxlY3RlZEltYWdlcnlWaWV3TW9kZWwodmFsdWUpO1xuICAgICAgdGhpcy5kcm9wRG93blZpc2libGUgPSBmYWxzZTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGVycmFpbi4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge1Byb3ZpZGVyVmlld01vZGVsfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMuc2VsZWN0ZWRUZXJyYWluID0gdW5kZWZpbmVkO1xuICB2YXIgc2VsZWN0ZWRUZXJyYWluVmlld01vZGVsID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuXG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2VsZWN0ZWRUZXJyYWluXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZFRlcnJhaW5WaWV3TW9kZWwoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VsZWN0ZWRUZXJyYWluVmlld01vZGVsKCkgPT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZHJvcERvd25WaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld1Byb3ZpZGVyO1xuICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIG5ld1Byb3ZpZGVyID0gdmFsdWUuY3JlYXRpb25Db21tYW5kKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2dsb2JlLmRlcHRoVGVzdEFnYWluc3RUZXJyYWluID0gIShcbiAgICAgICAgbmV3UHJvdmlkZXIgaW5zdGFuY2VvZiBFbGxpcHNvaWRUZXJyYWluUHJvdmlkZXJcbiAgICAgICk7XG4gICAgICB0aGlzLl9nbG9iZS50ZXJyYWluUHJvdmlkZXIgPSBuZXdQcm92aWRlcjtcbiAgICAgIHNlbGVjdGVkVGVycmFpblZpZXdNb2RlbCh2YWx1ZSk7XG4gICAgICB0aGlzLmRyb3BEb3duVmlzaWJsZSA9IGZhbHNlO1xuICAgIH0sXG4gIH0pO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcbiAgdGhpcy5fdG9nZ2xlRHJvcERvd24gPSBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICB0aGF0LmRyb3BEb3duVmlzaWJsZSA9ICF0aGF0LmRyb3BEb3duVmlzaWJsZTtcbiAgfSk7XG5cbiAgdGhpcy5zZWxlY3RlZEltYWdlcnkgPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy5zZWxlY3RlZEltYWdlcnlQcm92aWRlclZpZXdNb2RlbCxcbiAgICBpbWFnZXJ5UHJvdmlkZXJWaWV3TW9kZWxzWzBdXG4gICk7XG4gIHRoaXMuc2VsZWN0ZWRUZXJyYWluID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMuc2VsZWN0ZWRUZXJyYWluUHJvdmlkZXJWaWV3TW9kZWwsXG4gICAgdGVycmFpblByb3ZpZGVyVmlld01vZGVsc1swXVxuICApO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhCYXNlTGF5ZXJQaWNrZXJWaWV3TW9kZWwucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb21tYW5kIHRvIHRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZHJvcCBkb3duLlxuICAgKiBAbWVtYmVyb2YgQmFzZUxheWVyUGlja2VyVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIHRvZ2dsZURyb3BEb3duOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlRHJvcERvd247XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgZ2xvYmUuXG4gICAqIEBtZW1iZXJvZiBCYXNlTGF5ZXJQaWNrZXJWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtHbG9iZX1cbiAgICovXG4gIGdsb2JlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2xvYmU7XG4gICAgfSxcbiAgfSxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgQmFzZUxheWVyUGlja2VyVmlld01vZGVsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2737\n')},55641:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(53454);\n/* harmony import */ var _createCommand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28389);\n\n\n\n\n\n\n/**\n * A view model that represents each item in the {@link BaseLayerPicker}.\n *\n * @alias ProviderViewModel\n * @constructor\n *\n * @param {Object} options The object containing all parameters.\n * @param {String} options.name The name of the layer.\n * @param {String} options.tooltip The tooltip to show when the item is moused over.\n * @param {String} options.iconUrl An icon representing the layer.\n * @param {String} [options.category] A category for the layer.\n * @param {ProviderViewModel.CreationFunction|Command} options.creationFunction A function or Command\n *        that creates one or more providers which will be added to the globe when this item is selected.\n *\n * @see BaseLayerPicker\n * @see ImageryProvider\n * @see TerrainProvider\n */\nfunction ProviderViewModel(options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.name)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.name is required.");\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.tooltip)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.tooltip is required.");\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.iconUrl)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.iconUrl is required.");\n  }\n  if (typeof options.creationFunction !== "function") {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.creationFunction is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var creationCommand = options.creationFunction;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(creationCommand.canExecute)) {\n    creationCommand = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(creationCommand);\n  }\n\n  this._creationCommand = creationCommand;\n\n  /**\n   * Gets the display name.  This property is observable.\n   * @type {String}\n   */\n  this.name = options.name;\n\n  /**\n   * Gets the tooltip.  This property is observable.\n   * @type {String}\n   */\n  this.tooltip = options.tooltip;\n\n  /**\n   * Gets the icon.  This property is observable.\n   * @type {String}\n   */\n  this.iconUrl = options.iconUrl;\n\n  this._category = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.category, "");\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].track */ .Z.track(this, ["name", "tooltip", "iconUrl"]);\n}\n\nObject.defineProperties(ProviderViewModel.prototype, {\n  /**\n   * Gets the Command that creates one or more providers which will be added to\n   * the globe when this item is selected.\n   * @memberof ProviderViewModel.prototype\n   * @memberof ProviderViewModel.prototype\n   * @type {Command}\n   * @readonly\n   */\n  creationCommand: {\n    get: function () {\n      return this._creationCommand;\n    },\n  },\n\n  /**\n   * Gets the category\n   * @type {String}\n   * @memberof ProviderViewModel.prototype\n   * @readonly\n   */\n  category: {\n    get: function () {\n      return this._category;\n    },\n  },\n});\n\n/**\n * A function which creates one or more providers.\n * @callback ProviderViewModel.CreationFunction\n * @returns {ImageryProvider|TerrainProvider|ImageryProvider[]|TerrainProvider[]}\n *          The ImageryProvider or TerrainProvider, or array of providers, to be added\n *          to the globe.\n */\n/* harmony default export */ __webpack_exports__["Z"] = (ProviderViewModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU2NDEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0Q7QUFDVjtBQUNjO0FBQ047QUFDSjs7QUFFaEQ7QUFDQSxrREFBa0Qsc0JBQXNCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLDRDQUE0QztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxRUFBTztBQUNkLGNBQWMsd0VBQWM7QUFDNUI7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBLE9BQU8scUVBQU87QUFDZCxjQUFjLHdFQUFjO0FBQzVCO0FBQ0E7QUFDQSxjQUFjLHdFQUFjO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLHFFQUFPO0FBQ2Qsc0JBQXNCLHNFQUFhO0FBQ25DOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBLG1CQUFtQiwwRUFBWTs7QUFFL0IsRUFBRSxvRkFBYztBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSx5REFBZSxpQkFBaUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9XaWRnZXRzL0Jhc2VMYXllclBpY2tlci9Qcm92aWRlclZpZXdNb2RlbC5qcz9lOWM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uLy4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uLy4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBrbm9ja291dCBmcm9tIFwiLi4vLi4vVGhpcmRQYXJ0eS9rbm9ja291dC5qc1wiO1xuaW1wb3J0IGNyZWF0ZUNvbW1hbmQgZnJvbSBcIi4uL2NyZWF0ZUNvbW1hbmQuanNcIjtcblxuLyoqXG4gKiBBIHZpZXcgbW9kZWwgdGhhdCByZXByZXNlbnRzIGVhY2ggaXRlbSBpbiB0aGUge0BsaW5rIEJhc2VMYXllclBpY2tlcn0uXG4gKlxuICogQGFsaWFzIFByb3ZpZGVyVmlld01vZGVsXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5uYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXllci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnRvb2x0aXAgVGhlIHRvb2x0aXAgdG8gc2hvdyB3aGVuIHRoZSBpdGVtIGlzIG1vdXNlZCBvdmVyLlxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuaWNvblVybCBBbiBpY29uIHJlcHJlc2VudGluZyB0aGUgbGF5ZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY2F0ZWdvcnldIEEgY2F0ZWdvcnkgZm9yIHRoZSBsYXllci5cbiAqIEBwYXJhbSB7UHJvdmlkZXJWaWV3TW9kZWwuQ3JlYXRpb25GdW5jdGlvbnxDb21tYW5kfSBvcHRpb25zLmNyZWF0aW9uRnVuY3Rpb24gQSBmdW5jdGlvbiBvciBDb21tYW5kXG4gKiAgICAgICAgdGhhdCBjcmVhdGVzIG9uZSBvciBtb3JlIHByb3ZpZGVycyB3aGljaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBnbG9iZSB3aGVuIHRoaXMgaXRlbSBpcyBzZWxlY3RlZC5cbiAqXG4gKiBAc2VlIEJhc2VMYXllclBpY2tlclxuICogQHNlZSBJbWFnZXJ5UHJvdmlkZXJcbiAqIEBzZWUgVGVycmFpblByb3ZpZGVyXG4gKi9cbmZ1bmN0aW9uIFByb3ZpZGVyVmlld01vZGVsKG9wdGlvbnMpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKG9wdGlvbnMubmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zLm5hbWUgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIGlmICghZGVmaW5lZChvcHRpb25zLnRvb2x0aXApKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwib3B0aW9ucy50b29sdGlwIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICBpZiAoIWRlZmluZWQob3B0aW9ucy5pY29uVXJsKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMuaWNvblVybCBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNyZWF0aW9uRnVuY3Rpb24gIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMuY3JlYXRpb25GdW5jdGlvbiBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGNyZWF0aW9uQ29tbWFuZCA9IG9wdGlvbnMuY3JlYXRpb25GdW5jdGlvbjtcbiAgaWYgKCFkZWZpbmVkKGNyZWF0aW9uQ29tbWFuZC5jYW5FeGVjdXRlKSkge1xuICAgIGNyZWF0aW9uQ29tbWFuZCA9IGNyZWF0ZUNvbW1hbmQoY3JlYXRpb25Db21tYW5kKTtcbiAgfVxuXG4gIHRoaXMuX2NyZWF0aW9uQ29tbWFuZCA9IGNyZWF0aW9uQ29tbWFuZDtcblxuICAvKipcbiAgICogR2V0cyB0aGUgZGlzcGxheSBuYW1lLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0b29sdGlwLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgdGhpcy50b29sdGlwID0gb3B0aW9ucy50b29sdGlwO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpY29uLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgdGhpcy5pY29uVXJsID0gb3B0aW9ucy5pY29uVXJsO1xuXG4gIHRoaXMuX2NhdGVnb3J5ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuY2F0ZWdvcnksIFwiXCIpO1xuXG4gIGtub2Nrb3V0LnRyYWNrKHRoaXMsIFtcIm5hbWVcIiwgXCJ0b29sdGlwXCIsIFwiaWNvblVybFwiXSk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFByb3ZpZGVyVmlld01vZGVsLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgQ29tbWFuZCB0aGF0IGNyZWF0ZXMgb25lIG9yIG1vcmUgcHJvdmlkZXJzIHdoaWNoIHdpbGwgYmUgYWRkZWQgdG9cbiAgICogdGhlIGdsb2JlIHdoZW4gdGhpcyBpdGVtIGlzIHNlbGVjdGVkLlxuICAgKiBAbWVtYmVyb2YgUHJvdmlkZXJWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEBtZW1iZXJvZiBQcm92aWRlclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgY3JlYXRpb25Db21tYW5kOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRpb25Db21tYW5kO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNhdGVnb3J5XG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQcm92aWRlclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBjYXRlZ29yeToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhdGVnb3J5O1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgb25lIG9yIG1vcmUgcHJvdmlkZXJzLlxuICogQGNhbGxiYWNrIFByb3ZpZGVyVmlld01vZGVsLkNyZWF0aW9uRnVuY3Rpb25cbiAqIEByZXR1cm5zIHtJbWFnZXJ5UHJvdmlkZXJ8VGVycmFpblByb3ZpZGVyfEltYWdlcnlQcm92aWRlcltdfFRlcnJhaW5Qcm92aWRlcltdfVxuICogICAgICAgICAgVGhlIEltYWdlcnlQcm92aWRlciBvciBUZXJyYWluUHJvdmlkZXIsIG9yIGFycmF5IG9mIHByb3ZpZGVycywgdG8gYmUgYWRkZWRcbiAqICAgICAgICAgIHRvIHRoZSBnbG9iZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgUHJvdmlkZXJWaWV3TW9kZWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///55641\n')},98607:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72000);\n/* harmony import */ var _Scene_ArcGisMapServerImageryProvider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37741);\n/* harmony import */ var _Scene_createWorldImagery_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(30289);\n/* harmony import */ var _Scene_IonImageryProvider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43234);\n/* harmony import */ var _Scene_IonWorldImageryStyle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(40999);\n/* harmony import */ var _Scene_OpenStreetMapImageryProvider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(75436);\n/* harmony import */ var _Scene_TileMapServiceImageryProvider_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80360);\n/* harmony import */ var _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(55641);\n\n\n\n\n\n\n\n\n\n/**\n * @private\n */\nfunction createDefaultImageryProviderViewModels() {\n  var providerViewModels = [];\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Bing Maps Aerial",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)("Widgets/Images/ImageryProviders/bingAerial.png"),\n      tooltip: "Bing Maps aerial imagery, provided by Cesium ion",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return (0,_Scene_createWorldImagery_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({\n          style: _Scene_IonWorldImageryStyle_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].AERIAL */ .Z.AERIAL,\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Bing Maps Aerial with Labels",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/bingAerialLabels.png"\n      ),\n      tooltip: "Bing Maps aerial imagery with labels, provided by Cesium ion",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return (0,_Scene_createWorldImagery_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({\n          style: _Scene_IonWorldImageryStyle_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].AERIAL_WITH_LABELS */ .Z.AERIAL_WITH_LABELS,\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Bing Maps Roads",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)("Widgets/Images/ImageryProviders/bingRoads.png"),\n      tooltip: "Bing Maps standard road maps, provided by Cesium ion",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return (0,_Scene_createWorldImagery_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)({\n          style: _Scene_IonWorldImageryStyle_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].ROAD */ .Z.ROAD,\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "ESRI World Imagery",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/esriWorldImagery.png"\n      ),\n      tooltip:\n        "\\\nWorld Imagery provides one meter or better satellite and aerial imagery in many parts of the world and lower resolution \\\nsatellite imagery worldwide.  The map includes NASA Blue Marble: Next Generation 500m resolution imagery at small scales \\\n(above 1:1,000,000), i-cubed 15m eSAT imagery at medium-to-large scales (down to 1:70,000) for the world, and USGS 15m Landsat \\\nimagery for Antarctica. The map features 0.3m resolution imagery in the continental United States and 0.6m resolution imagery in \\\nparts of Western Europe from DigitalGlobe. In other parts of the world, 1 meter resolution imagery is available from GeoEye IKONOS, \\\ni-cubed Nationwide Prime, Getmapping, AeroGRID, IGN Spain, and IGP Portugal.  Additionally, imagery at different resolutions has been \\\ncontributed by the GIS User Community.\\nhttp://www.esri.com",\n      category: "Other",\n      creationFunction: function () {\n        return new _Scene_ArcGisMapServerImageryProvider_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z({\n          url:\n            "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n          enablePickFeatures: false,\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "ESRI World Street Map",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/esriWorldStreetMap.png"\n      ),\n      tooltip:\n        "\\\nThis worldwide street map presents highway-level data for the world. Street-level data includes the United States; much of \\\nCanada; Japan; most countries in Europe; Australia and New Zealand; India; parts of South America including Argentina, Brazil, \\\nChile, Colombia, and Venezuela; Ghana; and parts of southern Africa including Botswana, Lesotho, Namibia, South Africa, and Swaziland.\\n\\\nhttp://www.esri.com",\n      category: "Other",\n      creationFunction: function () {\n        return new _Scene_ArcGisMapServerImageryProvider_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z({\n          url:\n            "https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",\n          enablePickFeatures: false,\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "ESRI National Geographic",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/esriNationalGeographic.png"\n      ),\n      tooltip:\n        "\\\nThis web map contains the National Geographic World Map service. This map service is designed to be used as a general reference map \\\nfor informational and educational purposes as well as a basemap by GIS professionals and other users for creating web maps and web \\\nmapping applications.\\nhttp://www.esri.com",\n      category: "Other",\n      creationFunction: function () {\n        return new _Scene_ArcGisMapServerImageryProvider_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z({\n          url:\n            "https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/",\n          enablePickFeatures: false,\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Open\\u00adStreet\\u00adMap",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/openStreetMap.png"\n      ),\n      tooltip:\n        "OpenStreetMap (OSM) is a collaborative project to create a free editable map \\\nof the world.\\nhttp://www.openstreetmap.org",\n      category: "Other",\n      creationFunction: function () {\n        return new _Scene_OpenStreetMapImageryProvider_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n          url: "https://a.tile.openstreetmap.org/",\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Stamen Watercolor",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/stamenWatercolor.png"\n      ),\n      tooltip:\n        "Reminiscent of hand drawn maps, Stamen watercolor maps apply raster effect \\\narea washes and organic edges over a paper texture to add warm pop to any map.\\nhttp://maps.stamen.com",\n      category: "Other",\n      creationFunction: function () {\n        return new _Scene_OpenStreetMapImageryProvider_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n          url: "https://stamen-tiles.a.ssl.fastly.net/watercolor/",\n          credit:\n            "Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA.",\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Stamen Toner",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/stamenToner.png"\n      ),\n      tooltip: "A high contrast black and white map.\\nhttp://maps.stamen.com",\n      category: "Other",\n      creationFunction: function () {\n        return new _Scene_OpenStreetMapImageryProvider_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n          url: "https://stamen-tiles.a.ssl.fastly.net/toner/",\n          credit:\n            "Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA.",\n        });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Sentinel-2",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)("Widgets/Images/ImageryProviders/sentinel-2.png"),\n      tooltip:\n        "Sentinel-2 cloudless by EOX IT Services GmbH (Contains modified Copernicus Sentinel data 2016 and 2017).",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return new _Scene_IonImageryProvider_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({ assetId: 3954 });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Blue Marble",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)("Widgets/Images/ImageryProviders/blueMarble.png"),\n      tooltip: "Blue Marble Next Generation July, 2004 imagery from NASA.",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return new _Scene_IonImageryProvider_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({ assetId: 3845 });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Earth at night",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/earthAtNight.png"\n      ),\n      tooltip:\n        "The Earth at night, also known as The Black Marble, is a 500 meter resolution global composite imagery layer released by NASA.",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return new _Scene_IonImageryProvider_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({ assetId: 3812 });\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n      name: "Natural Earth\\u00a0II",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/ImageryProviders/naturalEarthII.png"\n      ),\n      tooltip:\n        "Natural Earth II, darkened for contrast.\\nhttp://www.naturalearthdata.com/",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return new _Scene_TileMapServiceImageryProvider_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n          url: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)("Assets/Textures/NaturalEarthII"),\n        });\n      },\n    })\n  );\n\n  return providerViewModels;\n}\n/* harmony default export */ __webpack_exports__["Z"] = (createDefaultImageryProviderViewModels);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSw0RUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkVBQWtCLEdBQUcsZUFBZTtBQUN2RCxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0EsUUFBUSxzRkFBaUI7QUFDekI7QUFDQSxlQUFlLDRFQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3RkFBNkI7QUFDaEQsZUFBZSw0RUFBYztBQUM3QixTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EseURBQWUsc0NBQXNDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvV2lkZ2V0cy9CYXNlTGF5ZXJQaWNrZXIvY3JlYXRlRGVmYXVsdEltYWdlcnlQcm92aWRlclZpZXdNb2RlbHMuanM/YzNjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnVpbGRNb2R1bGVVcmwgZnJvbSBcIi4uLy4uL0NvcmUvYnVpbGRNb2R1bGVVcmwuanNcIjtcbmltcG9ydCBBcmNHaXNNYXBTZXJ2ZXJJbWFnZXJ5UHJvdmlkZXIgZnJvbSBcIi4uLy4uL1NjZW5lL0FyY0dpc01hcFNlcnZlckltYWdlcnlQcm92aWRlci5qc1wiO1xuaW1wb3J0IGNyZWF0ZVdvcmxkSW1hZ2VyeSBmcm9tIFwiLi4vLi4vU2NlbmUvY3JlYXRlV29ybGRJbWFnZXJ5LmpzXCI7XG5pbXBvcnQgSW9uSW1hZ2VyeVByb3ZpZGVyIGZyb20gXCIuLi8uLi9TY2VuZS9Jb25JbWFnZXJ5UHJvdmlkZXIuanNcIjtcbmltcG9ydCBJb25Xb3JsZEltYWdlcnlTdHlsZSBmcm9tIFwiLi4vLi4vU2NlbmUvSW9uV29ybGRJbWFnZXJ5U3R5bGUuanNcIjtcbmltcG9ydCBPcGVuU3RyZWV0TWFwSW1hZ2VyeVByb3ZpZGVyIGZyb20gXCIuLi8uLi9TY2VuZS9PcGVuU3RyZWV0TWFwSW1hZ2VyeVByb3ZpZGVyLmpzXCI7XG5pbXBvcnQgVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIgZnJvbSBcIi4uLy4uL1NjZW5lL1RpbGVNYXBTZXJ2aWNlSW1hZ2VyeVByb3ZpZGVyLmpzXCI7XG5pbXBvcnQgUHJvdmlkZXJWaWV3TW9kZWwgZnJvbSBcIi4uL0Jhc2VMYXllclBpY2tlci9Qcm92aWRlclZpZXdNb2RlbC5qc1wiO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRJbWFnZXJ5UHJvdmlkZXJWaWV3TW9kZWxzKCkge1xuICB2YXIgcHJvdmlkZXJWaWV3TW9kZWxzID0gW107XG4gIHByb3ZpZGVyVmlld01vZGVscy5wdXNoKFxuICAgIG5ldyBQcm92aWRlclZpZXdNb2RlbCh7XG4gICAgICBuYW1lOiBcIkJpbmcgTWFwcyBBZXJpYWxcIixcbiAgICAgIGljb25Vcmw6IGJ1aWxkTW9kdWxlVXJsKFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9iaW5nQWVyaWFsLnBuZ1wiKSxcbiAgICAgIHRvb2x0aXA6IFwiQmluZyBNYXBzIGFlcmlhbCBpbWFnZXJ5LCBwcm92aWRlZCBieSBDZXNpdW0gaW9uXCIsXG4gICAgICBjYXRlZ29yeTogXCJDZXNpdW0gaW9uXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVXb3JsZEltYWdlcnkoe1xuICAgICAgICAgIHN0eWxlOiBJb25Xb3JsZEltYWdlcnlTdHlsZS5BRVJJQUwsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHByb3ZpZGVyVmlld01vZGVscy5wdXNoKFxuICAgIG5ldyBQcm92aWRlclZpZXdNb2RlbCh7XG4gICAgICBuYW1lOiBcIkJpbmcgTWFwcyBBZXJpYWwgd2l0aCBMYWJlbHNcIixcbiAgICAgIGljb25Vcmw6IGJ1aWxkTW9kdWxlVXJsKFxuICAgICAgICBcIldpZGdldHMvSW1hZ2VzL0ltYWdlcnlQcm92aWRlcnMvYmluZ0FlcmlhbExhYmVscy5wbmdcIlxuICAgICAgKSxcbiAgICAgIHRvb2x0aXA6IFwiQmluZyBNYXBzIGFlcmlhbCBpbWFnZXJ5IHdpdGggbGFiZWxzLCBwcm92aWRlZCBieSBDZXNpdW0gaW9uXCIsXG4gICAgICBjYXRlZ29yeTogXCJDZXNpdW0gaW9uXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVXb3JsZEltYWdlcnkoe1xuICAgICAgICAgIHN0eWxlOiBJb25Xb3JsZEltYWdlcnlTdHlsZS5BRVJJQUxfV0lUSF9MQUJFTFMsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHByb3ZpZGVyVmlld01vZGVscy5wdXNoKFxuICAgIG5ldyBQcm92aWRlclZpZXdNb2RlbCh7XG4gICAgICBuYW1lOiBcIkJpbmcgTWFwcyBSb2Fkc1wiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXCJXaWRnZXRzL0ltYWdlcy9JbWFnZXJ5UHJvdmlkZXJzL2JpbmdSb2Fkcy5wbmdcIiksXG4gICAgICB0b29sdGlwOiBcIkJpbmcgTWFwcyBzdGFuZGFyZCByb2FkIG1hcHMsIHByb3ZpZGVkIGJ5IENlc2l1bSBpb25cIixcbiAgICAgIGNhdGVnb3J5OiBcIkNlc2l1bSBpb25cIixcbiAgICAgIGNyZWF0aW9uRnVuY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVdvcmxkSW1hZ2VyeSh7XG4gICAgICAgICAgc3R5bGU6IElvbldvcmxkSW1hZ2VyeVN0eWxlLlJPQUQsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHByb3ZpZGVyVmlld01vZGVscy5wdXNoKFxuICAgIG5ldyBQcm92aWRlclZpZXdNb2RlbCh7XG4gICAgICBuYW1lOiBcIkVTUkkgV29ybGQgSW1hZ2VyeVwiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXG4gICAgICAgIFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9lc3JpV29ybGRJbWFnZXJ5LnBuZ1wiXG4gICAgICApLFxuICAgICAgdG9vbHRpcDpcbiAgICAgICAgXCJcXFxuV29ybGQgSW1hZ2VyeSBwcm92aWRlcyBvbmUgbWV0ZXIgb3IgYmV0dGVyIHNhdGVsbGl0ZSBhbmQgYWVyaWFsIGltYWdlcnkgaW4gbWFueSBwYXJ0cyBvZiB0aGUgd29ybGQgYW5kIGxvd2VyIHJlc29sdXRpb24gXFxcbnNhdGVsbGl0ZSBpbWFnZXJ5IHdvcmxkd2lkZS4gIFRoZSBtYXAgaW5jbHVkZXMgTkFTQSBCbHVlIE1hcmJsZTogTmV4dCBHZW5lcmF0aW9uIDUwMG0gcmVzb2x1dGlvbiBpbWFnZXJ5IGF0IHNtYWxsIHNjYWxlcyBcXFxuKGFib3ZlIDE6MSwwMDAsMDAwKSwgaS1jdWJlZCAxNW0gZVNBVCBpbWFnZXJ5IGF0IG1lZGl1bS10by1sYXJnZSBzY2FsZXMgKGRvd24gdG8gMTo3MCwwMDApIGZvciB0aGUgd29ybGQsIGFuZCBVU0dTIDE1bSBMYW5kc2F0IFxcXG5pbWFnZXJ5IGZvciBBbnRhcmN0aWNhLiBUaGUgbWFwIGZlYXR1cmVzIDAuM20gcmVzb2x1dGlvbiBpbWFnZXJ5IGluIHRoZSBjb250aW5lbnRhbCBVbml0ZWQgU3RhdGVzIGFuZCAwLjZtIHJlc29sdXRpb24gaW1hZ2VyeSBpbiBcXFxucGFydHMgb2YgV2VzdGVybiBFdXJvcGUgZnJvbSBEaWdpdGFsR2xvYmUuIEluIG90aGVyIHBhcnRzIG9mIHRoZSB3b3JsZCwgMSBtZXRlciByZXNvbHV0aW9uIGltYWdlcnkgaXMgYXZhaWxhYmxlIGZyb20gR2VvRXllIElLT05PUywgXFxcbmktY3ViZWQgTmF0aW9ud2lkZSBQcmltZSwgR2V0bWFwcGluZywgQWVyb0dSSUQsIElHTiBTcGFpbiwgYW5kIElHUCBQb3J0dWdhbC4gIEFkZGl0aW9uYWxseSwgaW1hZ2VyeSBhdCBkaWZmZXJlbnQgcmVzb2x1dGlvbnMgaGFzIGJlZW4gXFxcbmNvbnRyaWJ1dGVkIGJ5IHRoZSBHSVMgVXNlciBDb21tdW5pdHkuXFxuaHR0cDovL3d3dy5lc3JpLmNvbVwiLFxuICAgICAgY2F0ZWdvcnk6IFwiT3RoZXJcIixcbiAgICAgIGNyZWF0aW9uRnVuY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcmNHaXNNYXBTZXJ2ZXJJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgIHVybDpcbiAgICAgICAgICAgIFwiaHR0cHM6Ly9zZXJ2aWNlcy5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX0ltYWdlcnkvTWFwU2VydmVyXCIsXG4gICAgICAgICAgZW5hYmxlUGlja0ZlYXR1cmVzOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG5cbiAgcHJvdmlkZXJWaWV3TW9kZWxzLnB1c2goXG4gICAgbmV3IFByb3ZpZGVyVmlld01vZGVsKHtcbiAgICAgIG5hbWU6IFwiRVNSSSBXb3JsZCBTdHJlZXQgTWFwXCIsXG4gICAgICBpY29uVXJsOiBidWlsZE1vZHVsZVVybChcbiAgICAgICAgXCJXaWRnZXRzL0ltYWdlcy9JbWFnZXJ5UHJvdmlkZXJzL2VzcmlXb3JsZFN0cmVldE1hcC5wbmdcIlxuICAgICAgKSxcbiAgICAgIHRvb2x0aXA6XG4gICAgICAgIFwiXFxcblRoaXMgd29ybGR3aWRlIHN0cmVldCBtYXAgcHJlc2VudHMgaGlnaHdheS1sZXZlbCBkYXRhIGZvciB0aGUgd29ybGQuIFN0cmVldC1sZXZlbCBkYXRhIGluY2x1ZGVzIHRoZSBVbml0ZWQgU3RhdGVzOyBtdWNoIG9mIFxcXG5DYW5hZGE7IEphcGFuOyBtb3N0IGNvdW50cmllcyBpbiBFdXJvcGU7IEF1c3RyYWxpYSBhbmQgTmV3IFplYWxhbmQ7IEluZGlhOyBwYXJ0cyBvZiBTb3V0aCBBbWVyaWNhIGluY2x1ZGluZyBBcmdlbnRpbmEsIEJyYXppbCwgXFxcbkNoaWxlLCBDb2xvbWJpYSwgYW5kIFZlbmV6dWVsYTsgR2hhbmE7IGFuZCBwYXJ0cyBvZiBzb3V0aGVybiBBZnJpY2EgaW5jbHVkaW5nIEJvdHN3YW5hLCBMZXNvdGhvLCBOYW1pYmlhLCBTb3V0aCBBZnJpY2EsIGFuZCBTd2F6aWxhbmQuXFxuXFxcbmh0dHA6Ly93d3cuZXNyaS5jb21cIixcbiAgICAgIGNhdGVnb3J5OiBcIk90aGVyXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJjR2lzTWFwU2VydmVySW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICB1cmw6XG4gICAgICAgICAgICBcImh0dHBzOi8vc2VydmljZXMuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9TdHJlZXRfTWFwL01hcFNlcnZlclwiLFxuICAgICAgICAgIGVuYWJsZVBpY2tGZWF0dXJlczogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHByb3ZpZGVyVmlld01vZGVscy5wdXNoKFxuICAgIG5ldyBQcm92aWRlclZpZXdNb2RlbCh7XG4gICAgICBuYW1lOiBcIkVTUkkgTmF0aW9uYWwgR2VvZ3JhcGhpY1wiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXG4gICAgICAgIFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9lc3JpTmF0aW9uYWxHZW9ncmFwaGljLnBuZ1wiXG4gICAgICApLFxuICAgICAgdG9vbHRpcDpcbiAgICAgICAgXCJcXFxuVGhpcyB3ZWIgbWFwIGNvbnRhaW5zIHRoZSBOYXRpb25hbCBHZW9ncmFwaGljIFdvcmxkIE1hcCBzZXJ2aWNlLiBUaGlzIG1hcCBzZXJ2aWNlIGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgYXMgYSBnZW5lcmFsIHJlZmVyZW5jZSBtYXAgXFxcbmZvciBpbmZvcm1hdGlvbmFsIGFuZCBlZHVjYXRpb25hbCBwdXJwb3NlcyBhcyB3ZWxsIGFzIGEgYmFzZW1hcCBieSBHSVMgcHJvZmVzc2lvbmFscyBhbmQgb3RoZXIgdXNlcnMgZm9yIGNyZWF0aW5nIHdlYiBtYXBzIGFuZCB3ZWIgXFxcbm1hcHBpbmcgYXBwbGljYXRpb25zLlxcbmh0dHA6Ly93d3cuZXNyaS5jb21cIixcbiAgICAgIGNhdGVnb3J5OiBcIk90aGVyXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJjR2lzTWFwU2VydmVySW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICB1cmw6XG4gICAgICAgICAgICBcImh0dHBzOi8vc2VydmljZXMuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9OYXRHZW9fV29ybGRfTWFwL01hcFNlcnZlci9cIixcbiAgICAgICAgICBlbmFibGVQaWNrRmVhdHVyZXM6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcblxuICBwcm92aWRlclZpZXdNb2RlbHMucHVzaChcbiAgICBuZXcgUHJvdmlkZXJWaWV3TW9kZWwoe1xuICAgICAgbmFtZTogXCJPcGVuXFx1MDBhZFN0cmVldFxcdTAwYWRNYXBcIixcbiAgICAgIGljb25Vcmw6IGJ1aWxkTW9kdWxlVXJsKFxuICAgICAgICBcIldpZGdldHMvSW1hZ2VzL0ltYWdlcnlQcm92aWRlcnMvb3BlblN0cmVldE1hcC5wbmdcIlxuICAgICAgKSxcbiAgICAgIHRvb2x0aXA6XG4gICAgICAgIFwiT3BlblN0cmVldE1hcCAoT1NNKSBpcyBhIGNvbGxhYm9yYXRpdmUgcHJvamVjdCB0byBjcmVhdGUgYSBmcmVlIGVkaXRhYmxlIG1hcCBcXFxub2YgdGhlIHdvcmxkLlxcbmh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmdcIixcbiAgICAgIGNhdGVnb3J5OiBcIk90aGVyXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgT3BlblN0cmVldE1hcEltYWdlcnlQcm92aWRlcih7XG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vYS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL1wiLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcblxuICBwcm92aWRlclZpZXdNb2RlbHMucHVzaChcbiAgICBuZXcgUHJvdmlkZXJWaWV3TW9kZWwoe1xuICAgICAgbmFtZTogXCJTdGFtZW4gV2F0ZXJjb2xvclwiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXG4gICAgICAgIFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9zdGFtZW5XYXRlcmNvbG9yLnBuZ1wiXG4gICAgICApLFxuICAgICAgdG9vbHRpcDpcbiAgICAgICAgXCJSZW1pbmlzY2VudCBvZiBoYW5kIGRyYXduIG1hcHMsIFN0YW1lbiB3YXRlcmNvbG9yIG1hcHMgYXBwbHkgcmFzdGVyIGVmZmVjdCBcXFxuYXJlYSB3YXNoZXMgYW5kIG9yZ2FuaWMgZWRnZXMgb3ZlciBhIHBhcGVyIHRleHR1cmUgdG8gYWRkIHdhcm0gcG9wIHRvIGFueSBtYXAuXFxuaHR0cDovL21hcHMuc3RhbWVuLmNvbVwiLFxuICAgICAgY2F0ZWdvcnk6IFwiT3RoZXJcIixcbiAgICAgIGNyZWF0aW9uRnVuY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVuU3RyZWV0TWFwSW1hZ2VyeVByb3ZpZGVyKHtcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9zdGFtZW4tdGlsZXMuYS5zc2wuZmFzdGx5Lm5ldC93YXRlcmNvbG9yL1wiLFxuICAgICAgICAgIGNyZWRpdDpcbiAgICAgICAgICAgIFwiTWFwIHRpbGVzIGJ5IFN0YW1lbiBEZXNpZ24sIHVuZGVyIENDIEJZIDMuMC4gRGF0YSBieSBPcGVuU3RyZWV0TWFwLCB1bmRlciBDQyBCWSBTQS5cIixcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG5cbiAgcHJvdmlkZXJWaWV3TW9kZWxzLnB1c2goXG4gICAgbmV3IFByb3ZpZGVyVmlld01vZGVsKHtcbiAgICAgIG5hbWU6IFwiU3RhbWVuIFRvbmVyXCIsXG4gICAgICBpY29uVXJsOiBidWlsZE1vZHVsZVVybChcbiAgICAgICAgXCJXaWRnZXRzL0ltYWdlcy9JbWFnZXJ5UHJvdmlkZXJzL3N0YW1lblRvbmVyLnBuZ1wiXG4gICAgICApLFxuICAgICAgdG9vbHRpcDogXCJBIGhpZ2ggY29udHJhc3QgYmxhY2sgYW5kIHdoaXRlIG1hcC5cXG5odHRwOi8vbWFwcy5zdGFtZW4uY29tXCIsXG4gICAgICBjYXRlZ29yeTogXCJPdGhlclwiLFxuICAgICAgY3JlYXRpb25GdW5jdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IE9wZW5TdHJlZXRNYXBJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgIHVybDogXCJodHRwczovL3N0YW1lbi10aWxlcy5hLnNzbC5mYXN0bHkubmV0L3RvbmVyL1wiLFxuICAgICAgICAgIGNyZWRpdDpcbiAgICAgICAgICAgIFwiTWFwIHRpbGVzIGJ5IFN0YW1lbiBEZXNpZ24sIHVuZGVyIENDIEJZIDMuMC4gRGF0YSBieSBPcGVuU3RyZWV0TWFwLCB1bmRlciBDQyBCWSBTQS5cIixcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG5cbiAgcHJvdmlkZXJWaWV3TW9kZWxzLnB1c2goXG4gICAgbmV3IFByb3ZpZGVyVmlld01vZGVsKHtcbiAgICAgIG5hbWU6IFwiU2VudGluZWwtMlwiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXCJXaWRnZXRzL0ltYWdlcy9JbWFnZXJ5UHJvdmlkZXJzL3NlbnRpbmVsLTIucG5nXCIpLFxuICAgICAgdG9vbHRpcDpcbiAgICAgICAgXCJTZW50aW5lbC0yIGNsb3VkbGVzcyBieSBFT1ggSVQgU2VydmljZXMgR21iSCAoQ29udGFpbnMgbW9kaWZpZWQgQ29wZXJuaWN1cyBTZW50aW5lbCBkYXRhIDIwMTYgYW5kIDIwMTcpLlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiQ2VzaXVtIGlvblwiLFxuICAgICAgY3JlYXRpb25GdW5jdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IElvbkltYWdlcnlQcm92aWRlcih7IGFzc2V0SWQ6IDM5NTQgfSk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG5cbiAgcHJvdmlkZXJWaWV3TW9kZWxzLnB1c2goXG4gICAgbmV3IFByb3ZpZGVyVmlld01vZGVsKHtcbiAgICAgIG5hbWU6IFwiQmx1ZSBNYXJibGVcIixcbiAgICAgIGljb25Vcmw6IGJ1aWxkTW9kdWxlVXJsKFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9ibHVlTWFyYmxlLnBuZ1wiKSxcbiAgICAgIHRvb2x0aXA6IFwiQmx1ZSBNYXJibGUgTmV4dCBHZW5lcmF0aW9uIEp1bHksIDIwMDQgaW1hZ2VyeSBmcm9tIE5BU0EuXCIsXG4gICAgICBjYXRlZ29yeTogXCJDZXNpdW0gaW9uXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW9uSW1hZ2VyeVByb3ZpZGVyKHsgYXNzZXRJZDogMzg0NSB9KTtcbiAgICAgIH0sXG4gICAgfSlcbiAgKTtcblxuICBwcm92aWRlclZpZXdNb2RlbHMucHVzaChcbiAgICBuZXcgUHJvdmlkZXJWaWV3TW9kZWwoe1xuICAgICAgbmFtZTogXCJFYXJ0aCBhdCBuaWdodFwiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXG4gICAgICAgIFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9lYXJ0aEF0TmlnaHQucG5nXCJcbiAgICAgICksXG4gICAgICB0b29sdGlwOlxuICAgICAgICBcIlRoZSBFYXJ0aCBhdCBuaWdodCwgYWxzbyBrbm93biBhcyBUaGUgQmxhY2sgTWFyYmxlLCBpcyBhIDUwMCBtZXRlciByZXNvbHV0aW9uIGdsb2JhbCBjb21wb3NpdGUgaW1hZ2VyeSBsYXllciByZWxlYXNlZCBieSBOQVNBLlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiQ2VzaXVtIGlvblwiLFxuICAgICAgY3JlYXRpb25GdW5jdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IElvbkltYWdlcnlQcm92aWRlcih7IGFzc2V0SWQ6IDM4MTIgfSk7XG4gICAgICB9LFxuICAgIH0pXG4gICk7XG5cbiAgcHJvdmlkZXJWaWV3TW9kZWxzLnB1c2goXG4gICAgbmV3IFByb3ZpZGVyVmlld01vZGVsKHtcbiAgICAgIG5hbWU6IFwiTmF0dXJhbCBFYXJ0aFxcdTAwYTBJSVwiLFxuICAgICAgaWNvblVybDogYnVpbGRNb2R1bGVVcmwoXG4gICAgICAgIFwiV2lkZ2V0cy9JbWFnZXMvSW1hZ2VyeVByb3ZpZGVycy9uYXR1cmFsRWFydGhJSS5wbmdcIlxuICAgICAgKSxcbiAgICAgIHRvb2x0aXA6XG4gICAgICAgIFwiTmF0dXJhbCBFYXJ0aCBJSSwgZGFya2VuZWQgZm9yIGNvbnRyYXN0Llxcbmh0dHA6Ly93d3cubmF0dXJhbGVhcnRoZGF0YS5jb20vXCIsXG4gICAgICBjYXRlZ29yeTogXCJDZXNpdW0gaW9uXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsZU1hcFNlcnZpY2VJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgIHVybDogYnVpbGRNb2R1bGVVcmwoXCJBc3NldHMvVGV4dHVyZXMvTmF0dXJhbEVhcnRoSUlcIiksXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHJldHVybiBwcm92aWRlclZpZXdNb2RlbHM7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEZWZhdWx0SW1hZ2VyeVByb3ZpZGVyVmlld01vZGVscztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98607\n')},46936:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72000);\n/* harmony import */ var _Core_createWorldTerrain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5586);\n/* harmony import */ var _Core_EllipsoidTerrainProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81176);\n/* harmony import */ var _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55641);\n\n\n\n\n\n/**\n * @private\n */\nfunction createDefaultTerrainProviderViewModels() {\n  var providerViewModels = [];\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({\n      name: "WGS84 Ellipsoid",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)("Widgets/Images/TerrainProviders/Ellipsoid.png"),\n      tooltip: "WGS84 standard ellipsoid, also known as EPSG:4326",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return new _Core_EllipsoidTerrainProvider_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n      },\n    })\n  );\n\n  providerViewModels.push(\n    new _BaseLayerPicker_ProviderViewModel_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({\n      name: "Cesium World Terrain",\n      iconUrl: (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        "Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"\n      ),\n      tooltip:\n        "High-resolution global terrain tileset curated from several datasources and hosted by Cesium ion",\n      category: "Cesium ion",\n      creationFunction: function () {\n        return (0,_Core_createWorldTerrain_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)({\n          requestWaterMask: true,\n          requestVertexNormals: true,\n        });\n      },\n    })\n  );\n\n  return providerViewModels;\n}\n/* harmony default export */ __webpack_exports__["Z"] = (createDefaultTerrainProviderViewModels);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY5MzYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUEwRDtBQUNRO0FBQ1k7QUFDTjs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRkFBaUI7QUFDekI7QUFDQSxlQUFlLDRFQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrRkFBd0I7QUFDM0MsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFFBQVEsc0ZBQWlCO0FBQ3pCO0FBQ0EsZUFBZSw0RUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdGQUFrQjtBQUNqQztBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLHlEQUFlLHNDQUFzQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1dpZGdldHMvQmFzZUxheWVyUGlja2VyL2NyZWF0ZURlZmF1bHRUZXJyYWluUHJvdmlkZXJWaWV3TW9kZWxzLmpzPzQ5M2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJ1aWxkTW9kdWxlVXJsIGZyb20gXCIuLi8uLi9Db3JlL2J1aWxkTW9kdWxlVXJsLmpzXCI7XG5pbXBvcnQgY3JlYXRlV29ybGRUZXJyYWluIGZyb20gXCIuLi8uLi9Db3JlL2NyZWF0ZVdvcmxkVGVycmFpbi5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZFRlcnJhaW5Qcm92aWRlciBmcm9tIFwiLi4vLi4vQ29yZS9FbGxpcHNvaWRUZXJyYWluUHJvdmlkZXIuanNcIjtcbmltcG9ydCBQcm92aWRlclZpZXdNb2RlbCBmcm9tIFwiLi4vQmFzZUxheWVyUGlja2VyL1Byb3ZpZGVyVmlld01vZGVsLmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFRlcnJhaW5Qcm92aWRlclZpZXdNb2RlbHMoKSB7XG4gIHZhciBwcm92aWRlclZpZXdNb2RlbHMgPSBbXTtcbiAgcHJvdmlkZXJWaWV3TW9kZWxzLnB1c2goXG4gICAgbmV3IFByb3ZpZGVyVmlld01vZGVsKHtcbiAgICAgIG5hbWU6IFwiV0dTODQgRWxsaXBzb2lkXCIsXG4gICAgICBpY29uVXJsOiBidWlsZE1vZHVsZVVybChcIldpZGdldHMvSW1hZ2VzL1RlcnJhaW5Qcm92aWRlcnMvRWxsaXBzb2lkLnBuZ1wiKSxcbiAgICAgIHRvb2x0aXA6IFwiV0dTODQgc3RhbmRhcmQgZWxsaXBzb2lkLCBhbHNvIGtub3duIGFzIEVQU0c6NDMyNlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiQ2VzaXVtIGlvblwiLFxuICAgICAgY3JlYXRpb25GdW5jdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVsbGlwc29pZFRlcnJhaW5Qcm92aWRlcigpO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHByb3ZpZGVyVmlld01vZGVscy5wdXNoKFxuICAgIG5ldyBQcm92aWRlclZpZXdNb2RlbCh7XG4gICAgICBuYW1lOiBcIkNlc2l1bSBXb3JsZCBUZXJyYWluXCIsXG4gICAgICBpY29uVXJsOiBidWlsZE1vZHVsZVVybChcbiAgICAgICAgXCJXaWRnZXRzL0ltYWdlcy9UZXJyYWluUHJvdmlkZXJzL0Nlc2l1bVdvcmxkVGVycmFpbi5wbmdcIlxuICAgICAgKSxcbiAgICAgIHRvb2x0aXA6XG4gICAgICAgIFwiSGlnaC1yZXNvbHV0aW9uIGdsb2JhbCB0ZXJyYWluIHRpbGVzZXQgY3VyYXRlZCBmcm9tIHNldmVyYWwgZGF0YXNvdXJjZXMgYW5kIGhvc3RlZCBieSBDZXNpdW0gaW9uXCIsXG4gICAgICBjYXRlZ29yeTogXCJDZXNpdW0gaW9uXCIsXG4gICAgICBjcmVhdGlvbkZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVXb3JsZFRlcnJhaW4oe1xuICAgICAgICAgIHJlcXVlc3RXYXRlck1hc2s6IHRydWUsXG4gICAgICAgICAgcmVxdWVzdFZlcnRleE5vcm1hbHM6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KVxuICApO1xuXG4gIHJldHVybiBwcm92aWRlclZpZXdNb2RlbHM7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEZWZhdWx0VGVycmFpblByb3ZpZGVyVmlld01vZGVscztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46936\n')},56778:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86511);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(53454);\n/* harmony import */ var _getElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(43412);\n/* harmony import */ var _InspectorShared_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99546);\n/* harmony import */ var _Cesium3DTilesInspectorViewModel_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(88688);\n\n\n\n\n\n\n\n\n\n/**\n * Inspector widget to aid in debugging 3D Tiles\n *\n * @alias Cesium3DTilesInspector\n * @constructor\n *\n * @param {Element|String} container The DOM element or ID that will contain the widget.\n * @param {Scene} scene the Scene instance to use.\n */\nfunction Cesium3DTilesInspector(container, scene) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].defined */ .Z.defined("container", container);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("scene", scene);\n  //>>includeEnd(\'debug\');\n\n  container = (0,_getElement_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(container);\n  var element = document.createElement("div");\n  var performanceContainer = document.createElement("div");\n  performanceContainer.setAttribute("data-bind", "visible: performance");\n  var viewModel = new _Cesium3DTilesInspectorViewModel_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(\n    scene,\n    performanceContainer\n  );\n\n  this._viewModel = viewModel;\n  this._container = container;\n  this._element = element;\n\n  var text = document.createElement("div");\n  text.textContent = "3D Tiles Inspector";\n  text.className = "cesium-cesiumInspector-button";\n  text.setAttribute("data-bind", "click: toggleInspector");\n  element.appendChild(text);\n  element.className = "cesium-cesiumInspector cesium-3DTilesInspector";\n  element.setAttribute(\n    "data-bind",\n    \'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}\'\n  );\n  container.appendChild(element);\n\n  var panel = document.createElement("div");\n  this._panel = panel;\n  panel.className = "cesium-cesiumInspector-dropDown";\n  element.appendChild(panel);\n\n  var createSection = _InspectorShared_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].createSection */ .Z.createSection;\n  var createCheckbox = _InspectorShared_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].createCheckbox */ .Z.createCheckbox;\n\n  var tilesetPanelContents = createSection(\n    panel,\n    "Tileset",\n    "tilesetVisible",\n    "toggleTileset"\n  );\n  var displayPanelContents = createSection(\n    panel,\n    "Display",\n    "displayVisible",\n    "toggleDisplay"\n  );\n  var updatePanelContents = createSection(\n    panel,\n    "Update",\n    "updateVisible",\n    "toggleUpdate"\n  );\n  var loggingPanelContents = createSection(\n    panel,\n    "Logging",\n    "loggingVisible",\n    "toggleLogging"\n  );\n  var tileDebugLabelsPanelContents = createSection(\n    panel,\n    "Tile Debug Labels",\n    "tileDebugLabelsVisible",\n    "toggleTileDebugLabels"\n  );\n  var stylePanelContents = createSection(\n    panel,\n    "Style",\n    "styleVisible",\n    "toggleStyle"\n  );\n  var optimizationPanelContents = createSection(\n    panel,\n    "Optimization",\n    "optimizationVisible",\n    "toggleOptimization"\n  );\n\n  var properties = document.createElement("div");\n  properties.className = "field-group";\n  var propertiesLabel = document.createElement("label");\n  propertiesLabel.className = "field-label";\n  propertiesLabel.appendChild(document.createTextNode("Properties: "));\n  var propertiesField = document.createElement("div");\n  propertiesField.setAttribute("data-bind", "text: properties");\n  properties.appendChild(propertiesLabel);\n  properties.appendChild(propertiesField);\n  tilesetPanelContents.appendChild(properties);\n  tilesetPanelContents.appendChild(\n    makeButton("togglePickTileset", "Pick Tileset", "pickActive")\n  );\n  tilesetPanelContents.appendChild(\n    makeButton("trimTilesCache", "Trim Tiles Cache")\n  );\n  tilesetPanelContents.appendChild(createCheckbox("Enable Picking", "picking"));\n\n  displayPanelContents.appendChild(createCheckbox("Colorize", "colorize"));\n  displayPanelContents.appendChild(createCheckbox("Wireframe", "wireframe"));\n  displayPanelContents.appendChild(\n    createCheckbox("Bounding Volumes", "showBoundingVolumes")\n  );\n  displayPanelContents.appendChild(\n    createCheckbox("Content Volumes", "showContentBoundingVolumes")\n  );\n  displayPanelContents.appendChild(\n    createCheckbox("Request Volumes", "showRequestVolumes")\n  );\n\n  displayPanelContents.appendChild(\n    createCheckbox("Point Cloud Shading", "pointCloudShading")\n  );\n  var pointCloudShadingContainer = document.createElement("div");\n  pointCloudShadingContainer.setAttribute(\n    "data-bind",\n    "visible: pointCloudShading"\n  );\n  pointCloudShadingContainer.appendChild(\n    makeRangeInput("geometricErrorScale", 0, 2, 0.01, "Geometric Error Scale")\n  );\n  pointCloudShadingContainer.appendChild(\n    makeRangeInput("maximumAttenuation", 0, 32, 1, "Maximum Attenuation")\n  );\n  pointCloudShadingContainer.appendChild(\n    makeRangeInput("baseResolution", 0, 1, 0.01, "Base Resolution")\n  );\n  pointCloudShadingContainer.appendChild(\n    createCheckbox("Eye Dome Lighting (EDL)", "eyeDomeLighting")\n  );\n  displayPanelContents.appendChild(pointCloudShadingContainer);\n\n  var edlContainer = document.createElement("div");\n  edlContainer.setAttribute("data-bind", "visible: eyeDomeLighting");\n  edlContainer.appendChild(\n    makeRangeInput("eyeDomeLightingStrength", 0, 2.0, 0.1, "EDL Strength")\n  );\n  edlContainer.appendChild(\n    makeRangeInput("eyeDomeLightingRadius", 0, 4.0, 0.1, "EDL Radius")\n  );\n  pointCloudShadingContainer.appendChild(edlContainer);\n\n  updatePanelContents.appendChild(\n    createCheckbox("Freeze Frame", "freezeFrame")\n  );\n  updatePanelContents.appendChild(\n    createCheckbox("Dynamic Screen Space Error", "dynamicScreenSpaceError")\n  );\n  var sseContainer = document.createElement("div");\n  sseContainer.appendChild(\n    makeRangeInput(\n      "maximumScreenSpaceError",\n      0,\n      128,\n      1,\n      "Maximum Screen Space Error"\n    )\n  );\n  updatePanelContents.appendChild(sseContainer);\n  var dynamicScreenSpaceErrorContainer = document.createElement("div");\n  dynamicScreenSpaceErrorContainer.setAttribute(\n    "data-bind",\n    "visible: dynamicScreenSpaceError"\n  );\n  dynamicScreenSpaceErrorContainer.appendChild(\n    makeRangeInput(\n      "dynamicScreenSpaceErrorDensitySliderValue",\n      0,\n      1,\n      0.005,\n      "Screen Space Error Density",\n      "dynamicScreenSpaceErrorDensity"\n    )\n  );\n  dynamicScreenSpaceErrorContainer.appendChild(\n    makeRangeInput(\n      "dynamicScreenSpaceErrorFactor",\n      1,\n      10,\n      0.1,\n      "Screen Space Error Factor"\n    )\n  );\n  updatePanelContents.appendChild(dynamicScreenSpaceErrorContainer);\n\n  loggingPanelContents.appendChild(\n    createCheckbox("Performance", "performance")\n  );\n  loggingPanelContents.appendChild(performanceContainer);\n  loggingPanelContents.appendChild(\n    createCheckbox("Statistics", "showStatistics")\n  );\n  var statistics = document.createElement("div");\n  statistics.className = "cesium-3dTilesInspector-statistics";\n  statistics.setAttribute(\n    "data-bind",\n    "html: statisticsText, visible: showStatistics"\n  );\n  loggingPanelContents.appendChild(statistics);\n  loggingPanelContents.appendChild(\n    createCheckbox("Pick Statistics", "showPickStatistics")\n  );\n  var pickStatistics = document.createElement("div");\n  pickStatistics.className = "cesium-3dTilesInspector-statistics";\n  pickStatistics.setAttribute(\n    "data-bind",\n    "html: pickStatisticsText, visible: showPickStatistics"\n  );\n  loggingPanelContents.appendChild(pickStatistics);\n\n  var stylePanelEditor = document.createElement("div");\n  stylePanelContents.appendChild(stylePanelEditor);\n  stylePanelEditor.appendChild(document.createTextNode("Color Blend Mode: "));\n  var blendDropdown = document.createElement("select");\n  blendDropdown.setAttribute(\n    "data-bind",\n    "options: colorBlendModes, " +\n      \'optionsText: "text", \' +\n      \'optionsValue: "value", \' +\n      "value: colorBlendMode"\n  );\n  stylePanelEditor.appendChild(blendDropdown);\n  var styleEditor = document.createElement("textarea");\n  styleEditor.setAttribute(\n    "data-bind",\n    "textInput: styleString, event: { keydown: styleEditorKeyPress }"\n  );\n  stylePanelEditor.className = "cesium-cesiumInspector-styleEditor";\n  stylePanelEditor.appendChild(styleEditor);\n  var closeStylesBtn = makeButton("compileStyle", "Compile (Ctrl+Enter)");\n  stylePanelEditor.appendChild(closeStylesBtn);\n  var errorBox = document.createElement("div");\n  errorBox.className = "cesium-cesiumInspector-error";\n  errorBox.setAttribute("data-bind", "text: editorError");\n  stylePanelEditor.appendChild(errorBox);\n\n  tileDebugLabelsPanelContents.appendChild(\n    createCheckbox("Show Picked Only", "showOnlyPickedTileDebugLabel")\n  );\n  tileDebugLabelsPanelContents.appendChild(\n    createCheckbox("Geometric Error", "showGeometricError")\n  );\n  tileDebugLabelsPanelContents.appendChild(\n    createCheckbox("Rendering Statistics", "showRenderingStatistics")\n  );\n  tileDebugLabelsPanelContents.appendChild(\n    createCheckbox("Memory Usage (MB)", "showMemoryUsage")\n  );\n  tileDebugLabelsPanelContents.appendChild(createCheckbox("Url", "showUrl"));\n\n  optimizationPanelContents.appendChild(\n    createCheckbox("Skip Tile LODs", "skipLevelOfDetail")\n  );\n  var skipScreenSpaceErrorFactorContainer = document.createElement("div");\n  skipScreenSpaceErrorFactorContainer.appendChild(\n    makeRangeInput("skipScreenSpaceErrorFactor", 1, 50, 1, "Skip SSE Factor")\n  );\n  optimizationPanelContents.appendChild(skipScreenSpaceErrorFactorContainer);\n  var baseScreenSpaceError = document.createElement("div");\n  baseScreenSpaceError.appendChild(\n    makeRangeInput(\n      "baseScreenSpaceError",\n      0,\n      4096,\n      1,\n      "SSE before skipping LOD"\n    )\n  );\n  optimizationPanelContents.appendChild(baseScreenSpaceError);\n  var skipLevelsContainer = document.createElement("div");\n  skipLevelsContainer.appendChild(\n    makeRangeInput("skipLevels", 0, 10, 1, "Min. levels to skip")\n  );\n  optimizationPanelContents.appendChild(skipLevelsContainer);\n  optimizationPanelContents.appendChild(\n    createCheckbox(\n      "Load only tiles that meet the max SSE.",\n      "immediatelyLoadDesiredLevelOfDetail"\n    )\n  );\n  optimizationPanelContents.appendChild(\n    createCheckbox("Load siblings of visible tiles", "loadSiblings")\n  );\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].applyBindings */ .Z.applyBindings(viewModel, element);\n}\n\nObject.defineProperties(Cesium3DTilesInspector.prototype, {\n  /**\n   * Gets the parent container.\n   * @memberof Cesium3DTilesInspector.prototype\n   *\n   * @type {Element}\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   * @memberof Cesium3DTilesInspector.prototype\n   *\n   * @type {Cesium3DTilesInspectorViewModel}\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nCesium3DTilesInspector.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nCesium3DTilesInspector.prototype.destroy = function () {\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].cleanNode */ .Z.cleanNode(this._element);\n  this._container.removeChild(this._element);\n  this.viewModel.destroy();\n\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this);\n};\n\nfunction makeRangeInput(property, min, max, step, text, displayProperty) {\n  displayProperty = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(displayProperty, property);\n  var input = document.createElement("input");\n  input.setAttribute("data-bind", "value: " + displayProperty);\n  input.type = "number";\n\n  var slider = document.createElement("input");\n  slider.type = "range";\n  slider.min = min;\n  slider.max = max;\n  slider.step = step;\n  slider.setAttribute("data-bind", \'valueUpdate: "input", value: \' + property);\n\n  var wrapper = document.createElement("div");\n  wrapper.appendChild(slider);\n\n  var container = document.createElement("div");\n  container.className = "cesium-cesiumInspector-slider";\n  container.appendChild(document.createTextNode(text));\n  container.appendChild(input);\n  container.appendChild(wrapper);\n\n  return container;\n}\n\nfunction makeButton(action, text, active) {\n  var button = document.createElement("button");\n  button.type = "button";\n  button.textContent = text;\n  button.className = "cesium-cesiumInspector-pickButton";\n  var binding = "click: " + action;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(active)) {\n    binding +=\n      \', css: {"cesium-cesiumInspector-pickButtonHighlight" : \' + active + "}";\n  }\n  button.setAttribute("data-bind", binding);\n\n  return button;\n}\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (Cesium3DTilesInspector)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY3NzguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0M7QUFDYztBQUNWO0FBQ1k7QUFDSjtBQUNWO0FBQ1U7QUFDK0I7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxFQUFFLCtFQUFhO0FBQ2YsRUFBRSwyRkFBbUI7QUFDckI7O0FBRUEsY0FBYyxtRUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0ZBQStCO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUdBQXlHO0FBQ3JIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGdHQUE2QjtBQUNuRCx1QkFBdUIsa0dBQThCOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOEJBQThCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxvR0FBc0I7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDRGQUFrQjtBQUNwQjtBQUNBOztBQUVBLFNBQVMsMkVBQWE7QUFDdEI7O0FBRUE7QUFDQSxvQkFBb0IsMEVBQVk7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFFQUFPO0FBQ2I7QUFDQSxlQUFlLDhEQUE4RDtBQUM3RTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzRUFBZSxzRUFBc0IsSUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9XaWRnZXRzL0Nlc2l1bTNEVGlsZXNJbnNwZWN0b3IvQ2VzaXVtM0RUaWxlc0luc3BlY3Rvci5qcz8wZWI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGVjayBmcm9tIFwiLi4vLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi8uLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi8uLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBrbm9ja291dCBmcm9tIFwiLi4vLi4vVGhpcmRQYXJ0eS9rbm9ja291dC5qc1wiO1xuaW1wb3J0IGdldEVsZW1lbnQgZnJvbSBcIi4uL2dldEVsZW1lbnQuanNcIjtcbmltcG9ydCBJbnNwZWN0b3JTaGFyZWQgZnJvbSBcIi4uL0luc3BlY3RvclNoYXJlZC5qc1wiO1xuaW1wb3J0IENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwgZnJvbSBcIi4vQ2VzaXVtM0RUaWxlc0luc3BlY3RvclZpZXdNb2RlbC5qc1wiO1xuXG4vKipcbiAqIEluc3BlY3RvciB3aWRnZXQgdG8gYWlkIGluIGRlYnVnZ2luZyAzRCBUaWxlc1xuICpcbiAqIEBhbGlhcyBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBjb250YWluZXIgVGhlIERPTSBlbGVtZW50IG9yIElEIHRoYXQgd2lsbCBjb250YWluIHRoZSB3aWRnZXQuXG4gKiBAcGFyYW0ge1NjZW5lfSBzY2VuZSB0aGUgU2NlbmUgaW5zdGFuY2UgdG8gdXNlLlxuICovXG5mdW5jdGlvbiBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yKGNvbnRhaW5lciwgc2NlbmUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcImNvbnRhaW5lclwiLCBjb250YWluZXIpO1xuICBDaGVjay50eXBlT2Yub2JqZWN0KFwic2NlbmVcIiwgc2NlbmUpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBjb250YWluZXIgPSBnZXRFbGVtZW50KGNvbnRhaW5lcik7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdmFyIHBlcmZvcm1hbmNlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcGVyZm9ybWFuY2VDb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwidmlzaWJsZTogcGVyZm9ybWFuY2VcIik7XG4gIHZhciB2aWV3TW9kZWwgPSBuZXcgQ2VzaXVtM0RUaWxlc0luc3BlY3RvclZpZXdNb2RlbChcbiAgICBzY2VuZSxcbiAgICBwZXJmb3JtYW5jZUNvbnRhaW5lclxuICApO1xuXG4gIHRoaXMuX3ZpZXdNb2RlbCA9IHZpZXdNb2RlbDtcbiAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcblxuICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRleHQudGV4dENvbnRlbnQgPSBcIjNEIFRpbGVzIEluc3BlY3RvclwiO1xuICB0ZXh0LmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1idXR0b25cIjtcbiAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJjbGljazogdG9nZ2xlSW5zcGVjdG9yXCIpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHRleHQpO1xuICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3RvciBjZXNpdW0tM0RUaWxlc0luc3BlY3RvclwiO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICBcImRhdGEtYmluZFwiLFxuICAgICdjc3M6IHsgXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXZpc2libGVcIiA6IGluc3BlY3RvclZpc2libGUsIFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1oaWRkZW5cIiA6ICFpbnNwZWN0b3JWaXNpYmxlfSdcbiAgKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXG4gIHZhciBwYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRoaXMuX3BhbmVsID0gcGFuZWw7XG4gIHBhbmVsLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1kcm9wRG93blwiO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHBhbmVsKTtcblxuICB2YXIgY3JlYXRlU2VjdGlvbiA9IEluc3BlY3RvclNoYXJlZC5jcmVhdGVTZWN0aW9uO1xuICB2YXIgY3JlYXRlQ2hlY2tib3ggPSBJbnNwZWN0b3JTaGFyZWQuY3JlYXRlQ2hlY2tib3g7XG5cbiAgdmFyIHRpbGVzZXRQYW5lbENvbnRlbnRzID0gY3JlYXRlU2VjdGlvbihcbiAgICBwYW5lbCxcbiAgICBcIlRpbGVzZXRcIixcbiAgICBcInRpbGVzZXRWaXNpYmxlXCIsXG4gICAgXCJ0b2dnbGVUaWxlc2V0XCJcbiAgKTtcbiAgdmFyIGRpc3BsYXlQYW5lbENvbnRlbnRzID0gY3JlYXRlU2VjdGlvbihcbiAgICBwYW5lbCxcbiAgICBcIkRpc3BsYXlcIixcbiAgICBcImRpc3BsYXlWaXNpYmxlXCIsXG4gICAgXCJ0b2dnbGVEaXNwbGF5XCJcbiAgKTtcbiAgdmFyIHVwZGF0ZVBhbmVsQ29udGVudHMgPSBjcmVhdGVTZWN0aW9uKFxuICAgIHBhbmVsLFxuICAgIFwiVXBkYXRlXCIsXG4gICAgXCJ1cGRhdGVWaXNpYmxlXCIsXG4gICAgXCJ0b2dnbGVVcGRhdGVcIlxuICApO1xuICB2YXIgbG9nZ2luZ1BhbmVsQ29udGVudHMgPSBjcmVhdGVTZWN0aW9uKFxuICAgIHBhbmVsLFxuICAgIFwiTG9nZ2luZ1wiLFxuICAgIFwibG9nZ2luZ1Zpc2libGVcIixcbiAgICBcInRvZ2dsZUxvZ2dpbmdcIlxuICApO1xuICB2YXIgdGlsZURlYnVnTGFiZWxzUGFuZWxDb250ZW50cyA9IGNyZWF0ZVNlY3Rpb24oXG4gICAgcGFuZWwsXG4gICAgXCJUaWxlIERlYnVnIExhYmVsc1wiLFxuICAgIFwidGlsZURlYnVnTGFiZWxzVmlzaWJsZVwiLFxuICAgIFwidG9nZ2xlVGlsZURlYnVnTGFiZWxzXCJcbiAgKTtcbiAgdmFyIHN0eWxlUGFuZWxDb250ZW50cyA9IGNyZWF0ZVNlY3Rpb24oXG4gICAgcGFuZWwsXG4gICAgXCJTdHlsZVwiLFxuICAgIFwic3R5bGVWaXNpYmxlXCIsXG4gICAgXCJ0b2dnbGVTdHlsZVwiXG4gICk7XG4gIHZhciBvcHRpbWl6YXRpb25QYW5lbENvbnRlbnRzID0gY3JlYXRlU2VjdGlvbihcbiAgICBwYW5lbCxcbiAgICBcIk9wdGltaXphdGlvblwiLFxuICAgIFwib3B0aW1pemF0aW9uVmlzaWJsZVwiLFxuICAgIFwidG9nZ2xlT3B0aW1pemF0aW9uXCJcbiAgKTtcblxuICB2YXIgcHJvcGVydGllcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHByb3BlcnRpZXMuY2xhc3NOYW1lID0gXCJmaWVsZC1ncm91cFwiO1xuICB2YXIgcHJvcGVydGllc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICBwcm9wZXJ0aWVzTGFiZWwuY2xhc3NOYW1lID0gXCJmaWVsZC1sYWJlbFwiO1xuICBwcm9wZXJ0aWVzTGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJQcm9wZXJ0aWVzOiBcIikpO1xuICB2YXIgcHJvcGVydGllc0ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcHJvcGVydGllc0ZpZWxkLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcInRleHQ6IHByb3BlcnRpZXNcIik7XG4gIHByb3BlcnRpZXMuYXBwZW5kQ2hpbGQocHJvcGVydGllc0xhYmVsKTtcbiAgcHJvcGVydGllcy5hcHBlbmRDaGlsZChwcm9wZXJ0aWVzRmllbGQpO1xuICB0aWxlc2V0UGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChwcm9wZXJ0aWVzKTtcbiAgdGlsZXNldFBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgbWFrZUJ1dHRvbihcInRvZ2dsZVBpY2tUaWxlc2V0XCIsIFwiUGljayBUaWxlc2V0XCIsIFwicGlja0FjdGl2ZVwiKVxuICApO1xuICB0aWxlc2V0UGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChcbiAgICBtYWtlQnV0dG9uKFwidHJpbVRpbGVzQ2FjaGVcIiwgXCJUcmltIFRpbGVzIENhY2hlXCIpXG4gICk7XG4gIHRpbGVzZXRQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKGNyZWF0ZUNoZWNrYm94KFwiRW5hYmxlIFBpY2tpbmdcIiwgXCJwaWNraW5nXCIpKTtcblxuICBkaXNwbGF5UGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChjcmVhdGVDaGVja2JveChcIkNvbG9yaXplXCIsIFwiY29sb3JpemVcIikpO1xuICBkaXNwbGF5UGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChjcmVhdGVDaGVja2JveChcIldpcmVmcmFtZVwiLCBcIndpcmVmcmFtZVwiKSk7XG4gIGRpc3BsYXlQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKFxuICAgIGNyZWF0ZUNoZWNrYm94KFwiQm91bmRpbmcgVm9sdW1lc1wiLCBcInNob3dCb3VuZGluZ1ZvbHVtZXNcIilcbiAgKTtcbiAgZGlzcGxheVBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJDb250ZW50IFZvbHVtZXNcIiwgXCJzaG93Q29udGVudEJvdW5kaW5nVm9sdW1lc1wiKVxuICApO1xuICBkaXNwbGF5UGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcIlJlcXVlc3QgVm9sdW1lc1wiLCBcInNob3dSZXF1ZXN0Vm9sdW1lc1wiKVxuICApO1xuXG4gIGRpc3BsYXlQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKFxuICAgIGNyZWF0ZUNoZWNrYm94KFwiUG9pbnQgQ2xvdWQgU2hhZGluZ1wiLCBcInBvaW50Q2xvdWRTaGFkaW5nXCIpXG4gICk7XG4gIHZhciBwb2ludENsb3VkU2hhZGluZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHBvaW50Q2xvdWRTaGFkaW5nQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICBcImRhdGEtYmluZFwiLFxuICAgIFwidmlzaWJsZTogcG9pbnRDbG91ZFNoYWRpbmdcIlxuICApO1xuICBwb2ludENsb3VkU2hhZGluZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICBtYWtlUmFuZ2VJbnB1dChcImdlb21ldHJpY0Vycm9yU2NhbGVcIiwgMCwgMiwgMC4wMSwgXCJHZW9tZXRyaWMgRXJyb3IgU2NhbGVcIilcbiAgKTtcbiAgcG9pbnRDbG91ZFNoYWRpbmdDb250YWluZXIuYXBwZW5kQ2hpbGQoXG4gICAgbWFrZVJhbmdlSW5wdXQoXCJtYXhpbXVtQXR0ZW51YXRpb25cIiwgMCwgMzIsIDEsIFwiTWF4aW11bSBBdHRlbnVhdGlvblwiKVxuICApO1xuICBwb2ludENsb3VkU2hhZGluZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICBtYWtlUmFuZ2VJbnB1dChcImJhc2VSZXNvbHV0aW9uXCIsIDAsIDEsIDAuMDEsIFwiQmFzZSBSZXNvbHV0aW9uXCIpXG4gICk7XG4gIHBvaW50Q2xvdWRTaGFkaW5nQ29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgIGNyZWF0ZUNoZWNrYm94KFwiRXllIERvbWUgTGlnaHRpbmcgKEVETClcIiwgXCJleWVEb21lTGlnaHRpbmdcIilcbiAgKTtcbiAgZGlzcGxheVBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQocG9pbnRDbG91ZFNoYWRpbmdDb250YWluZXIpO1xuXG4gIHZhciBlZGxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBlZGxDb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwidmlzaWJsZTogZXllRG9tZUxpZ2h0aW5nXCIpO1xuICBlZGxDb250YWluZXIuYXBwZW5kQ2hpbGQoXG4gICAgbWFrZVJhbmdlSW5wdXQoXCJleWVEb21lTGlnaHRpbmdTdHJlbmd0aFwiLCAwLCAyLjAsIDAuMSwgXCJFREwgU3RyZW5ndGhcIilcbiAgKTtcbiAgZWRsQ29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgIG1ha2VSYW5nZUlucHV0KFwiZXllRG9tZUxpZ2h0aW5nUmFkaXVzXCIsIDAsIDQuMCwgMC4xLCBcIkVETCBSYWRpdXNcIilcbiAgKTtcbiAgcG9pbnRDbG91ZFNoYWRpbmdDb250YWluZXIuYXBwZW5kQ2hpbGQoZWRsQ29udGFpbmVyKTtcblxuICB1cGRhdGVQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKFxuICAgIGNyZWF0ZUNoZWNrYm94KFwiRnJlZXplIEZyYW1lXCIsIFwiZnJlZXplRnJhbWVcIilcbiAgKTtcbiAgdXBkYXRlUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcIkR5bmFtaWMgU2NyZWVuIFNwYWNlIEVycm9yXCIsIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JcIilcbiAgKTtcbiAgdmFyIHNzZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHNzZUNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICBtYWtlUmFuZ2VJbnB1dChcbiAgICAgIFwibWF4aW11bVNjcmVlblNwYWNlRXJyb3JcIixcbiAgICAgIDAsXG4gICAgICAxMjgsXG4gICAgICAxLFxuICAgICAgXCJNYXhpbXVtIFNjcmVlbiBTcGFjZSBFcnJvclwiXG4gICAgKVxuICApO1xuICB1cGRhdGVQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKHNzZUNvbnRhaW5lcik7XG4gIHZhciBkeW5hbWljU2NyZWVuU3BhY2VFcnJvckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICBcImRhdGEtYmluZFwiLFxuICAgIFwidmlzaWJsZTogZHluYW1pY1NjcmVlblNwYWNlRXJyb3JcIlxuICApO1xuICBkeW5hbWljU2NyZWVuU3BhY2VFcnJvckNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICBtYWtlUmFuZ2VJbnB1dChcbiAgICAgIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JEZW5zaXR5U2xpZGVyVmFsdWVcIixcbiAgICAgIDAsXG4gICAgICAxLFxuICAgICAgMC4wMDUsXG4gICAgICBcIlNjcmVlbiBTcGFjZSBFcnJvciBEZW5zaXR5XCIsXG4gICAgICBcImR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRGVuc2l0eVwiXG4gICAgKVxuICApO1xuICBkeW5hbWljU2NyZWVuU3BhY2VFcnJvckNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICBtYWtlUmFuZ2VJbnB1dChcbiAgICAgIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JGYWN0b3JcIixcbiAgICAgIDEsXG4gICAgICAxMCxcbiAgICAgIDAuMSxcbiAgICAgIFwiU2NyZWVuIFNwYWNlIEVycm9yIEZhY3RvclwiXG4gICAgKVxuICApO1xuICB1cGRhdGVQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yQ29udGFpbmVyKTtcblxuICBsb2dnaW5nUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcIlBlcmZvcm1hbmNlXCIsIFwicGVyZm9ybWFuY2VcIilcbiAgKTtcbiAgbG9nZ2luZ1BhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQocGVyZm9ybWFuY2VDb250YWluZXIpO1xuICBsb2dnaW5nUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcIlN0YXRpc3RpY3NcIiwgXCJzaG93U3RhdGlzdGljc1wiKVxuICApO1xuICB2YXIgc3RhdGlzdGljcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHN0YXRpc3RpY3MuY2xhc3NOYW1lID0gXCJjZXNpdW0tM2RUaWxlc0luc3BlY3Rvci1zdGF0aXN0aWNzXCI7XG4gIHN0YXRpc3RpY3Muc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgXCJodG1sOiBzdGF0aXN0aWNzVGV4dCwgdmlzaWJsZTogc2hvd1N0YXRpc3RpY3NcIlxuICApO1xuICBsb2dnaW5nUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChzdGF0aXN0aWNzKTtcbiAgbG9nZ2luZ1BhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJQaWNrIFN0YXRpc3RpY3NcIiwgXCJzaG93UGlja1N0YXRpc3RpY3NcIilcbiAgKTtcbiAgdmFyIHBpY2tTdGF0aXN0aWNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcGlja1N0YXRpc3RpY3MuY2xhc3NOYW1lID0gXCJjZXNpdW0tM2RUaWxlc0luc3BlY3Rvci1zdGF0aXN0aWNzXCI7XG4gIHBpY2tTdGF0aXN0aWNzLnNldEF0dHJpYnV0ZShcbiAgICBcImRhdGEtYmluZFwiLFxuICAgIFwiaHRtbDogcGlja1N0YXRpc3RpY3NUZXh0LCB2aXNpYmxlOiBzaG93UGlja1N0YXRpc3RpY3NcIlxuICApO1xuICBsb2dnaW5nUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChwaWNrU3RhdGlzdGljcyk7XG5cbiAgdmFyIHN0eWxlUGFuZWxFZGl0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBzdHlsZVBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoc3R5bGVQYW5lbEVkaXRvcik7XG4gIHN0eWxlUGFuZWxFZGl0b3IuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJDb2xvciBCbGVuZCBNb2RlOiBcIikpO1xuICB2YXIgYmxlbmREcm9wZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gIGJsZW5kRHJvcGRvd24uc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgXCJvcHRpb25zOiBjb2xvckJsZW5kTW9kZXMsIFwiICtcbiAgICAgICdvcHRpb25zVGV4dDogXCJ0ZXh0XCIsICcgK1xuICAgICAgJ29wdGlvbnNWYWx1ZTogXCJ2YWx1ZVwiLCAnICtcbiAgICAgIFwidmFsdWU6IGNvbG9yQmxlbmRNb2RlXCJcbiAgKTtcbiAgc3R5bGVQYW5lbEVkaXRvci5hcHBlbmRDaGlsZChibGVuZERyb3Bkb3duKTtcbiAgdmFyIHN0eWxlRWRpdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICBzdHlsZUVkaXRvci5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkYXRhLWJpbmRcIixcbiAgICBcInRleHRJbnB1dDogc3R5bGVTdHJpbmcsIGV2ZW50OiB7IGtleWRvd246IHN0eWxlRWRpdG9yS2V5UHJlc3MgfVwiXG4gICk7XG4gIHN0eWxlUGFuZWxFZGl0b3IuY2xhc3NOYW1lID0gXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXN0eWxlRWRpdG9yXCI7XG4gIHN0eWxlUGFuZWxFZGl0b3IuYXBwZW5kQ2hpbGQoc3R5bGVFZGl0b3IpO1xuICB2YXIgY2xvc2VTdHlsZXNCdG4gPSBtYWtlQnV0dG9uKFwiY29tcGlsZVN0eWxlXCIsIFwiQ29tcGlsZSAoQ3RybCtFbnRlcilcIik7XG4gIHN0eWxlUGFuZWxFZGl0b3IuYXBwZW5kQ2hpbGQoY2xvc2VTdHlsZXNCdG4pO1xuICB2YXIgZXJyb3JCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBlcnJvckJveC5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItZXJyb3JcIjtcbiAgZXJyb3JCb3guc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwidGV4dDogZWRpdG9yRXJyb3JcIik7XG4gIHN0eWxlUGFuZWxFZGl0b3IuYXBwZW5kQ2hpbGQoZXJyb3JCb3gpO1xuXG4gIHRpbGVEZWJ1Z0xhYmVsc1BhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJTaG93IFBpY2tlZCBPbmx5XCIsIFwic2hvd09ubHlQaWNrZWRUaWxlRGVidWdMYWJlbFwiKVxuICApO1xuICB0aWxlRGVidWdMYWJlbHNQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKFxuICAgIGNyZWF0ZUNoZWNrYm94KFwiR2VvbWV0cmljIEVycm9yXCIsIFwic2hvd0dlb21ldHJpY0Vycm9yXCIpXG4gICk7XG4gIHRpbGVEZWJ1Z0xhYmVsc1BhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJSZW5kZXJpbmcgU3RhdGlzdGljc1wiLCBcInNob3dSZW5kZXJpbmdTdGF0aXN0aWNzXCIpXG4gICk7XG4gIHRpbGVEZWJ1Z0xhYmVsc1BhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJNZW1vcnkgVXNhZ2UgKE1CKVwiLCBcInNob3dNZW1vcnlVc2FnZVwiKVxuICApO1xuICB0aWxlRGVidWdMYWJlbHNQYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKGNyZWF0ZUNoZWNrYm94KFwiVXJsXCIsIFwic2hvd1VybFwiKSk7XG5cbiAgb3B0aW1pemF0aW9uUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcIlNraXAgVGlsZSBMT0RzXCIsIFwic2tpcExldmVsT2ZEZXRhaWxcIilcbiAgKTtcbiAgdmFyIHNraXBTY3JlZW5TcGFjZUVycm9yRmFjdG9yQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgc2tpcFNjcmVlblNwYWNlRXJyb3JGYWN0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQoXG4gICAgbWFrZVJhbmdlSW5wdXQoXCJza2lwU2NyZWVuU3BhY2VFcnJvckZhY3RvclwiLCAxLCA1MCwgMSwgXCJTa2lwIFNTRSBGYWN0b3JcIilcbiAgKTtcbiAgb3B0aW1pemF0aW9uUGFuZWxDb250ZW50cy5hcHBlbmRDaGlsZChza2lwU2NyZWVuU3BhY2VFcnJvckZhY3RvckNvbnRhaW5lcik7XG4gIHZhciBiYXNlU2NyZWVuU3BhY2VFcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJhc2VTY3JlZW5TcGFjZUVycm9yLmFwcGVuZENoaWxkKFxuICAgIG1ha2VSYW5nZUlucHV0KFxuICAgICAgXCJiYXNlU2NyZWVuU3BhY2VFcnJvclwiLFxuICAgICAgMCxcbiAgICAgIDQwOTYsXG4gICAgICAxLFxuICAgICAgXCJTU0UgYmVmb3JlIHNraXBwaW5nIExPRFwiXG4gICAgKVxuICApO1xuICBvcHRpbWl6YXRpb25QYW5lbENvbnRlbnRzLmFwcGVuZENoaWxkKGJhc2VTY3JlZW5TcGFjZUVycm9yKTtcbiAgdmFyIHNraXBMZXZlbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBza2lwTGV2ZWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgIG1ha2VSYW5nZUlucHV0KFwic2tpcExldmVsc1wiLCAwLCAxMCwgMSwgXCJNaW4uIGxldmVscyB0byBza2lwXCIpXG4gICk7XG4gIG9wdGltaXphdGlvblBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoc2tpcExldmVsc0NvbnRhaW5lcik7XG4gIG9wdGltaXphdGlvblBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXG4gICAgICBcIkxvYWQgb25seSB0aWxlcyB0aGF0IG1lZXQgdGhlIG1heCBTU0UuXCIsXG4gICAgICBcImltbWVkaWF0ZWx5TG9hZERlc2lyZWRMZXZlbE9mRGV0YWlsXCJcbiAgICApXG4gICk7XG4gIG9wdGltaXphdGlvblBhbmVsQ29udGVudHMuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJMb2FkIHNpYmxpbmdzIG9mIHZpc2libGUgdGlsZXNcIiwgXCJsb2FkU2libGluZ3NcIilcbiAgKTtcblxuICBrbm9ja291dC5hcHBseUJpbmRpbmdzKHZpZXdNb2RlbCwgZWxlbWVudCk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENlc2l1bTNEVGlsZXNJbnNwZWN0b3IucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXJlbnQgY29udGFpbmVyLlxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtM0RUaWxlc0luc3BlY3Rvci5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0VsZW1lbnR9XG4gICAqL1xuICBjb250YWluZXI6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgdmlldyBtb2RlbC5cbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3IucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsfVxuICAgKi9cbiAgdmlld01vZGVsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmlld01vZGVsO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgd2lkZ2V0LiAgU2hvdWxkIGJlIGNhbGxlZCBpZiBwZXJtYW5lbnRseVxuICogcmVtb3ZpbmcgdGhlIHdpZGdldCBmcm9tIGxheW91dC5cbiAqL1xuQ2VzaXVtM0RUaWxlc0luc3BlY3Rvci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAga25vY2tvdXQuY2xlYW5Ob2RlKHRoaXMuX2VsZW1lbnQpO1xuICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gIHRoaXMudmlld01vZGVsLmRlc3Ryb3koKTtcblxuICByZXR1cm4gZGVzdHJveU9iamVjdCh0aGlzKTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VSYW5nZUlucHV0KHByb3BlcnR5LCBtaW4sIG1heCwgc3RlcCwgdGV4dCwgZGlzcGxheVByb3BlcnR5KSB7XG4gIGRpc3BsYXlQcm9wZXJ0eSA9IGRlZmF1bHRWYWx1ZShkaXNwbGF5UHJvcGVydHksIHByb3BlcnR5KTtcbiAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJ2YWx1ZTogXCIgKyBkaXNwbGF5UHJvcGVydHkpO1xuICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcblxuICB2YXIgc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBzbGlkZXIudHlwZSA9IFwicmFuZ2VcIjtcbiAgc2xpZGVyLm1pbiA9IG1pbjtcbiAgc2xpZGVyLm1heCA9IG1heDtcbiAgc2xpZGVyLnN0ZXAgPSBzdGVwO1xuICBzbGlkZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsICd2YWx1ZVVwZGF0ZTogXCJpbnB1dFwiLCB2YWx1ZTogJyArIHByb3BlcnR5KTtcblxuICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2xpZGVyKTtcblxuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1zbGlkZXJcIjtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuXG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbmZ1bmN0aW9uIG1ha2VCdXR0b24oYWN0aW9uLCB0ZXh0LCBhY3RpdmUpIHtcbiAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ1dHRvbi50eXBlID0gXCJidXR0b25cIjtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uXCI7XG4gIHZhciBiaW5kaW5nID0gXCJjbGljazogXCIgKyBhY3Rpb247XG4gIGlmIChkZWZpbmVkKGFjdGl2ZSkpIHtcbiAgICBiaW5kaW5nICs9XG4gICAgICAnLCBjc3M6IHtcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItcGlja0J1dHRvbkhpZ2hsaWdodFwiIDogJyArIGFjdGl2ZSArIFwifVwiO1xuICB9XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgYmluZGluZyk7XG5cbiAgcmV0dXJuIGJ1dHRvbjtcbn1cbmV4cG9ydCBkZWZhdWx0IENlc2l1bTNEVGlsZXNJbnNwZWN0b3I7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56778\n')},88688:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86511);\n/* harmony import */ var _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20406);\n/* harmony import */ var _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35452);\n/* harmony import */ var _Scene_Cesium3DTileColorBlendMode_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(95401);\n/* harmony import */ var _Scene_Cesium3DTileFeature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(52381);\n/* harmony import */ var _Scene_Cesium3DTilePass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(94170);\n/* harmony import */ var _Scene_Cesium3DTileset_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(49104);\n/* harmony import */ var _Scene_Cesium3DTileStyle_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(39154);\n/* harmony import */ var _Scene_PerformanceDisplay_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(73829);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(53454);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getPickTileset(viewModel) {\n  return function (e) {\n    var pick = viewModel._scene.pick(e.position);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(pick) && pick.primitive instanceof _Scene_Cesium3DTileset_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z) {\n      viewModel.tileset = pick.primitive;\n    }\n    viewModel.pickActive = false;\n  };\n}\n\nfunction selectTilesetOnHover(viewModel, value) {\n  if (value) {\n    viewModel._eventHandler.setInputAction(function (e) {\n      var pick = viewModel._scene.pick(e.endPosition);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(pick) && pick.primitive instanceof _Scene_Cesium3DTileset_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z) {\n        viewModel.tileset = pick.primitive;\n      }\n    }, _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].MOUSE_MOVE */ .Z.MOUSE_MOVE);\n  } else {\n    viewModel._eventHandler.removeInputAction(_Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].MOUSE_MOVE */ .Z.MOUSE_MOVE);\n\n    // Restore hover-over selection to its current value\n    // eslint-disable-next-line no-self-assign\n    viewModel.picking = viewModel.picking;\n  }\n}\n\nvar stringOptions = {\n  maximumFractionDigits: 3,\n};\n\nfunction formatMemoryString(memorySizeInBytes) {\n  var memoryInMegabytes = memorySizeInBytes / 1048576;\n  if (memoryInMegabytes < 1.0) {\n    return memoryInMegabytes.toLocaleString(undefined, stringOptions);\n  }\n  return Math.round(memoryInMegabytes).toLocaleString();\n}\n\nfunction getStatistics(tileset, isPick) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tileset)) {\n    return "";\n  }\n\n  var statistics = isPick\n    ? tileset._statisticsPerPass[_Scene_Cesium3DTilePass_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].PICK */ .Z.PICK]\n    : tileset._statisticsPerPass[_Scene_Cesium3DTilePass_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].RENDER */ .Z.RENDER];\n\n  // Since the pick pass uses a smaller frustum around the pixel of interest,\n  // the statistics will be different than the normal render pass.\n  var s = \'<ul class="cesium-cesiumInspector-statistics">\';\n  s +=\n    // --- Rendering statistics\n    "<li><strong>Visited: </strong>" +\n    statistics.visited.toLocaleString() +\n    "</li>" +\n    // Number of commands returned is likely to be higher than the number of tiles selected\n    // because of tiles that create multiple commands.\n    "<li><strong>Selected: </strong>" +\n    statistics.selected.toLocaleString() +\n    "</li>" +\n    // Number of commands executed is likely to be higher because of commands overlapping\n    // multiple frustums.\n    "<li><strong>Commands: </strong>" +\n    statistics.numberOfCommands.toLocaleString() +\n    "</li>";\n  s += "</ul>";\n  if (!isPick) {\n    s += \'<ul class="cesium-cesiumInspector-statistics">\';\n    s +=\n      // --- Cache/loading statistics\n      "<li><strong>Requests: </strong>" +\n      statistics.numberOfPendingRequests.toLocaleString() +\n      "</li>" +\n      "<li><strong>Attempted: </strong>" +\n      statistics.numberOfAttemptedRequests.toLocaleString() +\n      "</li>" +\n      "<li><strong>Processing: </strong>" +\n      statistics.numberOfTilesProcessing.toLocaleString() +\n      "</li>" +\n      "<li><strong>Content Ready: </strong>" +\n      statistics.numberOfTilesWithContentReady.toLocaleString() +\n      "</li>" +\n      // Total number of tiles includes tiles without content, so "Ready" may never reach\n      // "Total."  Total also will increase when a tile with a tileset JSON content is loaded.\n      "<li><strong>Total: </strong>" +\n      statistics.numberOfTilesTotal.toLocaleString() +\n      "</li>";\n    s += "</ul>";\n    s += \'<ul class="cesium-cesiumInspector-statistics">\';\n    s +=\n      // --- Features statistics\n      "<li><strong>Features Selected: </strong>" +\n      statistics.numberOfFeaturesSelected.toLocaleString() +\n      "</li>" +\n      "<li><strong>Features Loaded: </strong>" +\n      statistics.numberOfFeaturesLoaded.toLocaleString() +\n      "</li>" +\n      "<li><strong>Points Selected: </strong>" +\n      statistics.numberOfPointsSelected.toLocaleString() +\n      "</li>" +\n      "<li><strong>Points Loaded: </strong>" +\n      statistics.numberOfPointsLoaded.toLocaleString() +\n      "</li>" +\n      "<li><strong>Triangles Selected: </strong>" +\n      statistics.numberOfTrianglesSelected.toLocaleString() +\n      "</li>";\n    s += "</ul>";\n    s += \'<ul class="cesium-cesiumInspector-statistics">\';\n    s +=\n      // --- Styling statistics\n      "<li><strong>Tiles styled: </strong>" +\n      statistics.numberOfTilesStyled.toLocaleString() +\n      "</li>" +\n      "<li><strong>Features styled: </strong>" +\n      statistics.numberOfFeaturesStyled.toLocaleString() +\n      "</li>";\n    s += "</ul>";\n    s += \'<ul class="cesium-cesiumInspector-statistics">\';\n    s +=\n      // --- Optimization statistics\n      "<li><strong>Children Union Culled: </strong>" +\n      statistics.numberOfTilesCulledWithChildrenUnion.toLocaleString() +\n      "</li>";\n    s += "</ul>";\n    s += \'<ul class="cesium-cesiumInspector-statistics">\';\n    s +=\n      // --- Memory statistics\n      "<li><strong>Geometry Memory (MB): </strong>" +\n      formatMemoryString(statistics.geometryByteLength) +\n      "</li>" +\n      "<li><strong>Texture Memory (MB): </strong>" +\n      formatMemoryString(statistics.texturesByteLength) +\n      "</li>" +\n      "<li><strong>Batch Table Memory (MB): </strong>" +\n      formatMemoryString(statistics.batchTableByteLength) +\n      "</li>";\n    s += "</ul>";\n  }\n  return s;\n}\n\nvar colorBlendModes = [\n  {\n    text: "Highlight",\n    value: _Scene_Cesium3DTileColorBlendMode_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].HIGHLIGHT */ .Z.HIGHLIGHT,\n  },\n  {\n    text: "Replace",\n    value: _Scene_Cesium3DTileColorBlendMode_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].REPLACE */ .Z.REPLACE,\n  },\n  {\n    text: "Mix",\n    value: _Scene_Cesium3DTileColorBlendMode_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].MIX */ .Z.MIX,\n  },\n];\n\nvar highlightColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(1.0, 1.0, 0.0, 0.4);\nvar scratchColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar oldColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n/**\n * The view model for {@link Cesium3DTilesInspector}.\n * @alias Cesium3DTilesInspectorViewModel\n * @constructor\n *\n * @param {Scene} scene The scene instance to use.\n * @param {HTMLElement} performanceContainer The container for the performance display\n */\nfunction Cesium3DTilesInspectorViewModel(scene, performanceContainer) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("scene", scene);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("performanceContainer", performanceContainer);\n  //>>includeEnd(\'debug\');\n\n  var that = this;\n  var canvas = scene.canvas;\n  this._eventHandler = new _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(canvas);\n  this._scene = scene;\n  this._performanceContainer = performanceContainer;\n  this._canvas = canvas;\n\n  this._performanceDisplay = new _Scene_PerformanceDisplay_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({\n    container: performanceContainer,\n  });\n\n  this._statisticsText = "";\n  this._pickStatisticsText = "";\n  this._editorError = "";\n\n  /**\n   * Gets or sets the flag to enable performance display.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.performance = false;\n\n  /**\n   * Gets or sets the flag to show statistics.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  this.showStatistics = true;\n\n  /**\n   * Gets or sets the flag to show pick statistics.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showPickStatistics = true;\n\n  /**\n   * Gets or sets the flag to show the inspector.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  this.inspectorVisible = true;\n\n  /**\n   * Gets or sets the flag to show the tileset section.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.tilesetVisible = false;\n\n  /**\n   * Gets or sets the flag to show the display section.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.displayVisible = false;\n\n  /**\n   * Gets or sets the flag to show the update section.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.updateVisible = false;\n\n  /**\n   * Gets or sets the flag to show the logging section.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.loggingVisible = false;\n\n  /**\n   * Gets or sets the flag to show the style section.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.styleVisible = false;\n\n  /**\n   * Gets or sets the flag to show the tile info section.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.tileDebugLabelsVisible = false;\n\n  /**\n   * Gets or sets the flag to show the optimization info section. This property is observable.\n   *\n   * @type {Boolean}\n   * @default false;\n   */\n  this.optimizationVisible = false;\n\n  /**\n   * Gets or sets the JSON for the tileset style.  This property is observable.\n   *\n   * @type {String}\n   * @default \'{}\'\n   */\n  this.styleString = "{}";\n\n  this._tileset = undefined;\n  this._feature = undefined;\n  this._tile = undefined;\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].track */ .Z.track(this, [\n    "performance",\n    "inspectorVisible",\n    "_statisticsText",\n    "_pickStatisticsText",\n    "_editorError",\n    "showPickStatistics",\n    "showStatistics",\n    "tilesetVisible",\n    "displayVisible",\n    "updateVisible",\n    "loggingVisible",\n    "styleVisible",\n    "optimizationVisible",\n    "tileDebugLabelsVisible",\n    "styleString",\n    "_feature",\n    "_tile",\n  ]);\n\n  this._properties = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable({});\n  /**\n   * Gets the names of the properties in the tileset.  This property is observable.\n   * @type {String[]}\n   * @readonly\n   */\n  this.properties = [];\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "properties", function () {\n    var names = [];\n    var properties = that._properties();\n    for (var prop in properties) {\n      if (properties.hasOwnProperty(prop)) {\n        names.push(prop);\n      }\n    }\n    return names;\n  });\n\n  var dynamicScreenSpaceError = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "dynamicScreenSpaceError", {\n    get: function () {\n      return dynamicScreenSpaceError();\n    },\n    set: function (value) {\n      dynamicScreenSpaceError(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.dynamicScreenSpaceError = value;\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to enable dynamic screen space error.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.dynamicScreenSpaceError = false;\n\n  var colorBlendMode = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "colorBlendMode", {\n    get: function () {\n      return colorBlendMode();\n    },\n    set: function (value) {\n      colorBlendMode(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.colorBlendMode = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the color blend mode.  This property is observable.\n   *\n   * @type {Cesium3DTileColorBlendMode}\n   * @default Cesium3DTileColorBlendMode.HIGHLIGHT\n   */\n  this.colorBlendMode = _Scene_Cesium3DTileColorBlendMode_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].HIGHLIGHT */ .Z.HIGHLIGHT;\n\n  var showOnlyPickedTileDebugLabel = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  var picking = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "picking", {\n    get: function () {\n      return picking();\n    },\n    set: function (value) {\n      picking(value);\n      if (value) {\n        that._eventHandler.setInputAction(function (e) {\n          var picked = scene.pick(e.endPosition);\n          if (picked instanceof _Scene_Cesium3DTileFeature_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z) {\n            // Picked a feature\n            that.feature = picked;\n            that.tile = picked.content.tile;\n          } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(picked) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(picked.content)) {\n            // Picked a tile\n            that.feature = undefined;\n            that.tile = picked.content.tile;\n          } else {\n            // Picked nothing\n            that.feature = undefined;\n            that.tile = undefined;\n          }\n          if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n            return;\n          }\n          if (\n            showOnlyPickedTileDebugLabel &&\n            (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(picked) &&\n            (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(picked.content)\n          ) {\n            var position;\n            if (scene.pickPositionSupported) {\n              position = scene.pickPosition(e.endPosition);\n              if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(position)) {\n                that._tileset.debugPickPosition = position;\n              }\n            }\n            that._tileset.debugPickedTile = picked.content.tile;\n          } else {\n            that._tileset.debugPickedTile = undefined;\n          }\n          that._scene.requestRender();\n        }, _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].MOUSE_MOVE */ .Z.MOUSE_MOVE);\n      } else {\n        that.feature = undefined;\n        that.tile = undefined;\n        that._eventHandler.removeInputAction(_Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].MOUSE_MOVE */ .Z.MOUSE_MOVE);\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to enable picking.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  this.picking = true;\n\n  var colorize = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "colorize", {\n    get: function () {\n      return colorize();\n    },\n    set: function (value) {\n      colorize(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugColorizeTiles = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to colorize tiles.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.colorize = false;\n\n  var wireframe = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "wireframe", {\n    get: function () {\n      return wireframe();\n    },\n    set: function (value) {\n      wireframe(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugWireframe = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to draw with wireframe.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.wireframe = false;\n\n  var showBoundingVolumes = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showBoundingVolumes", {\n    get: function () {\n      return showBoundingVolumes();\n    },\n    set: function (value) {\n      showBoundingVolumes(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowBoundingVolume = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to show bounding volumes.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showBoundingVolumes = false;\n\n  var showContentBoundingVolumes = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showContentBoundingVolumes", {\n    get: function () {\n      return showContentBoundingVolumes();\n    },\n    set: function (value) {\n      showContentBoundingVolumes(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowContentBoundingVolume = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to show content volumes.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showContentBoundingVolumes = false;\n\n  var showRequestVolumes = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showRequestVolumes", {\n    get: function () {\n      return showRequestVolumes();\n    },\n    set: function (value) {\n      showRequestVolumes(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowViewerRequestVolume = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to show request volumes.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showRequestVolumes = false;\n\n  var freezeFrame = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "freezeFrame", {\n    get: function () {\n      return freezeFrame();\n    },\n    set: function (value) {\n      freezeFrame(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugFreezeFrame = value;\n        that._scene.debugShowFrustumPlanes = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to suspend updates.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.freezeFrame = false;\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showOnlyPickedTileDebugLabel", {\n    get: function () {\n      return showOnlyPickedTileDebugLabel();\n    },\n    set: function (value) {\n      showOnlyPickedTileDebugLabel(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugPickedTileLabelOnly = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to show debug labels only for the currently picked tile.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showOnlyPickedTileDebugLabel = false;\n\n  var showGeometricError = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showGeometricError", {\n    get: function () {\n      return showGeometricError();\n    },\n    set: function (value) {\n      showGeometricError(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowGeometricError = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to show tile geometric error.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showGeometricError = false;\n\n  var showRenderingStatistics = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showRenderingStatistics", {\n    get: function () {\n      return showRenderingStatistics();\n    },\n    set: function (value) {\n      showRenderingStatistics(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowRenderingStatistics = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Displays the number of commands, points, triangles and features used per tile.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showRenderingStatistics = false;\n\n  var showMemoryUsage = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showMemoryUsage", {\n    get: function () {\n      return showMemoryUsage();\n    },\n    set: function (value) {\n      showMemoryUsage(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowMemoryUsage = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Displays the memory used per tile.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showMemoryUsage = false;\n\n  var showUrl = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "showUrl", {\n    get: function () {\n      return showUrl();\n    },\n    set: function (value) {\n      showUrl(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.debugShowUrl = value;\n        that._scene.requestRender();\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to show the tile url.  This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.showUrl = false;\n\n  var maximumScreenSpaceError = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "maximumScreenSpaceError", {\n    get: function () {\n      return maximumScreenSpaceError();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        maximumScreenSpaceError(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.maximumScreenSpaceError = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the maximum screen space error.  This property is observable.\n   *\n   * @type {Number}\n   * @default 16\n   */\n  this.maximumScreenSpaceError = 16;\n\n  var dynamicScreenSpaceErrorDensity = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "dynamicScreenSpaceErrorDensity", {\n    get: function () {\n      return dynamicScreenSpaceErrorDensity();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        dynamicScreenSpaceErrorDensity(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.dynamicScreenSpaceErrorDensity = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the dynamic screen space error density.  This property is observable.\n   *\n   * @type {Number}\n   * @default 0.00278\n   */\n  this.dynamicScreenSpaceErrorDensity = 0.00278;\n\n  /**\n   * Gets or sets the dynamic screen space error density slider value.\n   * This allows the slider to be exponential because values tend to be closer to 0 than 1.\n   * This property is observable.\n   *\n   * @type {Number}\n   * @default 0.00278\n   */\n  this.dynamicScreenSpaceErrorDensitySliderValue = undefined;\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "dynamicScreenSpaceErrorDensitySliderValue", {\n    get: function () {\n      return Math.pow(dynamicScreenSpaceErrorDensity(), 1 / 6);\n    },\n    set: function (value) {\n      dynamicScreenSpaceErrorDensity(Math.pow(value, 6));\n    },\n  });\n\n  var dynamicScreenSpaceErrorFactor = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "dynamicScreenSpaceErrorFactor", {\n    get: function () {\n      return dynamicScreenSpaceErrorFactor();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        dynamicScreenSpaceErrorFactor(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.dynamicScreenSpaceErrorFactor = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the dynamic screen space error factor.  This property is observable.\n   *\n   * @type {Number}\n   * @default 4.0\n   */\n  this.dynamicScreenSpaceErrorFactor = 4.0;\n\n  var pickTileset = getPickTileset(this);\n  var pickActive = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "pickActive", {\n    get: function () {\n      return pickActive();\n    },\n    set: function (value) {\n      pickActive(value);\n      if (value) {\n        that._eventHandler.setInputAction(\n          pickTileset,\n          _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].LEFT_CLICK */ .Z.LEFT_CLICK\n        );\n      } else {\n        that._eventHandler.removeInputAction(_Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].LEFT_CLICK */ .Z.LEFT_CLICK);\n      }\n    },\n  });\n\n  var pointCloudShading = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "pointCloudShading", {\n    get: function () {\n      return pointCloudShading();\n    },\n    set: function (value) {\n      pointCloudShading(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.pointCloudShading.attenuation = value;\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to enable point cloud shading. This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.pointCloudShading = false;\n\n  var geometricErrorScale = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "geometricErrorScale", {\n    get: function () {\n      return geometricErrorScale();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        geometricErrorScale(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.pointCloudShading.geometricErrorScale = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the geometric error scale.  This property is observable.\n   *\n   * @type {Number}\n   * @default 1.0\n   */\n  this.geometricErrorScale = 1.0;\n\n  var maximumAttenuation = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "maximumAttenuation", {\n    get: function () {\n      return maximumAttenuation();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        maximumAttenuation(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.pointCloudShading.maximumAttenuation =\n            value === 0 ? undefined : value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the maximum attenuation.  This property is observable.\n   *\n   * @type {Number}\n   * @default 0\n   */\n  this.maximumAttenuation = 0;\n\n  var baseResolution = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "baseResolution", {\n    get: function () {\n      return baseResolution();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        baseResolution(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.pointCloudShading.baseResolution =\n            value === 0 ? undefined : value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the base resolution.  This property is observable.\n   *\n   * @type {Number}\n   * @default 0\n   */\n  this.baseResolution = 0;\n\n  var eyeDomeLighting = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "eyeDomeLighting", {\n    get: function () {\n      return eyeDomeLighting();\n    },\n    set: function (value) {\n      eyeDomeLighting(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.pointCloudShading.eyeDomeLighting = value;\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to enable eye dome lighting. This property is observable.\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.eyeDomeLighting = false;\n\n  var eyeDomeLightingStrength = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "eyeDomeLightingStrength", {\n    get: function () {\n      return eyeDomeLightingStrength();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        eyeDomeLightingStrength(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.pointCloudShading.eyeDomeLightingStrength = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the eye dome lighting strength.  This property is observable.\n   *\n   * @type {Number}\n   * @default 1.0\n   */\n  this.eyeDomeLightingStrength = 1.0;\n\n  var eyeDomeLightingRadius = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "eyeDomeLightingRadius", {\n    get: function () {\n      return eyeDomeLightingRadius();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        eyeDomeLightingRadius(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.pointCloudShading.eyeDomeLightingRadius = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the eye dome lighting radius.  This property is observable.\n   *\n   * @type {Number}\n   * @default 1.0\n   */\n  this.eyeDomeLightingRadius = 1.0;\n\n  /**\n   * Gets or sets the pick state\n   *\n   * @type {Boolean}\n   * @default false\n   */\n  this.pickActive = false;\n\n  var skipLevelOfDetail = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "skipLevelOfDetail", {\n    get: function () {\n      return skipLevelOfDetail();\n    },\n    set: function (value) {\n      skipLevelOfDetail(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.skipLevelOfDetail = value;\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag to determine if level of detail skipping should be applied during the traversal.\n   * This property is observable.\n   * @type {Boolean}\n   * @default true\n   */\n  this.skipLevelOfDetail = true;\n\n  var skipScreenSpaceErrorFactor = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "skipScreenSpaceErrorFactor", {\n    get: function () {\n      return skipScreenSpaceErrorFactor();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        skipScreenSpaceErrorFactor(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.skipScreenSpaceErrorFactor = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the multiplier defining the minimum screen space error to skip. This property is observable.\n   * @type {Number}\n   * @default 16\n   */\n  this.skipScreenSpaceErrorFactor = 16;\n\n  var baseScreenSpaceError = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "baseScreenSpaceError", {\n    get: function () {\n      return baseScreenSpaceError();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        baseScreenSpaceError(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.baseScreenSpaceError = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the screen space error that must be reached before skipping levels of detail. This property is observable.\n   * @type {Number}\n   * @default 1024\n   */\n  this.baseScreenSpaceError = 1024;\n\n  var skipLevels = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "skipLevels", {\n    get: function () {\n      return skipLevels();\n    },\n    set: function (value) {\n      value = Number(value);\n      if (!isNaN(value)) {\n        skipLevels(value);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n          that._tileset.skipLevels = value;\n        }\n      }\n    },\n  });\n  /**\n   * Gets or sets the constant defining the minimum number of levels to skip when loading tiles. This property is observable.\n   * @type {Number}\n   * @default 1\n   */\n  this.skipLevels = 1;\n\n  var immediatelyLoadDesiredLevelOfDetail = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "immediatelyLoadDesiredLevelOfDetail", {\n    get: function () {\n      return immediatelyLoadDesiredLevelOfDetail();\n    },\n    set: function (value) {\n      immediatelyLoadDesiredLevelOfDetail(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.immediatelyLoadDesiredLevelOfDetail = value;\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag which, when true, only tiles that meet the maximum screen space error will ever be downloaded.\n   * This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.immediatelyLoadDesiredLevelOfDetail = false;\n\n  var loadSiblings = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].observable */ .Z.observable();\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].defineProperty */ .Z.defineProperty(this, "loadSiblings", {\n    get: function () {\n      return loadSiblings();\n    },\n    set: function (value) {\n      loadSiblings(value);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tileset)) {\n        that._tileset.loadSiblings = value;\n      }\n    },\n  });\n  /**\n   * Gets or sets the flag which determines whether siblings of visible tiles are always downloaded during traversal.\n   * This property is observable\n   * @type {Boolean}\n   * @default false\n   */\n  this.loadSiblings = false;\n\n  this._style = undefined;\n  this._shouldStyle = false;\n  this._definedProperties = [\n    "properties",\n    "dynamicScreenSpaceError",\n    "colorBlendMode",\n    "picking",\n    "colorize",\n    "wireframe",\n    "showBoundingVolumes",\n    "showContentBoundingVolumes",\n    "showRequestVolumes",\n    "freezeFrame",\n    "maximumScreenSpaceError",\n    "dynamicScreenSpaceErrorDensity",\n    "baseScreenSpaceError",\n    "skipScreenSpaceErrorFactor",\n    "skipLevelOfDetail",\n    "skipLevels",\n    "immediatelyLoadDesiredLevelOfDetail",\n    "loadSiblings",\n    "dynamicScreenSpaceErrorDensitySliderValue",\n    "dynamicScreenSpaceErrorFactor",\n    "pickActive",\n    "showOnlyPickedTileDebugLabel",\n    "showGeometricError",\n    "showRenderingStatistics",\n    "showMemoryUsage",\n    "showUrl",\n    "pointCloudShading",\n    "geometricErrorScale",\n    "maximumAttenuation",\n    "baseResolution",\n    "eyeDomeLighting",\n    "eyeDomeLightingStrength",\n    "eyeDomeLightingRadius",\n  ];\n  this._removePostRenderEvent = scene.postRender.addEventListener(function () {\n    that._update();\n  });\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(this._tileset)) {\n    selectTilesetOnHover(this, true);\n  }\n}\n\nObject.defineProperties(Cesium3DTilesInspectorViewModel.prototype, {\n  /**\n   * Gets the scene\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {Scene}\n   * @readonly\n   */\n  scene: {\n    get: function () {\n      return this._scene;\n    },\n  },\n  /**\n   * Gets the performance container\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {HTMLElement}\n   * @readonly\n   */\n  performanceContainer: {\n    get: function () {\n      return this._performanceContainer;\n    },\n  },\n\n  /**\n   * Gets the statistics text.  This property is observable.\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {String}\n   * @readonly\n   */\n  statisticsText: {\n    get: function () {\n      return this._statisticsText;\n    },\n  },\n  /**\n   * Gets the pick statistics text.  This property is observable.\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {String}\n   * @readonly\n   */\n  pickStatisticsText: {\n    get: function () {\n      return this._pickStatisticsText;\n    },\n  },\n\n  /**\n   * Gets the available blend modes\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {Object[]}\n   * @readonly\n   */\n  colorBlendModes: {\n    get: function () {\n      return colorBlendModes;\n    },\n  },\n\n  /**\n   * Gets the editor error message\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {String}\n   * @readonly\n   */\n  editorError: {\n    get: function () {\n      return this._editorError;\n    },\n  },\n\n  /**\n   * Gets or sets the tileset of the view model.\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {Cesium3DTileset}\n   */\n  tileset: {\n    get: function () {\n      return this._tileset;\n    },\n    set: function (tileset) {\n      this._tileset = tileset;\n      this._style = undefined;\n      this.styleString = "{}";\n      this.feature = undefined;\n      this.tile = undefined;\n\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tileset)) {\n        var that = this;\n        tileset.readyPromise.then(function (t) {\n          if (!that.isDestroyed()) {\n            that._properties(t.properties);\n          }\n        });\n\n        // update tileset with existing settings\n        var settings = [\n          "colorize",\n          "wireframe",\n          "showBoundingVolumes",\n          "showContentBoundingVolumes",\n          "showRequestVolumes",\n          "freezeFrame",\n          "showOnlyPickedTileDebugLabel",\n          "showGeometricError",\n          "showRenderingStatistics",\n          "showMemoryUsage",\n          "showUrl",\n        ];\n        var length = settings.length;\n        for (var i = 0; i < length; ++i) {\n          var setting = settings[i];\n          //eslint-disable-next-line no-self-assign\n          this[setting] = this[setting];\n        }\n\n        // update view model with existing tileset settings\n        this.maximumScreenSpaceError = tileset.maximumScreenSpaceError;\n        this.dynamicScreenSpaceError = tileset.dynamicScreenSpaceError;\n        this.dynamicScreenSpaceErrorDensity =\n          tileset.dynamicScreenSpaceErrorDensity;\n        this.dynamicScreenSpaceErrorFactor =\n          tileset.dynamicScreenSpaceErrorFactor;\n        this.colorBlendMode = tileset.colorBlendMode;\n        this.skipLevelOfDetail = tileset.skipLevelOfDetail;\n        this.skipScreenSpaceErrorFactor = tileset.skipScreenSpaceErrorFactor;\n        this.baseScreenSpaceError = tileset.baseScreenSpaceError;\n        this.skipLevels = tileset.skipLevels;\n        this.immediatelyLoadDesiredLevelOfDetail =\n          tileset.immediatelyLoadDesiredLevelOfDetail;\n        this.loadSiblings = tileset.loadSiblings;\n\n        var pointCloudShading = tileset.pointCloudShading;\n        this.pointCloudShading = pointCloudShading.attenuation;\n        this.geometricErrorScale = pointCloudShading.geometricErrorScale;\n        this.maximumAttenuation = pointCloudShading.maximumAttenuation\n          ? pointCloudShading.maximumAttenuation\n          : 0.0;\n        this.baseResolution = pointCloudShading.baseResolution\n          ? pointCloudShading.baseResolution\n          : 0.0;\n        this.eyeDomeLighting = pointCloudShading.eyeDomeLighting;\n        this.eyeDomeLightingStrength =\n          pointCloudShading.eyeDomeLightingStrength;\n        this.eyeDomeLightingRadius = pointCloudShading.eyeDomeLightingRadius;\n\n        this._scene.requestRender();\n      } else {\n        this._properties({});\n      }\n\n      this._statisticsText = getStatistics(tileset, false);\n      this._pickStatisticsText = getStatistics(tileset, true);\n      selectTilesetOnHover(this, false);\n    },\n  },\n\n  /**\n   * Gets the current feature of the view model.\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {Cesium3DTileFeature}\n   */\n  feature: {\n    get: function () {\n      return this._feature;\n    },\n    set: function (feature) {\n      if (this._feature === feature) {\n        return;\n      }\n      var currentFeature = this._feature;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(currentFeature) && !currentFeature.content.isDestroyed()) {\n        // Restore original color to feature that is no longer selected\n        if (!this.colorize && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(this._style)) {\n          currentFeature.color = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(this._style.color)\n            ? this._style.color.evaluateColor(currentFeature, scratchColor)\n            : _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].WHITE */ .Z.WHITE;\n        } else {\n          currentFeature.color = oldColor;\n        }\n        this._scene.requestRender();\n      }\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(feature)) {\n        // Highlight new feature\n        _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].clone */ .Z.clone(feature.color, oldColor);\n        feature.color = highlightColor;\n        this._scene.requestRender();\n      }\n      this._feature = feature;\n    },\n  },\n\n  /**\n   * Gets the current tile of the view model\n   * @memberof Cesium3DTilesInspectorViewModel.prototype\n   * @type {Cesium3DTile}\n   */\n  tile: {\n    get: function () {\n      return this._tile;\n    },\n    set: function (tile) {\n      if (this._tile === tile) {\n        return;\n      }\n      var currentTile = this._tile;\n\n      if (\n        (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(currentTile) &&\n        !currentTile.isDestroyed() &&\n        !hasFeatures(currentTile.content)\n      ) {\n        // Restore original color to tile that is no longer selected\n        currentTile.color = oldColor;\n        this._scene.requestRender();\n      }\n\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tile) && !hasFeatures(tile.content)) {\n        // Highlight new tile\n        _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].clone */ .Z.clone(tile.color, oldColor);\n        tile.color = highlightColor;\n        this._scene.requestRender();\n      }\n      this._tile = tile;\n    },\n  },\n});\n\nfunction hasFeatures(content) {\n  if (content.featuresLength > 0) {\n    return true;\n  }\n  var innerContents = content.innerContents;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(innerContents)) {\n    var length = innerContents.length;\n    for (var i = 0; i < length; ++i) {\n      if (!hasFeatures(innerContents[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\n/**\n * Toggles the pick tileset mode\n */\nCesium3DTilesInspectorViewModel.prototype.togglePickTileset = function () {\n  this.pickActive = !this.pickActive;\n};\n\n/**\n * Toggles the inspector visibility\n */\nCesium3DTilesInspectorViewModel.prototype.toggleInspector = function () {\n  this.inspectorVisible = !this.inspectorVisible;\n};\n\n/**\n * Toggles the visibility of the tileset section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleTileset = function () {\n  this.tilesetVisible = !this.tilesetVisible;\n};\n\n/**\n * Toggles the visibility of the display section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleDisplay = function () {\n  this.displayVisible = !this.displayVisible;\n};\n\n/**\n * Toggles the visibility of the update section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleUpdate = function () {\n  this.updateVisible = !this.updateVisible;\n};\n\n/**\n * Toggles the visibility of the logging section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleLogging = function () {\n  this.loggingVisible = !this.loggingVisible;\n};\n\n/**\n * Toggles the visibility of the style section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleStyle = function () {\n  this.styleVisible = !this.styleVisible;\n};\n\n/**\n * Toggles the visibility of the tile Debug Info section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleTileDebugLabels = function () {\n  this.tileDebugLabelsVisible = !this.tileDebugLabelsVisible;\n};\n\n/**\n * Toggles the visibility of the optimization section\n */\nCesium3DTilesInspectorViewModel.prototype.toggleOptimization = function () {\n  this.optimizationVisible = !this.optimizationVisible;\n};\n\n/**\n * Trims tile cache\n */\nCesium3DTilesInspectorViewModel.prototype.trimTilesCache = function () {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(this._tileset)) {\n    this._tileset.trimLoadedTiles();\n  }\n};\n\n/**\n * Compiles the style in the style editor.\n */\nCesium3DTilesInspectorViewModel.prototype.compileStyle = function () {\n  var tileset = this._tileset;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tileset) || this.styleString === JSON.stringify(tileset.style)) {\n    return;\n  }\n  this._editorError = "";\n  try {\n    if (this.styleString.length === 0) {\n      this.styleString = "{}";\n    }\n    this._style = new _Scene_Cesium3DTileStyle_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z(JSON.parse(this.styleString));\n    this._shouldStyle = true;\n    this._scene.requestRender();\n  } catch (err) {\n    this._editorError = err.toString();\n  }\n\n  // set feature again so pick coloring is set\n  this.feature = this._feature;\n  this.tile = this._tile;\n};\n\n/**\n * Handles key press events on the style editor.\n */\nCesium3DTilesInspectorViewModel.prototype.styleEditorKeyPress = function (\n  sender,\n  event\n) {\n  if (event.keyCode === 9) {\n    //tab\n    event.preventDefault();\n    var textArea = event.target;\n    var start = textArea.selectionStart;\n    var end = textArea.selectionEnd;\n    var newEnd = end;\n    var selected = textArea.value.slice(start, end);\n    var lines = selected.split("\\n");\n    var length = lines.length;\n    var i;\n    if (!event.shiftKey) {\n      for (i = 0; i < length; ++i) {\n        lines[i] = "  " + lines[i];\n        newEnd += 2;\n      }\n    } else {\n      for (i = 0; i < length; ++i) {\n        if (lines[i][0] === " ") {\n          if (lines[i][1] === " ") {\n            lines[i] = lines[i].substr(2);\n            newEnd -= 2;\n          } else {\n            lines[i] = lines[i].substr(1);\n            newEnd -= 1;\n          }\n        }\n      }\n    }\n    var newText = lines.join("\\n");\n    textArea.value =\n      textArea.value.slice(0, start) + newText + textArea.value.slice(end);\n    textArea.selectionStart = start !== end ? start : newEnd;\n    textArea.selectionEnd = newEnd;\n  } else if (event.ctrlKey && (event.keyCode === 10 || event.keyCode === 13)) {\n    //ctrl + enter\n    this.compileStyle();\n  }\n  return true;\n};\n\n/**\n * Updates the values of view model\n * @private\n */\nCesium3DTilesInspectorViewModel.prototype._update = function () {\n  var tileset = this._tileset;\n\n  if (this.performance) {\n    this._performanceDisplay.update();\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tileset)) {\n    if (tileset.isDestroyed()) {\n      this.tile = undefined;\n      this.feature = undefined;\n      this.tileset = undefined;\n      return;\n    }\n\n    var style = tileset.style;\n    if (this._style !== tileset.style) {\n      if (this._shouldStyle) {\n        tileset.style = this._style;\n        this._shouldStyle = false;\n      } else {\n        this._style = style;\n        this.styleString = JSON.stringify(style.style, null, "  ");\n      }\n    }\n  }\n  if (this.showStatistics) {\n    this._statisticsText = getStatistics(tileset, false);\n    this._pickStatisticsText = getStatistics(tileset, true);\n  }\n};\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nCesium3DTilesInspectorViewModel.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nCesium3DTilesInspectorViewModel.prototype.destroy = function () {\n  this._eventHandler.destroy();\n  this._removePostRenderEvent();\n\n  var that = this;\n  this._definedProperties.forEach(function (property) {\n    _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].getObservable */ .Z.getObservable(that, property).dispose();\n  });\n\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this);\n};\n\n/**\n * Generates an HTML string of the statistics\n *\n * @function\n * @param {Cesium3DTileset} tileset The tileset\n * @param {Boolean} isPick Whether this is getting the statistics for the pick pass\n * @returns {String} The formatted statistics\n */\nCesium3DTilesInspectorViewModel.getStatistics = getStatistics;\n/* harmony default export */ __webpack_exports__["Z"] = (Cesium3DTilesInspectorViewModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLHNFQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUkscUdBQXNCO0FBQzFCLEdBQUc7O0FBRUgsU0FBUywyRUFBYTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsU0FBUztBQUNwQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLHlEQUFlLCtCQUErQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1dpZGdldHMvQ2VzaXVtM0RUaWxlc0luc3BlY3Rvci9DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLmpzP2YzYWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZWNrIGZyb20gXCIuLi8uLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgQ29sb3IgZnJvbSBcIi4uLy4uL0NvcmUvQ29sb3IuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi8uLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi8uLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBTY3JlZW5TcGFjZUV2ZW50SGFuZGxlciBmcm9tIFwiLi4vLi4vQ29yZS9TY3JlZW5TcGFjZUV2ZW50SGFuZGxlci5qc1wiO1xuaW1wb3J0IFNjcmVlblNwYWNlRXZlbnRUeXBlIGZyb20gXCIuLi8uLi9Db3JlL1NjcmVlblNwYWNlRXZlbnRUeXBlLmpzXCI7XG5pbXBvcnQgQ2VzaXVtM0RUaWxlQ29sb3JCbGVuZE1vZGUgZnJvbSBcIi4uLy4uL1NjZW5lL0Nlc2l1bTNEVGlsZUNvbG9yQmxlbmRNb2RlLmpzXCI7XG5pbXBvcnQgQ2VzaXVtM0RUaWxlRmVhdHVyZSBmcm9tIFwiLi4vLi4vU2NlbmUvQ2VzaXVtM0RUaWxlRmVhdHVyZS5qc1wiO1xuaW1wb3J0IENlc2l1bTNEVGlsZVBhc3MgZnJvbSBcIi4uLy4uL1NjZW5lL0Nlc2l1bTNEVGlsZVBhc3MuanNcIjtcbmltcG9ydCBDZXNpdW0zRFRpbGVzZXQgZnJvbSBcIi4uLy4uL1NjZW5lL0Nlc2l1bTNEVGlsZXNldC5qc1wiO1xuaW1wb3J0IENlc2l1bTNEVGlsZVN0eWxlIGZyb20gXCIuLi8uLi9TY2VuZS9DZXNpdW0zRFRpbGVTdHlsZS5qc1wiO1xuaW1wb3J0IFBlcmZvcm1hbmNlRGlzcGxheSBmcm9tIFwiLi4vLi4vU2NlbmUvUGVyZm9ybWFuY2VEaXNwbGF5LmpzXCI7XG5pbXBvcnQga25vY2tvdXQgZnJvbSBcIi4uLy4uL1RoaXJkUGFydHkva25vY2tvdXQuanNcIjtcblxuZnVuY3Rpb24gZ2V0UGlja1RpbGVzZXQodmlld01vZGVsKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBwaWNrID0gdmlld01vZGVsLl9zY2VuZS5waWNrKGUucG9zaXRpb24pO1xuICAgIGlmIChkZWZpbmVkKHBpY2spICYmIHBpY2sucHJpbWl0aXZlIGluc3RhbmNlb2YgQ2VzaXVtM0RUaWxlc2V0KSB7XG4gICAgICB2aWV3TW9kZWwudGlsZXNldCA9IHBpY2sucHJpbWl0aXZlO1xuICAgIH1cbiAgICB2aWV3TW9kZWwucGlja0FjdGl2ZSA9IGZhbHNlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzZWxlY3RUaWxlc2V0T25Ib3Zlcih2aWV3TW9kZWwsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIHZpZXdNb2RlbC5fZXZlbnRIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGljayA9IHZpZXdNb2RlbC5fc2NlbmUucGljayhlLmVuZFBvc2l0aW9uKTtcbiAgICAgIGlmIChkZWZpbmVkKHBpY2spICYmIHBpY2sucHJpbWl0aXZlIGluc3RhbmNlb2YgQ2VzaXVtM0RUaWxlc2V0KSB7XG4gICAgICAgIHZpZXdNb2RlbC50aWxlc2V0ID0gcGljay5wcmltaXRpdmU7XG4gICAgICB9XG4gICAgfSwgU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG4gIH0gZWxzZSB7XG4gICAgdmlld01vZGVsLl9ldmVudEhhbmRsZXIucmVtb3ZlSW5wdXRBY3Rpb24oU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG5cbiAgICAvLyBSZXN0b3JlIGhvdmVyLW92ZXIgc2VsZWN0aW9uIHRvIGl0cyBjdXJyZW50IHZhbHVlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgdmlld01vZGVsLnBpY2tpbmcgPSB2aWV3TW9kZWwucGlja2luZztcbiAgfVxufVxuXG52YXIgc3RyaW5nT3B0aW9ucyA9IHtcbiAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAzLFxufTtcblxuZnVuY3Rpb24gZm9ybWF0TWVtb3J5U3RyaW5nKG1lbW9yeVNpemVJbkJ5dGVzKSB7XG4gIHZhciBtZW1vcnlJbk1lZ2FieXRlcyA9IG1lbW9yeVNpemVJbkJ5dGVzIC8gMTA0ODU3NjtcbiAgaWYgKG1lbW9yeUluTWVnYWJ5dGVzIDwgMS4wKSB7XG4gICAgcmV0dXJuIG1lbW9yeUluTWVnYWJ5dGVzLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgc3RyaW5nT3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIE1hdGgucm91bmQobWVtb3J5SW5NZWdhYnl0ZXMpLnRvTG9jYWxlU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0YXRpc3RpY3ModGlsZXNldCwgaXNQaWNrKSB7XG4gIGlmICghZGVmaW5lZCh0aWxlc2V0KSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgdmFyIHN0YXRpc3RpY3MgPSBpc1BpY2tcbiAgICA/IHRpbGVzZXQuX3N0YXRpc3RpY3NQZXJQYXNzW0Nlc2l1bTNEVGlsZVBhc3MuUElDS11cbiAgICA6IHRpbGVzZXQuX3N0YXRpc3RpY3NQZXJQYXNzW0Nlc2l1bTNEVGlsZVBhc3MuUkVOREVSXTtcblxuICAvLyBTaW5jZSB0aGUgcGljayBwYXNzIHVzZXMgYSBzbWFsbGVyIGZydXN0dW0gYXJvdW5kIHRoZSBwaXhlbCBvZiBpbnRlcmVzdCxcbiAgLy8gdGhlIHN0YXRpc3RpY3Mgd2lsbCBiZSBkaWZmZXJlbnQgdGhhbiB0aGUgbm9ybWFsIHJlbmRlciBwYXNzLlxuICB2YXIgcyA9ICc8dWwgY2xhc3M9XCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXN0YXRpc3RpY3NcIj4nO1xuICBzICs9XG4gICAgLy8gLS0tIFJlbmRlcmluZyBzdGF0aXN0aWNzXG4gICAgXCI8bGk+PHN0cm9uZz5WaXNpdGVkOiA8L3N0cm9uZz5cIiArXG4gICAgc3RhdGlzdGljcy52aXNpdGVkLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgIFwiPC9saT5cIiArXG4gICAgLy8gTnVtYmVyIG9mIGNvbW1hbmRzIHJldHVybmVkIGlzIGxpa2VseSB0byBiZSBoaWdoZXIgdGhhbiB0aGUgbnVtYmVyIG9mIHRpbGVzIHNlbGVjdGVkXG4gICAgLy8gYmVjYXVzZSBvZiB0aWxlcyB0aGF0IGNyZWF0ZSBtdWx0aXBsZSBjb21tYW5kcy5cbiAgICBcIjxsaT48c3Ryb25nPlNlbGVjdGVkOiA8L3N0cm9uZz5cIiArXG4gICAgc3RhdGlzdGljcy5zZWxlY3RlZC50b0xvY2FsZVN0cmluZygpICtcbiAgICBcIjwvbGk+XCIgK1xuICAgIC8vIE51bWJlciBvZiBjb21tYW5kcyBleGVjdXRlZCBpcyBsaWtlbHkgdG8gYmUgaGlnaGVyIGJlY2F1c2Ugb2YgY29tbWFuZHMgb3ZlcmxhcHBpbmdcbiAgICAvLyBtdWx0aXBsZSBmcnVzdHVtcy5cbiAgICBcIjxsaT48c3Ryb25nPkNvbW1hbmRzOiA8L3N0cm9uZz5cIiArXG4gICAgc3RhdGlzdGljcy5udW1iZXJPZkNvbW1hbmRzLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgIFwiPC9saT5cIjtcbiAgcyArPSBcIjwvdWw+XCI7XG4gIGlmICghaXNQaWNrKSB7XG4gICAgcyArPSAnPHVsIGNsYXNzPVwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1zdGF0aXN0aWNzXCI+JztcbiAgICBzICs9XG4gICAgICAvLyAtLS0gQ2FjaGUvbG9hZGluZyBzdGF0aXN0aWNzXG4gICAgICBcIjxsaT48c3Ryb25nPlJlcXVlc3RzOiA8L3N0cm9uZz5cIiArXG4gICAgICBzdGF0aXN0aWNzLm51bWJlck9mUGVuZGluZ1JlcXVlc3RzLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgICAgXCI8L2xpPlwiICtcbiAgICAgIFwiPGxpPjxzdHJvbmc+QXR0ZW1wdGVkOiA8L3N0cm9uZz5cIiArXG4gICAgICBzdGF0aXN0aWNzLm51bWJlck9mQXR0ZW1wdGVkUmVxdWVzdHMudG9Mb2NhbGVTdHJpbmcoKSArXG4gICAgICBcIjwvbGk+XCIgK1xuICAgICAgXCI8bGk+PHN0cm9uZz5Qcm9jZXNzaW5nOiA8L3N0cm9uZz5cIiArXG4gICAgICBzdGF0aXN0aWNzLm51bWJlck9mVGlsZXNQcm9jZXNzaW5nLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgICAgXCI8L2xpPlwiICtcbiAgICAgIFwiPGxpPjxzdHJvbmc+Q29udGVudCBSZWFkeTogPC9zdHJvbmc+XCIgK1xuICAgICAgc3RhdGlzdGljcy5udW1iZXJPZlRpbGVzV2l0aENvbnRlbnRSZWFkeS50b0xvY2FsZVN0cmluZygpICtcbiAgICAgIFwiPC9saT5cIiArXG4gICAgICAvLyBUb3RhbCBudW1iZXIgb2YgdGlsZXMgaW5jbHVkZXMgdGlsZXMgd2l0aG91dCBjb250ZW50LCBzbyBcIlJlYWR5XCIgbWF5IG5ldmVyIHJlYWNoXG4gICAgICAvLyBcIlRvdGFsLlwiICBUb3RhbCBhbHNvIHdpbGwgaW5jcmVhc2Ugd2hlbiBhIHRpbGUgd2l0aCBhIHRpbGVzZXQgSlNPTiBjb250ZW50IGlzIGxvYWRlZC5cbiAgICAgIFwiPGxpPjxzdHJvbmc+VG90YWw6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZUaWxlc1RvdGFsLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgICAgXCI8L2xpPlwiO1xuICAgIHMgKz0gXCI8L3VsPlwiO1xuICAgIHMgKz0gJzx1bCBjbGFzcz1cImNlc2l1bS1jZXNpdW1JbnNwZWN0b3Itc3RhdGlzdGljc1wiPic7XG4gICAgcyArPVxuICAgICAgLy8gLS0tIEZlYXR1cmVzIHN0YXRpc3RpY3NcbiAgICAgIFwiPGxpPjxzdHJvbmc+RmVhdHVyZXMgU2VsZWN0ZWQ6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZGZWF0dXJlc1NlbGVjdGVkLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgICAgXCI8L2xpPlwiICtcbiAgICAgIFwiPGxpPjxzdHJvbmc+RmVhdHVyZXMgTG9hZGVkOiA8L3N0cm9uZz5cIiArXG4gICAgICBzdGF0aXN0aWNzLm51bWJlck9mRmVhdHVyZXNMb2FkZWQudG9Mb2NhbGVTdHJpbmcoKSArXG4gICAgICBcIjwvbGk+XCIgK1xuICAgICAgXCI8bGk+PHN0cm9uZz5Qb2ludHMgU2VsZWN0ZWQ6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZQb2ludHNTZWxlY3RlZC50b0xvY2FsZVN0cmluZygpICtcbiAgICAgIFwiPC9saT5cIiArXG4gICAgICBcIjxsaT48c3Ryb25nPlBvaW50cyBMb2FkZWQ6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZQb2ludHNMb2FkZWQudG9Mb2NhbGVTdHJpbmcoKSArXG4gICAgICBcIjwvbGk+XCIgK1xuICAgICAgXCI8bGk+PHN0cm9uZz5UcmlhbmdsZXMgU2VsZWN0ZWQ6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZUcmlhbmdsZXNTZWxlY3RlZC50b0xvY2FsZVN0cmluZygpICtcbiAgICAgIFwiPC9saT5cIjtcbiAgICBzICs9IFwiPC91bD5cIjtcbiAgICBzICs9ICc8dWwgY2xhc3M9XCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXN0YXRpc3RpY3NcIj4nO1xuICAgIHMgKz1cbiAgICAgIC8vIC0tLSBTdHlsaW5nIHN0YXRpc3RpY3NcbiAgICAgIFwiPGxpPjxzdHJvbmc+VGlsZXMgc3R5bGVkOiA8L3N0cm9uZz5cIiArXG4gICAgICBzdGF0aXN0aWNzLm51bWJlck9mVGlsZXNTdHlsZWQudG9Mb2NhbGVTdHJpbmcoKSArXG4gICAgICBcIjwvbGk+XCIgK1xuICAgICAgXCI8bGk+PHN0cm9uZz5GZWF0dXJlcyBzdHlsZWQ6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZGZWF0dXJlc1N0eWxlZC50b0xvY2FsZVN0cmluZygpICtcbiAgICAgIFwiPC9saT5cIjtcbiAgICBzICs9IFwiPC91bD5cIjtcbiAgICBzICs9ICc8dWwgY2xhc3M9XCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXN0YXRpc3RpY3NcIj4nO1xuICAgIHMgKz1cbiAgICAgIC8vIC0tLSBPcHRpbWl6YXRpb24gc3RhdGlzdGljc1xuICAgICAgXCI8bGk+PHN0cm9uZz5DaGlsZHJlbiBVbmlvbiBDdWxsZWQ6IDwvc3Ryb25nPlwiICtcbiAgICAgIHN0YXRpc3RpY3MubnVtYmVyT2ZUaWxlc0N1bGxlZFdpdGhDaGlsZHJlblVuaW9uLnRvTG9jYWxlU3RyaW5nKCkgK1xuICAgICAgXCI8L2xpPlwiO1xuICAgIHMgKz0gXCI8L3VsPlwiO1xuICAgIHMgKz0gJzx1bCBjbGFzcz1cImNlc2l1bS1jZXNpdW1JbnNwZWN0b3Itc3RhdGlzdGljc1wiPic7XG4gICAgcyArPVxuICAgICAgLy8gLS0tIE1lbW9yeSBzdGF0aXN0aWNzXG4gICAgICBcIjxsaT48c3Ryb25nPkdlb21ldHJ5IE1lbW9yeSAoTUIpOiA8L3N0cm9uZz5cIiArXG4gICAgICBmb3JtYXRNZW1vcnlTdHJpbmcoc3RhdGlzdGljcy5nZW9tZXRyeUJ5dGVMZW5ndGgpICtcbiAgICAgIFwiPC9saT5cIiArXG4gICAgICBcIjxsaT48c3Ryb25nPlRleHR1cmUgTWVtb3J5IChNQik6IDwvc3Ryb25nPlwiICtcbiAgICAgIGZvcm1hdE1lbW9yeVN0cmluZyhzdGF0aXN0aWNzLnRleHR1cmVzQnl0ZUxlbmd0aCkgK1xuICAgICAgXCI8L2xpPlwiICtcbiAgICAgIFwiPGxpPjxzdHJvbmc+QmF0Y2ggVGFibGUgTWVtb3J5IChNQik6IDwvc3Ryb25nPlwiICtcbiAgICAgIGZvcm1hdE1lbW9yeVN0cmluZyhzdGF0aXN0aWNzLmJhdGNoVGFibGVCeXRlTGVuZ3RoKSArXG4gICAgICBcIjwvbGk+XCI7XG4gICAgcyArPSBcIjwvdWw+XCI7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5cbnZhciBjb2xvckJsZW5kTW9kZXMgPSBbXG4gIHtcbiAgICB0ZXh0OiBcIkhpZ2hsaWdodFwiLFxuICAgIHZhbHVlOiBDZXNpdW0zRFRpbGVDb2xvckJsZW5kTW9kZS5ISUdITElHSFQsXG4gIH0sXG4gIHtcbiAgICB0ZXh0OiBcIlJlcGxhY2VcIixcbiAgICB2YWx1ZTogQ2VzaXVtM0RUaWxlQ29sb3JCbGVuZE1vZGUuUkVQTEFDRSxcbiAgfSxcbiAge1xuICAgIHRleHQ6IFwiTWl4XCIsXG4gICAgdmFsdWU6IENlc2l1bTNEVGlsZUNvbG9yQmxlbmRNb2RlLk1JWCxcbiAgfSxcbl07XG5cbnZhciBoaWdobGlnaHRDb2xvciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMC4wLCAwLjQpO1xudmFyIHNjcmF0Y2hDb2xvciA9IG5ldyBDb2xvcigpO1xudmFyIG9sZENvbG9yID0gbmV3IENvbG9yKCk7XG5cbi8qKlxuICogVGhlIHZpZXcgbW9kZWwgZm9yIHtAbGluayBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yfS5cbiAqIEBhbGlhcyBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge1NjZW5lfSBzY2VuZSBUaGUgc2NlbmUgaW5zdGFuY2UgdG8gdXNlLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGVyZm9ybWFuY2VDb250YWluZXIgVGhlIGNvbnRhaW5lciBmb3IgdGhlIHBlcmZvcm1hbmNlIGRpc3BsYXlcbiAqL1xuZnVuY3Rpb24gQ2VzaXVtM0RUaWxlc0luc3BlY3RvclZpZXdNb2RlbChzY2VuZSwgcGVyZm9ybWFuY2VDb250YWluZXIpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcInNjZW5lXCIsIHNjZW5lKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcInBlcmZvcm1hbmNlQ29udGFpbmVyXCIsIHBlcmZvcm1hbmNlQ29udGFpbmVyKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHRoYXQgPSB0aGlzO1xuICB2YXIgY2FudmFzID0gc2NlbmUuY2FudmFzO1xuICB0aGlzLl9ldmVudEhhbmRsZXIgPSBuZXcgU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoY2FudmFzKTtcbiAgdGhpcy5fc2NlbmUgPSBzY2VuZTtcbiAgdGhpcy5fcGVyZm9ybWFuY2VDb250YWluZXIgPSBwZXJmb3JtYW5jZUNvbnRhaW5lcjtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuXG4gIHRoaXMuX3BlcmZvcm1hbmNlRGlzcGxheSA9IG5ldyBQZXJmb3JtYW5jZURpc3BsYXkoe1xuICAgIGNvbnRhaW5lcjogcGVyZm9ybWFuY2VDb250YWluZXIsXG4gIH0pO1xuXG4gIHRoaXMuX3N0YXRpc3RpY3NUZXh0ID0gXCJcIjtcbiAgdGhpcy5fcGlja1N0YXRpc3RpY3NUZXh0ID0gXCJcIjtcbiAgdGhpcy5fZWRpdG9yRXJyb3IgPSBcIlwiO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gZW5hYmxlIHBlcmZvcm1hbmNlIGRpc3BsYXkuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5wZXJmb3JtYW5jZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc2hvdyBzdGF0aXN0aWNzLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5zaG93U3RhdGlzdGljcyA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IHBpY2sgc3RhdGlzdGljcy4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnNob3dQaWNrU3RhdGlzdGljcyA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IHRoZSBpbnNwZWN0b3IuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICB0aGlzLmluc3BlY3RvclZpc2libGUgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc2hvdyB0aGUgdGlsZXNldCBzZWN0aW9uLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMudGlsZXNldFZpc2libGUgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBmbGFnIHRvIHNob3cgdGhlIGRpc3BsYXkgc2VjdGlvbi4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmRpc3BsYXlWaXNpYmxlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IHRoZSB1cGRhdGUgc2VjdGlvbi4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnVwZGF0ZVZpc2libGUgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBmbGFnIHRvIHNob3cgdGhlIGxvZ2dpbmcgc2VjdGlvbi4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmxvZ2dpbmdWaXNpYmxlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IHRoZSBzdHlsZSBzZWN0aW9uLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuc3R5bGVWaXNpYmxlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IHRoZSB0aWxlIGluZm8gc2VjdGlvbi4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnRpbGVEZWJ1Z0xhYmVsc1Zpc2libGUgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBmbGFnIHRvIHNob3cgdGhlIG9wdGltaXphdGlvbiBpbmZvIHNlY3Rpb24uIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlO1xuICAgKi9cbiAgdGhpcy5vcHRpbWl6YXRpb25WaXNpYmxlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgSlNPTiBmb3IgdGhlIHRpbGVzZXQgc3R5bGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEBkZWZhdWx0ICd7fSdcbiAgICovXG4gIHRoaXMuc3R5bGVTdHJpbmcgPSBcInt9XCI7XG5cbiAgdGhpcy5fdGlsZXNldCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZmVhdHVyZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdGlsZSA9IHVuZGVmaW5lZDtcblxuICBrbm9ja291dC50cmFjayh0aGlzLCBbXG4gICAgXCJwZXJmb3JtYW5jZVwiLFxuICAgIFwiaW5zcGVjdG9yVmlzaWJsZVwiLFxuICAgIFwiX3N0YXRpc3RpY3NUZXh0XCIsXG4gICAgXCJfcGlja1N0YXRpc3RpY3NUZXh0XCIsXG4gICAgXCJfZWRpdG9yRXJyb3JcIixcbiAgICBcInNob3dQaWNrU3RhdGlzdGljc1wiLFxuICAgIFwic2hvd1N0YXRpc3RpY3NcIixcbiAgICBcInRpbGVzZXRWaXNpYmxlXCIsXG4gICAgXCJkaXNwbGF5VmlzaWJsZVwiLFxuICAgIFwidXBkYXRlVmlzaWJsZVwiLFxuICAgIFwibG9nZ2luZ1Zpc2libGVcIixcbiAgICBcInN0eWxlVmlzaWJsZVwiLFxuICAgIFwib3B0aW1pemF0aW9uVmlzaWJsZVwiLFxuICAgIFwidGlsZURlYnVnTGFiZWxzVmlzaWJsZVwiLFxuICAgIFwic3R5bGVTdHJpbmdcIixcbiAgICBcIl9mZWF0dXJlXCIsXG4gICAgXCJfdGlsZVwiLFxuICBdKTtcblxuICB0aGlzLl9wcm9wZXJ0aWVzID0ga25vY2tvdXQub2JzZXJ2YWJsZSh7fSk7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyBpbiB0aGUgdGlsZXNldC4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge1N0cmluZ1tdfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHRoaXMucHJvcGVydGllcyA9IFtdO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb3BlcnRpZXNcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIHZhciBwcm9wZXJ0aWVzID0gdGhhdC5fcHJvcGVydGllcygpO1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydGllcykge1xuICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgbmFtZXMucHVzaChwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzO1xuICB9KTtcblxuICB2YXIgZHluYW1pY1NjcmVlblNwYWNlRXJyb3IgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgZHluYW1pY1NjcmVlblNwYWNlRXJyb3IodmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5keW5hbWljU2NyZWVuU3BhY2VFcnJvciA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBmbGFnIHRvIGVuYWJsZSBkeW5hbWljIHNjcmVlbiBzcGFjZSBlcnJvci4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yID0gZmFsc2U7XG5cbiAgdmFyIGNvbG9yQmxlbmRNb2RlID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yQmxlbmRNb2RlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb2xvckJsZW5kTW9kZSgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGNvbG9yQmxlbmRNb2RlKHZhbHVlKTtcbiAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgIHRoYXQuX3RpbGVzZXQuY29sb3JCbGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgdGhhdC5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBjb2xvciBibGVuZCBtb2RlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Q2VzaXVtM0RUaWxlQ29sb3JCbGVuZE1vZGV9XG4gICAqIEBkZWZhdWx0IENlc2l1bTNEVGlsZUNvbG9yQmxlbmRNb2RlLkhJR0hMSUdIVFxuICAgKi9cbiAgdGhpcy5jb2xvckJsZW5kTW9kZSA9IENlc2l1bTNEVGlsZUNvbG9yQmxlbmRNb2RlLkhJR0hMSUdIVDtcblxuICB2YXIgc2hvd09ubHlQaWNrZWRUaWxlRGVidWdMYWJlbCA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAgdmFyIHBpY2tpbmcgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGlja2luZ1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGlja2luZygpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHBpY2tpbmcodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoYXQuX2V2ZW50SGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBwaWNrZWQgPSBzY2VuZS5waWNrKGUuZW5kUG9zaXRpb24pO1xuICAgICAgICAgIGlmIChwaWNrZWQgaW5zdGFuY2VvZiBDZXNpdW0zRFRpbGVGZWF0dXJlKSB7XG4gICAgICAgICAgICAvLyBQaWNrZWQgYSBmZWF0dXJlXG4gICAgICAgICAgICB0aGF0LmZlYXR1cmUgPSBwaWNrZWQ7XG4gICAgICAgICAgICB0aGF0LnRpbGUgPSBwaWNrZWQuY29udGVudC50aWxlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGVmaW5lZChwaWNrZWQpICYmIGRlZmluZWQocGlja2VkLmNvbnRlbnQpKSB7XG4gICAgICAgICAgICAvLyBQaWNrZWQgYSB0aWxlXG4gICAgICAgICAgICB0aGF0LmZlYXR1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGF0LnRpbGUgPSBwaWNrZWQuY29udGVudC50aWxlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBQaWNrZWQgbm90aGluZ1xuICAgICAgICAgICAgdGhhdC5mZWF0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhhdC50aWxlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2hvd09ubHlQaWNrZWRUaWxlRGVidWdMYWJlbCAmJlxuICAgICAgICAgICAgZGVmaW5lZChwaWNrZWQpICYmXG4gICAgICAgICAgICBkZWZpbmVkKHBpY2tlZC5jb250ZW50KVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKHNjZW5lLnBpY2tQb3NpdGlvblN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICBwb3NpdGlvbiA9IHNjZW5lLnBpY2tQb3NpdGlvbihlLmVuZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgaWYgKGRlZmluZWQocG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fdGlsZXNldC5kZWJ1Z1BpY2tQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGF0Ll90aWxlc2V0LmRlYnVnUGlja2VkVGlsZSA9IHBpY2tlZC5jb250ZW50LnRpbGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoYXQuX3RpbGVzZXQuZGVidWdQaWNrZWRUaWxlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICAgIH0sIFNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5mZWF0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGF0LnRpbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoYXQuX2V2ZW50SGFuZGxlci5yZW1vdmVJbnB1dEFjdGlvbihTY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBlbmFibGUgcGlja2luZy4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHRoaXMucGlja2luZyA9IHRydWU7XG5cbiAgdmFyIGNvbG9yaXplID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yaXplXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb2xvcml6ZSgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGNvbG9yaXplKHZhbHVlKTtcbiAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgIHRoYXQuX3RpbGVzZXQuZGVidWdDb2xvcml6ZVRpbGVzID0gdmFsdWU7XG4gICAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBjb2xvcml6ZSB0aWxlcy4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmNvbG9yaXplID0gZmFsc2U7XG5cbiAgdmFyIHdpcmVmcmFtZSA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aXJlZnJhbWVcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHdpcmVmcmFtZSgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHdpcmVmcmFtZSh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LmRlYnVnV2lyZWZyYW1lID0gdmFsdWU7XG4gICAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBkcmF3IHdpdGggd2lyZWZyYW1lLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMud2lyZWZyYW1lID0gZmFsc2U7XG5cbiAgdmFyIHNob3dCb3VuZGluZ1ZvbHVtZXMgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvd0JvdW5kaW5nVm9sdW1lc1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2hvd0JvdW5kaW5nVm9sdW1lcygpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHNob3dCb3VuZGluZ1ZvbHVtZXModmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5kZWJ1Z1Nob3dCb3VuZGluZ1ZvbHVtZSA9IHZhbHVlO1xuICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc2hvdyBib3VuZGluZyB2b2x1bWVzLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuc2hvd0JvdW5kaW5nVm9sdW1lcyA9IGZhbHNlO1xuXG4gIHZhciBzaG93Q29udGVudEJvdW5kaW5nVm9sdW1lcyA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG93Q29udGVudEJvdW5kaW5nVm9sdW1lc1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2hvd0NvbnRlbnRCb3VuZGluZ1ZvbHVtZXMoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBzaG93Q29udGVudEJvdW5kaW5nVm9sdW1lcyh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LmRlYnVnU2hvd0NvbnRlbnRCb3VuZGluZ1ZvbHVtZSA9IHZhbHVlO1xuICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc2hvdyBjb250ZW50IHZvbHVtZXMuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5zaG93Q29udGVudEJvdW5kaW5nVm9sdW1lcyA9IGZhbHNlO1xuXG4gIHZhciBzaG93UmVxdWVzdFZvbHVtZXMgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvd1JlcXVlc3RWb2x1bWVzXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzaG93UmVxdWVzdFZvbHVtZXMoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBzaG93UmVxdWVzdFZvbHVtZXModmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5kZWJ1Z1Nob3dWaWV3ZXJSZXF1ZXN0Vm9sdW1lID0gdmFsdWU7XG4gICAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IHJlcXVlc3Qgdm9sdW1lcy4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnNob3dSZXF1ZXN0Vm9sdW1lcyA9IGZhbHNlO1xuXG4gIHZhciBmcmVlemVGcmFtZSA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmcmVlemVGcmFtZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZnJlZXplRnJhbWUoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBmcmVlemVGcmFtZSh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LmRlYnVnRnJlZXplRnJhbWUgPSB2YWx1ZTtcbiAgICAgICAgdGhhdC5fc2NlbmUuZGVidWdTaG93RnJ1c3R1bVBsYW5lcyA9IHZhbHVlO1xuICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc3VzcGVuZCB1cGRhdGVzLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuZnJlZXplRnJhbWUgPSBmYWxzZTtcblxuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNob3dPbmx5UGlja2VkVGlsZURlYnVnTGFiZWxcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNob3dPbmx5UGlja2VkVGlsZURlYnVnTGFiZWwoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBzaG93T25seVBpY2tlZFRpbGVEZWJ1Z0xhYmVsKHZhbHVlKTtcbiAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgIHRoYXQuX3RpbGVzZXQuZGVidWdQaWNrZWRUaWxlTGFiZWxPbmx5ID0gdmFsdWU7XG4gICAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBzaG93IGRlYnVnIGxhYmVscyBvbmx5IGZvciB0aGUgY3VycmVudGx5IHBpY2tlZCB0aWxlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuc2hvd09ubHlQaWNrZWRUaWxlRGVidWdMYWJlbCA9IGZhbHNlO1xuXG4gIHZhciBzaG93R2VvbWV0cmljRXJyb3IgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvd0dlb21ldHJpY0Vycm9yXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzaG93R2VvbWV0cmljRXJyb3IoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBzaG93R2VvbWV0cmljRXJyb3IodmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5kZWJ1Z1Nob3dHZW9tZXRyaWNFcnJvciA9IHZhbHVlO1xuICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc2hvdyB0aWxlIGdlb21ldHJpYyBlcnJvci4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnNob3dHZW9tZXRyaWNFcnJvciA9IGZhbHNlO1xuXG4gIHZhciBzaG93UmVuZGVyaW5nU3RhdGlzdGljcyA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG93UmVuZGVyaW5nU3RhdGlzdGljc1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2hvd1JlbmRlcmluZ1N0YXRpc3RpY3MoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBzaG93UmVuZGVyaW5nU3RhdGlzdGljcyh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LmRlYnVnU2hvd1JlbmRlcmluZ1N0YXRpc3RpY3MgPSB2YWx1ZTtcbiAgICAgICAgdGhhdC5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogRGlzcGxheXMgdGhlIG51bWJlciBvZiBjb21tYW5kcywgcG9pbnRzLCB0cmlhbmdsZXMgYW5kIGZlYXR1cmVzIHVzZWQgcGVyIHRpbGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5zaG93UmVuZGVyaW5nU3RhdGlzdGljcyA9IGZhbHNlO1xuXG4gIHZhciBzaG93TWVtb3J5VXNhZ2UgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2hvd01lbW9yeVVzYWdlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzaG93TWVtb3J5VXNhZ2UoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBzaG93TWVtb3J5VXNhZ2UodmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5kZWJ1Z1Nob3dNZW1vcnlVc2FnZSA9IHZhbHVlO1xuICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgbWVtb3J5IHVzZWQgcGVyIHRpbGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5zaG93TWVtb3J5VXNhZ2UgPSBmYWxzZTtcblxuICB2YXIgc2hvd1VybCA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG93VXJsXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzaG93VXJsKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgc2hvd1VybCh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LmRlYnVnU2hvd1VybCA9IHZhbHVlO1xuICAgICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gc2hvdyB0aGUgdGlsZSB1cmwuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5zaG93VXJsID0gZmFsc2U7XG5cbiAgdmFyIG1heGltdW1TY3JlZW5TcGFjZUVycm9yID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heGltdW1TY3JlZW5TcGFjZUVycm9yXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtYXhpbXVtU2NyZWVuU3BhY2VFcnJvcigpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIG1heGltdW1TY3JlZW5TcGFjZUVycm9yKHZhbHVlKTtcbiAgICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgICB0aGF0Ll90aWxlc2V0Lm1heGltdW1TY3JlZW5TcGFjZUVycm9yID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbWF4aW11bSBzY3JlZW4gc3BhY2UgZXJyb3IuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDE2XG4gICAqL1xuICB0aGlzLm1heGltdW1TY3JlZW5TcGFjZUVycm9yID0gMTY7XG5cbiAgdmFyIGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRGVuc2l0eSA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkeW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHlcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRGVuc2l0eSgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRGVuc2l0eSh2YWx1ZSk7XG4gICAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgICAgdGhhdC5fdGlsZXNldC5keW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBkeW5hbWljIHNjcmVlbiBzcGFjZSBlcnJvciBkZW5zaXR5LiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwLjAwMjc4XG4gICAqL1xuICB0aGlzLmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRGVuc2l0eSA9IDAuMDAyNzg7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZHluYW1pYyBzY3JlZW4gc3BhY2UgZXJyb3IgZGVuc2l0eSBzbGlkZXIgdmFsdWUuXG4gICAqIFRoaXMgYWxsb3dzIHRoZSBzbGlkZXIgdG8gYmUgZXhwb25lbnRpYWwgYmVjYXVzZSB2YWx1ZXMgdGVuZCB0byBiZSBjbG9zZXIgdG8gMCB0aGFuIDEuXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGRlZmF1bHQgMC4wMDI3OFxuICAgKi9cbiAgdGhpcy5keW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHlTbGlkZXJWYWx1ZSA9IHVuZGVmaW5lZDtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkeW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHlTbGlkZXJWYWx1ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTWF0aC5wb3coZHluYW1pY1NjcmVlblNwYWNlRXJyb3JEZW5zaXR5KCksIDEgLyA2KTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBkeW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHkoTWF0aC5wb3codmFsdWUsIDYpKTtcbiAgICB9LFxuICB9KTtcblxuICB2YXIgZHluYW1pY1NjcmVlblNwYWNlRXJyb3JGYWN0b3IgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JGYWN0b3JcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRmFjdG9yKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgZHluYW1pY1NjcmVlblNwYWNlRXJyb3JGYWN0b3IodmFsdWUpO1xuICAgICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICAgIHRoYXQuX3RpbGVzZXQuZHluYW1pY1NjcmVlblNwYWNlRXJyb3JGYWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBkeW5hbWljIHNjcmVlbiBzcGFjZSBlcnJvciBmYWN0b3IuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDQuMFxuICAgKi9cbiAgdGhpcy5keW5hbWljU2NyZWVuU3BhY2VFcnJvckZhY3RvciA9IDQuMDtcblxuICB2YXIgcGlja1RpbGVzZXQgPSBnZXRQaWNrVGlsZXNldCh0aGlzKTtcbiAgdmFyIHBpY2tBY3RpdmUgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGlja0FjdGl2ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGlja0FjdGl2ZSgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHBpY2tBY3RpdmUodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoYXQuX2V2ZW50SGFuZGxlci5zZXRJbnB1dEFjdGlvbihcbiAgICAgICAgICBwaWNrVGlsZXNldCxcbiAgICAgICAgICBTY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGF0Ll9ldmVudEhhbmRsZXIucmVtb3ZlSW5wdXRBY3Rpb24oU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG5cbiAgdmFyIHBvaW50Q2xvdWRTaGFkaW5nID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBvaW50Q2xvdWRTaGFkaW5nXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwb2ludENsb3VkU2hhZGluZygpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHBvaW50Q2xvdWRTaGFkaW5nKHZhbHVlKTtcbiAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgIHRoYXQuX3RpbGVzZXQucG9pbnRDbG91ZFNoYWRpbmcuYXR0ZW51YXRpb24gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBlbmFibGUgcG9pbnQgY2xvdWQgc2hhZGluZy4gVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMucG9pbnRDbG91ZFNoYWRpbmcgPSBmYWxzZTtcblxuICB2YXIgZ2VvbWV0cmljRXJyb3JTY2FsZSA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZW9tZXRyaWNFcnJvclNjYWxlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZW9tZXRyaWNFcnJvclNjYWxlKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgZ2VvbWV0cmljRXJyb3JTY2FsZSh2YWx1ZSk7XG4gICAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgICAgdGhhdC5fdGlsZXNldC5wb2ludENsb3VkU2hhZGluZy5nZW9tZXRyaWNFcnJvclNjYWxlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZ2VvbWV0cmljIGVycm9yIHNjYWxlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxLjBcbiAgICovXG4gIHRoaXMuZ2VvbWV0cmljRXJyb3JTY2FsZSA9IDEuMDtcblxuICB2YXIgbWF4aW11bUF0dGVudWF0aW9uID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heGltdW1BdHRlbnVhdGlvblwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbWF4aW11bUF0dGVudWF0aW9uKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgbWF4aW11bUF0dGVudWF0aW9uKHZhbHVlKTtcbiAgICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgICB0aGF0Ll90aWxlc2V0LnBvaW50Q2xvdWRTaGFkaW5nLm1heGltdW1BdHRlbnVhdGlvbiA9XG4gICAgICAgICAgICB2YWx1ZSA9PT0gMCA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIG1heGltdW0gYXR0ZW51YXRpb24uICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHRoaXMubWF4aW11bUF0dGVudWF0aW9uID0gMDtcblxuICB2YXIgYmFzZVJlc29sdXRpb24gPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYmFzZVJlc29sdXRpb25cIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGJhc2VSZXNvbHV0aW9uKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgYmFzZVJlc29sdXRpb24odmFsdWUpO1xuICAgICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICAgIHRoYXQuX3RpbGVzZXQucG9pbnRDbG91ZFNoYWRpbmcuYmFzZVJlc29sdXRpb24gPVxuICAgICAgICAgICAgdmFsdWUgPT09IDAgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBiYXNlIHJlc29sdXRpb24uICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHRoaXMuYmFzZVJlc29sdXRpb24gPSAwO1xuXG4gIHZhciBleWVEb21lTGlnaHRpbmcgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXllRG9tZUxpZ2h0aW5nXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBleWVEb21lTGlnaHRpbmcoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBleWVEb21lTGlnaHRpbmcodmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5wb2ludENsb3VkU2hhZGluZy5leWVEb21lTGlnaHRpbmcgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB0byBlbmFibGUgZXllIGRvbWUgbGlnaHRpbmcuIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmV5ZURvbWVMaWdodGluZyA9IGZhbHNlO1xuXG4gIHZhciBleWVEb21lTGlnaHRpbmdTdHJlbmd0aCA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleWVEb21lTGlnaHRpbmdTdHJlbmd0aFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZXllRG9tZUxpZ2h0aW5nU3RyZW5ndGgoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICBleWVEb21lTGlnaHRpbmdTdHJlbmd0aCh2YWx1ZSk7XG4gICAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgICAgdGhhdC5fdGlsZXNldC5wb2ludENsb3VkU2hhZGluZy5leWVEb21lTGlnaHRpbmdTdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGV5ZSBkb21lIGxpZ2h0aW5nIHN0cmVuZ3RoLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxLjBcbiAgICovXG4gIHRoaXMuZXllRG9tZUxpZ2h0aW5nU3RyZW5ndGggPSAxLjA7XG5cbiAgdmFyIGV5ZURvbWVMaWdodGluZ1JhZGl1cyA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleWVEb21lTGlnaHRpbmdSYWRpdXNcIiwge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGV5ZURvbWVMaWdodGluZ1JhZGl1cygpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIGV5ZURvbWVMaWdodGluZ1JhZGl1cyh2YWx1ZSk7XG4gICAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgICAgdGhhdC5fdGlsZXNldC5wb2ludENsb3VkU2hhZGluZy5leWVEb21lTGlnaHRpbmdSYWRpdXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBleWUgZG9tZSBsaWdodGluZyByYWRpdXMuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEuMFxuICAgKi9cbiAgdGhpcy5leWVEb21lTGlnaHRpbmdSYWRpdXMgPSAxLjA7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgcGljayBzdGF0ZVxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMucGlja0FjdGl2ZSA9IGZhbHNlO1xuXG4gIHZhciBza2lwTGV2ZWxPZkRldGFpbCA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJza2lwTGV2ZWxPZkRldGFpbFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc2tpcExldmVsT2ZEZXRhaWwoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBza2lwTGV2ZWxPZkRldGFpbCh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LnNraXBMZXZlbE9mRGV0YWlsID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgdG8gZGV0ZXJtaW5lIGlmIGxldmVsIG9mIGRldGFpbCBza2lwcGluZyBzaG91bGQgYmUgYXBwbGllZCBkdXJpbmcgdGhlIHRyYXZlcnNhbC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5za2lwTGV2ZWxPZkRldGFpbCA9IHRydWU7XG5cbiAgdmFyIHNraXBTY3JlZW5TcGFjZUVycm9yRmFjdG9yID0ga25vY2tvdXQub2JzZXJ2YWJsZSgpO1xuICBrbm9ja291dC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNraXBTY3JlZW5TcGFjZUVycm9yRmFjdG9yXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBza2lwU2NyZWVuU3BhY2VFcnJvckZhY3RvcigpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIHNraXBTY3JlZW5TcGFjZUVycm9yRmFjdG9yKHZhbHVlKTtcbiAgICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgICB0aGF0Ll90aWxlc2V0LnNraXBTY3JlZW5TcGFjZUVycm9yRmFjdG9yID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbXVsdGlwbGllciBkZWZpbmluZyB0aGUgbWluaW11bSBzY3JlZW4gc3BhY2UgZXJyb3IgdG8gc2tpcC4gVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxNlxuICAgKi9cbiAgdGhpcy5za2lwU2NyZWVuU3BhY2VFcnJvckZhY3RvciA9IDE2O1xuXG4gIHZhciBiYXNlU2NyZWVuU3BhY2VFcnJvciA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXNlU2NyZWVuU3BhY2VFcnJvclwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYmFzZVNjcmVlblNwYWNlRXJyb3IoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICBiYXNlU2NyZWVuU3BhY2VFcnJvcih2YWx1ZSk7XG4gICAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgICAgdGhhdC5fdGlsZXNldC5iYXNlU2NyZWVuU3BhY2VFcnJvciA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHNjcmVlbiBzcGFjZSBlcnJvciB0aGF0IG11c3QgYmUgcmVhY2hlZCBiZWZvcmUgc2tpcHBpbmcgbGV2ZWxzIG9mIGRldGFpbC4gVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxMDI0XG4gICAqL1xuICB0aGlzLmJhc2VTY3JlZW5TcGFjZUVycm9yID0gMTAyNDtcblxuICB2YXIgc2tpcExldmVscyA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJza2lwTGV2ZWxzXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBza2lwTGV2ZWxzKCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgc2tpcExldmVscyh2YWx1ZSk7XG4gICAgICAgIGlmIChkZWZpbmVkKHRoYXQuX3RpbGVzZXQpKSB7XG4gICAgICAgICAgdGhhdC5fdGlsZXNldC5za2lwTGV2ZWxzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgY29uc3RhbnQgZGVmaW5pbmcgdGhlIG1pbmltdW0gbnVtYmVyIG9mIGxldmVscyB0byBza2lwIHdoZW4gbG9hZGluZyB0aWxlcy4gVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICB0aGlzLnNraXBMZXZlbHMgPSAxO1xuXG4gIHZhciBpbW1lZGlhdGVseUxvYWREZXNpcmVkTGV2ZWxPZkRldGFpbCA9IGtub2Nrb3V0Lm9ic2VydmFibGUoKTtcbiAga25vY2tvdXQuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbW1lZGlhdGVseUxvYWREZXNpcmVkTGV2ZWxPZkRldGFpbFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW1tZWRpYXRlbHlMb2FkRGVzaXJlZExldmVsT2ZEZXRhaWwoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpbW1lZGlhdGVseUxvYWREZXNpcmVkTGV2ZWxPZkRldGFpbCh2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlc2V0KSkge1xuICAgICAgICB0aGF0Ll90aWxlc2V0LmltbWVkaWF0ZWx5TG9hZERlc2lyZWRMZXZlbE9mRGV0YWlsID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZsYWcgd2hpY2gsIHdoZW4gdHJ1ZSwgb25seSB0aWxlcyB0aGF0IG1lZXQgdGhlIG1heGltdW0gc2NyZWVuIHNwYWNlIGVycm9yIHdpbGwgZXZlciBiZSBkb3dubG9hZGVkLlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5pbW1lZGlhdGVseUxvYWREZXNpcmVkTGV2ZWxPZkRldGFpbCA9IGZhbHNlO1xuXG4gIHZhciBsb2FkU2libGluZ3MgPSBrbm9ja291dC5vYnNlcnZhYmxlKCk7XG4gIGtub2Nrb3V0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9hZFNpYmxpbmdzXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBsb2FkU2libGluZ3MoKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBsb2FkU2libGluZ3ModmFsdWUpO1xuICAgICAgaWYgKGRlZmluZWQodGhhdC5fdGlsZXNldCkpIHtcbiAgICAgICAgdGhhdC5fdGlsZXNldC5sb2FkU2libGluZ3MgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZmxhZyB3aGljaCBkZXRlcm1pbmVzIHdoZXRoZXIgc2libGluZ3Mgb2YgdmlzaWJsZSB0aWxlcyBhcmUgYWx3YXlzIGRvd25sb2FkZWQgZHVyaW5nIHRyYXZlcnNhbC5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5sb2FkU2libGluZ3MgPSBmYWxzZTtcblxuICB0aGlzLl9zdHlsZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc2hvdWxkU3R5bGUgPSBmYWxzZTtcbiAgdGhpcy5fZGVmaW5lZFByb3BlcnRpZXMgPSBbXG4gICAgXCJwcm9wZXJ0aWVzXCIsXG4gICAgXCJkeW5hbWljU2NyZWVuU3BhY2VFcnJvclwiLFxuICAgIFwiY29sb3JCbGVuZE1vZGVcIixcbiAgICBcInBpY2tpbmdcIixcbiAgICBcImNvbG9yaXplXCIsXG4gICAgXCJ3aXJlZnJhbWVcIixcbiAgICBcInNob3dCb3VuZGluZ1ZvbHVtZXNcIixcbiAgICBcInNob3dDb250ZW50Qm91bmRpbmdWb2x1bWVzXCIsXG4gICAgXCJzaG93UmVxdWVzdFZvbHVtZXNcIixcbiAgICBcImZyZWV6ZUZyYW1lXCIsXG4gICAgXCJtYXhpbXVtU2NyZWVuU3BhY2VFcnJvclwiLFxuICAgIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JEZW5zaXR5XCIsXG4gICAgXCJiYXNlU2NyZWVuU3BhY2VFcnJvclwiLFxuICAgIFwic2tpcFNjcmVlblNwYWNlRXJyb3JGYWN0b3JcIixcbiAgICBcInNraXBMZXZlbE9mRGV0YWlsXCIsXG4gICAgXCJza2lwTGV2ZWxzXCIsXG4gICAgXCJpbW1lZGlhdGVseUxvYWREZXNpcmVkTGV2ZWxPZkRldGFpbFwiLFxuICAgIFwibG9hZFNpYmxpbmdzXCIsXG4gICAgXCJkeW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHlTbGlkZXJWYWx1ZVwiLFxuICAgIFwiZHluYW1pY1NjcmVlblNwYWNlRXJyb3JGYWN0b3JcIixcbiAgICBcInBpY2tBY3RpdmVcIixcbiAgICBcInNob3dPbmx5UGlja2VkVGlsZURlYnVnTGFiZWxcIixcbiAgICBcInNob3dHZW9tZXRyaWNFcnJvclwiLFxuICAgIFwic2hvd1JlbmRlcmluZ1N0YXRpc3RpY3NcIixcbiAgICBcInNob3dNZW1vcnlVc2FnZVwiLFxuICAgIFwic2hvd1VybFwiLFxuICAgIFwicG9pbnRDbG91ZFNoYWRpbmdcIixcbiAgICBcImdlb21ldHJpY0Vycm9yU2NhbGVcIixcbiAgICBcIm1heGltdW1BdHRlbnVhdGlvblwiLFxuICAgIFwiYmFzZVJlc29sdXRpb25cIixcbiAgICBcImV5ZURvbWVMaWdodGluZ1wiLFxuICAgIFwiZXllRG9tZUxpZ2h0aW5nU3RyZW5ndGhcIixcbiAgICBcImV5ZURvbWVMaWdodGluZ1JhZGl1c1wiLFxuICBdO1xuICB0aGlzLl9yZW1vdmVQb3N0UmVuZGVyRXZlbnQgPSBzY2VuZS5wb3N0UmVuZGVyLmFkZEV2ZW50TGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgIHRoYXQuX3VwZGF0ZSgpO1xuICB9KTtcblxuICBpZiAoIWRlZmluZWQodGhpcy5fdGlsZXNldCkpIHtcbiAgICBzZWxlY3RUaWxlc2V0T25Ib3Zlcih0aGlzLCB0cnVlKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgc2NlbmVcbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEB0eXBlIHtTY2VuZX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBzY2VuZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwZXJmb3JtYW5jZSBjb250YWluZXJcbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBwZXJmb3JtYW5jZUNvbnRhaW5lcjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlQ29udGFpbmVyO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHN0YXRpc3RpY3MgdGV4dC4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgc3RhdGlzdGljc1RleHQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0aXN0aWNzVGV4dDtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyB0aGUgcGljayBzdGF0aXN0aWNzIHRleHQuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEBtZW1iZXJvZiBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHBpY2tTdGF0aXN0aWNzVGV4dDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BpY2tTdGF0aXN0aWNzVGV4dDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhdmFpbGFibGUgYmxlbmQgbW9kZXNcbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEB0eXBlIHtPYmplY3RbXX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBjb2xvckJsZW5kTW9kZXM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb2xvckJsZW5kTW9kZXM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgZWRpdG9yIGVycm9yIG1lc3NhZ2VcbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZWRpdG9yRXJyb3I6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lZGl0b3JFcnJvcjtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHRpbGVzZXQgb2YgdGhlIHZpZXcgbW9kZWwuXG4gICAqIEBtZW1iZXJvZiBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q2VzaXVtM0RUaWxlc2V0fVxuICAgKi9cbiAgdGlsZXNldDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbGVzZXQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh0aWxlc2V0KSB7XG4gICAgICB0aGlzLl90aWxlc2V0ID0gdGlsZXNldDtcbiAgICAgIHRoaXMuX3N0eWxlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdHlsZVN0cmluZyA9IFwie31cIjtcbiAgICAgIHRoaXMuZmVhdHVyZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudGlsZSA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGRlZmluZWQodGlsZXNldCkpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB0aWxlc2V0LnJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgaWYgKCF0aGF0LmlzRGVzdHJveWVkKCkpIHtcbiAgICAgICAgICAgIHRoYXQuX3Byb3BlcnRpZXModC5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aWxlc2V0IHdpdGggZXhpc3Rpbmcgc2V0dGluZ3NcbiAgICAgICAgdmFyIHNldHRpbmdzID0gW1xuICAgICAgICAgIFwiY29sb3JpemVcIixcbiAgICAgICAgICBcIndpcmVmcmFtZVwiLFxuICAgICAgICAgIFwic2hvd0JvdW5kaW5nVm9sdW1lc1wiLFxuICAgICAgICAgIFwic2hvd0NvbnRlbnRCb3VuZGluZ1ZvbHVtZXNcIixcbiAgICAgICAgICBcInNob3dSZXF1ZXN0Vm9sdW1lc1wiLFxuICAgICAgICAgIFwiZnJlZXplRnJhbWVcIixcbiAgICAgICAgICBcInNob3dPbmx5UGlja2VkVGlsZURlYnVnTGFiZWxcIixcbiAgICAgICAgICBcInNob3dHZW9tZXRyaWNFcnJvclwiLFxuICAgICAgICAgIFwic2hvd1JlbmRlcmluZ1N0YXRpc3RpY3NcIixcbiAgICAgICAgICBcInNob3dNZW1vcnlVc2FnZVwiLFxuICAgICAgICAgIFwic2hvd1VybFwiLFxuICAgICAgICBdO1xuICAgICAgICB2YXIgbGVuZ3RoID0gc2V0dGluZ3MubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdmFyIHNldHRpbmcgPSBzZXR0aW5nc1tpXTtcbiAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxuICAgICAgICAgIHRoaXNbc2V0dGluZ10gPSB0aGlzW3NldHRpbmddO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHZpZXcgbW9kZWwgd2l0aCBleGlzdGluZyB0aWxlc2V0IHNldHRpbmdzXG4gICAgICAgIHRoaXMubWF4aW11bVNjcmVlblNwYWNlRXJyb3IgPSB0aWxlc2V0Lm1heGltdW1TY3JlZW5TcGFjZUVycm9yO1xuICAgICAgICB0aGlzLmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yID0gdGlsZXNldC5keW5hbWljU2NyZWVuU3BhY2VFcnJvcjtcbiAgICAgICAgdGhpcy5keW5hbWljU2NyZWVuU3BhY2VFcnJvckRlbnNpdHkgPVxuICAgICAgICAgIHRpbGVzZXQuZHluYW1pY1NjcmVlblNwYWNlRXJyb3JEZW5zaXR5O1xuICAgICAgICB0aGlzLmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRmFjdG9yID1cbiAgICAgICAgICB0aWxlc2V0LmR5bmFtaWNTY3JlZW5TcGFjZUVycm9yRmFjdG9yO1xuICAgICAgICB0aGlzLmNvbG9yQmxlbmRNb2RlID0gdGlsZXNldC5jb2xvckJsZW5kTW9kZTtcbiAgICAgICAgdGhpcy5za2lwTGV2ZWxPZkRldGFpbCA9IHRpbGVzZXQuc2tpcExldmVsT2ZEZXRhaWw7XG4gICAgICAgIHRoaXMuc2tpcFNjcmVlblNwYWNlRXJyb3JGYWN0b3IgPSB0aWxlc2V0LnNraXBTY3JlZW5TcGFjZUVycm9yRmFjdG9yO1xuICAgICAgICB0aGlzLmJhc2VTY3JlZW5TcGFjZUVycm9yID0gdGlsZXNldC5iYXNlU2NyZWVuU3BhY2VFcnJvcjtcbiAgICAgICAgdGhpcy5za2lwTGV2ZWxzID0gdGlsZXNldC5za2lwTGV2ZWxzO1xuICAgICAgICB0aGlzLmltbWVkaWF0ZWx5TG9hZERlc2lyZWRMZXZlbE9mRGV0YWlsID1cbiAgICAgICAgICB0aWxlc2V0LmltbWVkaWF0ZWx5TG9hZERlc2lyZWRMZXZlbE9mRGV0YWlsO1xuICAgICAgICB0aGlzLmxvYWRTaWJsaW5ncyA9IHRpbGVzZXQubG9hZFNpYmxpbmdzO1xuXG4gICAgICAgIHZhciBwb2ludENsb3VkU2hhZGluZyA9IHRpbGVzZXQucG9pbnRDbG91ZFNoYWRpbmc7XG4gICAgICAgIHRoaXMucG9pbnRDbG91ZFNoYWRpbmcgPSBwb2ludENsb3VkU2hhZGluZy5hdHRlbnVhdGlvbjtcbiAgICAgICAgdGhpcy5nZW9tZXRyaWNFcnJvclNjYWxlID0gcG9pbnRDbG91ZFNoYWRpbmcuZ2VvbWV0cmljRXJyb3JTY2FsZTtcbiAgICAgICAgdGhpcy5tYXhpbXVtQXR0ZW51YXRpb24gPSBwb2ludENsb3VkU2hhZGluZy5tYXhpbXVtQXR0ZW51YXRpb25cbiAgICAgICAgICA/IHBvaW50Q2xvdWRTaGFkaW5nLm1heGltdW1BdHRlbnVhdGlvblxuICAgICAgICAgIDogMC4wO1xuICAgICAgICB0aGlzLmJhc2VSZXNvbHV0aW9uID0gcG9pbnRDbG91ZFNoYWRpbmcuYmFzZVJlc29sdXRpb25cbiAgICAgICAgICA/IHBvaW50Q2xvdWRTaGFkaW5nLmJhc2VSZXNvbHV0aW9uXG4gICAgICAgICAgOiAwLjA7XG4gICAgICAgIHRoaXMuZXllRG9tZUxpZ2h0aW5nID0gcG9pbnRDbG91ZFNoYWRpbmcuZXllRG9tZUxpZ2h0aW5nO1xuICAgICAgICB0aGlzLmV5ZURvbWVMaWdodGluZ1N0cmVuZ3RoID1cbiAgICAgICAgICBwb2ludENsb3VkU2hhZGluZy5leWVEb21lTGlnaHRpbmdTdHJlbmd0aDtcbiAgICAgICAgdGhpcy5leWVEb21lTGlnaHRpbmdSYWRpdXMgPSBwb2ludENsb3VkU2hhZGluZy5leWVEb21lTGlnaHRpbmdSYWRpdXM7XG5cbiAgICAgICAgdGhpcy5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyh7fSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N0YXRpc3RpY3NUZXh0ID0gZ2V0U3RhdGlzdGljcyh0aWxlc2V0LCBmYWxzZSk7XG4gICAgICB0aGlzLl9waWNrU3RhdGlzdGljc1RleHQgPSBnZXRTdGF0aXN0aWNzKHRpbGVzZXQsIHRydWUpO1xuICAgICAgc2VsZWN0VGlsZXNldE9uSG92ZXIodGhpcywgZmFsc2UpO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZmVhdHVyZSBvZiB0aGUgdmlldyBtb2RlbC5cbiAgICogQG1lbWJlcm9mIENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqIEB0eXBlIHtDZXNpdW0zRFRpbGVGZWF0dXJlfVxuICAgKi9cbiAgZmVhdHVyZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZlYXR1cmU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gICAgICBpZiAodGhpcy5fZmVhdHVyZSA9PT0gZmVhdHVyZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudEZlYXR1cmUgPSB0aGlzLl9mZWF0dXJlO1xuICAgICAgaWYgKGRlZmluZWQoY3VycmVudEZlYXR1cmUpICYmICFjdXJyZW50RmVhdHVyZS5jb250ZW50LmlzRGVzdHJveWVkKCkpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBjb2xvciB0byBmZWF0dXJlIHRoYXQgaXMgbm8gbG9uZ2VyIHNlbGVjdGVkXG4gICAgICAgIGlmICghdGhpcy5jb2xvcml6ZSAmJiBkZWZpbmVkKHRoaXMuX3N0eWxlKSkge1xuICAgICAgICAgIGN1cnJlbnRGZWF0dXJlLmNvbG9yID0gZGVmaW5lZCh0aGlzLl9zdHlsZS5jb2xvcilcbiAgICAgICAgICAgID8gdGhpcy5fc3R5bGUuY29sb3IuZXZhbHVhdGVDb2xvcihjdXJyZW50RmVhdHVyZSwgc2NyYXRjaENvbG9yKVxuICAgICAgICAgICAgOiBDb2xvci5XSElURTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50RmVhdHVyZS5jb2xvciA9IG9sZENvbG9yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZpbmVkKGZlYXR1cmUpKSB7XG4gICAgICAgIC8vIEhpZ2hsaWdodCBuZXcgZmVhdHVyZVxuICAgICAgICBDb2xvci5jbG9uZShmZWF0dXJlLmNvbG9yLCBvbGRDb2xvcik7XG4gICAgICAgIGZlYXR1cmUuY29sb3IgPSBoaWdobGlnaHRDb2xvcjtcbiAgICAgICAgdGhpcy5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5fZmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCB0aWxlIG9mIHRoZSB2aWV3IG1vZGVsXG4gICAqIEBtZW1iZXJvZiBDZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q2VzaXVtM0RUaWxlfVxuICAgKi9cbiAgdGlsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbGU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh0aWxlKSB7XG4gICAgICBpZiAodGhpcy5fdGlsZSA9PT0gdGlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudFRpbGUgPSB0aGlzLl90aWxlO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGRlZmluZWQoY3VycmVudFRpbGUpICYmXG4gICAgICAgICFjdXJyZW50VGlsZS5pc0Rlc3Ryb3llZCgpICYmXG4gICAgICAgICFoYXNGZWF0dXJlcyhjdXJyZW50VGlsZS5jb250ZW50KVxuICAgICAgKSB7XG4gICAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWwgY29sb3IgdG8gdGlsZSB0aGF0IGlzIG5vIGxvbmdlciBzZWxlY3RlZFxuICAgICAgICBjdXJyZW50VGlsZS5jb2xvciA9IG9sZENvbG9yO1xuICAgICAgICB0aGlzLl9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWZpbmVkKHRpbGUpICYmICFoYXNGZWF0dXJlcyh0aWxlLmNvbnRlbnQpKSB7XG4gICAgICAgIC8vIEhpZ2hsaWdodCBuZXcgdGlsZVxuICAgICAgICBDb2xvci5jbG9uZSh0aWxlLmNvbG9yLCBvbGRDb2xvcik7XG4gICAgICAgIHRpbGUuY29sb3IgPSBoaWdobGlnaHRDb2xvcjtcbiAgICAgICAgdGhpcy5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5fdGlsZSA9IHRpbGU7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG5mdW5jdGlvbiBoYXNGZWF0dXJlcyhjb250ZW50KSB7XG4gIGlmIChjb250ZW50LmZlYXR1cmVzTGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBpbm5lckNvbnRlbnRzID0gY29udGVudC5pbm5lckNvbnRlbnRzO1xuICBpZiAoZGVmaW5lZChpbm5lckNvbnRlbnRzKSkge1xuICAgIHZhciBsZW5ndGggPSBpbm5lckNvbnRlbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoIWhhc0ZlYXR1cmVzKGlubmVyQ29udGVudHNbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRvZ2dsZXMgdGhlIHBpY2sgdGlsZXNldCBtb2RlXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLnRvZ2dsZVBpY2tUaWxlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnBpY2tBY3RpdmUgPSAhdGhpcy5waWNrQWN0aXZlO1xufTtcblxuLyoqXG4gKiBUb2dnbGVzIHRoZSBpbnNwZWN0b3IgdmlzaWJpbGl0eVxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS50b2dnbGVJbnNwZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaW5zcGVjdG9yVmlzaWJsZSA9ICF0aGlzLmluc3BlY3RvclZpc2libGU7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRpbGVzZXQgc2VjdGlvblxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS50b2dnbGVUaWxlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnRpbGVzZXRWaXNpYmxlID0gIXRoaXMudGlsZXNldFZpc2libGU7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGRpc3BsYXkgc2VjdGlvblxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS50b2dnbGVEaXNwbGF5ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmRpc3BsYXlWaXNpYmxlID0gIXRoaXMuZGlzcGxheVZpc2libGU7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHVwZGF0ZSBzZWN0aW9uXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLnRvZ2dsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy51cGRhdGVWaXNpYmxlID0gIXRoaXMudXBkYXRlVmlzaWJsZTtcbn07XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbG9nZ2luZyBzZWN0aW9uXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLnRvZ2dsZUxvZ2dpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubG9nZ2luZ1Zpc2libGUgPSAhdGhpcy5sb2dnaW5nVmlzaWJsZTtcbn07XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgc3R5bGUgc2VjdGlvblxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS50b2dnbGVTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zdHlsZVZpc2libGUgPSAhdGhpcy5zdHlsZVZpc2libGU7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRpbGUgRGVidWcgSW5mbyBzZWN0aW9uXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLnRvZ2dsZVRpbGVEZWJ1Z0xhYmVscyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy50aWxlRGVidWdMYWJlbHNWaXNpYmxlID0gIXRoaXMudGlsZURlYnVnTGFiZWxzVmlzaWJsZTtcbn07XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgb3B0aW1pemF0aW9uIHNlY3Rpb25cbiAqL1xuQ2VzaXVtM0RUaWxlc0luc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGUudG9nZ2xlT3B0aW1pemF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLm9wdGltaXphdGlvblZpc2libGUgPSAhdGhpcy5vcHRpbWl6YXRpb25WaXNpYmxlO1xufTtcblxuLyoqXG4gKiBUcmltcyB0aWxlIGNhY2hlXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLnRyaW1UaWxlc0NhY2hlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZGVmaW5lZCh0aGlzLl90aWxlc2V0KSkge1xuICAgIHRoaXMuX3RpbGVzZXQudHJpbUxvYWRlZFRpbGVzKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29tcGlsZXMgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBlZGl0b3IuXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLmNvbXBpbGVTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRpbGVzZXQgPSB0aGlzLl90aWxlc2V0O1xuICBpZiAoIWRlZmluZWQodGlsZXNldCkgfHwgdGhpcy5zdHlsZVN0cmluZyA9PT0gSlNPTi5zdHJpbmdpZnkodGlsZXNldC5zdHlsZSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fZWRpdG9yRXJyb3IgPSBcIlwiO1xuICB0cnkge1xuICAgIGlmICh0aGlzLnN0eWxlU3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zdHlsZVN0cmluZyA9IFwie31cIjtcbiAgICB9XG4gICAgdGhpcy5fc3R5bGUgPSBuZXcgQ2VzaXVtM0RUaWxlU3R5bGUoSlNPTi5wYXJzZSh0aGlzLnN0eWxlU3RyaW5nKSk7XG4gICAgdGhpcy5fc2hvdWxkU3R5bGUgPSB0cnVlO1xuICAgIHRoaXMuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhpcy5fZWRpdG9yRXJyb3IgPSBlcnIudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vIHNldCBmZWF0dXJlIGFnYWluIHNvIHBpY2sgY29sb3JpbmcgaXMgc2V0XG4gIHRoaXMuZmVhdHVyZSA9IHRoaXMuX2ZlYXR1cmU7XG4gIHRoaXMudGlsZSA9IHRoaXMuX3RpbGU7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMga2V5IHByZXNzIGV2ZW50cyBvbiB0aGUgc3R5bGUgZWRpdG9yLlxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS5zdHlsZUVkaXRvcktleVByZXNzID0gZnVuY3Rpb24gKFxuICBzZW5kZXIsXG4gIGV2ZW50XG4pIHtcbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDkpIHtcbiAgICAvL3RhYlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHRleHRBcmVhID0gZXZlbnQudGFyZ2V0O1xuICAgIHZhciBzdGFydCA9IHRleHRBcmVhLnNlbGVjdGlvblN0YXJ0O1xuICAgIHZhciBlbmQgPSB0ZXh0QXJlYS5zZWxlY3Rpb25FbmQ7XG4gICAgdmFyIG5ld0VuZCA9IGVuZDtcbiAgICB2YXIgc2VsZWN0ZWQgPSB0ZXh0QXJlYS52YWx1ZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICB2YXIgbGluZXMgPSBzZWxlY3RlZC5zcGxpdChcIlxcblwiKTtcbiAgICB2YXIgbGVuZ3RoID0gbGluZXMubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIGlmICghZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICBsaW5lc1tpXSA9IFwiICBcIiArIGxpbmVzW2ldO1xuICAgICAgICBuZXdFbmQgKz0gMjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChsaW5lc1tpXVswXSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICBpZiAobGluZXNbaV1bMV0gPT09IFwiIFwiKSB7XG4gICAgICAgICAgICBsaW5lc1tpXSA9IGxpbmVzW2ldLnN1YnN0cigyKTtcbiAgICAgICAgICAgIG5ld0VuZCAtPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lc1tpXSA9IGxpbmVzW2ldLnN1YnN0cigxKTtcbiAgICAgICAgICAgIG5ld0VuZCAtPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbmV3VGV4dCA9IGxpbmVzLmpvaW4oXCJcXG5cIik7XG4gICAgdGV4dEFyZWEudmFsdWUgPVxuICAgICAgdGV4dEFyZWEudmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgbmV3VGV4dCArIHRleHRBcmVhLnZhbHVlLnNsaWNlKGVuZCk7XG4gICAgdGV4dEFyZWEuc2VsZWN0aW9uU3RhcnQgPSBzdGFydCAhPT0gZW5kID8gc3RhcnQgOiBuZXdFbmQ7XG4gICAgdGV4dEFyZWEuc2VsZWN0aW9uRW5kID0gbmV3RW5kO1xuICB9IGVsc2UgaWYgKGV2ZW50LmN0cmxLZXkgJiYgKGV2ZW50LmtleUNvZGUgPT09IDEwIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSkge1xuICAgIC8vY3RybCArIGVudGVyXG4gICAgdGhpcy5jb21waWxlU3R5bGUoKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHZpZXcgbW9kZWxcbiAqIEBwcml2YXRlXG4gKi9cbkNlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0aWxlc2V0ID0gdGhpcy5fdGlsZXNldDtcblxuICBpZiAodGhpcy5wZXJmb3JtYW5jZSkge1xuICAgIHRoaXMuX3BlcmZvcm1hbmNlRGlzcGxheS51cGRhdGUoKTtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRpbGVzZXQpKSB7XG4gICAgaWYgKHRpbGVzZXQuaXNEZXN0cm95ZWQoKSkge1xuICAgICAgdGhpcy50aWxlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5mZWF0dXJlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy50aWxlc2V0ID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzdHlsZSA9IHRpbGVzZXQuc3R5bGU7XG4gICAgaWYgKHRoaXMuX3N0eWxlICE9PSB0aWxlc2V0LnN0eWxlKSB7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkU3R5bGUpIHtcbiAgICAgICAgdGlsZXNldC5zdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB0aGlzLl9zaG91bGRTdHlsZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5zdHlsZVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHN0eWxlLnN0eWxlLCBudWxsLCBcIiAgXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodGhpcy5zaG93U3RhdGlzdGljcykge1xuICAgIHRoaXMuX3N0YXRpc3RpY3NUZXh0ID0gZ2V0U3RhdGlzdGljcyh0aWxlc2V0LCBmYWxzZSk7XG4gICAgdGhpcy5fcGlja1N0YXRpc3RpY3NUZXh0ID0gZ2V0U3RhdGlzdGljcyh0aWxlc2V0LCB0cnVlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5DZXNpdW0zRFRpbGVzSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgd2lkZ2V0LiAgU2hvdWxkIGJlIGNhbGxlZCBpZiBwZXJtYW5lbnRseVxuICogcmVtb3ZpbmcgdGhlIHdpZGdldCBmcm9tIGxheW91dC5cbiAqL1xuQ2VzaXVtM0RUaWxlc0luc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fZXZlbnRIYW5kbGVyLmRlc3Ryb3koKTtcbiAgdGhpcy5fcmVtb3ZlUG9zdFJlbmRlckV2ZW50KCk7XG5cbiAgdmFyIHRoYXQgPSB0aGlzO1xuICB0aGlzLl9kZWZpbmVkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgIGtub2Nrb3V0LmdldE9ic2VydmFibGUodGhhdCwgcHJvcGVydHkpLmRpc3Bvc2UoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhbiBIVE1MIHN0cmluZyBvZiB0aGUgc3RhdGlzdGljc1xuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtDZXNpdW0zRFRpbGVzZXR9IHRpbGVzZXQgVGhlIHRpbGVzZXRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNQaWNrIFdoZXRoZXIgdGhpcyBpcyBnZXR0aW5nIHRoZSBzdGF0aXN0aWNzIGZvciB0aGUgcGljayBwYXNzXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgZm9ybWF0dGVkIHN0YXRpc3RpY3NcbiAqL1xuQ2VzaXVtM0RUaWxlc0luc3BlY3RvclZpZXdNb2RlbC5nZXRTdGF0aXN0aWNzID0gZ2V0U3RhdGlzdGljcztcbmV4cG9ydCBkZWZhdWx0IENlc2l1bTNEVGlsZXNJbnNwZWN0b3JWaWV3TW9kZWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///88688\n')},42974:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(53454);\n/* harmony import */ var _getElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43412);\n/* harmony import */ var _InspectorShared_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99546);\n/* harmony import */ var _CesiumInspectorViewModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(23455);\n\n\n\n\n\n\n\n\n/**\n * Inspector widget to aid in debugging\n *\n * @alias CesiumInspector\n * @constructor\n *\n * @param {Element|String} container The DOM element or ID that will contain the widget.\n * @param {Scene} scene The Scene instance to use.\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Cesium%20Inspector.html|Cesium Sandcastle Cesium Inspector Demo}\n */\nfunction CesiumInspector(container, scene) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(container)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("container is required.");\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(scene)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("scene is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  container = (0,_getElement_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(container);\n\n  var performanceContainer = document.createElement("div");\n\n  var viewModel = new _CesiumInspectorViewModel_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(scene, performanceContainer);\n  this._viewModel = viewModel;\n  this._container = container;\n\n  var element = document.createElement("div");\n  this._element = element;\n  var text = document.createElement("div");\n  text.textContent = "Cesium Inspector";\n  text.className = "cesium-cesiumInspector-button";\n  text.setAttribute("data-bind", "click: toggleDropDown");\n  element.appendChild(text);\n  element.className = "cesium-cesiumInspector";\n  element.setAttribute(\n    "data-bind",\n    \'css: { "cesium-cesiumInspector-visible" : dropDownVisible, "cesium-cesiumInspector-hidden" : !dropDownVisible }\'\n  );\n  container.appendChild(this._element);\n\n  var panel = document.createElement("div");\n  this._panel = panel;\n  panel.className = "cesium-cesiumInspector-dropDown";\n  element.appendChild(panel);\n\n  var createSection = _InspectorShared_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].createSection */ .Z.createSection;\n  var createCheckbox = _InspectorShared_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].createCheckbox */ .Z.createCheckbox;\n\n  // General\n  var generalSection = createSection(\n    panel,\n    "General",\n    "generalVisible",\n    "toggleGeneral"\n  );\n\n  var debugShowFrustums = createCheckbox("Show Frustums", "frustums");\n  var frustumStatistics = document.createElement("div");\n  frustumStatistics.className = "cesium-cesiumInspector-frustumStatistics";\n  frustumStatistics.setAttribute(\n    "data-bind",\n    "visible: frustums, html: frustumStatisticText"\n  );\n  debugShowFrustums.appendChild(frustumStatistics);\n  generalSection.appendChild(debugShowFrustums);\n\n  generalSection.appendChild(\n    createCheckbox("Show Frustum Planes", "frustumPlanes")\n  );\n  generalSection.appendChild(\n    createCheckbox("Performance Display", "performance")\n  );\n\n  performanceContainer.className = "cesium-cesiumInspector-performanceDisplay";\n  generalSection.appendChild(performanceContainer);\n\n  var shaderCacheDisplay = document.createElement("div");\n  shaderCacheDisplay.className = "cesium-cesiumInspector-shaderCache";\n  shaderCacheDisplay.setAttribute("data-bind", "html: shaderCacheText");\n  generalSection.appendChild(shaderCacheDisplay);\n\n  // https://github.com/CesiumGS/cesium/issues/6763\n  // var globeDepth = createCheckbox(\'Show globe depth\', \'globeDepth\');\n  // generalSection.appendChild(globeDepth);\n  //\n  // var globeDepthFrustum = document.createElement(\'div\');\n  // globeDepth.appendChild(globeDepthFrustum);\n  //\n  // generalSection.appendChild(createCheckbox(\'Show pick depth\', \'pickDepth\'));\n\n  var depthFrustum = document.createElement("div");\n  generalSection.appendChild(depthFrustum);\n\n  // Use a span with HTML binding so that we can indent with non-breaking spaces.\n  var gLabel = document.createElement("span");\n  gLabel.setAttribute(\n    "data-bind",\n    \'html: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Frustum:"\'\n  );\n  depthFrustum.appendChild(gLabel);\n\n  var gText = document.createElement("span");\n  gText.setAttribute("data-bind", "text: depthFrustumText");\n  depthFrustum.appendChild(gText);\n\n  var gMinusButton = document.createElement("input");\n  gMinusButton.type = "button";\n  gMinusButton.value = "-";\n  gMinusButton.className = "cesium-cesiumInspector-pickButton";\n  gMinusButton.setAttribute("data-bind", "click: decrementDepthFrustum");\n  depthFrustum.appendChild(gMinusButton);\n\n  var gPlusButton = document.createElement("input");\n  gPlusButton.type = "button";\n  gPlusButton.value = "+";\n  gPlusButton.className = "cesium-cesiumInspector-pickButton";\n  gPlusButton.setAttribute("data-bind", "click: incrementDepthFrustum");\n  depthFrustum.appendChild(gPlusButton);\n\n  // Primitives\n  var primSection = createSection(\n    panel,\n    "Primitives",\n    "primitivesVisible",\n    "togglePrimitives"\n  );\n  var pickPrimRequired = document.createElement("div");\n  pickPrimRequired.className = "cesium-cesiumInspector-pickSection";\n  primSection.appendChild(pickPrimRequired);\n\n  var pickPrimitiveButton = document.createElement("input");\n  pickPrimitiveButton.type = "button";\n  pickPrimitiveButton.value = "Pick a primitive";\n  pickPrimitiveButton.className = "cesium-cesiumInspector-pickButton";\n  pickPrimitiveButton.setAttribute(\n    "data-bind",\n    \'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickPrimitiveActive}, click: pickPrimitive\'\n  );\n  var buttonWrap = document.createElement("div");\n  buttonWrap.className = "cesium-cesiumInspector-center";\n  buttonWrap.appendChild(pickPrimitiveButton);\n  pickPrimRequired.appendChild(buttonWrap);\n\n  pickPrimRequired.appendChild(\n    createCheckbox(\n      "Show bounding sphere",\n      "primitiveBoundingSphere",\n      "hasPickedPrimitive"\n    )\n  );\n  pickPrimRequired.appendChild(\n    createCheckbox(\n      "Show reference frame",\n      "primitiveReferenceFrame",\n      "hasPickedPrimitive"\n    )\n  );\n\n  this._primitiveOnly = createCheckbox(\n    "Show only selected",\n    "filterPrimitive",\n    "hasPickedPrimitive"\n  );\n  pickPrimRequired.appendChild(this._primitiveOnly);\n\n  // Terrain\n  var terrainSection = createSection(\n    panel,\n    "Terrain",\n    "terrainVisible",\n    "toggleTerrain"\n  );\n  var pickTileRequired = document.createElement("div");\n  pickTileRequired.className = "cesium-cesiumInspector-pickSection";\n  terrainSection.appendChild(pickTileRequired);\n  var pickTileButton = document.createElement("input");\n  pickTileButton.type = "button";\n  pickTileButton.value = "Pick a tile";\n  pickTileButton.className = "cesium-cesiumInspector-pickButton";\n  pickTileButton.setAttribute(\n    "data-bind",\n    \'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickTileActive}, click: pickTile\'\n  );\n  buttonWrap = document.createElement("div");\n  buttonWrap.appendChild(pickTileButton);\n  buttonWrap.className = "cesium-cesiumInspector-center";\n  pickTileRequired.appendChild(buttonWrap);\n  var tileInfo = document.createElement("div");\n  pickTileRequired.appendChild(tileInfo);\n  var parentTile = document.createElement("input");\n  parentTile.type = "button";\n  parentTile.value = "Parent";\n  parentTile.className = "cesium-cesiumInspector-pickButton";\n  parentTile.setAttribute("data-bind", "click: selectParent");\n  var nwTile = document.createElement("input");\n  nwTile.type = "button";\n  nwTile.value = "NW";\n  nwTile.className = "cesium-cesiumInspector-pickButton";\n  nwTile.setAttribute("data-bind", "click: selectNW");\n  var neTile = document.createElement("input");\n  neTile.type = "button";\n  neTile.value = "NE";\n  neTile.className = "cesium-cesiumInspector-pickButton";\n  neTile.setAttribute("data-bind", "click: selectNE");\n  var swTile = document.createElement("input");\n  swTile.type = "button";\n  swTile.value = "SW";\n  swTile.className = "cesium-cesiumInspector-pickButton";\n  swTile.setAttribute("data-bind", "click: selectSW");\n  var seTile = document.createElement("input");\n  seTile.type = "button";\n  seTile.value = "SE";\n  seTile.className = "cesium-cesiumInspector-pickButton";\n  seTile.setAttribute("data-bind", "click: selectSE");\n\n  var tileText = document.createElement("div");\n  tileText.className = "cesium-cesiumInspector-tileText";\n  tileInfo.className = "cesium-cesiumInspector-frustumStatistics";\n  tileInfo.appendChild(tileText);\n  tileInfo.setAttribute("data-bind", "visible: hasPickedTile");\n  tileText.setAttribute("data-bind", "html: tileText");\n\n  var relativeText = document.createElement("div");\n  relativeText.className = "cesium-cesiumInspector-relativeText";\n  relativeText.textContent = "Select relative:";\n  tileInfo.appendChild(relativeText);\n\n  var table = document.createElement("table");\n  var tr1 = document.createElement("tr");\n  var tr2 = document.createElement("tr");\n  var td1 = document.createElement("td");\n  td1.appendChild(parentTile);\n  var td2 = document.createElement("td");\n  td2.appendChild(nwTile);\n  var td3 = document.createElement("td");\n  td3.appendChild(neTile);\n  tr1.appendChild(td1);\n  tr1.appendChild(td2);\n  tr1.appendChild(td3);\n  var td4 = document.createElement("td");\n  var td5 = document.createElement("td");\n  td5.appendChild(swTile);\n  var td6 = document.createElement("td");\n  td6.appendChild(seTile);\n  tr2.appendChild(td4);\n  tr2.appendChild(td5);\n  tr2.appendChild(td6);\n  table.appendChild(tr1);\n  table.appendChild(tr2);\n\n  tileInfo.appendChild(table);\n\n  pickTileRequired.appendChild(\n    createCheckbox(\n      "Show bounding volume",\n      "tileBoundingSphere",\n      "hasPickedTile"\n    )\n  );\n  pickTileRequired.appendChild(\n    createCheckbox("Show only selected", "filterTile", "hasPickedTile")\n  );\n\n  terrainSection.appendChild(createCheckbox("Wireframe", "wireframe"));\n  terrainSection.appendChild(\n    createCheckbox("Suspend LOD update", "suspendUpdates")\n  );\n  terrainSection.appendChild(\n    createCheckbox("Show tile coordinates", "tileCoordinates")\n  );\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].applyBindings */ .Z.applyBindings(viewModel, this._element);\n}\n\nObject.defineProperties(CesiumInspector.prototype, {\n  /**\n   * Gets the parent container.\n   * @memberof CesiumInspector.prototype\n   *\n   * @type {Element}\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   * @memberof CesiumInspector.prototype\n   *\n   * @type {CesiumInspectorViewModel}\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nCesiumInspector.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nCesiumInspector.prototype.destroy = function () {\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].cleanNode */ .Z.cleanNode(this._element);\n  this._container.removeChild(this._element);\n  this.viewModel.destroy();\n\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this);\n};\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (CesiumInspector)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI5NzQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0QztBQUNZO0FBQ0U7QUFDTjtBQUNWO0FBQ1U7QUFDaUI7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1Qjs7QUFFQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBOztBQUVBLGNBQWMsbUVBQVU7O0FBRXhCOztBQUVBLHNCQUFzQiw2RUFBd0I7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0dBQXdHO0FBQ3BIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGdHQUE2QjtBQUNuRCx1QkFBdUIsa0dBQThCOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1FQUFtRTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxvR0FBc0I7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDRGQUFrQjtBQUNwQjtBQUNBOztBQUVBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSxzRUFBZSwrREFBZSxJQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1dpZGdldHMvQ2VzaXVtSW5zcGVjdG9yL0Nlc2l1bUluc3BlY3Rvci5qcz80Yjc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi8uLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi8uLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IGtub2Nrb3V0IGZyb20gXCIuLi8uLi9UaGlyZFBhcnR5L2tub2Nrb3V0LmpzXCI7XG5pbXBvcnQgZ2V0RWxlbWVudCBmcm9tIFwiLi4vZ2V0RWxlbWVudC5qc1wiO1xuaW1wb3J0IEluc3BlY3RvclNoYXJlZCBmcm9tIFwiLi4vSW5zcGVjdG9yU2hhcmVkLmpzXCI7XG5pbXBvcnQgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsIGZyb20gXCIuL0Nlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5qc1wiO1xuXG4vKipcbiAqIEluc3BlY3RvciB3aWRnZXQgdG8gYWlkIGluIGRlYnVnZ2luZ1xuICpcbiAqIEBhbGlhcyBDZXNpdW1JbnNwZWN0b3JcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd9IGNvbnRhaW5lciBUaGUgRE9NIGVsZW1lbnQgb3IgSUQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIHdpZGdldC5cbiAqIEBwYXJhbSB7U2NlbmV9IHNjZW5lIFRoZSBTY2VuZSBpbnN0YW5jZSB0byB1c2UuXG4gKlxuICogQGRlbW8ge0BsaW5rIGh0dHBzOi8vc2FuZGNhc3RsZS5jZXNpdW0uY29tL2luZGV4Lmh0bWw/c3JjPUNlc2l1bSUyMEluc3BlY3Rvci5odG1sfENlc2l1bSBTYW5kY2FzdGxlIENlc2l1bSBJbnNwZWN0b3IgRGVtb31cbiAqL1xuZnVuY3Rpb24gQ2VzaXVtSW5zcGVjdG9yKGNvbnRhaW5lciwgc2NlbmUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGNvbnRhaW5lcikpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJjb250YWluZXIgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKHNjZW5lKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInNjZW5lIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBjb250YWluZXIgPSBnZXRFbGVtZW50KGNvbnRhaW5lcik7XG5cbiAgdmFyIHBlcmZvcm1hbmNlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICB2YXIgdmlld01vZGVsID0gbmV3IENlc2l1bUluc3BlY3RvclZpZXdNb2RlbChzY2VuZSwgcGVyZm9ybWFuY2VDb250YWluZXIpO1xuICB0aGlzLl92aWV3TW9kZWwgPSB2aWV3TW9kZWw7XG4gIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICB2YXIgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRleHQudGV4dENvbnRlbnQgPSBcIkNlc2l1bSBJbnNwZWN0b3JcIjtcbiAgdGV4dC5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItYnV0dG9uXCI7XG4gIHRleHQuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwiY2xpY2s6IHRvZ2dsZURyb3BEb3duXCIpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHRleHQpO1xuICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3RvclwiO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICBcImRhdGEtYmluZFwiLFxuICAgICdjc3M6IHsgXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXZpc2libGVcIiA6IGRyb3BEb3duVmlzaWJsZSwgXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLWhpZGRlblwiIDogIWRyb3BEb3duVmlzaWJsZSB9J1xuICApO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG5cbiAgdmFyIHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGhpcy5fcGFuZWwgPSBwYW5lbDtcbiAgcGFuZWwuY2xhc3NOYW1lID0gXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLWRyb3BEb3duXCI7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQocGFuZWwpO1xuXG4gIHZhciBjcmVhdGVTZWN0aW9uID0gSW5zcGVjdG9yU2hhcmVkLmNyZWF0ZVNlY3Rpb247XG4gIHZhciBjcmVhdGVDaGVja2JveCA9IEluc3BlY3RvclNoYXJlZC5jcmVhdGVDaGVja2JveDtcblxuICAvLyBHZW5lcmFsXG4gIHZhciBnZW5lcmFsU2VjdGlvbiA9IGNyZWF0ZVNlY3Rpb24oXG4gICAgcGFuZWwsXG4gICAgXCJHZW5lcmFsXCIsXG4gICAgXCJnZW5lcmFsVmlzaWJsZVwiLFxuICAgIFwidG9nZ2xlR2VuZXJhbFwiXG4gICk7XG5cbiAgdmFyIGRlYnVnU2hvd0ZydXN0dW1zID0gY3JlYXRlQ2hlY2tib3goXCJTaG93IEZydXN0dW1zXCIsIFwiZnJ1c3R1bXNcIik7XG4gIHZhciBmcnVzdHVtU3RhdGlzdGljcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGZydXN0dW1TdGF0aXN0aWNzLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1mcnVzdHVtU3RhdGlzdGljc1wiO1xuICBmcnVzdHVtU3RhdGlzdGljcy5zZXRBdHRyaWJ1dGUoXG4gICAgXCJkYXRhLWJpbmRcIixcbiAgICBcInZpc2libGU6IGZydXN0dW1zLCBodG1sOiBmcnVzdHVtU3RhdGlzdGljVGV4dFwiXG4gICk7XG4gIGRlYnVnU2hvd0ZydXN0dW1zLmFwcGVuZENoaWxkKGZydXN0dW1TdGF0aXN0aWNzKTtcbiAgZ2VuZXJhbFNlY3Rpb24uYXBwZW5kQ2hpbGQoZGVidWdTaG93RnJ1c3R1bXMpO1xuXG4gIGdlbmVyYWxTZWN0aW9uLmFwcGVuZENoaWxkKFxuICAgIGNyZWF0ZUNoZWNrYm94KFwiU2hvdyBGcnVzdHVtIFBsYW5lc1wiLCBcImZydXN0dW1QbGFuZXNcIilcbiAgKTtcbiAgZ2VuZXJhbFNlY3Rpb24uYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJQZXJmb3JtYW5jZSBEaXNwbGF5XCIsIFwicGVyZm9ybWFuY2VcIilcbiAgKTtcblxuICBwZXJmb3JtYW5jZUNvbnRhaW5lci5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItcGVyZm9ybWFuY2VEaXNwbGF5XCI7XG4gIGdlbmVyYWxTZWN0aW9uLmFwcGVuZENoaWxkKHBlcmZvcm1hbmNlQ29udGFpbmVyKTtcblxuICB2YXIgc2hhZGVyQ2FjaGVEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgc2hhZGVyQ2FjaGVEaXNwbGF5LmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1zaGFkZXJDYWNoZVwiO1xuICBzaGFkZXJDYWNoZURpc3BsYXkuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwiaHRtbDogc2hhZGVyQ2FjaGVUZXh0XCIpO1xuICBnZW5lcmFsU2VjdGlvbi5hcHBlbmRDaGlsZChzaGFkZXJDYWNoZURpc3BsYXkpO1xuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9jZXNpdW0vaXNzdWVzLzY3NjNcbiAgLy8gdmFyIGdsb2JlRGVwdGggPSBjcmVhdGVDaGVja2JveCgnU2hvdyBnbG9iZSBkZXB0aCcsICdnbG9iZURlcHRoJyk7XG4gIC8vIGdlbmVyYWxTZWN0aW9uLmFwcGVuZENoaWxkKGdsb2JlRGVwdGgpO1xuICAvL1xuICAvLyB2YXIgZ2xvYmVEZXB0aEZydXN0dW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgLy8gZ2xvYmVEZXB0aC5hcHBlbmRDaGlsZChnbG9iZURlcHRoRnJ1c3R1bSk7XG4gIC8vXG4gIC8vIGdlbmVyYWxTZWN0aW9uLmFwcGVuZENoaWxkKGNyZWF0ZUNoZWNrYm94KCdTaG93IHBpY2sgZGVwdGgnLCAncGlja0RlcHRoJykpO1xuXG4gIHZhciBkZXB0aEZydXN0dW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBnZW5lcmFsU2VjdGlvbi5hcHBlbmRDaGlsZChkZXB0aEZydXN0dW0pO1xuXG4gIC8vIFVzZSBhIHNwYW4gd2l0aCBIVE1MIGJpbmRpbmcgc28gdGhhdCB3ZSBjYW4gaW5kZW50IHdpdGggbm9uLWJyZWFraW5nIHNwYWNlcy5cbiAgdmFyIGdMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBnTGFiZWwuc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgJ2h0bWw6IFwiJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7RnJ1c3R1bTpcIidcbiAgKTtcbiAgZGVwdGhGcnVzdHVtLmFwcGVuZENoaWxkKGdMYWJlbCk7XG5cbiAgdmFyIGdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGdUZXh0LnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcInRleHQ6IGRlcHRoRnJ1c3R1bVRleHRcIik7XG4gIGRlcHRoRnJ1c3R1bS5hcHBlbmRDaGlsZChnVGV4dCk7XG5cbiAgdmFyIGdNaW51c0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgZ01pbnVzQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICBnTWludXNCdXR0b24udmFsdWUgPSBcIi1cIjtcbiAgZ01pbnVzQnV0dG9uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uXCI7XG4gIGdNaW51c0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJjbGljazogZGVjcmVtZW50RGVwdGhGcnVzdHVtXCIpO1xuICBkZXB0aEZydXN0dW0uYXBwZW5kQ2hpbGQoZ01pbnVzQnV0dG9uKTtcblxuICB2YXIgZ1BsdXNCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGdQbHVzQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICBnUGx1c0J1dHRvbi52YWx1ZSA9IFwiK1wiO1xuICBnUGx1c0J1dHRvbi5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItcGlja0J1dHRvblwiO1xuICBnUGx1c0J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJjbGljazogaW5jcmVtZW50RGVwdGhGcnVzdHVtXCIpO1xuICBkZXB0aEZydXN0dW0uYXBwZW5kQ2hpbGQoZ1BsdXNCdXR0b24pO1xuXG4gIC8vIFByaW1pdGl2ZXNcbiAgdmFyIHByaW1TZWN0aW9uID0gY3JlYXRlU2VjdGlvbihcbiAgICBwYW5lbCxcbiAgICBcIlByaW1pdGl2ZXNcIixcbiAgICBcInByaW1pdGl2ZXNWaXNpYmxlXCIsXG4gICAgXCJ0b2dnbGVQcmltaXRpdmVzXCJcbiAgKTtcbiAgdmFyIHBpY2tQcmltUmVxdWlyZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBwaWNrUHJpbVJlcXVpcmVkLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrU2VjdGlvblwiO1xuICBwcmltU2VjdGlvbi5hcHBlbmRDaGlsZChwaWNrUHJpbVJlcXVpcmVkKTtcblxuICB2YXIgcGlja1ByaW1pdGl2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgcGlja1ByaW1pdGl2ZUJ1dHRvbi50eXBlID0gXCJidXR0b25cIjtcbiAgcGlja1ByaW1pdGl2ZUJ1dHRvbi52YWx1ZSA9IFwiUGljayBhIHByaW1pdGl2ZVwiO1xuICBwaWNrUHJpbWl0aXZlQnV0dG9uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uXCI7XG4gIHBpY2tQcmltaXRpdmVCdXR0b24uc2V0QXR0cmlidXRlKFxuICAgIFwiZGF0YS1iaW5kXCIsXG4gICAgJ2Nzczoge1wiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uSGlnaGxpZ2h0XCIgOiBwaWNrUHJpbWl0aXZlQWN0aXZlfSwgY2xpY2s6IHBpY2tQcmltaXRpdmUnXG4gICk7XG4gIHZhciBidXR0b25XcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYnV0dG9uV3JhcC5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItY2VudGVyXCI7XG4gIGJ1dHRvbldyYXAuYXBwZW5kQ2hpbGQocGlja1ByaW1pdGl2ZUJ1dHRvbik7XG4gIHBpY2tQcmltUmVxdWlyZWQuYXBwZW5kQ2hpbGQoYnV0dG9uV3JhcCk7XG5cbiAgcGlja1ByaW1SZXF1aXJlZC5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcbiAgICAgIFwiU2hvdyBib3VuZGluZyBzcGhlcmVcIixcbiAgICAgIFwicHJpbWl0aXZlQm91bmRpbmdTcGhlcmVcIixcbiAgICAgIFwiaGFzUGlja2VkUHJpbWl0aXZlXCJcbiAgICApXG4gICk7XG4gIHBpY2tQcmltUmVxdWlyZWQuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXG4gICAgICBcIlNob3cgcmVmZXJlbmNlIGZyYW1lXCIsXG4gICAgICBcInByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lXCIsXG4gICAgICBcImhhc1BpY2tlZFByaW1pdGl2ZVwiXG4gICAgKVxuICApO1xuXG4gIHRoaXMuX3ByaW1pdGl2ZU9ubHkgPSBjcmVhdGVDaGVja2JveChcbiAgICBcIlNob3cgb25seSBzZWxlY3RlZFwiLFxuICAgIFwiZmlsdGVyUHJpbWl0aXZlXCIsXG4gICAgXCJoYXNQaWNrZWRQcmltaXRpdmVcIlxuICApO1xuICBwaWNrUHJpbVJlcXVpcmVkLmFwcGVuZENoaWxkKHRoaXMuX3ByaW1pdGl2ZU9ubHkpO1xuXG4gIC8vIFRlcnJhaW5cbiAgdmFyIHRlcnJhaW5TZWN0aW9uID0gY3JlYXRlU2VjdGlvbihcbiAgICBwYW5lbCxcbiAgICBcIlRlcnJhaW5cIixcbiAgICBcInRlcnJhaW5WaXNpYmxlXCIsXG4gICAgXCJ0b2dnbGVUZXJyYWluXCJcbiAgKTtcbiAgdmFyIHBpY2tUaWxlUmVxdWlyZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBwaWNrVGlsZVJlcXVpcmVkLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrU2VjdGlvblwiO1xuICB0ZXJyYWluU2VjdGlvbi5hcHBlbmRDaGlsZChwaWNrVGlsZVJlcXVpcmVkKTtcbiAgdmFyIHBpY2tUaWxlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBwaWNrVGlsZUJ1dHRvbi50eXBlID0gXCJidXR0b25cIjtcbiAgcGlja1RpbGVCdXR0b24udmFsdWUgPSBcIlBpY2sgYSB0aWxlXCI7XG4gIHBpY2tUaWxlQnV0dG9uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uXCI7XG4gIHBpY2tUaWxlQnV0dG9uLnNldEF0dHJpYnV0ZShcbiAgICBcImRhdGEtYmluZFwiLFxuICAgICdjc3M6IHtcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItcGlja0J1dHRvbkhpZ2hsaWdodFwiIDogcGlja1RpbGVBY3RpdmV9LCBjbGljazogcGlja1RpbGUnXG4gICk7XG4gIGJ1dHRvbldyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBidXR0b25XcmFwLmFwcGVuZENoaWxkKHBpY2tUaWxlQnV0dG9uKTtcbiAgYnV0dG9uV3JhcC5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItY2VudGVyXCI7XG4gIHBpY2tUaWxlUmVxdWlyZWQuYXBwZW5kQ2hpbGQoYnV0dG9uV3JhcCk7XG4gIHZhciB0aWxlSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHBpY2tUaWxlUmVxdWlyZWQuYXBwZW5kQ2hpbGQodGlsZUluZm8pO1xuICB2YXIgcGFyZW50VGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgcGFyZW50VGlsZS50eXBlID0gXCJidXR0b25cIjtcbiAgcGFyZW50VGlsZS52YWx1ZSA9IFwiUGFyZW50XCI7XG4gIHBhcmVudFRpbGUuY2xhc3NOYW1lID0gXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXBpY2tCdXR0b25cIjtcbiAgcGFyZW50VGlsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJjbGljazogc2VsZWN0UGFyZW50XCIpO1xuICB2YXIgbndUaWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBud1RpbGUudHlwZSA9IFwiYnV0dG9uXCI7XG4gIG53VGlsZS52YWx1ZSA9IFwiTldcIjtcbiAgbndUaWxlLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uXCI7XG4gIG53VGlsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJjbGljazogc2VsZWN0TldcIik7XG4gIHZhciBuZVRpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIG5lVGlsZS50eXBlID0gXCJidXR0b25cIjtcbiAgbmVUaWxlLnZhbHVlID0gXCJORVwiO1xuICBuZVRpbGUuY2xhc3NOYW1lID0gXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXBpY2tCdXR0b25cIjtcbiAgbmVUaWxlLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcImNsaWNrOiBzZWxlY3RORVwiKTtcbiAgdmFyIHN3VGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgc3dUaWxlLnR5cGUgPSBcImJ1dHRvblwiO1xuICBzd1RpbGUudmFsdWUgPSBcIlNXXCI7XG4gIHN3VGlsZS5jbGFzc05hbWUgPSBcImNlc2l1bS1jZXNpdW1JbnNwZWN0b3ItcGlja0J1dHRvblwiO1xuICBzd1RpbGUuc2V0QXR0cmlidXRlKFwiZGF0YS1iaW5kXCIsIFwiY2xpY2s6IHNlbGVjdFNXXCIpO1xuICB2YXIgc2VUaWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBzZVRpbGUudHlwZSA9IFwiYnV0dG9uXCI7XG4gIHNlVGlsZS52YWx1ZSA9IFwiU0VcIjtcbiAgc2VUaWxlLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1waWNrQnV0dG9uXCI7XG4gIHNlVGlsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIiwgXCJjbGljazogc2VsZWN0U0VcIik7XG5cbiAgdmFyIHRpbGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGlsZVRleHQuY2xhc3NOYW1lID0gXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXRpbGVUZXh0XCI7XG4gIHRpbGVJbmZvLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNlc2l1bUluc3BlY3Rvci1mcnVzdHVtU3RhdGlzdGljc1wiO1xuICB0aWxlSW5mby5hcHBlbmRDaGlsZCh0aWxlVGV4dCk7XG4gIHRpbGVJbmZvLnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcInZpc2libGU6IGhhc1BpY2tlZFRpbGVcIik7XG4gIHRpbGVUZXh0LnNldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiLCBcImh0bWw6IHRpbGVUZXh0XCIpO1xuXG4gIHZhciByZWxhdGl2ZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByZWxhdGl2ZVRleHQuY2xhc3NOYW1lID0gXCJjZXNpdW0tY2VzaXVtSW5zcGVjdG9yLXJlbGF0aXZlVGV4dFwiO1xuICByZWxhdGl2ZVRleHQudGV4dENvbnRlbnQgPSBcIlNlbGVjdCByZWxhdGl2ZTpcIjtcbiAgdGlsZUluZm8uYXBwZW5kQ2hpbGQocmVsYXRpdmVUZXh0KTtcblxuICB2YXIgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gIHZhciB0cjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gIHZhciB0cjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gIHZhciB0ZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gIHRkMS5hcHBlbmRDaGlsZChwYXJlbnRUaWxlKTtcbiAgdmFyIHRkMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgdGQyLmFwcGVuZENoaWxkKG53VGlsZSk7XG4gIHZhciB0ZDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gIHRkMy5hcHBlbmRDaGlsZChuZVRpbGUpO1xuICB0cjEuYXBwZW5kQ2hpbGQodGQxKTtcbiAgdHIxLmFwcGVuZENoaWxkKHRkMik7XG4gIHRyMS5hcHBlbmRDaGlsZCh0ZDMpO1xuICB2YXIgdGQ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICB2YXIgdGQ1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICB0ZDUuYXBwZW5kQ2hpbGQoc3dUaWxlKTtcbiAgdmFyIHRkNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgdGQ2LmFwcGVuZENoaWxkKHNlVGlsZSk7XG4gIHRyMi5hcHBlbmRDaGlsZCh0ZDQpO1xuICB0cjIuYXBwZW5kQ2hpbGQodGQ1KTtcbiAgdHIyLmFwcGVuZENoaWxkKHRkNik7XG4gIHRhYmxlLmFwcGVuZENoaWxkKHRyMSk7XG4gIHRhYmxlLmFwcGVuZENoaWxkKHRyMik7XG5cbiAgdGlsZUluZm8uYXBwZW5kQ2hpbGQodGFibGUpO1xuXG4gIHBpY2tUaWxlUmVxdWlyZWQuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXG4gICAgICBcIlNob3cgYm91bmRpbmcgdm9sdW1lXCIsXG4gICAgICBcInRpbGVCb3VuZGluZ1NwaGVyZVwiLFxuICAgICAgXCJoYXNQaWNrZWRUaWxlXCJcbiAgICApXG4gICk7XG4gIHBpY2tUaWxlUmVxdWlyZWQuYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJTaG93IG9ubHkgc2VsZWN0ZWRcIiwgXCJmaWx0ZXJUaWxlXCIsIFwiaGFzUGlja2VkVGlsZVwiKVxuICApO1xuXG4gIHRlcnJhaW5TZWN0aW9uLmFwcGVuZENoaWxkKGNyZWF0ZUNoZWNrYm94KFwiV2lyZWZyYW1lXCIsIFwid2lyZWZyYW1lXCIpKTtcbiAgdGVycmFpblNlY3Rpb24uYXBwZW5kQ2hpbGQoXG4gICAgY3JlYXRlQ2hlY2tib3goXCJTdXNwZW5kIExPRCB1cGRhdGVcIiwgXCJzdXNwZW5kVXBkYXRlc1wiKVxuICApO1xuICB0ZXJyYWluU2VjdGlvbi5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVDaGVja2JveChcIlNob3cgdGlsZSBjb29yZGluYXRlc1wiLCBcInRpbGVDb29yZGluYXRlc1wiKVxuICApO1xuXG4gIGtub2Nrb3V0LmFwcGx5QmluZGluZ3Modmlld01vZGVsLCB0aGlzLl9lbGVtZW50KTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ2VzaXVtSW5zcGVjdG9yLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgcGFyZW50IGNvbnRhaW5lci5cbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3Rvci5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0VsZW1lbnR9XG4gICAqL1xuICBjb250YWluZXI6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgdmlldyBtb2RlbC5cbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3Rvci5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Nlc2l1bUluc3BlY3RvclZpZXdNb2RlbH1cbiAgICovXG4gIHZpZXdNb2RlbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdNb2RlbDtcbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuQ2VzaXVtSW5zcGVjdG9yLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgd2lkZ2V0LiAgU2hvdWxkIGJlIGNhbGxlZCBpZiBwZXJtYW5lbnRseVxuICogcmVtb3ZpbmcgdGhlIHdpZGdldCBmcm9tIGxheW91dC5cbiAqL1xuQ2VzaXVtSW5zcGVjdG9yLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBrbm9ja291dC5jbGVhbk5vZGUodGhpcy5fZWxlbWVudCk7XG4gIHRoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgdGhpcy52aWV3TW9kZWwuZGVzdHJveSgpO1xuXG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IENlc2l1bUluc3BlY3RvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///42974\n')},23455:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Ray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68457);\n/* harmony import */ var _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(96190);\n/* harmony import */ var _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(20406);\n/* harmony import */ var _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(35452);\n/* harmony import */ var _Scene_DebugModelMatrixPrimitive_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(84792);\n/* harmony import */ var _Scene_PerformanceDisplay_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(73829);\n/* harmony import */ var _Scene_TileCoordinatesImageryProvider_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(78973);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(53454);\n/* harmony import */ var _createCommand_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(28389);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction frustumStatisticsToString(statistics) {\n  var str;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(statistics)) {\n    str = "Command Statistics";\n    var com = statistics.commandsInFrustums;\n    for (var n in com) {\n      if (com.hasOwnProperty(n)) {\n        var num = parseInt(n, 10);\n        var s;\n        if (num === 7) {\n          s = "1, 2 and 3";\n        } else {\n          var f = [];\n          for (var i = 2; i >= 0; i--) {\n            var p = Math.pow(2, i);\n            if (num >= p) {\n              f.push(i + 1);\n              num -= p;\n            }\n          }\n          s = f.reverse().join(" and ");\n        }\n        str += "<br>&nbsp;&nbsp;&nbsp;&nbsp;" + com[n] + " in frustum " + s;\n      }\n    }\n    str += "<br>Total: " + statistics.totalCommands;\n  }\n\n  return str;\n}\n\nfunction boundDepthFrustum(lower, upper, proposed) {\n  var bounded = Math.min(proposed, upper);\n  bounded = Math.max(bounded, lower);\n  return bounded;\n}\n\nvar scratchPickRay = new _Core_Ray_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\nvar scratchPickCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\n/**\n * The view model for {@link CesiumInspector}.\n * @alias CesiumInspectorViewModel\n * @constructor\n *\n * @param {Scene} scene The scene instance to use.\n * @param {Element} performanceContainer The instance to use for performance container.\n */\nfunction CesiumInspectorViewModel(scene, performanceContainer) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(scene)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("scene is required");\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(performanceContainer)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("performanceContainer is required");\n  }\n  //>>includeEnd(\'debug\');\n\n  var that = this;\n  var canvas = scene.canvas;\n  var eventHandler = new _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(canvas);\n  this._eventHandler = eventHandler;\n  this._scene = scene;\n  this._canvas = canvas;\n  this._primitive = undefined;\n  this._tile = undefined;\n  this._modelMatrixPrimitive = undefined;\n  this._performanceDisplay = undefined;\n  this._performanceContainer = performanceContainer;\n\n  var globe = this._scene.globe;\n  globe.depthTestAgainstTerrain = true;\n\n  /**\n   * Gets or sets the show frustums state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.frustums = false;\n\n  /**\n   * Gets or sets the show frustum planes state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.frustumPlanes = false;\n\n  /**\n   * Gets or sets the show performance display state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.performance = false;\n\n  /**\n   * Gets or sets the shader cache text.  This property is observable.\n   * @type {String}\n   * @default \'\'\n   */\n  this.shaderCacheText = "";\n\n  /**\n   * Gets or sets the show primitive bounding sphere state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.primitiveBoundingSphere = false;\n\n  /**\n   * Gets or sets the show primitive reference frame state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.primitiveReferenceFrame = false;\n\n  /**\n   * Gets or sets the filter primitive state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.filterPrimitive = false;\n\n  /**\n   * Gets or sets the show tile bounding sphere state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.tileBoundingSphere = false;\n\n  /**\n   * Gets or sets the filter tile state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.filterTile = false;\n\n  /**\n   * Gets or sets the show wireframe state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.wireframe = false;\n\n  /**\n   * Gets or sets the show globe depth state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.globeDepth = false;\n\n  /**\n   * Gets or sets the show pick depth state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.pickDepth = false;\n\n  /**\n   * Gets or sets the index of the depth frustum to display.  This property is observable.\n   * @type {Number}\n   * @default 1\n   */\n  this.depthFrustum = 1;\n  this._numberOfFrustums = 1;\n\n  /**\n   * Gets or sets the suspend updates state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.suspendUpdates = false;\n\n  /**\n   * Gets or sets the show tile coordinates state.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.tileCoordinates = false;\n\n  /**\n   * Gets or sets the frustum statistic text.  This property is observable.\n   * @type {String}\n   * @default \'\'\n   */\n  this.frustumStatisticText = false;\n\n  /**\n   * Gets or sets the selected tile information text.  This property is observable.\n   * @type {String}\n   * @default \'\'\n   */\n  this.tileText = "";\n\n  /**\n   * Gets if a primitive has been selected.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.hasPickedPrimitive = false;\n\n  /**\n   * Gets if a tile has been selected.  This property is observable\n   * @type {Boolean}\n   * @default false\n   */\n  this.hasPickedTile = false;\n\n  /**\n   * Gets if the picking primitive command is active.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.pickPrimitiveActive = false;\n\n  /**\n   * Gets if the picking tile command is active.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.pickTileActive = false;\n\n  /**\n   * Gets or sets if the cesium inspector drop down is visible.  This property is observable.\n   * @type {Boolean}\n   * @default true\n   */\n  this.dropDownVisible = true;\n\n  /**\n   * Gets or sets if the general section is visible.  This property is observable.\n   * @type {Boolean}\n   * @default true\n   */\n  this.generalVisible = true;\n\n  /**\n   * Gets or sets if the primitive section is visible.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.primitivesVisible = false;\n\n  /**\n   * Gets or sets if the terrain section is visible.  This property is observable.\n   * @type {Boolean}\n   * @default false\n   */\n  this.terrainVisible = false;\n\n  /**\n   * Gets or sets the index of the depth frustum text.  This property is observable.\n   * @type {String}\n   * @default \'\'\n   */\n  this.depthFrustumText = "";\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].track */ .Z.track(this, [\n    "frustums",\n    "frustumPlanes",\n    "performance",\n    "shaderCacheText",\n    "primitiveBoundingSphere",\n    "primitiveReferenceFrame",\n    "filterPrimitive",\n    "tileBoundingSphere",\n    "filterTile",\n    "wireframe",\n    "globeDepth",\n    "pickDepth",\n    "depthFrustum",\n    "suspendUpdates",\n    "tileCoordinates",\n    "frustumStatisticText",\n    "tileText",\n    "hasPickedPrimitive",\n    "hasPickedTile",\n    "pickPrimitiveActive",\n    "pickTileActive",\n    "dropDownVisible",\n    "generalVisible",\n    "primitivesVisible",\n    "terrainVisible",\n    "depthFrustumText",\n  ]);\n\n  this._toggleDropDown = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that.dropDownVisible = !that.dropDownVisible;\n  });\n\n  this._toggleGeneral = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that.generalVisible = !that.generalVisible;\n  });\n\n  this._togglePrimitives = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that.primitivesVisible = !that.primitivesVisible;\n  });\n\n  this._toggleTerrain = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that.terrainVisible = !that.terrainVisible;\n  });\n\n  this._frustumsSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "frustums")\n    .subscribe(function (val) {\n      that._scene.debugShowFrustums = val;\n      that._scene.requestRender();\n    });\n\n  this._frustumPlanesSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "frustumPlanes")\n    .subscribe(function (val) {\n      that._scene.debugShowFrustumPlanes = val;\n      that._scene.requestRender();\n    });\n\n  this._performanceSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "performance")\n    .subscribe(function (val) {\n      if (val) {\n        that._performanceDisplay = new _Scene_PerformanceDisplay_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z({\n          container: that._performanceContainer,\n        });\n      } else {\n        that._performanceContainer.innerHTML = "";\n      }\n    });\n\n  this._showPrimitiveBoundingSphere = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that._primitive.debugShowBoundingVolume = that.primitiveBoundingSphere;\n    that._scene.requestRender();\n    return true;\n  });\n\n  this._primitiveBoundingSphereSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "primitiveBoundingSphere")\n    .subscribe(function () {\n      that._showPrimitiveBoundingSphere();\n    });\n\n  this._showPrimitiveReferenceFrame = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    if (that.primitiveReferenceFrame) {\n      var modelMatrix = that._primitive.modelMatrix;\n      that._modelMatrixPrimitive = new _Scene_DebugModelMatrixPrimitive_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n        modelMatrix: modelMatrix,\n      });\n      that._scene.primitives.add(that._modelMatrixPrimitive);\n    } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._modelMatrixPrimitive)) {\n      that._scene.primitives.remove(that._modelMatrixPrimitive);\n      that._modelMatrixPrimitive = undefined;\n    }\n    that._scene.requestRender();\n    return true;\n  });\n\n  this._primitiveReferenceFrameSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "primitiveReferenceFrame")\n    .subscribe(function () {\n      that._showPrimitiveReferenceFrame();\n    });\n\n  this._doFilterPrimitive = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    if (that.filterPrimitive) {\n      that._scene.debugCommandFilter = function (command) {\n        if (\n          (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._modelMatrixPrimitive) &&\n          command.owner === that._modelMatrixPrimitive._primitive\n        ) {\n          return true;\n        } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._primitive)) {\n          return (\n            command.owner === that._primitive ||\n            command.owner === that._primitive._billboardCollection ||\n            command.owner.primitive === that._primitive\n          );\n        }\n        return false;\n      };\n    } else {\n      that._scene.debugCommandFilter = undefined;\n    }\n    return true;\n  });\n\n  this._filterPrimitiveSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "filterPrimitive")\n    .subscribe(function () {\n      that._doFilterPrimitive();\n      that._scene.requestRender();\n    });\n\n  this._wireframeSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "wireframe")\n    .subscribe(function (val) {\n      globe._surface.tileProvider._debug.wireframe = val;\n      that._scene.requestRender();\n    });\n\n  this._globeDepthSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "globeDepth")\n    .subscribe(function (val) {\n      that._scene.debugShowGlobeDepth = val;\n      that._scene.requestRender();\n    });\n\n  this._pickDepthSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "pickDepth")\n    .subscribe(function (val) {\n      that._scene.debugShowPickDepth = val;\n      that._scene.requestRender();\n    });\n\n  this._depthFrustumSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "depthFrustum")\n    .subscribe(function (val) {\n      that._scene.debugShowDepthFrustum = val;\n      that._scene.requestRender();\n    });\n\n  this._incrementDepthFrustum = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    var next = that.depthFrustum + 1;\n    that.depthFrustum = boundDepthFrustum(1, that._numberOfFrustums, next);\n    that._scene.requestRender();\n    return true;\n  });\n\n  this._decrementDepthFrustum = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    var next = that.depthFrustum - 1;\n    that.depthFrustum = boundDepthFrustum(1, that._numberOfFrustums, next);\n    that._scene.requestRender();\n    return true;\n  });\n\n  this._suspendUpdatesSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "suspendUpdates")\n    .subscribe(function (val) {\n      globe._surface._debug.suspendLodUpdate = val;\n      if (!val) {\n        that.filterTile = false;\n      }\n    });\n\n  var tileBoundariesLayer;\n  this._showTileCoordinates = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    if (that.tileCoordinates && !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tileBoundariesLayer)) {\n      tileBoundariesLayer = scene.imageryLayers.addImageryProvider(\n        new _Scene_TileCoordinatesImageryProvider_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n          tilingScheme: scene.terrainProvider.tilingScheme,\n        })\n      );\n    } else if (!that.tileCoordinates && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tileBoundariesLayer)) {\n      scene.imageryLayers.remove(tileBoundariesLayer);\n      tileBoundariesLayer = undefined;\n    }\n    return true;\n  });\n\n  this._tileCoordinatesSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "tileCoordinates")\n    .subscribe(function () {\n      that._showTileCoordinates();\n      that._scene.requestRender();\n    });\n\n  this._tileBoundingSphereSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "tileBoundingSphere")\n    .subscribe(function () {\n      that._showTileBoundingSphere();\n      that._scene.requestRender();\n    });\n\n  this._showTileBoundingSphere = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    if (that.tileBoundingSphere) {\n      globe._surface.tileProvider._debug.boundingSphereTile = that._tile;\n    } else {\n      globe._surface.tileProvider._debug.boundingSphereTile = undefined;\n    }\n    that._scene.requestRender();\n    return true;\n  });\n\n  this._doFilterTile = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    if (!that.filterTile) {\n      that.suspendUpdates = false;\n    } else {\n      that.suspendUpdates = true;\n\n      globe._surface._tilesToRender = [];\n\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(that._tile) && that._tile.renderable) {\n        globe._surface._tilesToRender.push(that._tile);\n      }\n    }\n    return true;\n  });\n\n  this._filterTileSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "filterTile")\n    .subscribe(function () {\n      that.doFilterTile();\n      that._scene.requestRender();\n    });\n\n  function pickPrimitive(e) {\n    var newPick = that._scene.pick({\n      x: e.position.x,\n      y: e.position.y,\n    });\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(newPick)) {\n      that.primitive = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(newPick.collection)\n        ? newPick.collection\n        : newPick.primitive;\n    }\n\n    that._scene.requestRender();\n    that.pickPrimitiveActive = false;\n  }\n\n  this._pickPrimitive = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that.pickPrimitiveActive = !that.pickPrimitiveActive;\n  });\n\n  this._pickPrimitiveActiveSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "pickPrimitiveActive")\n    .subscribe(function (val) {\n      if (val) {\n        eventHandler.setInputAction(\n          pickPrimitive,\n          _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].LEFT_CLICK */ .Z.LEFT_CLICK\n        );\n      } else {\n        eventHandler.removeInputAction(_Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].LEFT_CLICK */ .Z.LEFT_CLICK);\n      }\n    });\n\n  function selectTile(e) {\n    var selectedTile;\n    var ellipsoid = globe.ellipsoid;\n\n    var ray = that._scene.camera.getPickRay(e.position, scratchPickRay);\n    var cartesian = globe.pick(ray, that._scene, scratchPickCartesian);\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(cartesian)) {\n      var cartographic = ellipsoid.cartesianToCartographic(cartesian);\n      var tilesRendered =\n        globe._surface.tileProvider._tilesToRenderByTextureCount;\n      for (\n        var textureCount = 0;\n        !selectedTile && textureCount < tilesRendered.length;\n        ++textureCount\n      ) {\n        var tilesRenderedByTextureCount = tilesRendered[textureCount];\n        if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(tilesRenderedByTextureCount)) {\n          continue;\n        }\n\n        for (\n          var tileIndex = 0;\n          !selectedTile && tileIndex < tilesRenderedByTextureCount.length;\n          ++tileIndex\n        ) {\n          var tile = tilesRenderedByTextureCount[tileIndex];\n          if (_Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].contains */ .Z.contains(tile.rectangle, cartographic)) {\n            selectedTile = tile;\n          }\n        }\n      }\n    }\n\n    that.tile = selectedTile;\n\n    that.pickTileActive = false;\n  }\n\n  this._pickTile = (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n    that.pickTileActive = !that.pickTileActive;\n  });\n\n  this._pickTileActiveSubscription = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getObservable */ .Z.getObservable(this, "pickTileActive")\n    .subscribe(function (val) {\n      if (val) {\n        eventHandler.setInputAction(\n          selectTile,\n          _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].LEFT_CLICK */ .Z.LEFT_CLICK\n        );\n      } else {\n        eventHandler.removeInputAction(_Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].LEFT_CLICK */ .Z.LEFT_CLICK);\n      }\n    });\n\n  this._removePostRenderEvent = scene.postRender.addEventListener(function () {\n    that._update();\n  });\n}\n\nObject.defineProperties(CesiumInspectorViewModel.prototype, {\n  /**\n   * Gets the scene to control.\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Scene}\n   */\n  scene: {\n    get: function () {\n      return this._scene;\n    },\n  },\n\n  /**\n   * Gets the container of the PerformanceDisplay\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Element}\n   */\n  performanceContainer: {\n    get: function () {\n      return this._performanceContainer;\n    },\n  },\n\n  /**\n   * Gets the command to toggle the visibility of the drop down.\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  toggleDropDown: {\n    get: function () {\n      return this._toggleDropDown;\n    },\n  },\n\n  /**\n   * Gets the command to toggle the visibility of a BoundingSphere for a primitive\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  showPrimitiveBoundingSphere: {\n    get: function () {\n      return this._showPrimitiveBoundingSphere;\n    },\n  },\n\n  /**\n   * Gets the command to toggle the visibility of a {@link DebugModelMatrixPrimitive} for the model matrix of a primitive\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  showPrimitiveReferenceFrame: {\n    get: function () {\n      return this._showPrimitiveReferenceFrame;\n    },\n  },\n\n  /**\n   * Gets the command to toggle a filter that renders only a selected primitive\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  doFilterPrimitive: {\n    get: function () {\n      return this._doFilterPrimitive;\n    },\n  },\n\n  /**\n   * Gets the command to increment the depth frustum index to be shown\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  incrementDepthFrustum: {\n    get: function () {\n      return this._incrementDepthFrustum;\n    },\n  },\n\n  /**\n   * Gets the command to decrement the depth frustum index to be shown\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  decrementDepthFrustum: {\n    get: function () {\n      return this._decrementDepthFrustum;\n    },\n  },\n\n  /**\n   * Gets the command to toggle the visibility of tile coordinates\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  showTileCoordinates: {\n    get: function () {\n      return this._showTileCoordinates;\n    },\n  },\n\n  /**\n   * Gets the command to toggle the visibility of a BoundingSphere for a selected tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  showTileBoundingSphere: {\n    get: function () {\n      return this._showTileBoundingSphere;\n    },\n  },\n\n  /**\n   * Gets the command to toggle a filter that renders only a selected tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  doFilterTile: {\n    get: function () {\n      return this._doFilterTile;\n    },\n  },\n\n  /**\n   * Gets the command to expand and collapse the general section\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  toggleGeneral: {\n    get: function () {\n      return this._toggleGeneral;\n    },\n  },\n\n  /**\n   * Gets the command to expand and collapse the primitives section\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  togglePrimitives: {\n    get: function () {\n      return this._togglePrimitives;\n    },\n  },\n\n  /**\n   * Gets the command to expand and collapse the terrain section\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  toggleTerrain: {\n    get: function () {\n      return this._toggleTerrain;\n    },\n  },\n\n  /**\n   * Gets the command to pick a primitive\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  pickPrimitive: {\n    get: function () {\n      return this._pickPrimitive;\n    },\n  },\n\n  /**\n   * Gets the command to pick a tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  pickTile: {\n    get: function () {\n      return this._pickTile;\n    },\n  },\n\n  /**\n   * Gets the command to pick a tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  selectParent: {\n    get: function () {\n      var that = this;\n      return (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n        that.tile = that.tile.parent;\n      });\n    },\n  },\n\n  /**\n   * Gets the command to pick a tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  selectNW: {\n    get: function () {\n      var that = this;\n      return (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n        that.tile = that.tile.northwestChild;\n      });\n    },\n  },\n\n  /**\n   * Gets the command to pick a tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  selectNE: {\n    get: function () {\n      var that = this;\n      return (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n        that.tile = that.tile.northeastChild;\n      });\n    },\n  },\n\n  /**\n   * Gets the command to pick a tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  selectSW: {\n    get: function () {\n      var that = this;\n      return (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n        that.tile = that.tile.southwestChild;\n      });\n    },\n  },\n\n  /**\n   * Gets the command to pick a tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  selectSE: {\n    get: function () {\n      var that = this;\n      return (0,_createCommand_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function () {\n        that.tile = that.tile.southeastChild;\n      });\n    },\n  },\n\n  /**\n   * Gets or sets the current selected primitive\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  primitive: {\n    get: function () {\n      return this._primitive;\n    },\n    set: function (newPrimitive) {\n      var oldPrimitive = this._primitive;\n      if (newPrimitive !== oldPrimitive) {\n        this.hasPickedPrimitive = true;\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(oldPrimitive)) {\n          oldPrimitive.debugShowBoundingVolume = false;\n        }\n        this._scene.debugCommandFilter = undefined;\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(this._modelMatrixPrimitive)) {\n          this._scene.primitives.remove(this._modelMatrixPrimitive);\n          this._modelMatrixPrimitive = undefined;\n        }\n        this._primitive = newPrimitive;\n        newPrimitive.show = false;\n        setTimeout(function () {\n          newPrimitive.show = true;\n        }, 50);\n        this.showPrimitiveBoundingSphere();\n        this.showPrimitiveReferenceFrame();\n        this.doFilterPrimitive();\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the current selected tile\n   * @memberof CesiumInspectorViewModel.prototype\n   *\n   * @type {Command}\n   */\n  tile: {\n    get: function () {\n      return this._tile;\n    },\n    set: function (newTile) {\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(newTile)) {\n        this.hasPickedTile = true;\n        var oldTile = this._tile;\n        if (newTile !== oldTile) {\n          this.tileText =\n            "L: " + newTile.level + " X: " + newTile.x + " Y: " + newTile.y;\n          this.tileText +=\n            "<br>SW corner: " +\n            newTile.rectangle.west +\n            ", " +\n            newTile.rectangle.south;\n          this.tileText +=\n            "<br>NE corner: " +\n            newTile.rectangle.east +\n            ", " +\n            newTile.rectangle.north;\n          var data = newTile.data;\n          if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(data) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(data.tileBoundingRegion)) {\n            this.tileText +=\n              "<br>Min: " +\n              data.tileBoundingRegion.minimumHeight +\n              " Max: " +\n              data.tileBoundingRegion.maximumHeight;\n          } else {\n            this.tileText += "<br>(Tile is not loaded)";\n          }\n        }\n        this._tile = newTile;\n        this.showTileBoundingSphere();\n        this.doFilterTile();\n      } else {\n        this.hasPickedTile = false;\n        this._tile = undefined;\n      }\n    },\n  },\n});\n\n/**\n * Updates the view model\n * @private\n */\nCesiumInspectorViewModel.prototype._update = function () {\n  if (this.frustums) {\n    this.frustumStatisticText = frustumStatisticsToString(\n      this._scene.debugFrustumStatistics\n    );\n  }\n\n  // Determine the number of frustums being used.\n  var numberOfFrustums = this._scene.numberOfFrustums;\n  this._numberOfFrustums = numberOfFrustums;\n  // Bound the frustum to be displayed.\n  this.depthFrustum = boundDepthFrustum(1, numberOfFrustums, this.depthFrustum);\n  // Update the displayed text.\n  this.depthFrustumText = this.depthFrustum + " of " + numberOfFrustums;\n\n  if (this.performance) {\n    this._performanceDisplay.update();\n  }\n  if (this.primitiveReferenceFrame) {\n    this._modelMatrixPrimitive.modelMatrix = this._primitive.modelMatrix;\n  }\n\n  this.shaderCacheText =\n    "Cached shaders: " + this._scene.context.shaderCache.numberOfShaders;\n};\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nCesiumInspectorViewModel.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nCesiumInspectorViewModel.prototype.destroy = function () {\n  this._eventHandler.destroy();\n  this._removePostRenderEvent();\n  this._frustumsSubscription.dispose();\n  this._frustumPlanesSubscription.dispose();\n  this._performanceSubscription.dispose();\n  this._primitiveBoundingSphereSubscription.dispose();\n  this._primitiveReferenceFrameSubscription.dispose();\n  this._filterPrimitiveSubscription.dispose();\n  this._wireframeSubscription.dispose();\n  this._globeDepthSubscription.dispose();\n  this._pickDepthSubscription.dispose();\n  this._depthFrustumSubscription.dispose();\n  this._suspendUpdatesSubscription.dispose();\n  this._tileCoordinatesSubscription.dispose();\n  this._tileBoundingSphereSubscription.dispose();\n  this._filterTileSubscription.dispose();\n  this._pickPrimitiveActiveSubscription.dispose();\n  this._pickTileActiveSubscription.dispose();\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (CesiumInspectorViewModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjM0NTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFrRDtBQUNOO0FBQ1k7QUFDRTtBQUN0QjtBQUNZO0FBQzRCO0FBQ047QUFDVztBQUNkO0FBQ3dCO0FBQ3ZDO0FBQ0o7O0FBRWhEO0FBQ0E7QUFDQSxNQUFNLHNFQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsTUFBTSxNQUFNLE1BQU07QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5Qiw2REFBRztBQUM1QiwrQkFBK0Isb0VBQVU7O0FBRXpDO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLE9BQU8sc0VBQU87QUFDZCxjQUFjLHdFQUFjO0FBQzVCOztBQUVBLE9BQU8sc0VBQU87QUFDZCxjQUFjLHdFQUFjO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QixpRkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxxRkFBYztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLHVFQUFhO0FBQ3RDO0FBQ0EsR0FBRzs7QUFFSCx3QkFBd0IsdUVBQWE7QUFDckM7QUFD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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSx5REFBZSx3QkFBd0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9XaWRnZXRzL0Nlc2l1bUluc3BlY3Rvci9DZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwuanM/MTBiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uLy4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBSYXkgZnJvbSBcIi4uLy4uL0NvcmUvUmF5LmpzXCI7XG5pbXBvcnQgUmVjdGFuZ2xlIGZyb20gXCIuLi8uLi9Db3JlL1JlY3RhbmdsZS5qc1wiO1xuaW1wb3J0IFNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIGZyb20gXCIuLi8uLi9Db3JlL1NjcmVlblNwYWNlRXZlbnRIYW5kbGVyLmpzXCI7XG5pbXBvcnQgU2NyZWVuU3BhY2VFdmVudFR5cGUgZnJvbSBcIi4uLy4uL0NvcmUvU2NyZWVuU3BhY2VFdmVudFR5cGUuanNcIjtcbmltcG9ydCBEZWJ1Z01vZGVsTWF0cml4UHJpbWl0aXZlIGZyb20gXCIuLi8uLi9TY2VuZS9EZWJ1Z01vZGVsTWF0cml4UHJpbWl0aXZlLmpzXCI7XG5pbXBvcnQgUGVyZm9ybWFuY2VEaXNwbGF5IGZyb20gXCIuLi8uLi9TY2VuZS9QZXJmb3JtYW5jZURpc3BsYXkuanNcIjtcbmltcG9ydCBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIgZnJvbSBcIi4uLy4uL1NjZW5lL1RpbGVDb29yZGluYXRlc0ltYWdlcnlQcm92aWRlci5qc1wiO1xuaW1wb3J0IGtub2Nrb3V0IGZyb20gXCIuLi8uLi9UaGlyZFBhcnR5L2tub2Nrb3V0LmpzXCI7XG5pbXBvcnQgY3JlYXRlQ29tbWFuZCBmcm9tIFwiLi4vY3JlYXRlQ29tbWFuZC5qc1wiO1xuXG5mdW5jdGlvbiBmcnVzdHVtU3RhdGlzdGljc1RvU3RyaW5nKHN0YXRpc3RpY3MpIHtcbiAgdmFyIHN0cjtcbiAgaWYgKGRlZmluZWQoc3RhdGlzdGljcykpIHtcbiAgICBzdHIgPSBcIkNvbW1hbmQgU3RhdGlzdGljc1wiO1xuICAgIHZhciBjb20gPSBzdGF0aXN0aWNzLmNvbW1hbmRzSW5GcnVzdHVtcztcbiAgICBmb3IgKHZhciBuIGluIGNvbSkge1xuICAgICAgaWYgKGNvbS5oYXNPd25Qcm9wZXJ0eShuKSkge1xuICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQobiwgMTApO1xuICAgICAgICB2YXIgcztcbiAgICAgICAgaWYgKG51bSA9PT0gNykge1xuICAgICAgICAgIHMgPSBcIjEsIDIgYW5kIDNcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZiA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAyOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIHAgPSBNYXRoLnBvdygyLCBpKTtcbiAgICAgICAgICAgIGlmIChudW0gPj0gcCkge1xuICAgICAgICAgICAgICBmLnB1c2goaSArIDEpO1xuICAgICAgICAgICAgICBudW0gLT0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcyA9IGYucmV2ZXJzZSgpLmpvaW4oXCIgYW5kIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI8YnI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7XCIgKyBjb21bbl0gKyBcIiBpbiBmcnVzdHVtIFwiICsgcztcbiAgICAgIH1cbiAgICB9XG4gICAgc3RyICs9IFwiPGJyPlRvdGFsOiBcIiArIHN0YXRpc3RpY3MudG90YWxDb21tYW5kcztcbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGJvdW5kRGVwdGhGcnVzdHVtKGxvd2VyLCB1cHBlciwgcHJvcG9zZWQpIHtcbiAgdmFyIGJvdW5kZWQgPSBNYXRoLm1pbihwcm9wb3NlZCwgdXBwZXIpO1xuICBib3VuZGVkID0gTWF0aC5tYXgoYm91bmRlZCwgbG93ZXIpO1xuICByZXR1cm4gYm91bmRlZDtcbn1cblxudmFyIHNjcmF0Y2hQaWNrUmF5ID0gbmV3IFJheSgpO1xudmFyIHNjcmF0Y2hQaWNrQ2FydGVzaWFuID0gbmV3IENhcnRlc2lhbjMoKTtcblxuLyoqXG4gKiBUaGUgdmlldyBtb2RlbCBmb3Ige0BsaW5rIENlc2l1bUluc3BlY3Rvcn0uXG4gKiBAYWxpYXMgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge1NjZW5lfSBzY2VuZSBUaGUgc2NlbmUgaW5zdGFuY2UgdG8gdXNlLlxuICogQHBhcmFtIHtFbGVtZW50fSBwZXJmb3JtYW5jZUNvbnRhaW5lciBUaGUgaW5zdGFuY2UgdG8gdXNlIGZvciBwZXJmb3JtYW5jZSBjb250YWluZXIuXG4gKi9cbmZ1bmN0aW9uIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbChzY2VuZSwgcGVyZm9ybWFuY2VDb250YWluZXIpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKHNjZW5lKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInNjZW5lIGlzIHJlcXVpcmVkXCIpO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKHBlcmZvcm1hbmNlQ29udGFpbmVyKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInBlcmZvcm1hbmNlQ29udGFpbmVyIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcbiAgdmFyIGNhbnZhcyA9IHNjZW5lLmNhbnZhcztcbiAgdmFyIGV2ZW50SGFuZGxlciA9IG5ldyBTY3JlZW5TcGFjZUV2ZW50SGFuZGxlcihjYW52YXMpO1xuICB0aGlzLl9ldmVudEhhbmRsZXIgPSBldmVudEhhbmRsZXI7XG4gIHRoaXMuX3NjZW5lID0gc2NlbmU7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fcHJpbWl0aXZlID0gdW5kZWZpbmVkO1xuICB0aGlzLl90aWxlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tb2RlbE1hdHJpeFByaW1pdGl2ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcGVyZm9ybWFuY2VEaXNwbGF5ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wZXJmb3JtYW5jZUNvbnRhaW5lciA9IHBlcmZvcm1hbmNlQ29udGFpbmVyO1xuXG4gIHZhciBnbG9iZSA9IHRoaXMuX3NjZW5lLmdsb2JlO1xuICBnbG9iZS5kZXB0aFRlc3RBZ2FpbnN0VGVycmFpbiA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc2hvdyBmcnVzdHVtcyBzdGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmZydXN0dW1zID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc2hvdyBmcnVzdHVtIHBsYW5lcyBzdGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmZydXN0dW1QbGFuZXMgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBzaG93IHBlcmZvcm1hbmNlIGRpc3BsYXkgc3RhdGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5wZXJmb3JtYW5jZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHNoYWRlciBjYWNoZSB0ZXh0LiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgdGhpcy5zaGFkZXJDYWNoZVRleHQgPSBcIlwiO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHNob3cgcHJpbWl0aXZlIGJvdW5kaW5nIHNwaGVyZSBzdGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnByaW1pdGl2ZUJvdW5kaW5nU3BoZXJlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc2hvdyBwcmltaXRpdmUgcmVmZXJlbmNlIGZyYW1lIHN0YXRlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMucHJpbWl0aXZlUmVmZXJlbmNlRnJhbWUgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBmaWx0ZXIgcHJpbWl0aXZlIHN0YXRlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuZmlsdGVyUHJpbWl0aXZlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc2hvdyB0aWxlIGJvdW5kaW5nIHNwaGVyZSBzdGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnRpbGVCb3VuZGluZ1NwaGVyZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGZpbHRlciB0aWxlIHN0YXRlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuZmlsdGVyVGlsZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHNob3cgd2lyZWZyYW1lIHN0YXRlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMud2lyZWZyYW1lID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc2hvdyBnbG9iZSBkZXB0aCBzdGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmdsb2JlRGVwdGggPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBzaG93IHBpY2sgZGVwdGggc3RhdGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy5waWNrRGVwdGggPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBpbmRleCBvZiB0aGUgZGVwdGggZnJ1c3R1bSB0byBkaXNwbGF5LiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICB0aGlzLmRlcHRoRnJ1c3R1bSA9IDE7XG4gIHRoaXMuX251bWJlck9mRnJ1c3R1bXMgPSAxO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHN1c3BlbmQgdXBkYXRlcyBzdGF0ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnN1c3BlbmRVcGRhdGVzID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc2hvdyB0aWxlIGNvb3JkaW5hdGVzIHN0YXRlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMudGlsZUNvb3JkaW5hdGVzID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZnJ1c3R1bSBzdGF0aXN0aWMgdGV4dC4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQGRlZmF1bHQgJydcbiAgICovXG4gIHRoaXMuZnJ1c3R1bVN0YXRpc3RpY1RleHQgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBzZWxlY3RlZCB0aWxlIGluZm9ybWF0aW9uIHRleHQuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEBkZWZhdWx0ICcnXG4gICAqL1xuICB0aGlzLnRpbGVUZXh0ID0gXCJcIjtcblxuICAvKipcbiAgICogR2V0cyBpZiBhIHByaW1pdGl2ZSBoYXMgYmVlbiBzZWxlY3RlZC4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmhhc1BpY2tlZFByaW1pdGl2ZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIGlmIGEgdGlsZSBoYXMgYmVlbiBzZWxlY3RlZC4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMuaGFzUGlja2VkVGlsZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIGlmIHRoZSBwaWNraW5nIHByaW1pdGl2ZSBjb21tYW5kIGlzIGFjdGl2ZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnBpY2tQcmltaXRpdmVBY3RpdmUgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBpZiB0aGUgcGlja2luZyB0aWxlIGNvbW1hbmQgaXMgYWN0aXZlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHRoaXMucGlja1RpbGVBY3RpdmUgPSBmYWxzZTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIGlmIHRoZSBjZXNpdW0gaW5zcGVjdG9yIGRyb3AgZG93biBpcyB2aXNpYmxlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5kcm9wRG93blZpc2libGUgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgaWYgdGhlIGdlbmVyYWwgc2VjdGlvbiBpcyB2aXNpYmxlLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5nZW5lcmFsVmlzaWJsZSA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBpZiB0aGUgcHJpbWl0aXZlIHNlY3Rpb24gaXMgdmlzaWJsZS4gIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLnByaW1pdGl2ZXNWaXNpYmxlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBpZiB0aGUgdGVycmFpbiBzZWN0aW9uIGlzIHZpc2libGUuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy50ZXJyYWluVmlzaWJsZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGluZGV4IG9mIHRoZSBkZXB0aCBmcnVzdHVtIHRleHQuICBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEBkZWZhdWx0ICcnXG4gICAqL1xuICB0aGlzLmRlcHRoRnJ1c3R1bVRleHQgPSBcIlwiO1xuXG4gIGtub2Nrb3V0LnRyYWNrKHRoaXMsIFtcbiAgICBcImZydXN0dW1zXCIsXG4gICAgXCJmcnVzdHVtUGxhbmVzXCIsXG4gICAgXCJwZXJmb3JtYW5jZVwiLFxuICAgIFwic2hhZGVyQ2FjaGVUZXh0XCIsXG4gICAgXCJwcmltaXRpdmVCb3VuZGluZ1NwaGVyZVwiLFxuICAgIFwicHJpbWl0aXZlUmVmZXJlbmNlRnJhbWVcIixcbiAgICBcImZpbHRlclByaW1pdGl2ZVwiLFxuICAgIFwidGlsZUJvdW5kaW5nU3BoZXJlXCIsXG4gICAgXCJmaWx0ZXJUaWxlXCIsXG4gICAgXCJ3aXJlZnJhbWVcIixcbiAgICBcImdsb2JlRGVwdGhcIixcbiAgICBcInBpY2tEZXB0aFwiLFxuICAgIFwiZGVwdGhGcnVzdHVtXCIsXG4gICAgXCJzdXNwZW5kVXBkYXRlc1wiLFxuICAgIFwidGlsZUNvb3JkaW5hdGVzXCIsXG4gICAgXCJmcnVzdHVtU3RhdGlzdGljVGV4dFwiLFxuICAgIFwidGlsZVRleHRcIixcbiAgICBcImhhc1BpY2tlZFByaW1pdGl2ZVwiLFxuICAgIFwiaGFzUGlja2VkVGlsZVwiLFxuICAgIFwicGlja1ByaW1pdGl2ZUFjdGl2ZVwiLFxuICAgIFwicGlja1RpbGVBY3RpdmVcIixcbiAgICBcImRyb3BEb3duVmlzaWJsZVwiLFxuICAgIFwiZ2VuZXJhbFZpc2libGVcIixcbiAgICBcInByaW1pdGl2ZXNWaXNpYmxlXCIsXG4gICAgXCJ0ZXJyYWluVmlzaWJsZVwiLFxuICAgIFwiZGVwdGhGcnVzdHVtVGV4dFwiLFxuICBdKTtcblxuICB0aGlzLl90b2dnbGVEcm9wRG93biA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIHRoYXQuZHJvcERvd25WaXNpYmxlID0gIXRoYXQuZHJvcERvd25WaXNpYmxlO1xuICB9KTtcblxuICB0aGlzLl90b2dnbGVHZW5lcmFsID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgdGhhdC5nZW5lcmFsVmlzaWJsZSA9ICF0aGF0LmdlbmVyYWxWaXNpYmxlO1xuICB9KTtcblxuICB0aGlzLl90b2dnbGVQcmltaXRpdmVzID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgdGhhdC5wcmltaXRpdmVzVmlzaWJsZSA9ICF0aGF0LnByaW1pdGl2ZXNWaXNpYmxlO1xuICB9KTtcblxuICB0aGlzLl90b2dnbGVUZXJyYWluID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgdGhhdC50ZXJyYWluVmlzaWJsZSA9ICF0aGF0LnRlcnJhaW5WaXNpYmxlO1xuICB9KTtcblxuICB0aGlzLl9mcnVzdHVtc1N1YnNjcmlwdGlvbiA9IGtub2Nrb3V0XG4gICAgLmdldE9ic2VydmFibGUodGhpcywgXCJmcnVzdHVtc1wiKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgdGhhdC5fc2NlbmUuZGVidWdTaG93RnJ1c3R1bXMgPSB2YWw7XG4gICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfSk7XG5cbiAgdGhpcy5fZnJ1c3R1bVBsYW5lc1N1YnNjcmlwdGlvbiA9IGtub2Nrb3V0XG4gICAgLmdldE9ic2VydmFibGUodGhpcywgXCJmcnVzdHVtUGxhbmVzXCIpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICB0aGF0Ll9zY2VuZS5kZWJ1Z1Nob3dGcnVzdHVtUGxhbmVzID0gdmFsO1xuICAgICAgdGhhdC5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgIH0pO1xuXG4gIHRoaXMuX3BlcmZvcm1hbmNlU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcInBlcmZvcm1hbmNlXCIpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIHRoYXQuX3BlcmZvcm1hbmNlRGlzcGxheSA9IG5ldyBQZXJmb3JtYW5jZURpc3BsYXkoe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhhdC5fcGVyZm9ybWFuY2VDb250YWluZXIsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5fcGVyZm9ybWFuY2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIH1cbiAgICB9KTtcblxuICB0aGlzLl9zaG93UHJpbWl0aXZlQm91bmRpbmdTcGhlcmUgPSBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICB0aGF0Ll9wcmltaXRpdmUuZGVidWdTaG93Qm91bmRpbmdWb2x1bWUgPSB0aGF0LnByaW1pdGl2ZUJvdW5kaW5nU3BoZXJlO1xuICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgdGhpcy5fcHJpbWl0aXZlQm91bmRpbmdTcGhlcmVTdWJzY3JpcHRpb24gPSBrbm9ja291dFxuICAgIC5nZXRPYnNlcnZhYmxlKHRoaXMsIFwicHJpbWl0aXZlQm91bmRpbmdTcGhlcmVcIilcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuX3Nob3dQcmltaXRpdmVCb3VuZGluZ1NwaGVyZSgpO1xuICAgIH0pO1xuXG4gIHRoaXMuX3Nob3dQcmltaXRpdmVSZWZlcmVuY2VGcmFtZSA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGF0LnByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lKSB7XG4gICAgICB2YXIgbW9kZWxNYXRyaXggPSB0aGF0Ll9wcmltaXRpdmUubW9kZWxNYXRyaXg7XG4gICAgICB0aGF0Ll9tb2RlbE1hdHJpeFByaW1pdGl2ZSA9IG5ldyBEZWJ1Z01vZGVsTWF0cml4UHJpbWl0aXZlKHtcbiAgICAgICAgbW9kZWxNYXRyaXg6IG1vZGVsTWF0cml4LFxuICAgICAgfSk7XG4gICAgICB0aGF0Ll9zY2VuZS5wcmltaXRpdmVzLmFkZCh0aGF0Ll9tb2RlbE1hdHJpeFByaW1pdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChkZWZpbmVkKHRoYXQuX21vZGVsTWF0cml4UHJpbWl0aXZlKSkge1xuICAgICAgdGhhdC5fc2NlbmUucHJpbWl0aXZlcy5yZW1vdmUodGhhdC5fbW9kZWxNYXRyaXhQcmltaXRpdmUpO1xuICAgICAgdGhhdC5fbW9kZWxNYXRyaXhQcmltaXRpdmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgdGhpcy5fcHJpbWl0aXZlUmVmZXJlbmNlRnJhbWVTdWJzY3JpcHRpb24gPSBrbm9ja291dFxuICAgIC5nZXRPYnNlcnZhYmxlKHRoaXMsIFwicHJpbWl0aXZlUmVmZXJlbmNlRnJhbWVcIilcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuX3Nob3dQcmltaXRpdmVSZWZlcmVuY2VGcmFtZSgpO1xuICAgIH0pO1xuXG4gIHRoaXMuX2RvRmlsdGVyUHJpbWl0aXZlID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoYXQuZmlsdGVyUHJpbWl0aXZlKSB7XG4gICAgICB0aGF0Ll9zY2VuZS5kZWJ1Z0NvbW1hbmRGaWx0ZXIgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZGVmaW5lZCh0aGF0Ll9tb2RlbE1hdHJpeFByaW1pdGl2ZSkgJiZcbiAgICAgICAgICBjb21tYW5kLm93bmVyID09PSB0aGF0Ll9tb2RlbE1hdHJpeFByaW1pdGl2ZS5fcHJpbWl0aXZlXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGRlZmluZWQodGhhdC5fcHJpbWl0aXZlKSkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb21tYW5kLm93bmVyID09PSB0aGF0Ll9wcmltaXRpdmUgfHxcbiAgICAgICAgICAgIGNvbW1hbmQub3duZXIgPT09IHRoYXQuX3ByaW1pdGl2ZS5fYmlsbGJvYXJkQ29sbGVjdGlvbiB8fFxuICAgICAgICAgICAgY29tbWFuZC5vd25lci5wcmltaXRpdmUgPT09IHRoYXQuX3ByaW1pdGl2ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhhdC5fc2NlbmUuZGVidWdDb21tYW5kRmlsdGVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgdGhpcy5fZmlsdGVyUHJpbWl0aXZlU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcImZpbHRlclByaW1pdGl2ZVwiKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC5fZG9GaWx0ZXJQcmltaXRpdmUoKTtcbiAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9KTtcblxuICB0aGlzLl93aXJlZnJhbWVTdWJzY3JpcHRpb24gPSBrbm9ja291dFxuICAgIC5nZXRPYnNlcnZhYmxlKHRoaXMsIFwid2lyZWZyYW1lXCIpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICBnbG9iZS5fc3VyZmFjZS50aWxlUHJvdmlkZXIuX2RlYnVnLndpcmVmcmFtZSA9IHZhbDtcbiAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9KTtcblxuICB0aGlzLl9nbG9iZURlcHRoU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcImdsb2JlRGVwdGhcIilcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHRoYXQuX3NjZW5lLmRlYnVnU2hvd0dsb2JlRGVwdGggPSB2YWw7XG4gICAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgfSk7XG5cbiAgdGhpcy5fcGlja0RlcHRoU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcInBpY2tEZXB0aFwiKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgdGhhdC5fc2NlbmUuZGVidWdTaG93UGlja0RlcHRoID0gdmFsO1xuICAgICAgdGhhdC5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgIH0pO1xuXG4gIHRoaXMuX2RlcHRoRnJ1c3R1bVN1YnNjcmlwdGlvbiA9IGtub2Nrb3V0XG4gICAgLmdldE9ic2VydmFibGUodGhpcywgXCJkZXB0aEZydXN0dW1cIilcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHRoYXQuX3NjZW5lLmRlYnVnU2hvd0RlcHRoRnJ1c3R1bSA9IHZhbDtcbiAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9KTtcblxuICB0aGlzLl9pbmNyZW1lbnREZXB0aEZydXN0dW0gPSBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmV4dCA9IHRoYXQuZGVwdGhGcnVzdHVtICsgMTtcbiAgICB0aGF0LmRlcHRoRnJ1c3R1bSA9IGJvdW5kRGVwdGhGcnVzdHVtKDEsIHRoYXQuX251bWJlck9mRnJ1c3R1bXMsIG5leHQpO1xuICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgdGhpcy5fZGVjcmVtZW50RGVwdGhGcnVzdHVtID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5leHQgPSB0aGF0LmRlcHRoRnJ1c3R1bSAtIDE7XG4gICAgdGhhdC5kZXB0aEZydXN0dW0gPSBib3VuZERlcHRoRnJ1c3R1bSgxLCB0aGF0Ll9udW1iZXJPZkZydXN0dW1zLCBuZXh0KTtcbiAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHRoaXMuX3N1c3BlbmRVcGRhdGVzU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcInN1c3BlbmRVcGRhdGVzXCIpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICBnbG9iZS5fc3VyZmFjZS5fZGVidWcuc3VzcGVuZExvZFVwZGF0ZSA9IHZhbDtcbiAgICAgIGlmICghdmFsKSB7XG4gICAgICAgIHRoYXQuZmlsdGVyVGlsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIHZhciB0aWxlQm91bmRhcmllc0xheWVyO1xuICB0aGlzLl9zaG93VGlsZUNvb3JkaW5hdGVzID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoYXQudGlsZUNvb3JkaW5hdGVzICYmICFkZWZpbmVkKHRpbGVCb3VuZGFyaWVzTGF5ZXIpKSB7XG4gICAgICB0aWxlQm91bmRhcmllc0xheWVyID0gc2NlbmUuaW1hZ2VyeUxheWVycy5hZGRJbWFnZXJ5UHJvdmlkZXIoXG4gICAgICAgIG5ldyBUaWxlQ29vcmRpbmF0ZXNJbWFnZXJ5UHJvdmlkZXIoe1xuICAgICAgICAgIHRpbGluZ1NjaGVtZTogc2NlbmUudGVycmFpblByb3ZpZGVyLnRpbGluZ1NjaGVtZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghdGhhdC50aWxlQ29vcmRpbmF0ZXMgJiYgZGVmaW5lZCh0aWxlQm91bmRhcmllc0xheWVyKSkge1xuICAgICAgc2NlbmUuaW1hZ2VyeUxheWVycy5yZW1vdmUodGlsZUJvdW5kYXJpZXNMYXllcik7XG4gICAgICB0aWxlQm91bmRhcmllc0xheWVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgdGhpcy5fdGlsZUNvb3JkaW5hdGVzU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcInRpbGVDb29yZGluYXRlc1wiKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC5fc2hvd1RpbGVDb29yZGluYXRlcygpO1xuICAgICAgdGhhdC5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xuICAgIH0pO1xuXG4gIHRoaXMuX3RpbGVCb3VuZGluZ1NwaGVyZVN1YnNjcmlwdGlvbiA9IGtub2Nrb3V0XG4gICAgLmdldE9ic2VydmFibGUodGhpcywgXCJ0aWxlQm91bmRpbmdTcGhlcmVcIilcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuX3Nob3dUaWxlQm91bmRpbmdTcGhlcmUoKTtcbiAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9KTtcblxuICB0aGlzLl9zaG93VGlsZUJvdW5kaW5nU3BoZXJlID0gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoYXQudGlsZUJvdW5kaW5nU3BoZXJlKSB7XG4gICAgICBnbG9iZS5fc3VyZmFjZS50aWxlUHJvdmlkZXIuX2RlYnVnLmJvdW5kaW5nU3BoZXJlVGlsZSA9IHRoYXQuX3RpbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JlLl9zdXJmYWNlLnRpbGVQcm92aWRlci5fZGVidWcuYm91bmRpbmdTcGhlcmVUaWxlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGF0Ll9zY2VuZS5yZXF1ZXN0UmVuZGVyKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHRoaXMuX2RvRmlsdGVyVGlsZSA9IGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhhdC5maWx0ZXJUaWxlKSB7XG4gICAgICB0aGF0LnN1c3BlbmRVcGRhdGVzID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoYXQuc3VzcGVuZFVwZGF0ZXMgPSB0cnVlO1xuXG4gICAgICBnbG9iZS5fc3VyZmFjZS5fdGlsZXNUb1JlbmRlciA9IFtdO1xuXG4gICAgICBpZiAoZGVmaW5lZCh0aGF0Ll90aWxlKSAmJiB0aGF0Ll90aWxlLnJlbmRlcmFibGUpIHtcbiAgICAgICAgZ2xvYmUuX3N1cmZhY2UuX3RpbGVzVG9SZW5kZXIucHVzaCh0aGF0Ll90aWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHRoaXMuX2ZpbHRlclRpbGVTdWJzY3JpcHRpb24gPSBrbm9ja291dFxuICAgIC5nZXRPYnNlcnZhYmxlKHRoaXMsIFwiZmlsdGVyVGlsZVwiKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC5kb0ZpbHRlclRpbGUoKTtcbiAgICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB9KTtcblxuICBmdW5jdGlvbiBwaWNrUHJpbWl0aXZlKGUpIHtcbiAgICB2YXIgbmV3UGljayA9IHRoYXQuX3NjZW5lLnBpY2soe1xuICAgICAgeDogZS5wb3NpdGlvbi54LFxuICAgICAgeTogZS5wb3NpdGlvbi55LFxuICAgIH0pO1xuICAgIGlmIChkZWZpbmVkKG5ld1BpY2spKSB7XG4gICAgICB0aGF0LnByaW1pdGl2ZSA9IGRlZmluZWQobmV3UGljay5jb2xsZWN0aW9uKVxuICAgICAgICA/IG5ld1BpY2suY29sbGVjdGlvblxuICAgICAgICA6IG5ld1BpY2sucHJpbWl0aXZlO1xuICAgIH1cblxuICAgIHRoYXQuX3NjZW5lLnJlcXVlc3RSZW5kZXIoKTtcbiAgICB0aGF0LnBpY2tQcmltaXRpdmVBY3RpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIHRoaXMuX3BpY2tQcmltaXRpdmUgPSBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICB0aGF0LnBpY2tQcmltaXRpdmVBY3RpdmUgPSAhdGhhdC5waWNrUHJpbWl0aXZlQWN0aXZlO1xuICB9KTtcblxuICB0aGlzLl9waWNrUHJpbWl0aXZlQWN0aXZlU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcInBpY2tQcmltaXRpdmVBY3RpdmVcIilcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVyLnNldElucHV0QWN0aW9uKFxuICAgICAgICAgIHBpY2tQcmltaXRpdmUsXG4gICAgICAgICAgU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDS1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnRIYW5kbGVyLnJlbW92ZUlucHV0QWN0aW9uKFNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGZ1bmN0aW9uIHNlbGVjdFRpbGUoZSkge1xuICAgIHZhciBzZWxlY3RlZFRpbGU7XG4gICAgdmFyIGVsbGlwc29pZCA9IGdsb2JlLmVsbGlwc29pZDtcblxuICAgIHZhciByYXkgPSB0aGF0Ll9zY2VuZS5jYW1lcmEuZ2V0UGlja1JheShlLnBvc2l0aW9uLCBzY3JhdGNoUGlja1JheSk7XG4gICAgdmFyIGNhcnRlc2lhbiA9IGdsb2JlLnBpY2socmF5LCB0aGF0Ll9zY2VuZSwgc2NyYXRjaFBpY2tDYXJ0ZXNpYW4pO1xuXG4gICAgaWYgKGRlZmluZWQoY2FydGVzaWFuKSkge1xuICAgICAgdmFyIGNhcnRvZ3JhcGhpYyA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhjYXJ0ZXNpYW4pO1xuICAgICAgdmFyIHRpbGVzUmVuZGVyZWQgPVxuICAgICAgICBnbG9iZS5fc3VyZmFjZS50aWxlUHJvdmlkZXIuX3RpbGVzVG9SZW5kZXJCeVRleHR1cmVDb3VudDtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAhc2VsZWN0ZWRUaWxlICYmIHRleHR1cmVDb3VudCA8IHRpbGVzUmVuZGVyZWQubGVuZ3RoO1xuICAgICAgICArK3RleHR1cmVDb3VudFxuICAgICAgKSB7XG4gICAgICAgIHZhciB0aWxlc1JlbmRlcmVkQnlUZXh0dXJlQ291bnQgPSB0aWxlc1JlbmRlcmVkW3RleHR1cmVDb3VudF07XG4gICAgICAgIGlmICghZGVmaW5lZCh0aWxlc1JlbmRlcmVkQnlUZXh0dXJlQ291bnQpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciB0aWxlSW5kZXggPSAwO1xuICAgICAgICAgICFzZWxlY3RlZFRpbGUgJiYgdGlsZUluZGV4IDwgdGlsZXNSZW5kZXJlZEJ5VGV4dHVyZUNvdW50Lmxlbmd0aDtcbiAgICAgICAgICArK3RpbGVJbmRleFxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgdGlsZSA9IHRpbGVzUmVuZGVyZWRCeVRleHR1cmVDb3VudFt0aWxlSW5kZXhdO1xuICAgICAgICAgIGlmIChSZWN0YW5nbGUuY29udGFpbnModGlsZS5yZWN0YW5nbGUsIGNhcnRvZ3JhcGhpYykpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkVGlsZSA9IHRpbGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhhdC50aWxlID0gc2VsZWN0ZWRUaWxlO1xuXG4gICAgdGhhdC5waWNrVGlsZUFjdGl2ZSA9IGZhbHNlO1xuICB9XG5cbiAgdGhpcy5fcGlja1RpbGUgPSBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICB0aGF0LnBpY2tUaWxlQWN0aXZlID0gIXRoYXQucGlja1RpbGVBY3RpdmU7XG4gIH0pO1xuXG4gIHRoaXMuX3BpY2tUaWxlQWN0aXZlU3Vic2NyaXB0aW9uID0ga25vY2tvdXRcbiAgICAuZ2V0T2JzZXJ2YWJsZSh0aGlzLCBcInBpY2tUaWxlQWN0aXZlXCIpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlci5zZXRJbnB1dEFjdGlvbihcbiAgICAgICAgICBzZWxlY3RUaWxlLFxuICAgICAgICAgIFNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0tcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50SGFuZGxlci5yZW1vdmVJbnB1dEFjdGlvbihTY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB0aGlzLl9yZW1vdmVQb3N0UmVuZGVyRXZlbnQgPSBzY2VuZS5wb3N0UmVuZGVyLmFkZEV2ZW50TGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgIHRoYXQuX3VwZGF0ZSgpO1xuICB9KTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgc2NlbmUgdG8gY29udHJvbC5cbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1NjZW5lfVxuICAgKi9cbiAgc2NlbmU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY2VuZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb250YWluZXIgb2YgdGhlIFBlcmZvcm1hbmNlRGlzcGxheVxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICovXG4gIHBlcmZvcm1hbmNlQ29udGFpbmVyOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VDb250YWluZXI7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY29tbWFuZCB0byB0b2dnbGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGRyb3AgZG93bi5cbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICB0b2dnbGVEcm9wRG93bjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RvZ2dsZURyb3BEb3duO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gdG9nZ2xlIHRoZSB2aXNpYmlsaXR5IG9mIGEgQm91bmRpbmdTcGhlcmUgZm9yIGEgcHJpbWl0aXZlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgc2hvd1ByaW1pdGl2ZUJvdW5kaW5nU3BoZXJlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd1ByaW1pdGl2ZUJvdW5kaW5nU3BoZXJlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gdG9nZ2xlIHRoZSB2aXNpYmlsaXR5IG9mIGEge0BsaW5rIERlYnVnTW9kZWxNYXRyaXhQcmltaXRpdmV9IGZvciB0aGUgbW9kZWwgbWF0cml4IG9mIGEgcHJpbWl0aXZlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgc2hvd1ByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd1ByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gdG9nZ2xlIGEgZmlsdGVyIHRoYXQgcmVuZGVycyBvbmx5IGEgc2VsZWN0ZWQgcHJpbWl0aXZlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgZG9GaWx0ZXJQcmltaXRpdmU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kb0ZpbHRlclByaW1pdGl2ZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb21tYW5kIHRvIGluY3JlbWVudCB0aGUgZGVwdGggZnJ1c3R1bSBpbmRleCB0byBiZSBzaG93blxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIGluY3JlbWVudERlcHRoRnJ1c3R1bToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2luY3JlbWVudERlcHRoRnJ1c3R1bTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb21tYW5kIHRvIGRlY3JlbWVudCB0aGUgZGVwdGggZnJ1c3R1bSBpbmRleCB0byBiZSBzaG93blxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIGRlY3JlbWVudERlcHRoRnJ1c3R1bToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlY3JlbWVudERlcHRoRnJ1c3R1bTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb21tYW5kIHRvIHRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiB0aWxlIGNvb3JkaW5hdGVzXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgc2hvd1RpbGVDb29yZGluYXRlczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dUaWxlQ29vcmRpbmF0ZXM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY29tbWFuZCB0byB0b2dnbGUgdGhlIHZpc2liaWxpdHkgb2YgYSBCb3VuZGluZ1NwaGVyZSBmb3IgYSBzZWxlY3RlZCB0aWxlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgc2hvd1RpbGVCb3VuZGluZ1NwaGVyZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dUaWxlQm91bmRpbmdTcGhlcmU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY29tbWFuZCB0byB0b2dnbGUgYSBmaWx0ZXIgdGhhdCByZW5kZXJzIG9ubHkgYSBzZWxlY3RlZCB0aWxlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgZG9GaWx0ZXJUaWxlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZG9GaWx0ZXJUaWxlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gZXhwYW5kIGFuZCBjb2xsYXBzZSB0aGUgZ2VuZXJhbCBzZWN0aW9uXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgdG9nZ2xlR2VuZXJhbDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RvZ2dsZUdlbmVyYWw7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY29tbWFuZCB0byBleHBhbmQgYW5kIGNvbGxhcHNlIHRoZSBwcmltaXRpdmVzIHNlY3Rpb25cbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICB0b2dnbGVQcmltaXRpdmVzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlUHJpbWl0aXZlcztcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb21tYW5kIHRvIGV4cGFuZCBhbmQgY29sbGFwc2UgdGhlIHRlcnJhaW4gc2VjdGlvblxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIHRvZ2dsZVRlcnJhaW46IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b2dnbGVUZXJyYWluO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gcGljayBhIHByaW1pdGl2ZVxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIHBpY2tQcmltaXRpdmU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9waWNrUHJpbWl0aXZlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gcGljayBhIHRpbGVcbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICBwaWNrVGlsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BpY2tUaWxlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gcGljayBhIHRpbGVcbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICBzZWxlY3RQYXJlbnQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHJldHVybiBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC50aWxlID0gdGhhdC50aWxlLnBhcmVudDtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gcGljayBhIHRpbGVcbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICBzZWxlY3ROVzoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnRpbGUgPSB0aGF0LnRpbGUubm9ydGh3ZXN0Q2hpbGQ7XG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb21tYW5kIHRvIHBpY2sgYSB0aWxlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgc2VsZWN0TkU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHJldHVybiBjcmVhdGVDb21tYW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC50aWxlID0gdGhhdC50aWxlLm5vcnRoZWFzdENoaWxkO1xuICAgICAgfSk7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY29tbWFuZCB0byBwaWNrIGEgdGlsZVxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIHNlbGVjdFNXOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICByZXR1cm4gY3JlYXRlQ29tbWFuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQudGlsZSA9IHRoYXQudGlsZS5zb3V0aHdlc3RDaGlsZDtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbW1hbmQgdG8gcGljayBhIHRpbGVcbiAgICogQG1lbWJlcm9mIENlc2l1bUluc3BlY3RvclZpZXdNb2RlbC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmR9XG4gICAqL1xuICBzZWxlY3RTRToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIGNyZWF0ZUNvbW1hbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnRpbGUgPSB0aGF0LnRpbGUuc291dGhlYXN0Q2hpbGQ7XG4gICAgICB9KTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgcHJpbWl0aXZlXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kfVxuICAgKi9cbiAgcHJpbWl0aXZlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJpbWl0aXZlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAobmV3UHJpbWl0aXZlKSB7XG4gICAgICB2YXIgb2xkUHJpbWl0aXZlID0gdGhpcy5fcHJpbWl0aXZlO1xuICAgICAgaWYgKG5ld1ByaW1pdGl2ZSAhPT0gb2xkUHJpbWl0aXZlKSB7XG4gICAgICAgIHRoaXMuaGFzUGlja2VkUHJpbWl0aXZlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGRlZmluZWQob2xkUHJpbWl0aXZlKSkge1xuICAgICAgICAgIG9sZFByaW1pdGl2ZS5kZWJ1Z1Nob3dCb3VuZGluZ1ZvbHVtZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NjZW5lLmRlYnVnQ29tbWFuZEZpbHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGRlZmluZWQodGhpcy5fbW9kZWxNYXRyaXhQcmltaXRpdmUpKSB7XG4gICAgICAgICAgdGhpcy5fc2NlbmUucHJpbWl0aXZlcy5yZW1vdmUodGhpcy5fbW9kZWxNYXRyaXhQcmltaXRpdmUpO1xuICAgICAgICAgIHRoaXMuX21vZGVsTWF0cml4UHJpbWl0aXZlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByaW1pdGl2ZSA9IG5ld1ByaW1pdGl2ZTtcbiAgICAgICAgbmV3UHJpbWl0aXZlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbmV3UHJpbWl0aXZlLnNob3cgPSB0cnVlO1xuICAgICAgICB9LCA1MCk7XG4gICAgICAgIHRoaXMuc2hvd1ByaW1pdGl2ZUJvdW5kaW5nU3BoZXJlKCk7XG4gICAgICAgIHRoaXMuc2hvd1ByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lKCk7XG4gICAgICAgIHRoaXMuZG9GaWx0ZXJQcmltaXRpdmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgdGlsZVxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Q29tbWFuZH1cbiAgICovXG4gIHRpbGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90aWxlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAobmV3VGlsZSkge1xuICAgICAgaWYgKGRlZmluZWQobmV3VGlsZSkpIHtcbiAgICAgICAgdGhpcy5oYXNQaWNrZWRUaWxlID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZFRpbGUgPSB0aGlzLl90aWxlO1xuICAgICAgICBpZiAobmV3VGlsZSAhPT0gb2xkVGlsZSkge1xuICAgICAgICAgIHRoaXMudGlsZVRleHQgPVxuICAgICAgICAgICAgXCJMOiBcIiArIG5ld1RpbGUubGV2ZWwgKyBcIiBYOiBcIiArIG5ld1RpbGUueCArIFwiIFk6IFwiICsgbmV3VGlsZS55O1xuICAgICAgICAgIHRoaXMudGlsZVRleHQgKz1cbiAgICAgICAgICAgIFwiPGJyPlNXIGNvcm5lcjogXCIgK1xuICAgICAgICAgICAgbmV3VGlsZS5yZWN0YW5nbGUud2VzdCArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgbmV3VGlsZS5yZWN0YW5nbGUuc291dGg7XG4gICAgICAgICAgdGhpcy50aWxlVGV4dCArPVxuICAgICAgICAgICAgXCI8YnI+TkUgY29ybmVyOiBcIiArXG4gICAgICAgICAgICBuZXdUaWxlLnJlY3RhbmdsZS5lYXN0ICtcbiAgICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgICBuZXdUaWxlLnJlY3RhbmdsZS5ub3J0aDtcbiAgICAgICAgICB2YXIgZGF0YSA9IG5ld1RpbGUuZGF0YTtcbiAgICAgICAgICBpZiAoZGVmaW5lZChkYXRhKSAmJiBkZWZpbmVkKGRhdGEudGlsZUJvdW5kaW5nUmVnaW9uKSkge1xuICAgICAgICAgICAgdGhpcy50aWxlVGV4dCArPVxuICAgICAgICAgICAgICBcIjxicj5NaW46IFwiICtcbiAgICAgICAgICAgICAgZGF0YS50aWxlQm91bmRpbmdSZWdpb24ubWluaW11bUhlaWdodCArXG4gICAgICAgICAgICAgIFwiIE1heDogXCIgK1xuICAgICAgICAgICAgICBkYXRhLnRpbGVCb3VuZGluZ1JlZ2lvbi5tYXhpbXVtSGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUZXh0ICs9IFwiPGJyPihUaWxlIGlzIG5vdCBsb2FkZWQpXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RpbGUgPSBuZXdUaWxlO1xuICAgICAgICB0aGlzLnNob3dUaWxlQm91bmRpbmdTcGhlcmUoKTtcbiAgICAgICAgdGhpcy5kb0ZpbHRlclRpbGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFzUGlja2VkVGlsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90aWxlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB2aWV3IG1vZGVsXG4gKiBAcHJpdmF0ZVxuICovXG5DZXNpdW1JbnNwZWN0b3JWaWV3TW9kZWwucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmZydXN0dW1zKSB7XG4gICAgdGhpcy5mcnVzdHVtU3RhdGlzdGljVGV4dCA9IGZydXN0dW1TdGF0aXN0aWNzVG9TdHJpbmcoXG4gICAgICB0aGlzLl9zY2VuZS5kZWJ1Z0ZydXN0dW1TdGF0aXN0aWNzXG4gICAgKTtcbiAgfVxuXG4gIC8vIERldGVybWluZSB0aGUgbnVtYmVyIG9mIGZydXN0dW1zIGJlaW5nIHVzZWQuXG4gIHZhciBudW1iZXJPZkZydXN0dW1zID0gdGhpcy5fc2NlbmUubnVtYmVyT2ZGcnVzdHVtcztcbiAgdGhpcy5fbnVtYmVyT2ZGcnVzdHVtcyA9IG51bWJlck9mRnJ1c3R1bXM7XG4gIC8vIEJvdW5kIHRoZSBmcnVzdHVtIHRvIGJlIGRpc3BsYXllZC5cbiAgdGhpcy5kZXB0aEZydXN0dW0gPSBib3VuZERlcHRoRnJ1c3R1bSgxLCBudW1iZXJPZkZydXN0dW1zLCB0aGlzLmRlcHRoRnJ1c3R1bSk7XG4gIC8vIFVwZGF0ZSB0aGUgZGlzcGxheWVkIHRleHQuXG4gIHRoaXMuZGVwdGhGcnVzdHVtVGV4dCA9IHRoaXMuZGVwdGhGcnVzdHVtICsgXCIgb2YgXCIgKyBudW1iZXJPZkZydXN0dW1zO1xuXG4gIGlmICh0aGlzLnBlcmZvcm1hbmNlKSB7XG4gICAgdGhpcy5fcGVyZm9ybWFuY2VEaXNwbGF5LnVwZGF0ZSgpO1xuICB9XG4gIGlmICh0aGlzLnByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lKSB7XG4gICAgdGhpcy5fbW9kZWxNYXRyaXhQcmltaXRpdmUubW9kZWxNYXRyaXggPSB0aGlzLl9wcmltaXRpdmUubW9kZWxNYXRyaXg7XG4gIH1cblxuICB0aGlzLnNoYWRlckNhY2hlVGV4dCA9XG4gICAgXCJDYWNoZWQgc2hhZGVyczogXCIgKyB0aGlzLl9zY2VuZS5jb250ZXh0LnNoYWRlckNhY2hlLm51bWJlck9mU2hhZGVycztcbn07XG5cbi8qKlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgd2lkZ2V0LiAgU2hvdWxkIGJlIGNhbGxlZCBpZiBwZXJtYW5lbnRseVxuICogcmVtb3ZpbmcgdGhlIHdpZGdldCBmcm9tIGxheW91dC5cbiAqL1xuQ2VzaXVtSW5zcGVjdG9yVmlld01vZGVsLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9ldmVudEhhbmRsZXIuZGVzdHJveSgpO1xuICB0aGlzLl9yZW1vdmVQb3N0UmVuZGVyRXZlbnQoKTtcbiAgdGhpcy5fZnJ1c3R1bXNTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICB0aGlzLl9mcnVzdHVtUGxhbmVzU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fcGVyZm9ybWFuY2VTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICB0aGlzLl9wcmltaXRpdmVCb3VuZGluZ1NwaGVyZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIHRoaXMuX3ByaW1pdGl2ZVJlZmVyZW5jZUZyYW1lU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fZmlsdGVyUHJpbWl0aXZlU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fd2lyZWZyYW1lU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fZ2xvYmVEZXB0aFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIHRoaXMuX3BpY2tEZXB0aFN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIHRoaXMuX2RlcHRoRnJ1c3R1bVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIHRoaXMuX3N1c3BlbmRVcGRhdGVzU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fdGlsZUNvb3JkaW5hdGVzU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fdGlsZUJvdW5kaW5nU3BoZXJlU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcbiAgdGhpcy5fZmlsdGVyVGlsZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIHRoaXMuX3BpY2tQcmltaXRpdmVBY3RpdmVTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICB0aGlzLl9waWNrVGlsZUFjdGl2ZVN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IENlc2l1bUluc3BlY3RvclZpZXdNb2RlbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23455\n')},84166:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72000);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Clock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(95884);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(50491);\n/* harmony import */ var _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(96037);\n/* harmony import */ var _Core_formatError_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(74771);\n/* harmony import */ var _Core_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(32195);\n/* harmony import */ var _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(20406);\n/* harmony import */ var _Scene_createWorldImagery_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(30289);\n/* harmony import */ var _Scene_Globe_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(87717);\n/* harmony import */ var _Scene_Moon_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(39982);\n/* harmony import */ var _Scene_Scene_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(36033);\n/* harmony import */ var _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(89917);\n/* harmony import */ var _Scene_ShadowMode_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(34125);\n/* harmony import */ var _Scene_SkyAtmosphere_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(80763);\n/* harmony import */ var _Scene_SkyBox_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(78149);\n/* harmony import */ var _Scene_Sun_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(76027);\n/* harmony import */ var _getElement_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(43412);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getDefaultSkyBoxUrl(suffix) {\n  return (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    "Assets/Textures/SkyBox/tycho2t3_80_" + suffix + ".jpg"\n  );\n}\n\nfunction startRenderLoop(widget) {\n  widget._renderLoopRunning = true;\n\n  var lastFrameTime = 0;\n  function render(frameTime) {\n    if (widget.isDestroyed()) {\n      return;\n    }\n\n    if (widget._useDefaultRenderLoop) {\n      try {\n        var targetFrameRate = widget._targetFrameRate;\n        if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(targetFrameRate)) {\n          widget.resize();\n          widget.render();\n          (0,_Core_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(render);\n        } else {\n          var interval = 1000.0 / targetFrameRate;\n          var delta = frameTime - lastFrameTime;\n\n          if (delta > interval) {\n            widget.resize();\n            widget.render();\n            lastFrameTime = frameTime - (delta % interval);\n          }\n          (0,_Core_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(render);\n        }\n      } catch (error) {\n        widget._useDefaultRenderLoop = false;\n        widget._renderLoopRunning = false;\n        if (widget._showRenderLoopErrors) {\n          var title =\n            "An error occurred while rendering.  Rendering has stopped.";\n          widget.showErrorPanel(title, undefined, error);\n        }\n      }\n    } else {\n      widget._renderLoopRunning = false;\n    }\n  }\n\n  (0,_Core_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(render);\n}\n\nfunction configurePixelRatio(widget) {\n  var pixelRatio = widget._useBrowserRecommendedResolution\n    ? 1.0\n    : window.devicePixelRatio;\n  pixelRatio *= widget._resolutionScale;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(widget._scene)) {\n    widget._scene.pixelRatio = pixelRatio;\n  }\n\n  return pixelRatio;\n}\n\nfunction configureCanvasSize(widget) {\n  var canvas = widget._canvas;\n  var width = canvas.clientWidth;\n  var height = canvas.clientHeight;\n  var pixelRatio = configurePixelRatio(widget);\n\n  widget._canvasClientWidth = width;\n  widget._canvasClientHeight = height;\n\n  width *= pixelRatio;\n  height *= pixelRatio;\n\n  canvas.width = width;\n  canvas.height = height;\n\n  widget._canRender = width !== 0 && height !== 0;\n  widget._lastDevicePixelRatio = window.devicePixelRatio;\n}\n\nfunction configureCameraFrustum(widget) {\n  var canvas = widget._canvas;\n  var width = canvas.width;\n  var height = canvas.height;\n  if (width !== 0 && height !== 0) {\n    var frustum = widget._scene.camera.frustum;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(frustum.aspectRatio)) {\n      frustum.aspectRatio = width / height;\n    } else {\n      frustum.top = frustum.right * (height / width);\n      frustum.bottom = -frustum.top;\n    }\n  }\n}\n\n/**\n * A widget containing a Cesium scene.\n *\n * @alias CesiumWidget\n * @constructor\n *\n * @param {Element|String} container The DOM element or ID that will contain the widget.\n * @param {Object} [options] Object with the following properties:\n * @param {Clock} [options.clock=new Clock()] The clock to use to control current time.\n * @param {ImageryProvider | false} [options.imageryProvider=createWorldImagery()] The imagery provider to serve as the base layer. If set to <code>false</code>, no imagery provider will be added.\n * @param {TerrainProvider} [options.terrainProvider=new EllipsoidTerrainProvider] The terrain provider.\n * @param {SkyBox| false} [options.skyBox] The skybox used to render the stars.  When <code>undefined</code>, the default stars are used. If set to <code>false</code>, no skyBox, Sun, or Moon will be added.\n * @param {SkyAtmosphere | false} [options.skyAtmosphere] Blue sky, and the glow around the Earth\'s limb.  Set to <code>false</code> to turn it off.\n * @param {SceneMode} [options.sceneMode=SceneMode.SCENE3D] The initial scene mode.\n * @param {Boolean} [options.scene3DOnly=false] When <code>true</code>, each geometry instance will only be rendered in 3D to save GPU memory.\n * @param {Boolean} [options.orderIndependentTranslucency=true] If true and the configuration supports it, use order independent translucency.\n * @param {MapProjection} [options.mapProjection=new GeographicProjection()] The map projection to use in 2D and Columbus View modes.\n * @param {Globe | false} [options.globe=new Globe(mapProjection.ellipsoid)] The globe to use in the scene.  If set to <code>false</code>, no globe will be added.\n * @param {Boolean} [options.useDefaultRenderLoop=true] True if this widget should control the render loop, false otherwise.\n * @param {Boolean} [options.useBrowserRecommendedResolution=true] If true, render at the browser\'s recommended resolution and ignore <code>window.devicePixelRatio</code>.\n * @param {Number} [options.targetFrameRate] The target frame rate when using the default render loop.\n * @param {Boolean} [options.showRenderLoopErrors=true] If true, this widget will automatically display an HTML panel to the user containing the error, if a render loop error occurs.\n * @param {Object} [options.contextOptions] Context and WebGL creation properties corresponding to <code>options</code> passed to {@link Scene}.\n * @param {Element|String} [options.creditContainer] The DOM element or ID that will contain the {@link CreditDisplay}.  If not specified, the credits are added\n *        to the bottom of the widget itself.\n * @param {Element|String} [options.creditViewport] The DOM element or ID that will contain the credit pop up created by the {@link CreditDisplay}.  If not specified, it will appear over the widget itself.\n * @param {Boolean} [options.shadows=false] Determines if shadows are cast by light sources.\n * @param {ShadowMode} [options.terrainShadows=ShadowMode.RECEIVE_ONLY] Determines if the terrain casts or receives shadows from light sources.\n * @param {MapMode2D} [options.mapMode2D=MapMode2D.INFINITE_SCROLL] Determines if the 2D map is rotatable or can be scrolled infinitely in the horizontal direction.\n * @param {Boolean} [options.requestRenderMode=false] If true, rendering a frame will only occur when needed as determined by changes within the scene. Enabling improves performance of the application, but requires using {@link Scene#requestRender} to render a new frame explicitly in this mode. This will be necessary in many cases after making changes to the scene in other parts of the API. See {@link https://cesium.com/blog/2018/01/24/cesium-scene-rendering-performance/|Improving Performance with Explicit Rendering}.\n * @param {Number} [options.maximumRenderTimeChange=0.0] If requestRenderMode is true, this value defines the maximum change in simulation time allowed before a render is requested. See {@link https://cesium.com/blog/2018/01/24/cesium-scene-rendering-performance/|Improving Performance with Explicit Rendering}.\n *\n * @exception {DeveloperError} Element with id "container" does not exist in the document.\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Cesium%20Widget.html|Cesium Sandcastle Cesium Widget Demo}\n *\n * @example\n * // For each example, include a link to CesiumWidget.css stylesheet in HTML head,\n * // and in the body, include: <div id="cesiumContainer"></div>\n *\n * //Widget with no terrain and default Bing Maps imagery provider.\n * var widget = new Cesium.CesiumWidget(\'cesiumContainer\');\n *\n * //Widget with ion imagery and Cesium World Terrain.\n * var widget = new Cesium.CesiumWidget(\'cesiumContainer\', {\n *     imageryProvider : Cesium.createWorldImagery(),\n *     terrainProvider : Cesium.createWorldTerrain(),\n *     skyBox : new Cesium.SkyBox({\n *         sources : {\n *           positiveX : \'stars/TychoSkymapII.t3_08192x04096_80_px.jpg\',\n *           negativeX : \'stars/TychoSkymapII.t3_08192x04096_80_mx.jpg\',\n *           positiveY : \'stars/TychoSkymapII.t3_08192x04096_80_py.jpg\',\n *           negativeY : \'stars/TychoSkymapII.t3_08192x04096_80_my.jpg\',\n *           positiveZ : \'stars/TychoSkymapII.t3_08192x04096_80_pz.jpg\',\n *           negativeZ : \'stars/TychoSkymapII.t3_08192x04096_80_mz.jpg\'\n *         }\n *     }),\n *     // Show Columbus View map with Web Mercator projection\n *     sceneMode : Cesium.SceneMode.COLUMBUS_VIEW,\n *     mapProjection : new Cesium.WebMercatorProjection()\n * });\n */\nfunction CesiumWidget(container, options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(container)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z("container is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  container = (0,_getElement_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)(container);\n\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //Configure the widget DOM elements\n  var element = document.createElement("div");\n  element.className = "cesium-widget";\n  container.appendChild(element);\n\n  var canvas = document.createElement("canvas");\n  var supportsImageRenderingPixelated = _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].supportsImageRenderingPixelated */ .Z.supportsImageRenderingPixelated();\n  this._supportsImageRenderingPixelated = supportsImageRenderingPixelated;\n  if (supportsImageRenderingPixelated) {\n    canvas.style.imageRendering = _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].imageRenderingValue */ .Z.imageRenderingValue();\n  }\n\n  canvas.oncontextmenu = function () {\n    return false;\n  };\n  canvas.onselectstart = function () {\n    return false;\n  };\n\n  // Interacting with a canvas does not automatically blur the previously focused element.\n  // This leads to unexpected interaction if the last element was an input field.\n  // For example, clicking the mouse wheel could lead to the value in  the field changing\n  // unexpectedly. The solution is to blur whatever has focus as soon as canvas interaction begins.\n  function blurActiveElement() {\n    if (canvas !== canvas.ownerDocument.activeElement) {\n      canvas.ownerDocument.activeElement.blur();\n    }\n  }\n  canvas.addEventListener("mousedown", blurActiveElement);\n  canvas.addEventListener("pointerdown", blurActiveElement);\n\n  element.appendChild(canvas);\n\n  var innerCreditContainer = document.createElement("div");\n  innerCreditContainer.className = "cesium-widget-credits";\n\n  var creditContainer = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(options.creditContainer)\n    ? (0,_getElement_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)(options.creditContainer)\n    : element;\n  creditContainer.appendChild(innerCreditContainer);\n\n  var creditViewport = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(options.creditViewport)\n    ? (0,_getElement_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)(options.creditViewport)\n    : element;\n\n  var showRenderLoopErrors = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.showRenderLoopErrors, true);\n\n  var useBrowserRecommendedResolution = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n    options.useBrowserRecommendedResolution,\n    true\n  );\n\n  this._element = element;\n  this._container = container;\n  this._canvas = canvas;\n  this._canvasClientWidth = 0;\n  this._canvasClientHeight = 0;\n  this._lastDevicePixelRatio = 0;\n  this._creditViewport = creditViewport;\n  this._creditContainer = creditContainer;\n  this._innerCreditContainer = innerCreditContainer;\n  this._canRender = false;\n  this._renderLoopRunning = false;\n  this._showRenderLoopErrors = showRenderLoopErrors;\n  this._resolutionScale = 1.0;\n  this._useBrowserRecommendedResolution = useBrowserRecommendedResolution;\n  this._forceResize = false;\n  this._clock = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(options.clock) ? options.clock : new _Core_Clock_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\n  configureCanvasSize(this);\n\n  try {\n    var scene = new _Scene_Scene_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n      canvas: canvas,\n      contextOptions: options.contextOptions,\n      creditContainer: innerCreditContainer,\n      creditViewport: creditViewport,\n      mapProjection: options.mapProjection,\n      orderIndependentTranslucency: options.orderIndependentTranslucency,\n      scene3DOnly: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.scene3DOnly, false),\n      shadows: options.shadows,\n      mapMode2D: options.mapMode2D,\n      requestRenderMode: options.requestRenderMode,\n      maximumRenderTimeChange: options.maximumRenderTimeChange,\n    });\n    this._scene = scene;\n\n    scene.camera.constrainedAxis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Z */ .Z.UNIT_Z;\n\n    configurePixelRatio(this);\n    configureCameraFrustum(this);\n\n    var ellipsoid = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n      scene.mapProjection.ellipsoid,\n      _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].WGS84 */ .Z.WGS84\n    );\n\n    var globe = options.globe;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(globe)) {\n      globe = new _Scene_Globe_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z(ellipsoid);\n    }\n    if (globe !== false) {\n      scene.globe = globe;\n      scene.globe.shadows = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n        options.terrainShadows,\n        _Scene_ShadowMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].RECEIVE_ONLY */ .Z.RECEIVE_ONLY\n      );\n    }\n\n    var skyBox = options.skyBox;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(skyBox)) {\n      skyBox = new _Scene_SkyBox_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z({\n        sources: {\n          positiveX: getDefaultSkyBoxUrl("px"),\n          negativeX: getDefaultSkyBoxUrl("mx"),\n          positiveY: getDefaultSkyBoxUrl("py"),\n          negativeY: getDefaultSkyBoxUrl("my"),\n          positiveZ: getDefaultSkyBoxUrl("pz"),\n          negativeZ: getDefaultSkyBoxUrl("mz"),\n        },\n      });\n    }\n    if (skyBox !== false) {\n      scene.skyBox = skyBox;\n      scene.sun = new _Scene_Sun_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z();\n      scene.moon = new _Scene_Moon_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\n    }\n\n    // Blue sky, and the glow around the Earth\'s limb.\n    var skyAtmosphere = options.skyAtmosphere;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(skyAtmosphere)) {\n      skyAtmosphere = new _Scene_SkyAtmosphere_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z(ellipsoid);\n    }\n    if (skyAtmosphere !== false) {\n      scene.skyAtmosphere = skyAtmosphere;\n    }\n\n    //Set the base imagery layer\n    var imageryProvider =\n      options.globe === false ? false : options.imageryProvider;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(imageryProvider)) {\n      imageryProvider = (0,_Scene_createWorldImagery_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)();\n    }\n\n    if (imageryProvider !== false) {\n      scene.imageryLayers.addImageryProvider(imageryProvider);\n    }\n\n    //Set the terrain provider if one is provided.\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(options.terrainProvider) && options.globe !== false) {\n      scene.terrainProvider = options.terrainProvider;\n    }\n\n    this._screenSpaceEventHandler = new _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z(canvas);\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(options.sceneMode)) {\n      if (options.sceneMode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n        this._scene.morphTo2D(0);\n      }\n      if (options.sceneMode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW) {\n        this._scene.morphToColumbusView(0);\n      }\n    }\n\n    this._useDefaultRenderLoop = undefined;\n    this.useDefaultRenderLoop = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n      options.useDefaultRenderLoop,\n      true\n    );\n\n    this._targetFrameRate = undefined;\n    this.targetFrameRate = options.targetFrameRate;\n\n    var that = this;\n    this._onRenderError = function (scene, error) {\n      that._useDefaultRenderLoop = false;\n      that._renderLoopRunning = false;\n      if (that._showRenderLoopErrors) {\n        var title =\n          "An error occurred while rendering.  Rendering has stopped.";\n        that.showErrorPanel(title, undefined, error);\n      }\n    };\n    scene.renderError.addEventListener(this._onRenderError);\n  } catch (error) {\n    if (showRenderLoopErrors) {\n      var title = "Error constructing CesiumWidget.";\n      var message =\n        \'Visit <a href="http://get.webgl.org">http://get.webgl.org</a> to verify that your web browser and hardware support WebGL.  Consider trying a different web browser or updating your video drivers.  Detailed error information is below:\';\n      this.showErrorPanel(title, message, error);\n    }\n    throw error;\n  }\n}\n\nObject.defineProperties(CesiumWidget.prototype, {\n  /**\n   * Gets the parent container.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Element}\n   * @readonly\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the canvas.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {HTMLCanvasElement}\n   * @readonly\n   */\n  canvas: {\n    get: function () {\n      return this._canvas;\n    },\n  },\n\n  /**\n   * Gets the credit container.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Element}\n   * @readonly\n   */\n  creditContainer: {\n    get: function () {\n      return this._creditContainer;\n    },\n  },\n\n  /**\n   * Gets the credit viewport\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Element}\n   * @readonly\n   */\n  creditViewport: {\n    get: function () {\n      return this._creditViewport;\n    },\n  },\n\n  /**\n   * Gets the scene.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Scene}\n   * @readonly\n   */\n  scene: {\n    get: function () {\n      return this._scene;\n    },\n  },\n\n  /**\n   * Gets the collection of image layers that will be rendered on the globe.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {ImageryLayerCollection}\n   * @readonly\n   */\n  imageryLayers: {\n    get: function () {\n      return this._scene.imageryLayers;\n    },\n  },\n\n  /**\n   * The terrain provider providing surface geometry for the globe.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {TerrainProvider}\n   */\n  terrainProvider: {\n    get: function () {\n      return this._scene.terrainProvider;\n    },\n    set: function (terrainProvider) {\n      this._scene.terrainProvider = terrainProvider;\n    },\n  },\n\n  /**\n   * Gets the camera.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Camera}\n   * @readonly\n   */\n  camera: {\n    get: function () {\n      return this._scene.camera;\n    },\n  },\n\n  /**\n   * Gets the clock.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Clock}\n   * @readonly\n   */\n  clock: {\n    get: function () {\n      return this._clock;\n    },\n  },\n\n  /**\n   * Gets the screen space event handler.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {ScreenSpaceEventHandler}\n   * @readonly\n   */\n  screenSpaceEventHandler: {\n    get: function () {\n      return this._screenSpaceEventHandler;\n    },\n  },\n\n  /**\n   * Gets or sets the target frame rate of the widget when <code>useDefaultRenderLoop</code>\n   * is true. If undefined, the browser\'s {@link requestAnimationFrame} implementation\n   * determines the frame rate.  If defined, this value must be greater than 0.  A value higher\n   * than the underlying requestAnimationFrame implementation will have no effect.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Number}\n   */\n  targetFrameRate: {\n    get: function () {\n      return this._targetFrameRate;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (value <= 0) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(\n          "targetFrameRate must be greater than 0, or undefined."\n        );\n      }\n      //>>includeEnd(\'debug\');\n      this._targetFrameRate = value;\n    },\n  },\n\n  /**\n   * Gets or sets whether or not this widget should control the render loop.\n   * If set to true the widget will use {@link requestAnimationFrame} to\n   * perform rendering and resizing of the widget, as well as drive the\n   * simulation clock. If set to false, you must manually call the\n   * <code>resize</code>, <code>render</code> methods as part of a custom\n   * render loop.  If an error occurs during rendering, {@link Scene}\'s\n   * <code>renderError</code> event will be raised and this property\n   * will be set to false.  It must be set back to true to continue rendering\n   * after the error.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Boolean}\n   */\n  useDefaultRenderLoop: {\n    get: function () {\n      return this._useDefaultRenderLoop;\n    },\n    set: function (value) {\n      if (this._useDefaultRenderLoop !== value) {\n        this._useDefaultRenderLoop = value;\n        if (value && !this._renderLoopRunning) {\n          startRenderLoop(this);\n        }\n      }\n    },\n  },\n\n  /**\n   * Gets or sets a scaling factor for rendering resolution.  Values less than 1.0 can improve\n   * performance on less powerful devices while values greater than 1.0 will render at a higher\n   * resolution and then scale down, resulting in improved visual fidelity.\n   * For example, if the widget is laid out at a size of 640x480, setting this value to 0.5\n   * will cause the scene to be rendered at 320x240 and then scaled up while setting\n   * it to 2.0 will cause the scene to be rendered at 1280x960 and then scaled down.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Number}\n   * @default 1.0\n   */\n  resolutionScale: {\n    get: function () {\n      return this._resolutionScale;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (value <= 0) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z("resolutionScale must be greater than 0.");\n      }\n      //>>includeEnd(\'debug\');\n      if (this._resolutionScale !== value) {\n        this._resolutionScale = value;\n        this._forceResize = true;\n      }\n    },\n  },\n\n  /**\n   * Boolean flag indicating if the browser\'s recommended resolution is used.\n   * If true, the browser\'s device pixel ratio is ignored and 1.0 is used instead,\n   * effectively rendering based on CSS pixels instead of device pixels. This can improve\n   * performance on less powerful devices that have high pixel density. When false, rendering\n   * will be in device pixels. {@link CesiumWidget#resolutionScale} will still take effect whether\n   * this flag is true or false.\n   * @memberof CesiumWidget.prototype\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  useBrowserRecommendedResolution: {\n    get: function () {\n      return this._useBrowserRecommendedResolution;\n    },\n    set: function (value) {\n      if (this._useBrowserRecommendedResolution !== value) {\n        this._useBrowserRecommendedResolution = value;\n        this._forceResize = true;\n      }\n    },\n  },\n});\n\n/**\n * Show an error panel to the user containing a title and a longer error message,\n * which can be dismissed using an OK button.  This panel is displayed automatically\n * when a render loop error occurs, if showRenderLoopErrors was not false when the\n * widget was constructed.\n *\n * @param {String} title The title to be displayed on the error panel.  This string is interpreted as text.\n * @param {String} [message] A helpful, user-facing message to display prior to the detailed error information.  This string is interpreted as HTML.\n * @param {String} [error] The error to be displayed on the error panel.  This string is formatted using {@link formatError} and then displayed as text.\n */\nCesiumWidget.prototype.showErrorPanel = function (title, message, error) {\n  var element = this._element;\n  var overlay = document.createElement("div");\n  overlay.className = "cesium-widget-errorPanel";\n\n  var content = document.createElement("div");\n  content.className = "cesium-widget-errorPanel-content";\n  overlay.appendChild(content);\n\n  var errorHeader = document.createElement("div");\n  errorHeader.className = "cesium-widget-errorPanel-header";\n  errorHeader.appendChild(document.createTextNode(title));\n  content.appendChild(errorHeader);\n\n  var errorPanelScroller = document.createElement("div");\n  errorPanelScroller.className = "cesium-widget-errorPanel-scroll";\n  content.appendChild(errorPanelScroller);\n  function resizeCallback() {\n    errorPanelScroller.style.maxHeight =\n      Math.max(Math.round(element.clientHeight * 0.9 - 100), 30) + "px";\n  }\n  resizeCallback();\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(window.addEventListener)) {\n    window.addEventListener("resize", resizeCallback, false);\n  }\n\n  var hasMessage = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(message);\n  var hasError = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(error);\n\n  if (hasMessage || hasError) {\n    var errorMessage = document.createElement("div");\n    errorMessage.className = "cesium-widget-errorPanel-message";\n    errorPanelScroller.appendChild(errorMessage);\n\n    if (hasError) {\n      var errorDetails = (0,_Core_formatError_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z)(error);\n      if (!hasMessage) {\n        if (typeof error === "string") {\n          error = new Error(error);\n        }\n\n        message = (0,_Core_formatError_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z)({\n          name: error.name,\n          message: error.message,\n        });\n        errorDetails = error.stack;\n      }\n\n      //IE8 does not have a console object unless the dev tools are open.\n      if (typeof console !== "undefined") {\n        console.error(title + "\\n" + message + "\\n" + errorDetails);\n      }\n\n      var errorMessageDetails = document.createElement("div");\n      errorMessageDetails.className =\n        "cesium-widget-errorPanel-message-details collapsed";\n\n      var moreDetails = document.createElement("span");\n      moreDetails.className = "cesium-widget-errorPanel-more-details";\n      moreDetails.appendChild(document.createTextNode("See more..."));\n      errorMessageDetails.appendChild(moreDetails);\n\n      errorMessageDetails.onclick = function (e) {\n        errorMessageDetails.removeChild(moreDetails);\n        errorMessageDetails.appendChild(document.createTextNode(errorDetails));\n        errorMessageDetails.className =\n          "cesium-widget-errorPanel-message-details";\n        content.className = "cesium-widget-errorPanel-content expanded";\n        errorMessageDetails.onclick = undefined;\n      };\n\n      errorPanelScroller.appendChild(errorMessageDetails);\n    }\n\n    errorMessage.innerHTML = "<p>" + message + "</p>";\n  }\n\n  var buttonPanel = document.createElement("div");\n  buttonPanel.className = "cesium-widget-errorPanel-buttonPanel";\n  content.appendChild(buttonPanel);\n\n  var okButton = document.createElement("button");\n  okButton.setAttribute("type", "button");\n  okButton.className = "cesium-button";\n  okButton.appendChild(document.createTextNode("OK"));\n  okButton.onclick = function () {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(resizeCallback) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(window.removeEventListener)) {\n      window.removeEventListener("resize", resizeCallback, false);\n    }\n    element.removeChild(overlay);\n  };\n\n  buttonPanel.appendChild(okButton);\n\n  element.appendChild(overlay);\n};\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nCesiumWidget.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nCesiumWidget.prototype.destroy = function () {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this._scene)) {\n    this._scene.renderError.removeEventListener(this._onRenderError);\n    this._scene = this._scene.destroy();\n  }\n  this._container.removeChild(this._element);\n  this._creditContainer.removeChild(this._innerCreditContainer);\n  (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(this);\n};\n\n/**\n * Updates the canvas size, camera aspect ratio, and viewport size.\n * This function is called automatically as needed unless\n * <code>useDefaultRenderLoop</code> is set to false.\n */\nCesiumWidget.prototype.resize = function () {\n  var canvas = this._canvas;\n  if (\n    !this._forceResize &&\n    this._canvasClientWidth === canvas.clientWidth &&\n    this._canvasClientHeight === canvas.clientHeight &&\n    this._lastDevicePixelRatio === window.devicePixelRatio\n  ) {\n    return;\n  }\n  this._forceResize = false;\n\n  configureCanvasSize(this);\n  configureCameraFrustum(this);\n\n  this._scene.requestRender();\n};\n\n/**\n * Renders the scene.  This function is called automatically\n * unless <code>useDefaultRenderLoop</code> is set to false;\n */\nCesiumWidget.prototype.render = function () {\n  if (this._canRender) {\n    this._scene.initializeFrame();\n    var currentTime = this._clock.tick();\n    this._scene.render(currentTime);\n  } else {\n    this._clock.tick();\n  }\n};\n/* harmony default export */ __webpack_exports__["Z"] = (CesiumWidget);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVk7QUFDNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBLDJDQUEyQyw2QkFBNkI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0EseUNBQXlDLDZCQUE2QjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsWUFBWTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0NBQW9DO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVEsdUZBQXVGLG1CQUFtQjtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzRUFBTztBQUNiO0FBQ0E7O0FBRUEsbUJBQW1CLHNFQUFPO0FBQzFCLGlCQUFpQixzRUFBTzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIsMEVBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLDBFQUFXO0FBQzdCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNFQUFPLG9CQUFvQixzRUFBTztBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNFQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMkVBQWE7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHlEQUFlLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9XaWRnZXRzL0Nlc2l1bVdpZGdldC9DZXNpdW1XaWRnZXQuanM/MWE1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYnVpbGRNb2R1bGVVcmwgZnJvbSBcIi4uLy4uL0NvcmUvYnVpbGRNb2R1bGVVcmwuanNcIjtcbmltcG9ydCBDYXJ0ZXNpYW4zIGZyb20gXCIuLi8uLi9Db3JlL0NhcnRlc2lhbjMuanNcIjtcbmltcG9ydCBDbG9jayBmcm9tIFwiLi4vLi4vQ29yZS9DbG9jay5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi8uLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi8uLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZCBmcm9tIFwiLi4vLi4vQ29yZS9FbGxpcHNvaWQuanNcIjtcbmltcG9ydCBGZWF0dXJlRGV0ZWN0aW9uIGZyb20gXCIuLi8uLi9Db3JlL0ZlYXR1cmVEZXRlY3Rpb24uanNcIjtcbmltcG9ydCBmb3JtYXRFcnJvciBmcm9tIFwiLi4vLi4vQ29yZS9mb3JtYXRFcnJvci5qc1wiO1xuaW1wb3J0IHJlcXVlc3RBbmltYXRpb25GcmFtZSBmcm9tIFwiLi4vLi4vQ29yZS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanNcIjtcbmltcG9ydCBTY3JlZW5TcGFjZUV2ZW50SGFuZGxlciBmcm9tIFwiLi4vLi4vQ29yZS9TY3JlZW5TcGFjZUV2ZW50SGFuZGxlci5qc1wiO1xuaW1wb3J0IGNyZWF0ZVdvcmxkSW1hZ2VyeSBmcm9tIFwiLi4vLi4vU2NlbmUvY3JlYXRlV29ybGRJbWFnZXJ5LmpzXCI7XG5pbXBvcnQgR2xvYmUgZnJvbSBcIi4uLy4uL1NjZW5lL0dsb2JlLmpzXCI7XG5pbXBvcnQgTW9vbiBmcm9tIFwiLi4vLi4vU2NlbmUvTW9vbi5qc1wiO1xuaW1wb3J0IFNjZW5lIGZyb20gXCIuLi8uLi9TY2VuZS9TY2VuZS5qc1wiO1xuaW1wb3J0IFNjZW5lTW9kZSBmcm9tIFwiLi4vLi4vU2NlbmUvU2NlbmVNb2RlLmpzXCI7XG5pbXBvcnQgU2hhZG93TW9kZSBmcm9tIFwiLi4vLi4vU2NlbmUvU2hhZG93TW9kZS5qc1wiO1xuaW1wb3J0IFNreUF0bW9zcGhlcmUgZnJvbSBcIi4uLy4uL1NjZW5lL1NreUF0bW9zcGhlcmUuanNcIjtcbmltcG9ydCBTa3lCb3ggZnJvbSBcIi4uLy4uL1NjZW5lL1NreUJveC5qc1wiO1xuaW1wb3J0IFN1biBmcm9tIFwiLi4vLi4vU2NlbmUvU3VuLmpzXCI7XG5pbXBvcnQgZ2V0RWxlbWVudCBmcm9tIFwiLi4vZ2V0RWxlbWVudC5qc1wiO1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0U2t5Qm94VXJsKHN1ZmZpeCkge1xuICByZXR1cm4gYnVpbGRNb2R1bGVVcmwoXG4gICAgXCJBc3NldHMvVGV4dHVyZXMvU2t5Qm94L3R5Y2hvMnQzXzgwX1wiICsgc3VmZml4ICsgXCIuanBnXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRSZW5kZXJMb29wKHdpZGdldCkge1xuICB3aWRnZXQuX3JlbmRlckxvb3BSdW5uaW5nID0gdHJ1ZTtcblxuICB2YXIgbGFzdEZyYW1lVGltZSA9IDA7XG4gIGZ1bmN0aW9uIHJlbmRlcihmcmFtZVRpbWUpIHtcbiAgICBpZiAod2lkZ2V0LmlzRGVzdHJveWVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAod2lkZ2V0Ll91c2VEZWZhdWx0UmVuZGVyTG9vcCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHRhcmdldEZyYW1lUmF0ZSA9IHdpZGdldC5fdGFyZ2V0RnJhbWVSYXRlO1xuICAgICAgICBpZiAoIWRlZmluZWQodGFyZ2V0RnJhbWVSYXRlKSkge1xuICAgICAgICAgIHdpZGdldC5yZXNpemUoKTtcbiAgICAgICAgICB3aWRnZXQucmVuZGVyKCk7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGludGVydmFsID0gMTAwMC4wIC8gdGFyZ2V0RnJhbWVSYXRlO1xuICAgICAgICAgIHZhciBkZWx0YSA9IGZyYW1lVGltZSAtIGxhc3RGcmFtZVRpbWU7XG5cbiAgICAgICAgICBpZiAoZGVsdGEgPiBpbnRlcnZhbCkge1xuICAgICAgICAgICAgd2lkZ2V0LnJlc2l6ZSgpO1xuICAgICAgICAgICAgd2lkZ2V0LnJlbmRlcigpO1xuICAgICAgICAgICAgbGFzdEZyYW1lVGltZSA9IGZyYW1lVGltZSAtIChkZWx0YSAlIGludGVydmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHdpZGdldC5fdXNlRGVmYXVsdFJlbmRlckxvb3AgPSBmYWxzZTtcbiAgICAgICAgd2lkZ2V0Ll9yZW5kZXJMb29wUnVubmluZyA9IGZhbHNlO1xuICAgICAgICBpZiAod2lkZ2V0Ll9zaG93UmVuZGVyTG9vcEVycm9ycykge1xuICAgICAgICAgIHZhciB0aXRsZSA9XG4gICAgICAgICAgICBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlbmRlcmluZy4gIFJlbmRlcmluZyBoYXMgc3RvcHBlZC5cIjtcbiAgICAgICAgICB3aWRnZXQuc2hvd0Vycm9yUGFuZWwodGl0bGUsIHVuZGVmaW5lZCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZGdldC5fcmVuZGVyTG9vcFJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlUGl4ZWxSYXRpbyh3aWRnZXQpIHtcbiAgdmFyIHBpeGVsUmF0aW8gPSB3aWRnZXQuX3VzZUJyb3dzZXJSZWNvbW1lbmRlZFJlc29sdXRpb25cbiAgICA/IDEuMFxuICAgIDogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gIHBpeGVsUmF0aW8gKj0gd2lkZ2V0Ll9yZXNvbHV0aW9uU2NhbGU7XG4gIGlmIChkZWZpbmVkKHdpZGdldC5fc2NlbmUpKSB7XG4gICAgd2lkZ2V0Ll9zY2VuZS5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgfVxuXG4gIHJldHVybiBwaXhlbFJhdGlvO1xufVxuXG5mdW5jdGlvbiBjb25maWd1cmVDYW52YXNTaXplKHdpZGdldCkge1xuICB2YXIgY2FudmFzID0gd2lkZ2V0Ll9jYW52YXM7XG4gIHZhciB3aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgdmFyIGhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG4gIHZhciBwaXhlbFJhdGlvID0gY29uZmlndXJlUGl4ZWxSYXRpbyh3aWRnZXQpO1xuXG4gIHdpZGdldC5fY2FudmFzQ2xpZW50V2lkdGggPSB3aWR0aDtcbiAgd2lkZ2V0Ll9jYW52YXNDbGllbnRIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgd2lkdGggKj0gcGl4ZWxSYXRpbztcbiAgaGVpZ2h0ICo9IHBpeGVsUmF0aW87XG5cbiAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgd2lkZ2V0Ll9jYW5SZW5kZXIgPSB3aWR0aCAhPT0gMCAmJiBoZWlnaHQgIT09IDA7XG4gIHdpZGdldC5fbGFzdERldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbn1cblxuZnVuY3Rpb24gY29uZmlndXJlQ2FtZXJhRnJ1c3R1bSh3aWRnZXQpIHtcbiAgdmFyIGNhbnZhcyA9IHdpZGdldC5fY2FudmFzO1xuICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICBpZiAod2lkdGggIT09IDAgJiYgaGVpZ2h0ICE9PSAwKSB7XG4gICAgdmFyIGZydXN0dW0gPSB3aWRnZXQuX3NjZW5lLmNhbWVyYS5mcnVzdHVtO1xuICAgIGlmIChkZWZpbmVkKGZydXN0dW0uYXNwZWN0UmF0aW8pKSB7XG4gICAgICBmcnVzdHVtLmFzcGVjdFJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZydXN0dW0udG9wID0gZnJ1c3R1bS5yaWdodCAqIChoZWlnaHQgLyB3aWR0aCk7XG4gICAgICBmcnVzdHVtLmJvdHRvbSA9IC1mcnVzdHVtLnRvcDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIHdpZGdldCBjb250YWluaW5nIGEgQ2VzaXVtIHNjZW5lLlxuICpcbiAqIEBhbGlhcyBDZXNpdW1XaWRnZXRcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd9IGNvbnRhaW5lciBUaGUgRE9NIGVsZW1lbnQgb3IgSUQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIHdpZGdldC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogQHBhcmFtIHtDbG9ja30gW29wdGlvbnMuY2xvY2s9bmV3IENsb2NrKCldIFRoZSBjbG9jayB0byB1c2UgdG8gY29udHJvbCBjdXJyZW50IHRpbWUuXG4gKiBAcGFyYW0ge0ltYWdlcnlQcm92aWRlciB8IGZhbHNlfSBbb3B0aW9ucy5pbWFnZXJ5UHJvdmlkZXI9Y3JlYXRlV29ybGRJbWFnZXJ5KCldIFRoZSBpbWFnZXJ5IHByb3ZpZGVyIHRvIHNlcnZlIGFzIHRoZSBiYXNlIGxheWVyLiBJZiBzZXQgdG8gPGNvZGU+ZmFsc2U8L2NvZGU+LCBubyBpbWFnZXJ5IHByb3ZpZGVyIHdpbGwgYmUgYWRkZWQuXG4gKiBAcGFyYW0ge1RlcnJhaW5Qcm92aWRlcn0gW29wdGlvbnMudGVycmFpblByb3ZpZGVyPW5ldyBFbGxpcHNvaWRUZXJyYWluUHJvdmlkZXJdIFRoZSB0ZXJyYWluIHByb3ZpZGVyLlxuICogQHBhcmFtIHtTa3lCb3h8IGZhbHNlfSBbb3B0aW9ucy5za3lCb3hdIFRoZSBza3lib3ggdXNlZCB0byByZW5kZXIgdGhlIHN0YXJzLiAgV2hlbiA8Y29kZT51bmRlZmluZWQ8L2NvZGU+LCB0aGUgZGVmYXVsdCBzdGFycyBhcmUgdXNlZC4gSWYgc2V0IHRvIDxjb2RlPmZhbHNlPC9jb2RlPiwgbm8gc2t5Qm94LCBTdW4sIG9yIE1vb24gd2lsbCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB7U2t5QXRtb3NwaGVyZSB8IGZhbHNlfSBbb3B0aW9ucy5za3lBdG1vc3BoZXJlXSBCbHVlIHNreSwgYW5kIHRoZSBnbG93IGFyb3VuZCB0aGUgRWFydGgncyBsaW1iLiAgU2V0IHRvIDxjb2RlPmZhbHNlPC9jb2RlPiB0byB0dXJuIGl0IG9mZi5cbiAqIEBwYXJhbSB7U2NlbmVNb2RlfSBbb3B0aW9ucy5zY2VuZU1vZGU9U2NlbmVNb2RlLlNDRU5FM0RdIFRoZSBpbml0aWFsIHNjZW5lIG1vZGUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNjZW5lM0RPbmx5PWZhbHNlXSBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCBlYWNoIGdlb21ldHJ5IGluc3RhbmNlIHdpbGwgb25seSBiZSByZW5kZXJlZCBpbiAzRCB0byBzYXZlIEdQVSBtZW1vcnkuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm9yZGVySW5kZXBlbmRlbnRUcmFuc2x1Y2VuY3k9dHJ1ZV0gSWYgdHJ1ZSBhbmQgdGhlIGNvbmZpZ3VyYXRpb24gc3VwcG9ydHMgaXQsIHVzZSBvcmRlciBpbmRlcGVuZGVudCB0cmFuc2x1Y2VuY3kuXG4gKiBAcGFyYW0ge01hcFByb2plY3Rpb259IFtvcHRpb25zLm1hcFByb2plY3Rpb249bmV3IEdlb2dyYXBoaWNQcm9qZWN0aW9uKCldIFRoZSBtYXAgcHJvamVjdGlvbiB0byB1c2UgaW4gMkQgYW5kIENvbHVtYnVzIFZpZXcgbW9kZXMuXG4gKiBAcGFyYW0ge0dsb2JlIHwgZmFsc2V9IFtvcHRpb25zLmdsb2JlPW5ldyBHbG9iZShtYXBQcm9qZWN0aW9uLmVsbGlwc29pZCldIFRoZSBnbG9iZSB0byB1c2UgaW4gdGhlIHNjZW5lLiAgSWYgc2V0IHRvIDxjb2RlPmZhbHNlPC9jb2RlPiwgbm8gZ2xvYmUgd2lsbCBiZSBhZGRlZC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudXNlRGVmYXVsdFJlbmRlckxvb3A9dHJ1ZV0gVHJ1ZSBpZiB0aGlzIHdpZGdldCBzaG91bGQgY29udHJvbCB0aGUgcmVuZGVyIGxvb3AsIGZhbHNlIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudXNlQnJvd3NlclJlY29tbWVuZGVkUmVzb2x1dGlvbj10cnVlXSBJZiB0cnVlLCByZW5kZXIgYXQgdGhlIGJyb3dzZXIncyByZWNvbW1lbmRlZCByZXNvbHV0aW9uIGFuZCBpZ25vcmUgPGNvZGU+d2luZG93LmRldmljZVBpeGVsUmF0aW88L2NvZGU+LlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRhcmdldEZyYW1lUmF0ZV0gVGhlIHRhcmdldCBmcmFtZSByYXRlIHdoZW4gdXNpbmcgdGhlIGRlZmF1bHQgcmVuZGVyIGxvb3AuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3dSZW5kZXJMb29wRXJyb3JzPXRydWVdIElmIHRydWUsIHRoaXMgd2lkZ2V0IHdpbGwgYXV0b21hdGljYWxseSBkaXNwbGF5IGFuIEhUTUwgcGFuZWwgdG8gdGhlIHVzZXIgY29udGFpbmluZyB0aGUgZXJyb3IsIGlmIGEgcmVuZGVyIGxvb3AgZXJyb3Igb2NjdXJzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmNvbnRleHRPcHRpb25zXSBDb250ZXh0IGFuZCBXZWJHTCBjcmVhdGlvbiBwcm9wZXJ0aWVzIGNvcnJlc3BvbmRpbmcgdG8gPGNvZGU+b3B0aW9uczwvY29kZT4gcGFzc2VkIHRvIHtAbGluayBTY2VuZX0uXG4gKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBbb3B0aW9ucy5jcmVkaXRDb250YWluZXJdIFRoZSBET00gZWxlbWVudCBvciBJRCB0aGF0IHdpbGwgY29udGFpbiB0aGUge0BsaW5rIENyZWRpdERpc3BsYXl9LiAgSWYgbm90IHNwZWNpZmllZCwgdGhlIGNyZWRpdHMgYXJlIGFkZGVkXG4gKiAgICAgICAgdG8gdGhlIGJvdHRvbSBvZiB0aGUgd2lkZ2V0IGl0c2VsZi5cbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd9IFtvcHRpb25zLmNyZWRpdFZpZXdwb3J0XSBUaGUgRE9NIGVsZW1lbnQgb3IgSUQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGNyZWRpdCBwb3AgdXAgY3JlYXRlZCBieSB0aGUge0BsaW5rIENyZWRpdERpc3BsYXl9LiAgSWYgbm90IHNwZWNpZmllZCwgaXQgd2lsbCBhcHBlYXIgb3ZlciB0aGUgd2lkZ2V0IGl0c2VsZi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2hhZG93cz1mYWxzZV0gRGV0ZXJtaW5lcyBpZiBzaGFkb3dzIGFyZSBjYXN0IGJ5IGxpZ2h0IHNvdXJjZXMuXG4gKiBAcGFyYW0ge1NoYWRvd01vZGV9IFtvcHRpb25zLnRlcnJhaW5TaGFkb3dzPVNoYWRvd01vZGUuUkVDRUlWRV9PTkxZXSBEZXRlcm1pbmVzIGlmIHRoZSB0ZXJyYWluIGNhc3RzIG9yIHJlY2VpdmVzIHNoYWRvd3MgZnJvbSBsaWdodCBzb3VyY2VzLlxuICogQHBhcmFtIHtNYXBNb2RlMkR9IFtvcHRpb25zLm1hcE1vZGUyRD1NYXBNb2RlMkQuSU5GSU5JVEVfU0NST0xMXSBEZXRlcm1pbmVzIGlmIHRoZSAyRCBtYXAgaXMgcm90YXRhYmxlIG9yIGNhbiBiZSBzY3JvbGxlZCBpbmZpbml0ZWx5IGluIHRoZSBob3Jpem9udGFsIGRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmVxdWVzdFJlbmRlck1vZGU9ZmFsc2VdIElmIHRydWUsIHJlbmRlcmluZyBhIGZyYW1lIHdpbGwgb25seSBvY2N1ciB3aGVuIG5lZWRlZCBhcyBkZXRlcm1pbmVkIGJ5IGNoYW5nZXMgd2l0aGluIHRoZSBzY2VuZS4gRW5hYmxpbmcgaW1wcm92ZXMgcGVyZm9ybWFuY2Ugb2YgdGhlIGFwcGxpY2F0aW9uLCBidXQgcmVxdWlyZXMgdXNpbmcge0BsaW5rIFNjZW5lI3JlcXVlc3RSZW5kZXJ9IHRvIHJlbmRlciBhIG5ldyBmcmFtZSBleHBsaWNpdGx5IGluIHRoaXMgbW9kZS4gVGhpcyB3aWxsIGJlIG5lY2Vzc2FyeSBpbiBtYW55IGNhc2VzIGFmdGVyIG1ha2luZyBjaGFuZ2VzIHRvIHRoZSBzY2VuZSBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgQVBJLiBTZWUge0BsaW5rIGh0dHBzOi8vY2VzaXVtLmNvbS9ibG9nLzIwMTgvMDEvMjQvY2VzaXVtLXNjZW5lLXJlbmRlcmluZy1wZXJmb3JtYW5jZS98SW1wcm92aW5nIFBlcmZvcm1hbmNlIHdpdGggRXhwbGljaXQgUmVuZGVyaW5nfS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhpbXVtUmVuZGVyVGltZUNoYW5nZT0wLjBdIElmIHJlcXVlc3RSZW5kZXJNb2RlIGlzIHRydWUsIHRoaXMgdmFsdWUgZGVmaW5lcyB0aGUgbWF4aW11bSBjaGFuZ2UgaW4gc2ltdWxhdGlvbiB0aW1lIGFsbG93ZWQgYmVmb3JlIGEgcmVuZGVyIGlzIHJlcXVlc3RlZC4gU2VlIHtAbGluayBodHRwczovL2Nlc2l1bS5jb20vYmxvZy8yMDE4LzAxLzI0L2Nlc2l1bS1zY2VuZS1yZW5kZXJpbmctcGVyZm9ybWFuY2UvfEltcHJvdmluZyBQZXJmb3JtYW5jZSB3aXRoIEV4cGxpY2l0IFJlbmRlcmluZ30uXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IEVsZW1lbnQgd2l0aCBpZCBcImNvbnRhaW5lclwiIGRvZXMgbm90IGV4aXN0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBAZGVtbyB7QGxpbmsgaHR0cHM6Ly9zYW5kY2FzdGxlLmNlc2l1bS5jb20vaW5kZXguaHRtbD9zcmM9Q2VzaXVtJTIwV2lkZ2V0Lmh0bWx8Q2VzaXVtIFNhbmRjYXN0bGUgQ2VzaXVtIFdpZGdldCBEZW1vfVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgZWFjaCBleGFtcGxlLCBpbmNsdWRlIGEgbGluayB0byBDZXNpdW1XaWRnZXQuY3NzIHN0eWxlc2hlZXQgaW4gSFRNTCBoZWFkLFxuICogLy8gYW5kIGluIHRoZSBib2R5LCBpbmNsdWRlOiA8ZGl2IGlkPVwiY2VzaXVtQ29udGFpbmVyXCI+PC9kaXY+XG4gKlxuICogLy9XaWRnZXQgd2l0aCBubyB0ZXJyYWluIGFuZCBkZWZhdWx0IEJpbmcgTWFwcyBpbWFnZXJ5IHByb3ZpZGVyLlxuICogdmFyIHdpZGdldCA9IG5ldyBDZXNpdW0uQ2VzaXVtV2lkZ2V0KCdjZXNpdW1Db250YWluZXInKTtcbiAqXG4gKiAvL1dpZGdldCB3aXRoIGlvbiBpbWFnZXJ5IGFuZCBDZXNpdW0gV29ybGQgVGVycmFpbi5cbiAqIHZhciB3aWRnZXQgPSBuZXcgQ2VzaXVtLkNlc2l1bVdpZGdldCgnY2VzaXVtQ29udGFpbmVyJywge1xuICogICAgIGltYWdlcnlQcm92aWRlciA6IENlc2l1bS5jcmVhdGVXb3JsZEltYWdlcnkoKSxcbiAqICAgICB0ZXJyYWluUHJvdmlkZXIgOiBDZXNpdW0uY3JlYXRlV29ybGRUZXJyYWluKCksXG4gKiAgICAgc2t5Qm94IDogbmV3IENlc2l1bS5Ta3lCb3goe1xuICogICAgICAgICBzb3VyY2VzIDoge1xuICogICAgICAgICAgIHBvc2l0aXZlWCA6ICdzdGFycy9UeWNob1NreW1hcElJLnQzXzA4MTkyeDA0MDk2XzgwX3B4LmpwZycsXG4gKiAgICAgICAgICAgbmVnYXRpdmVYIDogJ3N0YXJzL1R5Y2hvU2t5bWFwSUkudDNfMDgxOTJ4MDQwOTZfODBfbXguanBnJyxcbiAqICAgICAgICAgICBwb3NpdGl2ZVkgOiAnc3RhcnMvVHljaG9Ta3ltYXBJSS50M18wODE5MngwNDA5Nl84MF9weS5qcGcnLFxuICogICAgICAgICAgIG5lZ2F0aXZlWSA6ICdzdGFycy9UeWNob1NreW1hcElJLnQzXzA4MTkyeDA0MDk2XzgwX215LmpwZycsXG4gKiAgICAgICAgICAgcG9zaXRpdmVaIDogJ3N0YXJzL1R5Y2hvU2t5bWFwSUkudDNfMDgxOTJ4MDQwOTZfODBfcHouanBnJyxcbiAqICAgICAgICAgICBuZWdhdGl2ZVogOiAnc3RhcnMvVHljaG9Ta3ltYXBJSS50M18wODE5MngwNDA5Nl84MF9tei5qcGcnXG4gKiAgICAgICAgIH1cbiAqICAgICB9KSxcbiAqICAgICAvLyBTaG93IENvbHVtYnVzIFZpZXcgbWFwIHdpdGggV2ViIE1lcmNhdG9yIHByb2plY3Rpb25cbiAqICAgICBzY2VuZU1vZGUgOiBDZXNpdW0uU2NlbmVNb2RlLkNPTFVNQlVTX1ZJRVcsXG4gKiAgICAgbWFwUHJvamVjdGlvbiA6IG5ldyBDZXNpdW0uV2ViTWVyY2F0b3JQcm9qZWN0aW9uKClcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBDZXNpdW1XaWRnZXQoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChjb250YWluZXIpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiY29udGFpbmVyIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBjb250YWluZXIgPSBnZXRFbGVtZW50KGNvbnRhaW5lcik7XG5cbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICAvL0NvbmZpZ3VyZSB0aGUgd2lkZ2V0IERPTSBlbGVtZW50c1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJjZXNpdW0td2lkZ2V0XCI7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgdmFyIHN1cHBvcnRzSW1hZ2VSZW5kZXJpbmdQaXhlbGF0ZWQgPSBGZWF0dXJlRGV0ZWN0aW9uLnN1cHBvcnRzSW1hZ2VSZW5kZXJpbmdQaXhlbGF0ZWQoKTtcbiAgdGhpcy5fc3VwcG9ydHNJbWFnZVJlbmRlcmluZ1BpeGVsYXRlZCA9IHN1cHBvcnRzSW1hZ2VSZW5kZXJpbmdQaXhlbGF0ZWQ7XG4gIGlmIChzdXBwb3J0c0ltYWdlUmVuZGVyaW5nUGl4ZWxhdGVkKSB7XG4gICAgY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nID0gRmVhdHVyZURldGVjdGlvbi5pbWFnZVJlbmRlcmluZ1ZhbHVlKCk7XG4gIH1cblxuICBjYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNhbnZhcy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBJbnRlcmFjdGluZyB3aXRoIGEgY2FudmFzIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgYmx1ciB0aGUgcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQuXG4gIC8vIFRoaXMgbGVhZHMgdG8gdW5leHBlY3RlZCBpbnRlcmFjdGlvbiBpZiB0aGUgbGFzdCBlbGVtZW50IHdhcyBhbiBpbnB1dCBmaWVsZC5cbiAgLy8gRm9yIGV4YW1wbGUsIGNsaWNraW5nIHRoZSBtb3VzZSB3aGVlbCBjb3VsZCBsZWFkIHRvIHRoZSB2YWx1ZSBpbiAgdGhlIGZpZWxkIGNoYW5naW5nXG4gIC8vIHVuZXhwZWN0ZWRseS4gVGhlIHNvbHV0aW9uIGlzIHRvIGJsdXIgd2hhdGV2ZXIgaGFzIGZvY3VzIGFzIHNvb24gYXMgY2FudmFzIGludGVyYWN0aW9uIGJlZ2lucy5cbiAgZnVuY3Rpb24gYmx1ckFjdGl2ZUVsZW1lbnQoKSB7XG4gICAgaWYgKGNhbnZhcyAhPT0gY2FudmFzLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgY2FudmFzLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgfVxuICB9XG4gIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGJsdXJBY3RpdmVFbGVtZW50KTtcbiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBibHVyQWN0aXZlRWxlbWVudCk7XG5cbiAgZWxlbWVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gIHZhciBpbm5lckNyZWRpdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlubmVyQ3JlZGl0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY2VzaXVtLXdpZGdldC1jcmVkaXRzXCI7XG5cbiAgdmFyIGNyZWRpdENvbnRhaW5lciA9IGRlZmluZWQob3B0aW9ucy5jcmVkaXRDb250YWluZXIpXG4gICAgPyBnZXRFbGVtZW50KG9wdGlvbnMuY3JlZGl0Q29udGFpbmVyKVxuICAgIDogZWxlbWVudDtcbiAgY3JlZGl0Q29udGFpbmVyLmFwcGVuZENoaWxkKGlubmVyQ3JlZGl0Q29udGFpbmVyKTtcblxuICB2YXIgY3JlZGl0Vmlld3BvcnQgPSBkZWZpbmVkKG9wdGlvbnMuY3JlZGl0Vmlld3BvcnQpXG4gICAgPyBnZXRFbGVtZW50KG9wdGlvbnMuY3JlZGl0Vmlld3BvcnQpXG4gICAgOiBlbGVtZW50O1xuXG4gIHZhciBzaG93UmVuZGVyTG9vcEVycm9ycyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnNob3dSZW5kZXJMb29wRXJyb3JzLCB0cnVlKTtcblxuICB2YXIgdXNlQnJvd3NlclJlY29tbWVuZGVkUmVzb2x1dGlvbiA9IGRlZmF1bHRWYWx1ZShcbiAgICBvcHRpb25zLnVzZUJyb3dzZXJSZWNvbW1lbmRlZFJlc29sdXRpb24sXG4gICAgdHJ1ZVxuICApO1xuXG4gIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fY2FudmFzQ2xpZW50V2lkdGggPSAwO1xuICB0aGlzLl9jYW52YXNDbGllbnRIZWlnaHQgPSAwO1xuICB0aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpbyA9IDA7XG4gIHRoaXMuX2NyZWRpdFZpZXdwb3J0ID0gY3JlZGl0Vmlld3BvcnQ7XG4gIHRoaXMuX2NyZWRpdENvbnRhaW5lciA9IGNyZWRpdENvbnRhaW5lcjtcbiAgdGhpcy5faW5uZXJDcmVkaXRDb250YWluZXIgPSBpbm5lckNyZWRpdENvbnRhaW5lcjtcbiAgdGhpcy5fY2FuUmVuZGVyID0gZmFsc2U7XG4gIHRoaXMuX3JlbmRlckxvb3BSdW5uaW5nID0gZmFsc2U7XG4gIHRoaXMuX3Nob3dSZW5kZXJMb29wRXJyb3JzID0gc2hvd1JlbmRlckxvb3BFcnJvcnM7XG4gIHRoaXMuX3Jlc29sdXRpb25TY2FsZSA9IDEuMDtcbiAgdGhpcy5fdXNlQnJvd3NlclJlY29tbWVuZGVkUmVzb2x1dGlvbiA9IHVzZUJyb3dzZXJSZWNvbW1lbmRlZFJlc29sdXRpb247XG4gIHRoaXMuX2ZvcmNlUmVzaXplID0gZmFsc2U7XG4gIHRoaXMuX2Nsb2NrID0gZGVmaW5lZChvcHRpb25zLmNsb2NrKSA/IG9wdGlvbnMuY2xvY2sgOiBuZXcgQ2xvY2soKTtcblxuICBjb25maWd1cmVDYW52YXNTaXplKHRoaXMpO1xuXG4gIHRyeSB7XG4gICAgdmFyIHNjZW5lID0gbmV3IFNjZW5lKHtcbiAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgY29udGV4dE9wdGlvbnM6IG9wdGlvbnMuY29udGV4dE9wdGlvbnMsXG4gICAgICBjcmVkaXRDb250YWluZXI6IGlubmVyQ3JlZGl0Q29udGFpbmVyLFxuICAgICAgY3JlZGl0Vmlld3BvcnQ6IGNyZWRpdFZpZXdwb3J0LFxuICAgICAgbWFwUHJvamVjdGlvbjogb3B0aW9ucy5tYXBQcm9qZWN0aW9uLFxuICAgICAgb3JkZXJJbmRlcGVuZGVudFRyYW5zbHVjZW5jeTogb3B0aW9ucy5vcmRlckluZGVwZW5kZW50VHJhbnNsdWNlbmN5LFxuICAgICAgc2NlbmUzRE9ubHk6IGRlZmF1bHRWYWx1ZShvcHRpb25zLnNjZW5lM0RPbmx5LCBmYWxzZSksXG4gICAgICBzaGFkb3dzOiBvcHRpb25zLnNoYWRvd3MsXG4gICAgICBtYXBNb2RlMkQ6IG9wdGlvbnMubWFwTW9kZTJELFxuICAgICAgcmVxdWVzdFJlbmRlck1vZGU6IG9wdGlvbnMucmVxdWVzdFJlbmRlck1vZGUsXG4gICAgICBtYXhpbXVtUmVuZGVyVGltZUNoYW5nZTogb3B0aW9ucy5tYXhpbXVtUmVuZGVyVGltZUNoYW5nZSxcbiAgICB9KTtcbiAgICB0aGlzLl9zY2VuZSA9IHNjZW5lO1xuXG4gICAgc2NlbmUuY2FtZXJhLmNvbnN0cmFpbmVkQXhpcyA9IENhcnRlc2lhbjMuVU5JVF9aO1xuXG4gICAgY29uZmlndXJlUGl4ZWxSYXRpbyh0aGlzKTtcbiAgICBjb25maWd1cmVDYW1lcmFGcnVzdHVtKHRoaXMpO1xuXG4gICAgdmFyIGVsbGlwc29pZCA9IGRlZmF1bHRWYWx1ZShcbiAgICAgIHNjZW5lLm1hcFByb2plY3Rpb24uZWxsaXBzb2lkLFxuICAgICAgRWxsaXBzb2lkLldHUzg0XG4gICAgKTtcblxuICAgIHZhciBnbG9iZSA9IG9wdGlvbnMuZ2xvYmU7XG4gICAgaWYgKCFkZWZpbmVkKGdsb2JlKSkge1xuICAgICAgZ2xvYmUgPSBuZXcgR2xvYmUoZWxsaXBzb2lkKTtcbiAgICB9XG4gICAgaWYgKGdsb2JlICE9PSBmYWxzZSkge1xuICAgICAgc2NlbmUuZ2xvYmUgPSBnbG9iZTtcbiAgICAgIHNjZW5lLmdsb2JlLnNoYWRvd3MgPSBkZWZhdWx0VmFsdWUoXG4gICAgICAgIG9wdGlvbnMudGVycmFpblNoYWRvd3MsXG4gICAgICAgIFNoYWRvd01vZGUuUkVDRUlWRV9PTkxZXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBza3lCb3ggPSBvcHRpb25zLnNreUJveDtcbiAgICBpZiAoIWRlZmluZWQoc2t5Qm94KSkge1xuICAgICAgc2t5Qm94ID0gbmV3IFNreUJveCh7XG4gICAgICAgIHNvdXJjZXM6IHtcbiAgICAgICAgICBwb3NpdGl2ZVg6IGdldERlZmF1bHRTa3lCb3hVcmwoXCJweFwiKSxcbiAgICAgICAgICBuZWdhdGl2ZVg6IGdldERlZmF1bHRTa3lCb3hVcmwoXCJteFwiKSxcbiAgICAgICAgICBwb3NpdGl2ZVk6IGdldERlZmF1bHRTa3lCb3hVcmwoXCJweVwiKSxcbiAgICAgICAgICBuZWdhdGl2ZVk6IGdldERlZmF1bHRTa3lCb3hVcmwoXCJteVwiKSxcbiAgICAgICAgICBwb3NpdGl2ZVo6IGdldERlZmF1bHRTa3lCb3hVcmwoXCJwelwiKSxcbiAgICAgICAgICBuZWdhdGl2ZVo6IGdldERlZmF1bHRTa3lCb3hVcmwoXCJtelwiKSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2t5Qm94ICE9PSBmYWxzZSkge1xuICAgICAgc2NlbmUuc2t5Qm94ID0gc2t5Qm94O1xuICAgICAgc2NlbmUuc3VuID0gbmV3IFN1bigpO1xuICAgICAgc2NlbmUubW9vbiA9IG5ldyBNb29uKCk7XG4gICAgfVxuXG4gICAgLy8gQmx1ZSBza3ksIGFuZCB0aGUgZ2xvdyBhcm91bmQgdGhlIEVhcnRoJ3MgbGltYi5cbiAgICB2YXIgc2t5QXRtb3NwaGVyZSA9IG9wdGlvbnMuc2t5QXRtb3NwaGVyZTtcbiAgICBpZiAoIWRlZmluZWQoc2t5QXRtb3NwaGVyZSkpIHtcbiAgICAgIHNreUF0bW9zcGhlcmUgPSBuZXcgU2t5QXRtb3NwaGVyZShlbGxpcHNvaWQpO1xuICAgIH1cbiAgICBpZiAoc2t5QXRtb3NwaGVyZSAhPT0gZmFsc2UpIHtcbiAgICAgIHNjZW5lLnNreUF0bW9zcGhlcmUgPSBza3lBdG1vc3BoZXJlO1xuICAgIH1cblxuICAgIC8vU2V0IHRoZSBiYXNlIGltYWdlcnkgbGF5ZXJcbiAgICB2YXIgaW1hZ2VyeVByb3ZpZGVyID1cbiAgICAgIG9wdGlvbnMuZ2xvYmUgPT09IGZhbHNlID8gZmFsc2UgOiBvcHRpb25zLmltYWdlcnlQcm92aWRlcjtcbiAgICBpZiAoIWRlZmluZWQoaW1hZ2VyeVByb3ZpZGVyKSkge1xuICAgICAgaW1hZ2VyeVByb3ZpZGVyID0gY3JlYXRlV29ybGRJbWFnZXJ5KCk7XG4gICAgfVxuXG4gICAgaWYgKGltYWdlcnlQcm92aWRlciAhPT0gZmFsc2UpIHtcbiAgICAgIHNjZW5lLmltYWdlcnlMYXllcnMuYWRkSW1hZ2VyeVByb3ZpZGVyKGltYWdlcnlQcm92aWRlcik7XG4gICAgfVxuXG4gICAgLy9TZXQgdGhlIHRlcnJhaW4gcHJvdmlkZXIgaWYgb25lIGlzIHByb3ZpZGVkLlxuICAgIGlmIChkZWZpbmVkKG9wdGlvbnMudGVycmFpblByb3ZpZGVyKSAmJiBvcHRpb25zLmdsb2JlICE9PSBmYWxzZSkge1xuICAgICAgc2NlbmUudGVycmFpblByb3ZpZGVyID0gb3B0aW9ucy50ZXJyYWluUHJvdmlkZXI7XG4gICAgfVxuXG4gICAgdGhpcy5fc2NyZWVuU3BhY2VFdmVudEhhbmRsZXIgPSBuZXcgU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoY2FudmFzKTtcblxuICAgIGlmIChkZWZpbmVkKG9wdGlvbnMuc2NlbmVNb2RlKSkge1xuICAgICAgaWYgKG9wdGlvbnMuc2NlbmVNb2RlID09PSBTY2VuZU1vZGUuU0NFTkUyRCkge1xuICAgICAgICB0aGlzLl9zY2VuZS5tb3JwaFRvMkQoMCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5zY2VuZU1vZGUgPT09IFNjZW5lTW9kZS5DT0xVTUJVU19WSUVXKSB7XG4gICAgICAgIHRoaXMuX3NjZW5lLm1vcnBoVG9Db2x1bWJ1c1ZpZXcoMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdXNlRGVmYXVsdFJlbmRlckxvb3AgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy51c2VEZWZhdWx0UmVuZGVyTG9vcCA9IGRlZmF1bHRWYWx1ZShcbiAgICAgIG9wdGlvbnMudXNlRGVmYXVsdFJlbmRlckxvb3AsXG4gICAgICB0cnVlXG4gICAgKTtcblxuICAgIHRoaXMuX3RhcmdldEZyYW1lUmF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRhcmdldEZyYW1lUmF0ZSA9IG9wdGlvbnMudGFyZ2V0RnJhbWVSYXRlO1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuX29uUmVuZGVyRXJyb3IgPSBmdW5jdGlvbiAoc2NlbmUsIGVycm9yKSB7XG4gICAgICB0aGF0Ll91c2VEZWZhdWx0UmVuZGVyTG9vcCA9IGZhbHNlO1xuICAgICAgdGhhdC5fcmVuZGVyTG9vcFJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIGlmICh0aGF0Ll9zaG93UmVuZGVyTG9vcEVycm9ycykge1xuICAgICAgICB2YXIgdGl0bGUgPVxuICAgICAgICAgIFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVuZGVyaW5nLiAgUmVuZGVyaW5nIGhhcyBzdG9wcGVkLlwiO1xuICAgICAgICB0aGF0LnNob3dFcnJvclBhbmVsKHRpdGxlLCB1bmRlZmluZWQsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNjZW5lLnJlbmRlckVycm9yLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fb25SZW5kZXJFcnJvcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHNob3dSZW5kZXJMb29wRXJyb3JzKSB7XG4gICAgICB2YXIgdGl0bGUgPSBcIkVycm9yIGNvbnN0cnVjdGluZyBDZXNpdW1XaWRnZXQuXCI7XG4gICAgICB2YXIgbWVzc2FnZSA9XG4gICAgICAgICdWaXNpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmdcIj5odHRwOi8vZ2V0LndlYmdsLm9yZzwvYT4gdG8gdmVyaWZ5IHRoYXQgeW91ciB3ZWIgYnJvd3NlciBhbmQgaGFyZHdhcmUgc3VwcG9ydCBXZWJHTC4gIENvbnNpZGVyIHRyeWluZyBhIGRpZmZlcmVudCB3ZWIgYnJvd3NlciBvciB1cGRhdGluZyB5b3VyIHZpZGVvIGRyaXZlcnMuICBEZXRhaWxlZCBlcnJvciBpbmZvcm1hdGlvbiBpcyBiZWxvdzonO1xuICAgICAgdGhpcy5zaG93RXJyb3JQYW5lbCh0aXRsZSwgbWVzc2FnZSwgZXJyb3IpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDZXNpdW1XaWRnZXQucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXJlbnQgY29udGFpbmVyLlxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtV2lkZ2V0LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBjb250YWluZXI6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY2FudmFzLlxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtV2lkZ2V0LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgY2FudmFzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FudmFzO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNyZWRpdCBjb250YWluZXIuXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1XaWRnZXQucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtFbGVtZW50fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGNyZWRpdENvbnRhaW5lcjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWRpdENvbnRhaW5lcjtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjcmVkaXQgdmlld3BvcnRcbiAgICogQG1lbWJlcm9mIENlc2l1bVdpZGdldC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0VsZW1lbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgY3JlZGl0Vmlld3BvcnQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVkaXRWaWV3cG9ydDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzY2VuZS5cbiAgICogQG1lbWJlcm9mIENlc2l1bVdpZGdldC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1NjZW5lfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHNjZW5lOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2NlbmU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY29sbGVjdGlvbiBvZiBpbWFnZSBsYXllcnMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRoZSBnbG9iZS5cbiAgICogQG1lbWJlcm9mIENlc2l1bVdpZGdldC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0ltYWdlcnlMYXllckNvbGxlY3Rpb259XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgaW1hZ2VyeUxheWVyczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lLmltYWdlcnlMYXllcnM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIHRlcnJhaW4gcHJvdmlkZXIgcHJvdmlkaW5nIHN1cmZhY2UgZ2VvbWV0cnkgZm9yIHRoZSBnbG9iZS5cbiAgICogQG1lbWJlcm9mIENlc2l1bVdpZGdldC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1RlcnJhaW5Qcm92aWRlcn1cbiAgICovXG4gIHRlcnJhaW5Qcm92aWRlcjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lLnRlcnJhaW5Qcm92aWRlcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHRlcnJhaW5Qcm92aWRlcikge1xuICAgICAgdGhpcy5fc2NlbmUudGVycmFpblByb3ZpZGVyID0gdGVycmFpblByb3ZpZGVyO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNhbWVyYS5cbiAgICogQG1lbWJlcm9mIENlc2l1bVdpZGdldC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0NhbWVyYX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBjYW1lcmE6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY2VuZS5jYW1lcmE7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgY2xvY2suXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1XaWRnZXQucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtDbG9ja31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBjbG9jazoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNjcmVlbiBzcGFjZSBldmVudCBoYW5kbGVyLlxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtV2lkZ2V0LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7U2NyZWVuU3BhY2VFdmVudEhhbmRsZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgc2NyZWVuU3BhY2VFdmVudEhhbmRsZXI6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5TcGFjZUV2ZW50SGFuZGxlcjtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHRhcmdldCBmcmFtZSByYXRlIG9mIHRoZSB3aWRnZXQgd2hlbiA8Y29kZT51c2VEZWZhdWx0UmVuZGVyTG9vcDwvY29kZT5cbiAgICogaXMgdHJ1ZS4gSWYgdW5kZWZpbmVkLCB0aGUgYnJvd3NlcidzIHtAbGluayByZXF1ZXN0QW5pbWF0aW9uRnJhbWV9IGltcGxlbWVudGF0aW9uXG4gICAqIGRldGVybWluZXMgdGhlIGZyYW1lIHJhdGUuICBJZiBkZWZpbmVkLCB0aGlzIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAuICBBIHZhbHVlIGhpZ2hlclxuICAgKiB0aGFuIHRoZSB1bmRlcmx5aW5nIHJlcXVlc3RBbmltYXRpb25GcmFtZSBpbXBsZW1lbnRhdGlvbiB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtV2lkZ2V0LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgdGFyZ2V0RnJhbWVSYXRlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0RnJhbWVSYXRlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBpZiAodmFsdWUgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgICAgXCJ0YXJnZXRGcmFtZVJhdGUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCwgb3IgdW5kZWZpbmVkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICAgIHRoaXMuX3RhcmdldEZyYW1lUmF0ZSA9IHZhbHVlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIG9yIG5vdCB0aGlzIHdpZGdldCBzaG91bGQgY29udHJvbCB0aGUgcmVuZGVyIGxvb3AuXG4gICAqIElmIHNldCB0byB0cnVlIHRoZSB3aWRnZXQgd2lsbCB1c2Uge0BsaW5rIHJlcXVlc3RBbmltYXRpb25GcmFtZX0gdG9cbiAgICogcGVyZm9ybSByZW5kZXJpbmcgYW5kIHJlc2l6aW5nIG9mIHRoZSB3aWRnZXQsIGFzIHdlbGwgYXMgZHJpdmUgdGhlXG4gICAqIHNpbXVsYXRpb24gY2xvY2suIElmIHNldCB0byBmYWxzZSwgeW91IG11c3QgbWFudWFsbHkgY2FsbCB0aGVcbiAgICogPGNvZGU+cmVzaXplPC9jb2RlPiwgPGNvZGU+cmVuZGVyPC9jb2RlPiBtZXRob2RzIGFzIHBhcnQgb2YgYSBjdXN0b21cbiAgICogcmVuZGVyIGxvb3AuICBJZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIHJlbmRlcmluZywge0BsaW5rIFNjZW5lfSdzXG4gICAqIDxjb2RlPnJlbmRlckVycm9yPC9jb2RlPiBldmVudCB3aWxsIGJlIHJhaXNlZCBhbmQgdGhpcyBwcm9wZXJ0eVxuICAgKiB3aWxsIGJlIHNldCB0byBmYWxzZS4gIEl0IG11c3QgYmUgc2V0IGJhY2sgdG8gdHJ1ZSB0byBjb250aW51ZSByZW5kZXJpbmdcbiAgICogYWZ0ZXIgdGhlIGVycm9yLlxuICAgKiBAbWVtYmVyb2YgQ2VzaXVtV2lkZ2V0LnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHVzZURlZmF1bHRSZW5kZXJMb29wOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXNlRGVmYXVsdFJlbmRlckxvb3A7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX3VzZURlZmF1bHRSZW5kZXJMb29wICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl91c2VEZWZhdWx0UmVuZGVyTG9vcCA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiYgIXRoaXMuX3JlbmRlckxvb3BSdW5uaW5nKSB7XG4gICAgICAgICAgc3RhcnRSZW5kZXJMb29wKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIGEgc2NhbGluZyBmYWN0b3IgZm9yIHJlbmRlcmluZyByZXNvbHV0aW9uLiAgVmFsdWVzIGxlc3MgdGhhbiAxLjAgY2FuIGltcHJvdmVcbiAgICogcGVyZm9ybWFuY2Ugb24gbGVzcyBwb3dlcmZ1bCBkZXZpY2VzIHdoaWxlIHZhbHVlcyBncmVhdGVyIHRoYW4gMS4wIHdpbGwgcmVuZGVyIGF0IGEgaGlnaGVyXG4gICAqIHJlc29sdXRpb24gYW5kIHRoZW4gc2NhbGUgZG93biwgcmVzdWx0aW5nIGluIGltcHJvdmVkIHZpc3VhbCBmaWRlbGl0eS5cbiAgICogRm9yIGV4YW1wbGUsIGlmIHRoZSB3aWRnZXQgaXMgbGFpZCBvdXQgYXQgYSBzaXplIG9mIDY0MHg0ODAsIHNldHRpbmcgdGhpcyB2YWx1ZSB0byAwLjVcbiAgICogd2lsbCBjYXVzZSB0aGUgc2NlbmUgdG8gYmUgcmVuZGVyZWQgYXQgMzIweDI0MCBhbmQgdGhlbiBzY2FsZWQgdXAgd2hpbGUgc2V0dGluZ1xuICAgKiBpdCB0byAyLjAgd2lsbCBjYXVzZSB0aGUgc2NlbmUgdG8gYmUgcmVuZGVyZWQgYXQgMTI4MHg5NjAgYW5kIHRoZW4gc2NhbGVkIGRvd24uXG4gICAqIEBtZW1iZXJvZiBDZXNpdW1XaWRnZXQucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEuMFxuICAgKi9cbiAgcmVzb2x1dGlvblNjYWxlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvblNjYWxlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBpZiAodmFsdWUgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJyZXNvbHV0aW9uU2NhbGUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC5cIik7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uU2NhbGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb25TY2FsZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9mb3JjZVJlc2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogQm9vbGVhbiBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGJyb3dzZXIncyByZWNvbW1lbmRlZCByZXNvbHV0aW9uIGlzIHVzZWQuXG4gICAqIElmIHRydWUsIHRoZSBicm93c2VyJ3MgZGV2aWNlIHBpeGVsIHJhdGlvIGlzIGlnbm9yZWQgYW5kIDEuMCBpcyB1c2VkIGluc3RlYWQsXG4gICAqIGVmZmVjdGl2ZWx5IHJlbmRlcmluZyBiYXNlZCBvbiBDU1MgcGl4ZWxzIGluc3RlYWQgb2YgZGV2aWNlIHBpeGVscy4gVGhpcyBjYW4gaW1wcm92ZVxuICAgKiBwZXJmb3JtYW5jZSBvbiBsZXNzIHBvd2VyZnVsIGRldmljZXMgdGhhdCBoYXZlIGhpZ2ggcGl4ZWwgZGVuc2l0eS4gV2hlbiBmYWxzZSwgcmVuZGVyaW5nXG4gICAqIHdpbGwgYmUgaW4gZGV2aWNlIHBpeGVscy4ge0BsaW5rIENlc2l1bVdpZGdldCNyZXNvbHV0aW9uU2NhbGV9IHdpbGwgc3RpbGwgdGFrZSBlZmZlY3Qgd2hldGhlclxuICAgKiB0aGlzIGZsYWcgaXMgdHJ1ZSBvciBmYWxzZS5cbiAgICogQG1lbWJlcm9mIENlc2l1bVdpZGdldC5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHVzZUJyb3dzZXJSZWNvbW1lbmRlZFJlc29sdXRpb246IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl91c2VCcm93c2VyUmVjb21tZW5kZWRSZXNvbHV0aW9uO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl91c2VCcm93c2VyUmVjb21tZW5kZWRSZXNvbHV0aW9uICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl91c2VCcm93c2VyUmVjb21tZW5kZWRSZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2ZvcmNlUmVzaXplID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogU2hvdyBhbiBlcnJvciBwYW5lbCB0byB0aGUgdXNlciBjb250YWluaW5nIGEgdGl0bGUgYW5kIGEgbG9uZ2VyIGVycm9yIG1lc3NhZ2UsXG4gKiB3aGljaCBjYW4gYmUgZGlzbWlzc2VkIHVzaW5nIGFuIE9LIGJ1dHRvbi4gIFRoaXMgcGFuZWwgaXMgZGlzcGxheWVkIGF1dG9tYXRpY2FsbHlcbiAqIHdoZW4gYSByZW5kZXIgbG9vcCBlcnJvciBvY2N1cnMsIGlmIHNob3dSZW5kZXJMb29wRXJyb3JzIHdhcyBub3QgZmFsc2Ugd2hlbiB0aGVcbiAqIHdpZGdldCB3YXMgY29uc3RydWN0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlIFRoZSB0aXRsZSB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIGVycm9yIHBhbmVsLiAgVGhpcyBzdHJpbmcgaXMgaW50ZXJwcmV0ZWQgYXMgdGV4dC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbbWVzc2FnZV0gQSBoZWxwZnVsLCB1c2VyLWZhY2luZyBtZXNzYWdlIHRvIGRpc3BsYXkgcHJpb3IgdG8gdGhlIGRldGFpbGVkIGVycm9yIGluZm9ybWF0aW9uLiAgVGhpcyBzdHJpbmcgaXMgaW50ZXJwcmV0ZWQgYXMgSFRNTC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbZXJyb3JdIFRoZSBlcnJvciB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIGVycm9yIHBhbmVsLiAgVGhpcyBzdHJpbmcgaXMgZm9ybWF0dGVkIHVzaW5nIHtAbGluayBmb3JtYXRFcnJvcn0gYW5kIHRoZW4gZGlzcGxheWVkIGFzIHRleHQuXG4gKi9cbkNlc2l1bVdpZGdldC5wcm90b3R5cGUuc2hvd0Vycm9yUGFuZWwgPSBmdW5jdGlvbiAodGl0bGUsIG1lc3NhZ2UsIGVycm9yKSB7XG4gIHZhciBlbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcbiAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBvdmVybGF5LmNsYXNzTmFtZSA9IFwiY2VzaXVtLXdpZGdldC1lcnJvclBhbmVsXCI7XG5cbiAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb250ZW50LmNsYXNzTmFtZSA9IFwiY2VzaXVtLXdpZGdldC1lcnJvclBhbmVsLWNvbnRlbnRcIjtcbiAgb3ZlcmxheS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICB2YXIgZXJyb3JIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBlcnJvckhlYWRlci5jbGFzc05hbWUgPSBcImNlc2l1bS13aWRnZXQtZXJyb3JQYW5lbC1oZWFkZXJcIjtcbiAgZXJyb3JIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGl0bGUpKTtcbiAgY29udGVudC5hcHBlbmRDaGlsZChlcnJvckhlYWRlcik7XG5cbiAgdmFyIGVycm9yUGFuZWxTY3JvbGxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVycm9yUGFuZWxTY3JvbGxlci5jbGFzc05hbWUgPSBcImNlc2l1bS13aWRnZXQtZXJyb3JQYW5lbC1zY3JvbGxcIjtcbiAgY29udGVudC5hcHBlbmRDaGlsZChlcnJvclBhbmVsU2Nyb2xsZXIpO1xuICBmdW5jdGlvbiByZXNpemVDYWxsYmFjaygpIHtcbiAgICBlcnJvclBhbmVsU2Nyb2xsZXIuc3R5bGUubWF4SGVpZ2h0ID1cbiAgICAgIE1hdGgubWF4KE1hdGgucm91bmQoZWxlbWVudC5jbGllbnRIZWlnaHQgKiAwLjkgLSAxMDApLCAzMCkgKyBcInB4XCI7XG4gIH1cbiAgcmVzaXplQ2FsbGJhY2soKTtcbiAgaWYgKGRlZmluZWQod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplQ2FsbGJhY2ssIGZhbHNlKTtcbiAgfVxuXG4gIHZhciBoYXNNZXNzYWdlID0gZGVmaW5lZChtZXNzYWdlKTtcbiAgdmFyIGhhc0Vycm9yID0gZGVmaW5lZChlcnJvcik7XG5cbiAgaWYgKGhhc01lc3NhZ2UgfHwgaGFzRXJyb3IpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlcnJvck1lc3NhZ2UuY2xhc3NOYW1lID0gXCJjZXNpdW0td2lkZ2V0LWVycm9yUGFuZWwtbWVzc2FnZVwiO1xuICAgIGVycm9yUGFuZWxTY3JvbGxlci5hcHBlbmRDaGlsZChlcnJvck1lc3NhZ2UpO1xuXG4gICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICB2YXIgZXJyb3JEZXRhaWxzID0gZm9ybWF0RXJyb3IoZXJyb3IpO1xuICAgICAgaWYgKCFoYXNNZXNzYWdlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdlID0gZm9ybWF0RXJyb3Ioe1xuICAgICAgICAgIG5hbWU6IGVycm9yLm5hbWUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGVycm9yRGV0YWlscyA9IGVycm9yLnN0YWNrO1xuICAgICAgfVxuXG4gICAgICAvL0lFOCBkb2VzIG5vdCBoYXZlIGEgY29uc29sZSBvYmplY3QgdW5sZXNzIHRoZSBkZXYgdG9vbHMgYXJlIG9wZW4uXG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcih0aXRsZSArIFwiXFxuXCIgKyBtZXNzYWdlICsgXCJcXG5cIiArIGVycm9yRGV0YWlscyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvck1lc3NhZ2VEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVycm9yTWVzc2FnZURldGFpbHMuY2xhc3NOYW1lID1cbiAgICAgICAgXCJjZXNpdW0td2lkZ2V0LWVycm9yUGFuZWwtbWVzc2FnZS1kZXRhaWxzIGNvbGxhcHNlZFwiO1xuXG4gICAgICB2YXIgbW9yZURldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIG1vcmVEZXRhaWxzLmNsYXNzTmFtZSA9IFwiY2VzaXVtLXdpZGdldC1lcnJvclBhbmVsLW1vcmUtZGV0YWlsc1wiO1xuICAgICAgbW9yZURldGFpbHMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJTZWUgbW9yZS4uLlwiKSk7XG4gICAgICBlcnJvck1lc3NhZ2VEZXRhaWxzLmFwcGVuZENoaWxkKG1vcmVEZXRhaWxzKTtcblxuICAgICAgZXJyb3JNZXNzYWdlRGV0YWlscy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlRGV0YWlscy5yZW1vdmVDaGlsZChtb3JlRGV0YWlscyk7XG4gICAgICAgIGVycm9yTWVzc2FnZURldGFpbHMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXJyb3JEZXRhaWxzKSk7XG4gICAgICAgIGVycm9yTWVzc2FnZURldGFpbHMuY2xhc3NOYW1lID1cbiAgICAgICAgICBcImNlc2l1bS13aWRnZXQtZXJyb3JQYW5lbC1tZXNzYWdlLWRldGFpbHNcIjtcbiAgICAgICAgY29udGVudC5jbGFzc05hbWUgPSBcImNlc2l1bS13aWRnZXQtZXJyb3JQYW5lbC1jb250ZW50IGV4cGFuZGVkXCI7XG4gICAgICAgIGVycm9yTWVzc2FnZURldGFpbHMub25jbGljayA9IHVuZGVmaW5lZDtcbiAgICAgIH07XG5cbiAgICAgIGVycm9yUGFuZWxTY3JvbGxlci5hcHBlbmRDaGlsZChlcnJvck1lc3NhZ2VEZXRhaWxzKTtcbiAgICB9XG5cbiAgICBlcnJvck1lc3NhZ2UuaW5uZXJIVE1MID0gXCI8cD5cIiArIG1lc3NhZ2UgKyBcIjwvcD5cIjtcbiAgfVxuXG4gIHZhciBidXR0b25QYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJ1dHRvblBhbmVsLmNsYXNzTmFtZSA9IFwiY2VzaXVtLXdpZGdldC1lcnJvclBhbmVsLWJ1dHRvblBhbmVsXCI7XG4gIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYnV0dG9uUGFuZWwpO1xuXG4gIHZhciBva0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIG9rQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gIG9rQnV0dG9uLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWJ1dHRvblwiO1xuICBva0J1dHRvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIk9LXCIpKTtcbiAgb2tCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGVmaW5lZChyZXNpemVDYWxsYmFjaykgJiYgZGVmaW5lZCh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZUNhbGxiYWNrLCBmYWxzZSk7XG4gICAgfVxuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQob3ZlcmxheSk7XG4gIH07XG5cbiAgYnV0dG9uUGFuZWwuYXBwZW5kQ2hpbGQob2tCdXR0b24pO1xuXG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkNlc2l1bVdpZGdldC5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIHdpZGdldC4gIFNob3VsZCBiZSBjYWxsZWQgaWYgcGVybWFuZW50bHlcbiAqIHJlbW92aW5nIHRoZSB3aWRnZXQgZnJvbSBsYXlvdXQuXG4gKi9cbkNlc2l1bVdpZGdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGRlZmluZWQodGhpcy5fc2NlbmUpKSB7XG4gICAgdGhpcy5fc2NlbmUucmVuZGVyRXJyb3IucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9vblJlbmRlckVycm9yKTtcbiAgICB0aGlzLl9zY2VuZSA9IHRoaXMuX3NjZW5lLmRlc3Ryb3koKTtcbiAgfVxuICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gIHRoaXMuX2NyZWRpdENvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9pbm5lckNyZWRpdENvbnRhaW5lcik7XG4gIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGNhbnZhcyBzaXplLCBjYW1lcmEgYXNwZWN0IHJhdGlvLCBhbmQgdmlld3BvcnQgc2l6ZS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYXMgbmVlZGVkIHVubGVzc1xuICogPGNvZGU+dXNlRGVmYXVsdFJlbmRlckxvb3A8L2NvZGU+IGlzIHNldCB0byBmYWxzZS5cbiAqL1xuQ2VzaXVtV2lkZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gIGlmIChcbiAgICAhdGhpcy5fZm9yY2VSZXNpemUgJiZcbiAgICB0aGlzLl9jYW52YXNDbGllbnRXaWR0aCA9PT0gY2FudmFzLmNsaWVudFdpZHRoICYmXG4gICAgdGhpcy5fY2FudmFzQ2xpZW50SGVpZ2h0ID09PSBjYW52YXMuY2xpZW50SGVpZ2h0ICYmXG4gICAgdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW8gPT09IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9mb3JjZVJlc2l6ZSA9IGZhbHNlO1xuXG4gIGNvbmZpZ3VyZUNhbnZhc1NpemUodGhpcyk7XG4gIGNvbmZpZ3VyZUNhbWVyYUZydXN0dW0odGhpcyk7XG5cbiAgdGhpcy5fc2NlbmUucmVxdWVzdFJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBzY2VuZS4gIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGF1dG9tYXRpY2FsbHlcbiAqIHVubGVzcyA8Y29kZT51c2VEZWZhdWx0UmVuZGVyTG9vcDwvY29kZT4gaXMgc2V0IHRvIGZhbHNlO1xuICovXG5DZXNpdW1XaWRnZXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2NhblJlbmRlcikge1xuICAgIHRoaXMuX3NjZW5lLmluaXRpYWxpemVGcmFtZSgpO1xuICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMuX2Nsb2NrLnRpY2soKTtcbiAgICB0aGlzLl9zY2VuZS5yZW5kZXIoY3VycmVudFRpbWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2Nsb2NrLnRpY2soKTtcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IENlc2l1bVdpZGdldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///84166\n')},36534:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Clock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(95884);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86511);\n/* harmony import */ var _Core_EventHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79539);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55293);\n/* harmony import */ var _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(53454);\n\n\n\n\n\n\n\n/**\n * A view model which exposes a {@link Clock} for user interfaces.\n * @alias ClockViewModel\n * @constructor\n *\n * @param {Clock} [clock] The clock object wrapped by this view model, if undefined a new instance will be created.\n *\n * @see Clock\n */\nfunction ClockViewModel(clock) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(clock)) {\n    clock = new _Core_Clock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  }\n  this._clock = clock;\n\n  this._eventHelper = new _Core_EventHelper_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n  this._eventHelper.add(clock.onTick, this.synchronize, this);\n\n  /**\n   * Gets the current system time.\n   * This property is observable.\n   * @type {JulianDate}\n   */\n  this.systemTime = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(_Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].now */ .Z.now());\n  this.systemTime.equalityComparer = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals;\n\n  /**\n   * Gets or sets the start time of the clock.\n   * See {@link Clock#startTime}.\n   * This property is observable.\n   * @type {JulianDate}\n   */\n  this.startTime = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.startTime);\n  this.startTime.equalityComparer = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals;\n  this.startTime.subscribe(function (value) {\n    clock.startTime = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets the stop time of the clock.\n   * See {@link Clock#stopTime}.\n   * This property is observable.\n   * @type {JulianDate}\n   */\n  this.stopTime = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.stopTime);\n  this.stopTime.equalityComparer = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals;\n  this.stopTime.subscribe(function (value) {\n    clock.stopTime = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets the current time.\n   * See {@link Clock#currentTime}.\n   * This property is observable.\n   * @type {JulianDate}\n   */\n  this.currentTime = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.currentTime);\n  this.currentTime.equalityComparer = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals;\n  this.currentTime.subscribe(function (value) {\n    clock.currentTime = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets the clock multiplier.\n   * See {@link Clock#multiplier}.\n   * This property is observable.\n   * @type {Number}\n   */\n  this.multiplier = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.multiplier);\n  this.multiplier.subscribe(function (value) {\n    clock.multiplier = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets the clock step setting.\n   * See {@link Clock#clockStep}.\n   * This property is observable.\n   * @type {ClockStep}\n   */\n  this.clockStep = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.clockStep);\n  this.clockStep.subscribe(function (value) {\n    clock.clockStep = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets the clock range setting.\n   * See {@link Clock#clockRange}.\n   * This property is observable.\n   * @type {ClockRange}\n   */\n  this.clockRange = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.clockRange);\n  this.clockRange.subscribe(function (value) {\n    clock.clockRange = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets whether the clock can animate.\n   * See {@link Clock#canAnimate}.\n   * This property is observable.\n   * @type {Boolean}\n   */\n  this.canAnimate = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.canAnimate);\n  this.canAnimate.subscribe(function (value) {\n    clock.canAnimate = value;\n    this.synchronize();\n  }, this);\n\n  /**\n   * Gets or sets whether the clock should animate.\n   * See {@link Clock#shouldAnimate}.\n   * This property is observable.\n   * @type {Boolean}\n   */\n  this.shouldAnimate = _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].observable */ .Z.observable(clock.shouldAnimate);\n  this.shouldAnimate.subscribe(function (value) {\n    clock.shouldAnimate = value;\n    this.synchronize();\n  }, this);\n\n  _ThirdParty_knockout_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].track */ .Z.track(this, [\n    "systemTime",\n    "startTime",\n    "stopTime",\n    "currentTime",\n    "multiplier",\n    "clockStep",\n    "clockRange",\n    "canAnimate",\n    "shouldAnimate",\n  ]);\n}\n\nObject.defineProperties(ClockViewModel.prototype, {\n  /**\n   * Gets the underlying Clock.\n   * @memberof ClockViewModel.prototype\n   * @type {Clock}\n   */\n  clock: {\n    get: function () {\n      return this._clock;\n    },\n  },\n});\n\n/**\n * Updates the view model with the contents of the underlying clock.\n * Can be called to force an update of the viewModel if the underlying\n * clock has changed and <code>Clock.tick</code> has not yet been called.\n */\nClockViewModel.prototype.synchronize = function () {\n  var clock = this._clock;\n\n  this.systemTime = _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].now */ .Z.now();\n  this.startTime = clock.startTime;\n  this.stopTime = clock.stopTime;\n  this.currentTime = clock.currentTime;\n  this.multiplier = clock.multiplier;\n  this.clockStep = clock.clockStep;\n  this.clockRange = clock.clockRange;\n  this.canAnimate = clock.canAnimate;\n  this.shouldAnimate = clock.shouldAnimate;\n};\n\n/**\n * @returns {Boolean} true if the object has been destroyed, false otherwise.\n */\nClockViewModel.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the view model.  Should be called to\n * properly clean up the view model when it is no longer needed.\n */\nClockViewModel.prototype.destroy = function () {\n  this._eventHelper.removeAll();\n\n  (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (ClockViewModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY1MzQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFDO0FBQ0k7QUFDWTtBQUNKO0FBQ0Y7QUFDRTs7QUFFakQ7QUFDQSxpQ0FBaUMsYUFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsZ0JBQWdCLCtEQUFLO0FBQ3JCO0FBQ0E7O0FBRUEsMEJBQTBCLHFFQUFXO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLG9CQUFvQiw4RkFBbUIsQ0FBQyw0RUFBYztBQUN0RCxxQ0FBcUMsa0ZBQWlCOztBQUV0RDtBQUNBO0FBQ0EsVUFBVSxzQkFBc0I7QUFDaEM7QUFDQSxZQUFZO0FBQ1o7QUFDQSxtQkFBbUIsOEZBQW1CO0FBQ3RDLG9DQUFvQyxrRkFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSxxQkFBcUI7QUFDL0I7QUFDQSxZQUFZO0FBQ1o7QUFDQSxrQkFBa0IsOEZBQW1CO0FBQ3JDLG1DQUFtQyxrRkFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSx3QkFBd0I7QUFDbEM7QUFDQSxZQUFZO0FBQ1o7QUFDQSxxQkFBcUIsOEZBQW1CO0FBQ3hDLHNDQUFzQyxrRkFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSx1QkFBdUI7QUFDakM7QUFDQSxZQUFZO0FBQ1o7QUFDQSxvQkFBb0IsOEZBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsbUJBQW1CLDhGQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QjtBQUNqQztBQUNBLFlBQVk7QUFDWjtBQUNBLG9CQUFvQiw4RkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSx1QkFBdUI7QUFDakM7QUFDQSxZQUFZO0FBQ1o7QUFDQSxvQkFBb0IsOEZBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsMEJBQTBCO0FBQ3BDO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsdUJBQXVCLDhGQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUUsb0ZBQWM7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsNEVBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLDJFQUFhO0FBQ2Y7QUFDQSx5REFBZSxjQUFjLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvV2lkZ2V0cy9DbG9ja1ZpZXdNb2RlbC5qcz8zMjE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDbG9jayBmcm9tIFwiLi4vQ29yZS9DbG9jay5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IEV2ZW50SGVscGVyIGZyb20gXCIuLi9Db3JlL0V2ZW50SGVscGVyLmpzXCI7XG5pbXBvcnQgSnVsaWFuRGF0ZSBmcm9tIFwiLi4vQ29yZS9KdWxpYW5EYXRlLmpzXCI7XG5pbXBvcnQga25vY2tvdXQgZnJvbSBcIi4uL1RoaXJkUGFydHkva25vY2tvdXQuanNcIjtcblxuLyoqXG4gKiBBIHZpZXcgbW9kZWwgd2hpY2ggZXhwb3NlcyBhIHtAbGluayBDbG9ja30gZm9yIHVzZXIgaW50ZXJmYWNlcy5cbiAqIEBhbGlhcyBDbG9ja1ZpZXdNb2RlbFxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtDbG9ja30gW2Nsb2NrXSBUaGUgY2xvY2sgb2JqZWN0IHdyYXBwZWQgYnkgdGhpcyB2aWV3IG1vZGVsLCBpZiB1bmRlZmluZWQgYSBuZXcgaW5zdGFuY2Ugd2lsbCBiZSBjcmVhdGVkLlxuICpcbiAqIEBzZWUgQ2xvY2tcbiAqL1xuZnVuY3Rpb24gQ2xvY2tWaWV3TW9kZWwoY2xvY2spIHtcbiAgaWYgKCFkZWZpbmVkKGNsb2NrKSkge1xuICAgIGNsb2NrID0gbmV3IENsb2NrKCk7XG4gIH1cbiAgdGhpcy5fY2xvY2sgPSBjbG9jaztcblxuICB0aGlzLl9ldmVudEhlbHBlciA9IG5ldyBFdmVudEhlbHBlcigpO1xuICB0aGlzLl9ldmVudEhlbHBlci5hZGQoY2xvY2sub25UaWNrLCB0aGlzLnN5bmNocm9uaXplLCB0aGlzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBzeXN0ZW0gdGltZS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7SnVsaWFuRGF0ZX1cbiAgICovXG4gIHRoaXMuc3lzdGVtVGltZSA9IGtub2Nrb3V0Lm9ic2VydmFibGUoSnVsaWFuRGF0ZS5ub3coKSk7XG4gIHRoaXMuc3lzdGVtVGltZS5lcXVhbGl0eUNvbXBhcmVyID0gSnVsaWFuRGF0ZS5lcXVhbHM7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc3RhcnQgdGltZSBvZiB0aGUgY2xvY2suXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjc3RhcnRUaW1lfS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7SnVsaWFuRGF0ZX1cbiAgICovXG4gIHRoaXMuc3RhcnRUaW1lID0ga25vY2tvdXQub2JzZXJ2YWJsZShjbG9jay5zdGFydFRpbWUpO1xuICB0aGlzLnN0YXJ0VGltZS5lcXVhbGl0eUNvbXBhcmVyID0gSnVsaWFuRGF0ZS5lcXVhbHM7XG4gIHRoaXMuc3RhcnRUaW1lLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjbG9jay5zdGFydFRpbWUgPSB2YWx1ZTtcbiAgICB0aGlzLnN5bmNocm9uaXplKCk7XG4gIH0sIHRoaXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHN0b3AgdGltZSBvZiB0aGUgY2xvY2suXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjc3RvcFRpbWV9LlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIG9ic2VydmFibGUuXG4gICAqIEB0eXBlIHtKdWxpYW5EYXRlfVxuICAgKi9cbiAgdGhpcy5zdG9wVGltZSA9IGtub2Nrb3V0Lm9ic2VydmFibGUoY2xvY2suc3RvcFRpbWUpO1xuICB0aGlzLnN0b3BUaW1lLmVxdWFsaXR5Q29tcGFyZXIgPSBKdWxpYW5EYXRlLmVxdWFscztcbiAgdGhpcy5zdG9wVGltZS5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgY2xvY2suc3RvcFRpbWUgPSB2YWx1ZTtcbiAgICB0aGlzLnN5bmNocm9uaXplKCk7XG4gIH0sIHRoaXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGN1cnJlbnQgdGltZS5cbiAgICogU2VlIHtAbGluayBDbG9jayNjdXJyZW50VGltZX0uXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0p1bGlhbkRhdGV9XG4gICAqL1xuICB0aGlzLmN1cnJlbnRUaW1lID0ga25vY2tvdXQub2JzZXJ2YWJsZShjbG9jay5jdXJyZW50VGltZSk7XG4gIHRoaXMuY3VycmVudFRpbWUuZXF1YWxpdHlDb21wYXJlciA9IEp1bGlhbkRhdGUuZXF1YWxzO1xuICB0aGlzLmN1cnJlbnRUaW1lLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjbG9jay5jdXJyZW50VGltZSA9IHZhbHVlO1xuICAgIHRoaXMuc3luY2hyb25pemUoKTtcbiAgfSwgdGhpcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgY2xvY2sgbXVsdGlwbGllci5cbiAgICogU2VlIHtAbGluayBDbG9jayNtdWx0aXBsaWVyfS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgdGhpcy5tdWx0aXBsaWVyID0ga25vY2tvdXQub2JzZXJ2YWJsZShjbG9jay5tdWx0aXBsaWVyKTtcbiAgdGhpcy5tdWx0aXBsaWVyLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjbG9jay5tdWx0aXBsaWVyID0gdmFsdWU7XG4gICAgdGhpcy5zeW5jaHJvbml6ZSgpO1xuICB9LCB0aGlzKTtcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBjbG9jayBzdGVwIHNldHRpbmcuXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjY2xvY2tTdGVwfS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Q2xvY2tTdGVwfVxuICAgKi9cbiAgdGhpcy5jbG9ja1N0ZXAgPSBrbm9ja291dC5vYnNlcnZhYmxlKGNsb2NrLmNsb2NrU3RlcCk7XG4gIHRoaXMuY2xvY2tTdGVwLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjbG9jay5jbG9ja1N0ZXAgPSB2YWx1ZTtcbiAgICB0aGlzLnN5bmNocm9uaXplKCk7XG4gIH0sIHRoaXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGNsb2NrIHJhbmdlIHNldHRpbmcuXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjY2xvY2tSYW5nZX0uXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Nsb2NrUmFuZ2V9XG4gICAqL1xuICB0aGlzLmNsb2NrUmFuZ2UgPSBrbm9ja291dC5vYnNlcnZhYmxlKGNsb2NrLmNsb2NrUmFuZ2UpO1xuICB0aGlzLmNsb2NrUmFuZ2Uuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGNsb2NrLmNsb2NrUmFuZ2UgPSB2YWx1ZTtcbiAgICB0aGlzLnN5bmNocm9uaXplKCk7XG4gIH0sIHRoaXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciB0aGUgY2xvY2sgY2FuIGFuaW1hdGUuXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjY2FuQW5pbWF0ZX0uXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICB0aGlzLmNhbkFuaW1hdGUgPSBrbm9ja291dC5vYnNlcnZhYmxlKGNsb2NrLmNhbkFuaW1hdGUpO1xuICB0aGlzLmNhbkFuaW1hdGUuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGNsb2NrLmNhbkFuaW1hdGUgPSB2YWx1ZTtcbiAgICB0aGlzLnN5bmNocm9uaXplKCk7XG4gIH0sIHRoaXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciB0aGUgY2xvY2sgc2hvdWxkIGFuaW1hdGUuXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjc2hvdWxkQW5pbWF0ZX0uXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb2JzZXJ2YWJsZS5cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICB0aGlzLnNob3VsZEFuaW1hdGUgPSBrbm9ja291dC5vYnNlcnZhYmxlKGNsb2NrLnNob3VsZEFuaW1hdGUpO1xuICB0aGlzLnNob3VsZEFuaW1hdGUuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGNsb2NrLnNob3VsZEFuaW1hdGUgPSB2YWx1ZTtcbiAgICB0aGlzLnN5bmNocm9uaXplKCk7XG4gIH0sIHRoaXMpO1xuXG4gIGtub2Nrb3V0LnRyYWNrKHRoaXMsIFtcbiAgICBcInN5c3RlbVRpbWVcIixcbiAgICBcInN0YXJ0VGltZVwiLFxuICAgIFwic3RvcFRpbWVcIixcbiAgICBcImN1cnJlbnRUaW1lXCIsXG4gICAgXCJtdWx0aXBsaWVyXCIsXG4gICAgXCJjbG9ja1N0ZXBcIixcbiAgICBcImNsb2NrUmFuZ2VcIixcbiAgICBcImNhbkFuaW1hdGVcIixcbiAgICBcInNob3VsZEFuaW1hdGVcIixcbiAgXSk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENsb2NrVmlld01vZGVsLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgdW5kZXJseWluZyBDbG9jay5cbiAgICogQG1lbWJlcm9mIENsb2NrVmlld01vZGVsLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q2xvY2t9XG4gICAqL1xuICBjbG9jazoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Nsb2NrO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB2aWV3IG1vZGVsIHdpdGggdGhlIGNvbnRlbnRzIG9mIHRoZSB1bmRlcmx5aW5nIGNsb2NrLlxuICogQ2FuIGJlIGNhbGxlZCB0byBmb3JjZSBhbiB1cGRhdGUgb2YgdGhlIHZpZXdNb2RlbCBpZiB0aGUgdW5kZXJseWluZ1xuICogY2xvY2sgaGFzIGNoYW5nZWQgYW5kIDxjb2RlPkNsb2NrLnRpY2s8L2NvZGU+IGhhcyBub3QgeWV0IGJlZW4gY2FsbGVkLlxuICovXG5DbG9ja1ZpZXdNb2RlbC5wcm90b3R5cGUuc3luY2hyb25pemUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjbG9jayA9IHRoaXMuX2Nsb2NrO1xuXG4gIHRoaXMuc3lzdGVtVGltZSA9IEp1bGlhbkRhdGUubm93KCk7XG4gIHRoaXMuc3RhcnRUaW1lID0gY2xvY2suc3RhcnRUaW1lO1xuICB0aGlzLnN0b3BUaW1lID0gY2xvY2suc3RvcFRpbWU7XG4gIHRoaXMuY3VycmVudFRpbWUgPSBjbG9jay5jdXJyZW50VGltZTtcbiAgdGhpcy5tdWx0aXBsaWVyID0gY2xvY2subXVsdGlwbGllcjtcbiAgdGhpcy5jbG9ja1N0ZXAgPSBjbG9jay5jbG9ja1N0ZXA7XG4gIHRoaXMuY2xvY2tSYW5nZSA9IGNsb2NrLmNsb2NrUmFuZ2U7XG4gIHRoaXMuY2FuQW5pbWF0ZSA9IGNsb2NrLmNhbkFuaW1hdGU7XG4gIHRoaXMuc2hvdWxkQW5pbWF0ZSA9IGNsb2NrLnNob3VsZEFuaW1hdGU7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkNsb2NrVmlld01vZGVsLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgdmlldyBtb2RlbC4gIFNob3VsZCBiZSBjYWxsZWQgdG9cbiAqIHByb3Blcmx5IGNsZWFuIHVwIHRoZSB2aWV3IG1vZGVsIHdoZW4gaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAqL1xuQ2xvY2tWaWV3TW9kZWwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2V2ZW50SGVscGVyLnJlbW92ZUFsbCgpO1xuXG4gIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQ2xvY2tWaWV3TW9kZWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///36534\n')},52597:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval("/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12572);\n\n\n/**\n * A Command is a function with an extra <code>canExecute</code> observable property to determine\n * whether the command can be executed.  When executed, a Command function will check the\n * value of <code>canExecute</code> and throw if false.\n *\n * This type describes an interface and is not intended to be instantiated directly.\n * See {@link createCommand} to create a command from a function.\n *\n * @alias Command\n * @constructor\n */\nfunction Command() {\n  /**\n   * Gets whether this command can currently be executed.  This property is observable.\n   * @type {Boolean}\n   * @default undefined\n   */\n  this.canExecute = undefined;\n\n  /**\n   * Gets an event which is raised before the command executes, the event\n   * is raised with an object containing two properties: a <code>cancel</code> property,\n   * which if set to false by the listener will prevent the command from being executed, and\n   * an <code>args</code> property, which is the array of arguments being passed to the command.\n   * @type {Event}\n   * @default undefined\n   */\n  this.beforeExecute = undefined;\n\n  /**\n   * Gets an event which is raised after the command executes, the event\n   * is raised with the return value of the command as its only parameter.\n   * @type {Event}\n   * @default undefined\n   */\n  this.afterExecute = undefined;\n\n  DeveloperError.throwInstantiationError();\n}\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (Command)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI1OTcuanMiLCJtYXBwaW5ncyI6IjtBQUF1RDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxQkFBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNFQUFlLHVEQUFPLElBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvV2lkZ2V0cy9Db21tYW5kLmpzPzUwNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5cbi8qKlxuICogQSBDb21tYW5kIGlzIGEgZnVuY3Rpb24gd2l0aCBhbiBleHRyYSA8Y29kZT5jYW5FeGVjdXRlPC9jb2RlPiBvYnNlcnZhYmxlIHByb3BlcnR5IHRvIGRldGVybWluZVxuICogd2hldGhlciB0aGUgY29tbWFuZCBjYW4gYmUgZXhlY3V0ZWQuICBXaGVuIGV4ZWN1dGVkLCBhIENvbW1hbmQgZnVuY3Rpb24gd2lsbCBjaGVjayB0aGVcbiAqIHZhbHVlIG9mIDxjb2RlPmNhbkV4ZWN1dGU8L2NvZGU+IGFuZCB0aHJvdyBpZiBmYWxzZS5cbiAqXG4gKiBUaGlzIHR5cGUgZGVzY3JpYmVzIGFuIGludGVyZmFjZSBhbmQgaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAqIFNlZSB7QGxpbmsgY3JlYXRlQ29tbWFuZH0gdG8gY3JlYXRlIGEgY29tbWFuZCBmcm9tIGEgZnVuY3Rpb24uXG4gKlxuICogQGFsaWFzIENvbW1hbmRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBDb21tYW5kKCkge1xuICAvKipcbiAgICogR2V0cyB3aGV0aGVyIHRoaXMgY29tbWFuZCBjYW4gY3VycmVudGx5IGJlIGV4ZWN1dGVkLiAgVGhpcyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlLlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmNhbkV4ZWN1dGUgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gZXZlbnQgd2hpY2ggaXMgcmFpc2VkIGJlZm9yZSB0aGUgY29tbWFuZCBleGVjdXRlcywgdGhlIGV2ZW50XG4gICAqIGlzIHJhaXNlZCB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHR3byBwcm9wZXJ0aWVzOiBhIDxjb2RlPmNhbmNlbDwvY29kZT4gcHJvcGVydHksXG4gICAqIHdoaWNoIGlmIHNldCB0byBmYWxzZSBieSB0aGUgbGlzdGVuZXIgd2lsbCBwcmV2ZW50IHRoZSBjb21tYW5kIGZyb20gYmVpbmcgZXhlY3V0ZWQsIGFuZFxuICAgKiBhbiA8Y29kZT5hcmdzPC9jb2RlPiBwcm9wZXJ0eSwgd2hpY2ggaXMgdGhlIGFycmF5IG9mIGFyZ3VtZW50cyBiZWluZyBwYXNzZWQgdG8gdGhlIGNvbW1hbmQuXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmJlZm9yZUV4ZWN1dGUgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gZXZlbnQgd2hpY2ggaXMgcmFpc2VkIGFmdGVyIHRoZSBjb21tYW5kIGV4ZWN1dGVzLCB0aGUgZXZlbnRcbiAgICogaXMgcmFpc2VkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY29tbWFuZCBhcyBpdHMgb25seSBwYXJhbWV0ZXIuXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqL1xuICB0aGlzLmFmdGVyRXhlY3V0ZSA9IHVuZGVmaW5lZDtcblxuICBEZXZlbG9wZXJFcnJvci50aHJvd0luc3RhbnRpYXRpb25FcnJvcigpO1xufVxuZXhwb3J0IGRlZmF1bHQgQ29tbWFuZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52597\n")}}]);