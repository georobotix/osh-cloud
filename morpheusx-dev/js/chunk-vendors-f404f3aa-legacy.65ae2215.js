"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[4853],{36191:function(__unused_webpack___webpack_module__,__webpack_exports__){eval('/**\n * Settings for the generation of signed distance field glyphs\n *\n * @private\n */\nvar SDFSettings = {\n  /**\n   * The font size in pixels\n   *\n   * @type {Number}\n   * @constant\n   */\n  FONT_SIZE: 48.0,\n\n  /**\n   * Whitespace padding around glyphs.\n   *\n   * @type {Number}\n   * @constant\n   */\n  PADDING: 10.0,\n\n  /**\n   * How many pixels around the glyph shape to use for encoding distance\n   *\n   * @type {Number}\n   * @constant\n   */\n  RADIUS: 8.0,\n\n  /**\n   * How much of the radius (relative) is used for the inside part the glyph.\n   *\n   * @type {Number}\n   * @constant\n   */\n  CUTOFF: 0.25,\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(SDFSettings));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYxOTEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsMEJBQTBCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvU0RGU2V0dGluZ3MuanM/ZmUwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNldHRpbmdzIGZvciB0aGUgZ2VuZXJhdGlvbiBvZiBzaWduZWQgZGlzdGFuY2UgZmllbGQgZ2x5cGhzXG4gKlxuICogQHByaXZhdGVcbiAqL1xudmFyIFNERlNldHRpbmdzID0ge1xuICAvKipcbiAgICogVGhlIGZvbnQgc2l6ZSBpbiBwaXhlbHNcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBGT05UX1NJWkU6IDQ4LjAsXG5cbiAgLyoqXG4gICAqIFdoaXRlc3BhY2UgcGFkZGluZyBhcm91bmQgZ2x5cGhzLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIFBBRERJTkc6IDEwLjAsXG5cbiAgLyoqXG4gICAqIEhvdyBtYW55IHBpeGVscyBhcm91bmQgdGhlIGdseXBoIHNoYXBlIHRvIHVzZSBmb3IgZW5jb2RpbmcgZGlzdGFuY2VcbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBSQURJVVM6IDguMCxcblxuICAvKipcbiAgICogSG93IG11Y2ggb2YgdGhlIHJhZGl1cyAocmVsYXRpdmUpIGlzIHVzZWQgZm9yIHRoZSBpbnNpZGUgcGFydCB0aGUgZ2x5cGguXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgQ1VUT0ZGOiAwLjI1LFxufTtcbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5mcmVlemUoU0RGU2V0dGluZ3MpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///36191\n')},65448:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86511);\n/* harmony import */ var _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38443);\n/* harmony import */ var _Renderer_ClearCommand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39899);\n/* harmony import */ var _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2932);\n/* harmony import */ var _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21572);\n/* harmony import */ var _Renderer_Renderbuffer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17941);\n/* harmony import */ var _Renderer_RenderbufferFormat_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(89032);\n/* harmony import */ var _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(87721);\n/* harmony import */ var _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8743);\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @private\n */\nfunction SceneFramebuffer() {\n  this._colorTexture = undefined;\n  this._idTexture = undefined;\n  this._depthStencilTexture = undefined;\n  this._depthStencilRenderbuffer = undefined;\n  this._framebuffer = undefined;\n  this._idFramebuffer = undefined;\n\n  this._idClearColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(0.0, 0.0, 0.0, 0.0);\n\n  this._useHdr = undefined;\n\n  this._clearCommand = new _Renderer_ClearCommand_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z({\n    color: new _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(0.0, 0.0, 0.0, 0.0),\n    depth: 1.0,\n    owner: this,\n  });\n}\n\nfunction destroyResources(post) {\n  post._framebuffer = post._framebuffer && post._framebuffer.destroy();\n  post._idFramebuffer = post._idFramebuffer && post._idFramebuffer.destroy();\n  post._colorTexture = post._colorTexture && post._colorTexture.destroy();\n  post._idTexture = post._idTexture && post._idTexture.destroy();\n  post._depthStencilTexture =\n    post._depthStencilTexture && post._depthStencilTexture.destroy();\n  post._depthStencilRenderbuffer =\n    post._depthStencilRenderbuffer && post._depthStencilRenderbuffer.destroy();\n  post._depthStencilIdTexture =\n    post._depthStencilIdTexture && post._depthStencilIdTexture.destroy();\n  post._depthStencilIdRenderbuffer =\n    post._depthStencilIdRenderbuffer &&\n    post._depthStencilIdRenderbuffer.destroy();\n\n  post._framebuffer = undefined;\n  post._idFramebuffer = undefined;\n  post._colorTexture = undefined;\n  post._idTexture = undefined;\n  post._depthStencilTexture = undefined;\n  post._depthStencilRenderbuffer = undefined;\n  post._depthStencilIdTexture = undefined;\n  post._depthStencilIdRenderbuffer = undefined;\n}\n\nSceneFramebuffer.prototype.update = function (context, viewport, hdr) {\n  var width = viewport.width;\n  var height = viewport.height;\n  var colorTexture = this._colorTexture;\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(colorTexture) &&\n    colorTexture.width === width &&\n    colorTexture.height === height &&\n    hdr === this._useHdr\n  ) {\n    return;\n  }\n\n  destroyResources(this);\n  this._useHdr = hdr;\n\n  var pixelDatatype = hdr\n    ? context.halfFloatingPointTexture\n      ? _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].HALF_FLOAT */ .Z.HALF_FLOAT\n      : _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].FLOAT */ .Z.FLOAT\n    : _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].UNSIGNED_BYTE */ .Z.UNSIGNED_BYTE;\n  this._colorTexture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    context: context,\n    width: width,\n    height: height,\n    pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].RGBA */ .Z.RGBA,\n    pixelDatatype: pixelDatatype,\n    sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].NEAREST */ .Z.NEAREST,\n  });\n\n  this._idTexture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    context: context,\n    width: width,\n    height: height,\n    pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].RGBA */ .Z.RGBA,\n    pixelDatatype: _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].UNSIGNED_BYTE */ .Z.UNSIGNED_BYTE,\n    sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].NEAREST */ .Z.NEAREST,\n  });\n\n  if (context.depthTexture) {\n    this._depthStencilTexture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n      context: context,\n      width: width,\n      height: height,\n      pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].DEPTH_STENCIL */ .Z.DEPTH_STENCIL,\n      pixelDatatype: _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].UNSIGNED_INT_24_8 */ .Z.UNSIGNED_INT_24_8,\n      sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].NEAREST */ .Z.NEAREST,\n    });\n    this._depthStencilIdTexture = new _Renderer_Texture_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n      context: context,\n      width: width,\n      height: height,\n      pixelFormat: _Core_PixelFormat_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].DEPTH_STENCIL */ .Z.DEPTH_STENCIL,\n      pixelDatatype: _Renderer_PixelDatatype_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].UNSIGNED_INT_24_8 */ .Z.UNSIGNED_INT_24_8,\n      sampler: _Renderer_Sampler_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].NEAREST */ .Z.NEAREST,\n    });\n  } else {\n    this._depthStencilRenderbuffer = new _Renderer_Renderbuffer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n      context: context,\n      width: width,\n      height: height,\n      format: _Renderer_RenderbufferFormat_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].DEPTH_STENCIL */ .Z.DEPTH_STENCIL,\n    });\n    this._depthStencilIdRenderbuffer = new _Renderer_Renderbuffer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n      context: context,\n      width: width,\n      height: height,\n      format: _Renderer_RenderbufferFormat_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].DEPTH_STENCIL */ .Z.DEPTH_STENCIL,\n    });\n  }\n\n  this._framebuffer = new _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    context: context,\n    colorTextures: [this._colorTexture],\n    depthStencilTexture: this._depthStencilTexture,\n    depthStencilRenderbuffer: this._depthStencilRenderbuffer,\n    destroyAttachments: false,\n  });\n\n  this._idFramebuffer = new _Renderer_Framebuffer_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n    context: context,\n    colorTextures: [this._idTexture],\n    depthStencilTexture: this._depthStencilIdTexture,\n    depthStencilRenderbuffer: this._depthStencilIdRenderbuffer,\n    destroyAttachments: false,\n  });\n};\n\nSceneFramebuffer.prototype.clear = function (context, passState, clearColor) {\n  var framebuffer = passState.framebuffer;\n\n  passState.framebuffer = this._framebuffer;\n  _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(clearColor, this._clearCommand.color);\n  this._clearCommand.execute(context, passState);\n\n  passState.framebuffer = this._idFramebuffer;\n  _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(this._idClearColor, this._clearCommand.color);\n  this._clearCommand.execute(context, passState);\n\n  passState.framebuffer = framebuffer;\n};\n\nSceneFramebuffer.prototype.getFramebuffer = function () {\n  return this._framebuffer;\n};\n\nSceneFramebuffer.prototype.getIdFramebuffer = function () {\n  return this._idFramebuffer;\n};\n\nSceneFramebuffer.prototype.isDestroyed = function () {\n  return false;\n};\n\nSceneFramebuffer.prototype.destroy = function () {\n  destroyResources(this);\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (SceneFramebuffer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU0NDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUM7QUFDSTtBQUNZO0FBQ0o7QUFDTTtBQUNGO0FBQ0k7QUFDRjtBQUNZO0FBQ3RCO0FBQ0E7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJCQUEyQiwrREFBSzs7QUFFaEM7O0FBRUEsMkJBQTJCLDBFQUFZO0FBQ3ZDLGVBQWUsK0RBQUs7QUFDcEI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxzRUFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLGlHQUF3QjtBQUNoQyxRQUFRLHVGQUFtQjtBQUMzQixNQUFNLHVHQUEyQjtBQUNqQywyQkFBMkIscUVBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtFQUFnQjtBQUNqQztBQUNBLGFBQWEscUZBQWU7QUFDNUIsR0FBRzs7QUFFSCx3QkFBd0IscUVBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtFQUFnQjtBQUNqQyxtQkFBbUIsdUdBQTJCO0FBQzlDLGFBQWEscUZBQWU7QUFDNUIsR0FBRzs7QUFFSDtBQUNBLG9DQUFvQyxxRUFBTztBQUMzQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUdBQXlCO0FBQzVDLHFCQUFxQiwrR0FBK0I7QUFDcEQsZUFBZSxxRkFBZTtBQUM5QixLQUFLO0FBQ0wsc0NBQXNDLHFFQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpR0FBeUI7QUFDNUMscUJBQXFCLCtHQUErQjtBQUNwRCxlQUFlLHFGQUFlO0FBQzlCLEtBQUs7QUFDTCxJQUFJO0FBQ0oseUNBQXlDLDBFQUFZO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNEdBQWdDO0FBQzlDLEtBQUs7QUFDTCwyQ0FBMkMsMEVBQVk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0R0FBZ0M7QUFDOUMsS0FBSztBQUNMOztBQUVBLDBCQUEwQix5RUFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCw0QkFBNEIseUVBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSwyRUFBVztBQUNiOztBQUVBO0FBQ0EsRUFBRSwyRUFBVztBQUNiOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSx5REFBZSxnQkFBZ0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9TY2VuZUZyYW1lYnVmZmVyLmpzPzJkNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbG9yIGZyb20gXCIuLi9Db3JlL0NvbG9yLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgUGl4ZWxGb3JtYXQgZnJvbSBcIi4uL0NvcmUvUGl4ZWxGb3JtYXQuanNcIjtcbmltcG9ydCBDbGVhckNvbW1hbmQgZnJvbSBcIi4uL1JlbmRlcmVyL0NsZWFyQ29tbWFuZC5qc1wiO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gXCIuLi9SZW5kZXJlci9GcmFtZWJ1ZmZlci5qc1wiO1xuaW1wb3J0IFBpeGVsRGF0YXR5cGUgZnJvbSBcIi4uL1JlbmRlcmVyL1BpeGVsRGF0YXR5cGUuanNcIjtcbmltcG9ydCBSZW5kZXJidWZmZXIgZnJvbSBcIi4uL1JlbmRlcmVyL1JlbmRlcmJ1ZmZlci5qc1wiO1xuaW1wb3J0IFJlbmRlcmJ1ZmZlckZvcm1hdCBmcm9tIFwiLi4vUmVuZGVyZXIvUmVuZGVyYnVmZmVyRm9ybWF0LmpzXCI7XG5pbXBvcnQgU2FtcGxlciBmcm9tIFwiLi4vUmVuZGVyZXIvU2FtcGxlci5qc1wiO1xuaW1wb3J0IFRleHR1cmUgZnJvbSBcIi4uL1JlbmRlcmVyL1RleHR1cmUuanNcIjtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBTY2VuZUZyYW1lYnVmZmVyKCkge1xuICB0aGlzLl9jb2xvclRleHR1cmUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2lkVGV4dHVyZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZGVwdGhTdGVuY2lsUmVuZGVyYnVmZmVyID0gdW5kZWZpbmVkO1xuICB0aGlzLl9mcmFtZWJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgdGhpcy5faWRGcmFtZWJ1ZmZlciA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9pZENsZWFyQ29sb3IgPSBuZXcgQ29sb3IoMC4wLCAwLjAsIDAuMCwgMC4wKTtcblxuICB0aGlzLl91c2VIZHIgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fY2xlYXJDb21tYW5kID0gbmV3IENsZWFyQ29tbWFuZCh7XG4gICAgY29sb3I6IG5ldyBDb2xvcigwLjAsIDAuMCwgMC4wLCAwLjApLFxuICAgIGRlcHRoOiAxLjAsXG4gICAgb3duZXI6IHRoaXMsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95UmVzb3VyY2VzKHBvc3QpIHtcbiAgcG9zdC5fZnJhbWVidWZmZXIgPSBwb3N0Ll9mcmFtZWJ1ZmZlciAmJiBwb3N0Ll9mcmFtZWJ1ZmZlci5kZXN0cm95KCk7XG4gIHBvc3QuX2lkRnJhbWVidWZmZXIgPSBwb3N0Ll9pZEZyYW1lYnVmZmVyICYmIHBvc3QuX2lkRnJhbWVidWZmZXIuZGVzdHJveSgpO1xuICBwb3N0Ll9jb2xvclRleHR1cmUgPSBwb3N0Ll9jb2xvclRleHR1cmUgJiYgcG9zdC5fY29sb3JUZXh0dXJlLmRlc3Ryb3koKTtcbiAgcG9zdC5faWRUZXh0dXJlID0gcG9zdC5faWRUZXh0dXJlICYmIHBvc3QuX2lkVGV4dHVyZS5kZXN0cm95KCk7XG4gIHBvc3QuX2RlcHRoU3RlbmNpbFRleHR1cmUgPVxuICAgIHBvc3QuX2RlcHRoU3RlbmNpbFRleHR1cmUgJiYgcG9zdC5fZGVwdGhTdGVuY2lsVGV4dHVyZS5kZXN0cm95KCk7XG4gIHBvc3QuX2RlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlciA9XG4gICAgcG9zdC5fZGVwdGhTdGVuY2lsUmVuZGVyYnVmZmVyICYmIHBvc3QuX2RlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlci5kZXN0cm95KCk7XG4gIHBvc3QuX2RlcHRoU3RlbmNpbElkVGV4dHVyZSA9XG4gICAgcG9zdC5fZGVwdGhTdGVuY2lsSWRUZXh0dXJlICYmIHBvc3QuX2RlcHRoU3RlbmNpbElkVGV4dHVyZS5kZXN0cm95KCk7XG4gIHBvc3QuX2RlcHRoU3RlbmNpbElkUmVuZGVyYnVmZmVyID1cbiAgICBwb3N0Ll9kZXB0aFN0ZW5jaWxJZFJlbmRlcmJ1ZmZlciAmJlxuICAgIHBvc3QuX2RlcHRoU3RlbmNpbElkUmVuZGVyYnVmZmVyLmRlc3Ryb3koKTtcblxuICBwb3N0Ll9mcmFtZWJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgcG9zdC5faWRGcmFtZWJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgcG9zdC5fY29sb3JUZXh0dXJlID0gdW5kZWZpbmVkO1xuICBwb3N0Ll9pZFRleHR1cmUgPSB1bmRlZmluZWQ7XG4gIHBvc3QuX2RlcHRoU3RlbmNpbFRleHR1cmUgPSB1bmRlZmluZWQ7XG4gIHBvc3QuX2RlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgcG9zdC5fZGVwdGhTdGVuY2lsSWRUZXh0dXJlID0gdW5kZWZpbmVkO1xuICBwb3N0Ll9kZXB0aFN0ZW5jaWxJZFJlbmRlcmJ1ZmZlciA9IHVuZGVmaW5lZDtcbn1cblxuU2NlbmVGcmFtZWJ1ZmZlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGNvbnRleHQsIHZpZXdwb3J0LCBoZHIpIHtcbiAgdmFyIHdpZHRoID0gdmlld3BvcnQud2lkdGg7XG4gIHZhciBoZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gIHZhciBjb2xvclRleHR1cmUgPSB0aGlzLl9jb2xvclRleHR1cmU7XG4gIGlmIChcbiAgICBkZWZpbmVkKGNvbG9yVGV4dHVyZSkgJiZcbiAgICBjb2xvclRleHR1cmUud2lkdGggPT09IHdpZHRoICYmXG4gICAgY29sb3JUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0ICYmXG4gICAgaGRyID09PSB0aGlzLl91c2VIZHJcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZGVzdHJveVJlc291cmNlcyh0aGlzKTtcbiAgdGhpcy5fdXNlSGRyID0gaGRyO1xuXG4gIHZhciBwaXhlbERhdGF0eXBlID0gaGRyXG4gICAgPyBjb250ZXh0LmhhbGZGbG9hdGluZ1BvaW50VGV4dHVyZVxuICAgICAgPyBQaXhlbERhdGF0eXBlLkhBTEZfRkxPQVRcbiAgICAgIDogUGl4ZWxEYXRhdHlwZS5GTE9BVFxuICAgIDogUGl4ZWxEYXRhdHlwZS5VTlNJR05FRF9CWVRFO1xuICB0aGlzLl9jb2xvclRleHR1cmUgPSBuZXcgVGV4dHVyZSh7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgcGl4ZWxGb3JtYXQ6IFBpeGVsRm9ybWF0LlJHQkEsXG4gICAgcGl4ZWxEYXRhdHlwZTogcGl4ZWxEYXRhdHlwZSxcbiAgICBzYW1wbGVyOiBTYW1wbGVyLk5FQVJFU1QsXG4gIH0pO1xuXG4gIHRoaXMuX2lkVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHtcbiAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBwaXhlbEZvcm1hdDogUGl4ZWxGb3JtYXQuUkdCQSxcbiAgICBwaXhlbERhdGF0eXBlOiBQaXhlbERhdGF0eXBlLlVOU0lHTkVEX0JZVEUsXG4gICAgc2FtcGxlcjogU2FtcGxlci5ORUFSRVNULFxuICB9KTtcblxuICBpZiAoY29udGV4dC5kZXB0aFRleHR1cmUpIHtcbiAgICB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgcGl4ZWxGb3JtYXQ6IFBpeGVsRm9ybWF0LkRFUFRIX1NURU5DSUwsXG4gICAgICBwaXhlbERhdGF0eXBlOiBQaXhlbERhdGF0eXBlLlVOU0lHTkVEX0lOVF8yNF84LFxuICAgICAgc2FtcGxlcjogU2FtcGxlci5ORUFSRVNULFxuICAgIH0pO1xuICAgIHRoaXMuX2RlcHRoU3RlbmNpbElkVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIHBpeGVsRm9ybWF0OiBQaXhlbEZvcm1hdC5ERVBUSF9TVEVOQ0lMLFxuICAgICAgcGl4ZWxEYXRhdHlwZTogUGl4ZWxEYXRhdHlwZS5VTlNJR05FRF9JTlRfMjRfOCxcbiAgICAgIHNhbXBsZXI6IFNhbXBsZXIuTkVBUkVTVCxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9kZXB0aFN0ZW5jaWxSZW5kZXJidWZmZXIgPSBuZXcgUmVuZGVyYnVmZmVyKHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIGZvcm1hdDogUmVuZGVyYnVmZmVyRm9ybWF0LkRFUFRIX1NURU5DSUwsXG4gICAgfSk7XG4gICAgdGhpcy5fZGVwdGhTdGVuY2lsSWRSZW5kZXJidWZmZXIgPSBuZXcgUmVuZGVyYnVmZmVyKHtcbiAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIGZvcm1hdDogUmVuZGVyYnVmZmVyRm9ybWF0LkRFUFRIX1NURU5DSUwsXG4gICAgfSk7XG4gIH1cblxuICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcih7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICBjb2xvclRleHR1cmVzOiBbdGhpcy5fY29sb3JUZXh0dXJlXSxcbiAgICBkZXB0aFN0ZW5jaWxUZXh0dXJlOiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLFxuICAgIGRlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlcjogdGhpcy5fZGVwdGhTdGVuY2lsUmVuZGVyYnVmZmVyLFxuICAgIGRlc3Ryb3lBdHRhY2htZW50czogZmFsc2UsXG4gIH0pO1xuXG4gIHRoaXMuX2lkRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgY29sb3JUZXh0dXJlczogW3RoaXMuX2lkVGV4dHVyZV0sXG4gICAgZGVwdGhTdGVuY2lsVGV4dHVyZTogdGhpcy5fZGVwdGhTdGVuY2lsSWRUZXh0dXJlLFxuICAgIGRlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlcjogdGhpcy5fZGVwdGhTdGVuY2lsSWRSZW5kZXJidWZmZXIsXG4gICAgZGVzdHJveUF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgfSk7XG59O1xuXG5TY2VuZUZyYW1lYnVmZmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXNzU3RhdGUsIGNsZWFyQ29sb3IpIHtcbiAgdmFyIGZyYW1lYnVmZmVyID0gcGFzc1N0YXRlLmZyYW1lYnVmZmVyO1xuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IHRoaXMuX2ZyYW1lYnVmZmVyO1xuICBDb2xvci5jbG9uZShjbGVhckNvbG9yLCB0aGlzLl9jbGVhckNvbW1hbmQuY29sb3IpO1xuICB0aGlzLl9jbGVhckNvbW1hbmQuZXhlY3V0ZShjb250ZXh0LCBwYXNzU3RhdGUpO1xuXG4gIHBhc3NTdGF0ZS5mcmFtZWJ1ZmZlciA9IHRoaXMuX2lkRnJhbWVidWZmZXI7XG4gIENvbG9yLmNsb25lKHRoaXMuX2lkQ2xlYXJDb2xvciwgdGhpcy5fY2xlYXJDb21tYW5kLmNvbG9yKTtcbiAgdGhpcy5fY2xlYXJDb21tYW5kLmV4ZWN1dGUoY29udGV4dCwgcGFzc1N0YXRlKTtcblxuICBwYXNzU3RhdGUuZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcjtcbn07XG5cblNjZW5lRnJhbWVidWZmZXIucHJvdG90eXBlLmdldEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fZnJhbWVidWZmZXI7XG59O1xuXG5TY2VuZUZyYW1lYnVmZmVyLnByb3RvdHlwZS5nZXRJZEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faWRGcmFtZWJ1ZmZlcjtcbn07XG5cblNjZW5lRnJhbWVidWZmZXIucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG5TY2VuZUZyYW1lYnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICBkZXN0cm95UmVzb3VyY2VzKHRoaXMpO1xuICByZXR1cm4gZGVzdHJveU9iamVjdCh0aGlzKTtcbn07XG5leHBvcnQgZGVmYXVsdCBTY2VuZUZyYW1lYnVmZmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///65448\n')},89917:function(__unused_webpack___webpack_module__,__webpack_exports__){eval('/**\n * Indicates if the scene is viewed in 3D, 2D, or 2.5D Columbus view.\n *\n * @enum {Number}\n * @see Scene#mode\n */\nvar SceneMode = {\n  /**\n   * Morphing between mode, e.g., 3D to 2D.\n   *\n   * @type {Number}\n   * @constant\n   */\n  MORPHING: 0,\n\n  /**\n   * Columbus View mode.  A 2.5D perspective view where the map is laid out\n   * flat and objects with non-zero height are drawn above it.\n   *\n   * @type {Number}\n   * @constant\n   */\n  COLUMBUS_VIEW: 1,\n\n  /**\n   * 2D mode.  The map is viewed top-down with an orthographic projection.\n   *\n   * @type {Number}\n   * @constant\n   */\n  SCENE2D: 2,\n\n  /**\n   * 3D mode.  A traditional 3D perspective view of the globe.\n   *\n   * @type {Number}\n   * @constant\n   */\n  SCENE3D: 3,\n};\n\n/**\n * Returns the morph time for the given scene mode.\n *\n * @param {SceneMode} value The scene mode\n * @returns {Number} The morph time\n */\nSceneMode.getMorphTime = function (value) {\n  if (value === SceneMode.SCENE3D) {\n    return 1.0;\n  } else if (value === SceneMode.MORPHING) {\n    return undefined;\n  }\n  return 0.0;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(SceneMode));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODk5MTcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBZSx3QkFBd0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9TY2VuZU1vZGUuanM/Nzk1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluZGljYXRlcyBpZiB0aGUgc2NlbmUgaXMgdmlld2VkIGluIDNELCAyRCwgb3IgMi41RCBDb2x1bWJ1cyB2aWV3LlxuICpcbiAqIEBlbnVtIHtOdW1iZXJ9XG4gKiBAc2VlIFNjZW5lI21vZGVcbiAqL1xudmFyIFNjZW5lTW9kZSA9IHtcbiAgLyoqXG4gICAqIE1vcnBoaW5nIGJldHdlZW4gbW9kZSwgZS5nLiwgM0QgdG8gMkQuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgTU9SUEhJTkc6IDAsXG5cbiAgLyoqXG4gICAqIENvbHVtYnVzIFZpZXcgbW9kZS4gIEEgMi41RCBwZXJzcGVjdGl2ZSB2aWV3IHdoZXJlIHRoZSBtYXAgaXMgbGFpZCBvdXRcbiAgICogZmxhdCBhbmQgb2JqZWN0cyB3aXRoIG5vbi16ZXJvIGhlaWdodCBhcmUgZHJhd24gYWJvdmUgaXQuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgQ09MVU1CVVNfVklFVzogMSxcblxuICAvKipcbiAgICogMkQgbW9kZS4gIFRoZSBtYXAgaXMgdmlld2VkIHRvcC1kb3duIHdpdGggYW4gb3J0aG9ncmFwaGljIHByb2plY3Rpb24uXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgU0NFTkUyRDogMixcblxuICAvKipcbiAgICogM0QgbW9kZS4gIEEgdHJhZGl0aW9uYWwgM0QgcGVyc3BlY3RpdmUgdmlldyBvZiB0aGUgZ2xvYmUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgU0NFTkUzRDogMyxcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbW9ycGggdGltZSBmb3IgdGhlIGdpdmVuIHNjZW5lIG1vZGUuXG4gKlxuICogQHBhcmFtIHtTY2VuZU1vZGV9IHZhbHVlIFRoZSBzY2VuZSBtb2RlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbW9ycGggdGltZVxuICovXG5TY2VuZU1vZGUuZ2V0TW9ycGhUaW1lID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gU2NlbmVNb2RlLlNDRU5FM0QpIHtcbiAgICByZXR1cm4gMS4wO1xuICB9IGVsc2UgaWYgKHZhbHVlID09PSBTY2VuZU1vZGUuTU9SUEhJTkcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiAwLjA7XG59O1xuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmZyZWV6ZShTY2VuZU1vZGUpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///89917\n')},48244:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(88108);\n/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60838);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63367);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(51688);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(72248);\n/* harmony import */ var _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(91473);\n/* harmony import */ var _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(35131);\n/* harmony import */ var _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(95555);\n/* harmony import */ var _SceneMode_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(89917);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Functions that do scene-dependent transforms between rendering-related coordinate systems.\n *\n * @namespace SceneTransforms\n */\nvar SceneTransforms = {};\n\nvar actualPositionScratch = new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(0, 0, 0, 1);\nvar positionCC = new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\nvar scratchViewport = new _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\nvar scratchWindowCoord0 = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchWindowCoord1 = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n/**\n * Transforms a position in WGS84 coordinates to window coordinates.  This is commonly used to place an\n * HTML element at the same screen position as an object in the scene.\n *\n * @param {Scene} scene The scene.\n * @param {Cartesian3} position The position in WGS84 (world) coordinates.\n * @param {Cartesian2} [result] An optional object to return the input position transformed to window coordinates.\n * @returns {Cartesian2} The modified result parameter or a new Cartesian2 instance if one was not provided.  This may be <code>undefined</code> if the input position is near the center of the ellipsoid.\n *\n * @example\n * // Output the window position of longitude/latitude (0, 0) every time the mouse moves.\n * var scene = widget.scene;\n * var ellipsoid = scene.globe.ellipsoid;\n * var position = Cesium.Cartesian3.fromDegrees(0.0, 0.0);\n * var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n * handler.setInputAction(function(movement) {\n *     console.log(Cesium.SceneTransforms.wgs84ToWindowCoordinates(scene, position));\n * }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n */\nSceneTransforms.wgs84ToWindowCoordinates = function (scene, position, result) {\n  return SceneTransforms.wgs84WithEyeOffsetToWindowCoordinates(\n    scene,\n    position,\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO,\n    result\n  );\n};\n\nvar scratchCartesian4 = new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\nvar scratchEyeOffset = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\nfunction worldToClip(position, eyeOffset, camera, result) {\n  var viewMatrix = camera.viewMatrix;\n\n  var positionEC = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(\n    viewMatrix,\n    _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromElements */ .Z.fromElements(\n      position.x,\n      position.y,\n      position.z,\n      1,\n      scratchCartesian4\n    ),\n    scratchCartesian4\n  );\n\n  var zEyeOffset = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyComponents */ .Z.multiplyComponents(\n    eyeOffset,\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].normalize */ .Z.normalize(positionEC, scratchEyeOffset),\n    scratchEyeOffset\n  );\n  positionEC.x += eyeOffset.x + zEyeOffset.x;\n  positionEC.y += eyeOffset.y + zEyeOffset.y;\n  positionEC.z += zEyeOffset.z;\n\n  return _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(\n    camera.frustum.projectionMatrix,\n    positionEC,\n    result\n  );\n}\n\nvar scratchMaxCartographic = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(Math.PI, _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].PI_OVER_TWO */ .Z.PI_OVER_TWO);\nvar scratchProjectedCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar scratchCameraPosition = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\n/**\n * @private\n */\nSceneTransforms.wgs84WithEyeOffsetToWindowCoordinates = function (\n  scene,\n  position,\n  eyeOffset,\n  result\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(scene)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z("scene is required.");\n  }\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(position)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z("position is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  // Transform for 3D, 2D, or Columbus view\n  var frameState = scene.frameState;\n  var actualPosition = SceneTransforms.computeActualWgs84Position(\n    frameState,\n    position,\n    actualPositionScratch\n  );\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(actualPosition)) {\n    return undefined;\n  }\n\n  // Assuming viewport takes up the entire canvas...\n  var canvas = scene.canvas;\n  var viewport = scratchViewport;\n  viewport.x = 0;\n  viewport.y = 0;\n  viewport.width = canvas.clientWidth;\n  viewport.height = canvas.clientHeight;\n\n  var camera = scene.camera;\n  var cameraCentered = false;\n\n  if (frameState.mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n    var projection = scene.mapProjection;\n    var maxCartographic = scratchMaxCartographic;\n    var maxCoord = projection.project(\n      maxCartographic,\n      scratchProjectedCartesian\n    );\n\n    var cameraPosition = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(\n      camera.position,\n      scratchCameraPosition\n    );\n    var frustum = camera.frustum.clone();\n\n    var viewportTransformation = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].computeViewportTransformation */ .Z.computeViewportTransformation(\n      viewport,\n      0.0,\n      1.0,\n      new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z()\n    );\n    var projectionMatrix = camera.frustum.projectionMatrix;\n\n    var x = camera.positionWC.y;\n    var eyePoint = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n      _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].sign */ .Z.sign(x) * maxCoord.x - x,\n      0.0,\n      -camera.positionWC.x\n    );\n    var windowCoordinates = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].pointToGLWindowCoordinates */ .Z.pointToGLWindowCoordinates(\n      projectionMatrix,\n      viewportTransformation,\n      eyePoint\n    );\n\n    if (\n      x === 0.0 ||\n      windowCoordinates.x <= 0.0 ||\n      windowCoordinates.x >= canvas.clientWidth\n    ) {\n      cameraCentered = true;\n    } else {\n      if (windowCoordinates.x > canvas.clientWidth * 0.5) {\n        viewport.width = windowCoordinates.x;\n\n        camera.frustum.right = maxCoord.x - x;\n\n        positionCC = worldToClip(actualPosition, eyeOffset, camera, positionCC);\n        SceneTransforms.clipToGLWindowCoordinates(\n          viewport,\n          positionCC,\n          scratchWindowCoord0\n        );\n\n        viewport.x += windowCoordinates.x;\n\n        camera.position.x = -camera.position.x;\n\n        var right = camera.frustum.right;\n        camera.frustum.right = -camera.frustum.left;\n        camera.frustum.left = -right;\n\n        positionCC = worldToClip(actualPosition, eyeOffset, camera, positionCC);\n        SceneTransforms.clipToGLWindowCoordinates(\n          viewport,\n          positionCC,\n          scratchWindowCoord1\n        );\n      } else {\n        viewport.x += windowCoordinates.x;\n        viewport.width -= windowCoordinates.x;\n\n        camera.frustum.left = -maxCoord.x - x;\n\n        positionCC = worldToClip(actualPosition, eyeOffset, camera, positionCC);\n        SceneTransforms.clipToGLWindowCoordinates(\n          viewport,\n          positionCC,\n          scratchWindowCoord0\n        );\n\n        viewport.x = viewport.x - viewport.width;\n\n        camera.position.x = -camera.position.x;\n\n        var left = camera.frustum.left;\n        camera.frustum.left = -camera.frustum.right;\n        camera.frustum.right = -left;\n\n        positionCC = worldToClip(actualPosition, eyeOffset, camera, positionCC);\n        SceneTransforms.clipToGLWindowCoordinates(\n          viewport,\n          positionCC,\n          scratchWindowCoord1\n        );\n      }\n\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(cameraPosition, camera.position);\n      camera.frustum = frustum.clone();\n\n      result = _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].clone */ .Z.clone(scratchWindowCoord0, result);\n      if (result.x < 0.0 || result.x > canvas.clientWidth) {\n        result.x = scratchWindowCoord1.x;\n      }\n    }\n  }\n\n  if (frameState.mode !== _SceneMode_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].SCENE2D */ .Z.SCENE2D || cameraCentered) {\n    // View-projection matrix to transform from world coordinates to clip coordinates\n    positionCC = worldToClip(actualPosition, eyeOffset, camera, positionCC);\n    if (\n      positionCC.z < 0 &&\n      !(camera.frustum instanceof _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z) &&\n      !(camera.frustum instanceof _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)\n    ) {\n      return undefined;\n    }\n\n    result = SceneTransforms.clipToGLWindowCoordinates(\n      viewport,\n      positionCC,\n      result\n    );\n  }\n\n  result.y = canvas.clientHeight - result.y;\n  return result;\n};\n\n/**\n * Transforms a position in WGS84 coordinates to drawing buffer coordinates.  This may produce different\n * results from SceneTransforms.wgs84ToWindowCoordinates when the browser zoom is not 100%, or on high-DPI displays.\n *\n * @param {Scene} scene The scene.\n * @param {Cartesian3} position The position in WGS84 (world) coordinates.\n * @param {Cartesian2} [result] An optional object to return the input position transformed to window coordinates.\n * @returns {Cartesian2} The modified result parameter or a new Cartesian2 instance if one was not provided.  This may be <code>undefined</code> if the input position is near the center of the ellipsoid.\n *\n * @example\n * // Output the window position of longitude/latitude (0, 0) every time the mouse moves.\n * var scene = widget.scene;\n * var ellipsoid = scene.globe.ellipsoid;\n * var position = Cesium.Cartesian3.fromDegrees(0.0, 0.0);\n * var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n * handler.setInputAction(function(movement) {\n *     console.log(Cesium.SceneTransforms.wgs84ToWindowCoordinates(scene, position));\n * }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n */\nSceneTransforms.wgs84ToDrawingBufferCoordinates = function (\n  scene,\n  position,\n  result\n) {\n  result = SceneTransforms.wgs84ToWindowCoordinates(scene, position, result);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(result)) {\n    return undefined;\n  }\n\n  return SceneTransforms.transformWindowToDrawingBuffer(scene, result, result);\n};\n\nvar projectedPosition = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar positionInCartographic = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z();\n\n/**\n * @private\n */\nSceneTransforms.computeActualWgs84Position = function (\n  frameState,\n  position,\n  result\n) {\n  var mode = frameState.mode;\n\n  if (mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].SCENE3D */ .Z.SCENE3D) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(position, result);\n  }\n\n  var projection = frameState.mapProjection;\n  var cartographic = projection.ellipsoid.cartesianToCartographic(\n    position,\n    positionInCartographic\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(cartographic)) {\n    return undefined;\n  }\n\n  projection.project(cartographic, projectedPosition);\n\n  if (mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n      projectedPosition.z,\n      projectedPosition.x,\n      projectedPosition.y,\n      result\n    );\n  }\n\n  if (mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n      0.0,\n      projectedPosition.x,\n      projectedPosition.y,\n      result\n    );\n  }\n\n  // mode === SceneMode.MORPHING\n  var morphTime = frameState.morphTime;\n  return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n    _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].lerp */ .Z.lerp(projectedPosition.z, position.x, morphTime),\n    _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].lerp */ .Z.lerp(projectedPosition.x, position.y, morphTime),\n    _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].lerp */ .Z.lerp(projectedPosition.y, position.z, morphTime),\n    result\n  );\n};\n\nvar positionNDC = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar positionWC = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar viewportTransform = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\n\n/**\n * @private\n */\nSceneTransforms.clipToGLWindowCoordinates = function (\n  viewport,\n  position,\n  result\n) {\n  // Perspective divide to transform from clip coordinates to normalized device coordinates\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].divideByScalar */ .Z.divideByScalar(position, position.w, positionNDC);\n\n  // Viewport transform to transform from clip coordinates to window coordinates\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].computeViewportTransformation */ .Z.computeViewportTransformation(viewport, 0.0, 1.0, viewportTransform);\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(viewportTransform, positionNDC, positionWC);\n\n  return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromCartesian3 */ .Z.fromCartesian3(positionWC, result);\n};\n\n/**\n * @private\n */\nSceneTransforms.transformWindowToDrawingBuffer = function (\n  scene,\n  windowPosition,\n  result\n) {\n  var canvas = scene.canvas;\n  var xScale = scene.drawingBufferWidth / canvas.clientWidth;\n  var yScale = scene.drawingBufferHeight / canvas.clientHeight;\n  return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n    windowPosition.x * xScale,\n    windowPosition.y * yScale,\n    result\n  );\n};\n\nvar scratchNDC = new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\nvar scratchWorldCoords = new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\n\n/**\n * @private\n */\nSceneTransforms.drawingBufferToWgs84Coordinates = function (\n  scene,\n  drawingBufferPosition,\n  depth,\n  result\n) {\n  var context = scene.context;\n  var uniformState = context.uniformState;\n\n  var currentFrustum = uniformState.currentFrustum;\n  var near = currentFrustum.x;\n  var far = currentFrustum.y;\n\n  if (scene.frameState.useLogDepth) {\n    // transforming logarithmic depth of form\n    // log2(z + 1) / log2( far + 1);\n    // to perspective form\n    // (far - far * near / z) / (far - near)\n    var log2Depth = depth * uniformState.log2FarDepthFromNearPlusOne;\n    var depthFromNear = Math.pow(2.0, log2Depth) - 1.0;\n    depth = (far * (1.0 - near / (depthFromNear + near))) / (far - near);\n  }\n\n  var viewport = scene.view.passState.viewport;\n  var ndc = _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].clone */ .Z.clone(_Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].UNIT_W */ .Z.UNIT_W, scratchNDC);\n  ndc.x = ((drawingBufferPosition.x - viewport.x) / viewport.width) * 2.0 - 1.0;\n  ndc.y =\n    ((drawingBufferPosition.y - viewport.y) / viewport.height) * 2.0 - 1.0;\n  ndc.z = depth * 2.0 - 1.0;\n  ndc.w = 1.0;\n\n  var worldCoords;\n  var frustum = scene.camera.frustum;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(frustum.fovy)) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(frustum._offCenterFrustum)) {\n      frustum = frustum._offCenterFrustum;\n    }\n    worldCoords = scratchWorldCoords;\n    worldCoords.x =\n      (ndc.x * (frustum.right - frustum.left) + frustum.left + frustum.right) *\n      0.5;\n    worldCoords.y =\n      (ndc.y * (frustum.top - frustum.bottom) + frustum.bottom + frustum.top) *\n      0.5;\n    worldCoords.z = (ndc.z * (near - far) - near - far) * 0.5;\n    worldCoords.w = 1.0;\n\n    worldCoords = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(\n      uniformState.inverseView,\n      worldCoords,\n      worldCoords\n    );\n  } else {\n    worldCoords = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(\n      uniformState.inverseViewProjection,\n      ndc,\n      scratchWorldCoords\n    );\n\n    // Reverse perspective divide\n    var w = 1.0 / worldCoords.w;\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(worldCoords, w, worldCoords);\n  }\n  return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromCartesian4 */ .Z.fromCartesian4(worldCoords, result);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (SceneTransforms);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgyNDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE2RDtBQUNkO0FBQ0E7QUFDQTtBQUNJO0FBQ1Y7QUFDYztBQUNkO0FBQ0E7QUFDd0I7QUFDa0I7QUFDcEM7QUFDUjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyxvRUFBVTtBQUMxQyxxQkFBcUIsb0VBQVU7QUFDL0IsMEJBQTBCLDJFQUFpQjs7QUFFM0MsOEJBQThCLG9FQUFVO0FBQ3hDLDhCQUE4QixvRUFBVTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsWUFBWTtBQUN2QixhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDhFQUFlO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsb0VBQVU7QUFDdEMsMkJBQTJCLG9FQUFVOztBQUVyQztBQUNBOztBQUVBLG1CQUFtQixtR0FBd0I7QUFDM0M7QUFDQSxJQUFJLDhGQUF1QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiwwR0FBNkI7QUFDaEQ7QUFDQSxJQUFJLHdGQUFvQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsbUdBQXdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLHNFQUFZLFVBQVUsc0ZBQXNCO0FBQzdFLG9DQUFvQyxvRUFBVTtBQUM5QyxnQ0FBZ0Msb0VBQVU7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxzRUFBTztBQUNkLGNBQWMsd0VBQWM7QUFDNUI7QUFDQSxPQUFPLHNFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sc0VBQU87QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMEJBQTBCLCtFQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLGdGQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsNkhBQXFDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUVBQU87QUFDakI7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiw4RkFBdUI7QUFDMUMsTUFBTSx3RUFBZTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkhBQXFDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLGdGQUFnQjtBQUN0Qjs7QUFFQSxlQUFlLGdGQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQiwrRUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNkVBQW1CO0FBQ3JELGtDQUFrQyxzRkFBNEI7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsWUFBWTtBQUN2QixhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxzRUFBTztBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0QkFBNEIsb0VBQVU7QUFDdEMsaUNBQWlDLHNFQUFZOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSwrRUFBaUI7QUFDaEMsV0FBVyxnRkFBZ0I7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sc0VBQU87QUFDZDtBQUNBOztBQUVBOztBQUVBLGVBQWUsMkZBQXVCO0FBQ3RDLFdBQVcsOEZBQXVCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLCtFQUFpQjtBQUNoQyxXQUFXLDhGQUF1QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsOEZBQXVCO0FBQ2hDLElBQUksd0VBQWU7QUFDbkIsSUFBSSx3RUFBZTtBQUNuQixJQUFJLHdFQUFlO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isb0VBQVU7QUFDaEMscUJBQXFCLG9FQUFVO0FBQy9CLDRCQUE0QixpRUFBTzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxrR0FBeUI7O0FBRTNCO0FBQ0EsRUFBRSw2SEFBcUM7QUFDdkMsRUFBRSxpR0FBdUI7O0FBRXpCLFNBQVMsa0dBQXlCO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhGQUF1QjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixvRUFBVTtBQUMvQiw2QkFBNkIsb0VBQVU7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVksZ0ZBQWdCLENBQUMsa0ZBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU8sc0VBQU87QUFDZCxRQUFRLHNFQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsbUdBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtCQUFrQixtR0FBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksc0dBQTJCO0FBQy9CO0FBQ0EsU0FBUyxrR0FBeUI7QUFDbEM7QUFDQSx5REFBZSxlQUFlLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvU2NlbmVUcmFuc2Zvcm1zLmpzP2EyM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvdW5kaW5nUmVjdGFuZ2xlIGZyb20gXCIuLi9Db3JlL0JvdW5kaW5nUmVjdGFuZ2xlLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuMiBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4yLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuNCBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW40LmpzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCIuLi9Db3JlL0NhcnRvZ3JhcGhpYy5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgQ2VzaXVtTWF0aCBmcm9tIFwiLi4vQ29yZS9NYXRoLmpzXCI7XG5pbXBvcnQgTWF0cml4NCBmcm9tIFwiLi4vQ29yZS9NYXRyaXg0LmpzXCI7XG5pbXBvcnQgT3J0aG9ncmFwaGljRnJ1c3R1bSBmcm9tIFwiLi4vQ29yZS9PcnRob2dyYXBoaWNGcnVzdHVtLmpzXCI7XG5pbXBvcnQgT3J0aG9ncmFwaGljT2ZmQ2VudGVyRnJ1c3R1bSBmcm9tIFwiLi4vQ29yZS9PcnRob2dyYXBoaWNPZmZDZW50ZXJGcnVzdHVtLmpzXCI7XG5pbXBvcnQgVHJhbnNmb3JtcyBmcm9tIFwiLi4vQ29yZS9UcmFuc2Zvcm1zLmpzXCI7XG5pbXBvcnQgU2NlbmVNb2RlIGZyb20gXCIuL1NjZW5lTW9kZS5qc1wiO1xuXG4vKipcbiAqIEZ1bmN0aW9ucyB0aGF0IGRvIHNjZW5lLWRlcGVuZGVudCB0cmFuc2Zvcm1zIGJldHdlZW4gcmVuZGVyaW5nLXJlbGF0ZWQgY29vcmRpbmF0ZSBzeXN0ZW1zLlxuICpcbiAqIEBuYW1lc3BhY2UgU2NlbmVUcmFuc2Zvcm1zXG4gKi9cbnZhciBTY2VuZVRyYW5zZm9ybXMgPSB7fTtcblxudmFyIGFjdHVhbFBvc2l0aW9uU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW40KDAsIDAsIDAsIDEpO1xudmFyIHBvc2l0aW9uQ0MgPSBuZXcgQ2FydGVzaWFuNCgpO1xudmFyIHNjcmF0Y2hWaWV3cG9ydCA9IG5ldyBCb3VuZGluZ1JlY3RhbmdsZSgpO1xuXG52YXIgc2NyYXRjaFdpbmRvd0Nvb3JkMCA9IG5ldyBDYXJ0ZXNpYW4yKCk7XG52YXIgc2NyYXRjaFdpbmRvd0Nvb3JkMSA9IG5ldyBDYXJ0ZXNpYW4yKCk7XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhIHBvc2l0aW9uIGluIFdHUzg0IGNvb3JkaW5hdGVzIHRvIHdpbmRvdyBjb29yZGluYXRlcy4gIFRoaXMgaXMgY29tbW9ubHkgdXNlZCB0byBwbGFjZSBhblxuICogSFRNTCBlbGVtZW50IGF0IHRoZSBzYW1lIHNjcmVlbiBwb3NpdGlvbiBhcyBhbiBvYmplY3QgaW4gdGhlIHNjZW5lLlxuICpcbiAqIEBwYXJhbSB7U2NlbmV9IHNjZW5lIFRoZSBzY2VuZS5cbiAqIEBwYXJhbSB7Q2FydGVzaWFuM30gcG9zaXRpb24gVGhlIHBvc2l0aW9uIGluIFdHUzg0ICh3b3JsZCkgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0NhcnRlc2lhbjJ9IFtyZXN1bHRdIEFuIG9wdGlvbmFsIG9iamVjdCB0byByZXR1cm4gdGhlIGlucHV0IHBvc2l0aW9uIHRyYW5zZm9ybWVkIHRvIHdpbmRvdyBjb29yZGluYXRlcy5cbiAqIEByZXR1cm5zIHtDYXJ0ZXNpYW4yfSBUaGUgbW9kaWZpZWQgcmVzdWx0IHBhcmFtZXRlciBvciBhIG5ldyBDYXJ0ZXNpYW4yIGluc3RhbmNlIGlmIG9uZSB3YXMgbm90IHByb3ZpZGVkLiAgVGhpcyBtYXkgYmUgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPiBpZiB0aGUgaW5wdXQgcG9zaXRpb24gaXMgbmVhciB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNvaWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIE91dHB1dCB0aGUgd2luZG93IHBvc2l0aW9uIG9mIGxvbmdpdHVkZS9sYXRpdHVkZSAoMCwgMCkgZXZlcnkgdGltZSB0aGUgbW91c2UgbW92ZXMuXG4gKiB2YXIgc2NlbmUgPSB3aWRnZXQuc2NlbmU7XG4gKiB2YXIgZWxsaXBzb2lkID0gc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xuICogdmFyIHBvc2l0aW9uID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoMC4wLCAwLjApO1xuICogdmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XG4gKiBoYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uKG1vdmVtZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coQ2VzaXVtLlNjZW5lVHJhbnNmb3Jtcy53Z3M4NFRvV2luZG93Q29vcmRpbmF0ZXMoc2NlbmUsIHBvc2l0aW9uKSk7XG4gKiB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG4gKi9cblNjZW5lVHJhbnNmb3Jtcy53Z3M4NFRvV2luZG93Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoc2NlbmUsIHBvc2l0aW9uLCByZXN1bHQpIHtcbiAgcmV0dXJuIFNjZW5lVHJhbnNmb3Jtcy53Z3M4NFdpdGhFeWVPZmZzZXRUb1dpbmRvd0Nvb3JkaW5hdGVzKFxuICAgIHNjZW5lLFxuICAgIHBvc2l0aW9uLFxuICAgIENhcnRlc2lhbjMuWkVSTyxcbiAgICByZXN1bHRcbiAgKTtcbn07XG5cbnZhciBzY3JhdGNoQ2FydGVzaWFuNCA9IG5ldyBDYXJ0ZXNpYW40KCk7XG52YXIgc2NyYXRjaEV5ZU9mZnNldCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG5cbmZ1bmN0aW9uIHdvcmxkVG9DbGlwKHBvc2l0aW9uLCBleWVPZmZzZXQsIGNhbWVyYSwgcmVzdWx0KSB7XG4gIHZhciB2aWV3TWF0cml4ID0gY2FtZXJhLnZpZXdNYXRyaXg7XG5cbiAgdmFyIHBvc2l0aW9uRUMgPSBNYXRyaXg0Lm11bHRpcGx5QnlWZWN0b3IoXG4gICAgdmlld01hdHJpeCxcbiAgICBDYXJ0ZXNpYW40LmZyb21FbGVtZW50cyhcbiAgICAgIHBvc2l0aW9uLngsXG4gICAgICBwb3NpdGlvbi55LFxuICAgICAgcG9zaXRpb24ueixcbiAgICAgIDEsXG4gICAgICBzY3JhdGNoQ2FydGVzaWFuNFxuICAgICksXG4gICAgc2NyYXRjaENhcnRlc2lhbjRcbiAgKTtcblxuICB2YXIgekV5ZU9mZnNldCA9IENhcnRlc2lhbjMubXVsdGlwbHlDb21wb25lbnRzKFxuICAgIGV5ZU9mZnNldCxcbiAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShwb3NpdGlvbkVDLCBzY3JhdGNoRXllT2Zmc2V0KSxcbiAgICBzY3JhdGNoRXllT2Zmc2V0XG4gICk7XG4gIHBvc2l0aW9uRUMueCArPSBleWVPZmZzZXQueCArIHpFeWVPZmZzZXQueDtcbiAgcG9zaXRpb25FQy55ICs9IGV5ZU9mZnNldC55ICsgekV5ZU9mZnNldC55O1xuICBwb3NpdGlvbkVDLnogKz0gekV5ZU9mZnNldC56O1xuXG4gIHJldHVybiBNYXRyaXg0Lm11bHRpcGx5QnlWZWN0b3IoXG4gICAgY2FtZXJhLmZydXN0dW0ucHJvamVjdGlvbk1hdHJpeCxcbiAgICBwb3NpdGlvbkVDLFxuICAgIHJlc3VsdFxuICApO1xufVxuXG52YXIgc2NyYXRjaE1heENhcnRvZ3JhcGhpYyA9IG5ldyBDYXJ0b2dyYXBoaWMoTWF0aC5QSSwgQ2VzaXVtTWF0aC5QSV9PVkVSX1RXTyk7XG52YXIgc2NyYXRjaFByb2plY3RlZENhcnRlc2lhbiA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENhbWVyYVBvc2l0aW9uID0gbmV3IENhcnRlc2lhbjMoKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5TY2VuZVRyYW5zZm9ybXMud2dzODRXaXRoRXllT2Zmc2V0VG9XaW5kb3dDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChcbiAgc2NlbmUsXG4gIHBvc2l0aW9uLFxuICBleWVPZmZzZXQsXG4gIHJlc3VsdFxuKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChzY2VuZSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJzY2VuZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgaWYgKCFkZWZpbmVkKHBvc2l0aW9uKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInBvc2l0aW9uIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAvLyBUcmFuc2Zvcm0gZm9yIDNELCAyRCwgb3IgQ29sdW1idXMgdmlld1xuICB2YXIgZnJhbWVTdGF0ZSA9IHNjZW5lLmZyYW1lU3RhdGU7XG4gIHZhciBhY3R1YWxQb3NpdGlvbiA9IFNjZW5lVHJhbnNmb3Jtcy5jb21wdXRlQWN0dWFsV2dzODRQb3NpdGlvbihcbiAgICBmcmFtZVN0YXRlLFxuICAgIHBvc2l0aW9uLFxuICAgIGFjdHVhbFBvc2l0aW9uU2NyYXRjaFxuICApO1xuXG4gIGlmICghZGVmaW5lZChhY3R1YWxQb3NpdGlvbikpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gQXNzdW1pbmcgdmlld3BvcnQgdGFrZXMgdXAgdGhlIGVudGlyZSBjYW52YXMuLi5cbiAgdmFyIGNhbnZhcyA9IHNjZW5lLmNhbnZhcztcbiAgdmFyIHZpZXdwb3J0ID0gc2NyYXRjaFZpZXdwb3J0O1xuICB2aWV3cG9ydC54ID0gMDtcbiAgdmlld3BvcnQueSA9IDA7XG4gIHZpZXdwb3J0LndpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuICB2aWV3cG9ydC5oZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXG4gIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmE7XG4gIHZhciBjYW1lcmFDZW50ZXJlZCA9IGZhbHNlO1xuXG4gIGlmIChmcmFtZVN0YXRlLm1vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTJEKSB7XG4gICAgdmFyIHByb2plY3Rpb24gPSBzY2VuZS5tYXBQcm9qZWN0aW9uO1xuICAgIHZhciBtYXhDYXJ0b2dyYXBoaWMgPSBzY3JhdGNoTWF4Q2FydG9ncmFwaGljO1xuICAgIHZhciBtYXhDb29yZCA9IHByb2plY3Rpb24ucHJvamVjdChcbiAgICAgIG1heENhcnRvZ3JhcGhpYyxcbiAgICAgIHNjcmF0Y2hQcm9qZWN0ZWRDYXJ0ZXNpYW5cbiAgICApO1xuXG4gICAgdmFyIGNhbWVyYVBvc2l0aW9uID0gQ2FydGVzaWFuMy5jbG9uZShcbiAgICAgIGNhbWVyYS5wb3NpdGlvbixcbiAgICAgIHNjcmF0Y2hDYW1lcmFQb3NpdGlvblxuICAgICk7XG4gICAgdmFyIGZydXN0dW0gPSBjYW1lcmEuZnJ1c3R1bS5jbG9uZSgpO1xuXG4gICAgdmFyIHZpZXdwb3J0VHJhbnNmb3JtYXRpb24gPSBNYXRyaXg0LmNvbXB1dGVWaWV3cG9ydFRyYW5zZm9ybWF0aW9uKFxuICAgICAgdmlld3BvcnQsXG4gICAgICAwLjAsXG4gICAgICAxLjAsXG4gICAgICBuZXcgTWF0cml4NCgpXG4gICAgKTtcbiAgICB2YXIgcHJvamVjdGlvbk1hdHJpeCA9IGNhbWVyYS5mcnVzdHVtLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICB2YXIgeCA9IGNhbWVyYS5wb3NpdGlvbldDLnk7XG4gICAgdmFyIGV5ZVBvaW50ID0gQ2FydGVzaWFuMy5mcm9tRWxlbWVudHMoXG4gICAgICBDZXNpdW1NYXRoLnNpZ24oeCkgKiBtYXhDb29yZC54IC0geCxcbiAgICAgIDAuMCxcbiAgICAgIC1jYW1lcmEucG9zaXRpb25XQy54XG4gICAgKTtcbiAgICB2YXIgd2luZG93Q29vcmRpbmF0ZXMgPSBUcmFuc2Zvcm1zLnBvaW50VG9HTFdpbmRvd0Nvb3JkaW5hdGVzKFxuICAgICAgcHJvamVjdGlvbk1hdHJpeCxcbiAgICAgIHZpZXdwb3J0VHJhbnNmb3JtYXRpb24sXG4gICAgICBleWVQb2ludFxuICAgICk7XG5cbiAgICBpZiAoXG4gICAgICB4ID09PSAwLjAgfHxcbiAgICAgIHdpbmRvd0Nvb3JkaW5hdGVzLnggPD0gMC4wIHx8XG4gICAgICB3aW5kb3dDb29yZGluYXRlcy54ID49IGNhbnZhcy5jbGllbnRXaWR0aFxuICAgICkge1xuICAgICAgY2FtZXJhQ2VudGVyZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAod2luZG93Q29vcmRpbmF0ZXMueCA+IGNhbnZhcy5jbGllbnRXaWR0aCAqIDAuNSkge1xuICAgICAgICB2aWV3cG9ydC53aWR0aCA9IHdpbmRvd0Nvb3JkaW5hdGVzLng7XG5cbiAgICAgICAgY2FtZXJhLmZydXN0dW0ucmlnaHQgPSBtYXhDb29yZC54IC0geDtcblxuICAgICAgICBwb3NpdGlvbkNDID0gd29ybGRUb0NsaXAoYWN0dWFsUG9zaXRpb24sIGV5ZU9mZnNldCwgY2FtZXJhLCBwb3NpdGlvbkNDKTtcbiAgICAgICAgU2NlbmVUcmFuc2Zvcm1zLmNsaXBUb0dMV2luZG93Q29vcmRpbmF0ZXMoXG4gICAgICAgICAgdmlld3BvcnQsXG4gICAgICAgICAgcG9zaXRpb25DQyxcbiAgICAgICAgICBzY3JhdGNoV2luZG93Q29vcmQwXG4gICAgICAgICk7XG5cbiAgICAgICAgdmlld3BvcnQueCArPSB3aW5kb3dDb29yZGluYXRlcy54O1xuXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gLWNhbWVyYS5wb3NpdGlvbi54O1xuXG4gICAgICAgIHZhciByaWdodCA9IGNhbWVyYS5mcnVzdHVtLnJpZ2h0O1xuICAgICAgICBjYW1lcmEuZnJ1c3R1bS5yaWdodCA9IC1jYW1lcmEuZnJ1c3R1bS5sZWZ0O1xuICAgICAgICBjYW1lcmEuZnJ1c3R1bS5sZWZ0ID0gLXJpZ2h0O1xuXG4gICAgICAgIHBvc2l0aW9uQ0MgPSB3b3JsZFRvQ2xpcChhY3R1YWxQb3NpdGlvbiwgZXllT2Zmc2V0LCBjYW1lcmEsIHBvc2l0aW9uQ0MpO1xuICAgICAgICBTY2VuZVRyYW5zZm9ybXMuY2xpcFRvR0xXaW5kb3dDb29yZGluYXRlcyhcbiAgICAgICAgICB2aWV3cG9ydCxcbiAgICAgICAgICBwb3NpdGlvbkNDLFxuICAgICAgICAgIHNjcmF0Y2hXaW5kb3dDb29yZDFcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXdwb3J0LnggKz0gd2luZG93Q29vcmRpbmF0ZXMueDtcbiAgICAgICAgdmlld3BvcnQud2lkdGggLT0gd2luZG93Q29vcmRpbmF0ZXMueDtcblxuICAgICAgICBjYW1lcmEuZnJ1c3R1bS5sZWZ0ID0gLW1heENvb3JkLnggLSB4O1xuXG4gICAgICAgIHBvc2l0aW9uQ0MgPSB3b3JsZFRvQ2xpcChhY3R1YWxQb3NpdGlvbiwgZXllT2Zmc2V0LCBjYW1lcmEsIHBvc2l0aW9uQ0MpO1xuICAgICAgICBTY2VuZVRyYW5zZm9ybXMuY2xpcFRvR0xXaW5kb3dDb29yZGluYXRlcyhcbiAgICAgICAgICB2aWV3cG9ydCxcbiAgICAgICAgICBwb3NpdGlvbkNDLFxuICAgICAgICAgIHNjcmF0Y2hXaW5kb3dDb29yZDBcbiAgICAgICAgKTtcblxuICAgICAgICB2aWV3cG9ydC54ID0gdmlld3BvcnQueCAtIHZpZXdwb3J0LndpZHRoO1xuXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gLWNhbWVyYS5wb3NpdGlvbi54O1xuXG4gICAgICAgIHZhciBsZWZ0ID0gY2FtZXJhLmZydXN0dW0ubGVmdDtcbiAgICAgICAgY2FtZXJhLmZydXN0dW0ubGVmdCA9IC1jYW1lcmEuZnJ1c3R1bS5yaWdodDtcbiAgICAgICAgY2FtZXJhLmZydXN0dW0ucmlnaHQgPSAtbGVmdDtcblxuICAgICAgICBwb3NpdGlvbkNDID0gd29ybGRUb0NsaXAoYWN0dWFsUG9zaXRpb24sIGV5ZU9mZnNldCwgY2FtZXJhLCBwb3NpdGlvbkNDKTtcbiAgICAgICAgU2NlbmVUcmFuc2Zvcm1zLmNsaXBUb0dMV2luZG93Q29vcmRpbmF0ZXMoXG4gICAgICAgICAgdmlld3BvcnQsXG4gICAgICAgICAgcG9zaXRpb25DQyxcbiAgICAgICAgICBzY3JhdGNoV2luZG93Q29vcmQxXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhUG9zaXRpb24sIGNhbWVyYS5wb3NpdGlvbik7XG4gICAgICBjYW1lcmEuZnJ1c3R1bSA9IGZydXN0dW0uY2xvbmUoKTtcblxuICAgICAgcmVzdWx0ID0gQ2FydGVzaWFuMi5jbG9uZShzY3JhdGNoV2luZG93Q29vcmQwLCByZXN1bHQpO1xuICAgICAgaWYgKHJlc3VsdC54IDwgMC4wIHx8IHJlc3VsdC54ID4gY2FudmFzLmNsaWVudFdpZHRoKSB7XG4gICAgICAgIHJlc3VsdC54ID0gc2NyYXRjaFdpbmRvd0Nvb3JkMS54O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChmcmFtZVN0YXRlLm1vZGUgIT09IFNjZW5lTW9kZS5TQ0VORTJEIHx8IGNhbWVyYUNlbnRlcmVkKSB7XG4gICAgLy8gVmlldy1wcm9qZWN0aW9uIG1hdHJpeCB0byB0cmFuc2Zvcm0gZnJvbSB3b3JsZCBjb29yZGluYXRlcyB0byBjbGlwIGNvb3JkaW5hdGVzXG4gICAgcG9zaXRpb25DQyA9IHdvcmxkVG9DbGlwKGFjdHVhbFBvc2l0aW9uLCBleWVPZmZzZXQsIGNhbWVyYSwgcG9zaXRpb25DQyk7XG4gICAgaWYgKFxuICAgICAgcG9zaXRpb25DQy56IDwgMCAmJlxuICAgICAgIShjYW1lcmEuZnJ1c3R1bSBpbnN0YW5jZW9mIE9ydGhvZ3JhcGhpY0ZydXN0dW0pICYmXG4gICAgICAhKGNhbWVyYS5mcnVzdHVtIGluc3RhbmNlb2YgT3J0aG9ncmFwaGljT2ZmQ2VudGVyRnJ1c3R1bSlcbiAgICApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmVzdWx0ID0gU2NlbmVUcmFuc2Zvcm1zLmNsaXBUb0dMV2luZG93Q29vcmRpbmF0ZXMoXG4gICAgICB2aWV3cG9ydCxcbiAgICAgIHBvc2l0aW9uQ0MsXG4gICAgICByZXN1bHRcbiAgICApO1xuICB9XG5cbiAgcmVzdWx0LnkgPSBjYW52YXMuY2xpZW50SGVpZ2h0IC0gcmVzdWx0Lnk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBwb3NpdGlvbiBpbiBXR1M4NCBjb29yZGluYXRlcyB0byBkcmF3aW5nIGJ1ZmZlciBjb29yZGluYXRlcy4gIFRoaXMgbWF5IHByb2R1Y2UgZGlmZmVyZW50XG4gKiByZXN1bHRzIGZyb20gU2NlbmVUcmFuc2Zvcm1zLndnczg0VG9XaW5kb3dDb29yZGluYXRlcyB3aGVuIHRoZSBicm93c2VyIHpvb20gaXMgbm90IDEwMCUsIG9yIG9uIGhpZ2gtRFBJIGRpc3BsYXlzLlxuICpcbiAqIEBwYXJhbSB7U2NlbmV9IHNjZW5lIFRoZSBzY2VuZS5cbiAqIEBwYXJhbSB7Q2FydGVzaWFuM30gcG9zaXRpb24gVGhlIHBvc2l0aW9uIGluIFdHUzg0ICh3b3JsZCkgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0NhcnRlc2lhbjJ9IFtyZXN1bHRdIEFuIG9wdGlvbmFsIG9iamVjdCB0byByZXR1cm4gdGhlIGlucHV0IHBvc2l0aW9uIHRyYW5zZm9ybWVkIHRvIHdpbmRvdyBjb29yZGluYXRlcy5cbiAqIEByZXR1cm5zIHtDYXJ0ZXNpYW4yfSBUaGUgbW9kaWZpZWQgcmVzdWx0IHBhcmFtZXRlciBvciBhIG5ldyBDYXJ0ZXNpYW4yIGluc3RhbmNlIGlmIG9uZSB3YXMgbm90IHByb3ZpZGVkLiAgVGhpcyBtYXkgYmUgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPiBpZiB0aGUgaW5wdXQgcG9zaXRpb24gaXMgbmVhciB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNvaWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIE91dHB1dCB0aGUgd2luZG93IHBvc2l0aW9uIG9mIGxvbmdpdHVkZS9sYXRpdHVkZSAoMCwgMCkgZXZlcnkgdGltZSB0aGUgbW91c2UgbW92ZXMuXG4gKiB2YXIgc2NlbmUgPSB3aWRnZXQuc2NlbmU7XG4gKiB2YXIgZWxsaXBzb2lkID0gc2NlbmUuZ2xvYmUuZWxsaXBzb2lkO1xuICogdmFyIHBvc2l0aW9uID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoMC4wLCAwLjApO1xuICogdmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHNjZW5lLmNhbnZhcyk7XG4gKiBoYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uKG1vdmVtZW50KSB7XG4gKiAgICAgY29uc29sZS5sb2coQ2VzaXVtLlNjZW5lVHJhbnNmb3Jtcy53Z3M4NFRvV2luZG93Q29vcmRpbmF0ZXMoc2NlbmUsIHBvc2l0aW9uKSk7XG4gKiB9LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTU9VU0VfTU9WRSk7XG4gKi9cblNjZW5lVHJhbnNmb3Jtcy53Z3M4NFRvRHJhd2luZ0J1ZmZlckNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKFxuICBzY2VuZSxcbiAgcG9zaXRpb24sXG4gIHJlc3VsdFxuKSB7XG4gIHJlc3VsdCA9IFNjZW5lVHJhbnNmb3Jtcy53Z3M4NFRvV2luZG93Q29vcmRpbmF0ZXMoc2NlbmUsIHBvc2l0aW9uLCByZXN1bHQpO1xuICBpZiAoIWRlZmluZWQocmVzdWx0KSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gU2NlbmVUcmFuc2Zvcm1zLnRyYW5zZm9ybVdpbmRvd1RvRHJhd2luZ0J1ZmZlcihzY2VuZSwgcmVzdWx0LCByZXN1bHQpO1xufTtcblxudmFyIHByb2plY3RlZFBvc2l0aW9uID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBwb3NpdGlvbkluQ2FydG9ncmFwaGljID0gbmV3IENhcnRvZ3JhcGhpYygpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblNjZW5lVHJhbnNmb3Jtcy5jb21wdXRlQWN0dWFsV2dzODRQb3NpdGlvbiA9IGZ1bmN0aW9uIChcbiAgZnJhbWVTdGF0ZSxcbiAgcG9zaXRpb24sXG4gIHJlc3VsdFxuKSB7XG4gIHZhciBtb2RlID0gZnJhbWVTdGF0ZS5tb2RlO1xuXG4gIGlmIChtb2RlID09PSBTY2VuZU1vZGUuU0NFTkUzRCkge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLmNsb25lKHBvc2l0aW9uLCByZXN1bHQpO1xuICB9XG5cbiAgdmFyIHByb2plY3Rpb24gPSBmcmFtZVN0YXRlLm1hcFByb2plY3Rpb247XG4gIHZhciBjYXJ0b2dyYXBoaWMgPSBwcm9qZWN0aW9uLmVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhcbiAgICBwb3NpdGlvbixcbiAgICBwb3NpdGlvbkluQ2FydG9ncmFwaGljXG4gICk7XG4gIGlmICghZGVmaW5lZChjYXJ0b2dyYXBoaWMpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByb2plY3Rpb24ucHJvamVjdChjYXJ0b2dyYXBoaWMsIHByb2plY3RlZFBvc2l0aW9uKTtcblxuICBpZiAobW9kZSA9PT0gU2NlbmVNb2RlLkNPTFVNQlVTX1ZJRVcpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMy5mcm9tRWxlbWVudHMoXG4gICAgICBwcm9qZWN0ZWRQb3NpdGlvbi56LFxuICAgICAgcHJvamVjdGVkUG9zaXRpb24ueCxcbiAgICAgIHByb2plY3RlZFBvc2l0aW9uLnksXG4gICAgICByZXN1bHRcbiAgICApO1xuICB9XG5cbiAgaWYgKG1vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTJEKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMuZnJvbUVsZW1lbnRzKFxuICAgICAgMC4wLFxuICAgICAgcHJvamVjdGVkUG9zaXRpb24ueCxcbiAgICAgIHByb2plY3RlZFBvc2l0aW9uLnksXG4gICAgICByZXN1bHRcbiAgICApO1xuICB9XG5cbiAgLy8gbW9kZSA9PT0gU2NlbmVNb2RlLk1PUlBISU5HXG4gIHZhciBtb3JwaFRpbWUgPSBmcmFtZVN0YXRlLm1vcnBoVGltZTtcbiAgcmV0dXJuIENhcnRlc2lhbjMuZnJvbUVsZW1lbnRzKFxuICAgIENlc2l1bU1hdGgubGVycChwcm9qZWN0ZWRQb3NpdGlvbi56LCBwb3NpdGlvbi54LCBtb3JwaFRpbWUpLFxuICAgIENlc2l1bU1hdGgubGVycChwcm9qZWN0ZWRQb3NpdGlvbi54LCBwb3NpdGlvbi55LCBtb3JwaFRpbWUpLFxuICAgIENlc2l1bU1hdGgubGVycChwcm9qZWN0ZWRQb3NpdGlvbi55LCBwb3NpdGlvbi56LCBtb3JwaFRpbWUpLFxuICAgIHJlc3VsdFxuICApO1xufTtcblxudmFyIHBvc2l0aW9uTkRDID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBwb3NpdGlvbldDID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciB2aWV3cG9ydFRyYW5zZm9ybSA9IG5ldyBNYXRyaXg0KCk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuU2NlbmVUcmFuc2Zvcm1zLmNsaXBUb0dMV2luZG93Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoXG4gIHZpZXdwb3J0LFxuICBwb3NpdGlvbixcbiAgcmVzdWx0XG4pIHtcbiAgLy8gUGVyc3BlY3RpdmUgZGl2aWRlIHRvIHRyYW5zZm9ybSBmcm9tIGNsaXAgY29vcmRpbmF0ZXMgdG8gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXNcbiAgQ2FydGVzaWFuMy5kaXZpZGVCeVNjYWxhcihwb3NpdGlvbiwgcG9zaXRpb24udywgcG9zaXRpb25OREMpO1xuXG4gIC8vIFZpZXdwb3J0IHRyYW5zZm9ybSB0byB0cmFuc2Zvcm0gZnJvbSBjbGlwIGNvb3JkaW5hdGVzIHRvIHdpbmRvdyBjb29yZGluYXRlc1xuICBNYXRyaXg0LmNvbXB1dGVWaWV3cG9ydFRyYW5zZm9ybWF0aW9uKHZpZXdwb3J0LCAwLjAsIDEuMCwgdmlld3BvcnRUcmFuc2Zvcm0pO1xuICBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludCh2aWV3cG9ydFRyYW5zZm9ybSwgcG9zaXRpb25OREMsIHBvc2l0aW9uV0MpO1xuXG4gIHJldHVybiBDYXJ0ZXNpYW4yLmZyb21DYXJ0ZXNpYW4zKHBvc2l0aW9uV0MsIHJlc3VsdCk7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblNjZW5lVHJhbnNmb3Jtcy50cmFuc2Zvcm1XaW5kb3dUb0RyYXdpbmdCdWZmZXIgPSBmdW5jdGlvbiAoXG4gIHNjZW5lLFxuICB3aW5kb3dQb3NpdGlvbixcbiAgcmVzdWx0XG4pIHtcbiAgdmFyIGNhbnZhcyA9IHNjZW5lLmNhbnZhcztcbiAgdmFyIHhTY2FsZSA9IHNjZW5lLmRyYXdpbmdCdWZmZXJXaWR0aCAvIGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgdmFyIHlTY2FsZSA9IHNjZW5lLmRyYXdpbmdCdWZmZXJIZWlnaHQgLyBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICByZXR1cm4gQ2FydGVzaWFuMi5mcm9tRWxlbWVudHMoXG4gICAgd2luZG93UG9zaXRpb24ueCAqIHhTY2FsZSxcbiAgICB3aW5kb3dQb3NpdGlvbi55ICogeVNjYWxlLFxuICAgIHJlc3VsdFxuICApO1xufTtcblxudmFyIHNjcmF0Y2hOREMgPSBuZXcgQ2FydGVzaWFuNCgpO1xudmFyIHNjcmF0Y2hXb3JsZENvb3JkcyA9IG5ldyBDYXJ0ZXNpYW40KCk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuU2NlbmVUcmFuc2Zvcm1zLmRyYXdpbmdCdWZmZXJUb1dnczg0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoXG4gIHNjZW5lLFxuICBkcmF3aW5nQnVmZmVyUG9zaXRpb24sXG4gIGRlcHRoLFxuICByZXN1bHRcbikge1xuICB2YXIgY29udGV4dCA9IHNjZW5lLmNvbnRleHQ7XG4gIHZhciB1bmlmb3JtU3RhdGUgPSBjb250ZXh0LnVuaWZvcm1TdGF0ZTtcblxuICB2YXIgY3VycmVudEZydXN0dW0gPSB1bmlmb3JtU3RhdGUuY3VycmVudEZydXN0dW07XG4gIHZhciBuZWFyID0gY3VycmVudEZydXN0dW0ueDtcbiAgdmFyIGZhciA9IGN1cnJlbnRGcnVzdHVtLnk7XG5cbiAgaWYgKHNjZW5lLmZyYW1lU3RhdGUudXNlTG9nRGVwdGgpIHtcbiAgICAvLyB0cmFuc2Zvcm1pbmcgbG9nYXJpdGhtaWMgZGVwdGggb2YgZm9ybVxuICAgIC8vIGxvZzIoeiArIDEpIC8gbG9nMiggZmFyICsgMSk7XG4gICAgLy8gdG8gcGVyc3BlY3RpdmUgZm9ybVxuICAgIC8vIChmYXIgLSBmYXIgKiBuZWFyIC8geikgLyAoZmFyIC0gbmVhcilcbiAgICB2YXIgbG9nMkRlcHRoID0gZGVwdGggKiB1bmlmb3JtU3RhdGUubG9nMkZhckRlcHRoRnJvbU5lYXJQbHVzT25lO1xuICAgIHZhciBkZXB0aEZyb21OZWFyID0gTWF0aC5wb3coMi4wLCBsb2cyRGVwdGgpIC0gMS4wO1xuICAgIGRlcHRoID0gKGZhciAqICgxLjAgLSBuZWFyIC8gKGRlcHRoRnJvbU5lYXIgKyBuZWFyKSkpIC8gKGZhciAtIG5lYXIpO1xuICB9XG5cbiAgdmFyIHZpZXdwb3J0ID0gc2NlbmUudmlldy5wYXNzU3RhdGUudmlld3BvcnQ7XG4gIHZhciBuZGMgPSBDYXJ0ZXNpYW40LmNsb25lKENhcnRlc2lhbjQuVU5JVF9XLCBzY3JhdGNoTkRDKTtcbiAgbmRjLnggPSAoKGRyYXdpbmdCdWZmZXJQb3NpdGlvbi54IC0gdmlld3BvcnQueCkgLyB2aWV3cG9ydC53aWR0aCkgKiAyLjAgLSAxLjA7XG4gIG5kYy55ID1cbiAgICAoKGRyYXdpbmdCdWZmZXJQb3NpdGlvbi55IC0gdmlld3BvcnQueSkgLyB2aWV3cG9ydC5oZWlnaHQpICogMi4wIC0gMS4wO1xuICBuZGMueiA9IGRlcHRoICogMi4wIC0gMS4wO1xuICBuZGMudyA9IDEuMDtcblxuICB2YXIgd29ybGRDb29yZHM7XG4gIHZhciBmcnVzdHVtID0gc2NlbmUuY2FtZXJhLmZydXN0dW07XG4gIGlmICghZGVmaW5lZChmcnVzdHVtLmZvdnkpKSB7XG4gICAgaWYgKGRlZmluZWQoZnJ1c3R1bS5fb2ZmQ2VudGVyRnJ1c3R1bSkpIHtcbiAgICAgIGZydXN0dW0gPSBmcnVzdHVtLl9vZmZDZW50ZXJGcnVzdHVtO1xuICAgIH1cbiAgICB3b3JsZENvb3JkcyA9IHNjcmF0Y2hXb3JsZENvb3JkcztcbiAgICB3b3JsZENvb3Jkcy54ID1cbiAgICAgIChuZGMueCAqIChmcnVzdHVtLnJpZ2h0IC0gZnJ1c3R1bS5sZWZ0KSArIGZydXN0dW0ubGVmdCArIGZydXN0dW0ucmlnaHQpICpcbiAgICAgIDAuNTtcbiAgICB3b3JsZENvb3Jkcy55ID1cbiAgICAgIChuZGMueSAqIChmcnVzdHVtLnRvcCAtIGZydXN0dW0uYm90dG9tKSArIGZydXN0dW0uYm90dG9tICsgZnJ1c3R1bS50b3ApICpcbiAgICAgIDAuNTtcbiAgICB3b3JsZENvb3Jkcy56ID0gKG5kYy56ICogKG5lYXIgLSBmYXIpIC0gbmVhciAtIGZhcikgKiAwLjU7XG4gICAgd29ybGRDb29yZHMudyA9IDEuMDtcblxuICAgIHdvcmxkQ29vcmRzID0gTWF0cml4NC5tdWx0aXBseUJ5VmVjdG9yKFxuICAgICAgdW5pZm9ybVN0YXRlLmludmVyc2VWaWV3LFxuICAgICAgd29ybGRDb29yZHMsXG4gICAgICB3b3JsZENvb3Jkc1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgd29ybGRDb29yZHMgPSBNYXRyaXg0Lm11bHRpcGx5QnlWZWN0b3IoXG4gICAgICB1bmlmb3JtU3RhdGUuaW52ZXJzZVZpZXdQcm9qZWN0aW9uLFxuICAgICAgbmRjLFxuICAgICAgc2NyYXRjaFdvcmxkQ29vcmRzXG4gICAgKTtcblxuICAgIC8vIFJldmVyc2UgcGVyc3BlY3RpdmUgZGl2aWRlXG4gICAgdmFyIHcgPSAxLjAgLyB3b3JsZENvb3Jkcy53O1xuICAgIENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcih3b3JsZENvb3Jkcywgdywgd29ybGRDb29yZHMpO1xuICB9XG4gIHJldHVybiBDYXJ0ZXNpYW4zLmZyb21DYXJ0ZXNpYW40KHdvcmxkQ29vcmRzLCByZXN1bHQpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFNjZW5lVHJhbnNmb3JtcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48244\n')},72984:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51688);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(86511);\n/* harmony import */ var _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(50732);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72248);\n/* harmony import */ var _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(91473);\n/* harmony import */ var _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(35131);\n/* harmony import */ var _Core_PerspectiveFrustum_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(66854);\n/* harmony import */ var _Core_Ray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(68457);\n/* harmony import */ var _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(20406);\n/* harmony import */ var _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(35452);\n/* harmony import */ var _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(95555);\n/* harmony import */ var _Camera_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(70561);\n/* harmony import */ var _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(89917);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @private\n */\nfunction SceneTransitioner(scene) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.object */ .Z.typeOf.object("scene", scene);\n  //>>includeEnd(\'debug\');\n\n  this._scene = scene;\n  this._currentTweens = [];\n  this._morphHandler = undefined;\n  this._morphCancelled = false;\n  this._completeMorph = undefined;\n  this._morphToOrthographic = false;\n}\n\nSceneTransitioner.prototype.completeMorph = function () {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n};\n\nSceneTransitioner.prototype.morphTo2D = function (duration, ellipsoid) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n\n  var scene = this._scene;\n  this._previousMode = scene.mode;\n  this._morphToOrthographic =\n    scene.camera.frustum instanceof _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z;\n\n  if (\n    this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D ||\n    this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING\n  ) {\n    return;\n  }\n  this._scene.morphStart.raiseEvent(\n    this,\n    this._previousMode,\n    _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D,\n    true\n  );\n\n  scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING;\n  scene.camera._setTransform(_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].IDENTITY */ .Z.IDENTITY);\n\n  if (this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW) {\n    morphFromColumbusViewTo2D(this, duration);\n  } else {\n    morphFrom3DTo2D(this, duration, ellipsoid);\n  }\n\n  if (duration === 0.0 && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n};\n\nvar scratchToCVPosition = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVDirection = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVPosition2D = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVDirection2D = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVUp2D = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVSurfacePosition = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchToCVCartographic = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchToCVToENU = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z();\nvar scratchToCVFrustumPerspective = new _Core_PerspectiveFrustum_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\nvar scratchToCVFrustumOrthographic = new _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\nvar scratchToCVCamera = {\n  position: undefined,\n  direction: undefined,\n  up: undefined,\n  position2D: undefined,\n  direction2D: undefined,\n  up2D: undefined,\n  frustum: undefined,\n};\n\nSceneTransitioner.prototype.morphToColumbusView = function (\n  duration,\n  ellipsoid\n) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n\n  var scene = this._scene;\n  this._previousMode = scene.mode;\n\n  if (\n    this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW ||\n    this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING\n  ) {\n    return;\n  }\n  this._scene.morphStart.raiseEvent(\n    this,\n    this._previousMode,\n    _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW,\n    true\n  );\n\n  scene.camera._setTransform(_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].IDENTITY */ .Z.IDENTITY);\n\n  var position = scratchToCVPosition;\n  var direction = scratchToCVDirection;\n  var up = scratchToCVUp;\n\n  if (duration > 0.0) {\n    position.x = 0.0;\n    position.y = -1.0;\n    position.z = 1.0;\n    position = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(position, position),\n      5.0 * ellipsoid.maximumRadius,\n      position\n    );\n\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(position, direction), direction);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_X */ .Z.UNIT_X, direction, up);\n  } else {\n    var camera = scene.camera;\n    if (this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.position, position);\n      position.z = camera.frustum.right - camera.frustum.left;\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z, direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Y */ .Z.UNIT_Y, up);\n    } else {\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.positionWC, position);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.directionWC, direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.upWC, up);\n\n      var surfacePoint = ellipsoid.scaleToGeodeticSurface(\n        position,\n        scratchToCVSurfacePosition\n      );\n      var toENU = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].eastNorthUpToFixedFrame */ .Z.eastNorthUpToFixedFrame(\n        surfacePoint,\n        ellipsoid,\n        scratchToCVToENU\n      );\n      _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].inverseTransformation */ .Z.inverseTransformation(toENU, toENU);\n\n      scene.mapProjection.project(\n        ellipsoid.cartesianToCartographic(position, scratchToCVCartographic),\n        position\n      );\n      _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(toENU, direction, direction);\n      _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(toENU, up, up);\n    }\n  }\n\n  var frustum;\n  if (this._morphToOrthographic) {\n    frustum = scratchToCVFrustumOrthographic;\n    frustum.width = scene.camera.frustum.right - scene.camera.frustum.left;\n    frustum.aspectRatio = scene.drawingBufferWidth / scene.drawingBufferHeight;\n  } else {\n    frustum = scratchToCVFrustumPerspective;\n    frustum.aspectRatio = scene.drawingBufferWidth / scene.drawingBufferHeight;\n    frustum.fov = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].toRadians */ .Z.toRadians(60.0);\n  }\n\n  var cameraCV = scratchToCVCamera;\n  cameraCV.position = position;\n  cameraCV.direction = direction;\n  cameraCV.up = up;\n  cameraCV.frustum = frustum;\n\n  var complete = completeColumbusViewCallback(cameraCV);\n  createMorphHandler(this, complete);\n\n  if (this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n    morphFrom2DToColumbusView(this, duration, cameraCV, complete);\n  } else {\n    cameraCV.position2D = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(\n      _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n      position,\n      scratchToCVPosition2D\n    );\n    cameraCV.direction2D = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n      _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n      direction,\n      scratchToCVDirection2D\n    );\n    cameraCV.up2D = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n      _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n      up,\n      scratchToCVUp2D\n    );\n\n    scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING;\n    morphFrom3DToColumbusView(this, duration, cameraCV, complete);\n  }\n\n  if (duration === 0.0 && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n};\n\nvar scratchCVTo3DCamera = {\n  position: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  direction: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  up: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  frustum: undefined,\n};\nvar scratch2DTo3DFrustumPersp = new _Core_PerspectiveFrustum_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\n\nSceneTransitioner.prototype.morphTo3D = function (duration, ellipsoid) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n\n  var scene = this._scene;\n  this._previousMode = scene.mode;\n\n  if (\n    this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D ||\n    this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING\n  ) {\n    return;\n  }\n  this._scene.morphStart.raiseEvent(\n    this,\n    this._previousMode,\n    _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D,\n    true\n  );\n\n  scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING;\n  scene.camera._setTransform(_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].IDENTITY */ .Z.IDENTITY);\n\n  if (this._previousMode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n    morphFrom2DTo3D(this, duration, ellipsoid);\n  } else {\n    var camera3D;\n    if (duration > 0.0) {\n      camera3D = scratchCVTo3DCamera;\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromDegrees */ .Z.fromDegrees(\n        0.0,\n        0.0,\n        5.0 * ellipsoid.maximumRadius,\n        ellipsoid,\n        camera3D.position\n      );\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(camera3D.position, camera3D.direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera3D.direction, camera3D.direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z, camera3D.up);\n    } else {\n      camera3D = getColumbusViewTo3DCamera(this, ellipsoid);\n    }\n\n    var frustum;\n    var camera = scene.camera;\n    if (camera.frustum instanceof _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z) {\n      frustum = camera.frustum.clone();\n    } else {\n      frustum = scratch2DTo3DFrustumPersp;\n      frustum.aspectRatio =\n        scene.drawingBufferWidth / scene.drawingBufferHeight;\n      frustum.fov = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].toRadians */ .Z.toRadians(60.0);\n    }\n    camera3D.frustum = frustum;\n\n    var complete = complete3DCallback(camera3D);\n    createMorphHandler(this, complete);\n\n    morphFromColumbusViewTo3D(this, duration, camera3D, complete);\n  }\n\n  if (duration === 0.0 && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._completeMorph)) {\n    this._completeMorph();\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n */\nSceneTransitioner.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * transitioner = transitioner && transitioner.destroy();\n */\nSceneTransitioner.prototype.destroy = function () {\n  destroyMorphHandler(this);\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this);\n};\n\nfunction createMorphHandler(transitioner, completeMorphFunction) {\n  if (transitioner._scene.completeMorphOnUserInput) {\n    transitioner._morphHandler = new _Core_ScreenSpaceEventHandler_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z(\n      transitioner._scene.canvas\n    );\n\n    var completeMorph = function () {\n      transitioner._morphCancelled = true;\n      transitioner._scene.camera.cancelFlight();\n      completeMorphFunction(transitioner);\n    };\n    transitioner._completeMorph = completeMorph;\n    transitioner._morphHandler.setInputAction(\n      completeMorph,\n      _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].LEFT_DOWN */ .Z.LEFT_DOWN\n    );\n    transitioner._morphHandler.setInputAction(\n      completeMorph,\n      _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].MIDDLE_DOWN */ .Z.MIDDLE_DOWN\n    );\n    transitioner._morphHandler.setInputAction(\n      completeMorph,\n      _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].RIGHT_DOWN */ .Z.RIGHT_DOWN\n    );\n    transitioner._morphHandler.setInputAction(\n      completeMorph,\n      _Core_ScreenSpaceEventType_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].WHEEL */ .Z.WHEEL\n    );\n  }\n}\n\nfunction destroyMorphHandler(transitioner) {\n  var tweens = transitioner._currentTweens;\n  for (var i = 0; i < tweens.length; ++i) {\n    tweens[i].cancelTween();\n  }\n  transitioner._currentTweens.length = 0;\n  transitioner._morphHandler =\n    transitioner._morphHandler && transitioner._morphHandler.destroy();\n}\n\nvar scratchCVTo3DCartographic = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchCVTo3DSurfacePoint = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo3DFromENU = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z();\n\nfunction getColumbusViewTo3DCamera(transitioner, ellipsoid) {\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var camera3D = scratchCVTo3DCamera;\n  var position = camera3D.position;\n  var direction = camera3D.direction;\n  var up = camera3D.up;\n\n  var positionCarto = scene.mapProjection.unproject(\n    camera.position,\n    scratchCVTo3DCartographic\n  );\n  ellipsoid.cartographicToCartesian(positionCarto, position);\n  var surfacePoint = ellipsoid.scaleToGeodeticSurface(\n    position,\n    scratchCVTo3DSurfacePoint\n  );\n\n  var fromENU = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].eastNorthUpToFixedFrame */ .Z.eastNorthUpToFixedFrame(\n    surfacePoint,\n    ellipsoid,\n    scratchCVTo3DFromENU\n  );\n\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(fromENU, camera.direction, direction);\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(fromENU, camera.up, up);\n\n  return camera3D;\n}\n\nvar scratchCVTo3DStartPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo3DStartDir = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo3DStartUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo3DEndPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo3DEndDir = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo3DEndUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\nfunction morphFromColumbusViewTo3D(\n  transitioner,\n  duration,\n  endCamera,\n  complete\n) {\n  duration *= 0.5;\n\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var startPos = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.position, scratchCVTo3DStartPos);\n  var startDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.direction, scratchCVTo3DStartDir);\n  var startUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.up, scratchCVTo3DStartUp);\n\n  var endPos = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D_INVERSE */ .Z.TRANSFORM_2D_INVERSE,\n    endCamera.position,\n    scratchCVTo3DEndPos\n  );\n  var endDir = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D_INVERSE */ .Z.TRANSFORM_2D_INVERSE,\n    endCamera.direction,\n    scratchCVTo3DEndDir\n  );\n  var endUp = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D_INVERSE */ .Z.TRANSFORM_2D_INVERSE,\n    endCamera.up,\n    scratchCVTo3DEndUp\n  );\n\n  function update(value) {\n    columbusViewMorph(startPos, endPos, value.time, camera.position);\n    columbusViewMorph(startDir, endDir, value.time, camera.direction);\n    columbusViewMorph(startUp, endUp, value.time, camera.up);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n  }\n\n  var tween = scene.tweens.add({\n    duration: duration,\n    easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n    startObject: {\n      time: 0.0,\n    },\n    stopObject: {\n      time: 1.0,\n    },\n    update: update,\n    complete: function () {\n      addMorphTimeAnimations(transitioner, scene, 0.0, 1.0, duration, complete);\n    },\n  });\n  transitioner._currentTweens.push(tween);\n}\n\nvar scratch2DTo3DFrustumOrtho = new _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\nvar scratch3DToCVStartPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratch3DToCVStartDir = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratch3DToCVStartUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratch3DToCVEndPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratch3DToCVEndDir = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratch3DToCVEndUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\nfunction morphFrom2DTo3D(transitioner, duration, ellipsoid) {\n  duration /= 3.0;\n\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var camera3D;\n  if (duration > 0.0) {\n    camera3D = scratchCVTo3DCamera;\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromDegrees */ .Z.fromDegrees(\n      0.0,\n      0.0,\n      5.0 * ellipsoid.maximumRadius,\n      ellipsoid,\n      camera3D.position\n    );\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(camera3D.position, camera3D.direction);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera3D.direction, camera3D.direction);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z, camera3D.up);\n  } else {\n    camera.position.z = camera.frustum.right - camera.frustum.left;\n\n    camera3D = getColumbusViewTo3DCamera(transitioner, ellipsoid);\n  }\n\n  var frustum;\n  if (transitioner._morphToOrthographic) {\n    frustum = scratch2DTo3DFrustumOrtho;\n    frustum.aspectRatio = scene.drawingBufferWidth / scene.drawingBufferHeight;\n    frustum.width = camera.frustum.right - camera.frustum.left;\n  } else {\n    frustum = scratch2DTo3DFrustumPersp;\n    frustum.aspectRatio = scene.drawingBufferWidth / scene.drawingBufferHeight;\n    frustum.fov = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].toRadians */ .Z.toRadians(60.0);\n  }\n\n  camera3D.frustum = frustum;\n\n  var complete = complete3DCallback(camera3D);\n  createMorphHandler(transitioner, complete);\n\n  var morph;\n  if (transitioner._morphToOrthographic) {\n    morph = function () {\n      morphFromColumbusViewTo3D(transitioner, duration, camera3D, complete);\n    };\n  } else {\n    morph = function () {\n      morphOrthographicToPerspective(\n        transitioner,\n        duration,\n        camera3D,\n        function () {\n          morphFromColumbusViewTo3D(transitioner, duration, camera3D, complete);\n        }\n      );\n    };\n  }\n\n  if (duration > 0.0) {\n    scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D;\n    camera.flyTo({\n      duration: duration,\n      destination: _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromDegrees */ .Z.fromDegrees(\n        0.0,\n        0.0,\n        5.0 * ellipsoid.maximumRadius,\n        ellipsoid,\n        scratch3DToCVEndPos\n      ),\n      complete: function () {\n        scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING;\n        morph();\n      },\n    });\n  } else {\n    morph();\n  }\n}\n\nfunction columbusViewMorph(startPosition, endPosition, time, result) {\n  // Just linear for now.\n  return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].lerp */ .Z.lerp(startPosition, endPosition, time, result);\n}\n\nfunction morphPerspectiveToOrthographic(\n  transitioner,\n  duration,\n  endCamera,\n  updateHeight,\n  complete\n) {\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  if (camera.frustum instanceof _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z) {\n    return;\n  }\n\n  var startFOV = camera.frustum.fov;\n  var endFOV = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].RADIANS_PER_DEGREE */ .Z.RADIANS_PER_DEGREE * 0.5;\n  var d = endCamera.position.z * Math.tan(startFOV * 0.5);\n  camera.frustum.far = d / Math.tan(endFOV * 0.5) + 10000000.0;\n\n  function update(value) {\n    camera.frustum.fov = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].lerp */ .Z.lerp(startFOV, endFOV, value.time);\n    var height = d / Math.tan(camera.frustum.fov * 0.5);\n    updateHeight(camera, height);\n  }\n  var tween = scene.tweens.add({\n    duration: duration,\n    easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n    startObject: {\n      time: 0.0,\n    },\n    stopObject: {\n      time: 1.0,\n    },\n    update: update,\n    complete: function () {\n      camera.frustum = endCamera.frustum.clone();\n      complete(transitioner);\n    },\n  });\n  transitioner._currentTweens.push(tween);\n}\n\nvar scratchCVTo2DStartPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DStartDir = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DStartUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DEndPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DEndDir = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DEndUp = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DFrustum = new _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z();\nvar scratchCVTo2DRay = new _Core_Ray_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z();\nvar scratchCVTo2DPickPos = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchCVTo2DCamera = {\n  position: undefined,\n  direction: undefined,\n  up: undefined,\n  frustum: undefined,\n};\n\nfunction morphFromColumbusViewTo2D(transitioner, duration) {\n  duration *= 0.5;\n\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var startPos = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.position, scratchCVTo2DStartPos);\n  var startDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.direction, scratchCVTo2DStartDir);\n  var startUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.up, scratchCVTo2DStartUp);\n\n  var endDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z, scratchCVTo2DEndDir);\n  var endUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Y */ .Z.UNIT_Y, scratchCVTo2DEndUp);\n\n  var endPos = scratchCVTo2DEndPos;\n\n  if (duration > 0.0) {\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO, scratchCVTo2DEndPos);\n    endPos.z = 5.0 * scene.mapProjection.ellipsoid.maximumRadius;\n  } else {\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(startPos, scratchCVTo2DEndPos);\n\n    var ray = scratchCVTo2DRay;\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(_Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D, startPos, ray.origin);\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n      _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n      startDir,\n      ray.direction\n    );\n\n    var globe = scene.globe;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(globe)) {\n      var pickPos = globe.pickWorldCoordinates(\n        ray,\n        scene,\n        true,\n        scratchCVTo2DPickPos\n      );\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(pickPos)) {\n        _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(_Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D_INVERSE */ .Z.TRANSFORM_2D_INVERSE, pickPos, endPos);\n        endPos.z += _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(startPos, endPos);\n      }\n    }\n  }\n\n  var frustum = scratchCVTo2DFrustum;\n  frustum.right = endPos.z * 0.5;\n  frustum.left = -frustum.right;\n  frustum.top =\n    frustum.right * (scene.drawingBufferHeight / scene.drawingBufferWidth);\n  frustum.bottom = -frustum.top;\n\n  var camera2D = scratchCVTo2DCamera;\n  camera2D.position = endPos;\n  camera2D.direction = endDir;\n  camera2D.up = endUp;\n  camera2D.frustum = frustum;\n\n  var complete = complete2DCallback(camera2D);\n  createMorphHandler(transitioner, complete);\n\n  function updateCV(value) {\n    columbusViewMorph(startPos, endPos, value.time, camera.position);\n    columbusViewMorph(startDir, endDir, value.time, camera.direction);\n    columbusViewMorph(startUp, endUp, value.time, camera.up);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n    camera._adjustOrthographicFrustum(true);\n  }\n\n  function updateHeight(camera, height) {\n    camera.position.z = height;\n  }\n\n  var tween = scene.tweens.add({\n    duration: duration,\n    easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n    startObject: {\n      time: 0.0,\n    },\n    stopObject: {\n      time: 1.0,\n    },\n    update: updateCV,\n    complete: function () {\n      morphPerspectiveToOrthographic(\n        transitioner,\n        duration,\n        camera2D,\n        updateHeight,\n        complete\n      );\n    },\n  });\n  transitioner._currentTweens.push(tween);\n}\n\nvar scratch3DTo2DCartographic = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratch3DTo2DCamera = {\n  position: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  direction: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  up: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  position2D: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  direction2D: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  up2D: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  frustum: new _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(),\n};\nvar scratch3DTo2DEndCamera = {\n  position: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  direction: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  up: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  frustum: undefined,\n};\nvar scratch3DTo2DPickPosition = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratch3DTo2DRay = new _Core_Ray_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z();\nvar scratch3DTo2DToENU = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z();\nvar scratch3DTo2DSurfacePoint = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\nfunction morphFrom3DTo2D(transitioner, duration, ellipsoid) {\n  duration *= 0.5;\n\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n  var camera2D = scratch3DTo2DCamera;\n\n  if (duration > 0.0) {\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO, camera2D.position);\n    camera2D.position.z = 5.0 * ellipsoid.maximumRadius;\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z, camera2D.direction);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Y */ .Z.UNIT_Y, camera2D.up);\n  } else {\n    ellipsoid.cartesianToCartographic(\n      camera.positionWC,\n      scratch3DTo2DCartographic\n    );\n    scene.mapProjection.project(scratch3DTo2DCartographic, camera2D.position);\n\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z, camera2D.direction);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Y */ .Z.UNIT_Y, camera2D.up);\n\n    var ray = scratch3DTo2DRay;\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera2D.position2D, ray.origin);\n    var rayDirection = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.directionWC, ray.direction);\n    var surfacePoint = ellipsoid.scaleToGeodeticSurface(\n      camera.positionWC,\n      scratch3DTo2DSurfacePoint\n    );\n    var toENU = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].eastNorthUpToFixedFrame */ .Z.eastNorthUpToFixedFrame(\n      surfacePoint,\n      ellipsoid,\n      scratch3DTo2DToENU\n    );\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].inverseTransformation */ .Z.inverseTransformation(toENU, toENU);\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(toENU, rayDirection, rayDirection);\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n      _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n      rayDirection,\n      rayDirection\n    );\n\n    var globe = scene.globe;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(globe)) {\n      var pickedPos = globe.pickWorldCoordinates(\n        ray,\n        scene,\n        true,\n        scratch3DTo2DPickPosition\n      );\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(pickedPos)) {\n        var height = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(camera2D.position2D, pickedPos);\n        pickedPos.x += height;\n        _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(pickedPos, camera2D.position2D);\n      }\n    }\n  }\n\n  function updateHeight(camera, height) {\n    camera.position.x = height;\n  }\n\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n    camera2D.position,\n    camera2D.position2D\n  );\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n    camera2D.direction,\n    camera2D.direction2D\n  );\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPointAsVector */ .Z.multiplyByPointAsVector(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D */ .Z.TRANSFORM_2D,\n    camera2D.up,\n    camera2D.up2D\n  );\n\n  var frustum = camera2D.frustum;\n  frustum.right = camera2D.position.z * 0.5;\n  frustum.left = -frustum.right;\n  frustum.top =\n    frustum.right * (scene.drawingBufferHeight / scene.drawingBufferWidth);\n  frustum.bottom = -frustum.top;\n\n  var endCamera = scratch3DTo2DEndCamera;\n  _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByPoint */ .Z.multiplyByPoint(\n    _Camera_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].TRANSFORM_2D_INVERSE */ .Z.TRANSFORM_2D_INVERSE,\n    camera2D.position2D,\n    endCamera.position\n  );\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera2D.direction, endCamera.direction);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera2D.up, endCamera.up);\n  endCamera.frustum = frustum;\n\n  var complete = complete2DCallback(endCamera);\n  createMorphHandler(transitioner, complete);\n\n  function completeCallback() {\n    morphPerspectiveToOrthographic(\n      transitioner,\n      duration,\n      camera2D,\n      updateHeight,\n      complete\n    );\n  }\n  morphFrom3DToColumbusView(transitioner, duration, camera2D, completeCallback);\n}\n\nfunction morphOrthographicToPerspective(\n  transitioner,\n  duration,\n  cameraCV,\n  complete\n) {\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var height = camera.frustum.right - camera.frustum.left;\n  camera.frustum = cameraCV.frustum.clone();\n\n  var endFOV = camera.frustum.fov;\n  var startFOV = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].RADIANS_PER_DEGREE */ .Z.RADIANS_PER_DEGREE * 0.5;\n  var d = height * Math.tan(endFOV * 0.5);\n  camera.frustum.far = d / Math.tan(startFOV * 0.5) + 10000000.0;\n  camera.frustum.fov = startFOV;\n\n  function update(value) {\n    camera.frustum.fov = _Core_Math_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].lerp */ .Z.lerp(startFOV, endFOV, value.time);\n    camera.position.z = d / Math.tan(camera.frustum.fov * 0.5);\n  }\n  var tween = scene.tweens.add({\n    duration: duration,\n    easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n    startObject: {\n      time: 0.0,\n    },\n    stopObject: {\n      time: 1.0,\n    },\n    update: update,\n    complete: function () {\n      complete(transitioner);\n    },\n  });\n  transitioner._currentTweens.push(tween);\n}\n\nfunction morphFrom2DToColumbusView(transitioner, duration, cameraCV, complete) {\n  duration *= 0.5;\n\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var endPos = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(cameraCV.position, scratch3DToCVEndPos);\n  var endDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(cameraCV.direction, scratch3DToCVEndDir);\n  var endUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(cameraCV.up, scratch3DToCVEndUp);\n\n  scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING;\n\n  function morph() {\n    camera.frustum = cameraCV.frustum.clone();\n\n    var startPos = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.position, scratch3DToCVStartPos);\n    var startDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.direction, scratch3DToCVStartDir);\n    var startUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.up, scratch3DToCVStartUp);\n    startPos.z = endPos.z;\n\n    function update(value) {\n      columbusViewMorph(startPos, endPos, value.time, camera.position);\n      columbusViewMorph(startDir, endDir, value.time, camera.direction);\n      columbusViewMorph(startUp, endUp, value.time, camera.up);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n    }\n    var tween = scene.tweens.add({\n      duration: duration,\n      easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n      startObject: {\n        time: 0.0,\n      },\n      stopObject: {\n        time: 1.0,\n      },\n      update: update,\n      complete: function () {\n        complete(transitioner);\n      },\n    });\n    transitioner._currentTweens.push(tween);\n  }\n\n  if (transitioner._morphToOrthographic) {\n    morph();\n  } else {\n    morphOrthographicToPerspective(transitioner, 0.0, cameraCV, morph);\n  }\n}\n\nfunction morphFrom3DToColumbusView(\n  transitioner,\n  duration,\n  endCamera,\n  complete\n) {\n  var scene = transitioner._scene;\n  var camera = scene.camera;\n\n  var startPos = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.position, scratch3DToCVStartPos);\n  var startDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.direction, scratch3DToCVStartDir);\n  var startUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.up, scratch3DToCVStartUp);\n\n  var endPos = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(endCamera.position2D, scratch3DToCVEndPos);\n  var endDir = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(endCamera.direction2D, scratch3DToCVEndDir);\n  var endUp = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(endCamera.up2D, scratch3DToCVEndUp);\n\n  function update(value) {\n    columbusViewMorph(startPos, endPos, value.time, camera.position);\n    columbusViewMorph(startDir, endDir, value.time, camera.direction);\n    columbusViewMorph(startUp, endUp, value.time, camera.up);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n    camera._adjustOrthographicFrustum(true);\n  }\n  var tween = scene.tweens.add({\n    duration: duration,\n    easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n    startObject: {\n      time: 0.0,\n    },\n    stopObject: {\n      time: 1.0,\n    },\n    update: update,\n    complete: function () {\n      addMorphTimeAnimations(transitioner, scene, 1.0, 0.0, duration, complete);\n    },\n  });\n  transitioner._currentTweens.push(tween);\n}\n\nfunction addMorphTimeAnimations(\n  transitioner,\n  scene,\n  start,\n  stop,\n  duration,\n  complete\n) {\n  // Later, this will be linear and each object will adjust, if desired, in its vertex shader.\n  var options = {\n    object: scene,\n    property: "morphTime",\n    startValue: start,\n    stopValue: stop,\n    duration: duration,\n    easingFunction: _Core_EasingFunction_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].QUARTIC_OUT */ .Z.QUARTIC_OUT,\n  };\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(complete)) {\n    options.complete = function () {\n      complete(transitioner);\n    };\n  }\n\n  var tween = scene.tweens.addProperty(options);\n  transitioner._currentTweens.push(tween);\n}\n\nfunction complete3DCallback(camera3D) {\n  return function (transitioner) {\n    var scene = transitioner._scene;\n    scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D;\n    scene.morphTime = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].getMorphTime */ .Z.getMorphTime(_SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D);\n\n    destroyMorphHandler(transitioner);\n\n    var camera = scene.camera;\n    if (\n      transitioner._previousMode !== _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING ||\n      transitioner._morphCancelled\n    ) {\n      transitioner._morphCancelled = false;\n\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera3D.position, camera.position);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera3D.direction, camera.direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera3D.up, camera.up);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n\n      camera.frustum = camera3D.frustum.clone();\n    }\n\n    var frustum = camera.frustum;\n    if (scene.frameState.useLogDepth) {\n      frustum.near = 0.1;\n      frustum.far = 10000000000.0;\n    }\n\n    var wasMorphing = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transitioner._completeMorph);\n    transitioner._completeMorph = undefined;\n    scene.camera.update(scene.mode);\n    transitioner._scene.morphComplete.raiseEvent(\n      transitioner,\n      transitioner._previousMode,\n      _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D,\n      wasMorphing\n    );\n  };\n}\n\nfunction complete2DCallback(camera2D) {\n  return function (transitioner) {\n    var scene = transitioner._scene;\n\n    scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D;\n    scene.morphTime = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].getMorphTime */ .Z.getMorphTime(_SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D);\n\n    destroyMorphHandler(transitioner);\n\n    var camera = scene.camera;\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera2D.position, camera.position);\n    camera.position.z = scene.mapProjection.ellipsoid.maximumRadius * 2.0;\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera2D.direction, camera.direction);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera2D.up, camera.up);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n    camera.frustum = camera2D.frustum.clone();\n\n    var wasMorphing = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transitioner._completeMorph);\n    transitioner._completeMorph = undefined;\n    scene.camera.update(scene.mode);\n    transitioner._scene.morphComplete.raiseEvent(\n      transitioner,\n      transitioner._previousMode,\n      _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE2D */ .Z.SCENE2D,\n      wasMorphing\n    );\n  };\n}\n\nfunction completeColumbusViewCallback(cameraCV) {\n  return function (transitioner) {\n    var scene = transitioner._scene;\n    scene._mode = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW;\n    scene.morphTime = _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].getMorphTime */ .Z.getMorphTime(_SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW);\n\n    destroyMorphHandler(transitioner);\n\n    var camera = scene.camera;\n    if (\n      transitioner._previousModeMode !== _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MORPHING */ .Z.MORPHING ||\n      transitioner._morphCancelled\n    ) {\n      transitioner._morphCancelled = false;\n\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(cameraCV.position, camera.position);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(cameraCV.direction, camera.direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(cameraCV.up, camera.up);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(camera.direction, camera.up, camera.right);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(camera.right, camera.right);\n    }\n\n    var frustum = camera.frustum;\n    if (scene.frameState.useLogDepth) {\n      frustum.near = 0.1;\n      frustum.far = 10000000000.0;\n    }\n\n    var wasMorphing = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(transitioner._completeMorph);\n    transitioner._completeMorph = undefined;\n    scene.camera.update(scene.mode);\n    transitioner._scene.morphComplete.raiseEvent(\n      transitioner,\n      transitioner._previousMode,\n      _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].COLUMBUS_VIEW */ .Z.COLUMBUS_VIEW,\n      wasMorphing\n    );\n  };\n}\n/* harmony default export */ __webpack_exports__["Z"] = (SceneTransitioner);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTs7QUFFQSxNQUFNLGdGQUFnQjtBQUN0QixNQUFNLGdGQUFnQjtBQUN0QixNQUFNLGdGQUFnQjtBQUN0QixNQUFNLGdGQUFnQjtBQUN0QixNQUFNLHdGQUFvQjs7QUFFMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixzRUFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrRUFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQiwrRUFBaUI7QUFDbkMsc0JBQXNCLHlGQUFzQixDQUFDLCtFQUFpQjs7QUFFOUQ7O0FBRUE7QUFDQSxJQUFJLGdGQUFnQjtBQUNwQjtBQUNBLElBQUksZ0ZBQWdCO0FBQ3BCLElBQUksZ0ZBQWdCO0FBQ3BCLElBQUksZ0ZBQWdCO0FBQ3BCLElBQUksd0ZBQW9CO0FBQ3hCOztBQUVBLHNCQUFzQixzRUFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrRUFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDJGQUF1QjtBQUN6QyxzQkFBc0IseUZBQXNCLENBQUMsMkZBQXVCOztBQUVwRTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLGlGQUFrQjtBQUMzRDtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxnRkFBZ0I7QUFDdEIsTUFBTSxnRkFBZ0I7QUFDdEIsTUFBTSxnRkFBZ0I7QUFDdEIsTUFBTSxnRkFBZ0I7QUFDdEIsTUFBTSx3RkFBb0I7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isc0VBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMkZBQXVCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvU2NlbmVUcmFuc2l0aW9uZXIuanM/M2Q2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCIuLi9Db3JlL0NhcnRvZ3JhcGhpYy5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgRWFzaW5nRnVuY3Rpb24gZnJvbSBcIi4uL0NvcmUvRWFzaW5nRnVuY3Rpb24uanNcIjtcbmltcG9ydCBDZXNpdW1NYXRoIGZyb20gXCIuLi9Db3JlL01hdGguanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBPcnRob2dyYXBoaWNGcnVzdHVtIGZyb20gXCIuLi9Db3JlL09ydGhvZ3JhcGhpY0ZydXN0dW0uanNcIjtcbmltcG9ydCBPcnRob2dyYXBoaWNPZmZDZW50ZXJGcnVzdHVtIGZyb20gXCIuLi9Db3JlL09ydGhvZ3JhcGhpY09mZkNlbnRlckZydXN0dW0uanNcIjtcbmltcG9ydCBQZXJzcGVjdGl2ZUZydXN0dW0gZnJvbSBcIi4uL0NvcmUvUGVyc3BlY3RpdmVGcnVzdHVtLmpzXCI7XG5pbXBvcnQgUmF5IGZyb20gXCIuLi9Db3JlL1JheS5qc1wiO1xuaW1wb3J0IFNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIGZyb20gXCIuLi9Db3JlL1NjcmVlblNwYWNlRXZlbnRIYW5kbGVyLmpzXCI7XG5pbXBvcnQgU2NyZWVuU3BhY2VFdmVudFR5cGUgZnJvbSBcIi4uL0NvcmUvU2NyZWVuU3BhY2VFdmVudFR5cGUuanNcIjtcbmltcG9ydCBUcmFuc2Zvcm1zIGZyb20gXCIuLi9Db3JlL1RyYW5zZm9ybXMuanNcIjtcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vQ2FtZXJhLmpzXCI7XG5pbXBvcnQgU2NlbmVNb2RlIGZyb20gXCIuL1NjZW5lTW9kZS5qc1wiO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIFNjZW5lVHJhbnNpdGlvbmVyKHNjZW5lKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJzY2VuZVwiLCBzY2VuZSk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHRoaXMuX3NjZW5lID0gc2NlbmU7XG4gIHRoaXMuX2N1cnJlbnRUd2VlbnMgPSBbXTtcbiAgdGhpcy5fbW9ycGhIYW5kbGVyID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tb3JwaENhbmNlbGxlZCA9IGZhbHNlO1xuICB0aGlzLl9jb21wbGV0ZU1vcnBoID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tb3JwaFRvT3J0aG9ncmFwaGljID0gZmFsc2U7XG59XG5cblNjZW5lVHJhbnNpdGlvbmVyLnByb3RvdHlwZS5jb21wbGV0ZU1vcnBoID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZGVmaW5lZCh0aGlzLl9jb21wbGV0ZU1vcnBoKSkge1xuICAgIHRoaXMuX2NvbXBsZXRlTW9ycGgoKTtcbiAgfVxufTtcblxuU2NlbmVUcmFuc2l0aW9uZXIucHJvdG90eXBlLm1vcnBoVG8yRCA9IGZ1bmN0aW9uIChkdXJhdGlvbiwgZWxsaXBzb2lkKSB7XG4gIGlmIChkZWZpbmVkKHRoaXMuX2NvbXBsZXRlTW9ycGgpKSB7XG4gICAgdGhpcy5fY29tcGxldGVNb3JwaCgpO1xuICB9XG5cbiAgdmFyIHNjZW5lID0gdGhpcy5fc2NlbmU7XG4gIHRoaXMuX3ByZXZpb3VzTW9kZSA9IHNjZW5lLm1vZGU7XG4gIHRoaXMuX21vcnBoVG9PcnRob2dyYXBoaWMgPVxuICAgIHNjZW5lLmNhbWVyYS5mcnVzdHVtIGluc3RhbmNlb2YgT3J0aG9ncmFwaGljRnJ1c3R1bTtcblxuICBpZiAoXG4gICAgdGhpcy5fcHJldmlvdXNNb2RlID09PSBTY2VuZU1vZGUuU0NFTkUyRCB8fFxuICAgIHRoaXMuX3ByZXZpb3VzTW9kZSA9PT0gU2NlbmVNb2RlLk1PUlBISU5HXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9zY2VuZS5tb3JwaFN0YXJ0LnJhaXNlRXZlbnQoXG4gICAgdGhpcyxcbiAgICB0aGlzLl9wcmV2aW91c01vZGUsXG4gICAgU2NlbmVNb2RlLlNDRU5FMkQsXG4gICAgdHJ1ZVxuICApO1xuXG4gIHNjZW5lLl9tb2RlID0gU2NlbmVNb2RlLk1PUlBISU5HO1xuICBzY2VuZS5jYW1lcmEuX3NldFRyYW5zZm9ybShNYXRyaXg0LklERU5USVRZKTtcblxuICBpZiAodGhpcy5fcHJldmlvdXNNb2RlID09PSBTY2VuZU1vZGUuQ09MVU1CVVNfVklFVykge1xuICAgIG1vcnBoRnJvbUNvbHVtYnVzVmlld1RvMkQodGhpcywgZHVyYXRpb24pO1xuICB9IGVsc2Uge1xuICAgIG1vcnBoRnJvbTNEVG8yRCh0aGlzLCBkdXJhdGlvbiwgZWxsaXBzb2lkKTtcbiAgfVxuXG4gIGlmIChkdXJhdGlvbiA9PT0gMC4wICYmIGRlZmluZWQodGhpcy5fY29tcGxldGVNb3JwaCkpIHtcbiAgICB0aGlzLl9jb21wbGV0ZU1vcnBoKCk7XG4gIH1cbn07XG5cbnZhciBzY3JhdGNoVG9DVlBvc2l0aW9uID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoVG9DVkRpcmVjdGlvbiA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaFRvQ1ZVcCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaFRvQ1ZQb3NpdGlvbjJEID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoVG9DVkRpcmVjdGlvbjJEID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoVG9DVlVwMkQgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hUb0NWU3VyZmFjZVBvc2l0aW9uID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoVG9DVkNhcnRvZ3JhcGhpYyA9IG5ldyBDYXJ0b2dyYXBoaWMoKTtcbnZhciBzY3JhdGNoVG9DVlRvRU5VID0gbmV3IE1hdHJpeDQoKTtcbnZhciBzY3JhdGNoVG9DVkZydXN0dW1QZXJzcGVjdGl2ZSA9IG5ldyBQZXJzcGVjdGl2ZUZydXN0dW0oKTtcbnZhciBzY3JhdGNoVG9DVkZydXN0dW1PcnRob2dyYXBoaWMgPSBuZXcgT3J0aG9ncmFwaGljRnJ1c3R1bSgpO1xudmFyIHNjcmF0Y2hUb0NWQ2FtZXJhID0ge1xuICBwb3NpdGlvbjogdW5kZWZpbmVkLFxuICBkaXJlY3Rpb246IHVuZGVmaW5lZCxcbiAgdXA6IHVuZGVmaW5lZCxcbiAgcG9zaXRpb24yRDogdW5kZWZpbmVkLFxuICBkaXJlY3Rpb24yRDogdW5kZWZpbmVkLFxuICB1cDJEOiB1bmRlZmluZWQsXG4gIGZydXN0dW06IHVuZGVmaW5lZCxcbn07XG5cblNjZW5lVHJhbnNpdGlvbmVyLnByb3RvdHlwZS5tb3JwaFRvQ29sdW1idXNWaWV3ID0gZnVuY3Rpb24gKFxuICBkdXJhdGlvbixcbiAgZWxsaXBzb2lkXG4pIHtcbiAgaWYgKGRlZmluZWQodGhpcy5fY29tcGxldGVNb3JwaCkpIHtcbiAgICB0aGlzLl9jb21wbGV0ZU1vcnBoKCk7XG4gIH1cblxuICB2YXIgc2NlbmUgPSB0aGlzLl9zY2VuZTtcbiAgdGhpcy5fcHJldmlvdXNNb2RlID0gc2NlbmUubW9kZTtcblxuICBpZiAoXG4gICAgdGhpcy5fcHJldmlvdXNNb2RlID09PSBTY2VuZU1vZGUuQ09MVU1CVVNfVklFVyB8fFxuICAgIHRoaXMuX3ByZXZpb3VzTW9kZSA9PT0gU2NlbmVNb2RlLk1PUlBISU5HXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9zY2VuZS5tb3JwaFN0YXJ0LnJhaXNlRXZlbnQoXG4gICAgdGhpcyxcbiAgICB0aGlzLl9wcmV2aW91c01vZGUsXG4gICAgU2NlbmVNb2RlLkNPTFVNQlVTX1ZJRVcsXG4gICAgdHJ1ZVxuICApO1xuXG4gIHNjZW5lLmNhbWVyYS5fc2V0VHJhbnNmb3JtKE1hdHJpeDQuSURFTlRJVFkpO1xuXG4gIHZhciBwb3NpdGlvbiA9IHNjcmF0Y2hUb0NWUG9zaXRpb247XG4gIHZhciBkaXJlY3Rpb24gPSBzY3JhdGNoVG9DVkRpcmVjdGlvbjtcbiAgdmFyIHVwID0gc2NyYXRjaFRvQ1ZVcDtcblxuICBpZiAoZHVyYXRpb24gPiAwLjApIHtcbiAgICBwb3NpdGlvbi54ID0gMC4wO1xuICAgIHBvc2l0aW9uLnkgPSAtMS4wO1xuICAgIHBvc2l0aW9uLnogPSAxLjA7XG4gICAgcG9zaXRpb24gPSBDYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIoXG4gICAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShwb3NpdGlvbiwgcG9zaXRpb24pLFxuICAgICAgNS4wICogZWxsaXBzb2lkLm1heGltdW1SYWRpdXMsXG4gICAgICBwb3NpdGlvblxuICAgICk7XG5cbiAgICBDYXJ0ZXNpYW4zLm5lZ2F0ZShDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShwb3NpdGlvbiwgZGlyZWN0aW9uKSwgZGlyZWN0aW9uKTtcbiAgICBDYXJ0ZXNpYW4zLmNyb3NzKENhcnRlc2lhbjMuVU5JVF9YLCBkaXJlY3Rpb24sIHVwKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2FtZXJhID0gc2NlbmUuY2FtZXJhO1xuICAgIGlmICh0aGlzLl9wcmV2aW91c01vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTJEKSB7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS5wb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgcG9zaXRpb24ueiA9IGNhbWVyYS5mcnVzdHVtLnJpZ2h0IC0gY2FtZXJhLmZydXN0dW0ubGVmdDtcbiAgICAgIENhcnRlc2lhbjMubmVnYXRlKENhcnRlc2lhbjMuVU5JVF9aLCBkaXJlY3Rpb24pO1xuICAgICAgQ2FydGVzaWFuMy5jbG9uZShDYXJ0ZXNpYW4zLlVOSVRfWSwgdXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS5wb3NpdGlvbldDLCBwb3NpdGlvbik7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS5kaXJlY3Rpb25XQywgZGlyZWN0aW9uKTtcbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhLnVwV0MsIHVwKTtcblxuICAgICAgdmFyIHN1cmZhY2VQb2ludCA9IGVsbGlwc29pZC5zY2FsZVRvR2VvZGV0aWNTdXJmYWNlKFxuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgc2NyYXRjaFRvQ1ZTdXJmYWNlUG9zaXRpb25cbiAgICAgICk7XG4gICAgICB2YXIgdG9FTlUgPSBUcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKFxuICAgICAgICBzdXJmYWNlUG9pbnQsXG4gICAgICAgIGVsbGlwc29pZCxcbiAgICAgICAgc2NyYXRjaFRvQ1ZUb0VOVVxuICAgICAgKTtcbiAgICAgIE1hdHJpeDQuaW52ZXJzZVRyYW5zZm9ybWF0aW9uKHRvRU5VLCB0b0VOVSk7XG5cbiAgICAgIHNjZW5lLm1hcFByb2plY3Rpb24ucHJvamVjdChcbiAgICAgICAgZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKHBvc2l0aW9uLCBzY3JhdGNoVG9DVkNhcnRvZ3JhcGhpYyksXG4gICAgICAgIHBvc2l0aW9uXG4gICAgICApO1xuICAgICAgTWF0cml4NC5tdWx0aXBseUJ5UG9pbnRBc1ZlY3Rvcih0b0VOVSwgZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xuICAgICAgTWF0cml4NC5tdWx0aXBseUJ5UG9pbnRBc1ZlY3Rvcih0b0VOVSwgdXAsIHVwKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZnJ1c3R1bTtcbiAgaWYgKHRoaXMuX21vcnBoVG9PcnRob2dyYXBoaWMpIHtcbiAgICBmcnVzdHVtID0gc2NyYXRjaFRvQ1ZGcnVzdHVtT3J0aG9ncmFwaGljO1xuICAgIGZydXN0dW0ud2lkdGggPSBzY2VuZS5jYW1lcmEuZnJ1c3R1bS5yaWdodCAtIHNjZW5lLmNhbWVyYS5mcnVzdHVtLmxlZnQ7XG4gICAgZnJ1c3R1bS5hc3BlY3RSYXRpbyA9IHNjZW5lLmRyYXdpbmdCdWZmZXJXaWR0aCAvIHNjZW5lLmRyYXdpbmdCdWZmZXJIZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgZnJ1c3R1bSA9IHNjcmF0Y2hUb0NWRnJ1c3R1bVBlcnNwZWN0aXZlO1xuICAgIGZydXN0dW0uYXNwZWN0UmF0aW8gPSBzY2VuZS5kcmF3aW5nQnVmZmVyV2lkdGggLyBzY2VuZS5kcmF3aW5nQnVmZmVySGVpZ2h0O1xuICAgIGZydXN0dW0uZm92ID0gQ2VzaXVtTWF0aC50b1JhZGlhbnMoNjAuMCk7XG4gIH1cblxuICB2YXIgY2FtZXJhQ1YgPSBzY3JhdGNoVG9DVkNhbWVyYTtcbiAgY2FtZXJhQ1YucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgY2FtZXJhQ1YuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICBjYW1lcmFDVi51cCA9IHVwO1xuICBjYW1lcmFDVi5mcnVzdHVtID0gZnJ1c3R1bTtcblxuICB2YXIgY29tcGxldGUgPSBjb21wbGV0ZUNvbHVtYnVzVmlld0NhbGxiYWNrKGNhbWVyYUNWKTtcbiAgY3JlYXRlTW9ycGhIYW5kbGVyKHRoaXMsIGNvbXBsZXRlKTtcblxuICBpZiAodGhpcy5fcHJldmlvdXNNb2RlID09PSBTY2VuZU1vZGUuU0NFTkUyRCkge1xuICAgIG1vcnBoRnJvbTJEVG9Db2x1bWJ1c1ZpZXcodGhpcywgZHVyYXRpb24sIGNhbWVyYUNWLCBjb21wbGV0ZSk7XG4gIH0gZWxzZSB7XG4gICAgY2FtZXJhQ1YucG9zaXRpb24yRCA9IE1hdHJpeDQubXVsdGlwbHlCeVBvaW50KFxuICAgICAgQ2FtZXJhLlRSQU5TRk9STV8yRCxcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgc2NyYXRjaFRvQ1ZQb3NpdGlvbjJEXG4gICAgKTtcbiAgICBjYW1lcmFDVi5kaXJlY3Rpb24yRCA9IE1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoXG4gICAgICBDYW1lcmEuVFJBTlNGT1JNXzJELFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgc2NyYXRjaFRvQ1ZEaXJlY3Rpb24yRFxuICAgICk7XG4gICAgY2FtZXJhQ1YudXAyRCA9IE1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoXG4gICAgICBDYW1lcmEuVFJBTlNGT1JNXzJELFxuICAgICAgdXAsXG4gICAgICBzY3JhdGNoVG9DVlVwMkRcbiAgICApO1xuXG4gICAgc2NlbmUuX21vZGUgPSBTY2VuZU1vZGUuTU9SUEhJTkc7XG4gICAgbW9ycGhGcm9tM0RUb0NvbHVtYnVzVmlldyh0aGlzLCBkdXJhdGlvbiwgY2FtZXJhQ1YsIGNvbXBsZXRlKTtcbiAgfVxuXG4gIGlmIChkdXJhdGlvbiA9PT0gMC4wICYmIGRlZmluZWQodGhpcy5fY29tcGxldGVNb3JwaCkpIHtcbiAgICB0aGlzLl9jb21wbGV0ZU1vcnBoKCk7XG4gIH1cbn07XG5cbnZhciBzY3JhdGNoQ1ZUbzNEQ2FtZXJhID0ge1xuICBwb3NpdGlvbjogbmV3IENhcnRlc2lhbjMoKSxcbiAgZGlyZWN0aW9uOiBuZXcgQ2FydGVzaWFuMygpLFxuICB1cDogbmV3IENhcnRlc2lhbjMoKSxcbiAgZnJ1c3R1bTogdW5kZWZpbmVkLFxufTtcbnZhciBzY3JhdGNoMkRUbzNERnJ1c3R1bVBlcnNwID0gbmV3IFBlcnNwZWN0aXZlRnJ1c3R1bSgpO1xuXG5TY2VuZVRyYW5zaXRpb25lci5wcm90b3R5cGUubW9ycGhUbzNEID0gZnVuY3Rpb24gKGR1cmF0aW9uLCBlbGxpcHNvaWQpIHtcbiAgaWYgKGRlZmluZWQodGhpcy5fY29tcGxldGVNb3JwaCkpIHtcbiAgICB0aGlzLl9jb21wbGV0ZU1vcnBoKCk7XG4gIH1cblxuICB2YXIgc2NlbmUgPSB0aGlzLl9zY2VuZTtcbiAgdGhpcy5fcHJldmlvdXNNb2RlID0gc2NlbmUubW9kZTtcblxuICBpZiAoXG4gICAgdGhpcy5fcHJldmlvdXNNb2RlID09PSBTY2VuZU1vZGUuU0NFTkUzRCB8fFxuICAgIHRoaXMuX3ByZXZpb3VzTW9kZSA9PT0gU2NlbmVNb2RlLk1PUlBISU5HXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9zY2VuZS5tb3JwaFN0YXJ0LnJhaXNlRXZlbnQoXG4gICAgdGhpcyxcbiAgICB0aGlzLl9wcmV2aW91c01vZGUsXG4gICAgU2NlbmVNb2RlLlNDRU5FM0QsXG4gICAgdHJ1ZVxuICApO1xuXG4gIHNjZW5lLl9tb2RlID0gU2NlbmVNb2RlLk1PUlBISU5HO1xuICBzY2VuZS5jYW1lcmEuX3NldFRyYW5zZm9ybShNYXRyaXg0LklERU5USVRZKTtcblxuICBpZiAodGhpcy5fcHJldmlvdXNNb2RlID09PSBTY2VuZU1vZGUuU0NFTkUyRCkge1xuICAgIG1vcnBoRnJvbTJEVG8zRCh0aGlzLCBkdXJhdGlvbiwgZWxsaXBzb2lkKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2FtZXJhM0Q7XG4gICAgaWYgKGR1cmF0aW9uID4gMC4wKSB7XG4gICAgICBjYW1lcmEzRCA9IHNjcmF0Y2hDVlRvM0RDYW1lcmE7XG4gICAgICBDYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgNS4wICogZWxsaXBzb2lkLm1heGltdW1SYWRpdXMsXG4gICAgICAgIGVsbGlwc29pZCxcbiAgICAgICAgY2FtZXJhM0QucG9zaXRpb25cbiAgICAgICk7XG4gICAgICBDYXJ0ZXNpYW4zLm5lZ2F0ZShjYW1lcmEzRC5wb3NpdGlvbiwgY2FtZXJhM0QuZGlyZWN0aW9uKTtcbiAgICAgIENhcnRlc2lhbjMubm9ybWFsaXplKGNhbWVyYTNELmRpcmVjdGlvbiwgY2FtZXJhM0QuZGlyZWN0aW9uKTtcbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoQ2FydGVzaWFuMy5VTklUX1osIGNhbWVyYTNELnVwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FtZXJhM0QgPSBnZXRDb2x1bWJ1c1ZpZXdUbzNEQ2FtZXJhKHRoaXMsIGVsbGlwc29pZCk7XG4gICAgfVxuXG4gICAgdmFyIGZydXN0dW07XG4gICAgdmFyIGNhbWVyYSA9IHNjZW5lLmNhbWVyYTtcbiAgICBpZiAoY2FtZXJhLmZydXN0dW0gaW5zdGFuY2VvZiBPcnRob2dyYXBoaWNGcnVzdHVtKSB7XG4gICAgICBmcnVzdHVtID0gY2FtZXJhLmZydXN0dW0uY2xvbmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJ1c3R1bSA9IHNjcmF0Y2gyRFRvM0RGcnVzdHVtUGVyc3A7XG4gICAgICBmcnVzdHVtLmFzcGVjdFJhdGlvID1cbiAgICAgICAgc2NlbmUuZHJhd2luZ0J1ZmZlcldpZHRoIC8gc2NlbmUuZHJhd2luZ0J1ZmZlckhlaWdodDtcbiAgICAgIGZydXN0dW0uZm92ID0gQ2VzaXVtTWF0aC50b1JhZGlhbnMoNjAuMCk7XG4gICAgfVxuICAgIGNhbWVyYTNELmZydXN0dW0gPSBmcnVzdHVtO1xuXG4gICAgdmFyIGNvbXBsZXRlID0gY29tcGxldGUzRENhbGxiYWNrKGNhbWVyYTNEKTtcbiAgICBjcmVhdGVNb3JwaEhhbmRsZXIodGhpcywgY29tcGxldGUpO1xuXG4gICAgbW9ycGhGcm9tQ29sdW1idXNWaWV3VG8zRCh0aGlzLCBkdXJhdGlvbiwgY2FtZXJhM0QsIGNvbXBsZXRlKTtcbiAgfVxuXG4gIGlmIChkdXJhdGlvbiA9PT0gMC4wICYmIGRlZmluZWQodGhpcy5fY29tcGxldGVNb3JwaCkpIHtcbiAgICB0aGlzLl9jb21wbGV0ZU1vcnBoKCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gKiA8YnIgLz48YnIgLz5cbiAqIElmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZDsgY2FsbGluZyBhbnkgZnVuY3Rpb24gb3RoZXIgdGhhblxuICogPGNvZGU+aXNEZXN0cm95ZWQ8L2NvZGU+IHdpbGwgcmVzdWx0IGluIGEge0BsaW5rIERldmVsb3BlckVycm9yfSBleGNlcHRpb24uXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgPGNvZGU+ZmFsc2U8L2NvZGU+LlxuICovXG5TY2VuZVRyYW5zaXRpb25lci5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogT25jZSBhbiBvYmplY3QgaXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLiAgVGhlcmVmb3JlLFxuICogYXNzaWduIHRoZSByZXR1cm4gdmFsdWUgKDxjb2RlPnVuZGVmaW5lZDwvY29kZT4pIHRvIHRoZSBvYmplY3QgYXMgZG9uZSBpbiB0aGUgZXhhbXBsZS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaS5lLiwgZGVzdHJveSgpIHdhcyBjYWxsZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIHRyYW5zaXRpb25lciA9IHRyYW5zaXRpb25lciAmJiB0cmFuc2l0aW9uZXIuZGVzdHJveSgpO1xuICovXG5TY2VuZVRyYW5zaXRpb25lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgZGVzdHJveU1vcnBoSGFuZGxlcih0aGlzKTtcbiAgcmV0dXJuIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVNb3JwaEhhbmRsZXIodHJhbnNpdGlvbmVyLCBjb21wbGV0ZU1vcnBoRnVuY3Rpb24pIHtcbiAgaWYgKHRyYW5zaXRpb25lci5fc2NlbmUuY29tcGxldGVNb3JwaE9uVXNlcklucHV0KSB7XG4gICAgdHJhbnNpdGlvbmVyLl9tb3JwaEhhbmRsZXIgPSBuZXcgU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIoXG4gICAgICB0cmFuc2l0aW9uZXIuX3NjZW5lLmNhbnZhc1xuICAgICk7XG5cbiAgICB2YXIgY29tcGxldGVNb3JwaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyYW5zaXRpb25lci5fbW9ycGhDYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgdHJhbnNpdGlvbmVyLl9zY2VuZS5jYW1lcmEuY2FuY2VsRmxpZ2h0KCk7XG4gICAgICBjb21wbGV0ZU1vcnBoRnVuY3Rpb24odHJhbnNpdGlvbmVyKTtcbiAgICB9O1xuICAgIHRyYW5zaXRpb25lci5fY29tcGxldGVNb3JwaCA9IGNvbXBsZXRlTW9ycGg7XG4gICAgdHJhbnNpdGlvbmVyLl9tb3JwaEhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXG4gICAgICBjb21wbGV0ZU1vcnBoLFxuICAgICAgU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9ET1dOXG4gICAgKTtcbiAgICB0cmFuc2l0aW9uZXIuX21vcnBoSGFuZGxlci5zZXRJbnB1dEFjdGlvbihcbiAgICAgIGNvbXBsZXRlTW9ycGgsXG4gICAgICBTY3JlZW5TcGFjZUV2ZW50VHlwZS5NSURETEVfRE9XTlxuICAgICk7XG4gICAgdHJhbnNpdGlvbmVyLl9tb3JwaEhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXG4gICAgICBjb21wbGV0ZU1vcnBoLFxuICAgICAgU2NyZWVuU3BhY2VFdmVudFR5cGUuUklHSFRfRE9XTlxuICAgICk7XG4gICAgdHJhbnNpdGlvbmVyLl9tb3JwaEhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oXG4gICAgICBjb21wbGV0ZU1vcnBoLFxuICAgICAgU2NyZWVuU3BhY2VFdmVudFR5cGUuV0hFRUxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lNb3JwaEhhbmRsZXIodHJhbnNpdGlvbmVyKSB7XG4gIHZhciB0d2VlbnMgPSB0cmFuc2l0aW9uZXIuX2N1cnJlbnRUd2VlbnM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdHdlZW5zLmxlbmd0aDsgKytpKSB7XG4gICAgdHdlZW5zW2ldLmNhbmNlbFR3ZWVuKCk7XG4gIH1cbiAgdHJhbnNpdGlvbmVyLl9jdXJyZW50VHdlZW5zLmxlbmd0aCA9IDA7XG4gIHRyYW5zaXRpb25lci5fbW9ycGhIYW5kbGVyID1cbiAgICB0cmFuc2l0aW9uZXIuX21vcnBoSGFuZGxlciAmJiB0cmFuc2l0aW9uZXIuX21vcnBoSGFuZGxlci5kZXN0cm95KCk7XG59XG5cbnZhciBzY3JhdGNoQ1ZUbzNEQ2FydG9ncmFwaGljID0gbmV3IENhcnRvZ3JhcGhpYygpO1xudmFyIHNjcmF0Y2hDVlRvM0RTdXJmYWNlUG9pbnQgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hDVlRvM0RGcm9tRU5VID0gbmV3IE1hdHJpeDQoKTtcblxuZnVuY3Rpb24gZ2V0Q29sdW1idXNWaWV3VG8zRENhbWVyYSh0cmFuc2l0aW9uZXIsIGVsbGlwc29pZCkge1xuICB2YXIgc2NlbmUgPSB0cmFuc2l0aW9uZXIuX3NjZW5lO1xuICB2YXIgY2FtZXJhID0gc2NlbmUuY2FtZXJhO1xuXG4gIHZhciBjYW1lcmEzRCA9IHNjcmF0Y2hDVlRvM0RDYW1lcmE7XG4gIHZhciBwb3NpdGlvbiA9IGNhbWVyYTNELnBvc2l0aW9uO1xuICB2YXIgZGlyZWN0aW9uID0gY2FtZXJhM0QuZGlyZWN0aW9uO1xuICB2YXIgdXAgPSBjYW1lcmEzRC51cDtcblxuICB2YXIgcG9zaXRpb25DYXJ0byA9IHNjZW5lLm1hcFByb2plY3Rpb24udW5wcm9qZWN0KFxuICAgIGNhbWVyYS5wb3NpdGlvbixcbiAgICBzY3JhdGNoQ1ZUbzNEQ2FydG9ncmFwaGljXG4gICk7XG4gIGVsbGlwc29pZC5jYXJ0b2dyYXBoaWNUb0NhcnRlc2lhbihwb3NpdGlvbkNhcnRvLCBwb3NpdGlvbik7XG4gIHZhciBzdXJmYWNlUG9pbnQgPSBlbGxpcHNvaWQuc2NhbGVUb0dlb2RldGljU3VyZmFjZShcbiAgICBwb3NpdGlvbixcbiAgICBzY3JhdGNoQ1ZUbzNEU3VyZmFjZVBvaW50XG4gICk7XG5cbiAgdmFyIGZyb21FTlUgPSBUcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKFxuICAgIHN1cmZhY2VQb2ludCxcbiAgICBlbGxpcHNvaWQsXG4gICAgc2NyYXRjaENWVG8zREZyb21FTlVcbiAgKTtcblxuICBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludEFzVmVjdG9yKGZyb21FTlUsIGNhbWVyYS5kaXJlY3Rpb24sIGRpcmVjdGlvbik7XG4gIE1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoZnJvbUVOVSwgY2FtZXJhLnVwLCB1cCk7XG5cbiAgcmV0dXJuIGNhbWVyYTNEO1xufVxuXG52YXIgc2NyYXRjaENWVG8zRFN0YXJ0UG9zID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ1ZUbzNEU3RhcnREaXIgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hDVlRvM0RTdGFydFVwID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ1ZUbzNERW5kUG9zID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ1ZUbzNERW5kRGlyID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ1ZUbzNERW5kVXAgPSBuZXcgQ2FydGVzaWFuMygpO1xuXG5mdW5jdGlvbiBtb3JwaEZyb21Db2x1bWJ1c1ZpZXdUbzNEKFxuICB0cmFuc2l0aW9uZXIsXG4gIGR1cmF0aW9uLFxuICBlbmRDYW1lcmEsXG4gIGNvbXBsZXRlXG4pIHtcbiAgZHVyYXRpb24gKj0gMC41O1xuXG4gIHZhciBzY2VuZSA9IHRyYW5zaXRpb25lci5fc2NlbmU7XG4gIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmE7XG5cbiAgdmFyIHN0YXJ0UG9zID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEucG9zaXRpb24sIHNjcmF0Y2hDVlRvM0RTdGFydFBvcyk7XG4gIHZhciBzdGFydERpciA9IENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhLmRpcmVjdGlvbiwgc2NyYXRjaENWVG8zRFN0YXJ0RGlyKTtcbiAgdmFyIHN0YXJ0VXAgPSBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS51cCwgc2NyYXRjaENWVG8zRFN0YXJ0VXApO1xuXG4gIHZhciBlbmRQb3MgPSBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludChcbiAgICBDYW1lcmEuVFJBTlNGT1JNXzJEX0lOVkVSU0UsXG4gICAgZW5kQ2FtZXJhLnBvc2l0aW9uLFxuICAgIHNjcmF0Y2hDVlRvM0RFbmRQb3NcbiAgKTtcbiAgdmFyIGVuZERpciA9IE1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoXG4gICAgQ2FtZXJhLlRSQU5TRk9STV8yRF9JTlZFUlNFLFxuICAgIGVuZENhbWVyYS5kaXJlY3Rpb24sXG4gICAgc2NyYXRjaENWVG8zREVuZERpclxuICApO1xuICB2YXIgZW5kVXAgPSBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludEFzVmVjdG9yKFxuICAgIENhbWVyYS5UUkFOU0ZPUk1fMkRfSU5WRVJTRSxcbiAgICBlbmRDYW1lcmEudXAsXG4gICAgc2NyYXRjaENWVG8zREVuZFVwXG4gICk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHZhbHVlKSB7XG4gICAgY29sdW1idXNWaWV3TW9ycGgoc3RhcnRQb3MsIGVuZFBvcywgdmFsdWUudGltZSwgY2FtZXJhLnBvc2l0aW9uKTtcbiAgICBjb2x1bWJ1c1ZpZXdNb3JwaChzdGFydERpciwgZW5kRGlyLCB2YWx1ZS50aW1lLCBjYW1lcmEuZGlyZWN0aW9uKTtcbiAgICBjb2x1bWJ1c1ZpZXdNb3JwaChzdGFydFVwLCBlbmRVcCwgdmFsdWUudGltZSwgY2FtZXJhLnVwKTtcbiAgICBDYXJ0ZXNpYW4zLmNyb3NzKGNhbWVyYS5kaXJlY3Rpb24sIGNhbWVyYS51cCwgY2FtZXJhLnJpZ2h0KTtcbiAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShjYW1lcmEucmlnaHQsIGNhbWVyYS5yaWdodCk7XG4gIH1cblxuICB2YXIgdHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkKHtcbiAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgZWFzaW5nRnVuY3Rpb246IEVhc2luZ0Z1bmN0aW9uLlFVQVJUSUNfT1VULFxuICAgIHN0YXJ0T2JqZWN0OiB7XG4gICAgICB0aW1lOiAwLjAsXG4gICAgfSxcbiAgICBzdG9wT2JqZWN0OiB7XG4gICAgICB0aW1lOiAxLjAsXG4gICAgfSxcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgYWRkTW9ycGhUaW1lQW5pbWF0aW9ucyh0cmFuc2l0aW9uZXIsIHNjZW5lLCAwLjAsIDEuMCwgZHVyYXRpb24sIGNvbXBsZXRlKTtcbiAgICB9LFxuICB9KTtcbiAgdHJhbnNpdGlvbmVyLl9jdXJyZW50VHdlZW5zLnB1c2godHdlZW4pO1xufVxuXG52YXIgc2NyYXRjaDJEVG8zREZydXN0dW1PcnRobyA9IG5ldyBPcnRob2dyYXBoaWNGcnVzdHVtKCk7XG52YXIgc2NyYXRjaDNEVG9DVlN0YXJ0UG9zID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoM0RUb0NWU3RhcnREaXIgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2gzRFRvQ1ZTdGFydFVwID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoM0RUb0NWRW5kUG9zID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoM0RUb0NWRW5kRGlyID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoM0RUb0NWRW5kVXAgPSBuZXcgQ2FydGVzaWFuMygpO1xuXG5mdW5jdGlvbiBtb3JwaEZyb20yRFRvM0QodHJhbnNpdGlvbmVyLCBkdXJhdGlvbiwgZWxsaXBzb2lkKSB7XG4gIGR1cmF0aW9uIC89IDMuMDtcblxuICB2YXIgc2NlbmUgPSB0cmFuc2l0aW9uZXIuX3NjZW5lO1xuICB2YXIgY2FtZXJhID0gc2NlbmUuY2FtZXJhO1xuXG4gIHZhciBjYW1lcmEzRDtcbiAgaWYgKGR1cmF0aW9uID4gMC4wKSB7XG4gICAgY2FtZXJhM0QgPSBzY3JhdGNoQ1ZUbzNEQ2FtZXJhO1xuICAgIENhcnRlc2lhbjMuZnJvbURlZ3JlZXMoXG4gICAgICAwLjAsXG4gICAgICAwLjAsXG4gICAgICA1LjAgKiBlbGxpcHNvaWQubWF4aW11bVJhZGl1cyxcbiAgICAgIGVsbGlwc29pZCxcbiAgICAgIGNhbWVyYTNELnBvc2l0aW9uXG4gICAgKTtcbiAgICBDYXJ0ZXNpYW4zLm5lZ2F0ZShjYW1lcmEzRC5wb3NpdGlvbiwgY2FtZXJhM0QuZGlyZWN0aW9uKTtcbiAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShjYW1lcmEzRC5kaXJlY3Rpb24sIGNhbWVyYTNELmRpcmVjdGlvbik7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShDYXJ0ZXNpYW4zLlVOSVRfWiwgY2FtZXJhM0QudXApO1xuICB9IGVsc2Uge1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gY2FtZXJhLmZydXN0dW0ucmlnaHQgLSBjYW1lcmEuZnJ1c3R1bS5sZWZ0O1xuXG4gICAgY2FtZXJhM0QgPSBnZXRDb2x1bWJ1c1ZpZXdUbzNEQ2FtZXJhKHRyYW5zaXRpb25lciwgZWxsaXBzb2lkKTtcbiAgfVxuXG4gIHZhciBmcnVzdHVtO1xuICBpZiAodHJhbnNpdGlvbmVyLl9tb3JwaFRvT3J0aG9ncmFwaGljKSB7XG4gICAgZnJ1c3R1bSA9IHNjcmF0Y2gyRFRvM0RGcnVzdHVtT3J0aG87XG4gICAgZnJ1c3R1bS5hc3BlY3RSYXRpbyA9IHNjZW5lLmRyYXdpbmdCdWZmZXJXaWR0aCAvIHNjZW5lLmRyYXdpbmdCdWZmZXJIZWlnaHQ7XG4gICAgZnJ1c3R1bS53aWR0aCA9IGNhbWVyYS5mcnVzdHVtLnJpZ2h0IC0gY2FtZXJhLmZydXN0dW0ubGVmdDtcbiAgfSBlbHNlIHtcbiAgICBmcnVzdHVtID0gc2NyYXRjaDJEVG8zREZydXN0dW1QZXJzcDtcbiAgICBmcnVzdHVtLmFzcGVjdFJhdGlvID0gc2NlbmUuZHJhd2luZ0J1ZmZlcldpZHRoIC8gc2NlbmUuZHJhd2luZ0J1ZmZlckhlaWdodDtcbiAgICBmcnVzdHVtLmZvdiA9IENlc2l1bU1hdGgudG9SYWRpYW5zKDYwLjApO1xuICB9XG5cbiAgY2FtZXJhM0QuZnJ1c3R1bSA9IGZydXN0dW07XG5cbiAgdmFyIGNvbXBsZXRlID0gY29tcGxldGUzRENhbGxiYWNrKGNhbWVyYTNEKTtcbiAgY3JlYXRlTW9ycGhIYW5kbGVyKHRyYW5zaXRpb25lciwgY29tcGxldGUpO1xuXG4gIHZhciBtb3JwaDtcbiAgaWYgKHRyYW5zaXRpb25lci5fbW9ycGhUb09ydGhvZ3JhcGhpYykge1xuICAgIG1vcnBoID0gZnVuY3Rpb24gKCkge1xuICAgICAgbW9ycGhGcm9tQ29sdW1idXNWaWV3VG8zRCh0cmFuc2l0aW9uZXIsIGR1cmF0aW9uLCBjYW1lcmEzRCwgY29tcGxldGUpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgbW9ycGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBtb3JwaE9ydGhvZ3JhcGhpY1RvUGVyc3BlY3RpdmUoXG4gICAgICAgIHRyYW5zaXRpb25lcixcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGNhbWVyYTNELFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbW9ycGhGcm9tQ29sdW1idXNWaWV3VG8zRCh0cmFuc2l0aW9uZXIsIGR1cmF0aW9uLCBjYW1lcmEzRCwgY29tcGxldGUpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gIH1cblxuICBpZiAoZHVyYXRpb24gPiAwLjApIHtcbiAgICBzY2VuZS5fbW9kZSA9IFNjZW5lTW9kZS5TQ0VORTJEO1xuICAgIGNhbWVyYS5mbHlUbyh7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICBkZXN0aW5hdGlvbjogQ2FydGVzaWFuMy5mcm9tRGVncmVlcyhcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDUuMCAqIGVsbGlwc29pZC5tYXhpbXVtUmFkaXVzLFxuICAgICAgICBlbGxpcHNvaWQsXG4gICAgICAgIHNjcmF0Y2gzRFRvQ1ZFbmRQb3NcbiAgICAgICksXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBzY2VuZS5fbW9kZSA9IFNjZW5lTW9kZS5NT1JQSElORztcbiAgICAgICAgbW9ycGgoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbW9ycGgoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2x1bWJ1c1ZpZXdNb3JwaChzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbiwgdGltZSwgcmVzdWx0KSB7XG4gIC8vIEp1c3QgbGluZWFyIGZvciBub3cuXG4gIHJldHVybiBDYXJ0ZXNpYW4zLmxlcnAoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24sIHRpbWUsIHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIG1vcnBoUGVyc3BlY3RpdmVUb09ydGhvZ3JhcGhpYyhcbiAgdHJhbnNpdGlvbmVyLFxuICBkdXJhdGlvbixcbiAgZW5kQ2FtZXJhLFxuICB1cGRhdGVIZWlnaHQsXG4gIGNvbXBsZXRlXG4pIHtcbiAgdmFyIHNjZW5lID0gdHJhbnNpdGlvbmVyLl9zY2VuZTtcbiAgdmFyIGNhbWVyYSA9IHNjZW5lLmNhbWVyYTtcblxuICBpZiAoY2FtZXJhLmZydXN0dW0gaW5zdGFuY2VvZiBPcnRob2dyYXBoaWNGcnVzdHVtKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHN0YXJ0Rk9WID0gY2FtZXJhLmZydXN0dW0uZm92O1xuICB2YXIgZW5kRk9WID0gQ2VzaXVtTWF0aC5SQURJQU5TX1BFUl9ERUdSRUUgKiAwLjU7XG4gIHZhciBkID0gZW5kQ2FtZXJhLnBvc2l0aW9uLnogKiBNYXRoLnRhbihzdGFydEZPViAqIDAuNSk7XG4gIGNhbWVyYS5mcnVzdHVtLmZhciA9IGQgLyBNYXRoLnRhbihlbmRGT1YgKiAwLjUpICsgMTAwMDAwMDAuMDtcblxuICBmdW5jdGlvbiB1cGRhdGUodmFsdWUpIHtcbiAgICBjYW1lcmEuZnJ1c3R1bS5mb3YgPSBDZXNpdW1NYXRoLmxlcnAoc3RhcnRGT1YsIGVuZEZPViwgdmFsdWUudGltZSk7XG4gICAgdmFyIGhlaWdodCA9IGQgLyBNYXRoLnRhbihjYW1lcmEuZnJ1c3R1bS5mb3YgKiAwLjUpO1xuICAgIHVwZGF0ZUhlaWdodChjYW1lcmEsIGhlaWdodCk7XG4gIH1cbiAgdmFyIHR3ZWVuID0gc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgIGVhc2luZ0Z1bmN0aW9uOiBFYXNpbmdGdW5jdGlvbi5RVUFSVElDX09VVCxcbiAgICBzdGFydE9iamVjdDoge1xuICAgICAgdGltZTogMC4wLFxuICAgIH0sXG4gICAgc3RvcE9iamVjdDoge1xuICAgICAgdGltZTogMS4wLFxuICAgIH0sXG4gICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbWVyYS5mcnVzdHVtID0gZW5kQ2FtZXJhLmZydXN0dW0uY2xvbmUoKTtcbiAgICAgIGNvbXBsZXRlKHRyYW5zaXRpb25lcik7XG4gICAgfSxcbiAgfSk7XG4gIHRyYW5zaXRpb25lci5fY3VycmVudFR3ZWVucy5wdXNoKHR3ZWVuKTtcbn1cblxudmFyIHNjcmF0Y2hDVlRvMkRTdGFydFBvcyA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENWVG8yRFN0YXJ0RGlyID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ1ZUbzJEU3RhcnRVcCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENWVG8yREVuZFBvcyA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENWVG8yREVuZERpciA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENWVG8yREVuZFVwID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ1ZUbzJERnJ1c3R1bSA9IG5ldyBPcnRob2dyYXBoaWNPZmZDZW50ZXJGcnVzdHVtKCk7XG52YXIgc2NyYXRjaENWVG8yRFJheSA9IG5ldyBSYXkoKTtcbnZhciBzY3JhdGNoQ1ZUbzJEUGlja1BvcyA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENWVG8yRENhbWVyYSA9IHtcbiAgcG9zaXRpb246IHVuZGVmaW5lZCxcbiAgZGlyZWN0aW9uOiB1bmRlZmluZWQsXG4gIHVwOiB1bmRlZmluZWQsXG4gIGZydXN0dW06IHVuZGVmaW5lZCxcbn07XG5cbmZ1bmN0aW9uIG1vcnBoRnJvbUNvbHVtYnVzVmlld1RvMkQodHJhbnNpdGlvbmVyLCBkdXJhdGlvbikge1xuICBkdXJhdGlvbiAqPSAwLjU7XG5cbiAgdmFyIHNjZW5lID0gdHJhbnNpdGlvbmVyLl9zY2VuZTtcbiAgdmFyIGNhbWVyYSA9IHNjZW5lLmNhbWVyYTtcblxuICB2YXIgc3RhcnRQb3MgPSBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS5wb3NpdGlvbiwgc2NyYXRjaENWVG8yRFN0YXJ0UG9zKTtcbiAgdmFyIHN0YXJ0RGlyID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEuZGlyZWN0aW9uLCBzY3JhdGNoQ1ZUbzJEU3RhcnREaXIpO1xuICB2YXIgc3RhcnRVcCA9IENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhLnVwLCBzY3JhdGNoQ1ZUbzJEU3RhcnRVcCk7XG5cbiAgdmFyIGVuZERpciA9IENhcnRlc2lhbjMubmVnYXRlKENhcnRlc2lhbjMuVU5JVF9aLCBzY3JhdGNoQ1ZUbzJERW5kRGlyKTtcbiAgdmFyIGVuZFVwID0gQ2FydGVzaWFuMy5jbG9uZShDYXJ0ZXNpYW4zLlVOSVRfWSwgc2NyYXRjaENWVG8yREVuZFVwKTtcblxuICB2YXIgZW5kUG9zID0gc2NyYXRjaENWVG8yREVuZFBvcztcblxuICBpZiAoZHVyYXRpb24gPiAwLjApIHtcbiAgICBDYXJ0ZXNpYW4zLmNsb25lKENhcnRlc2lhbjMuWkVSTywgc2NyYXRjaENWVG8yREVuZFBvcyk7XG4gICAgZW5kUG9zLnogPSA1LjAgKiBzY2VuZS5tYXBQcm9qZWN0aW9uLmVsbGlwc29pZC5tYXhpbXVtUmFkaXVzO1xuICB9IGVsc2Uge1xuICAgIENhcnRlc2lhbjMuY2xvbmUoc3RhcnRQb3MsIHNjcmF0Y2hDVlRvMkRFbmRQb3MpO1xuXG4gICAgdmFyIHJheSA9IHNjcmF0Y2hDVlRvMkRSYXk7XG4gICAgTWF0cml4NC5tdWx0aXBseUJ5UG9pbnQoQ2FtZXJhLlRSQU5TRk9STV8yRCwgc3RhcnRQb3MsIHJheS5vcmlnaW4pO1xuICAgIE1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoXG4gICAgICBDYW1lcmEuVFJBTlNGT1JNXzJELFxuICAgICAgc3RhcnREaXIsXG4gICAgICByYXkuZGlyZWN0aW9uXG4gICAgKTtcblxuICAgIHZhciBnbG9iZSA9IHNjZW5lLmdsb2JlO1xuICAgIGlmIChkZWZpbmVkKGdsb2JlKSkge1xuICAgICAgdmFyIHBpY2tQb3MgPSBnbG9iZS5waWNrV29ybGRDb29yZGluYXRlcyhcbiAgICAgICAgcmF5LFxuICAgICAgICBzY2VuZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgc2NyYXRjaENWVG8yRFBpY2tQb3NcbiAgICAgICk7XG4gICAgICBpZiAoZGVmaW5lZChwaWNrUG9zKSkge1xuICAgICAgICBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludChDYW1lcmEuVFJBTlNGT1JNXzJEX0lOVkVSU0UsIHBpY2tQb3MsIGVuZFBvcyk7XG4gICAgICAgIGVuZFBvcy56ICs9IENhcnRlc2lhbjMuZGlzdGFuY2Uoc3RhcnRQb3MsIGVuZFBvcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGZydXN0dW0gPSBzY3JhdGNoQ1ZUbzJERnJ1c3R1bTtcbiAgZnJ1c3R1bS5yaWdodCA9IGVuZFBvcy56ICogMC41O1xuICBmcnVzdHVtLmxlZnQgPSAtZnJ1c3R1bS5yaWdodDtcbiAgZnJ1c3R1bS50b3AgPVxuICAgIGZydXN0dW0ucmlnaHQgKiAoc2NlbmUuZHJhd2luZ0J1ZmZlckhlaWdodCAvIHNjZW5lLmRyYXdpbmdCdWZmZXJXaWR0aCk7XG4gIGZydXN0dW0uYm90dG9tID0gLWZydXN0dW0udG9wO1xuXG4gIHZhciBjYW1lcmEyRCA9IHNjcmF0Y2hDVlRvMkRDYW1lcmE7XG4gIGNhbWVyYTJELnBvc2l0aW9uID0gZW5kUG9zO1xuICBjYW1lcmEyRC5kaXJlY3Rpb24gPSBlbmREaXI7XG4gIGNhbWVyYTJELnVwID0gZW5kVXA7XG4gIGNhbWVyYTJELmZydXN0dW0gPSBmcnVzdHVtO1xuXG4gIHZhciBjb21wbGV0ZSA9IGNvbXBsZXRlMkRDYWxsYmFjayhjYW1lcmEyRCk7XG4gIGNyZWF0ZU1vcnBoSGFuZGxlcih0cmFuc2l0aW9uZXIsIGNvbXBsZXRlKTtcblxuICBmdW5jdGlvbiB1cGRhdGVDVih2YWx1ZSkge1xuICAgIGNvbHVtYnVzVmlld01vcnBoKHN0YXJ0UG9zLCBlbmRQb3MsIHZhbHVlLnRpbWUsIGNhbWVyYS5wb3NpdGlvbik7XG4gICAgY29sdW1idXNWaWV3TW9ycGgoc3RhcnREaXIsIGVuZERpciwgdmFsdWUudGltZSwgY2FtZXJhLmRpcmVjdGlvbik7XG4gICAgY29sdW1idXNWaWV3TW9ycGgoc3RhcnRVcCwgZW5kVXAsIHZhbHVlLnRpbWUsIGNhbWVyYS51cCk7XG4gICAgQ2FydGVzaWFuMy5jcm9zcyhjYW1lcmEuZGlyZWN0aW9uLCBjYW1lcmEudXAsIGNhbWVyYS5yaWdodCk7XG4gICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoY2FtZXJhLnJpZ2h0LCBjYW1lcmEucmlnaHQpO1xuICAgIGNhbWVyYS5fYWRqdXN0T3J0aG9ncmFwaGljRnJ1c3R1bSh0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlaWdodChjYW1lcmEsIGhlaWdodCkge1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gaGVpZ2h0O1xuICB9XG5cbiAgdmFyIHR3ZWVuID0gc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgIGVhc2luZ0Z1bmN0aW9uOiBFYXNpbmdGdW5jdGlvbi5RVUFSVElDX09VVCxcbiAgICBzdGFydE9iamVjdDoge1xuICAgICAgdGltZTogMC4wLFxuICAgIH0sXG4gICAgc3RvcE9iamVjdDoge1xuICAgICAgdGltZTogMS4wLFxuICAgIH0sXG4gICAgdXBkYXRlOiB1cGRhdGVDVixcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgbW9ycGhQZXJzcGVjdGl2ZVRvT3J0aG9ncmFwaGljKFxuICAgICAgICB0cmFuc2l0aW9uZXIsXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBjYW1lcmEyRCxcbiAgICAgICAgdXBkYXRlSGVpZ2h0LFxuICAgICAgICBjb21wbGV0ZVxuICAgICAgKTtcbiAgICB9LFxuICB9KTtcbiAgdHJhbnNpdGlvbmVyLl9jdXJyZW50VHdlZW5zLnB1c2godHdlZW4pO1xufVxuXG52YXIgc2NyYXRjaDNEVG8yRENhcnRvZ3JhcGhpYyA9IG5ldyBDYXJ0b2dyYXBoaWMoKTtcbnZhciBzY3JhdGNoM0RUbzJEQ2FtZXJhID0ge1xuICBwb3NpdGlvbjogbmV3IENhcnRlc2lhbjMoKSxcbiAgZGlyZWN0aW9uOiBuZXcgQ2FydGVzaWFuMygpLFxuICB1cDogbmV3IENhcnRlc2lhbjMoKSxcbiAgcG9zaXRpb24yRDogbmV3IENhcnRlc2lhbjMoKSxcbiAgZGlyZWN0aW9uMkQ6IG5ldyBDYXJ0ZXNpYW4zKCksXG4gIHVwMkQ6IG5ldyBDYXJ0ZXNpYW4zKCksXG4gIGZydXN0dW06IG5ldyBPcnRob2dyYXBoaWNPZmZDZW50ZXJGcnVzdHVtKCksXG59O1xudmFyIHNjcmF0Y2gzRFRvMkRFbmRDYW1lcmEgPSB7XG4gIHBvc2l0aW9uOiBuZXcgQ2FydGVzaWFuMygpLFxuICBkaXJlY3Rpb246IG5ldyBDYXJ0ZXNpYW4zKCksXG4gIHVwOiBuZXcgQ2FydGVzaWFuMygpLFxuICBmcnVzdHVtOiB1bmRlZmluZWQsXG59O1xudmFyIHNjcmF0Y2gzRFRvMkRQaWNrUG9zaXRpb24gPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2gzRFRvMkRSYXkgPSBuZXcgUmF5KCk7XG52YXIgc2NyYXRjaDNEVG8yRFRvRU5VID0gbmV3IE1hdHJpeDQoKTtcbnZhciBzY3JhdGNoM0RUbzJEU3VyZmFjZVBvaW50ID0gbmV3IENhcnRlc2lhbjMoKTtcblxuZnVuY3Rpb24gbW9ycGhGcm9tM0RUbzJEKHRyYW5zaXRpb25lciwgZHVyYXRpb24sIGVsbGlwc29pZCkge1xuICBkdXJhdGlvbiAqPSAwLjU7XG5cbiAgdmFyIHNjZW5lID0gdHJhbnNpdGlvbmVyLl9zY2VuZTtcbiAgdmFyIGNhbWVyYSA9IHNjZW5lLmNhbWVyYTtcbiAgdmFyIGNhbWVyYTJEID0gc2NyYXRjaDNEVG8yRENhbWVyYTtcblxuICBpZiAoZHVyYXRpb24gPiAwLjApIHtcbiAgICBDYXJ0ZXNpYW4zLmNsb25lKENhcnRlc2lhbjMuWkVSTywgY2FtZXJhMkQucG9zaXRpb24pO1xuICAgIGNhbWVyYTJELnBvc2l0aW9uLnogPSA1LjAgKiBlbGxpcHNvaWQubWF4aW11bVJhZGl1cztcbiAgICBDYXJ0ZXNpYW4zLm5lZ2F0ZShDYXJ0ZXNpYW4zLlVOSVRfWiwgY2FtZXJhMkQuZGlyZWN0aW9uKTtcbiAgICBDYXJ0ZXNpYW4zLmNsb25lKENhcnRlc2lhbjMuVU5JVF9ZLCBjYW1lcmEyRC51cCk7XG4gIH0gZWxzZSB7XG4gICAgZWxsaXBzb2lkLmNhcnRlc2lhblRvQ2FydG9ncmFwaGljKFxuICAgICAgY2FtZXJhLnBvc2l0aW9uV0MsXG4gICAgICBzY3JhdGNoM0RUbzJEQ2FydG9ncmFwaGljXG4gICAgKTtcbiAgICBzY2VuZS5tYXBQcm9qZWN0aW9uLnByb2plY3Qoc2NyYXRjaDNEVG8yRENhcnRvZ3JhcGhpYywgY2FtZXJhMkQucG9zaXRpb24pO1xuXG4gICAgQ2FydGVzaWFuMy5uZWdhdGUoQ2FydGVzaWFuMy5VTklUX1osIGNhbWVyYTJELmRpcmVjdGlvbik7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShDYXJ0ZXNpYW4zLlVOSVRfWSwgY2FtZXJhMkQudXApO1xuXG4gICAgdmFyIHJheSA9IHNjcmF0Y2gzRFRvMkRSYXk7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEyRC5wb3NpdGlvbjJELCByYXkub3JpZ2luKTtcbiAgICB2YXIgcmF5RGlyZWN0aW9uID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEuZGlyZWN0aW9uV0MsIHJheS5kaXJlY3Rpb24pO1xuICAgIHZhciBzdXJmYWNlUG9pbnQgPSBlbGxpcHNvaWQuc2NhbGVUb0dlb2RldGljU3VyZmFjZShcbiAgICAgIGNhbWVyYS5wb3NpdGlvbldDLFxuICAgICAgc2NyYXRjaDNEVG8yRFN1cmZhY2VQb2ludFxuICAgICk7XG4gICAgdmFyIHRvRU5VID0gVHJhbnNmb3Jtcy5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShcbiAgICAgIHN1cmZhY2VQb2ludCxcbiAgICAgIGVsbGlwc29pZCxcbiAgICAgIHNjcmF0Y2gzRFRvMkRUb0VOVVxuICAgICk7XG4gICAgTWF0cml4NC5pbnZlcnNlVHJhbnNmb3JtYXRpb24odG9FTlUsIHRvRU5VKTtcbiAgICBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludEFzVmVjdG9yKHRvRU5VLCByYXlEaXJlY3Rpb24sIHJheURpcmVjdGlvbik7XG4gICAgTWF0cml4NC5tdWx0aXBseUJ5UG9pbnRBc1ZlY3RvcihcbiAgICAgIENhbWVyYS5UUkFOU0ZPUk1fMkQsXG4gICAgICByYXlEaXJlY3Rpb24sXG4gICAgICByYXlEaXJlY3Rpb25cbiAgICApO1xuXG4gICAgdmFyIGdsb2JlID0gc2NlbmUuZ2xvYmU7XG4gICAgaWYgKGRlZmluZWQoZ2xvYmUpKSB7XG4gICAgICB2YXIgcGlja2VkUG9zID0gZ2xvYmUucGlja1dvcmxkQ29vcmRpbmF0ZXMoXG4gICAgICAgIHJheSxcbiAgICAgICAgc2NlbmUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHNjcmF0Y2gzRFRvMkRQaWNrUG9zaXRpb25cbiAgICAgICk7XG4gICAgICBpZiAoZGVmaW5lZChwaWNrZWRQb3MpKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBDYXJ0ZXNpYW4zLmRpc3RhbmNlKGNhbWVyYTJELnBvc2l0aW9uMkQsIHBpY2tlZFBvcyk7XG4gICAgICAgIHBpY2tlZFBvcy54ICs9IGhlaWdodDtcbiAgICAgICAgQ2FydGVzaWFuMy5jbG9uZShwaWNrZWRQb3MsIGNhbWVyYTJELnBvc2l0aW9uMkQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlaWdodChjYW1lcmEsIGhlaWdodCkge1xuICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gaGVpZ2h0O1xuICB9XG5cbiAgTWF0cml4NC5tdWx0aXBseUJ5UG9pbnQoXG4gICAgQ2FtZXJhLlRSQU5TRk9STV8yRCxcbiAgICBjYW1lcmEyRC5wb3NpdGlvbixcbiAgICBjYW1lcmEyRC5wb3NpdGlvbjJEXG4gICk7XG4gIE1hdHJpeDQubXVsdGlwbHlCeVBvaW50QXNWZWN0b3IoXG4gICAgQ2FtZXJhLlRSQU5TRk9STV8yRCxcbiAgICBjYW1lcmEyRC5kaXJlY3Rpb24sXG4gICAgY2FtZXJhMkQuZGlyZWN0aW9uMkRcbiAgKTtcbiAgTWF0cml4NC5tdWx0aXBseUJ5UG9pbnRBc1ZlY3RvcihcbiAgICBDYW1lcmEuVFJBTlNGT1JNXzJELFxuICAgIGNhbWVyYTJELnVwLFxuICAgIGNhbWVyYTJELnVwMkRcbiAgKTtcblxuICB2YXIgZnJ1c3R1bSA9IGNhbWVyYTJELmZydXN0dW07XG4gIGZydXN0dW0ucmlnaHQgPSBjYW1lcmEyRC5wb3NpdGlvbi56ICogMC41O1xuICBmcnVzdHVtLmxlZnQgPSAtZnJ1c3R1bS5yaWdodDtcbiAgZnJ1c3R1bS50b3AgPVxuICAgIGZydXN0dW0ucmlnaHQgKiAoc2NlbmUuZHJhd2luZ0J1ZmZlckhlaWdodCAvIHNjZW5lLmRyYXdpbmdCdWZmZXJXaWR0aCk7XG4gIGZydXN0dW0uYm90dG9tID0gLWZydXN0dW0udG9wO1xuXG4gIHZhciBlbmRDYW1lcmEgPSBzY3JhdGNoM0RUbzJERW5kQ2FtZXJhO1xuICBNYXRyaXg0Lm11bHRpcGx5QnlQb2ludChcbiAgICBDYW1lcmEuVFJBTlNGT1JNXzJEX0lOVkVSU0UsXG4gICAgY2FtZXJhMkQucG9zaXRpb24yRCxcbiAgICBlbmRDYW1lcmEucG9zaXRpb25cbiAgKTtcbiAgQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEyRC5kaXJlY3Rpb24sIGVuZENhbWVyYS5kaXJlY3Rpb24pO1xuICBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYTJELnVwLCBlbmRDYW1lcmEudXApO1xuICBlbmRDYW1lcmEuZnJ1c3R1bSA9IGZydXN0dW07XG5cbiAgdmFyIGNvbXBsZXRlID0gY29tcGxldGUyRENhbGxiYWNrKGVuZENhbWVyYSk7XG4gIGNyZWF0ZU1vcnBoSGFuZGxlcih0cmFuc2l0aW9uZXIsIGNvbXBsZXRlKTtcblxuICBmdW5jdGlvbiBjb21wbGV0ZUNhbGxiYWNrKCkge1xuICAgIG1vcnBoUGVyc3BlY3RpdmVUb09ydGhvZ3JhcGhpYyhcbiAgICAgIHRyYW5zaXRpb25lcixcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgY2FtZXJhMkQsXG4gICAgICB1cGRhdGVIZWlnaHQsXG4gICAgICBjb21wbGV0ZVxuICAgICk7XG4gIH1cbiAgbW9ycGhGcm9tM0RUb0NvbHVtYnVzVmlldyh0cmFuc2l0aW9uZXIsIGR1cmF0aW9uLCBjYW1lcmEyRCwgY29tcGxldGVDYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIG1vcnBoT3J0aG9ncmFwaGljVG9QZXJzcGVjdGl2ZShcbiAgdHJhbnNpdGlvbmVyLFxuICBkdXJhdGlvbixcbiAgY2FtZXJhQ1YsXG4gIGNvbXBsZXRlXG4pIHtcbiAgdmFyIHNjZW5lID0gdHJhbnNpdGlvbmVyLl9zY2VuZTtcbiAgdmFyIGNhbWVyYSA9IHNjZW5lLmNhbWVyYTtcblxuICB2YXIgaGVpZ2h0ID0gY2FtZXJhLmZydXN0dW0ucmlnaHQgLSBjYW1lcmEuZnJ1c3R1bS5sZWZ0O1xuICBjYW1lcmEuZnJ1c3R1bSA9IGNhbWVyYUNWLmZydXN0dW0uY2xvbmUoKTtcblxuICB2YXIgZW5kRk9WID0gY2FtZXJhLmZydXN0dW0uZm92O1xuICB2YXIgc3RhcnRGT1YgPSBDZXNpdW1NYXRoLlJBRElBTlNfUEVSX0RFR1JFRSAqIDAuNTtcbiAgdmFyIGQgPSBoZWlnaHQgKiBNYXRoLnRhbihlbmRGT1YgKiAwLjUpO1xuICBjYW1lcmEuZnJ1c3R1bS5mYXIgPSBkIC8gTWF0aC50YW4oc3RhcnRGT1YgKiAwLjUpICsgMTAwMDAwMDAuMDtcbiAgY2FtZXJhLmZydXN0dW0uZm92ID0gc3RhcnRGT1Y7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHZhbHVlKSB7XG4gICAgY2FtZXJhLmZydXN0dW0uZm92ID0gQ2VzaXVtTWF0aC5sZXJwKHN0YXJ0Rk9WLCBlbmRGT1YsIHZhbHVlLnRpbWUpO1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gZCAvIE1hdGgudGFuKGNhbWVyYS5mcnVzdHVtLmZvdiAqIDAuNSk7XG4gIH1cbiAgdmFyIHR3ZWVuID0gc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgIGVhc2luZ0Z1bmN0aW9uOiBFYXNpbmdGdW5jdGlvbi5RVUFSVElDX09VVCxcbiAgICBzdGFydE9iamVjdDoge1xuICAgICAgdGltZTogMC4wLFxuICAgIH0sXG4gICAgc3RvcE9iamVjdDoge1xuICAgICAgdGltZTogMS4wLFxuICAgIH0sXG4gICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbXBsZXRlKHRyYW5zaXRpb25lcik7XG4gICAgfSxcbiAgfSk7XG4gIHRyYW5zaXRpb25lci5fY3VycmVudFR3ZWVucy5wdXNoKHR3ZWVuKTtcbn1cblxuZnVuY3Rpb24gbW9ycGhGcm9tMkRUb0NvbHVtYnVzVmlldyh0cmFuc2l0aW9uZXIsIGR1cmF0aW9uLCBjYW1lcmFDViwgY29tcGxldGUpIHtcbiAgZHVyYXRpb24gKj0gMC41O1xuXG4gIHZhciBzY2VuZSA9IHRyYW5zaXRpb25lci5fc2NlbmU7XG4gIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmE7XG5cbiAgdmFyIGVuZFBvcyA9IENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhQ1YucG9zaXRpb24sIHNjcmF0Y2gzRFRvQ1ZFbmRQb3MpO1xuICB2YXIgZW5kRGlyID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmFDVi5kaXJlY3Rpb24sIHNjcmF0Y2gzRFRvQ1ZFbmREaXIpO1xuICB2YXIgZW5kVXAgPSBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYUNWLnVwLCBzY3JhdGNoM0RUb0NWRW5kVXApO1xuXG4gIHNjZW5lLl9tb2RlID0gU2NlbmVNb2RlLk1PUlBISU5HO1xuXG4gIGZ1bmN0aW9uIG1vcnBoKCkge1xuICAgIGNhbWVyYS5mcnVzdHVtID0gY2FtZXJhQ1YuZnJ1c3R1bS5jbG9uZSgpO1xuXG4gICAgdmFyIHN0YXJ0UG9zID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEucG9zaXRpb24sIHNjcmF0Y2gzRFRvQ1ZTdGFydFBvcyk7XG4gICAgdmFyIHN0YXJ0RGlyID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEuZGlyZWN0aW9uLCBzY3JhdGNoM0RUb0NWU3RhcnREaXIpO1xuICAgIHZhciBzdGFydFVwID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEudXAsIHNjcmF0Y2gzRFRvQ1ZTdGFydFVwKTtcbiAgICBzdGFydFBvcy56ID0gZW5kUG9zLno7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGUodmFsdWUpIHtcbiAgICAgIGNvbHVtYnVzVmlld01vcnBoKHN0YXJ0UG9zLCBlbmRQb3MsIHZhbHVlLnRpbWUsIGNhbWVyYS5wb3NpdGlvbik7XG4gICAgICBjb2x1bWJ1c1ZpZXdNb3JwaChzdGFydERpciwgZW5kRGlyLCB2YWx1ZS50aW1lLCBjYW1lcmEuZGlyZWN0aW9uKTtcbiAgICAgIGNvbHVtYnVzVmlld01vcnBoKHN0YXJ0VXAsIGVuZFVwLCB2YWx1ZS50aW1lLCBjYW1lcmEudXApO1xuICAgICAgQ2FydGVzaWFuMy5jcm9zcyhjYW1lcmEuZGlyZWN0aW9uLCBjYW1lcmEudXAsIGNhbWVyYS5yaWdodCk7XG4gICAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShjYW1lcmEucmlnaHQsIGNhbWVyYS5yaWdodCk7XG4gICAgfVxuICAgIHZhciB0d2VlbiA9IHNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgZWFzaW5nRnVuY3Rpb246IEVhc2luZ0Z1bmN0aW9uLlFVQVJUSUNfT1VULFxuICAgICAgc3RhcnRPYmplY3Q6IHtcbiAgICAgICAgdGltZTogMC4wLFxuICAgICAgfSxcbiAgICAgIHN0b3BPYmplY3Q6IHtcbiAgICAgICAgdGltZTogMS4wLFxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29tcGxldGUodHJhbnNpdGlvbmVyKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdHJhbnNpdGlvbmVyLl9jdXJyZW50VHdlZW5zLnB1c2godHdlZW4pO1xuICB9XG5cbiAgaWYgKHRyYW5zaXRpb25lci5fbW9ycGhUb09ydGhvZ3JhcGhpYykge1xuICAgIG1vcnBoKCk7XG4gIH0gZWxzZSB7XG4gICAgbW9ycGhPcnRob2dyYXBoaWNUb1BlcnNwZWN0aXZlKHRyYW5zaXRpb25lciwgMC4wLCBjYW1lcmFDViwgbW9ycGgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1vcnBoRnJvbTNEVG9Db2x1bWJ1c1ZpZXcoXG4gIHRyYW5zaXRpb25lcixcbiAgZHVyYXRpb24sXG4gIGVuZENhbWVyYSxcbiAgY29tcGxldGVcbikge1xuICB2YXIgc2NlbmUgPSB0cmFuc2l0aW9uZXIuX3NjZW5lO1xuICB2YXIgY2FtZXJhID0gc2NlbmUuY2FtZXJhO1xuXG4gIHZhciBzdGFydFBvcyA9IENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhLnBvc2l0aW9uLCBzY3JhdGNoM0RUb0NWU3RhcnRQb3MpO1xuICB2YXIgc3RhcnREaXIgPSBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS5kaXJlY3Rpb24sIHNjcmF0Y2gzRFRvQ1ZTdGFydERpcik7XG4gIHZhciBzdGFydFVwID0gQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEudXAsIHNjcmF0Y2gzRFRvQ1ZTdGFydFVwKTtcblxuICB2YXIgZW5kUG9zID0gQ2FydGVzaWFuMy5jbG9uZShlbmRDYW1lcmEucG9zaXRpb24yRCwgc2NyYXRjaDNEVG9DVkVuZFBvcyk7XG4gIHZhciBlbmREaXIgPSBDYXJ0ZXNpYW4zLmNsb25lKGVuZENhbWVyYS5kaXJlY3Rpb24yRCwgc2NyYXRjaDNEVG9DVkVuZERpcik7XG4gIHZhciBlbmRVcCA9IENhcnRlc2lhbjMuY2xvbmUoZW5kQ2FtZXJhLnVwMkQsIHNjcmF0Y2gzRFRvQ1ZFbmRVcCk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlKHZhbHVlKSB7XG4gICAgY29sdW1idXNWaWV3TW9ycGgoc3RhcnRQb3MsIGVuZFBvcywgdmFsdWUudGltZSwgY2FtZXJhLnBvc2l0aW9uKTtcbiAgICBjb2x1bWJ1c1ZpZXdNb3JwaChzdGFydERpciwgZW5kRGlyLCB2YWx1ZS50aW1lLCBjYW1lcmEuZGlyZWN0aW9uKTtcbiAgICBjb2x1bWJ1c1ZpZXdNb3JwaChzdGFydFVwLCBlbmRVcCwgdmFsdWUudGltZSwgY2FtZXJhLnVwKTtcbiAgICBDYXJ0ZXNpYW4zLmNyb3NzKGNhbWVyYS5kaXJlY3Rpb24sIGNhbWVyYS51cCwgY2FtZXJhLnJpZ2h0KTtcbiAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShjYW1lcmEucmlnaHQsIGNhbWVyYS5yaWdodCk7XG4gICAgY2FtZXJhLl9hZGp1c3RPcnRob2dyYXBoaWNGcnVzdHVtKHRydWUpO1xuICB9XG4gIHZhciB0d2VlbiA9IHNjZW5lLnR3ZWVucy5hZGQoe1xuICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICBlYXNpbmdGdW5jdGlvbjogRWFzaW5nRnVuY3Rpb24uUVVBUlRJQ19PVVQsXG4gICAgc3RhcnRPYmplY3Q6IHtcbiAgICAgIHRpbWU6IDAuMCxcbiAgICB9LFxuICAgIHN0b3BPYmplY3Q6IHtcbiAgICAgIHRpbWU6IDEuMCxcbiAgICB9LFxuICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBhZGRNb3JwaFRpbWVBbmltYXRpb25zKHRyYW5zaXRpb25lciwgc2NlbmUsIDEuMCwgMC4wLCBkdXJhdGlvbiwgY29tcGxldGUpO1xuICAgIH0sXG4gIH0pO1xuICB0cmFuc2l0aW9uZXIuX2N1cnJlbnRUd2VlbnMucHVzaCh0d2Vlbik7XG59XG5cbmZ1bmN0aW9uIGFkZE1vcnBoVGltZUFuaW1hdGlvbnMoXG4gIHRyYW5zaXRpb25lcixcbiAgc2NlbmUsXG4gIHN0YXJ0LFxuICBzdG9wLFxuICBkdXJhdGlvbixcbiAgY29tcGxldGVcbikge1xuICAvLyBMYXRlciwgdGhpcyB3aWxsIGJlIGxpbmVhciBhbmQgZWFjaCBvYmplY3Qgd2lsbCBhZGp1c3QsIGlmIGRlc2lyZWQsIGluIGl0cyB2ZXJ0ZXggc2hhZGVyLlxuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBvYmplY3Q6IHNjZW5lLFxuICAgIHByb3BlcnR5OiBcIm1vcnBoVGltZVwiLFxuICAgIHN0YXJ0VmFsdWU6IHN0YXJ0LFxuICAgIHN0b3BWYWx1ZTogc3RvcCxcbiAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgZWFzaW5nRnVuY3Rpb246IEVhc2luZ0Z1bmN0aW9uLlFVQVJUSUNfT1VULFxuICB9O1xuXG4gIGlmIChkZWZpbmVkKGNvbXBsZXRlKSkge1xuICAgIG9wdGlvbnMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb21wbGV0ZSh0cmFuc2l0aW9uZXIpO1xuICAgIH07XG4gIH1cblxuICB2YXIgdHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkUHJvcGVydHkob3B0aW9ucyk7XG4gIHRyYW5zaXRpb25lci5fY3VycmVudFR3ZWVucy5wdXNoKHR3ZWVuKTtcbn1cblxuZnVuY3Rpb24gY29tcGxldGUzRENhbGxiYWNrKGNhbWVyYTNEKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodHJhbnNpdGlvbmVyKSB7XG4gICAgdmFyIHNjZW5lID0gdHJhbnNpdGlvbmVyLl9zY2VuZTtcbiAgICBzY2VuZS5fbW9kZSA9IFNjZW5lTW9kZS5TQ0VORTNEO1xuICAgIHNjZW5lLm1vcnBoVGltZSA9IFNjZW5lTW9kZS5nZXRNb3JwaFRpbWUoU2NlbmVNb2RlLlNDRU5FM0QpO1xuXG4gICAgZGVzdHJveU1vcnBoSGFuZGxlcih0cmFuc2l0aW9uZXIpO1xuXG4gICAgdmFyIGNhbWVyYSA9IHNjZW5lLmNhbWVyYTtcbiAgICBpZiAoXG4gICAgICB0cmFuc2l0aW9uZXIuX3ByZXZpb3VzTW9kZSAhPT0gU2NlbmVNb2RlLk1PUlBISU5HIHx8XG4gICAgICB0cmFuc2l0aW9uZXIuX21vcnBoQ2FuY2VsbGVkXG4gICAgKSB7XG4gICAgICB0cmFuc2l0aW9uZXIuX21vcnBoQ2FuY2VsbGVkID0gZmFsc2U7XG5cbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhM0QucG9zaXRpb24sIGNhbWVyYS5wb3NpdGlvbik7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYTNELmRpcmVjdGlvbiwgY2FtZXJhLmRpcmVjdGlvbik7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYTNELnVwLCBjYW1lcmEudXApO1xuICAgICAgQ2FydGVzaWFuMy5jcm9zcyhjYW1lcmEuZGlyZWN0aW9uLCBjYW1lcmEudXAsIGNhbWVyYS5yaWdodCk7XG4gICAgICBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShjYW1lcmEucmlnaHQsIGNhbWVyYS5yaWdodCk7XG5cbiAgICAgIGNhbWVyYS5mcnVzdHVtID0gY2FtZXJhM0QuZnJ1c3R1bS5jbG9uZSgpO1xuICAgIH1cblxuICAgIHZhciBmcnVzdHVtID0gY2FtZXJhLmZydXN0dW07XG4gICAgaWYgKHNjZW5lLmZyYW1lU3RhdGUudXNlTG9nRGVwdGgpIHtcbiAgICAgIGZydXN0dW0ubmVhciA9IDAuMTtcbiAgICAgIGZydXN0dW0uZmFyID0gMTAwMDAwMDAwMDAuMDtcbiAgICB9XG5cbiAgICB2YXIgd2FzTW9ycGhpbmcgPSBkZWZpbmVkKHRyYW5zaXRpb25lci5fY29tcGxldGVNb3JwaCk7XG4gICAgdHJhbnNpdGlvbmVyLl9jb21wbGV0ZU1vcnBoID0gdW5kZWZpbmVkO1xuICAgIHNjZW5lLmNhbWVyYS51cGRhdGUoc2NlbmUubW9kZSk7XG4gICAgdHJhbnNpdGlvbmVyLl9zY2VuZS5tb3JwaENvbXBsZXRlLnJhaXNlRXZlbnQoXG4gICAgICB0cmFuc2l0aW9uZXIsXG4gICAgICB0cmFuc2l0aW9uZXIuX3ByZXZpb3VzTW9kZSxcbiAgICAgIFNjZW5lTW9kZS5TQ0VORTNELFxuICAgICAgd2FzTW9ycGhpbmdcbiAgICApO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb21wbGV0ZTJEQ2FsbGJhY2soY2FtZXJhMkQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2l0aW9uZXIpIHtcbiAgICB2YXIgc2NlbmUgPSB0cmFuc2l0aW9uZXIuX3NjZW5lO1xuXG4gICAgc2NlbmUuX21vZGUgPSBTY2VuZU1vZGUuU0NFTkUyRDtcbiAgICBzY2VuZS5tb3JwaFRpbWUgPSBTY2VuZU1vZGUuZ2V0TW9ycGhUaW1lKFNjZW5lTW9kZS5TQ0VORTJEKTtcblxuICAgIGRlc3Ryb3lNb3JwaEhhbmRsZXIodHJhbnNpdGlvbmVyKTtcblxuICAgIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmE7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEyRC5wb3NpdGlvbiwgY2FtZXJhLnBvc2l0aW9uKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueiA9IHNjZW5lLm1hcFByb2plY3Rpb24uZWxsaXBzb2lkLm1heGltdW1SYWRpdXMgKiAyLjA7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEyRC5kaXJlY3Rpb24sIGNhbWVyYS5kaXJlY3Rpb24pO1xuICAgIENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhMkQudXAsIGNhbWVyYS51cCk7XG4gICAgQ2FydGVzaWFuMy5jcm9zcyhjYW1lcmEuZGlyZWN0aW9uLCBjYW1lcmEudXAsIGNhbWVyYS5yaWdodCk7XG4gICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoY2FtZXJhLnJpZ2h0LCBjYW1lcmEucmlnaHQpO1xuICAgIGNhbWVyYS5mcnVzdHVtID0gY2FtZXJhMkQuZnJ1c3R1bS5jbG9uZSgpO1xuXG4gICAgdmFyIHdhc01vcnBoaW5nID0gZGVmaW5lZCh0cmFuc2l0aW9uZXIuX2NvbXBsZXRlTW9ycGgpO1xuICAgIHRyYW5zaXRpb25lci5fY29tcGxldGVNb3JwaCA9IHVuZGVmaW5lZDtcbiAgICBzY2VuZS5jYW1lcmEudXBkYXRlKHNjZW5lLm1vZGUpO1xuICAgIHRyYW5zaXRpb25lci5fc2NlbmUubW9ycGhDb21wbGV0ZS5yYWlzZUV2ZW50KFxuICAgICAgdHJhbnNpdGlvbmVyLFxuICAgICAgdHJhbnNpdGlvbmVyLl9wcmV2aW91c01vZGUsXG4gICAgICBTY2VuZU1vZGUuU0NFTkUyRCxcbiAgICAgIHdhc01vcnBoaW5nXG4gICAgKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29tcGxldGVDb2x1bWJ1c1ZpZXdDYWxsYmFjayhjYW1lcmFDVikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zaXRpb25lcikge1xuICAgIHZhciBzY2VuZSA9IHRyYW5zaXRpb25lci5fc2NlbmU7XG4gICAgc2NlbmUuX21vZGUgPSBTY2VuZU1vZGUuQ09MVU1CVVNfVklFVztcbiAgICBzY2VuZS5tb3JwaFRpbWUgPSBTY2VuZU1vZGUuZ2V0TW9ycGhUaW1lKFNjZW5lTW9kZS5DT0xVTUJVU19WSUVXKTtcblxuICAgIGRlc3Ryb3lNb3JwaEhhbmRsZXIodHJhbnNpdGlvbmVyKTtcblxuICAgIHZhciBjYW1lcmEgPSBzY2VuZS5jYW1lcmE7XG4gICAgaWYgKFxuICAgICAgdHJhbnNpdGlvbmVyLl9wcmV2aW91c01vZGVNb2RlICE9PSBTY2VuZU1vZGUuTU9SUEhJTkcgfHxcbiAgICAgIHRyYW5zaXRpb25lci5fbW9ycGhDYW5jZWxsZWRcbiAgICApIHtcbiAgICAgIHRyYW5zaXRpb25lci5fbW9ycGhDYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgICAgQ2FydGVzaWFuMy5jbG9uZShjYW1lcmFDVi5wb3NpdGlvbiwgY2FtZXJhLnBvc2l0aW9uKTtcbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhQ1YuZGlyZWN0aW9uLCBjYW1lcmEuZGlyZWN0aW9uKTtcbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoY2FtZXJhQ1YudXAsIGNhbWVyYS51cCk7XG4gICAgICBDYXJ0ZXNpYW4zLmNyb3NzKGNhbWVyYS5kaXJlY3Rpb24sIGNhbWVyYS51cCwgY2FtZXJhLnJpZ2h0KTtcbiAgICAgIENhcnRlc2lhbjMubm9ybWFsaXplKGNhbWVyYS5yaWdodCwgY2FtZXJhLnJpZ2h0KTtcbiAgICB9XG5cbiAgICB2YXIgZnJ1c3R1bSA9IGNhbWVyYS5mcnVzdHVtO1xuICAgIGlmIChzY2VuZS5mcmFtZVN0YXRlLnVzZUxvZ0RlcHRoKSB7XG4gICAgICBmcnVzdHVtLm5lYXIgPSAwLjE7XG4gICAgICBmcnVzdHVtLmZhciA9IDEwMDAwMDAwMDAwLjA7XG4gICAgfVxuXG4gICAgdmFyIHdhc01vcnBoaW5nID0gZGVmaW5lZCh0cmFuc2l0aW9uZXIuX2NvbXBsZXRlTW9ycGgpO1xuICAgIHRyYW5zaXRpb25lci5fY29tcGxldGVNb3JwaCA9IHVuZGVmaW5lZDtcbiAgICBzY2VuZS5jYW1lcmEudXBkYXRlKHNjZW5lLm1vZGUpO1xuICAgIHRyYW5zaXRpb25lci5fc2NlbmUubW9ycGhDb21wbGV0ZS5yYWlzZUV2ZW50KFxuICAgICAgdHJhbnNpdGlvbmVyLFxuICAgICAgdHJhbnNpdGlvbmVyLl9wcmV2aW91c01vZGUsXG4gICAgICBTY2VuZU1vZGUuQ09MVU1CVVNfVklFVyxcbiAgICAgIHdhc01vcnBoaW5nXG4gICAgKTtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IFNjZW5lVHJhbnNpdGlvbmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///72984\n')}}]);