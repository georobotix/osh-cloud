"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[3188],{75464:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99417);\n\n\n/**\n * Defines different modes for blending between a target color and a primitive\'s source color.\n *\n * HIGHLIGHT multiplies the source color by the target color\n * REPLACE replaces the source color with the target color\n * MIX blends the source color and target color together\n *\n * @enum {Number}\n *\n * @see Model.colorBlendMode\n */\nvar ColorBlendMode = {\n  HIGHLIGHT: 0,\n  REPLACE: 1,\n  MIX: 2,\n};\n\n/**\n * @private\n */\nColorBlendMode.getColorBlend = function (colorBlendMode, colorBlendAmount) {\n  if (colorBlendMode === ColorBlendMode.HIGHLIGHT) {\n    return 0.0;\n  } else if (colorBlendMode === ColorBlendMode.REPLACE) {\n    return 1.0;\n  } else if (colorBlendMode === ColorBlendMode.MIX) {\n    // The value 0.0 is reserved for highlight, so clamp to just above 0.0.\n    return _Core_Math_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clamp */ .Z.clamp(colorBlendAmount, _Core_Math_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EPSILON4 */ .Z.EPSILON4, 1.0);\n  }\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(ColorBlendMode));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU0NjQuanMiLCJtYXBwaW5ncyI6IjtBQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxXQUFXLDBFQUFnQixtQkFBbUIsZ0ZBQW1CO0FBQ2pFO0FBQ0E7QUFDQSx5REFBZSw2QkFBNkIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9Db2xvckJsZW5kTW9kZS5qcz9hNjQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDZXNpdW1NYXRoIGZyb20gXCIuLi9Db3JlL01hdGguanNcIjtcblxuLyoqXG4gKiBEZWZpbmVzIGRpZmZlcmVudCBtb2RlcyBmb3IgYmxlbmRpbmcgYmV0d2VlbiBhIHRhcmdldCBjb2xvciBhbmQgYSBwcmltaXRpdmUncyBzb3VyY2UgY29sb3IuXG4gKlxuICogSElHSExJR0hUIG11bHRpcGxpZXMgdGhlIHNvdXJjZSBjb2xvciBieSB0aGUgdGFyZ2V0IGNvbG9yXG4gKiBSRVBMQUNFIHJlcGxhY2VzIHRoZSBzb3VyY2UgY29sb3Igd2l0aCB0aGUgdGFyZ2V0IGNvbG9yXG4gKiBNSVggYmxlbmRzIHRoZSBzb3VyY2UgY29sb3IgYW5kIHRhcmdldCBjb2xvciB0b2dldGhlclxuICpcbiAqIEBlbnVtIHtOdW1iZXJ9XG4gKlxuICogQHNlZSBNb2RlbC5jb2xvckJsZW5kTW9kZVxuICovXG52YXIgQ29sb3JCbGVuZE1vZGUgPSB7XG4gIEhJR0hMSUdIVDogMCxcbiAgUkVQTEFDRTogMSxcbiAgTUlYOiAyLFxufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5Db2xvckJsZW5kTW9kZS5nZXRDb2xvckJsZW5kID0gZnVuY3Rpb24gKGNvbG9yQmxlbmRNb2RlLCBjb2xvckJsZW5kQW1vdW50KSB7XG4gIGlmIChjb2xvckJsZW5kTW9kZSA9PT0gQ29sb3JCbGVuZE1vZGUuSElHSExJR0hUKSB7XG4gICAgcmV0dXJuIDAuMDtcbiAgfSBlbHNlIGlmIChjb2xvckJsZW5kTW9kZSA9PT0gQ29sb3JCbGVuZE1vZGUuUkVQTEFDRSkge1xuICAgIHJldHVybiAxLjA7XG4gIH0gZWxzZSBpZiAoY29sb3JCbGVuZE1vZGUgPT09IENvbG9yQmxlbmRNb2RlLk1JWCkge1xuICAgIC8vIFRoZSB2YWx1ZSAwLjAgaXMgcmVzZXJ2ZWQgZm9yIGhpZ2hsaWdodCwgc28gY2xhbXAgdG8ganVzdCBhYm92ZSAwLjAuXG4gICAgcmV0dXJuIENlc2l1bU1hdGguY2xhbXAoY29sb3JCbGVuZEFtb3VudCwgQ2VzaXVtTWF0aC5FUFNJTE9ONCwgMS4wKTtcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5mcmVlemUoQ29sb3JCbGVuZE1vZGUpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///75464\n')},67984:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86511);\n/* harmony import */ var _Core_getMagic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3020);\n/* harmony import */ var _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9407);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13222);\n\n\n\n\n\n\n\n/**\n * Represents the contents of a\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/TileFormats/Composite|Composite}\n * tile in a {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification|3D Tiles} tileset.\n * <p>\n * Implements the {@link Cesium3DTileContent} interface.\n * </p>\n *\n * @alias Composite3DTileContent\n * @constructor\n *\n * @private\n */\nfunction Composite3DTileContent(\n  tileset,\n  tile,\n  resource,\n  arrayBuffer,\n  byteOffset,\n  factory\n) {\n  this._tileset = tileset;\n  this._tile = tile;\n  this._resource = resource;\n  this._contents = [];\n  this._readyPromise = _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].defer */ .Z.defer();\n  this._groupMetadata = undefined;\n\n  initialize(this, arrayBuffer, byteOffset, factory);\n}\n\nObject.defineProperties(Composite3DTileContent.prototype, {\n  featurePropertiesDirty: {\n    get: function () {\n      var contents = this._contents;\n      var length = contents.length;\n      for (var i = 0; i < length; ++i) {\n        if (contents[i].featurePropertiesDirty) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    set: function (value) {\n      var contents = this._contents;\n      var length = contents.length;\n      for (var i = 0; i < length; ++i) {\n        contents[i].featurePropertiesDirty = value;\n      }\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n   * always returns <code>0</code>.  Instead call <code>featuresLength</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  featuresLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n   * always returns <code>0</code>.  Instead call <code>pointsLength</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  pointsLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n   * always returns <code>0</code>.  Instead call <code>trianglesLength</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  trianglesLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n   * always returns <code>0</code>.  Instead call <code>geometryByteLength</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  geometryByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface.   <code>Composite3DTileContent</code>\n   * always returns <code>0</code>.  Instead call <code>texturesByteLength</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  texturesByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n   * always returns <code>0</code>.  Instead call <code>batchTableByteLength</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  batchTableByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  innerContents: {\n    get: function () {\n      return this._contents;\n    },\n  },\n\n  readyPromise: {\n    get: function () {\n      return this._readyPromise.promise;\n    },\n  },\n\n  tileset: {\n    get: function () {\n      return this._tileset;\n    },\n  },\n\n  tile: {\n    get: function () {\n      return this._tile;\n    },\n  },\n\n  url: {\n    get: function () {\n      return this._resource.getUrlComponent(true);\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface. <code>Composite3DTileContent</code>\n   * always returns <code>undefined</code>.  Instead call <code>batchTable</code> for a tile in the composite.\n   * @memberof Composite3DTileContent.prototype\n   */\n  batchTable: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  /**\n   * Part of the {@link Cesium3DTileContent} interface. <code>Composite3DTileContent</code>\n   * both stores the group metadata and propagates the group metadata to all of its children.\n   * @memberof Composite3DTileContent.prototype\n   * @private\n   * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n   */\n  groupMetadata: {\n    get: function () {\n      return this._groupMetadata;\n    },\n    set: function (value) {\n      this._groupMetadata = value;\n      var contents = this._contents;\n      var length = contents.length;\n      for (var i = 0; i < length; ++i) {\n        contents[i].groupMetadata = value;\n      }\n    },\n  },\n});\n\nvar sizeOfUint32 = Uint32Array.BYTES_PER_ELEMENT;\n\nfunction initialize(content, arrayBuffer, byteOffset, factory) {\n  byteOffset = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(byteOffset, 0);\n\n  var uint8Array = new Uint8Array(arrayBuffer);\n  var view = new DataView(arrayBuffer);\n  byteOffset += sizeOfUint32; // Skip magic\n\n  var version = view.getUint32(byteOffset, true);\n  if (version !== 1) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(\n      "Only Composite Tile version 1 is supported. Version " +\n        version +\n        " is not."\n    );\n  }\n  byteOffset += sizeOfUint32;\n\n  // Skip byteLength\n  byteOffset += sizeOfUint32;\n\n  var tilesLength = view.getUint32(byteOffset, true);\n  byteOffset += sizeOfUint32;\n\n  var contentPromises = [];\n\n  for (var i = 0; i < tilesLength; ++i) {\n    var tileType = (0,_Core_getMagic_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(uint8Array, byteOffset);\n\n    // Tile byte length is stored after magic and version\n    var tileByteLength = view.getUint32(byteOffset + sizeOfUint32 * 2, true);\n\n    var contentFactory = factory[tileType];\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(contentFactory)) {\n      var innerContent = contentFactory(\n        content._tileset,\n        content._tile,\n        content._resource,\n        arrayBuffer,\n        byteOffset\n      );\n      content._contents.push(innerContent);\n      contentPromises.push(innerContent.readyPromise);\n    } else {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(\n        "Unknown tile content type, " + tileType + ", inside Composite tile"\n      );\n    }\n\n    byteOffset += tileByteLength;\n  }\n\n  _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].all */ .Z.all(contentPromises)\n    .then(function () {\n      content._readyPromise.resolve(content);\n    })\n    .otherwise(function (error) {\n      content._readyPromise.reject(error);\n    });\n}\n\n/**\n * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n * always returns <code>false</code>.  Instead call <code>hasProperty</code> for a tile in the composite.\n */\nComposite3DTileContent.prototype.hasProperty = function (batchId, name) {\n  return false;\n};\n\n/**\n * Part of the {@link Cesium3DTileContent} interface.  <code>Composite3DTileContent</code>\n * always returns <code>undefined</code>.  Instead call <code>getFeature</code> for a tile in the composite.\n */\nComposite3DTileContent.prototype.getFeature = function (batchId) {\n  return undefined;\n};\n\nComposite3DTileContent.prototype.applyDebugSettings = function (\n  enabled,\n  color\n) {\n  var contents = this._contents;\n  var length = contents.length;\n  for (var i = 0; i < length; ++i) {\n    contents[i].applyDebugSettings(enabled, color);\n  }\n};\n\nComposite3DTileContent.prototype.applyStyle = function (style) {\n  var contents = this._contents;\n  var length = contents.length;\n  for (var i = 0; i < length; ++i) {\n    contents[i].applyStyle(style);\n  }\n};\n\nComposite3DTileContent.prototype.update = function (tileset, frameState) {\n  var contents = this._contents;\n  var length = contents.length;\n  for (var i = 0; i < length; ++i) {\n    contents[i].update(tileset, frameState);\n  }\n};\n\nComposite3DTileContent.prototype.isDestroyed = function () {\n  return false;\n};\n\nComposite3DTileContent.prototype.destroy = function () {\n  var contents = this._contents;\n  var length = contents.length;\n  for (var i = 0; i < length; ++i) {\n    contents[i].destroy();\n  }\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Composite3DTileContent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQSxTQUFTLDJFQUFhO0FBQ3RCO0FBQ0EseURBQWUsc0JBQXNCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvQ29tcG9zaXRlM0RUaWxlQ29udGVudC5qcz9mYzkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgZ2V0TWFnaWMgZnJvbSBcIi4uL0NvcmUvZ2V0TWFnaWMuanNcIjtcbmltcG9ydCBSdW50aW1lRXJyb3IgZnJvbSBcIi4uL0NvcmUvUnVudGltZUVycm9yLmpzXCI7XG5pbXBvcnQgd2hlbiBmcm9tIFwiLi4vVGhpcmRQYXJ0eS93aGVuLmpzXCI7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgY29udGVudHMgb2YgYVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy8zZC10aWxlcy90cmVlL21haW4vc3BlY2lmaWNhdGlvbi9UaWxlRm9ybWF0cy9Db21wb3NpdGV8Q29tcG9zaXRlfVxuICogdGlsZSBpbiBhIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvM2QtdGlsZXMvdHJlZS9tYWluL3NwZWNpZmljYXRpb258M0QgVGlsZXN9IHRpbGVzZXQuXG4gKiA8cD5cbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBDZXNpdW0zRFRpbGVDb250ZW50fSBpbnRlcmZhY2UuXG4gKiA8L3A+XG4gKlxuICogQGFsaWFzIENvbXBvc2l0ZTNEVGlsZUNvbnRlbnRcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIENvbXBvc2l0ZTNEVGlsZUNvbnRlbnQoXG4gIHRpbGVzZXQsXG4gIHRpbGUsXG4gIHJlc291cmNlLFxuICBhcnJheUJ1ZmZlcixcbiAgYnl0ZU9mZnNldCxcbiAgZmFjdG9yeVxuKSB7XG4gIHRoaXMuX3RpbGVzZXQgPSB0aWxlc2V0O1xuICB0aGlzLl90aWxlID0gdGlsZTtcbiAgdGhpcy5fcmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgdGhpcy5fY29udGVudHMgPSBbXTtcbiAgdGhpcy5fcmVhZHlQcm9taXNlID0gd2hlbi5kZWZlcigpO1xuICB0aGlzLl9ncm91cE1ldGFkYXRhID0gdW5kZWZpbmVkO1xuXG4gIGluaXRpYWxpemUodGhpcywgYXJyYXlCdWZmZXIsIGJ5dGVPZmZzZXQsIGZhY3RvcnkpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZSwge1xuICBmZWF0dXJlUHJvcGVydGllc0RpcnR5OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udGVudHMgPSB0aGlzLl9jb250ZW50cztcbiAgICAgIHZhciBsZW5ndGggPSBjb250ZW50cy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChjb250ZW50c1tpXS5mZWF0dXJlUHJvcGVydGllc0RpcnR5KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuX2NvbnRlbnRzO1xuICAgICAgdmFyIGxlbmd0aCA9IGNvbnRlbnRzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29udGVudHNbaV0uZmVhdHVyZVByb3BlcnRpZXNEaXJ0eSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhcnQgb2YgdGhlIHtAbGluayBDZXNpdW0zRFRpbGVDb250ZW50fSBpbnRlcmZhY2UuICA8Y29kZT5Db21wb3NpdGUzRFRpbGVDb250ZW50PC9jb2RlPlxuICAgKiBhbHdheXMgcmV0dXJucyA8Y29kZT4wPC9jb2RlPi4gIEluc3RlYWQgY2FsbCA8Y29kZT5mZWF0dXJlc0xlbmd0aDwvY29kZT4gZm9yIGEgdGlsZSBpbiB0aGUgY29tcG9zaXRlLlxuICAgKiBAbWVtYmVyb2YgQ29tcG9zaXRlM0RUaWxlQ29udGVudC5wcm90b3R5cGVcbiAgICovXG4gIGZlYXR1cmVzTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgPGNvZGU+Q29tcG9zaXRlM0RUaWxlQ29udGVudDwvY29kZT5cbiAgICogYWx3YXlzIHJldHVybnMgPGNvZGU+MDwvY29kZT4uICBJbnN0ZWFkIGNhbGwgPGNvZGU+cG9pbnRzTGVuZ3RoPC9jb2RlPiBmb3IgYSB0aWxlIGluIHRoZSBjb21wb3NpdGUuXG4gICAqIEBtZW1iZXJvZiBDb21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZVxuICAgKi9cbiAgcG9pbnRzTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgPGNvZGU+Q29tcG9zaXRlM0RUaWxlQ29udGVudDwvY29kZT5cbiAgICogYWx3YXlzIHJldHVybnMgPGNvZGU+MDwvY29kZT4uICBJbnN0ZWFkIGNhbGwgPGNvZGU+dHJpYW5nbGVzTGVuZ3RoPC9jb2RlPiBmb3IgYSB0aWxlIGluIHRoZSBjb21wb3NpdGUuXG4gICAqIEBtZW1iZXJvZiBDb21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZVxuICAgKi9cbiAgdHJpYW5nbGVzTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgPGNvZGU+Q29tcG9zaXRlM0RUaWxlQ29udGVudDwvY29kZT5cbiAgICogYWx3YXlzIHJldHVybnMgPGNvZGU+MDwvY29kZT4uICBJbnN0ZWFkIGNhbGwgPGNvZGU+Z2VvbWV0cnlCeXRlTGVuZ3RoPC9jb2RlPiBmb3IgYSB0aWxlIGluIHRoZSBjb21wb3NpdGUuXG4gICAqIEBtZW1iZXJvZiBDb21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZVxuICAgKi9cbiAgZ2VvbWV0cnlCeXRlTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgIDxjb2RlPkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQ8L2NvZGU+XG4gICAqIGFsd2F5cyByZXR1cm5zIDxjb2RlPjA8L2NvZGU+LiAgSW5zdGVhZCBjYWxsIDxjb2RlPnRleHR1cmVzQnl0ZUxlbmd0aDwvY29kZT4gZm9yIGEgdGlsZSBpbiB0aGUgY29tcG9zaXRlLlxuICAgKiBAbWVtYmVyb2YgQ29tcG9zaXRlM0RUaWxlQ29udGVudC5wcm90b3R5cGVcbiAgICovXG4gIHRleHR1cmVzQnl0ZUxlbmd0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogUGFydCBvZiB0aGUge0BsaW5rIENlc2l1bTNEVGlsZUNvbnRlbnR9IGludGVyZmFjZS4gIDxjb2RlPkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQ8L2NvZGU+XG4gICAqIGFsd2F5cyByZXR1cm5zIDxjb2RlPjA8L2NvZGU+LiAgSW5zdGVhZCBjYWxsIDxjb2RlPmJhdGNoVGFibGVCeXRlTGVuZ3RoPC9jb2RlPiBmb3IgYSB0aWxlIGluIHRoZSBjb21wb3NpdGUuXG4gICAqIEBtZW1iZXJvZiBDb21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZVxuICAgKi9cbiAgYmF0Y2hUYWJsZUJ5dGVMZW5ndGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gIH0sXG5cbiAgaW5uZXJDb250ZW50czoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRzO1xuICAgIH0sXG4gIH0sXG5cbiAgcmVhZHlQcm9taXNlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVhZHlQcm9taXNlLnByb21pc2U7XG4gICAgfSxcbiAgfSxcblxuICB0aWxlc2V0OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGlsZXNldDtcbiAgICB9LFxuICB9LFxuXG4gIHRpbGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90aWxlO1xuICAgIH0sXG4gIH0sXG5cbiAgdXJsOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzb3VyY2UuZ2V0VXJsQ29tcG9uZW50KHRydWUpO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhcnQgb2YgdGhlIHtAbGluayBDZXNpdW0zRFRpbGVDb250ZW50fSBpbnRlcmZhY2UuIDxjb2RlPkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQ8L2NvZGU+XG4gICAqIGFsd2F5cyByZXR1cm5zIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4uICBJbnN0ZWFkIGNhbGwgPGNvZGU+YmF0Y2hUYWJsZTwvY29kZT4gZm9yIGEgdGlsZSBpbiB0aGUgY29tcG9zaXRlLlxuICAgKiBAbWVtYmVyb2YgQ29tcG9zaXRlM0RUaWxlQ29udGVudC5wcm90b3R5cGVcbiAgICovXG4gIGJhdGNoVGFibGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogUGFydCBvZiB0aGUge0BsaW5rIENlc2l1bTNEVGlsZUNvbnRlbnR9IGludGVyZmFjZS4gPGNvZGU+Q29tcG9zaXRlM0RUaWxlQ29udGVudDwvY29kZT5cbiAgICogYm90aCBzdG9yZXMgdGhlIGdyb3VwIG1ldGFkYXRhIGFuZCBwcm9wYWdhdGVzIHRoZSBncm91cCBtZXRhZGF0YSB0byBhbGwgb2YgaXRzIGNoaWxkcmVuLlxuICAgKiBAbWVtYmVyb2YgQ29tcG9zaXRlM0RUaWxlQ29udGVudC5wcm90b3R5cGVcbiAgICogQHByaXZhdGVcbiAgICogQGV4cGVyaW1lbnRhbCBUaGlzIGZlYXR1cmUgaXMgdXNpbmcgcGFydCBvZiB0aGUgM0QgVGlsZXMgc3BlYyB0aGF0IGlzIG5vdCBmaW5hbCBhbmQgaXMgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBDZXNpdW0ncyBzdGFuZGFyZCBkZXByZWNhdGlvbiBwb2xpY3kuXG4gICAqL1xuICBncm91cE1ldGFkYXRhOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ3JvdXBNZXRhZGF0YTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLl9ncm91cE1ldGFkYXRhID0gdmFsdWU7XG4gICAgICB2YXIgY29udGVudHMgPSB0aGlzLl9jb250ZW50cztcbiAgICAgIHZhciBsZW5ndGggPSBjb250ZW50cy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnRlbnRzW2ldLmdyb3VwTWV0YWRhdGEgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufSk7XG5cbnZhciBzaXplT2ZVaW50MzIgPSBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVDtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZShjb250ZW50LCBhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCwgZmFjdG9yeSkge1xuICBieXRlT2Zmc2V0ID0gZGVmYXVsdFZhbHVlKGJ5dGVPZmZzZXQsIDApO1xuXG4gIHZhciB1aW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gIGJ5dGVPZmZzZXQgKz0gc2l6ZU9mVWludDMyOyAvLyBTa2lwIG1hZ2ljXG5cbiAgdmFyIHZlcnNpb24gPSB2aWV3LmdldFVpbnQzMihieXRlT2Zmc2V0LCB0cnVlKTtcbiAgaWYgKHZlcnNpb24gIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgXCJPbmx5IENvbXBvc2l0ZSBUaWxlIHZlcnNpb24gMSBpcyBzdXBwb3J0ZWQuIFZlcnNpb24gXCIgK1xuICAgICAgICB2ZXJzaW9uICtcbiAgICAgICAgXCIgaXMgbm90LlwiXG4gICAgKTtcbiAgfVxuICBieXRlT2Zmc2V0ICs9IHNpemVPZlVpbnQzMjtcblxuICAvLyBTa2lwIGJ5dGVMZW5ndGhcbiAgYnl0ZU9mZnNldCArPSBzaXplT2ZVaW50MzI7XG5cbiAgdmFyIHRpbGVzTGVuZ3RoID0gdmlldy5nZXRVaW50MzIoYnl0ZU9mZnNldCwgdHJ1ZSk7XG4gIGJ5dGVPZmZzZXQgKz0gc2l6ZU9mVWludDMyO1xuXG4gIHZhciBjb250ZW50UHJvbWlzZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbGVzTGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgdGlsZVR5cGUgPSBnZXRNYWdpYyh1aW50OEFycmF5LCBieXRlT2Zmc2V0KTtcblxuICAgIC8vIFRpbGUgYnl0ZSBsZW5ndGggaXMgc3RvcmVkIGFmdGVyIG1hZ2ljIGFuZCB2ZXJzaW9uXG4gICAgdmFyIHRpbGVCeXRlTGVuZ3RoID0gdmlldy5nZXRVaW50MzIoYnl0ZU9mZnNldCArIHNpemVPZlVpbnQzMiAqIDIsIHRydWUpO1xuXG4gICAgdmFyIGNvbnRlbnRGYWN0b3J5ID0gZmFjdG9yeVt0aWxlVHlwZV07XG5cbiAgICBpZiAoZGVmaW5lZChjb250ZW50RmFjdG9yeSkpIHtcbiAgICAgIHZhciBpbm5lckNvbnRlbnQgPSBjb250ZW50RmFjdG9yeShcbiAgICAgICAgY29udGVudC5fdGlsZXNldCxcbiAgICAgICAgY29udGVudC5fdGlsZSxcbiAgICAgICAgY29udGVudC5fcmVzb3VyY2UsXG4gICAgICAgIGFycmF5QnVmZmVyLFxuICAgICAgICBieXRlT2Zmc2V0XG4gICAgICApO1xuICAgICAgY29udGVudC5fY29udGVudHMucHVzaChpbm5lckNvbnRlbnQpO1xuICAgICAgY29udGVudFByb21pc2VzLnB1c2goaW5uZXJDb250ZW50LnJlYWR5UHJvbWlzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAgIFwiVW5rbm93biB0aWxlIGNvbnRlbnQgdHlwZSwgXCIgKyB0aWxlVHlwZSArIFwiLCBpbnNpZGUgQ29tcG9zaXRlIHRpbGVcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBieXRlT2Zmc2V0ICs9IHRpbGVCeXRlTGVuZ3RoO1xuICB9XG5cbiAgd2hlblxuICAgIC5hbGwoY29udGVudFByb21pc2VzKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRlbnQuX3JlYWR5UHJvbWlzZS5yZXNvbHZlKGNvbnRlbnQpO1xuICAgIH0pXG4gICAgLm90aGVyd2lzZShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGNvbnRlbnQuX3JlYWR5UHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFBhcnQgb2YgdGhlIHtAbGluayBDZXNpdW0zRFRpbGVDb250ZW50fSBpbnRlcmZhY2UuICA8Y29kZT5Db21wb3NpdGUzRFRpbGVDb250ZW50PC9jb2RlPlxuICogYWx3YXlzIHJldHVybnMgPGNvZGU+ZmFsc2U8L2NvZGU+LiAgSW5zdGVhZCBjYWxsIDxjb2RlPmhhc1Byb3BlcnR5PC9jb2RlPiBmb3IgYSB0aWxlIGluIHRoZSBjb21wb3NpdGUuXG4gKi9cbkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQucHJvdG90eXBlLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKGJhdGNoSWQsIG5hbWUpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBQYXJ0IG9mIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLiAgPGNvZGU+Q29tcG9zaXRlM0RUaWxlQ29udGVudDwvY29kZT5cbiAqIGFsd2F5cyByZXR1cm5zIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4uICBJbnN0ZWFkIGNhbGwgPGNvZGU+Z2V0RmVhdHVyZTwvY29kZT4gZm9yIGEgdGlsZSBpbiB0aGUgY29tcG9zaXRlLlxuICovXG5Db21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZS5nZXRGZWF0dXJlID0gZnVuY3Rpb24gKGJhdGNoSWQpIHtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQucHJvdG90eXBlLmFwcGx5RGVidWdTZXR0aW5ncyA9IGZ1bmN0aW9uIChcbiAgZW5hYmxlZCxcbiAgY29sb3Jcbikge1xuICB2YXIgY29udGVudHMgPSB0aGlzLl9jb250ZW50cztcbiAgdmFyIGxlbmd0aCA9IGNvbnRlbnRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvbnRlbnRzW2ldLmFwcGx5RGVidWdTZXR0aW5ncyhlbmFibGVkLCBjb2xvcik7XG4gIH1cbn07XG5cbkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQucHJvdG90eXBlLmFwcGx5U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgdmFyIGNvbnRlbnRzID0gdGhpcy5fY29udGVudHM7XG4gIHZhciBsZW5ndGggPSBjb250ZW50cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb250ZW50c1tpXS5hcHBseVN0eWxlKHN0eWxlKTtcbiAgfVxufTtcblxuQ29tcG9zaXRlM0RUaWxlQ29udGVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRpbGVzZXQsIGZyYW1lU3RhdGUpIHtcbiAgdmFyIGNvbnRlbnRzID0gdGhpcy5fY29udGVudHM7XG4gIHZhciBsZW5ndGggPSBjb250ZW50cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb250ZW50c1tpXS51cGRhdGUodGlsZXNldCwgZnJhbWVTdGF0ZSk7XG4gIH1cbn07XG5cbkNvbXBvc2l0ZTNEVGlsZUNvbnRlbnQucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG5Db21wb3NpdGUzRFRpbGVDb250ZW50LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY29udGVudHMgPSB0aGlzLl9jb250ZW50cztcbiAgdmFyIGxlbmd0aCA9IGNvbnRlbnRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvbnRlbnRzW2ldLmRlc3Ryb3koKTtcbiAgfVxuICByZXR1cm4gZGVzdHJveU9iamVjdCh0aGlzKTtcbn07XG5leHBvcnQgZGVmYXVsdCBDb21wb3NpdGUzRFRpbGVDb250ZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///67984\n')},50451:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_clone_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83856);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82982);\n/* harmony import */ var _Expression_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19427);\n\n\n\n\n/**\n * An expression for a style applied to a {@link Cesium3DTileset}.\n * <p>\n * Evaluates a conditions expression defined using the\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language}.\n * </p>\n * <p>\n * Implements the {@link StyleExpression} interface.\n * </p>\n *\n * @alias ConditionsExpression\n * @constructor\n *\n * @param {Object} [conditionsExpression] The conditions expression defined using the 3D Tiles Styling language.\n * @param {Object} [defines] Defines in the style.\n *\n * @example\n * var expression = new Cesium.ConditionsExpression({\n *     conditions : [\n *         [\'${Area} > 10, \'color("#FF0000")\'],\n *         [\'${id} !== "1"\', \'color("#00FF00")\'],\n *         [\'true\', \'color("#FFFFFF")\']\n *     ]\n * });\n * expression.evaluateColor(feature, result); // returns a Cesium.Color object\n */\nfunction ConditionsExpression(conditionsExpression, defines) {\n  this._conditionsExpression = (0,_Core_clone_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(conditionsExpression, true);\n  this._conditions = conditionsExpression.conditions;\n  this._runtimeConditions = undefined;\n\n  setRuntime(this, defines);\n}\n\nObject.defineProperties(ConditionsExpression.prototype, {\n  /**\n   * Gets the conditions expression defined in the 3D Tiles Styling language.\n   *\n   * @memberof ConditionsExpression.prototype\n   *\n   * @type {Object}\n   * @readonly\n   *\n   * @default undefined\n   */\n  conditionsExpression: {\n    get: function () {\n      return this._conditionsExpression;\n    },\n  },\n});\n\nfunction Statement(condition, expression) {\n  this.condition = condition;\n  this.expression = expression;\n}\n\nfunction setRuntime(expression, defines) {\n  var runtimeConditions = [];\n  var conditions = expression._conditions;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(conditions)) {\n    return;\n  }\n  var length = conditions.length;\n  for (var i = 0; i < length; ++i) {\n    var statement = conditions[i];\n    var cond = String(statement[0]);\n    var condExpression = String(statement[1]);\n    runtimeConditions.push(\n      new Statement(\n        new _Expression_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(cond, defines),\n        new _Expression_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(condExpression, defines)\n      )\n    );\n  }\n  expression._runtimeConditions = runtimeConditions;\n}\n\n/**\n * Evaluates the result of an expression, optionally using the provided feature\'s properties. If the result of\n * the expression in the\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language}\n * is of type <code>Boolean</code>, <code>Number</code>, or <code>String</code>, the corresponding JavaScript\n * primitive type will be returned. If the result is a <code>RegExp</code>, a Javascript <code>RegExp</code>\n * object will be returned. If the result is a <code>Cartesian2</code>, <code>Cartesian3</code>, or <code>Cartesian4</code>,\n * a {@link Cartesian2}, {@link Cartesian3}, or {@link Cartesian4} object will be returned. If the <code>result</code> argument is\n * a {@link Color}, the {@link Cartesian4} value is converted to a {@link Color} and then returned.\n *\n * @param {Cesium3DTileFeature} feature The feature whose properties may be used as variables in the expression.\n * @param {Object} [result] The object onto which to store the result.\n * @returns {Boolean|Number|String|RegExp|Cartesian2|Cartesian3|Cartesian4|Color} The result of evaluating the expression.\n */\nConditionsExpression.prototype.evaluate = function (feature, result) {\n  var conditions = this._runtimeConditions;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(conditions)) {\n    return undefined;\n  }\n  var length = conditions.length;\n  for (var i = 0; i < length; ++i) {\n    var statement = conditions[i];\n    if (statement.condition.evaluate(feature)) {\n      return statement.expression.evaluate(feature, result);\n    }\n  }\n};\n\n/**\n * Evaluates the result of a Color expression, using the values defined by a feature.\n * <p>\n * This is equivalent to {@link ConditionsExpression#evaluate} but always returns a {@link Color} object.\n * </p>\n * @param {Cesium3DTileFeature} feature The feature whose properties may be used as variables in the expression.\n * @param {Color} [result] The object in which to store the result\n * @returns {Color} The modified result parameter or a new Color instance if one was not provided.\n */\nConditionsExpression.prototype.evaluateColor = function (feature, result) {\n  var conditions = this._runtimeConditions;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(conditions)) {\n    return undefined;\n  }\n  var length = conditions.length;\n  for (var i = 0; i < length; ++i) {\n    var statement = conditions[i];\n    if (statement.condition.evaluate(feature)) {\n      return statement.expression.evaluateColor(feature, result);\n    }\n  }\n};\n\n/**\n * Gets the shader function for this expression.\n * Returns undefined if the shader function can\'t be generated from this expression.\n *\n * @param {String} functionSignature Signature of the generated function.\n * @param {Object} variableSubstitutionMap Maps variable names to shader variable names.\n * @param {Object} shaderState Stores information about the generated shader function, including whether it is translucent.\n * @param {String} returnType The return type of the generated function.\n *\n * @returns {String} The shader function.\n *\n * @private\n */\nConditionsExpression.prototype.getShaderFunction = function (\n  functionSignature,\n  variableSubstitutionMap,\n  shaderState,\n  returnType\n) {\n  var conditions = this._runtimeConditions;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(conditions) || conditions.length === 0) {\n    return undefined;\n  }\n\n  var shaderFunction = "";\n  var length = conditions.length;\n  for (var i = 0; i < length; ++i) {\n    var statement = conditions[i];\n\n    var condition = statement.condition.getShaderExpression(\n      variableSubstitutionMap,\n      shaderState\n    );\n    var expression = statement.expression.getShaderExpression(\n      variableSubstitutionMap,\n      shaderState\n    );\n\n    // Build the if/else chain from the list of conditions\n    shaderFunction +=\n      "    " +\n      (i === 0 ? "if" : "else if") +\n      " (" +\n      condition +\n      ")\\n" +\n      "    {\\n" +\n      "        return " +\n      expression +\n      ";\\n" +\n      "    }\\n";\n  }\n\n  shaderFunction =\n    returnType +\n    " " +\n    functionSignature +\n    "\\n" +\n    "{\\n" +\n    shaderFunction +\n    "    return " +\n    returnType +\n    "(1.0);\\n" + // Return a default value if no conditions are met\n    "}\\n";\n\n  return shaderFunction;\n};\n\n/**\n * Gets the variables used by the expression.\n *\n * @returns {String[]} The variables used by the expression.\n *\n * @private\n */\nConditionsExpression.prototype.getVariables = function () {\n  var variables = [];\n\n  var conditions = this._runtimeConditions;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(conditions) || conditions.length === 0) {\n    return variables;\n  }\n\n  var length = conditions.length;\n  for (var i = 0; i < length; ++i) {\n    var statement = conditions[i];\n    variables.push.apply(variables, statement.condition.getVariables());\n    variables.push.apply(variables, statement.expression.getVariables());\n  }\n\n  // Remove duplicates\n  variables = variables.filter(function (variable, index, variables) {\n    return variables.indexOf(variable) === index;\n  });\n\n  return variables;\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (ConditionsExpression);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA0NTEuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXFDO0FBQ0k7QUFDQTs7QUFFekM7QUFDQSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0E7QUFDQSxJQUFJLHFHQUFxRztBQUN6RztBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsTUFBTTtBQUNyQixlQUFlLElBQUk7QUFDbkI7QUFDQTtBQUNBLElBQUk7QUFDSiw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLCtCQUErQixtRUFBSztBQUNwQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU8scUVBQU87QUFDZDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrREFBVTtBQUN0QixZQUFZLCtEQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUJBQWlCLEdBQUcsaUJBQWlCLE1BQU0sa0JBQWtCO0FBQ25FLE1BQU0sWUFBWSxPQUFPLGtCQUFrQix5QkFBeUIsYUFBYTtBQUNqRjtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDLFdBQVcsUUFBUTtBQUNuQixhQUFhLHFFQUFxRTtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxQ0FBcUMsc0JBQXNCLGFBQWE7QUFDbEc7QUFDQSxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLE9BQU8scUVBQU87QUFDZDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsUUFBUTtBQUNSLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSx5REFBZSxvQkFBb0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9Db25kaXRpb25zRXhwcmVzc2lvbi5qcz85Y2NkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbG9uZSBmcm9tIFwiLi4vQ29yZS9jbG9uZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IEV4cHJlc3Npb24gZnJvbSBcIi4vRXhwcmVzc2lvbi5qc1wiO1xuXG4vKipcbiAqIEFuIGV4cHJlc3Npb24gZm9yIGEgc3R5bGUgYXBwbGllZCB0byBhIHtAbGluayBDZXNpdW0zRFRpbGVzZXR9LlxuICogPHA+XG4gKiBFdmFsdWF0ZXMgYSBjb25kaXRpb25zIGV4cHJlc3Npb24gZGVmaW5lZCB1c2luZyB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvM2QtdGlsZXMvdHJlZS9tYWluL3NwZWNpZmljYXRpb24vU3R5bGluZ3wzRCBUaWxlcyBTdHlsaW5nIGxhbmd1YWdlfS5cbiAqIDwvcD5cbiAqIDxwPlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIFN0eWxlRXhwcmVzc2lvbn0gaW50ZXJmYWNlLlxuICogPC9wPlxuICpcbiAqIEBhbGlhcyBDb25kaXRpb25zRXhwcmVzc2lvblxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtjb25kaXRpb25zRXhwcmVzc2lvbl0gVGhlIGNvbmRpdGlvbnMgZXhwcmVzc2lvbiBkZWZpbmVkIHVzaW5nIHRoZSAzRCBUaWxlcyBTdHlsaW5nIGxhbmd1YWdlLlxuICogQHBhcmFtIHtPYmplY3R9IFtkZWZpbmVzXSBEZWZpbmVzIGluIHRoZSBzdHlsZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGV4cHJlc3Npb24gPSBuZXcgQ2VzaXVtLkNvbmRpdGlvbnNFeHByZXNzaW9uKHtcbiAqICAgICBjb25kaXRpb25zIDogW1xuICogICAgICAgICBbJyR7QXJlYX0gPiAxMCwgJ2NvbG9yKFwiI0ZGMDAwMFwiKSddLFxuICogICAgICAgICBbJyR7aWR9ICE9PSBcIjFcIicsICdjb2xvcihcIiMwMEZGMDBcIiknXSxcbiAqICAgICAgICAgWyd0cnVlJywgJ2NvbG9yKFwiI0ZGRkZGRlwiKSddXG4gKiAgICAgXVxuICogfSk7XG4gKiBleHByZXNzaW9uLmV2YWx1YXRlQ29sb3IoZmVhdHVyZSwgcmVzdWx0KTsgLy8gcmV0dXJucyBhIENlc2l1bS5Db2xvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gQ29uZGl0aW9uc0V4cHJlc3Npb24oY29uZGl0aW9uc0V4cHJlc3Npb24sIGRlZmluZXMpIHtcbiAgdGhpcy5fY29uZGl0aW9uc0V4cHJlc3Npb24gPSBjbG9uZShjb25kaXRpb25zRXhwcmVzc2lvbiwgdHJ1ZSk7XG4gIHRoaXMuX2NvbmRpdGlvbnMgPSBjb25kaXRpb25zRXhwcmVzc2lvbi5jb25kaXRpb25zO1xuICB0aGlzLl9ydW50aW1lQ29uZGl0aW9ucyA9IHVuZGVmaW5lZDtcblxuICBzZXRSdW50aW1lKHRoaXMsIGRlZmluZXMpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb25kaXRpb25zRXhwcmVzc2lvbi5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbmRpdGlvbnMgZXhwcmVzc2lvbiBkZWZpbmVkIGluIHRoZSAzRCBUaWxlcyBTdHlsaW5nIGxhbmd1YWdlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgQ29uZGl0aW9uc0V4cHJlc3Npb24ucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIGNvbmRpdGlvbnNFeHByZXNzaW9uOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29uZGl0aW9uc0V4cHJlc3Npb247XG4gICAgfSxcbiAgfSxcbn0pO1xuXG5mdW5jdGlvbiBTdGF0ZW1lbnQoY29uZGl0aW9uLCBleHByZXNzaW9uKSB7XG4gIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uO1xuICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiBzZXRSdW50aW1lKGV4cHJlc3Npb24sIGRlZmluZXMpIHtcbiAgdmFyIHJ1bnRpbWVDb25kaXRpb25zID0gW107XG4gIHZhciBjb25kaXRpb25zID0gZXhwcmVzc2lvbi5fY29uZGl0aW9ucztcbiAgaWYgKCFkZWZpbmVkKGNvbmRpdGlvbnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBsZW5ndGggPSBjb25kaXRpb25zLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBzdGF0ZW1lbnQgPSBjb25kaXRpb25zW2ldO1xuICAgIHZhciBjb25kID0gU3RyaW5nKHN0YXRlbWVudFswXSk7XG4gICAgdmFyIGNvbmRFeHByZXNzaW9uID0gU3RyaW5nKHN0YXRlbWVudFsxXSk7XG4gICAgcnVudGltZUNvbmRpdGlvbnMucHVzaChcbiAgICAgIG5ldyBTdGF0ZW1lbnQoXG4gICAgICAgIG5ldyBFeHByZXNzaW9uKGNvbmQsIGRlZmluZXMpLFxuICAgICAgICBuZXcgRXhwcmVzc2lvbihjb25kRXhwcmVzc2lvbiwgZGVmaW5lcylcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGV4cHJlc3Npb24uX3J1bnRpbWVDb25kaXRpb25zID0gcnVudGltZUNvbmRpdGlvbnM7XG59XG5cbi8qKlxuICogRXZhbHVhdGVzIHRoZSByZXN1bHQgb2YgYW4gZXhwcmVzc2lvbiwgb3B0aW9uYWxseSB1c2luZyB0aGUgcHJvdmlkZWQgZmVhdHVyZSdzIHByb3BlcnRpZXMuIElmIHRoZSByZXN1bHQgb2ZcbiAqIHRoZSBleHByZXNzaW9uIGluIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy8zZC10aWxlcy90cmVlL21haW4vc3BlY2lmaWNhdGlvbi9TdHlsaW5nfDNEIFRpbGVzIFN0eWxpbmcgbGFuZ3VhZ2V9XG4gKiBpcyBvZiB0eXBlIDxjb2RlPkJvb2xlYW48L2NvZGU+LCA8Y29kZT5OdW1iZXI8L2NvZGU+LCBvciA8Y29kZT5TdHJpbmc8L2NvZGU+LCB0aGUgY29ycmVzcG9uZGluZyBKYXZhU2NyaXB0XG4gKiBwcmltaXRpdmUgdHlwZSB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGUgcmVzdWx0IGlzIGEgPGNvZGU+UmVnRXhwPC9jb2RlPiwgYSBKYXZhc2NyaXB0IDxjb2RlPlJlZ0V4cDwvY29kZT5cbiAqIG9iamVjdCB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGUgcmVzdWx0IGlzIGEgPGNvZGU+Q2FydGVzaWFuMjwvY29kZT4sIDxjb2RlPkNhcnRlc2lhbjM8L2NvZGU+LCBvciA8Y29kZT5DYXJ0ZXNpYW40PC9jb2RlPixcbiAqIGEge0BsaW5rIENhcnRlc2lhbjJ9LCB7QGxpbmsgQ2FydGVzaWFuM30sIG9yIHtAbGluayBDYXJ0ZXNpYW40fSBvYmplY3Qgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhlIDxjb2RlPnJlc3VsdDwvY29kZT4gYXJndW1lbnQgaXNcbiAqIGEge0BsaW5rIENvbG9yfSwgdGhlIHtAbGluayBDYXJ0ZXNpYW40fSB2YWx1ZSBpcyBjb252ZXJ0ZWQgdG8gYSB7QGxpbmsgQ29sb3J9IGFuZCB0aGVuIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSB7Q2VzaXVtM0RUaWxlRmVhdHVyZX0gZmVhdHVyZSBUaGUgZmVhdHVyZSB3aG9zZSBwcm9wZXJ0aWVzIG1heSBiZSB1c2VkIGFzIHZhcmlhYmxlcyBpbiB0aGUgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzdWx0XSBUaGUgb2JqZWN0IG9udG8gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufE51bWJlcnxTdHJpbmd8UmVnRXhwfENhcnRlc2lhbjJ8Q2FydGVzaWFuM3xDYXJ0ZXNpYW40fENvbG9yfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gKi9cbkNvbmRpdGlvbnNFeHByZXNzaW9uLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uIChmZWF0dXJlLCByZXN1bHQpIHtcbiAgdmFyIGNvbmRpdGlvbnMgPSB0aGlzLl9ydW50aW1lQ29uZGl0aW9ucztcbiAgaWYgKCFkZWZpbmVkKGNvbmRpdGlvbnMpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgbGVuZ3RoID0gY29uZGl0aW9ucy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgc3RhdGVtZW50ID0gY29uZGl0aW9uc1tpXTtcbiAgICBpZiAoc3RhdGVtZW50LmNvbmRpdGlvbi5ldmFsdWF0ZShmZWF0dXJlKSkge1xuICAgICAgcmV0dXJuIHN0YXRlbWVudC5leHByZXNzaW9uLmV2YWx1YXRlKGZlYXR1cmUsIHJlc3VsdCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEV2YWx1YXRlcyB0aGUgcmVzdWx0IG9mIGEgQ29sb3IgZXhwcmVzc2lvbiwgdXNpbmcgdGhlIHZhbHVlcyBkZWZpbmVkIGJ5IGEgZmVhdHVyZS5cbiAqIDxwPlxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIHtAbGluayBDb25kaXRpb25zRXhwcmVzc2lvbiNldmFsdWF0ZX0gYnV0IGFsd2F5cyByZXR1cm5zIGEge0BsaW5rIENvbG9yfSBvYmplY3QuXG4gKiA8L3A+XG4gKiBAcGFyYW0ge0Nlc2l1bTNEVGlsZUZlYXR1cmV9IGZlYXR1cmUgVGhlIGZlYXR1cmUgd2hvc2UgcHJvcGVydGllcyBtYXkgYmUgdXNlZCBhcyB2YXJpYWJsZXMgaW4gdGhlIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0ge0NvbG9yfSBbcmVzdWx0XSBUaGUgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAqIEByZXR1cm5zIHtDb2xvcn0gVGhlIG1vZGlmaWVkIHJlc3VsdCBwYXJhbWV0ZXIgb3IgYSBuZXcgQ29sb3IgaW5zdGFuY2UgaWYgb25lIHdhcyBub3QgcHJvdmlkZWQuXG4gKi9cbkNvbmRpdGlvbnNFeHByZXNzaW9uLnByb3RvdHlwZS5ldmFsdWF0ZUNvbG9yID0gZnVuY3Rpb24gKGZlYXR1cmUsIHJlc3VsdCkge1xuICB2YXIgY29uZGl0aW9ucyA9IHRoaXMuX3J1bnRpbWVDb25kaXRpb25zO1xuICBpZiAoIWRlZmluZWQoY29uZGl0aW9ucykpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHZhciBsZW5ndGggPSBjb25kaXRpb25zLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBzdGF0ZW1lbnQgPSBjb25kaXRpb25zW2ldO1xuICAgIGlmIChzdGF0ZW1lbnQuY29uZGl0aW9uLmV2YWx1YXRlKGZlYXR1cmUpKSB7XG4gICAgICByZXR1cm4gc3RhdGVtZW50LmV4cHJlc3Npb24uZXZhbHVhdGVDb2xvcihmZWF0dXJlLCByZXN1bHQpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBzaGFkZXIgZnVuY3Rpb24gZm9yIHRoaXMgZXhwcmVzc2lvbi5cbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZSBzaGFkZXIgZnVuY3Rpb24gY2FuJ3QgYmUgZ2VuZXJhdGVkIGZyb20gdGhpcyBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmdW5jdGlvblNpZ25hdHVyZSBTaWduYXR1cmUgb2YgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcCBNYXBzIHZhcmlhYmxlIG5hbWVzIHRvIHNoYWRlciB2YXJpYWJsZSBuYW1lcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzaGFkZXJTdGF0ZSBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGdlbmVyYXRlZCBzaGFkZXIgZnVuY3Rpb24sIGluY2x1ZGluZyB3aGV0aGVyIGl0IGlzIHRyYW5zbHVjZW50LlxuICogQHBhcmFtIHtTdHJpbmd9IHJldHVyblR5cGUgVGhlIHJldHVybiB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHNoYWRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5Db25kaXRpb25zRXhwcmVzc2lvbi5wcm90b3R5cGUuZ2V0U2hhZGVyRnVuY3Rpb24gPSBmdW5jdGlvbiAoXG4gIGZ1bmN0aW9uU2lnbmF0dXJlLFxuICB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcCxcbiAgc2hhZGVyU3RhdGUsXG4gIHJldHVyblR5cGVcbikge1xuICB2YXIgY29uZGl0aW9ucyA9IHRoaXMuX3J1bnRpbWVDb25kaXRpb25zO1xuICBpZiAoIWRlZmluZWQoY29uZGl0aW9ucykgfHwgY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIHNoYWRlckZ1bmN0aW9uID0gXCJcIjtcbiAgdmFyIGxlbmd0aCA9IGNvbmRpdGlvbnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHN0YXRlbWVudCA9IGNvbmRpdGlvbnNbaV07XG5cbiAgICB2YXIgY29uZGl0aW9uID0gc3RhdGVtZW50LmNvbmRpdGlvbi5nZXRTaGFkZXJFeHByZXNzaW9uKFxuICAgICAgdmFyaWFibGVTdWJzdGl0dXRpb25NYXAsXG4gICAgICBzaGFkZXJTdGF0ZVxuICAgICk7XG4gICAgdmFyIGV4cHJlc3Npb24gPSBzdGF0ZW1lbnQuZXhwcmVzc2lvbi5nZXRTaGFkZXJFeHByZXNzaW9uKFxuICAgICAgdmFyaWFibGVTdWJzdGl0dXRpb25NYXAsXG4gICAgICBzaGFkZXJTdGF0ZVxuICAgICk7XG5cbiAgICAvLyBCdWlsZCB0aGUgaWYvZWxzZSBjaGFpbiBmcm9tIHRoZSBsaXN0IG9mIGNvbmRpdGlvbnNcbiAgICBzaGFkZXJGdW5jdGlvbiArPVxuICAgICAgXCIgICAgXCIgK1xuICAgICAgKGkgPT09IDAgPyBcImlmXCIgOiBcImVsc2UgaWZcIikgK1xuICAgICAgXCIgKFwiICtcbiAgICAgIGNvbmRpdGlvbiArXG4gICAgICBcIilcXG5cIiArXG4gICAgICBcIiAgICB7XFxuXCIgK1xuICAgICAgXCIgICAgICAgIHJldHVybiBcIiArXG4gICAgICBleHByZXNzaW9uICtcbiAgICAgIFwiO1xcblwiICtcbiAgICAgIFwiICAgIH1cXG5cIjtcbiAgfVxuXG4gIHNoYWRlckZ1bmN0aW9uID1cbiAgICByZXR1cm5UeXBlICtcbiAgICBcIiBcIiArXG4gICAgZnVuY3Rpb25TaWduYXR1cmUgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwie1xcblwiICtcbiAgICBzaGFkZXJGdW5jdGlvbiArXG4gICAgXCIgICAgcmV0dXJuIFwiICtcbiAgICByZXR1cm5UeXBlICtcbiAgICBcIigxLjApO1xcblwiICsgLy8gUmV0dXJuIGEgZGVmYXVsdCB2YWx1ZSBpZiBubyBjb25kaXRpb25zIGFyZSBtZXRcbiAgICBcIn1cXG5cIjtcblxuICByZXR1cm4gc2hhZGVyRnVuY3Rpb247XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIHZhcmlhYmxlcyB1c2VkIGJ5IHRoZSBleHByZXNzaW9uLlxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmdbXX0gVGhlIHZhcmlhYmxlcyB1c2VkIGJ5IHRoZSBleHByZXNzaW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkNvbmRpdGlvbnNFeHByZXNzaW9uLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2YXJpYWJsZXMgPSBbXTtcblxuICB2YXIgY29uZGl0aW9ucyA9IHRoaXMuX3J1bnRpbWVDb25kaXRpb25zO1xuICBpZiAoIWRlZmluZWQoY29uZGl0aW9ucykgfHwgY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdmFyaWFibGVzO1xuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGNvbmRpdGlvbnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHN0YXRlbWVudCA9IGNvbmRpdGlvbnNbaV07XG4gICAgdmFyaWFibGVzLnB1c2guYXBwbHkodmFyaWFibGVzLCBzdGF0ZW1lbnQuY29uZGl0aW9uLmdldFZhcmlhYmxlcygpKTtcbiAgICB2YXJpYWJsZXMucHVzaC5hcHBseSh2YXJpYWJsZXMsIHN0YXRlbWVudC5leHByZXNzaW9uLmdldFZhcmlhYmxlcygpKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gIHZhcmlhYmxlcyA9IHZhcmlhYmxlcy5maWx0ZXIoZnVuY3Rpb24gKHZhcmlhYmxlLCBpbmRleCwgdmFyaWFibGVzKSB7XG4gICAgcmV0dXJuIHZhcmlhYmxlcy5pbmRleE9mKHZhcmlhYmxlKSA9PT0gaW5kZXg7XG4gIH0pO1xuXG4gIHJldHVybiB2YXJpYWJsZXM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25kaXRpb25zRXhwcmVzc2lvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50451\n')},48187:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62200);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99417);\n\n\n\n\n\nvar defaultAngle = _Core_Math_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].toRadians */ .Z.toRadians(30.0);\n\n/**\n * A ParticleEmitter that emits particles within a cone.\n * Particles will be positioned at the tip of the cone and have initial velocities going towards the base.\n *\n * @alias ConeEmitter\n * @constructor\n *\n * @param {Number} [angle=Cesium.Math.toRadians(30.0)] The angle of the cone in radians.\n */\nfunction ConeEmitter(angle) {\n  this._angle = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(angle, defaultAngle);\n}\n\nObject.defineProperties(ConeEmitter.prototype, {\n  /**\n   * The angle of the cone in radians.\n   * @memberof CircleEmitter.prototype\n   * @type {Number}\n   * @default Cesium.Math.toRadians(30.0)\n   */\n  angle: {\n    get: function () {\n      return this._angle;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].typeOf.number */ .Z.typeOf.number("value", value);\n      //>>includeEnd(\'debug\');\n      this._angle = value;\n    },\n  },\n});\n\n/**\n * Initializes the given {Particle} by setting it\'s position and velocity.\n *\n * @private\n * @param {Particle} particle The particle to initialize\n */\nConeEmitter.prototype.emit = function (particle) {\n  var radius = Math.tan(this._angle);\n\n  // Compute a random point on the cone\'s base\n  var theta = _Core_Math_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].randomBetween */ .Z.randomBetween(0.0, _Core_Math_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].TWO_PI */ .Z.TWO_PI);\n  var rad = _Core_Math_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].randomBetween */ .Z.randomBetween(0.0, radius);\n\n  var x = rad * Math.cos(theta);\n  var y = rad * Math.sin(theta);\n  var z = 1.0;\n\n  particle.velocity = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(x, y, z, particle.velocity);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(particle.velocity, particle.velocity);\n  particle.position = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO, particle.position);\n};\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (ConeEmitter)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxODcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUErQztBQUNWO0FBQ2M7QUFDVjs7QUFFekMsbUJBQW1CLGtGQUFvQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLGdCQUFnQiwwRUFBWTtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLDJGQUFtQjtBQUN6QjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0EsMEJBQTBCLFVBQVU7QUFDcEM7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLDBGQUF3QixNQUFNLDRFQUFpQjtBQUM3RCxZQUFZLDBGQUF3Qjs7QUFFcEM7QUFDQTtBQUNBOztBQUVBLHNCQUFzQiw4RkFBdUI7QUFDN0MsRUFBRSx3RkFBb0I7QUFDdEIsc0JBQXNCLGdGQUFnQixDQUFDLDhFQUFlO0FBQ3REO0FBQ0Esc0VBQWUsMkRBQVcsSUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9Db25lRW1pdHRlci5qcz9mMmQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXJ0ZXNpYW4zIGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjMuanNcIjtcbmltcG9ydCBDaGVjayBmcm9tIFwiLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBDZXNpdW1NYXRoIGZyb20gXCIuLi9Db3JlL01hdGguanNcIjtcblxudmFyIGRlZmF1bHRBbmdsZSA9IENlc2l1bU1hdGgudG9SYWRpYW5zKDMwLjApO1xuXG4vKipcbiAqIEEgUGFydGljbGVFbWl0dGVyIHRoYXQgZW1pdHMgcGFydGljbGVzIHdpdGhpbiBhIGNvbmUuXG4gKiBQYXJ0aWNsZXMgd2lsbCBiZSBwb3NpdGlvbmVkIGF0IHRoZSB0aXAgb2YgdGhlIGNvbmUgYW5kIGhhdmUgaW5pdGlhbCB2ZWxvY2l0aWVzIGdvaW5nIHRvd2FyZHMgdGhlIGJhc2UuXG4gKlxuICogQGFsaWFzIENvbmVFbWl0dGVyXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gW2FuZ2xlPUNlc2l1bS5NYXRoLnRvUmFkaWFucygzMC4wKV0gVGhlIGFuZ2xlIG9mIHRoZSBjb25lIGluIHJhZGlhbnMuXG4gKi9cbmZ1bmN0aW9uIENvbmVFbWl0dGVyKGFuZ2xlKSB7XG4gIHRoaXMuX2FuZ2xlID0gZGVmYXVsdFZhbHVlKGFuZ2xlLCBkZWZhdWx0QW5nbGUpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb25lRW1pdHRlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSBhbmdsZSBvZiB0aGUgY29uZSBpbiByYWRpYW5zLlxuICAgKiBAbWVtYmVyb2YgQ2lyY2xlRW1pdHRlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGRlZmF1bHQgQ2VzaXVtLk1hdGgudG9SYWRpYW5zKDMwLjApXG4gICAqL1xuICBhbmdsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FuZ2xlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gICAgICBDaGVjay50eXBlT2YubnVtYmVyKFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gICAgICB0aGlzLl9hbmdsZSA9IHZhbHVlO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgZ2l2ZW4ge1BhcnRpY2xlfSBieSBzZXR0aW5nIGl0J3MgcG9zaXRpb24gYW5kIHZlbG9jaXR5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BhcnRpY2xlfSBwYXJ0aWNsZSBUaGUgcGFydGljbGUgdG8gaW5pdGlhbGl6ZVxuICovXG5Db25lRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICB2YXIgcmFkaXVzID0gTWF0aC50YW4odGhpcy5fYW5nbGUpO1xuXG4gIC8vIENvbXB1dGUgYSByYW5kb20gcG9pbnQgb24gdGhlIGNvbmUncyBiYXNlXG4gIHZhciB0aGV0YSA9IENlc2l1bU1hdGgucmFuZG9tQmV0d2VlbigwLjAsIENlc2l1bU1hdGguVFdPX1BJKTtcbiAgdmFyIHJhZCA9IENlc2l1bU1hdGgucmFuZG9tQmV0d2VlbigwLjAsIHJhZGl1cyk7XG5cbiAgdmFyIHggPSByYWQgKiBNYXRoLmNvcyh0aGV0YSk7XG4gIHZhciB5ID0gcmFkICogTWF0aC5zaW4odGhldGEpO1xuICB2YXIgeiA9IDEuMDtcblxuICBwYXJ0aWNsZS52ZWxvY2l0eSA9IENhcnRlc2lhbjMuZnJvbUVsZW1lbnRzKHgsIHksIHosIHBhcnRpY2xlLnZlbG9jaXR5KTtcbiAgQ2FydGVzaWFuMy5ub3JtYWxpemUocGFydGljbGUudmVsb2NpdHksIHBhcnRpY2xlLnZlbG9jaXR5KTtcbiAgcGFydGljbGUucG9zaXRpb24gPSBDYXJ0ZXNpYW4zLmNsb25lKENhcnRlc2lhbjMuWkVSTywgcGFydGljbGUucG9zaXRpb24pO1xufTtcbmV4cG9ydCBkZWZhdWx0IENvbmVFbWl0dGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48187\n')},67442:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8629);\n/* harmony import */ var _Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(72000);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52975);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(86511);\n/* harmony import */ var _ThirdParty_Uri_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(93922);\n\n\n\n\n\n\n\n\n\nvar mobileWidth = 576;\nvar lightboxHeight = 100;\nvar textColor = "#ffffff";\nvar highlightColor = "#48b";\n\nfunction contains(credits, credit) {\n  var len = credits.length;\n  for (var i = 0; i < len; i++) {\n    var existingCredit = credits[i];\n    if (_Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals(existingCredit, credit)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction swapCesiumCredit(creditDisplay) {\n  // We don\'t want to clutter the screen with the Cesium logo and the Cesium ion\n  // logo at the same time. Since the ion logo is required, we just replace the\n  // Cesium logo or add the logo if the Cesium one was removed.\n  var previousCredit = creditDisplay._previousCesiumCredit;\n  var currentCredit = creditDisplay._currentCesiumCredit;\n  if (_Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals(currentCredit, previousCredit)) {\n    return;\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(previousCredit)) {\n    creditDisplay._cesiumCreditContainer.removeChild(previousCredit.element);\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(currentCredit)) {\n    creditDisplay._cesiumCreditContainer.appendChild(currentCredit.element);\n  }\n\n  creditDisplay._previousCesiumCredit = currentCredit;\n}\n\nvar delimiterClassName = "cesium-credit-delimiter";\n\nfunction createDelimiterElement(delimiter) {\n  var delimiterElement = document.createElement("span");\n  delimiterElement.textContent = delimiter;\n  delimiterElement.className = delimiterClassName;\n  return delimiterElement;\n}\n\nfunction createCreditElement(element, elementWrapperTagName) {\n  // may need to wrap the credit in another element\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(elementWrapperTagName)) {\n    var wrapper = document.createElement(elementWrapperTagName);\n    wrapper._creditId = element._creditId;\n    wrapper.appendChild(element);\n    element = wrapper;\n  }\n  return element;\n}\n\nfunction displayCredits(container, credits, delimiter, elementWrapperTagName) {\n  var childNodes = container.childNodes;\n  var domIndex = -1;\n  for (var creditIndex = 0; creditIndex < credits.length; ++creditIndex) {\n    var credit = credits[creditIndex];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(credit)) {\n      domIndex = creditIndex;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(delimiter)) {\n        // credits may be separated by delimiters\n        domIndex *= 2;\n        if (creditIndex > 0) {\n          var delimiterDomIndex = domIndex - 1;\n          if (childNodes.length <= delimiterDomIndex) {\n            container.appendChild(createDelimiterElement(delimiter));\n          } else {\n            var existingDelimiter = childNodes[delimiterDomIndex];\n            if (existingDelimiter.className !== delimiterClassName) {\n              container.replaceChild(\n                createDelimiterElement(delimiter),\n                existingDelimiter\n              );\n            }\n          }\n        }\n      }\n\n      var element = credit.element;\n\n      // check to see if the correct credit is in the right place\n      if (childNodes.length <= domIndex) {\n        container.appendChild(\n          createCreditElement(element, elementWrapperTagName)\n        );\n      } else {\n        var existingElement = childNodes[domIndex];\n        if (existingElement._creditId !== credit._id) {\n          // not the right credit, swap it in\n          container.replaceChild(\n            createCreditElement(element, elementWrapperTagName),\n            existingElement\n          );\n        }\n      }\n    }\n  }\n\n  // any remaining nodes in the container are unnecessary\n  ++domIndex;\n  while (domIndex < childNodes.length) {\n    container.removeChild(childNodes[domIndex]);\n  }\n}\n\nfunction styleLightboxContainer(that) {\n  var lightboxCredits = that._lightboxCredits;\n  var width = that.viewport.clientWidth;\n  var height = that.viewport.clientHeight;\n  if (width !== that._lastViewportWidth) {\n    if (width < mobileWidth) {\n      lightboxCredits.className =\n        "cesium-credit-lightbox cesium-credit-lightbox-mobile";\n      lightboxCredits.style.marginTop = "0";\n    } else {\n      lightboxCredits.className =\n        "cesium-credit-lightbox cesium-credit-lightbox-expanded";\n      lightboxCredits.style.marginTop =\n        Math.floor((height - lightboxCredits.clientHeight) * 0.5) + "px";\n    }\n    that._lastViewportWidth = width;\n  }\n\n  if (width >= mobileWidth && height !== that._lastViewportHeight) {\n    lightboxCredits.style.marginTop =\n      Math.floor((height - lightboxCredits.clientHeight) * 0.5) + "px";\n    that._lastViewportHeight = height;\n  }\n}\n\nfunction addStyle(selector, styles) {\n  var style = selector + " {";\n  for (var attribute in styles) {\n    if (styles.hasOwnProperty(attribute)) {\n      style += attribute + ": " + styles[attribute] + "; ";\n    }\n  }\n  style += " }\\n";\n  return style;\n}\n\nfunction appendCss() {\n  var style = "";\n  style += addStyle(".cesium-credit-lightbox-overlay", {\n    display: "none",\n    "z-index": "1", //must be at least 1 to draw over top other Cesium widgets\n    position: "absolute",\n    top: "0",\n    left: "0",\n    width: "100%",\n    height: "100%",\n    "background-color": "rgba(80, 80, 80, 0.8)",\n  });\n\n  style += addStyle(".cesium-credit-lightbox", {\n    "background-color": "#303336",\n    color: textColor,\n    position: "relative",\n    "min-height": lightboxHeight + "px",\n    margin: "auto",\n  });\n\n  style += addStyle(\n    ".cesium-credit-lightbox > ul > li a, .cesium-credit-lightbox > ul > li a:visited",\n    {\n      color: textColor,\n    }\n  );\n\n  style += addStyle(".cesium-credit-lightbox > ul > li a:hover", {\n    color: highlightColor,\n  });\n\n  style += addStyle(".cesium-credit-lightbox.cesium-credit-lightbox-expanded", {\n    border: "1px solid #444",\n    "border-radius": "5px",\n    "max-width": "370px",\n  });\n\n  style += addStyle(".cesium-credit-lightbox.cesium-credit-lightbox-mobile", {\n    height: "100%",\n    width: "100%",\n  });\n\n  style += addStyle(".cesium-credit-lightbox-title", {\n    padding: "20px 20px 0 20px",\n  });\n\n  style += addStyle(".cesium-credit-lightbox-close", {\n    "font-size": "18pt",\n    cursor: "pointer",\n    position: "absolute",\n    top: "0",\n    right: "6px",\n    color: textColor,\n  });\n\n  style += addStyle(".cesium-credit-lightbox-close:hover", {\n    color: highlightColor,\n  });\n\n  style += addStyle(".cesium-credit-lightbox > ul", {\n    margin: "0",\n    padding: "12px 20px 12px 40px",\n    "font-size": "13px",\n  });\n\n  style += addStyle(".cesium-credit-lightbox > ul > li", {\n    "padding-bottom": "6px",\n  });\n\n  style += addStyle(".cesium-credit-lightbox > ul > li *", {\n    padding: "0",\n    margin: "0",\n  });\n\n  style += addStyle(".cesium-credit-expand-link", {\n    "padding-left": "5px",\n    cursor: "pointer",\n    "text-decoration": "underline",\n    color: textColor,\n  });\n  style += addStyle(".cesium-credit-expand-link:hover", {\n    color: highlightColor,\n  });\n\n  style += addStyle(".cesium-credit-text", {\n    color: textColor,\n  });\n\n  style += addStyle(\n    ".cesium-credit-textContainer *, .cesium-credit-logoContainer *",\n    {\n      display: "inline",\n    }\n  );\n\n  var head = document.head;\n  var css = document.createElement("style");\n  css.innerHTML = style;\n  head.insertBefore(css, head.firstChild);\n}\n\n/**\n * The credit display is responsible for displaying credits on screen.\n *\n * @param {HTMLElement} container The HTML element where credits will be displayed\n * @param {String} [delimiter= \'  \'] The string to separate text credits\n * @param {HTMLElement} [viewport=document.body] The HTML element that will contain the credits popup\n *\n * @alias CreditDisplay\n * @constructor\n *\n * @example\n * var creditDisplay = new Cesium.CreditDisplay(creditContainer);\n */\nfunction CreditDisplay(container, delimiter, viewport) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("container", container);\n  //>>includeEnd(\'debug\');\n  var that = this;\n\n  viewport = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(viewport, document.body);\n\n  var lightbox = document.createElement("div");\n  lightbox.className = "cesium-credit-lightbox-overlay";\n  viewport.appendChild(lightbox);\n\n  var lightboxCredits = document.createElement("div");\n  lightboxCredits.className = "cesium-credit-lightbox";\n  lightbox.appendChild(lightboxCredits);\n\n  function hideLightbox(event) {\n    if (lightboxCredits.contains(event.target)) {\n      return;\n    }\n    that.hideLightbox();\n  }\n  lightbox.addEventListener("click", hideLightbox, false);\n\n  var title = document.createElement("div");\n  title.className = "cesium-credit-lightbox-title";\n  title.textContent = "Data provided by:";\n  lightboxCredits.appendChild(title);\n\n  var closeButton = document.createElement("a");\n  closeButton.onclick = this.hideLightbox.bind(this);\n  closeButton.innerHTML = "&times;";\n  closeButton.className = "cesium-credit-lightbox-close";\n  lightboxCredits.appendChild(closeButton);\n\n  var creditList = document.createElement("ul");\n  lightboxCredits.appendChild(creditList);\n\n  var cesiumCreditContainer = document.createElement("div");\n  cesiumCreditContainer.className = "cesium-credit-logoContainer";\n  cesiumCreditContainer.style.display = "inline";\n  container.appendChild(cesiumCreditContainer);\n\n  var screenContainer = document.createElement("div");\n  screenContainer.className = "cesium-credit-textContainer";\n  screenContainer.style.display = "inline";\n  container.appendChild(screenContainer);\n\n  var expandLink = document.createElement("a");\n  expandLink.className = "cesium-credit-expand-link";\n  expandLink.onclick = this.showLightbox.bind(this);\n  expandLink.textContent = "Data attribution";\n  container.appendChild(expandLink);\n\n  appendCss();\n  var cesiumCredit = _Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].clone */ .Z.clone(CreditDisplay.cesiumCredit);\n\n  this._delimiter = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(delimiter, "  ");\n  this._screenContainer = screenContainer;\n  this._cesiumCreditContainer = cesiumCreditContainer;\n  this._lastViewportHeight = undefined;\n  this._lastViewportWidth = undefined;\n  this._lightboxCredits = lightboxCredits;\n  this._creditList = creditList;\n  this._lightbox = lightbox;\n  this._hideLightbox = hideLightbox;\n  this._expandLink = expandLink;\n  this._expanded = false;\n  this._defaultCredits = [];\n  this._cesiumCredit = cesiumCredit;\n  this._previousCesiumCredit = undefined;\n  this._currentCesiumCredit = cesiumCredit;\n  this._currentFrameCredits = {\n    screenCredits: new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n    lightboxCredits: new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(),\n  };\n  this._defaultCredit = undefined;\n\n  this.viewport = viewport;\n\n  /**\n   * The HTML element where credits will be displayed.\n   * @type {HTMLElement}\n   */\n  this.container = container;\n}\n\n/**\n * Adds a credit to the list of current credits to be displayed in the credit container\n *\n * @param {Credit} credit The credit to display\n */\nCreditDisplay.prototype.addCredit = function (credit) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("credit", credit);\n  //>>includeEnd(\'debug\');\n\n  if (credit._isIon) {\n    // If this is the an ion logo credit from the ion server\n    // Juse use the default credit (which is identical) to avoid blinking\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this._defaultCredit)) {\n      this._defaultCredit = _Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].clone */ .Z.clone(getDefaultCredit());\n    }\n    this._currentCesiumCredit = this._defaultCredit;\n    return;\n  }\n\n  if (!credit.showOnScreen) {\n    this._currentFrameCredits.lightboxCredits.set(credit.id, credit);\n  } else {\n    this._currentFrameCredits.screenCredits.set(credit.id, credit);\n  }\n};\n\n/**\n * Adds credits that will persist until they are removed\n *\n * @param {Credit} credit The credit to added to defaults\n */\nCreditDisplay.prototype.addDefaultCredit = function (credit) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("credit", credit);\n  //>>includeEnd(\'debug\');\n\n  var defaultCredits = this._defaultCredits;\n  if (!contains(defaultCredits, credit)) {\n    defaultCredits.push(credit);\n  }\n};\n\n/**\n * Removes a default credit\n *\n * @param {Credit} credit The credit to be removed from defaults\n */\nCreditDisplay.prototype.removeDefaultCredit = function (credit) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("credit", credit);\n  //>>includeEnd(\'debug\');\n\n  var defaultCredits = this._defaultCredits;\n  var index = defaultCredits.indexOf(credit);\n  if (index !== -1) {\n    defaultCredits.splice(index, 1);\n  }\n};\n\nCreditDisplay.prototype.showLightbox = function () {\n  this._lightbox.style.display = "block";\n  this._expanded = true;\n};\n\nCreditDisplay.prototype.hideLightbox = function () {\n  this._lightbox.style.display = "none";\n  this._expanded = false;\n};\n\n/**\n * Updates the credit display before a new frame is rendered.\n */\nCreditDisplay.prototype.update = function () {\n  if (this._expanded) {\n    styleLightboxContainer(this);\n  }\n};\n\n/**\n * Resets the credit display to a beginning of frame state, clearing out current credits.\n */\nCreditDisplay.prototype.beginFrame = function () {\n  var currentFrameCredits = this._currentFrameCredits;\n\n  var screenCredits = currentFrameCredits.screenCredits;\n  screenCredits.removeAll();\n  var defaultCredits = this._defaultCredits;\n  for (var i = 0; i < defaultCredits.length; ++i) {\n    var defaultCredit = defaultCredits[i];\n    screenCredits.set(defaultCredit.id, defaultCredit);\n  }\n\n  currentFrameCredits.lightboxCredits.removeAll();\n\n  if (!_Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].equals */ .Z.equals(CreditDisplay.cesiumCredit, this._cesiumCredit)) {\n    this._cesiumCredit = _Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].clone */ .Z.clone(CreditDisplay.cesiumCredit);\n  }\n  this._currentCesiumCredit = this._cesiumCredit;\n};\n\n/**\n * Sets the credit display to the end of frame state, displaying credits from the last frame in the credit container.\n */\nCreditDisplay.prototype.endFrame = function () {\n  var screenCredits = this._currentFrameCredits.screenCredits.values;\n  displayCredits(\n    this._screenContainer,\n    screenCredits,\n    this._delimiter,\n    undefined\n  );\n\n  var lightboxCredits = this._currentFrameCredits.lightboxCredits.values;\n  this._expandLink.style.display =\n    lightboxCredits.length > 0 ? "inline" : "none";\n  displayCredits(this._creditList, lightboxCredits, undefined, "li");\n\n  swapCesiumCredit(this);\n};\n\n/**\n * Destroys the resources held by this object.  Destroying an object allows for deterministic\n * release of resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nCreditDisplay.prototype.destroy = function () {\n  this._lightbox.removeEventListener("click", this._hideLightbox, false);\n\n  this.container.removeChild(this._cesiumCreditContainer);\n  this.container.removeChild(this._screenContainer);\n  this.container.removeChild(this._expandLink);\n  this.viewport.removeChild(this._lightbox);\n\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this);\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n */\nCreditDisplay.prototype.isDestroyed = function () {\n  return false;\n};\n\nCreditDisplay._cesiumCredit = undefined;\nCreditDisplay._cesiumCreditInitialized = false;\n\nvar defaultCredit;\nfunction getDefaultCredit() {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(defaultCredit)) {\n    var logo = (0,_Core_buildModuleUrl_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)("Assets/Images/ion-credit.png");\n\n    // When hosting in a WebView, the base URL scheme is file:// or ms-appx-web://\n    // which is stripped out from the Credit\'s <img> tag; use the full path instead\n    if (\n      logo.indexOf("http://") !== 0 &&\n      logo.indexOf("https://") !== 0 &&\n      logo.indexOf("data:") !== 0\n    ) {\n      var logoUrl = new _ThirdParty_Uri_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(logo);\n      logo = logoUrl.path();\n    }\n\n    defaultCredit = new _Core_Credit_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(\n      \'<a href="https://cesium.com/" target="_blank"><img src="\' +\n        logo +\n        \'" title="Cesium ion"/></a>\',\n      true\n    );\n  }\n\n  if (!CreditDisplay._cesiumCreditInitialized) {\n    CreditDisplay._cesiumCredit = defaultCredit;\n    CreditDisplay._cesiumCreditInitialized = true;\n  }\n  return defaultCredit;\n}\n\nObject.defineProperties(CreditDisplay, {\n  /**\n   * Gets or sets the Cesium logo credit.\n   * @memberof CreditDisplay\n   * @type {Credit}\n   */\n  cesiumCredit: {\n    get: function () {\n      getDefaultCredit();\n      return CreditDisplay._cesiumCredit;\n    },\n    set: function (value) {\n      CreditDisplay._cesiumCredit = value;\n      CreditDisplay._cesiumCreditInitialized = true;\n    },\n  },\n});\n/* harmony default export */ __webpack_exports__["Z"] = (CreditDisplay);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OENBQThDLHNCQUFzQjtBQUNwRTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsMkVBQWE7QUFDdEI7O0FBRUE7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLGFBQWEsU0FBUyxnREFBZ0Q7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTyxxRUFBTztBQUNkLGVBQWUsNEVBQWM7O0FBRTdCO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUVBQUc7QUFDM0I7QUFDQTs7QUFFQSx3QkFBd0IsZ0VBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNELHlEQUFlLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9DcmVkaXREaXNwbGF5LmpzPzAxZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFzc29jaWF0aXZlQXJyYXkgZnJvbSBcIi4uL0NvcmUvQXNzb2NpYXRpdmVBcnJheS5qc1wiO1xuaW1wb3J0IGJ1aWxkTW9kdWxlVXJsIGZyb20gXCIuLi9Db3JlL2J1aWxkTW9kdWxlVXJsLmpzXCI7XG5pbXBvcnQgQ2hlY2sgZnJvbSBcIi4uL0NvcmUvQ2hlY2suanNcIjtcbmltcG9ydCBDcmVkaXQgZnJvbSBcIi4uL0NvcmUvQ3JlZGl0LmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IFVyaSBmcm9tIFwiLi4vVGhpcmRQYXJ0eS9VcmkuanNcIjtcblxudmFyIG1vYmlsZVdpZHRoID0gNTc2O1xudmFyIGxpZ2h0Ym94SGVpZ2h0ID0gMTAwO1xudmFyIHRleHRDb2xvciA9IFwiI2ZmZmZmZlwiO1xudmFyIGhpZ2hsaWdodENvbG9yID0gXCIjNDhiXCI7XG5cbmZ1bmN0aW9uIGNvbnRhaW5zKGNyZWRpdHMsIGNyZWRpdCkge1xuICB2YXIgbGVuID0gY3JlZGl0cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZXhpc3RpbmdDcmVkaXQgPSBjcmVkaXRzW2ldO1xuICAgIGlmIChDcmVkaXQuZXF1YWxzKGV4aXN0aW5nQ3JlZGl0LCBjcmVkaXQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzd2FwQ2VzaXVtQ3JlZGl0KGNyZWRpdERpc3BsYXkpIHtcbiAgLy8gV2UgZG9uJ3Qgd2FudCB0byBjbHV0dGVyIHRoZSBzY3JlZW4gd2l0aCB0aGUgQ2VzaXVtIGxvZ28gYW5kIHRoZSBDZXNpdW0gaW9uXG4gIC8vIGxvZ28gYXQgdGhlIHNhbWUgdGltZS4gU2luY2UgdGhlIGlvbiBsb2dvIGlzIHJlcXVpcmVkLCB3ZSBqdXN0IHJlcGxhY2UgdGhlXG4gIC8vIENlc2l1bSBsb2dvIG9yIGFkZCB0aGUgbG9nbyBpZiB0aGUgQ2VzaXVtIG9uZSB3YXMgcmVtb3ZlZC5cbiAgdmFyIHByZXZpb3VzQ3JlZGl0ID0gY3JlZGl0RGlzcGxheS5fcHJldmlvdXNDZXNpdW1DcmVkaXQ7XG4gIHZhciBjdXJyZW50Q3JlZGl0ID0gY3JlZGl0RGlzcGxheS5fY3VycmVudENlc2l1bUNyZWRpdDtcbiAgaWYgKENyZWRpdC5lcXVhbHMoY3VycmVudENyZWRpdCwgcHJldmlvdXNDcmVkaXQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGRlZmluZWQocHJldmlvdXNDcmVkaXQpKSB7XG4gICAgY3JlZGl0RGlzcGxheS5fY2VzaXVtQ3JlZGl0Q29udGFpbmVyLnJlbW92ZUNoaWxkKHByZXZpb3VzQ3JlZGl0LmVsZW1lbnQpO1xuICB9XG4gIGlmIChkZWZpbmVkKGN1cnJlbnRDcmVkaXQpKSB7XG4gICAgY3JlZGl0RGlzcGxheS5fY2VzaXVtQ3JlZGl0Q29udGFpbmVyLmFwcGVuZENoaWxkKGN1cnJlbnRDcmVkaXQuZWxlbWVudCk7XG4gIH1cblxuICBjcmVkaXREaXNwbGF5Ll9wcmV2aW91c0Nlc2l1bUNyZWRpdCA9IGN1cnJlbnRDcmVkaXQ7XG59XG5cbnZhciBkZWxpbWl0ZXJDbGFzc05hbWUgPSBcImNlc2l1bS1jcmVkaXQtZGVsaW1pdGVyXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZURlbGltaXRlckVsZW1lbnQoZGVsaW1pdGVyKSB7XG4gIHZhciBkZWxpbWl0ZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGRlbGltaXRlckVsZW1lbnQudGV4dENvbnRlbnQgPSBkZWxpbWl0ZXI7XG4gIGRlbGltaXRlckVsZW1lbnQuY2xhc3NOYW1lID0gZGVsaW1pdGVyQ2xhc3NOYW1lO1xuICByZXR1cm4gZGVsaW1pdGVyRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ3JlZGl0RWxlbWVudChlbGVtZW50LCBlbGVtZW50V3JhcHBlclRhZ05hbWUpIHtcbiAgLy8gbWF5IG5lZWQgdG8gd3JhcCB0aGUgY3JlZGl0IGluIGFub3RoZXIgZWxlbWVudFxuICBpZiAoZGVmaW5lZChlbGVtZW50V3JhcHBlclRhZ05hbWUpKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnRXcmFwcGVyVGFnTmFtZSk7XG4gICAgd3JhcHBlci5fY3JlZGl0SWQgPSBlbGVtZW50Ll9jcmVkaXRJZDtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIGVsZW1lbnQgPSB3cmFwcGVyO1xuICB9XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5Q3JlZGl0cyhjb250YWluZXIsIGNyZWRpdHMsIGRlbGltaXRlciwgZWxlbWVudFdyYXBwZXJUYWdOYW1lKSB7XG4gIHZhciBjaGlsZE5vZGVzID0gY29udGFpbmVyLmNoaWxkTm9kZXM7XG4gIHZhciBkb21JbmRleCA9IC0xO1xuICBmb3IgKHZhciBjcmVkaXRJbmRleCA9IDA7IGNyZWRpdEluZGV4IDwgY3JlZGl0cy5sZW5ndGg7ICsrY3JlZGl0SW5kZXgpIHtcbiAgICB2YXIgY3JlZGl0ID0gY3JlZGl0c1tjcmVkaXRJbmRleF07XG4gICAgaWYgKGRlZmluZWQoY3JlZGl0KSkge1xuICAgICAgZG9tSW5kZXggPSBjcmVkaXRJbmRleDtcbiAgICAgIGlmIChkZWZpbmVkKGRlbGltaXRlcikpIHtcbiAgICAgICAgLy8gY3JlZGl0cyBtYXkgYmUgc2VwYXJhdGVkIGJ5IGRlbGltaXRlcnNcbiAgICAgICAgZG9tSW5kZXggKj0gMjtcbiAgICAgICAgaWYgKGNyZWRpdEluZGV4ID4gMCkge1xuICAgICAgICAgIHZhciBkZWxpbWl0ZXJEb21JbmRleCA9IGRvbUluZGV4IC0gMTtcbiAgICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGggPD0gZGVsaW1pdGVyRG9tSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVEZWxpbWl0ZXJFbGVtZW50KGRlbGltaXRlcikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdEZWxpbWl0ZXIgPSBjaGlsZE5vZGVzW2RlbGltaXRlckRvbUluZGV4XTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0RlbGltaXRlci5jbGFzc05hbWUgIT09IGRlbGltaXRlckNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICBjb250YWluZXIucmVwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgIGNyZWF0ZURlbGltaXRlckVsZW1lbnQoZGVsaW1pdGVyKSxcbiAgICAgICAgICAgICAgICBleGlzdGluZ0RlbGltaXRlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZWxlbWVudCA9IGNyZWRpdC5lbGVtZW50O1xuXG4gICAgICAvLyBjaGVjayB0byBzZWUgaWYgdGhlIGNvcnJlY3QgY3JlZGl0IGlzIGluIHRoZSByaWdodCBwbGFjZVxuICAgICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoIDw9IGRvbUluZGV4KSB7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICAgICAgICBjcmVhdGVDcmVkaXRFbGVtZW50KGVsZW1lbnQsIGVsZW1lbnRXcmFwcGVyVGFnTmFtZSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBleGlzdGluZ0VsZW1lbnQgPSBjaGlsZE5vZGVzW2RvbUluZGV4XTtcbiAgICAgICAgaWYgKGV4aXN0aW5nRWxlbWVudC5fY3JlZGl0SWQgIT09IGNyZWRpdC5faWQpIHtcbiAgICAgICAgICAvLyBub3QgdGhlIHJpZ2h0IGNyZWRpdCwgc3dhcCBpdCBpblxuICAgICAgICAgIGNvbnRhaW5lci5yZXBsYWNlQ2hpbGQoXG4gICAgICAgICAgICBjcmVhdGVDcmVkaXRFbGVtZW50KGVsZW1lbnQsIGVsZW1lbnRXcmFwcGVyVGFnTmFtZSksXG4gICAgICAgICAgICBleGlzdGluZ0VsZW1lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYW55IHJlbWFpbmluZyBub2RlcyBpbiB0aGUgY29udGFpbmVyIGFyZSB1bm5lY2Vzc2FyeVxuICArK2RvbUluZGV4O1xuICB3aGlsZSAoZG9tSW5kZXggPCBjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2RvbUluZGV4XSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3R5bGVMaWdodGJveENvbnRhaW5lcih0aGF0KSB7XG4gIHZhciBsaWdodGJveENyZWRpdHMgPSB0aGF0Ll9saWdodGJveENyZWRpdHM7XG4gIHZhciB3aWR0aCA9IHRoYXQudmlld3BvcnQuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSB0aGF0LnZpZXdwb3J0LmNsaWVudEhlaWdodDtcbiAgaWYgKHdpZHRoICE9PSB0aGF0Ll9sYXN0Vmlld3BvcnRXaWR0aCkge1xuICAgIGlmICh3aWR0aCA8IG1vYmlsZVdpZHRoKSB7XG4gICAgICBsaWdodGJveENyZWRpdHMuY2xhc3NOYW1lID1cbiAgICAgICAgXCJjZXNpdW0tY3JlZGl0LWxpZ2h0Ym94IGNlc2l1bS1jcmVkaXQtbGlnaHRib3gtbW9iaWxlXCI7XG4gICAgICBsaWdodGJveENyZWRpdHMuc3R5bGUubWFyZ2luVG9wID0gXCIwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpZ2h0Ym94Q3JlZGl0cy5jbGFzc05hbWUgPVxuICAgICAgICBcImNlc2l1bS1jcmVkaXQtbGlnaHRib3ggY2VzaXVtLWNyZWRpdC1saWdodGJveC1leHBhbmRlZFwiO1xuICAgICAgbGlnaHRib3hDcmVkaXRzLnN0eWxlLm1hcmdpblRvcCA9XG4gICAgICAgIE1hdGguZmxvb3IoKGhlaWdodCAtIGxpZ2h0Ym94Q3JlZGl0cy5jbGllbnRIZWlnaHQpICogMC41KSArIFwicHhcIjtcbiAgICB9XG4gICAgdGhhdC5fbGFzdFZpZXdwb3J0V2lkdGggPSB3aWR0aDtcbiAgfVxuXG4gIGlmICh3aWR0aCA+PSBtb2JpbGVXaWR0aCAmJiBoZWlnaHQgIT09IHRoYXQuX2xhc3RWaWV3cG9ydEhlaWdodCkge1xuICAgIGxpZ2h0Ym94Q3JlZGl0cy5zdHlsZS5tYXJnaW5Ub3AgPVxuICAgICAgTWF0aC5mbG9vcigoaGVpZ2h0IC0gbGlnaHRib3hDcmVkaXRzLmNsaWVudEhlaWdodCkgKiAwLjUpICsgXCJweFwiO1xuICAgIHRoYXQuX2xhc3RWaWV3cG9ydEhlaWdodCA9IGhlaWdodDtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShzZWxlY3Rvciwgc3R5bGVzKSB7XG4gIHZhciBzdHlsZSA9IHNlbGVjdG9yICsgXCIge1wiO1xuICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gc3R5bGVzKSB7XG4gICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUpKSB7XG4gICAgICBzdHlsZSArPSBhdHRyaWJ1dGUgKyBcIjogXCIgKyBzdHlsZXNbYXR0cmlidXRlXSArIFwiOyBcIjtcbiAgICB9XG4gIH1cbiAgc3R5bGUgKz0gXCIgfVxcblwiO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENzcygpIHtcbiAgdmFyIHN0eWxlID0gXCJcIjtcbiAgc3R5bGUgKz0gYWRkU3R5bGUoXCIuY2VzaXVtLWNyZWRpdC1saWdodGJveC1vdmVybGF5XCIsIHtcbiAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICBcInotaW5kZXhcIjogXCIxXCIsIC8vbXVzdCBiZSBhdCBsZWFzdCAxIHRvIGRyYXcgb3ZlciB0b3Agb3RoZXIgQ2VzaXVtIHdpZGdldHNcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIHRvcDogXCIwXCIsXG4gICAgbGVmdDogXCIwXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwicmdiYSg4MCwgODAsIDgwLCAwLjgpXCIsXG4gIH0pO1xuXG4gIHN0eWxlICs9IGFkZFN0eWxlKFwiLmNlc2l1bS1jcmVkaXQtbGlnaHRib3hcIiwge1xuICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBcIiMzMDMzMzZcIixcbiAgICBjb2xvcjogdGV4dENvbG9yLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgXCJtaW4taGVpZ2h0XCI6IGxpZ2h0Ym94SGVpZ2h0ICsgXCJweFwiLFxuICAgIG1hcmdpbjogXCJhdXRvXCIsXG4gIH0pO1xuXG4gIHN0eWxlICs9IGFkZFN0eWxlKFxuICAgIFwiLmNlc2l1bS1jcmVkaXQtbGlnaHRib3ggPiB1bCA+IGxpIGEsIC5jZXNpdW0tY3JlZGl0LWxpZ2h0Ym94ID4gdWwgPiBsaSBhOnZpc2l0ZWRcIixcbiAgICB7XG4gICAgICBjb2xvcjogdGV4dENvbG9yLFxuICAgIH1cbiAgKTtcblxuICBzdHlsZSArPSBhZGRTdHlsZShcIi5jZXNpdW0tY3JlZGl0LWxpZ2h0Ym94ID4gdWwgPiBsaSBhOmhvdmVyXCIsIHtcbiAgICBjb2xvcjogaGlnaGxpZ2h0Q29sb3IsXG4gIH0pO1xuXG4gIHN0eWxlICs9IGFkZFN0eWxlKFwiLmNlc2l1bS1jcmVkaXQtbGlnaHRib3guY2VzaXVtLWNyZWRpdC1saWdodGJveC1leHBhbmRlZFwiLCB7XG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNDQ0XCIsXG4gICAgXCJib3JkZXItcmFkaXVzXCI6IFwiNXB4XCIsXG4gICAgXCJtYXgtd2lkdGhcIjogXCIzNzBweFwiLFxuICB9KTtcblxuICBzdHlsZSArPSBhZGRTdHlsZShcIi5jZXNpdW0tY3JlZGl0LWxpZ2h0Ym94LmNlc2l1bS1jcmVkaXQtbGlnaHRib3gtbW9iaWxlXCIsIHtcbiAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgfSk7XG5cbiAgc3R5bGUgKz0gYWRkU3R5bGUoXCIuY2VzaXVtLWNyZWRpdC1saWdodGJveC10aXRsZVwiLCB7XG4gICAgcGFkZGluZzogXCIyMHB4IDIwcHggMCAyMHB4XCIsXG4gIH0pO1xuXG4gIHN0eWxlICs9IGFkZFN0eWxlKFwiLmNlc2l1bS1jcmVkaXQtbGlnaHRib3gtY2xvc2VcIiwge1xuICAgIFwiZm9udC1zaXplXCI6IFwiMThwdFwiLFxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICB0b3A6IFwiMFwiLFxuICAgIHJpZ2h0OiBcIjZweFwiLFxuICAgIGNvbG9yOiB0ZXh0Q29sb3IsXG4gIH0pO1xuXG4gIHN0eWxlICs9IGFkZFN0eWxlKFwiLmNlc2l1bS1jcmVkaXQtbGlnaHRib3gtY2xvc2U6aG92ZXJcIiwge1xuICAgIGNvbG9yOiBoaWdobGlnaHRDb2xvcixcbiAgfSk7XG5cbiAgc3R5bGUgKz0gYWRkU3R5bGUoXCIuY2VzaXVtLWNyZWRpdC1saWdodGJveCA+IHVsXCIsIHtcbiAgICBtYXJnaW46IFwiMFwiLFxuICAgIHBhZGRpbmc6IFwiMTJweCAyMHB4IDEycHggNDBweFwiLFxuICAgIFwiZm9udC1zaXplXCI6IFwiMTNweFwiLFxuICB9KTtcblxuICBzdHlsZSArPSBhZGRTdHlsZShcIi5jZXNpdW0tY3JlZGl0LWxpZ2h0Ym94ID4gdWwgPiBsaVwiLCB7XG4gICAgXCJwYWRkaW5nLWJvdHRvbVwiOiBcIjZweFwiLFxuICB9KTtcblxuICBzdHlsZSArPSBhZGRTdHlsZShcIi5jZXNpdW0tY3JlZGl0LWxpZ2h0Ym94ID4gdWwgPiBsaSAqXCIsIHtcbiAgICBwYWRkaW5nOiBcIjBcIixcbiAgICBtYXJnaW46IFwiMFwiLFxuICB9KTtcblxuICBzdHlsZSArPSBhZGRTdHlsZShcIi5jZXNpdW0tY3JlZGl0LWV4cGFuZC1saW5rXCIsIHtcbiAgICBcInBhZGRpbmctbGVmdFwiOiBcIjVweFwiLFxuICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgXCJ0ZXh0LWRlY29yYXRpb25cIjogXCJ1bmRlcmxpbmVcIixcbiAgICBjb2xvcjogdGV4dENvbG9yLFxuICB9KTtcbiAgc3R5bGUgKz0gYWRkU3R5bGUoXCIuY2VzaXVtLWNyZWRpdC1leHBhbmQtbGluazpob3ZlclwiLCB7XG4gICAgY29sb3I6IGhpZ2hsaWdodENvbG9yLFxuICB9KTtcblxuICBzdHlsZSArPSBhZGRTdHlsZShcIi5jZXNpdW0tY3JlZGl0LXRleHRcIiwge1xuICAgIGNvbG9yOiB0ZXh0Q29sb3IsXG4gIH0pO1xuXG4gIHN0eWxlICs9IGFkZFN0eWxlKFxuICAgIFwiLmNlc2l1bS1jcmVkaXQtdGV4dENvbnRhaW5lciAqLCAuY2VzaXVtLWNyZWRpdC1sb2dvQ29udGFpbmVyICpcIixcbiAgICB7XG4gICAgICBkaXNwbGF5OiBcImlubGluZVwiLFxuICAgIH1cbiAgKTtcblxuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQ7XG4gIHZhciBjc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIGNzcy5pbm5lckhUTUwgPSBzdHlsZTtcbiAgaGVhZC5pbnNlcnRCZWZvcmUoY3NzLCBoZWFkLmZpcnN0Q2hpbGQpO1xufVxuXG4vKipcbiAqIFRoZSBjcmVkaXQgZGlzcGxheSBpcyByZXNwb25zaWJsZSBmb3IgZGlzcGxheWluZyBjcmVkaXRzIG9uIHNjcmVlbi5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgVGhlIEhUTUwgZWxlbWVudCB3aGVyZSBjcmVkaXRzIHdpbGwgYmUgZGlzcGxheWVkXG4gKiBAcGFyYW0ge1N0cmluZ30gW2RlbGltaXRlcj0gJyDigKIgJ10gVGhlIHN0cmluZyB0byBzZXBhcmF0ZSB0ZXh0IGNyZWRpdHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFt2aWV3cG9ydD1kb2N1bWVudC5ib2R5XSBUaGUgSFRNTCBlbGVtZW50IHRoYXQgd2lsbCBjb250YWluIHRoZSBjcmVkaXRzIHBvcHVwXG4gKlxuICogQGFsaWFzIENyZWRpdERpc3BsYXlcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgY3JlZGl0RGlzcGxheSA9IG5ldyBDZXNpdW0uQ3JlZGl0RGlzcGxheShjcmVkaXRDb250YWluZXIpO1xuICovXG5mdW5jdGlvbiBDcmVkaXREaXNwbGF5KGNvbnRhaW5lciwgZGVsaW1pdGVyLCB2aWV3cG9ydCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiY29udGFpbmVyXCIsIGNvbnRhaW5lcik7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgdmlld3BvcnQgPSBkZWZhdWx0VmFsdWUodmlld3BvcnQsIGRvY3VtZW50LmJvZHkpO1xuXG4gIHZhciBsaWdodGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGxpZ2h0Ym94LmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNyZWRpdC1saWdodGJveC1vdmVybGF5XCI7XG4gIHZpZXdwb3J0LmFwcGVuZENoaWxkKGxpZ2h0Ym94KTtcblxuICB2YXIgbGlnaHRib3hDcmVkaXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbGlnaHRib3hDcmVkaXRzLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNyZWRpdC1saWdodGJveFwiO1xuICBsaWdodGJveC5hcHBlbmRDaGlsZChsaWdodGJveENyZWRpdHMpO1xuXG4gIGZ1bmN0aW9uIGhpZGVMaWdodGJveChldmVudCkge1xuICAgIGlmIChsaWdodGJveENyZWRpdHMuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGF0LmhpZGVMaWdodGJveCgpO1xuICB9XG4gIGxpZ2h0Ym94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlTGlnaHRib3gsIGZhbHNlKTtcblxuICB2YXIgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0aXRsZS5jbGFzc05hbWUgPSBcImNlc2l1bS1jcmVkaXQtbGlnaHRib3gtdGl0bGVcIjtcbiAgdGl0bGUudGV4dENvbnRlbnQgPSBcIkRhdGEgcHJvdmlkZWQgYnk6XCI7XG4gIGxpZ2h0Ym94Q3JlZGl0cy5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgdmFyIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGNsb3NlQnV0dG9uLm9uY2xpY2sgPSB0aGlzLmhpZGVMaWdodGJveC5iaW5kKHRoaXMpO1xuICBjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSBcIiZ0aW1lcztcIjtcbiAgY2xvc2VCdXR0b24uY2xhc3NOYW1lID0gXCJjZXNpdW0tY3JlZGl0LWxpZ2h0Ym94LWNsb3NlXCI7XG4gIGxpZ2h0Ym94Q3JlZGl0cy5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG5cbiAgdmFyIGNyZWRpdExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gIGxpZ2h0Ym94Q3JlZGl0cy5hcHBlbmRDaGlsZChjcmVkaXRMaXN0KTtcblxuICB2YXIgY2VzaXVtQ3JlZGl0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY2VzaXVtQ3JlZGl0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY2VzaXVtLWNyZWRpdC1sb2dvQ29udGFpbmVyXCI7XG4gIGNlc2l1bUNyZWRpdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNlc2l1bUNyZWRpdENvbnRhaW5lcik7XG5cbiAgdmFyIHNjcmVlbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHNjcmVlbkNvbnRhaW5lci5jbGFzc05hbWUgPSBcImNlc2l1bS1jcmVkaXQtdGV4dENvbnRhaW5lclwiO1xuICBzY3JlZW5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzY3JlZW5Db250YWluZXIpO1xuXG4gIHZhciBleHBhbmRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGV4cGFuZExpbmsuY2xhc3NOYW1lID0gXCJjZXNpdW0tY3JlZGl0LWV4cGFuZC1saW5rXCI7XG4gIGV4cGFuZExpbmsub25jbGljayA9IHRoaXMuc2hvd0xpZ2h0Ym94LmJpbmQodGhpcyk7XG4gIGV4cGFuZExpbmsudGV4dENvbnRlbnQgPSBcIkRhdGEgYXR0cmlidXRpb25cIjtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGV4cGFuZExpbmspO1xuXG4gIGFwcGVuZENzcygpO1xuICB2YXIgY2VzaXVtQ3JlZGl0ID0gQ3JlZGl0LmNsb25lKENyZWRpdERpc3BsYXkuY2VzaXVtQ3JlZGl0KTtcblxuICB0aGlzLl9kZWxpbWl0ZXIgPSBkZWZhdWx0VmFsdWUoZGVsaW1pdGVyLCBcIiDigKIgXCIpO1xuICB0aGlzLl9zY3JlZW5Db250YWluZXIgPSBzY3JlZW5Db250YWluZXI7XG4gIHRoaXMuX2Nlc2l1bUNyZWRpdENvbnRhaW5lciA9IGNlc2l1bUNyZWRpdENvbnRhaW5lcjtcbiAgdGhpcy5fbGFzdFZpZXdwb3J0SGVpZ2h0ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9sYXN0Vmlld3BvcnRXaWR0aCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbGlnaHRib3hDcmVkaXRzID0gbGlnaHRib3hDcmVkaXRzO1xuICB0aGlzLl9jcmVkaXRMaXN0ID0gY3JlZGl0TGlzdDtcbiAgdGhpcy5fbGlnaHRib3ggPSBsaWdodGJveDtcbiAgdGhpcy5faGlkZUxpZ2h0Ym94ID0gaGlkZUxpZ2h0Ym94O1xuICB0aGlzLl9leHBhbmRMaW5rID0gZXhwYW5kTGluaztcbiAgdGhpcy5fZXhwYW5kZWQgPSBmYWxzZTtcbiAgdGhpcy5fZGVmYXVsdENyZWRpdHMgPSBbXTtcbiAgdGhpcy5fY2VzaXVtQ3JlZGl0ID0gY2VzaXVtQ3JlZGl0O1xuICB0aGlzLl9wcmV2aW91c0Nlc2l1bUNyZWRpdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fY3VycmVudENlc2l1bUNyZWRpdCA9IGNlc2l1bUNyZWRpdDtcbiAgdGhpcy5fY3VycmVudEZyYW1lQ3JlZGl0cyA9IHtcbiAgICBzY3JlZW5DcmVkaXRzOiBuZXcgQXNzb2NpYXRpdmVBcnJheSgpLFxuICAgIGxpZ2h0Ym94Q3JlZGl0czogbmV3IEFzc29jaWF0aXZlQXJyYXkoKSxcbiAgfTtcbiAgdGhpcy5fZGVmYXVsdENyZWRpdCA9IHVuZGVmaW5lZDtcblxuICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBIVE1MIGVsZW1lbnQgd2hlcmUgY3JlZGl0cyB3aWxsIGJlIGRpc3BsYXllZC5cbiAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG59XG5cbi8qKlxuICogQWRkcyBhIGNyZWRpdCB0byB0aGUgbGlzdCBvZiBjdXJyZW50IGNyZWRpdHMgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBjcmVkaXQgY29udGFpbmVyXG4gKlxuICogQHBhcmFtIHtDcmVkaXR9IGNyZWRpdCBUaGUgY3JlZGl0IHRvIGRpc3BsYXlcbiAqL1xuQ3JlZGl0RGlzcGxheS5wcm90b3R5cGUuYWRkQ3JlZGl0ID0gZnVuY3Rpb24gKGNyZWRpdCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiY3JlZGl0XCIsIGNyZWRpdCk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIGlmIChjcmVkaXQuX2lzSW9uKSB7XG4gICAgLy8gSWYgdGhpcyBpcyB0aGUgYW4gaW9uIGxvZ28gY3JlZGl0IGZyb20gdGhlIGlvbiBzZXJ2ZXJcbiAgICAvLyBKdXNlIHVzZSB0aGUgZGVmYXVsdCBjcmVkaXQgKHdoaWNoIGlzIGlkZW50aWNhbCkgdG8gYXZvaWQgYmxpbmtpbmdcbiAgICBpZiAoIWRlZmluZWQodGhpcy5fZGVmYXVsdENyZWRpdCkpIHtcbiAgICAgIHRoaXMuX2RlZmF1bHRDcmVkaXQgPSBDcmVkaXQuY2xvbmUoZ2V0RGVmYXVsdENyZWRpdCgpKTtcbiAgICB9XG4gICAgdGhpcy5fY3VycmVudENlc2l1bUNyZWRpdCA9IHRoaXMuX2RlZmF1bHRDcmVkaXQ7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFjcmVkaXQuc2hvd09uU2NyZWVuKSB7XG4gICAgdGhpcy5fY3VycmVudEZyYW1lQ3JlZGl0cy5saWdodGJveENyZWRpdHMuc2V0KGNyZWRpdC5pZCwgY3JlZGl0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9jdXJyZW50RnJhbWVDcmVkaXRzLnNjcmVlbkNyZWRpdHMuc2V0KGNyZWRpdC5pZCwgY3JlZGl0KTtcbiAgfVxufTtcblxuLyoqXG4gKiBBZGRzIGNyZWRpdHMgdGhhdCB3aWxsIHBlcnNpc3QgdW50aWwgdGhleSBhcmUgcmVtb3ZlZFxuICpcbiAqIEBwYXJhbSB7Q3JlZGl0fSBjcmVkaXQgVGhlIGNyZWRpdCB0byBhZGRlZCB0byBkZWZhdWx0c1xuICovXG5DcmVkaXREaXNwbGF5LnByb3RvdHlwZS5hZGREZWZhdWx0Q3JlZGl0ID0gZnVuY3Rpb24gKGNyZWRpdCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiY3JlZGl0XCIsIGNyZWRpdCk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciBkZWZhdWx0Q3JlZGl0cyA9IHRoaXMuX2RlZmF1bHRDcmVkaXRzO1xuICBpZiAoIWNvbnRhaW5zKGRlZmF1bHRDcmVkaXRzLCBjcmVkaXQpKSB7XG4gICAgZGVmYXVsdENyZWRpdHMucHVzaChjcmVkaXQpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBkZWZhdWx0IGNyZWRpdFxuICpcbiAqIEBwYXJhbSB7Q3JlZGl0fSBjcmVkaXQgVGhlIGNyZWRpdCB0byBiZSByZW1vdmVkIGZyb20gZGVmYXVsdHNcbiAqL1xuQ3JlZGl0RGlzcGxheS5wcm90b3R5cGUucmVtb3ZlRGVmYXVsdENyZWRpdCA9IGZ1bmN0aW9uIChjcmVkaXQpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcImNyZWRpdFwiLCBjcmVkaXQpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgZGVmYXVsdENyZWRpdHMgPSB0aGlzLl9kZWZhdWx0Q3JlZGl0cztcbiAgdmFyIGluZGV4ID0gZGVmYXVsdENyZWRpdHMuaW5kZXhPZihjcmVkaXQpO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgZGVmYXVsdENyZWRpdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufTtcblxuQ3JlZGl0RGlzcGxheS5wcm90b3R5cGUuc2hvd0xpZ2h0Ym94ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9saWdodGJveC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICB0aGlzLl9leHBhbmRlZCA9IHRydWU7XG59O1xuXG5DcmVkaXREaXNwbGF5LnByb3RvdHlwZS5oaWRlTGlnaHRib3ggPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2xpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgdGhpcy5fZXhwYW5kZWQgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgY3JlZGl0IGRpc3BsYXkgYmVmb3JlIGEgbmV3IGZyYW1lIGlzIHJlbmRlcmVkLlxuICovXG5DcmVkaXREaXNwbGF5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9leHBhbmRlZCkge1xuICAgIHN0eWxlTGlnaHRib3hDb250YWluZXIodGhpcyk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVzZXRzIHRoZSBjcmVkaXQgZGlzcGxheSB0byBhIGJlZ2lubmluZyBvZiBmcmFtZSBzdGF0ZSwgY2xlYXJpbmcgb3V0IGN1cnJlbnQgY3JlZGl0cy5cbiAqL1xuQ3JlZGl0RGlzcGxheS5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGN1cnJlbnRGcmFtZUNyZWRpdHMgPSB0aGlzLl9jdXJyZW50RnJhbWVDcmVkaXRzO1xuXG4gIHZhciBzY3JlZW5DcmVkaXRzID0gY3VycmVudEZyYW1lQ3JlZGl0cy5zY3JlZW5DcmVkaXRzO1xuICBzY3JlZW5DcmVkaXRzLnJlbW92ZUFsbCgpO1xuICB2YXIgZGVmYXVsdENyZWRpdHMgPSB0aGlzLl9kZWZhdWx0Q3JlZGl0cztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWZhdWx0Q3JlZGl0cy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBkZWZhdWx0Q3JlZGl0ID0gZGVmYXVsdENyZWRpdHNbaV07XG4gICAgc2NyZWVuQ3JlZGl0cy5zZXQoZGVmYXVsdENyZWRpdC5pZCwgZGVmYXVsdENyZWRpdCk7XG4gIH1cblxuICBjdXJyZW50RnJhbWVDcmVkaXRzLmxpZ2h0Ym94Q3JlZGl0cy5yZW1vdmVBbGwoKTtcblxuICBpZiAoIUNyZWRpdC5lcXVhbHMoQ3JlZGl0RGlzcGxheS5jZXNpdW1DcmVkaXQsIHRoaXMuX2Nlc2l1bUNyZWRpdCkpIHtcbiAgICB0aGlzLl9jZXNpdW1DcmVkaXQgPSBDcmVkaXQuY2xvbmUoQ3JlZGl0RGlzcGxheS5jZXNpdW1DcmVkaXQpO1xuICB9XG4gIHRoaXMuX2N1cnJlbnRDZXNpdW1DcmVkaXQgPSB0aGlzLl9jZXNpdW1DcmVkaXQ7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGNyZWRpdCBkaXNwbGF5IHRvIHRoZSBlbmQgb2YgZnJhbWUgc3RhdGUsIGRpc3BsYXlpbmcgY3JlZGl0cyBmcm9tIHRoZSBsYXN0IGZyYW1lIGluIHRoZSBjcmVkaXQgY29udGFpbmVyLlxuICovXG5DcmVkaXREaXNwbGF5LnByb3RvdHlwZS5lbmRGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNjcmVlbkNyZWRpdHMgPSB0aGlzLl9jdXJyZW50RnJhbWVDcmVkaXRzLnNjcmVlbkNyZWRpdHMudmFsdWVzO1xuICBkaXNwbGF5Q3JlZGl0cyhcbiAgICB0aGlzLl9zY3JlZW5Db250YWluZXIsXG4gICAgc2NyZWVuQ3JlZGl0cyxcbiAgICB0aGlzLl9kZWxpbWl0ZXIsXG4gICAgdW5kZWZpbmVkXG4gICk7XG5cbiAgdmFyIGxpZ2h0Ym94Q3JlZGl0cyA9IHRoaXMuX2N1cnJlbnRGcmFtZUNyZWRpdHMubGlnaHRib3hDcmVkaXRzLnZhbHVlcztcbiAgdGhpcy5fZXhwYW5kTGluay5zdHlsZS5kaXNwbGF5ID1cbiAgICBsaWdodGJveENyZWRpdHMubGVuZ3RoID4gMCA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcbiAgZGlzcGxheUNyZWRpdHModGhpcy5fY3JlZGl0TGlzdCwgbGlnaHRib3hDcmVkaXRzLCB1bmRlZmluZWQsIFwibGlcIik7XG5cbiAgc3dhcENlc2l1bUNyZWRpdCh0aGlzKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoaXMgb2JqZWN0LiAgRGVzdHJveWluZyBhbiBvYmplY3QgYWxsb3dzIGZvciBkZXRlcm1pbmlzdGljXG4gKiByZWxlYXNlIG9mIHJlc291cmNlcywgaW5zdGVhZCBvZiByZWx5aW5nIG9uIHRoZSBnYXJiYWdlIGNvbGxlY3RvciB0byBkZXN0cm95IHRoaXMgb2JqZWN0LlxuICogPGJyIC8+PGJyIC8+XG4gKiBPbmNlIGFuIG9iamVjdCBpcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZDsgY2FsbGluZyBhbnkgZnVuY3Rpb24gb3RoZXIgdGhhblxuICogPGNvZGU+aXNEZXN0cm95ZWQ8L2NvZGU+IHdpbGwgcmVzdWx0IGluIGEge0BsaW5rIERldmVsb3BlckVycm9yfSBleGNlcHRpb24uICBUaGVyZWZvcmUsXG4gKiBhc3NpZ24gdGhlIHJldHVybiB2YWx1ZSAoPGNvZGU+dW5kZWZpbmVkPC9jb2RlPikgdG8gdGhlIG9iamVjdCBhcyBkb25lIGluIHRoZSBleGFtcGxlLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBUaGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpLmUuLCBkZXN0cm95KCkgd2FzIGNhbGxlZC5cbiAqL1xuQ3JlZGl0RGlzcGxheS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fbGlnaHRib3gucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hpZGVMaWdodGJveCwgZmFsc2UpO1xuXG4gIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2Nlc2l1bUNyZWRpdENvbnRhaW5lcik7XG4gIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX3NjcmVlbkNvbnRhaW5lcik7XG4gIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2V4cGFuZExpbmspO1xuICB0aGlzLnZpZXdwb3J0LnJlbW92ZUNoaWxkKHRoaXMuX2xpZ2h0Ym94KTtcblxuICByZXR1cm4gZGVzdHJveU9iamVjdCh0aGlzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gKiA8YnIgLz48YnIgLz5cbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCA8Y29kZT5mYWxzZTwvY29kZT4uXG4gKi9cbkNyZWRpdERpc3BsYXkucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG5DcmVkaXREaXNwbGF5Ll9jZXNpdW1DcmVkaXQgPSB1bmRlZmluZWQ7XG5DcmVkaXREaXNwbGF5Ll9jZXNpdW1DcmVkaXRJbml0aWFsaXplZCA9IGZhbHNlO1xuXG52YXIgZGVmYXVsdENyZWRpdDtcbmZ1bmN0aW9uIGdldERlZmF1bHRDcmVkaXQoKSB7XG4gIGlmICghZGVmaW5lZChkZWZhdWx0Q3JlZGl0KSkge1xuICAgIHZhciBsb2dvID0gYnVpbGRNb2R1bGVVcmwoXCJBc3NldHMvSW1hZ2VzL2lvbi1jcmVkaXQucG5nXCIpO1xuXG4gICAgLy8gV2hlbiBob3N0aW5nIGluIGEgV2ViVmlldywgdGhlIGJhc2UgVVJMIHNjaGVtZSBpcyBmaWxlOi8vIG9yIG1zLWFwcHgtd2ViOi8vXG4gICAgLy8gd2hpY2ggaXMgc3RyaXBwZWQgb3V0IGZyb20gdGhlIENyZWRpdCdzIDxpbWc+IHRhZzsgdXNlIHRoZSBmdWxsIHBhdGggaW5zdGVhZFxuICAgIGlmIChcbiAgICAgIGxvZ28uaW5kZXhPZihcImh0dHA6Ly9cIikgIT09IDAgJiZcbiAgICAgIGxvZ28uaW5kZXhPZihcImh0dHBzOi8vXCIpICE9PSAwICYmXG4gICAgICBsb2dvLmluZGV4T2YoXCJkYXRhOlwiKSAhPT0gMFxuICAgICkge1xuICAgICAgdmFyIGxvZ29VcmwgPSBuZXcgVXJpKGxvZ28pO1xuICAgICAgbG9nbyA9IGxvZ29VcmwucGF0aCgpO1xuICAgIH1cblxuICAgIGRlZmF1bHRDcmVkaXQgPSBuZXcgQ3JlZGl0KFxuICAgICAgJzxhIGhyZWY9XCJodHRwczovL2Nlc2l1bS5jb20vXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGltZyBzcmM9XCInICtcbiAgICAgICAgbG9nbyArXG4gICAgICAgICdcIiB0aXRsZT1cIkNlc2l1bSBpb25cIi8+PC9hPicsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfVxuXG4gIGlmICghQ3JlZGl0RGlzcGxheS5fY2VzaXVtQ3JlZGl0SW5pdGlhbGl6ZWQpIHtcbiAgICBDcmVkaXREaXNwbGF5Ll9jZXNpdW1DcmVkaXQgPSBkZWZhdWx0Q3JlZGl0O1xuICAgIENyZWRpdERpc3BsYXkuX2Nlc2l1bUNyZWRpdEluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdENyZWRpdDtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ3JlZGl0RGlzcGxheSwge1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBDZXNpdW0gbG9nbyBjcmVkaXQuXG4gICAqIEBtZW1iZXJvZiBDcmVkaXREaXNwbGF5XG4gICAqIEB0eXBlIHtDcmVkaXR9XG4gICAqL1xuICBjZXNpdW1DcmVkaXQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGdldERlZmF1bHRDcmVkaXQoKTtcbiAgICAgIHJldHVybiBDcmVkaXREaXNwbGF5Ll9jZXNpdW1DcmVkaXQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgQ3JlZGl0RGlzcGxheS5fY2VzaXVtQ3JlZGl0ID0gdmFsdWU7XG4gICAgICBDcmVkaXREaXNwbGF5Ll9jZXNpdW1DcmVkaXRJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfSxcbiAgfSxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgQ3JlZGl0RGlzcGxheTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///67442\n')},71593:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52200);\n\n\n/**\n * Determines which triangles, if any, are culled.\n *\n * @enum {Number}\n */\nvar CullFace = {\n  /**\n   * Front-facing triangles are culled.\n   *\n   * @type {Number}\n   * @constant\n   */\n  FRONT: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].FRONT */ .Z.FRONT,\n\n  /**\n   * Back-facing triangles are culled.\n   *\n   * @type {Number}\n   * @constant\n   */\n  BACK: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].BACK */ .Z.BACK,\n\n  /**\n   * Both front-facing and back-facing triangles are culled.\n   *\n   * @type {Number}\n   * @constant\n   */\n  FRONT_AND_BACK: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].FRONT_AND_BACK */ .Z.FRONT_AND_BACK,\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(CullFace));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzE1OTMuanMiLCJtYXBwaW5ncyI6IjtBQUF1RDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsb0ZBQW9COztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFFBQVEsa0ZBQW1COztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGtCQUFrQixzR0FBNkI7QUFDL0M7QUFDQSx5REFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9DdWxsRmFjZS5qcz8yOTU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJHTENvbnN0YW50cyBmcm9tIFwiLi4vQ29yZS9XZWJHTENvbnN0YW50cy5qc1wiO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hpY2ggdHJpYW5nbGVzLCBpZiBhbnksIGFyZSBjdWxsZWQuXG4gKlxuICogQGVudW0ge051bWJlcn1cbiAqL1xudmFyIEN1bGxGYWNlID0ge1xuICAvKipcbiAgICogRnJvbnQtZmFjaW5nIHRyaWFuZ2xlcyBhcmUgY3VsbGVkLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEZST05UOiBXZWJHTENvbnN0YW50cy5GUk9OVCxcblxuICAvKipcbiAgICogQmFjay1mYWNpbmcgdHJpYW5nbGVzIGFyZSBjdWxsZWQuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgQkFDSzogV2ViR0xDb25zdGFudHMuQkFDSyxcblxuICAvKipcbiAgICogQm90aCBmcm9udC1mYWNpbmcgYW5kIGJhY2stZmFjaW5nIHRyaWFuZ2xlcyBhcmUgY3VsbGVkLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEZST05UX0FORF9CQUNLOiBXZWJHTENvbnN0YW50cy5GUk9OVF9BTkRfQkFDSyxcbn07XG5leHBvcnQgZGVmYXVsdCBPYmplY3QuZnJlZXplKEN1bGxGYWNlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///71593\n')},93030:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval("/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60838);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82982);\n\n\n\n\n\n\n/**\n * A cumulus cloud billboard positioned in the 3D scene, that is created and rendered using a {@link CloudCollection}.\n * A cloud is created and its initial properties are set by calling {@link CloudCollection#add}.\n * and {@link CloudCollection#remove}.\n * <br /><br />\n * <div align='center'>\n * <img src='Images/CumulusCloud.png' width='400' height='300' /><br />\n * Example cumulus clouds\n * </div>\n * @alias CumulusCloud\n *\n * @performance Similar to {@link Billboard}, reading a property, e.g., {@link CumulusCloud#show},\n * takes constant time. Assigning to a property is constant time but results in\n * CPU to GPU traffic when {@link CloudCollection#update} is called.  The per-cloud traffic is\n * the same regardless of how many properties were updated.  If most clouds in a collection need to be\n * updated, it may be more efficient to clear the collection with {@link CloudCollection#removeAll}\n * and add new clouds instead of modifying each one.\n *\n * @see CloudCollection\n * @see CloudCollection#add\n *\n * @internalConstructor\n * @class\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Cloud%20Parameters.html|Cesium Sandcastle Cloud Parameters Demo}\n */\nfunction CumulusCloud(options, cloudCollection) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  this._show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options.show, true);\n\n  this._position = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].clone */ .Z.clone(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options.position, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].ZERO */ .Z.ZERO)\n  );\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(options.scale) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(options.maximumSize)) {\n    this._maximumSize = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].clone */ .Z.clone(options.maximumSize);\n    this._scale = new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .Z(this._maximumSize.x, this._maximumSize.y);\n  } else {\n    this._scale = _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"].clone */ .Z.clone(\n      (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options.scale, new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .Z(20.0, 12.0))\n    );\n\n    var defaultMaxSize = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z(\n      this._scale.x,\n      this._scale.y,\n      Math.min(this._scale.x, this._scale.y) / 1.5\n    );\n    this._maximumSize = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].clone */ .Z.clone(\n      (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options.maximumSize, defaultMaxSize)\n    );\n  }\n\n  this._slice = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options.slice, -1.0);\n\n  this._brightness = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z)(options.brightness, 1.0);\n  this._cloudCollection = cloudCollection;\n  this._index = -1; // Used by CloudCollection\n}\n\nvar SHOW_INDEX = (CumulusCloud.SHOW_INDEX = 0);\nvar POSITION_INDEX = (CumulusCloud.POSITION_INDEX = 1);\nvar SCALE_INDEX = (CumulusCloud.SCALE_INDEX = 2);\nvar MAXIMUM_SIZE_INDEX = (CumulusCloud.MAXIMUM_SIZE_INDEX = 3);\nvar SLICE_INDEX = (CumulusCloud.SLICE_INDEX = 4);\nvar BRIGHTNESS_INDEX = (CumulusCloud.BRIGHTNESS_INDEX = 5);\nCumulusCloud.NUMBER_OF_PROPERTIES = 6;\n\nfunction makeDirty(cloud, propertyChanged) {\n  var cloudCollection = cloud._cloudCollection;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(cloudCollection)) {\n    cloudCollection._updateCloud(cloud, propertyChanged);\n    cloud._dirty = true;\n  }\n}\n\nObject.defineProperties(CumulusCloud.prototype, {\n  /**\n   * Determines if this cumulus cloud will be shown.  Use this to hide or show a cloud, instead\n   * of removing it and re-adding it to the collection.\n   * @memberof CumulusCloud.prototype\n   * @type {Boolean}\n   * @default true\n   */\n  show: {\n    get: function () {\n      return this._show;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"].typeOf.bool */ .Z.typeOf.bool(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._show !== value) {\n        this._show = value;\n        makeDirty(this, SHOW_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the Cartesian position of this cumulus cloud.\n   * @memberof CumulusCloud.prototype\n   * @type {Cartesian3}\n   */\n  position: {\n    get: function () {\n      return this._position;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"].typeOf.object */ .Z.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      var position = this._position;\n      if (!_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].equals */ .Z.equals(position, value)) {\n        _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].clone */ .Z.clone(value, position);\n        makeDirty(this, POSITION_INDEX);\n      }\n    },\n  },\n\n  /**\n   * <p>Gets or sets the scale of the cumulus cloud billboard in meters.\n   * The <code>scale</code> property will affect the size of the billboard,\n   * but not the cloud's actual appearance.</p>\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'>\n   *   <code>cloud.scale = new Cesium.Cartesian2(12, 8);</code><br/>\n   *   <img src='Images/CumulusCloud.scalex12y8.png' width='250' height='158' />\n   * </td>\n   * <td align='center'>\n   *   <code>cloud.scale = new Cesium.Cartesian2(24, 10);</code><br/>\n   *   <img src='Images/CumulusCloud.scalex24y10.png' width='250' height='158' />\n   * </td>\n   * </tr></table>\n   * </div>\n   *\n   * <p>To modify the cloud's appearance, modify its <code>maximumSize</code>\n   * and <code>slice</code> properties.</p>\n   * @memberof CumulusCloud.prototype\n   * @type {Cartesian2}\n   *\n   * @see CumulusCloud#maximumSize\n   * @see CumulusCloud#slice\n   */\n  scale: {\n    get: function () {\n      return this._scale;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"].typeOf.object */ .Z.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      var scale = this._scale;\n      if (!_Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"].equals */ .Z.equals(scale, value)) {\n        _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"].clone */ .Z.clone(value, scale);\n        makeDirty(this, SCALE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * <p>Gets or sets the maximum size of the cumulus cloud rendered on the billboard.\n   * This defines a maximum ellipsoid volume that the cloud can appear in.\n   * Rather than guaranteeing a specific size, this specifies a boundary for the\n   * cloud to appear in, and changing it can affect the shape of the cloud.</p>\n   * <p>Changing the z-value of <code>maximumSize</code> has the most dramatic effect\n   * on the cloud's appearance because it changes the depth of the cloud, and thus the\n   * positions at which the cloud-shaping texture is sampled.</p>\n   * <div align='center'>\n   * <table border='0' cellpadding='5'>\n   * <tr>\n   *   <td align='center'>\n   *     <code>cloud.maximumSize = new Cesium.Cartesian3(14, 9, 10);</code><br/>\n   *     <img src='Images/CumulusCloud.maximumSizex14y9z10.png' width='250' height='158' />\n   *   </td>\n   *   <td align='center'>\n   *     <code>cloud.maximumSize.x = 25;</code><br/>\n   *     <img src='Images/CumulusCloud.maximumSizex25.png' width='250' height='158' />\n   *   </td>\n   * </tr>\n   * <tr>\n   *   <td align='center'>\n   *     <code>cloud.maximumSize.y = 5;</code><br/>\n   *     <img src='Images/CumulusCloud.maximumSizey5.png' width='250' height='158' />\n   *   </td>\n   *   <td align='center'>\n   *     <code>cloud.maximumSize.z = 17;</code><br/>\n   *     <img src='Images/CumulusCloud.maximumSizez17.png' width='250' height='158' />\n   *   </td>\n   * </tr>\n   * </table>\n   * </div>\n   *\n   * <p>To modify the billboard's actual size, modify the cloud's <code>scale</code> property.</p>\n   * @memberof CumulusCloud.prototype\n   * @type {Cartesian3}\n   *\n   * @see CumulusCloud#scale\n   */\n  maximumSize: {\n    get: function () {\n      return this._maximumSize;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"].typeOf.object */ .Z.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      var maximumSize = this._maximumSize;\n      if (!_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].equals */ .Z.equals(maximumSize, value)) {\n        _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].clone */ .Z.clone(value, maximumSize);\n        makeDirty(this, MAXIMUM_SIZE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * <p>Gets or sets the \"slice\" of the cloud that is rendered on the billboard, i.e.\n   * the specific cross-section of the cloud chosen for the billboard's appearance.\n   * Given a value between 0 and 1, the slice specifies how deeply into the cloud\n   * to intersect based on its maximum size in the z-direction.</p>\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>cloud.slice = 0.32;</code><br/><img src='Images/CumulusCloud.slice0.32.png' width='250' height='158' /></td>\n   * <td align='center'><code>cloud.slice = 0.5;</code><br/><img src='Images/CumulusCloud.slice0.5.png' width='250' height='158' /></td>\n   * <td align='center'><code>cloud.slice = 0.6;</code><br/><img src='Images/CumulusCloud.slice0.6.png' width='250' height='158' /></td>\n   * </tr></table>\n   * </div>\n   *\n   * <br />\n   * <p>Due to the nature in which this slice is calculated,\n   * values below <code>0.2</code> may result in cross-sections that are too small,\n   * and the edge of the ellipsoid will be visible. Similarly, values above <code>0.7</code>\n   * will cause the cloud to appear smaller. Values outside the range <code>[0.1, 0.9]</code>\n   * should be avoided entirely because they do not produce desirable results.</p>\n   *\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>cloud.slice = 0.08;</code><br/><img src='Images/CumulusCloud.slice0.08.png' width='250' height='158' /></td>\n   * <td align='center'><code>cloud.slice = 0.8;</code><br/><img src='Images/CumulusCloud.slice0.8.png' width='250' height='158' /></td>\n   * </tr></table>\n   * </div>\n   *\n   * <p>If <code>slice</code> is set to a negative number, the cloud will not render a cross-section.\n   * Instead, it will render the outside of the ellipsoid that is visible. For clouds with\n   * small values of `maximumSize.z`, this can produce good-looking results, but for larger\n   * clouds, this can result in a cloud that is undesirably warped to the ellipsoid volume.</p>\n   *\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'>\n   *  <code>cloud.slice = -1.0;<br/>cloud.maximumSize.z = 18;</code><br/>\n   *  <img src='Images/CumulusCloud.slice-1z18.png' width='250' height='158' />\n   * </td>\n   * <td align='center'>\n   *   <code>cloud.slice = -1.0;<br/>cloud.maximumSize.z = 30;</code><br/>\n   *   <img src='Images/CumulusCloud.slice-1z30.png' width='250' height='158' /></td>\n   * </tr></table>\n   * </div>\n   *\n   * @memberof CumulusCloud.prototype\n   * @type {Number}\n   * @default -1.0\n   */\n  slice: {\n    get: function () {\n      return this._slice;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      console.log(value);\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"].typeOf.number */ .Z.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      var slice = this._slice;\n      if (slice !== value) {\n        this._slice = value;\n        makeDirty(this, SLICE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the brightness of the cloud. This can be used to give clouds\n   * a darker, grayer appearance.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>cloud.brightness = 1.0;</code><br/><img src='Images/CumulusCloud.brightness1.png' width='250' height='158' /></td>\n   * <td align='center'><code>cloud.brightness = 0.6;</code><br/><img src='Images/CumulusCloud.brightness0.6.png' width='250' height='158' /></td>\n   * <td align='center'><code>cloud.brightness = 0.0;</code><br/><img src='Images/CumulusCloud.brightness0.png' width='250' height='158' /></td>\n   * </tr></table>\n   * </div>\n   * @memberof CumulusCloud.prototype\n   * @type {Number}\n   * @default 1.0\n   */\n  brightness: {\n    get: function () {\n      return this._brightness;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"].typeOf.number */ .Z.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      var brightness = this._brightness;\n      if (brightness !== value) {\n        this._brightness = value;\n        makeDirty(this, BRIGHTNESS_INDEX);\n      }\n    },\n  },\n});\n\nCumulusCloud.prototype._destroy = function () {\n  this._cloudCollection = undefined;\n};\n\n/* harmony default export */ __webpack_exports__[\"Z\"] = (CumulusCloud);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw4QkFBOEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhCQUE4QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTSwyRkFBbUI7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRCxxREFBcUQ7QUFDckQscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLDJGQUFtQjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQSx5REFBZSxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvQ3VtdWx1c0Nsb3VkLmpzPzc5ZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhcnRlc2lhbjIgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMi5qc1wiO1xuaW1wb3J0IENhcnRlc2lhbjMgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMy5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuXG4vKipcbiAqIEEgY3VtdWx1cyBjbG91ZCBiaWxsYm9hcmQgcG9zaXRpb25lZCBpbiB0aGUgM0Qgc2NlbmUsIHRoYXQgaXMgY3JlYXRlZCBhbmQgcmVuZGVyZWQgdXNpbmcgYSB7QGxpbmsgQ2xvdWRDb2xsZWN0aW9ufS5cbiAqIEEgY2xvdWQgaXMgY3JlYXRlZCBhbmQgaXRzIGluaXRpYWwgcHJvcGVydGllcyBhcmUgc2V0IGJ5IGNhbGxpbmcge0BsaW5rIENsb3VkQ29sbGVjdGlvbiNhZGR9LlxuICogYW5kIHtAbGluayBDbG91ZENvbGxlY3Rpb24jcmVtb3ZlfS5cbiAqIDxiciAvPjxiciAvPlxuICogPGRpdiBhbGlnbj0nY2VudGVyJz5cbiAqIDxpbWcgc3JjPSdJbWFnZXMvQ3VtdWx1c0Nsb3VkLnBuZycgd2lkdGg9JzQwMCcgaGVpZ2h0PSczMDAnIC8+PGJyIC8+XG4gKiBFeGFtcGxlIGN1bXVsdXMgY2xvdWRzXG4gKiA8L2Rpdj5cbiAqIEBhbGlhcyBDdW11bHVzQ2xvdWRcbiAqXG4gKiBAcGVyZm9ybWFuY2UgU2ltaWxhciB0byB7QGxpbmsgQmlsbGJvYXJkfSwgcmVhZGluZyBhIHByb3BlcnR5LCBlLmcuLCB7QGxpbmsgQ3VtdWx1c0Nsb3VkI3Nob3d9LFxuICogdGFrZXMgY29uc3RhbnQgdGltZS4gQXNzaWduaW5nIHRvIGEgcHJvcGVydHkgaXMgY29uc3RhbnQgdGltZSBidXQgcmVzdWx0cyBpblxuICogQ1BVIHRvIEdQVSB0cmFmZmljIHdoZW4ge0BsaW5rIENsb3VkQ29sbGVjdGlvbiN1cGRhdGV9IGlzIGNhbGxlZC4gIFRoZSBwZXItY2xvdWQgdHJhZmZpYyBpc1xuICogdGhlIHNhbWUgcmVnYXJkbGVzcyBvZiBob3cgbWFueSBwcm9wZXJ0aWVzIHdlcmUgdXBkYXRlZC4gIElmIG1vc3QgY2xvdWRzIGluIGEgY29sbGVjdGlvbiBuZWVkIHRvIGJlXG4gKiB1cGRhdGVkLCBpdCBtYXkgYmUgbW9yZSBlZmZpY2llbnQgdG8gY2xlYXIgdGhlIGNvbGxlY3Rpb24gd2l0aCB7QGxpbmsgQ2xvdWRDb2xsZWN0aW9uI3JlbW92ZUFsbH1cbiAqIGFuZCBhZGQgbmV3IGNsb3VkcyBpbnN0ZWFkIG9mIG1vZGlmeWluZyBlYWNoIG9uZS5cbiAqXG4gKiBAc2VlIENsb3VkQ29sbGVjdGlvblxuICogQHNlZSBDbG91ZENvbGxlY3Rpb24jYWRkXG4gKlxuICogQGludGVybmFsQ29uc3RydWN0b3JcbiAqIEBjbGFzc1xuICpcbiAqIEBkZW1vIHtAbGluayBodHRwczovL3NhbmRjYXN0bGUuY2VzaXVtLmNvbS9pbmRleC5odG1sP3NyYz1DbG91ZCUyMFBhcmFtZXRlcnMuaHRtbHxDZXNpdW0gU2FuZGNhc3RsZSBDbG91ZCBQYXJhbWV0ZXJzIERlbW99XG4gKi9cbmZ1bmN0aW9uIEN1bXVsdXNDbG91ZChvcHRpb25zLCBjbG91ZENvbGxlY3Rpb24pIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcbiAgdGhpcy5fc2hvdyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnNob3csIHRydWUpO1xuXG4gIHRoaXMuX3Bvc2l0aW9uID0gQ2FydGVzaWFuMy5jbG9uZShcbiAgICBkZWZhdWx0VmFsdWUob3B0aW9ucy5wb3NpdGlvbiwgQ2FydGVzaWFuMy5aRVJPKVxuICApO1xuXG4gIGlmICghZGVmaW5lZChvcHRpb25zLnNjYWxlKSAmJiBkZWZpbmVkKG9wdGlvbnMubWF4aW11bVNpemUpKSB7XG4gICAgdGhpcy5fbWF4aW11bVNpemUgPSBDYXJ0ZXNpYW4zLmNsb25lKG9wdGlvbnMubWF4aW11bVNpemUpO1xuICAgIHRoaXMuX3NjYWxlID0gbmV3IENhcnRlc2lhbjIodGhpcy5fbWF4aW11bVNpemUueCwgdGhpcy5fbWF4aW11bVNpemUueSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fc2NhbGUgPSBDYXJ0ZXNpYW4yLmNsb25lKFxuICAgICAgZGVmYXVsdFZhbHVlKG9wdGlvbnMuc2NhbGUsIG5ldyBDYXJ0ZXNpYW4yKDIwLjAsIDEyLjApKVxuICAgICk7XG5cbiAgICB2YXIgZGVmYXVsdE1heFNpemUgPSBuZXcgQ2FydGVzaWFuMyhcbiAgICAgIHRoaXMuX3NjYWxlLngsXG4gICAgICB0aGlzLl9zY2FsZS55LFxuICAgICAgTWF0aC5taW4odGhpcy5fc2NhbGUueCwgdGhpcy5fc2NhbGUueSkgLyAxLjVcbiAgICApO1xuICAgIHRoaXMuX21heGltdW1TaXplID0gQ2FydGVzaWFuMy5jbG9uZShcbiAgICAgIGRlZmF1bHRWYWx1ZShvcHRpb25zLm1heGltdW1TaXplLCBkZWZhdWx0TWF4U2l6ZSlcbiAgICApO1xuICB9XG5cbiAgdGhpcy5fc2xpY2UgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5zbGljZSwgLTEuMCk7XG5cbiAgdGhpcy5fYnJpZ2h0bmVzcyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmJyaWdodG5lc3MsIDEuMCk7XG4gIHRoaXMuX2Nsb3VkQ29sbGVjdGlvbiA9IGNsb3VkQ29sbGVjdGlvbjtcbiAgdGhpcy5faW5kZXggPSAtMTsgLy8gVXNlZCBieSBDbG91ZENvbGxlY3Rpb25cbn1cblxudmFyIFNIT1dfSU5ERVggPSAoQ3VtdWx1c0Nsb3VkLlNIT1dfSU5ERVggPSAwKTtcbnZhciBQT1NJVElPTl9JTkRFWCA9IChDdW11bHVzQ2xvdWQuUE9TSVRJT05fSU5ERVggPSAxKTtcbnZhciBTQ0FMRV9JTkRFWCA9IChDdW11bHVzQ2xvdWQuU0NBTEVfSU5ERVggPSAyKTtcbnZhciBNQVhJTVVNX1NJWkVfSU5ERVggPSAoQ3VtdWx1c0Nsb3VkLk1BWElNVU1fU0laRV9JTkRFWCA9IDMpO1xudmFyIFNMSUNFX0lOREVYID0gKEN1bXVsdXNDbG91ZC5TTElDRV9JTkRFWCA9IDQpO1xudmFyIEJSSUdIVE5FU1NfSU5ERVggPSAoQ3VtdWx1c0Nsb3VkLkJSSUdIVE5FU1NfSU5ERVggPSA1KTtcbkN1bXVsdXNDbG91ZC5OVU1CRVJfT0ZfUFJPUEVSVElFUyA9IDY7XG5cbmZ1bmN0aW9uIG1ha2VEaXJ0eShjbG91ZCwgcHJvcGVydHlDaGFuZ2VkKSB7XG4gIHZhciBjbG91ZENvbGxlY3Rpb24gPSBjbG91ZC5fY2xvdWRDb2xsZWN0aW9uO1xuICBpZiAoZGVmaW5lZChjbG91ZENvbGxlY3Rpb24pKSB7XG4gICAgY2xvdWRDb2xsZWN0aW9uLl91cGRhdGVDbG91ZChjbG91ZCwgcHJvcGVydHlDaGFuZ2VkKTtcbiAgICBjbG91ZC5fZGlydHkgPSB0cnVlO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEN1bXVsdXNDbG91ZC5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhpcyBjdW11bHVzIGNsb3VkIHdpbGwgYmUgc2hvd24uICBVc2UgdGhpcyB0byBoaWRlIG9yIHNob3cgYSBjbG91ZCwgaW5zdGVhZFxuICAgKiBvZiByZW1vdmluZyBpdCBhbmQgcmUtYWRkaW5nIGl0IHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAbWVtYmVyb2YgQ3VtdWx1c0Nsb3VkLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgc2hvdzoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3c7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIENoZWNrLnR5cGVPZi5ib29sKFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAgIGlmICh0aGlzLl9zaG93ICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zaG93ID0gdmFsdWU7XG4gICAgICAgIG1ha2VEaXJ0eSh0aGlzLCBTSE9XX0lOREVYKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIENhcnRlc2lhbiBwb3NpdGlvbiBvZiB0aGlzIGN1bXVsdXMgY2xvdWQuXG4gICAqIEBtZW1iZXJvZiBDdW11bHVzQ2xvdWQucHJvdG90eXBlXG4gICAqIEB0eXBlIHtDYXJ0ZXNpYW4zfVxuICAgKi9cbiAgcG9zaXRpb246IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpXG4gICAgICBDaGVjay50eXBlT2Yub2JqZWN0KFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uO1xuICAgICAgaWYgKCFDYXJ0ZXNpYW4zLmVxdWFscyhwb3NpdGlvbiwgdmFsdWUpKSB7XG4gICAgICAgIENhcnRlc2lhbjMuY2xvbmUodmFsdWUsIHBvc2l0aW9uKTtcbiAgICAgICAgbWFrZURpcnR5KHRoaXMsIFBPU0lUSU9OX0lOREVYKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiA8cD5HZXRzIG9yIHNldHMgdGhlIHNjYWxlIG9mIHRoZSBjdW11bHVzIGNsb3VkIGJpbGxib2FyZCBpbiBtZXRlcnMuXG4gICAqIFRoZSA8Y29kZT5zY2FsZTwvY29kZT4gcHJvcGVydHkgd2lsbCBhZmZlY3QgdGhlIHNpemUgb2YgdGhlIGJpbGxib2FyZCxcbiAgICogYnV0IG5vdCB0aGUgY2xvdWQncyBhY3R1YWwgYXBwZWFyYW5jZS48L3A+XG4gICAqIDxkaXYgYWxpZ249J2NlbnRlcic+XG4gICAqIDx0YWJsZSBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPSc1Jz48dHI+XG4gICAqIDx0ZCBhbGlnbj0nY2VudGVyJz5cbiAgICogICA8Y29kZT5jbG91ZC5zY2FsZSA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigxMiwgOCk7PC9jb2RlPjxici8+XG4gICAqICAgPGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQuc2NhbGV4MTJ5OC5wbmcnIHdpZHRoPScyNTAnIGhlaWdodD0nMTU4JyAvPlxuICAgKiA8L3RkPlxuICAgKiA8dGQgYWxpZ249J2NlbnRlcic+XG4gICAqICAgPGNvZGU+Y2xvdWQuc2NhbGUgPSBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMjQsIDEwKTs8L2NvZGU+PGJyLz5cbiAgICogICA8aW1nIHNyYz0nSW1hZ2VzL0N1bXVsdXNDbG91ZC5zY2FsZXgyNHkxMC5wbmcnIHdpZHRoPScyNTAnIGhlaWdodD0nMTU4JyAvPlxuICAgKiA8L3RkPlxuICAgKiA8L3RyPjwvdGFibGU+XG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiA8cD5UbyBtb2RpZnkgdGhlIGNsb3VkJ3MgYXBwZWFyYW5jZSwgbW9kaWZ5IGl0cyA8Y29kZT5tYXhpbXVtU2l6ZTwvY29kZT5cbiAgICogYW5kIDxjb2RlPnNsaWNlPC9jb2RlPiBwcm9wZXJ0aWVzLjwvcD5cbiAgICogQG1lbWJlcm9mIEN1bXVsdXNDbG91ZC5wcm90b3R5cGVcbiAgICogQHR5cGUge0NhcnRlc2lhbjJ9XG4gICAqXG4gICAqIEBzZWUgQ3VtdWx1c0Nsb3VkI21heGltdW1TaXplXG4gICAqIEBzZWUgQ3VtdWx1c0Nsb3VkI3NsaWNlXG4gICAqL1xuICBzY2FsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1ZylcbiAgICAgIENoZWNrLnR5cGVPZi5vYmplY3QoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAgICAgdmFyIHNjYWxlID0gdGhpcy5fc2NhbGU7XG4gICAgICBpZiAoIUNhcnRlc2lhbjIuZXF1YWxzKHNjYWxlLCB2YWx1ZSkpIHtcbiAgICAgICAgQ2FydGVzaWFuMi5jbG9uZSh2YWx1ZSwgc2NhbGUpO1xuICAgICAgICBtYWtlRGlydHkodGhpcywgU0NBTEVfSU5ERVgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIDxwPkdldHMgb3Igc2V0cyB0aGUgbWF4aW11bSBzaXplIG9mIHRoZSBjdW11bHVzIGNsb3VkIHJlbmRlcmVkIG9uIHRoZSBiaWxsYm9hcmQuXG4gICAqIFRoaXMgZGVmaW5lcyBhIG1heGltdW0gZWxsaXBzb2lkIHZvbHVtZSB0aGF0IHRoZSBjbG91ZCBjYW4gYXBwZWFyIGluLlxuICAgKiBSYXRoZXIgdGhhbiBndWFyYW50ZWVpbmcgYSBzcGVjaWZpYyBzaXplLCB0aGlzIHNwZWNpZmllcyBhIGJvdW5kYXJ5IGZvciB0aGVcbiAgICogY2xvdWQgdG8gYXBwZWFyIGluLCBhbmQgY2hhbmdpbmcgaXQgY2FuIGFmZmVjdCB0aGUgc2hhcGUgb2YgdGhlIGNsb3VkLjwvcD5cbiAgICogPHA+Q2hhbmdpbmcgdGhlIHotdmFsdWUgb2YgPGNvZGU+bWF4aW11bVNpemU8L2NvZGU+IGhhcyB0aGUgbW9zdCBkcmFtYXRpYyBlZmZlY3RcbiAgICogb24gdGhlIGNsb3VkJ3MgYXBwZWFyYW5jZSBiZWNhdXNlIGl0IGNoYW5nZXMgdGhlIGRlcHRoIG9mIHRoZSBjbG91ZCwgYW5kIHRodXMgdGhlXG4gICAqIHBvc2l0aW9ucyBhdCB3aGljaCB0aGUgY2xvdWQtc2hhcGluZyB0ZXh0dXJlIGlzIHNhbXBsZWQuPC9wPlxuICAgKiA8ZGl2IGFsaWduPSdjZW50ZXInPlxuICAgKiA8dGFibGUgYm9yZGVyPScwJyBjZWxscGFkZGluZz0nNSc+XG4gICAqIDx0cj5cbiAgICogICA8dGQgYWxpZ249J2NlbnRlcic+XG4gICAqICAgICA8Y29kZT5jbG91ZC5tYXhpbXVtU2l6ZSA9IG5ldyBDZXNpdW0uQ2FydGVzaWFuMygxNCwgOSwgMTApOzwvY29kZT48YnIvPlxuICAgKiAgICAgPGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQubWF4aW11bVNpemV4MTR5OXoxMC5wbmcnIHdpZHRoPScyNTAnIGhlaWdodD0nMTU4JyAvPlxuICAgKiAgIDwvdGQ+XG4gICAqICAgPHRkIGFsaWduPSdjZW50ZXInPlxuICAgKiAgICAgPGNvZGU+Y2xvdWQubWF4aW11bVNpemUueCA9IDI1OzwvY29kZT48YnIvPlxuICAgKiAgICAgPGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQubWF4aW11bVNpemV4MjUucG5nJyB3aWR0aD0nMjUwJyBoZWlnaHQ9JzE1OCcgLz5cbiAgICogICA8L3RkPlxuICAgKiA8L3RyPlxuICAgKiA8dHI+XG4gICAqICAgPHRkIGFsaWduPSdjZW50ZXInPlxuICAgKiAgICAgPGNvZGU+Y2xvdWQubWF4aW11bVNpemUueSA9IDU7PC9jb2RlPjxici8+XG4gICAqICAgICA8aW1nIHNyYz0nSW1hZ2VzL0N1bXVsdXNDbG91ZC5tYXhpbXVtU2l6ZXk1LnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+XG4gICAqICAgPC90ZD5cbiAgICogICA8dGQgYWxpZ249J2NlbnRlcic+XG4gICAqICAgICA8Y29kZT5jbG91ZC5tYXhpbXVtU2l6ZS56ID0gMTc7PC9jb2RlPjxici8+XG4gICAqICAgICA8aW1nIHNyYz0nSW1hZ2VzL0N1bXVsdXNDbG91ZC5tYXhpbXVtU2l6ZXoxNy5wbmcnIHdpZHRoPScyNTAnIGhlaWdodD0nMTU4JyAvPlxuICAgKiAgIDwvdGQ+XG4gICAqIDwvdHI+XG4gICAqIDwvdGFibGU+XG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiA8cD5UbyBtb2RpZnkgdGhlIGJpbGxib2FyZCdzIGFjdHVhbCBzaXplLCBtb2RpZnkgdGhlIGNsb3VkJ3MgPGNvZGU+c2NhbGU8L2NvZGU+IHByb3BlcnR5LjwvcD5cbiAgICogQG1lbWJlcm9mIEN1bXVsdXNDbG91ZC5wcm90b3R5cGVcbiAgICogQHR5cGUge0NhcnRlc2lhbjN9XG4gICAqXG4gICAqIEBzZWUgQ3VtdWx1c0Nsb3VkI3NjYWxlXG4gICAqL1xuICBtYXhpbXVtU2l6ZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21heGltdW1TaXplO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1ZylcbiAgICAgIENoZWNrLnR5cGVPZi5vYmplY3QoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAgICAgdmFyIG1heGltdW1TaXplID0gdGhpcy5fbWF4aW11bVNpemU7XG4gICAgICBpZiAoIUNhcnRlc2lhbjMuZXF1YWxzKG1heGltdW1TaXplLCB2YWx1ZSkpIHtcbiAgICAgICAgQ2FydGVzaWFuMy5jbG9uZSh2YWx1ZSwgbWF4aW11bVNpemUpO1xuICAgICAgICBtYWtlRGlydHkodGhpcywgTUFYSU1VTV9TSVpFX0lOREVYKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiA8cD5HZXRzIG9yIHNldHMgdGhlIFwic2xpY2VcIiBvZiB0aGUgY2xvdWQgdGhhdCBpcyByZW5kZXJlZCBvbiB0aGUgYmlsbGJvYXJkLCBpLmUuXG4gICAqIHRoZSBzcGVjaWZpYyBjcm9zcy1zZWN0aW9uIG9mIHRoZSBjbG91ZCBjaG9zZW4gZm9yIHRoZSBiaWxsYm9hcmQncyBhcHBlYXJhbmNlLlxuICAgKiBHaXZlbiBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMSwgdGhlIHNsaWNlIHNwZWNpZmllcyBob3cgZGVlcGx5IGludG8gdGhlIGNsb3VkXG4gICAqIHRvIGludGVyc2VjdCBiYXNlZCBvbiBpdHMgbWF4aW11bSBzaXplIGluIHRoZSB6LWRpcmVjdGlvbi48L3A+XG4gICAqIDxkaXYgYWxpZ249J2NlbnRlcic+XG4gICAqIDx0YWJsZSBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPSc1Jz48dHI+XG4gICAqIDx0ZCBhbGlnbj0nY2VudGVyJz48Y29kZT5jbG91ZC5zbGljZSA9IDAuMzI7PC9jb2RlPjxici8+PGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQuc2xpY2UwLjMyLnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPHRkIGFsaWduPSdjZW50ZXInPjxjb2RlPmNsb3VkLnNsaWNlID0gMC41OzwvY29kZT48YnIvPjxpbWcgc3JjPSdJbWFnZXMvQ3VtdWx1c0Nsb3VkLnNsaWNlMC41LnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPHRkIGFsaWduPSdjZW50ZXInPjxjb2RlPmNsb3VkLnNsaWNlID0gMC42OzwvY29kZT48YnIvPjxpbWcgc3JjPSdJbWFnZXMvQ3VtdWx1c0Nsb3VkLnNsaWNlMC42LnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPC90cj48L3RhYmxlPlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogPGJyIC8+XG4gICAqIDxwPkR1ZSB0byB0aGUgbmF0dXJlIGluIHdoaWNoIHRoaXMgc2xpY2UgaXMgY2FsY3VsYXRlZCxcbiAgICogdmFsdWVzIGJlbG93IDxjb2RlPjAuMjwvY29kZT4gbWF5IHJlc3VsdCBpbiBjcm9zcy1zZWN0aW9ucyB0aGF0IGFyZSB0b28gc21hbGwsXG4gICAqIGFuZCB0aGUgZWRnZSBvZiB0aGUgZWxsaXBzb2lkIHdpbGwgYmUgdmlzaWJsZS4gU2ltaWxhcmx5LCB2YWx1ZXMgYWJvdmUgPGNvZGU+MC43PC9jb2RlPlxuICAgKiB3aWxsIGNhdXNlIHRoZSBjbG91ZCB0byBhcHBlYXIgc21hbGxlci4gVmFsdWVzIG91dHNpZGUgdGhlIHJhbmdlIDxjb2RlPlswLjEsIDAuOV08L2NvZGU+XG4gICAqIHNob3VsZCBiZSBhdm9pZGVkIGVudGlyZWx5IGJlY2F1c2UgdGhleSBkbyBub3QgcHJvZHVjZSBkZXNpcmFibGUgcmVzdWx0cy48L3A+XG4gICAqXG4gICAqIDxkaXYgYWxpZ249J2NlbnRlcic+XG4gICAqIDx0YWJsZSBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPSc1Jz48dHI+XG4gICAqIDx0ZCBhbGlnbj0nY2VudGVyJz48Y29kZT5jbG91ZC5zbGljZSA9IDAuMDg7PC9jb2RlPjxici8+PGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQuc2xpY2UwLjA4LnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPHRkIGFsaWduPSdjZW50ZXInPjxjb2RlPmNsb3VkLnNsaWNlID0gMC44OzwvY29kZT48YnIvPjxpbWcgc3JjPSdJbWFnZXMvQ3VtdWx1c0Nsb3VkLnNsaWNlMC44LnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPC90cj48L3RhYmxlPlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogPHA+SWYgPGNvZGU+c2xpY2U8L2NvZGU+IGlzIHNldCB0byBhIG5lZ2F0aXZlIG51bWJlciwgdGhlIGNsb3VkIHdpbGwgbm90IHJlbmRlciBhIGNyb3NzLXNlY3Rpb24uXG4gICAqIEluc3RlYWQsIGl0IHdpbGwgcmVuZGVyIHRoZSBvdXRzaWRlIG9mIHRoZSBlbGxpcHNvaWQgdGhhdCBpcyB2aXNpYmxlLiBGb3IgY2xvdWRzIHdpdGhcbiAgICogc21hbGwgdmFsdWVzIG9mIGBtYXhpbXVtU2l6ZS56YCwgdGhpcyBjYW4gcHJvZHVjZSBnb29kLWxvb2tpbmcgcmVzdWx0cywgYnV0IGZvciBsYXJnZXJcbiAgICogY2xvdWRzLCB0aGlzIGNhbiByZXN1bHQgaW4gYSBjbG91ZCB0aGF0IGlzIHVuZGVzaXJhYmx5IHdhcnBlZCB0byB0aGUgZWxsaXBzb2lkIHZvbHVtZS48L3A+XG4gICAqXG4gICAqIDxkaXYgYWxpZ249J2NlbnRlcic+XG4gICAqIDx0YWJsZSBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPSc1Jz48dHI+XG4gICAqIDx0ZCBhbGlnbj0nY2VudGVyJz5cbiAgICogIDxjb2RlPmNsb3VkLnNsaWNlID0gLTEuMDs8YnIvPmNsb3VkLm1heGltdW1TaXplLnogPSAxODs8L2NvZGU+PGJyLz5cbiAgICogIDxpbWcgc3JjPSdJbWFnZXMvQ3VtdWx1c0Nsb3VkLnNsaWNlLTF6MTgucG5nJyB3aWR0aD0nMjUwJyBoZWlnaHQ9JzE1OCcgLz5cbiAgICogPC90ZD5cbiAgICogPHRkIGFsaWduPSdjZW50ZXInPlxuICAgKiAgIDxjb2RlPmNsb3VkLnNsaWNlID0gLTEuMDs8YnIvPmNsb3VkLm1heGltdW1TaXplLnogPSAzMDs8L2NvZGU+PGJyLz5cbiAgICogICA8aW1nIHNyYz0nSW1hZ2VzL0N1bXVsdXNDbG91ZC5zbGljZS0xejMwLnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPC90cj48L3RhYmxlPlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQG1lbWJlcm9mIEN1bXVsdXNDbG91ZC5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGRlZmF1bHQgLTEuMFxuICAgKi9cbiAgc2xpY2U6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zbGljZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpXG4gICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICBDaGVjay50eXBlT2YubnVtYmVyKFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgICAgIHZhciBzbGljZSA9IHRoaXMuX3NsaWNlO1xuICAgICAgaWYgKHNsaWNlICE9PSB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zbGljZSA9IHZhbHVlO1xuICAgICAgICBtYWtlRGlydHkodGhpcywgU0xJQ0VfSU5ERVgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgYnJpZ2h0bmVzcyBvZiB0aGUgY2xvdWQuIFRoaXMgY2FuIGJlIHVzZWQgdG8gZ2l2ZSBjbG91ZHNcbiAgICogYSBkYXJrZXIsIGdyYXllciBhcHBlYXJhbmNlLlxuICAgKiA8YnIgLz48YnIgLz5cbiAgICogPGRpdiBhbGlnbj0nY2VudGVyJz5cbiAgICogPHRhYmxlIGJvcmRlcj0nMCcgY2VsbHBhZGRpbmc9JzUnPjx0cj5cbiAgICogPHRkIGFsaWduPSdjZW50ZXInPjxjb2RlPmNsb3VkLmJyaWdodG5lc3MgPSAxLjA7PC9jb2RlPjxici8+PGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQuYnJpZ2h0bmVzczEucG5nJyB3aWR0aD0nMjUwJyBoZWlnaHQ9JzE1OCcgLz48L3RkPlxuICAgKiA8dGQgYWxpZ249J2NlbnRlcic+PGNvZGU+Y2xvdWQuYnJpZ2h0bmVzcyA9IDAuNjs8L2NvZGU+PGJyLz48aW1nIHNyYz0nSW1hZ2VzL0N1bXVsdXNDbG91ZC5icmlnaHRuZXNzMC42LnBuZycgd2lkdGg9JzI1MCcgaGVpZ2h0PScxNTgnIC8+PC90ZD5cbiAgICogPHRkIGFsaWduPSdjZW50ZXInPjxjb2RlPmNsb3VkLmJyaWdodG5lc3MgPSAwLjA7PC9jb2RlPjxici8+PGltZyBzcmM9J0ltYWdlcy9DdW11bHVzQ2xvdWQuYnJpZ2h0bmVzczAucG5nJyB3aWR0aD0nMjUwJyBoZWlnaHQ9JzE1OCcgLz48L3RkPlxuICAgKiA8L3RyPjwvdGFibGU+XG4gICAqIDwvZGl2PlxuICAgKiBAbWVtYmVyb2YgQ3VtdWx1c0Nsb3VkLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxLjBcbiAgICovXG4gIGJyaWdodG5lc3M6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9icmlnaHRuZXNzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1ZylcbiAgICAgIENoZWNrLnR5cGVPZi5udW1iZXIoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAgICAgdmFyIGJyaWdodG5lc3MgPSB0aGlzLl9icmlnaHRuZXNzO1xuICAgICAgaWYgKGJyaWdodG5lc3MgIT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2JyaWdodG5lc3MgPSB2YWx1ZTtcbiAgICAgICAgbWFrZURpcnR5KHRoaXMsIEJSSUdIVE5FU1NfSU5ERVgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG59KTtcblxuQ3VtdWx1c0Nsb3VkLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fY2xvdWRDb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3VtdWx1c0Nsb3VkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///93030\n")},74414:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Appearance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12804);\n\n\n\n\n\n/**\n * Visualizes a vertex attribute by displaying it as a color for debugging.\n * <p>\n * Components for well-known unit-length vectors, i.e., <code>normal</code>,\n * <code>tangent</code>, and <code>bitangent</code>, are scaled and biased\n * from [-1.0, 1.0] to (-1.0, 1.0).\n * </p>\n *\n * @alias DebugAppearance\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {String} options.attributeName The name of the attribute to visualize.\n * @param {Boolean} [options.perInstanceAttribute=false] Boolean that determines whether this attribute is a per-instance geometry attribute.\n * @param {String} [options.glslDatatype=\'vec3\'] The GLSL datatype of the attribute.  Supported datatypes are <code>float</code>, <code>vec2</code>, <code>vec3</code>, and <code>vec4</code>.\n * @param {String} [options.vertexShaderSource] Optional GLSL vertex shader source to override the default vertex shader.\n * @param {String} [options.fragmentShaderSource] Optional GLSL fragment shader source to override the default fragment shader.\n * @param {Object} [options.renderState] Optional render state to override the default render state.\n *\n * @exception {DeveloperError} options.glslDatatype must be float, vec2, vec3, or vec4.\n *\n * @example\n * var primitive = new Cesium.Primitive({\n *   geometryInstances : // ...\n *   appearance : new Cesium.DebugAppearance({\n *     attributeName : \'normal\'\n *   })\n * });\n */\nfunction DebugAppearance(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  var attributeName = options.attributeName;\n  var perInstanceAttribute = options.perInstanceAttribute;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(attributeName)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.attributeName is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(perInstanceAttribute)) {\n    perInstanceAttribute = false;\n  }\n\n  var glslDatatype = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.glslDatatype, "vec3");\n  var varyingName = "v_" + attributeName;\n  var getColor;\n\n  // Well-known normalized vector attributes in VertexFormat\n  if (\n    attributeName === "normal" ||\n    attributeName === "tangent" ||\n    attributeName === "bitangent"\n  ) {\n    getColor =\n      "vec4 getColor() { return vec4((" +\n      varyingName +\n      " + vec3(1.0)) * 0.5, 1.0); }\\n";\n  } else {\n    // All other attributes, both well-known and custom\n    if (attributeName === "st") {\n      glslDatatype = "vec2";\n    }\n\n    switch (glslDatatype) {\n      case "float":\n        getColor =\n          "vec4 getColor() { return vec4(vec3(" + varyingName + "), 1.0); }\\n";\n        break;\n      case "vec2":\n        getColor =\n          "vec4 getColor() { return vec4(" + varyingName + ", 0.0, 1.0); }\\n";\n        break;\n      case "vec3":\n        getColor =\n          "vec4 getColor() { return vec4(" + varyingName + ", 1.0); }\\n";\n        break;\n      case "vec4":\n        getColor = "vec4 getColor() { return " + varyingName + "; }\\n";\n        break;\n      //>>includeStart(\'debug\', pragmas.debug);\n      default:\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(\n          "options.glslDatatype must be float, vec2, vec3, or vec4."\n        );\n      //>>includeEnd(\'debug\');\n    }\n  }\n\n  var vs =\n    "attribute vec3 position3DHigh;\\n" +\n    "attribute vec3 position3DLow;\\n" +\n    "attribute float batchId;\\n" +\n    (perInstanceAttribute\n      ? ""\n      : "attribute " + glslDatatype + " " + attributeName + ";\\n") +\n    "varying " +\n    glslDatatype +\n    " " +\n    varyingName +\n    ";\\n" +\n    "void main()\\n" +\n    "{\\n" +\n    "vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\\n" +\n    (perInstanceAttribute\n      ? varyingName + " = czm_batchTable_" + attributeName + "(batchId);\\n"\n      : varyingName + " = " + attributeName + ";\\n") +\n    "gl_Position = czm_modelViewProjectionRelativeToEye * p;\\n" +\n    "}";\n  var fs =\n    "varying " +\n    glslDatatype +\n    " " +\n    varyingName +\n    ";\\n" +\n    getColor +\n    "\\n" +\n    "void main()\\n" +\n    "{\\n" +\n    "gl_FragColor = getColor();\\n" +\n    "}";\n\n  /**\n   * This property is part of the {@link Appearance} interface, but is not\n   * used by {@link DebugAppearance} since a fully custom fragment shader is used.\n   *\n   * @type Material\n   *\n   * @default undefined\n   */\n  this.material = undefined;\n\n  /**\n   * When <code>true</code>, the geometry is expected to appear translucent.\n   *\n   * @type {Boolean}\n   *\n   * @default false\n   */\n  this.translucent = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.translucent, false);\n\n  this._vertexShaderSource = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.vertexShaderSource, vs);\n  this._fragmentShaderSource = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.fragmentShaderSource, fs);\n  this._renderState = _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getDefaultRenderState */ .Z.getDefaultRenderState(\n    false,\n    false,\n    options.renderState\n  );\n  this._closed = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.closed, false);\n\n  // Non-derived members\n\n  this._attributeName = attributeName;\n  this._glslDatatype = glslDatatype;\n}\n\nObject.defineProperties(DebugAppearance.prototype, {\n  /**\n   * The GLSL source code for the vertex shader.\n   *\n   * @memberof DebugAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  vertexShaderSource: {\n    get: function () {\n      return this._vertexShaderSource;\n    },\n  },\n\n  /**\n   * The GLSL source code for the fragment shader.  The full fragment shader\n   * source is built procedurally taking into account the {@link DebugAppearance#material}.\n   * Use {@link DebugAppearance#getFragmentShaderSource} to get the full source.\n   *\n   * @memberof DebugAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  fragmentShaderSource: {\n    get: function () {\n      return this._fragmentShaderSource;\n    },\n  },\n\n  /**\n   * The WebGL fixed-function state to use when rendering the geometry.\n   *\n   * @memberof DebugAppearance.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  renderState: {\n    get: function () {\n      return this._renderState;\n    },\n  },\n\n  /**\n   * When <code>true</code>, the geometry is expected to be closed.\n   *\n   * @memberof DebugAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default false\n   */\n  closed: {\n    get: function () {\n      return this._closed;\n    },\n  },\n\n  /**\n   * The name of the attribute being visualized.\n   *\n   * @memberof DebugAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  attributeName: {\n    get: function () {\n      return this._attributeName;\n    },\n  },\n\n  /**\n   * The GLSL datatype of the attribute being visualized.\n   *\n   * @memberof DebugAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  glslDatatype: {\n    get: function () {\n      return this._glslDatatype;\n    },\n  },\n});\n\n/**\n * Returns the full GLSL fragment shader source, which for {@link DebugAppearance} is just\n * {@link DebugAppearance#fragmentShaderSource}.\n *\n * @function\n *\n * @returns {String} The full GLSL fragment shader source.\n */\nDebugAppearance.prototype.getFragmentShaderSource =\n  _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.getFragmentShaderSource */ .Z.prototype.getFragmentShaderSource;\n\n/**\n * Determines if the geometry is translucent based on {@link DebugAppearance#translucent}.\n *\n * @function\n *\n * @returns {Boolean} <code>true</code> if the appearance is translucent.\n */\nDebugAppearance.prototype.isTranslucent = _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.isTranslucent */ .Z.prototype.isTranslucent;\n\n/**\n * Creates a render state.  This is not the final render state instance; instead,\n * it can contain a subset of render state properties identical to the render state\n * created in the context.\n *\n * @function\n *\n * @returns {Object} The render state.\n */\nDebugAppearance.prototype.getRenderState = _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.getRenderState */ .Z.prototype.getRenderState;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (DebugAppearance)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBLDREQUE0RCx1QkFBdUI7QUFDbkYsSUFBSSwyQ0FBMkM7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxFQUFFLG1JQUE0Qzs7QUFFOUM7QUFDQSx1REFBdUQsa0NBQWtDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLDBDQUEwQywrR0FBa0M7O0FBRTVFO0FBQ0EseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSwyQ0FBMkMsaUhBQW1DO0FBQzlFLHNFQUFlLCtEQUFlLElBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGVidWdBcHBlYXJhbmNlLmpzPzlkMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IEFwcGVhcmFuY2UgZnJvbSBcIi4vQXBwZWFyYW5jZS5qc1wiO1xuXG4vKipcbiAqIFZpc3VhbGl6ZXMgYSB2ZXJ0ZXggYXR0cmlidXRlIGJ5IGRpc3BsYXlpbmcgaXQgYXMgYSBjb2xvciBmb3IgZGVidWdnaW5nLlxuICogPHA+XG4gKiBDb21wb25lbnRzIGZvciB3ZWxsLWtub3duIHVuaXQtbGVuZ3RoIHZlY3RvcnMsIGkuZS4sIDxjb2RlPm5vcm1hbDwvY29kZT4sXG4gKiA8Y29kZT50YW5nZW50PC9jb2RlPiwgYW5kIDxjb2RlPmJpdGFuZ2VudDwvY29kZT4sIGFyZSBzY2FsZWQgYW5kIGJpYXNlZFxuICogZnJvbSBbLTEuMCwgMS4wXSB0byAoLTEuMCwgMS4wKS5cbiAqIDwvcD5cbiAqXG4gKiBAYWxpYXMgRGVidWdBcHBlYXJhbmNlXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hdHRyaWJ1dGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gdmlzdWFsaXplLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wZXJJbnN0YW5jZUF0dHJpYnV0ZT1mYWxzZV0gQm9vbGVhbiB0aGF0IGRldGVybWluZXMgd2hldGhlciB0aGlzIGF0dHJpYnV0ZSBpcyBhIHBlci1pbnN0YW5jZSBnZW9tZXRyeSBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZ2xzbERhdGF0eXBlPSd2ZWMzJ10gVGhlIEdMU0wgZGF0YXR5cGUgb2YgdGhlIGF0dHJpYnV0ZS4gIFN1cHBvcnRlZCBkYXRhdHlwZXMgYXJlIDxjb2RlPmZsb2F0PC9jb2RlPiwgPGNvZGU+dmVjMjwvY29kZT4sIDxjb2RlPnZlYzM8L2NvZGU+LCBhbmQgPGNvZGU+dmVjNDwvY29kZT4uXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudmVydGV4U2hhZGVyU291cmNlXSBPcHRpb25hbCBHTFNMIHZlcnRleCBzaGFkZXIgc291cmNlIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZnJhZ21lbnRTaGFkZXJTb3VyY2VdIE9wdGlvbmFsIEdMU0wgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucmVuZGVyU3RhdGVdIE9wdGlvbmFsIHJlbmRlciBzdGF0ZSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCByZW5kZXIgc3RhdGUuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IG9wdGlvbnMuZ2xzbERhdGF0eXBlIG11c3QgYmUgZmxvYXQsIHZlYzIsIHZlYzMsIG9yIHZlYzQuXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBwcmltaXRpdmUgPSBuZXcgQ2VzaXVtLlByaW1pdGl2ZSh7XG4gKiAgIGdlb21ldHJ5SW5zdGFuY2VzIDogLy8gLi4uXG4gKiAgIGFwcGVhcmFuY2UgOiBuZXcgQ2VzaXVtLkRlYnVnQXBwZWFyYW5jZSh7XG4gKiAgICAgYXR0cmlidXRlTmFtZSA6ICdub3JtYWwnXG4gKiAgIH0pXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gRGVidWdBcHBlYXJhbmNlKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcbiAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBvcHRpb25zLmF0dHJpYnV0ZU5hbWU7XG4gIHZhciBwZXJJbnN0YW5jZUF0dHJpYnV0ZSA9IG9wdGlvbnMucGVySW5zdGFuY2VBdHRyaWJ1dGU7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwib3B0aW9ucy5hdHRyaWJ1dGVOYW1lIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBpZiAoIWRlZmluZWQocGVySW5zdGFuY2VBdHRyaWJ1dGUpKSB7XG4gICAgcGVySW5zdGFuY2VBdHRyaWJ1dGUgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBnbHNsRGF0YXR5cGUgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5nbHNsRGF0YXR5cGUsIFwidmVjM1wiKTtcbiAgdmFyIHZhcnlpbmdOYW1lID0gXCJ2X1wiICsgYXR0cmlidXRlTmFtZTtcbiAgdmFyIGdldENvbG9yO1xuXG4gIC8vIFdlbGwta25vd24gbm9ybWFsaXplZCB2ZWN0b3IgYXR0cmlidXRlcyBpbiBWZXJ0ZXhGb3JtYXRcbiAgaWYgKFxuICAgIGF0dHJpYnV0ZU5hbWUgPT09IFwibm9ybWFsXCIgfHxcbiAgICBhdHRyaWJ1dGVOYW1lID09PSBcInRhbmdlbnRcIiB8fFxuICAgIGF0dHJpYnV0ZU5hbWUgPT09IFwiYml0YW5nZW50XCJcbiAgKSB7XG4gICAgZ2V0Q29sb3IgPVxuICAgICAgXCJ2ZWM0IGdldENvbG9yKCkgeyByZXR1cm4gdmVjNCgoXCIgK1xuICAgICAgdmFyeWluZ05hbWUgK1xuICAgICAgXCIgKyB2ZWMzKDEuMCkpICogMC41LCAxLjApOyB9XFxuXCI7XG4gIH0gZWxzZSB7XG4gICAgLy8gQWxsIG90aGVyIGF0dHJpYnV0ZXMsIGJvdGggd2VsbC1rbm93biBhbmQgY3VzdG9tXG4gICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT09IFwic3RcIikge1xuICAgICAgZ2xzbERhdGF0eXBlID0gXCJ2ZWMyXCI7XG4gICAgfVxuXG4gICAgc3dpdGNoIChnbHNsRGF0YXR5cGUpIHtcbiAgICAgIGNhc2UgXCJmbG9hdFwiOlxuICAgICAgICBnZXRDb2xvciA9XG4gICAgICAgICAgXCJ2ZWM0IGdldENvbG9yKCkgeyByZXR1cm4gdmVjNCh2ZWMzKFwiICsgdmFyeWluZ05hbWUgKyBcIiksIDEuMCk7IH1cXG5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidmVjMlwiOlxuICAgICAgICBnZXRDb2xvciA9XG4gICAgICAgICAgXCJ2ZWM0IGdldENvbG9yKCkgeyByZXR1cm4gdmVjNChcIiArIHZhcnlpbmdOYW1lICsgXCIsIDAuMCwgMS4wKTsgfVxcblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2ZWMzXCI6XG4gICAgICAgIGdldENvbG9yID1cbiAgICAgICAgICBcInZlYzQgZ2V0Q29sb3IoKSB7IHJldHVybiB2ZWM0KFwiICsgdmFyeWluZ05hbWUgKyBcIiwgMS4wKTsgfVxcblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2ZWM0XCI6XG4gICAgICAgIGdldENvbG9yID0gXCJ2ZWM0IGdldENvbG9yKCkgeyByZXR1cm4gXCIgKyB2YXJ5aW5nTmFtZSArIFwiOyB9XFxuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgICAgICBcIm9wdGlvbnMuZ2xzbERhdGF0eXBlIG11c3QgYmUgZmxvYXQsIHZlYzIsIHZlYzMsIG9yIHZlYzQuXCJcbiAgICAgICAgKTtcbiAgICAgIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB2cyA9XG4gICAgXCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjNESGlnaDtcXG5cIiArXG4gICAgXCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjNETG93O1xcblwiICtcbiAgICBcImF0dHJpYnV0ZSBmbG9hdCBiYXRjaElkO1xcblwiICtcbiAgICAocGVySW5zdGFuY2VBdHRyaWJ1dGVcbiAgICAgID8gXCJcIlxuICAgICAgOiBcImF0dHJpYnV0ZSBcIiArIGdsc2xEYXRhdHlwZSArIFwiIFwiICsgYXR0cmlidXRlTmFtZSArIFwiO1xcblwiKSArXG4gICAgXCJ2YXJ5aW5nIFwiICtcbiAgICBnbHNsRGF0YXR5cGUgK1xuICAgIFwiIFwiICtcbiAgICB2YXJ5aW5nTmFtZSArXG4gICAgXCI7XFxuXCIgK1xuICAgIFwidm9pZCBtYWluKClcXG5cIiArXG4gICAgXCJ7XFxuXCIgK1xuICAgIFwidmVjNCBwID0gY3ptX3RyYW5zbGF0ZVJlbGF0aXZlVG9FeWUocG9zaXRpb24zREhpZ2gsIHBvc2l0aW9uM0RMb3cpO1xcblwiICtcbiAgICAocGVySW5zdGFuY2VBdHRyaWJ1dGVcbiAgICAgID8gdmFyeWluZ05hbWUgKyBcIiA9IGN6bV9iYXRjaFRhYmxlX1wiICsgYXR0cmlidXRlTmFtZSArIFwiKGJhdGNoSWQpO1xcblwiXG4gICAgICA6IHZhcnlpbmdOYW1lICsgXCIgPSBcIiArIGF0dHJpYnV0ZU5hbWUgKyBcIjtcXG5cIikgK1xuICAgIFwiZ2xfUG9zaXRpb24gPSBjem1fbW9kZWxWaWV3UHJvamVjdGlvblJlbGF0aXZlVG9FeWUgKiBwO1xcblwiICtcbiAgICBcIn1cIjtcbiAgdmFyIGZzID1cbiAgICBcInZhcnlpbmcgXCIgK1xuICAgIGdsc2xEYXRhdHlwZSArXG4gICAgXCIgXCIgK1xuICAgIHZhcnlpbmdOYW1lICtcbiAgICBcIjtcXG5cIiArXG4gICAgZ2V0Q29sb3IgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwidm9pZCBtYWluKClcXG5cIiArXG4gICAgXCJ7XFxuXCIgK1xuICAgIFwiZ2xfRnJhZ0NvbG9yID0gZ2V0Q29sb3IoKTtcXG5cIiArXG4gICAgXCJ9XCI7XG5cbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgcGFydCBvZiB0aGUge0BsaW5rIEFwcGVhcmFuY2V9IGludGVyZmFjZSwgYnV0IGlzIG5vdFxuICAgKiB1c2VkIGJ5IHtAbGluayBEZWJ1Z0FwcGVhcmFuY2V9IHNpbmNlIGEgZnVsbHkgY3VzdG9tIGZyYWdtZW50IHNoYWRlciBpcyB1c2VkLlxuICAgKlxuICAgKiBAdHlwZSBNYXRlcmlhbFxuICAgKlxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICovXG4gIHRoaXMubWF0ZXJpYWwgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFdoZW4gPGNvZGU+dHJ1ZTwvY29kZT4sIHRoZSBnZW9tZXRyeSBpcyBleHBlY3RlZCB0byBhcHBlYXIgdHJhbnNsdWNlbnQuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgdGhpcy50cmFuc2x1Y2VudCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnRyYW5zbHVjZW50LCBmYWxzZSk7XG5cbiAgdGhpcy5fdmVydGV4U2hhZGVyU291cmNlID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMudmVydGV4U2hhZGVyU291cmNlLCB2cyk7XG4gIHRoaXMuX2ZyYWdtZW50U2hhZGVyU291cmNlID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZnJhZ21lbnRTaGFkZXJTb3VyY2UsIGZzKTtcbiAgdGhpcy5fcmVuZGVyU3RhdGUgPSBBcHBlYXJhbmNlLmdldERlZmF1bHRSZW5kZXJTdGF0ZShcbiAgICBmYWxzZSxcbiAgICBmYWxzZSxcbiAgICBvcHRpb25zLnJlbmRlclN0YXRlXG4gICk7XG4gIHRoaXMuX2Nsb3NlZCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmNsb3NlZCwgZmFsc2UpO1xuXG4gIC8vIE5vbi1kZXJpdmVkIG1lbWJlcnNcblxuICB0aGlzLl9hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgdGhpcy5fZ2xzbERhdGF0eXBlID0gZ2xzbERhdGF0eXBlO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEZWJ1Z0FwcGVhcmFuY2UucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBUaGUgR0xTTCBzb3VyY2UgY29kZSBmb3IgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZWJ1Z0FwcGVhcmFuY2UucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgdmVydGV4U2hhZGVyU291cmNlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmVydGV4U2hhZGVyU291cmNlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBHTFNMIHNvdXJjZSBjb2RlIGZvciB0aGUgZnJhZ21lbnQgc2hhZGVyLiAgVGhlIGZ1bGwgZnJhZ21lbnQgc2hhZGVyXG4gICAqIHNvdXJjZSBpcyBidWlsdCBwcm9jZWR1cmFsbHkgdGFraW5nIGludG8gYWNjb3VudCB0aGUge0BsaW5rIERlYnVnQXBwZWFyYW5jZSNtYXRlcmlhbH0uXG4gICAqIFVzZSB7QGxpbmsgRGVidWdBcHBlYXJhbmNlI2dldEZyYWdtZW50U2hhZGVyU291cmNlfSB0byBnZXQgdGhlIGZ1bGwgc291cmNlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVidWdBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGZyYWdtZW50U2hhZGVyU291cmNlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZnJhZ21lbnRTaGFkZXJTb3VyY2U7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIFdlYkdMIGZpeGVkLWZ1bmN0aW9uIHN0YXRlIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgZ2VvbWV0cnkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBEZWJ1Z0FwcGVhcmFuY2UucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcmVuZGVyU3RhdGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJTdGF0ZTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZ2VvbWV0cnkgaXMgZXhwZWN0ZWQgdG8gYmUgY2xvc2VkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVidWdBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQHJlYWRvbmx5XG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBjbG9zZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jbG9zZWQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSBiZWluZyB2aXN1YWxpemVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGVidWdBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGF0dHJpYnV0ZU5hbWU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVOYW1lO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBHTFNMIGRhdGF0eXBlIG9mIHRoZSBhdHRyaWJ1dGUgYmVpbmcgdmlzdWFsaXplZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIERlYnVnQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnbHNsRGF0YXR5cGU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nbHNsRGF0YXR5cGU7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZ1bGwgR0xTTCBmcmFnbWVudCBzaGFkZXIgc291cmNlLCB3aGljaCBmb3Ige0BsaW5rIERlYnVnQXBwZWFyYW5jZX0gaXMganVzdFxuICoge0BsaW5rIERlYnVnQXBwZWFyYW5jZSNmcmFnbWVudFNoYWRlclNvdXJjZX0uXG4gKlxuICogQGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIGZ1bGwgR0xTTCBmcmFnbWVudCBzaGFkZXIgc291cmNlLlxuICovXG5EZWJ1Z0FwcGVhcmFuY2UucHJvdG90eXBlLmdldEZyYWdtZW50U2hhZGVyU291cmNlID1cbiAgQXBwZWFyYW5jZS5wcm90b3R5cGUuZ2V0RnJhZ21lbnRTaGFkZXJTb3VyY2U7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2VvbWV0cnkgaXMgdHJhbnNsdWNlbnQgYmFzZWQgb24ge0BsaW5rIERlYnVnQXBwZWFyYW5jZSN0cmFuc2x1Y2VudH0uXG4gKlxuICogQGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBhcHBlYXJhbmNlIGlzIHRyYW5zbHVjZW50LlxuICovXG5EZWJ1Z0FwcGVhcmFuY2UucHJvdG90eXBlLmlzVHJhbnNsdWNlbnQgPSBBcHBlYXJhbmNlLnByb3RvdHlwZS5pc1RyYW5zbHVjZW50O1xuXG4vKipcbiAqIENyZWF0ZXMgYSByZW5kZXIgc3RhdGUuICBUaGlzIGlzIG5vdCB0aGUgZmluYWwgcmVuZGVyIHN0YXRlIGluc3RhbmNlOyBpbnN0ZWFkLFxuICogaXQgY2FuIGNvbnRhaW4gYSBzdWJzZXQgb2YgcmVuZGVyIHN0YXRlIHByb3BlcnRpZXMgaWRlbnRpY2FsIHRvIHRoZSByZW5kZXIgc3RhdGVcbiAqIGNyZWF0ZWQgaW4gdGhlIGNvbnRleHQuXG4gKlxuICogQGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge09iamVjdH0gVGhlIHJlbmRlciBzdGF0ZS5cbiAqL1xuRGVidWdBcHBlYXJhbmNlLnByb3RvdHlwZS5nZXRSZW5kZXJTdGF0ZSA9IEFwcGVhcmFuY2UucHJvdG90eXBlLmdldFJlbmRlclN0YXRlO1xuZXhwb3J0IGRlZmF1bHQgRGVidWdBcHBlYXJhbmNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///74414\n')},96548:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59947);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92062);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12572);\n/* harmony import */ var _Core_FrustumGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1425);\n/* harmony import */ var _Core_FrustumOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64446);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(26865);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(68201);\n/* harmony import */ var _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(91473);\n/* harmony import */ var _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(35131);\n/* harmony import */ var _Core_PerspectiveFrustum_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(66854);\n/* harmony import */ var _Core_PerspectiveOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(36135);\n/* harmony import */ var _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(87811);\n/* harmony import */ var _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(64060);\n/* harmony import */ var _Primitive_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(34380);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Draws the outline of the camera\'s view frustum.\n *\n * @alias DebugCameraPrimitive\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Camera} options.camera The camera.\n * @param {Number[]} [options.frustumSplits] Distances to the near and far planes of the camera frustums. This overrides the camera\'s frustum near and far values.\n * @param {Color} [options.color=Color.CYAN] The color of the debug outline.\n * @param {Boolean} [options.updateOnChange=true] Whether the primitive updates when the underlying camera changes.\n * @param {Boolean} [options.show=true] Determines if this primitive will be shown.\n * @param {Object} [options.id] A user-defined object to return when the instance is picked with {@link Scene#pick}.\n *\n * @example\n * primitives.add(new Cesium.DebugCameraPrimitive({\n *   camera : camera,\n *   color : Cesium.Color.YELLOW\n * }));\n */\nfunction DebugCameraPrimitive(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z)(options.camera)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z("options.camera is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this._camera = options.camera;\n  this._frustumSplits = options.frustumSplits;\n  this._color = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.color, _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].CYAN */ .Z.CYAN);\n  this._updateOnChange = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.updateOnChange, true);\n\n  /**\n   * Determines if this primitive will be shown.\n   *\n   * @type Boolean\n   * @default true\n   */\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.show, true);\n\n  /**\n   * User-defined value returned when the primitive is picked.\n   *\n   * @type {*}\n   * @default undefined\n   *\n   * @see Scene#pick\n   */\n  this.id = options.id;\n  this._id = undefined;\n\n  this._outlinePrimitives = [];\n  this._planesPrimitives = [];\n}\n\nvar scratchRight = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchRotation = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\nvar scratchOrientation = new _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z();\nvar scratchPerspective = new _Core_PerspectiveFrustum_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\nvar scratchPerspectiveOffCenter = new _Core_PerspectiveOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z();\nvar scratchOrthographic = new _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z();\nvar scratchOrthographicOffCenter = new _Core_OrthographicOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z();\n\nvar scratchColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchSplits = [1.0, 100000.0];\n\n/**\n * @private\n */\nDebugCameraPrimitive.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n\n  var planesPrimitives = this._planesPrimitives;\n  var outlinePrimitives = this._outlinePrimitives;\n  var i;\n  var length;\n\n  if (this._updateOnChange) {\n    // Recreate the primitive every frame\n    length = planesPrimitives.length;\n    for (i = 0; i < length; ++i) {\n      outlinePrimitives[i] =\n        outlinePrimitives[i] && outlinePrimitives[i].destroy();\n      planesPrimitives[i] =\n        planesPrimitives[i] && planesPrimitives[i].destroy();\n    }\n    planesPrimitives.length = 0;\n    outlinePrimitives.length = 0;\n  }\n\n  if (planesPrimitives.length === 0) {\n    var camera = this._camera;\n    var cameraFrustum = camera.frustum;\n    var frustum;\n    if (cameraFrustum instanceof _Core_PerspectiveFrustum_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z) {\n      frustum = scratchPerspective;\n    } else if (cameraFrustum instanceof _Core_PerspectiveOffCenterFrustum_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z) {\n      frustum = scratchPerspectiveOffCenter;\n    } else if (cameraFrustum instanceof _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z) {\n      frustum = scratchOrthographic;\n    } else {\n      frustum = scratchOrthographicOffCenter;\n    }\n    frustum = cameraFrustum.clone(frustum);\n\n    var numFrustums;\n    var frustumSplits = this._frustumSplits;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z)(frustumSplits) || frustumSplits.length <= 1) {\n      // Use near and far planes if no splits created\n      frustumSplits = scratchSplits;\n      frustumSplits[0] = this._camera.frustum.near;\n      frustumSplits[1] = this._camera.frustum.far;\n      numFrustums = 1;\n    } else {\n      numFrustums = frustumSplits.length - 1;\n    }\n\n    var position = camera.positionWC;\n    var direction = camera.directionWC;\n    var up = camera.upWC;\n    var right = camera.rightWC;\n    right = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(right, scratchRight);\n\n    var rotation = scratchRotation;\n    _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].setColumn */ .Z.setColumn(rotation, 0, right, rotation);\n    _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].setColumn */ .Z.setColumn(rotation, 1, up, rotation);\n    _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].setColumn */ .Z.setColumn(rotation, 2, direction, rotation);\n\n    var orientation = _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].fromRotationMatrix */ .Z.fromRotationMatrix(\n      rotation,\n      scratchOrientation\n    );\n\n    planesPrimitives.length = outlinePrimitives.length = numFrustums;\n\n    for (i = 0; i < numFrustums; ++i) {\n      frustum.near = frustumSplits[i];\n      frustum.far = frustumSplits[i + 1];\n\n      planesPrimitives[i] = new _Primitive_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z({\n        geometryInstances: new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z({\n          geometry: new _Core_FrustumGeometry_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n            origin: position,\n            orientation: orientation,\n            frustum: frustum,\n            _drawNearPlane: i === 0,\n          }),\n          attributes: {\n            color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromColor */ .Z.fromColor(\n              _Core_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromAlpha */ .Z.fromAlpha(this._color, 0.1, scratchColor)\n            ),\n          },\n          id: this.id,\n          pickPrimitive: this,\n        }),\n        appearance: new _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z({\n          translucent: true,\n          flat: true,\n        }),\n        asynchronous: false,\n      });\n\n      outlinePrimitives[i] = new _Primitive_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z({\n        geometryInstances: new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z({\n          geometry: new _Core_FrustumOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n            origin: position,\n            orientation: orientation,\n            frustum: frustum,\n            _drawNearPlane: i === 0,\n          }),\n          attributes: {\n            color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromColor */ .Z.fromColor(this._color),\n          },\n          id: this.id,\n          pickPrimitive: this,\n        }),\n        appearance: new _PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z({\n          translucent: false,\n          flat: true,\n        }),\n        asynchronous: false,\n      });\n    }\n  }\n\n  length = planesPrimitives.length;\n  for (i = 0; i < length; ++i) {\n    outlinePrimitives[i].update(frameState);\n    planesPrimitives[i].update(frameState);\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <p>\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n * </p>\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n *\n * @see DebugCameraPrimitive#destroy\n */\nDebugCameraPrimitive.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <p>\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n * </p>\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * p = p && p.destroy();\n *\n * @see DebugCameraPrimitive#isDestroyed\n */\nDebugCameraPrimitive.prototype.destroy = function () {\n  var length = this._planesPrimitives.length;\n  for (var i = 0; i < length; ++i) {\n    this._outlinePrimitives[i] =\n      this._outlinePrimitives[i] && this._outlinePrimitives[i].destroy();\n    this._planesPrimitives[i] =\n      this._planesPrimitives[i] && this._planesPrimitives[i].destroy();\n  }\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DebugCameraPrimitive);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXdEO0FBQ3hELDhDQUE4QyxzQkFBc0I7QUFDcEU7QUFDQTtBQUNBLGFBQWEsU0FBUyxnREFBZ0Q7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELDhDQUE4QyxzQkFBc0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUFhO0FBQ3RCO0FBQ0EseURBQWUsb0JBQW9CLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGVidWdDYW1lcmFQcmltaXRpdmUuanM/NmM3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ29sb3IgZnJvbSBcIi4uL0NvcmUvQ29sb3IuanNcIjtcbmltcG9ydCBDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUgZnJvbSBcIi4uL0NvcmUvQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgRnJ1c3R1bUdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL0ZydXN0dW1HZW9tZXRyeS5qc1wiO1xuaW1wb3J0IEZydXN0dW1PdXRsaW5lR2VvbWV0cnkgZnJvbSBcIi4uL0NvcmUvRnJ1c3R1bU91dGxpbmVHZW9tZXRyeS5qc1wiO1xuaW1wb3J0IEdlb21ldHJ5SW5zdGFuY2UgZnJvbSBcIi4uL0NvcmUvR2VvbWV0cnlJbnN0YW5jZS5qc1wiO1xuaW1wb3J0IE1hdHJpeDMgZnJvbSBcIi4uL0NvcmUvTWF0cml4My5qc1wiO1xuaW1wb3J0IE9ydGhvZ3JhcGhpY0ZydXN0dW0gZnJvbSBcIi4uL0NvcmUvT3J0aG9ncmFwaGljRnJ1c3R1bS5qc1wiO1xuaW1wb3J0IE9ydGhvZ3JhcGhpY09mZkNlbnRlckZydXN0dW0gZnJvbSBcIi4uL0NvcmUvT3J0aG9ncmFwaGljT2ZmQ2VudGVyRnJ1c3R1bS5qc1wiO1xuaW1wb3J0IFBlcnNwZWN0aXZlRnJ1c3R1bSBmcm9tIFwiLi4vQ29yZS9QZXJzcGVjdGl2ZUZydXN0dW0uanNcIjtcbmltcG9ydCBQZXJzcGVjdGl2ZU9mZkNlbnRlckZydXN0dW0gZnJvbSBcIi4uL0NvcmUvUGVyc3BlY3RpdmVPZmZDZW50ZXJGcnVzdHVtLmpzXCI7XG5pbXBvcnQgUXVhdGVybmlvbiBmcm9tIFwiLi4vQ29yZS9RdWF0ZXJuaW9uLmpzXCI7XG5pbXBvcnQgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UgZnJvbSBcIi4vUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UuanNcIjtcbmltcG9ydCBQcmltaXRpdmUgZnJvbSBcIi4vUHJpbWl0aXZlLmpzXCI7XG5cbi8qKlxuICogRHJhd3MgdGhlIG91dGxpbmUgb2YgdGhlIGNhbWVyYSdzIHZpZXcgZnJ1c3R1bS5cbiAqXG4gKiBAYWxpYXMgRGVidWdDYW1lcmFQcmltaXRpdmVcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7Q2FtZXJhfSBvcHRpb25zLmNhbWVyYSBUaGUgY2FtZXJhLlxuICogQHBhcmFtIHtOdW1iZXJbXX0gW29wdGlvbnMuZnJ1c3R1bVNwbGl0c10gRGlzdGFuY2VzIHRvIHRoZSBuZWFyIGFuZCBmYXIgcGxhbmVzIG9mIHRoZSBjYW1lcmEgZnJ1c3R1bXMuIFRoaXMgb3ZlcnJpZGVzIHRoZSBjYW1lcmEncyBmcnVzdHVtIG5lYXIgYW5kIGZhciB2YWx1ZXMuXG4gKiBAcGFyYW0ge0NvbG9yfSBbb3B0aW9ucy5jb2xvcj1Db2xvci5DWUFOXSBUaGUgY29sb3Igb2YgdGhlIGRlYnVnIG91dGxpbmUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnVwZGF0ZU9uQ2hhbmdlPXRydWVdIFdoZXRoZXIgdGhlIHByaW1pdGl2ZSB1cGRhdGVzIHdoZW4gdGhlIHVuZGVybHlpbmcgY2FtZXJhIGNoYW5nZXMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3c9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiB0aGlzIHByaW1pdGl2ZSB3aWxsIGJlIHNob3duLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmlkXSBBIHVzZXItZGVmaW5lZCBvYmplY3QgdG8gcmV0dXJuIHdoZW4gdGhlIGluc3RhbmNlIGlzIHBpY2tlZCB3aXRoIHtAbGluayBTY2VuZSNwaWNrfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogcHJpbWl0aXZlcy5hZGQobmV3IENlc2l1bS5EZWJ1Z0NhbWVyYVByaW1pdGl2ZSh7XG4gKiAgIGNhbWVyYSA6IGNhbWVyYSxcbiAqICAgY29sb3IgOiBDZXNpdW0uQ29sb3IuWUVMTE9XXG4gKiB9KSk7XG4gKi9cbmZ1bmN0aW9uIERlYnVnQ2FtZXJhUHJpbWl0aXZlKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQob3B0aW9ucy5jYW1lcmEpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwib3B0aW9ucy5jYW1lcmEgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHRoaXMuX2NhbWVyYSA9IG9wdGlvbnMuY2FtZXJhO1xuICB0aGlzLl9mcnVzdHVtU3BsaXRzID0gb3B0aW9ucy5mcnVzdHVtU3BsaXRzO1xuICB0aGlzLl9jb2xvciA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmNvbG9yLCBDb2xvci5DWUFOKTtcbiAgdGhpcy5fdXBkYXRlT25DaGFuZ2UgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy51cGRhdGVPbkNoYW5nZSwgdHJ1ZSk7XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhpcyBwcmltaXRpdmUgd2lsbCBiZSBzaG93bi5cbiAgICpcbiAgICogQHR5cGUgQm9vbGVhblxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICB0aGlzLnNob3cgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5zaG93LCB0cnVlKTtcblxuICAvKipcbiAgICogVXNlci1kZWZpbmVkIHZhbHVlIHJldHVybmVkIHdoZW4gdGhlIHByaW1pdGl2ZSBpcyBwaWNrZWQuXG4gICAqXG4gICAqIEB0eXBlIHsqfVxuICAgKiBAZGVmYXVsdCB1bmRlZmluZWRcbiAgICpcbiAgICogQHNlZSBTY2VuZSNwaWNrXG4gICAqL1xuICB0aGlzLmlkID0gb3B0aW9ucy5pZDtcbiAgdGhpcy5faWQgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fb3V0bGluZVByaW1pdGl2ZXMgPSBbXTtcbiAgdGhpcy5fcGxhbmVzUHJpbWl0aXZlcyA9IFtdO1xufVxuXG52YXIgc2NyYXRjaFJpZ2h0ID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoUm90YXRpb24gPSBuZXcgTWF0cml4MygpO1xudmFyIHNjcmF0Y2hPcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG52YXIgc2NyYXRjaFBlcnNwZWN0aXZlID0gbmV3IFBlcnNwZWN0aXZlRnJ1c3R1bSgpO1xudmFyIHNjcmF0Y2hQZXJzcGVjdGl2ZU9mZkNlbnRlciA9IG5ldyBQZXJzcGVjdGl2ZU9mZkNlbnRlckZydXN0dW0oKTtcbnZhciBzY3JhdGNoT3J0aG9ncmFwaGljID0gbmV3IE9ydGhvZ3JhcGhpY0ZydXN0dW0oKTtcbnZhciBzY3JhdGNoT3J0aG9ncmFwaGljT2ZmQ2VudGVyID0gbmV3IE9ydGhvZ3JhcGhpY09mZkNlbnRlckZydXN0dW0oKTtcblxudmFyIHNjcmF0Y2hDb2xvciA9IG5ldyBDb2xvcigpO1xudmFyIHNjcmF0Y2hTcGxpdHMgPSBbMS4wLCAxMDAwMDAuMF07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRGVidWdDYW1lcmFQcmltaXRpdmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcmFtZVN0YXRlKSB7XG4gIGlmICghdGhpcy5zaG93KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBsYW5lc1ByaW1pdGl2ZXMgPSB0aGlzLl9wbGFuZXNQcmltaXRpdmVzO1xuICB2YXIgb3V0bGluZVByaW1pdGl2ZXMgPSB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlcztcbiAgdmFyIGk7XG4gIHZhciBsZW5ndGg7XG5cbiAgaWYgKHRoaXMuX3VwZGF0ZU9uQ2hhbmdlKSB7XG4gICAgLy8gUmVjcmVhdGUgdGhlIHByaW1pdGl2ZSBldmVyeSBmcmFtZVxuICAgIGxlbmd0aCA9IHBsYW5lc1ByaW1pdGl2ZXMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgb3V0bGluZVByaW1pdGl2ZXNbaV0gPVxuICAgICAgICBvdXRsaW5lUHJpbWl0aXZlc1tpXSAmJiBvdXRsaW5lUHJpbWl0aXZlc1tpXS5kZXN0cm95KCk7XG4gICAgICBwbGFuZXNQcmltaXRpdmVzW2ldID1cbiAgICAgICAgcGxhbmVzUHJpbWl0aXZlc1tpXSAmJiBwbGFuZXNQcmltaXRpdmVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgcGxhbmVzUHJpbWl0aXZlcy5sZW5ndGggPSAwO1xuICAgIG91dGxpbmVQcmltaXRpdmVzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBpZiAocGxhbmVzUHJpbWl0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICB2YXIgY2FtZXJhID0gdGhpcy5fY2FtZXJhO1xuICAgIHZhciBjYW1lcmFGcnVzdHVtID0gY2FtZXJhLmZydXN0dW07XG4gICAgdmFyIGZydXN0dW07XG4gICAgaWYgKGNhbWVyYUZydXN0dW0gaW5zdGFuY2VvZiBQZXJzcGVjdGl2ZUZydXN0dW0pIHtcbiAgICAgIGZydXN0dW0gPSBzY3JhdGNoUGVyc3BlY3RpdmU7XG4gICAgfSBlbHNlIGlmIChjYW1lcmFGcnVzdHVtIGluc3RhbmNlb2YgUGVyc3BlY3RpdmVPZmZDZW50ZXJGcnVzdHVtKSB7XG4gICAgICBmcnVzdHVtID0gc2NyYXRjaFBlcnNwZWN0aXZlT2ZmQ2VudGVyO1xuICAgIH0gZWxzZSBpZiAoY2FtZXJhRnJ1c3R1bSBpbnN0YW5jZW9mIE9ydGhvZ3JhcGhpY0ZydXN0dW0pIHtcbiAgICAgIGZydXN0dW0gPSBzY3JhdGNoT3J0aG9ncmFwaGljO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcnVzdHVtID0gc2NyYXRjaE9ydGhvZ3JhcGhpY09mZkNlbnRlcjtcbiAgICB9XG4gICAgZnJ1c3R1bSA9IGNhbWVyYUZydXN0dW0uY2xvbmUoZnJ1c3R1bSk7XG5cbiAgICB2YXIgbnVtRnJ1c3R1bXM7XG4gICAgdmFyIGZydXN0dW1TcGxpdHMgPSB0aGlzLl9mcnVzdHVtU3BsaXRzO1xuICAgIGlmICghZGVmaW5lZChmcnVzdHVtU3BsaXRzKSB8fCBmcnVzdHVtU3BsaXRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAvLyBVc2UgbmVhciBhbmQgZmFyIHBsYW5lcyBpZiBubyBzcGxpdHMgY3JlYXRlZFxuICAgICAgZnJ1c3R1bVNwbGl0cyA9IHNjcmF0Y2hTcGxpdHM7XG4gICAgICBmcnVzdHVtU3BsaXRzWzBdID0gdGhpcy5fY2FtZXJhLmZydXN0dW0ubmVhcjtcbiAgICAgIGZydXN0dW1TcGxpdHNbMV0gPSB0aGlzLl9jYW1lcmEuZnJ1c3R1bS5mYXI7XG4gICAgICBudW1GcnVzdHVtcyA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bUZydXN0dW1zID0gZnJ1c3R1bVNwbGl0cy5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHZhciBwb3NpdGlvbiA9IGNhbWVyYS5wb3NpdGlvbldDO1xuICAgIHZhciBkaXJlY3Rpb24gPSBjYW1lcmEuZGlyZWN0aW9uV0M7XG4gICAgdmFyIHVwID0gY2FtZXJhLnVwV0M7XG4gICAgdmFyIHJpZ2h0ID0gY2FtZXJhLnJpZ2h0V0M7XG4gICAgcmlnaHQgPSBDYXJ0ZXNpYW4zLm5lZ2F0ZShyaWdodCwgc2NyYXRjaFJpZ2h0KTtcblxuICAgIHZhciByb3RhdGlvbiA9IHNjcmF0Y2hSb3RhdGlvbjtcbiAgICBNYXRyaXgzLnNldENvbHVtbihyb3RhdGlvbiwgMCwgcmlnaHQsIHJvdGF0aW9uKTtcbiAgICBNYXRyaXgzLnNldENvbHVtbihyb3RhdGlvbiwgMSwgdXAsIHJvdGF0aW9uKTtcbiAgICBNYXRyaXgzLnNldENvbHVtbihyb3RhdGlvbiwgMiwgZGlyZWN0aW9uLCByb3RhdGlvbik7XG5cbiAgICB2YXIgb3JpZW50YXRpb24gPSBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeChcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgc2NyYXRjaE9yaWVudGF0aW9uXG4gICAgKTtcblxuICAgIHBsYW5lc1ByaW1pdGl2ZXMubGVuZ3RoID0gb3V0bGluZVByaW1pdGl2ZXMubGVuZ3RoID0gbnVtRnJ1c3R1bXM7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbnVtRnJ1c3R1bXM7ICsraSkge1xuICAgICAgZnJ1c3R1bS5uZWFyID0gZnJ1c3R1bVNwbGl0c1tpXTtcbiAgICAgIGZydXN0dW0uZmFyID0gZnJ1c3R1bVNwbGl0c1tpICsgMV07XG5cbiAgICAgIHBsYW5lc1ByaW1pdGl2ZXNbaV0gPSBuZXcgUHJpbWl0aXZlKHtcbiAgICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICAgICAgICBnZW9tZXRyeTogbmV3IEZydXN0dW1HZW9tZXRyeSh7XG4gICAgICAgICAgICBvcmlnaW46IHBvc2l0aW9uLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgZnJ1c3R1bTogZnJ1c3R1bSxcbiAgICAgICAgICAgIF9kcmF3TmVhclBsYW5lOiBpID09PSAwLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGNvbG9yOiBDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNvbG9yKFxuICAgICAgICAgICAgICBDb2xvci5mcm9tQWxwaGEodGhpcy5fY29sb3IsIDAuMSwgc2NyYXRjaENvbG9yKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgIHBpY2tQcmltaXRpdmU6IHRoaXMsXG4gICAgICAgIH0pLFxuICAgICAgICBhcHBlYXJhbmNlOiBuZXcgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2Uoe1xuICAgICAgICAgIHRyYW5zbHVjZW50OiB0cnVlLFxuICAgICAgICAgIGZsYXQ6IHRydWUsXG4gICAgICAgIH0pLFxuICAgICAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIG91dGxpbmVQcmltaXRpdmVzW2ldID0gbmV3IFByaW1pdGl2ZSh7XG4gICAgICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBuZXcgR2VvbWV0cnlJbnN0YW5jZSh7XG4gICAgICAgICAgZ2VvbWV0cnk6IG5ldyBGcnVzdHVtT3V0bGluZUdlb21ldHJ5KHtcbiAgICAgICAgICAgIG9yaWdpbjogcG9zaXRpb24sXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXG4gICAgICAgICAgICBmcnVzdHVtOiBmcnVzdHVtLFxuICAgICAgICAgICAgX2RyYXdOZWFyUGxhbmU6IGkgPT09IDAsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgY29sb3I6IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ29sb3IodGhpcy5fY29sb3IpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgcGlja1ByaW1pdGl2ZTogdGhpcyxcbiAgICAgICAgfSksXG4gICAgICAgIGFwcGVhcmFuY2U6IG5ldyBQZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZSh7XG4gICAgICAgICAgdHJhbnNsdWNlbnQ6IGZhbHNlLFxuICAgICAgICAgIGZsYXQ6IHRydWUsXG4gICAgICAgIH0pLFxuICAgICAgICBhc3luY2hyb25vdXM6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgbGVuZ3RoID0gcGxhbmVzUHJpbWl0aXZlcy5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIG91dGxpbmVQcmltaXRpdmVzW2ldLnVwZGF0ZShmcmFtZVN0YXRlKTtcbiAgICBwbGFuZXNQcmltaXRpdmVzW2ldLnVwZGF0ZShmcmFtZVN0YXRlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqIDxwPlxuICogSWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkOyBjYWxsaW5nIGFueSBmdW5jdGlvbiBvdGhlciB0aGFuXG4gKiA8Y29kZT5pc0Rlc3Ryb3llZDwvY29kZT4gd2lsbCByZXN1bHQgaW4gYSB7QGxpbmsgRGV2ZWxvcGVyRXJyb3J9IGV4Y2VwdGlvbi5cbiAqIDwvcD5cbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCA8Y29kZT5mYWxzZTwvY29kZT4uXG4gKlxuICogQHNlZSBEZWJ1Z0NhbWVyYVByaW1pdGl2ZSNkZXN0cm95XG4gKi9cbkRlYnVnQ2FtZXJhUHJpbWl0aXZlLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgV2ViR0wgcmVzb3VyY2VzIGhlbGQgYnkgdGhpcyBvYmplY3QuICBEZXN0cm95aW5nIGFuIG9iamVjdCBhbGxvd3MgZm9yIGRldGVybWluaXN0aWNcbiAqIHJlbGVhc2Ugb2YgV2ViR0wgcmVzb3VyY2VzLCBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gdGhlIGdhcmJhZ2UgY29sbGVjdG9yIHRvIGRlc3Ryb3kgdGhpcyBvYmplY3QuXG4gKiA8cD5cbiAqIE9uY2UgYW4gb2JqZWN0IGlzIGRlc3Ryb3llZCwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkOyBjYWxsaW5nIGFueSBmdW5jdGlvbiBvdGhlciB0aGFuXG4gKiA8Y29kZT5pc0Rlc3Ryb3llZDwvY29kZT4gd2lsbCByZXN1bHQgaW4gYSB7QGxpbmsgRGV2ZWxvcGVyRXJyb3J9IGV4Y2VwdGlvbi4gIFRoZXJlZm9yZSxcbiAqIGFzc2lnbiB0aGUgcmV0dXJuIHZhbHVlICg8Y29kZT51bmRlZmluZWQ8L2NvZGU+KSB0byB0aGUgb2JqZWN0IGFzIGRvbmUgaW4gdGhlIGV4YW1wbGUuXG4gKiA8L3A+XG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IFRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGkuZS4sIGRlc3Ryb3koKSB3YXMgY2FsbGVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBwID0gcCAmJiBwLmRlc3Ryb3koKTtcbiAqXG4gKiBAc2VlIERlYnVnQ2FtZXJhUHJpbWl0aXZlI2lzRGVzdHJveWVkXG4gKi9cbkRlYnVnQ2FtZXJhUHJpbWl0aXZlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5fcGxhbmVzUHJpbWl0aXZlcy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlc1tpXSA9XG4gICAgICB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlc1tpXSAmJiB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlc1tpXS5kZXN0cm95KCk7XG4gICAgdGhpcy5fcGxhbmVzUHJpbWl0aXZlc1tpXSA9XG4gICAgICB0aGlzLl9wbGFuZXNQcmltaXRpdmVzW2ldICYmIHRoaXMuX3BsYW5lc1ByaW1pdGl2ZXNbaV0uZGVzdHJveSgpO1xuICB9XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IERlYnVnQ2FtZXJhUHJpbWl0aXZlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///96548\n')},55757:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59947);\n/* harmony import */ var _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60072);\n/* harmony import */ var _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(53642);\n/* harmony import */ var _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(46588);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82982);\n\n\n\n\n\n\n/**\n * @private\n */\nfunction DebugInspector() {\n  this._cachedShowFrustumsShaders = {};\n}\n\nfunction getAttributeLocations(shaderProgram) {\n  var attributeLocations = {};\n  var attributes = shaderProgram.vertexAttributes;\n  for (var a in attributes) {\n    if (attributes.hasOwnProperty(a)) {\n      attributeLocations[a] = attributes[a].index;\n    }\n  }\n\n  return attributeLocations;\n}\n\nfunction createDebugShowFrustumsShaderProgram(scene, shaderProgram) {\n  var context = scene.context;\n  var sp = shaderProgram;\n  var fs = sp.fragmentShaderSource.clone();\n\n  var targets = [];\n  fs.sources = fs.sources.map(function (source) {\n    source = _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].replaceMain */ .Z.replaceMain(source, "czm_Debug_main");\n    var re = /gl_FragData\\[(\\d+)\\]/g;\n    var match;\n    while ((match = re.exec(source)) !== null) {\n      if (targets.indexOf(match[1]) === -1) {\n        targets.push(match[1]);\n      }\n    }\n    return source;\n  });\n  var length = targets.length;\n\n  var newMain = "";\n  newMain += "uniform vec3 debugShowCommandsColor;\\n";\n  newMain += "uniform vec3 debugShowFrustumsColor;\\n";\n  newMain += "void main() \\n" + "{ \\n" + "    czm_Debug_main(); \\n";\n\n  // set debugShowCommandsColor to Color(1.0, 1.0, 1.0, 1.0) to stop rendering scene.debugShowCommands\n  // set debugShowFrustumsColor to Color(1.0, 1.0, 1.0, 1.0) to stop rendering scene.debugShowFrustums\n  var i;\n  if (length > 0) {\n    for (i = 0; i < length; ++i) {\n      newMain +=\n        "    gl_FragData[" + targets[i] + "].rgb *= debugShowCommandsColor;\\n";\n      newMain +=\n        "    gl_FragData[" + targets[i] + "].rgb *= debugShowFrustumsColor;\\n";\n    }\n  } else {\n    newMain += "    gl_FragColor.rgb *= debugShowCommandsColor;\\n";\n    newMain += "    gl_FragColor.rgb *= debugShowFrustumsColor;\\n";\n  }\n  newMain += "}";\n\n  fs.sources.push(newMain);\n\n  var attributeLocations = getAttributeLocations(sp);\n\n  return _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromCache */ .Z.fromCache({\n    context: context,\n    vertexShaderSource: sp.vertexShaderSource,\n    fragmentShaderSource: fs,\n    attributeLocations: attributeLocations,\n  });\n}\n\nvar scratchFrustumColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nfunction createDebugShowFrustumsUniformMap(scene, command) {\n  // setup uniform for the shader\n  var debugUniformMap;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(command.uniformMap)) {\n    debugUniformMap = {};\n  } else {\n    debugUniformMap = command.uniformMap;\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(debugUniformMap.debugShowCommandsColor) ||\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(debugUniformMap.debugShowFrustumsColor)\n  ) {\n    return debugUniformMap;\n  }\n\n  debugUniformMap.debugShowCommandsColor = function () {\n    if (!scene.debugShowCommands) {\n      return _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].WHITE */ .Z.WHITE;\n    }\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(command._debugColor)) {\n      command._debugColor = _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromRandom */ .Z.fromRandom();\n    }\n\n    return command._debugColor;\n  };\n\n  debugUniformMap.debugShowFrustumsColor = function () {\n    if (!scene.debugShowFrustums) {\n      return _Core_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].WHITE */ .Z.WHITE;\n    }\n\n    // Support up to three frustums.  If a command overlaps all\n    // three, it\'s code is not changed.\n    scratchFrustumColor.red =\n      command.debugOverlappingFrustums & (1 << 0) ? 1.0 : 0.0;\n    scratchFrustumColor.green =\n      command.debugOverlappingFrustums & (1 << 1) ? 1.0 : 0.0;\n    scratchFrustumColor.blue =\n      command.debugOverlappingFrustums & (1 << 2) ? 1.0 : 0.0;\n    scratchFrustumColor.alpha = 1.0;\n    return scratchFrustumColor;\n  };\n\n  return debugUniformMap;\n}\n\nvar scratchShowFrustumCommand = new _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nDebugInspector.prototype.executeDebugShowFrustumsCommand = function (\n  scene,\n  command,\n  passState\n) {\n  // create debug command\n  var shaderProgramId = command.shaderProgram.id;\n  var debugShaderProgram = this._cachedShowFrustumsShaders[shaderProgramId];\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(debugShaderProgram)) {\n    debugShaderProgram = createDebugShowFrustumsShaderProgram(\n      scene,\n      command.shaderProgram\n    );\n\n    this._cachedShowFrustumsShaders[shaderProgramId] = debugShaderProgram;\n  }\n\n  var debugCommand = _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].shallowClone */ .Z.shallowClone(\n    command,\n    scratchShowFrustumCommand\n  );\n  debugCommand.shaderProgram = debugShaderProgram;\n  debugCommand.uniformMap = createDebugShowFrustumsUniformMap(scene, command);\n  debugCommand.execute(scene.context, passState);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DebugInspector);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU3NTcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7QUFDZ0I7QUFDRTtBQUNFO0FBQ2hCOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGtHQUF3QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esa0RBQWtEO0FBQ2xELGtEQUFrRDtBQUNsRCxtQ0FBbUMsNkJBQTZCOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0EsSUFBSTtBQUNKLCtEQUErRDtBQUMvRCwrREFBK0Q7QUFDL0Q7QUFDQSxlQUFlOztBQUVmOztBQUVBOztBQUVBLFNBQVMsK0ZBQXVCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLDhCQUE4QiwrREFBSztBQUNuQztBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLElBQUkscUVBQU87QUFDWCxJQUFJLHFFQUFPO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDJFQUFXO0FBQ3hCOztBQUVBLFNBQVMscUVBQU87QUFDaEIsNEJBQTRCLHFGQUFnQjtBQUM1Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDJFQUFXO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxvQ0FBb0MseUVBQVc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8scUVBQU87QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixtR0FBd0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBZSxjQUFjLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGVidWdJbnNwZWN0b3IuanM/NDBlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29sb3IgZnJvbSBcIi4uL0NvcmUvQ29sb3IuanNcIjtcbmltcG9ydCBEcmF3Q29tbWFuZCBmcm9tIFwiLi4vUmVuZGVyZXIvRHJhd0NvbW1hbmQuanNcIjtcbmltcG9ydCBTaGFkZXJTb3VyY2UgZnJvbSBcIi4uL1JlbmRlcmVyL1NoYWRlclNvdXJjZS5qc1wiO1xuaW1wb3J0IFNoYWRlclByb2dyYW0gZnJvbSBcIi4uL1JlbmRlcmVyL1NoYWRlclByb2dyYW0uanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBEZWJ1Z0luc3BlY3RvcigpIHtcbiAgdGhpcy5fY2FjaGVkU2hvd0ZydXN0dW1zU2hhZGVycyA9IHt9O1xufVxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc2hhZGVyUHJvZ3JhbSkge1xuICB2YXIgYXR0cmlidXRlTG9jYXRpb25zID0ge307XG4gIHZhciBhdHRyaWJ1dGVzID0gc2hhZGVyUHJvZ3JhbS52ZXJ0ZXhBdHRyaWJ1dGVzO1xuICBmb3IgKHZhciBhIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhKSkge1xuICAgICAgYXR0cmlidXRlTG9jYXRpb25zW2FdID0gYXR0cmlidXRlc1thXS5pbmRleDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0cmlidXRlTG9jYXRpb25zO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWJ1Z1Nob3dGcnVzdHVtc1NoYWRlclByb2dyYW0oc2NlbmUsIHNoYWRlclByb2dyYW0pIHtcbiAgdmFyIGNvbnRleHQgPSBzY2VuZS5jb250ZXh0O1xuICB2YXIgc3AgPSBzaGFkZXJQcm9ncmFtO1xuICB2YXIgZnMgPSBzcC5mcmFnbWVudFNoYWRlclNvdXJjZS5jbG9uZSgpO1xuXG4gIHZhciB0YXJnZXRzID0gW107XG4gIGZzLnNvdXJjZXMgPSBmcy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgc291cmNlID0gU2hhZGVyU291cmNlLnJlcGxhY2VNYWluKHNvdXJjZSwgXCJjem1fRGVidWdfbWFpblwiKTtcbiAgICB2YXIgcmUgPSAvZ2xfRnJhZ0RhdGFcXFsoXFxkKylcXF0vZztcbiAgICB2YXIgbWF0Y2g7XG4gICAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoc291cmNlKSkgIT09IG51bGwpIHtcbiAgICAgIGlmICh0YXJnZXRzLmluZGV4T2YobWF0Y2hbMV0pID09PSAtMSkge1xuICAgICAgICB0YXJnZXRzLnB1c2gobWF0Y2hbMV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9KTtcbiAgdmFyIGxlbmd0aCA9IHRhcmdldHMubGVuZ3RoO1xuXG4gIHZhciBuZXdNYWluID0gXCJcIjtcbiAgbmV3TWFpbiArPSBcInVuaWZvcm0gdmVjMyBkZWJ1Z1Nob3dDb21tYW5kc0NvbG9yO1xcblwiO1xuICBuZXdNYWluICs9IFwidW5pZm9ybSB2ZWMzIGRlYnVnU2hvd0ZydXN0dW1zQ29sb3I7XFxuXCI7XG4gIG5ld01haW4gKz0gXCJ2b2lkIG1haW4oKSBcXG5cIiArIFwieyBcXG5cIiArIFwiICAgIGN6bV9EZWJ1Z19tYWluKCk7IFxcblwiO1xuXG4gIC8vIHNldCBkZWJ1Z1Nob3dDb21tYW5kc0NvbG9yIHRvIENvbG9yKDEuMCwgMS4wLCAxLjAsIDEuMCkgdG8gc3RvcCByZW5kZXJpbmcgc2NlbmUuZGVidWdTaG93Q29tbWFuZHNcbiAgLy8gc2V0IGRlYnVnU2hvd0ZydXN0dW1zQ29sb3IgdG8gQ29sb3IoMS4wLCAxLjAsIDEuMCwgMS4wKSB0byBzdG9wIHJlbmRlcmluZyBzY2VuZS5kZWJ1Z1Nob3dGcnVzdHVtc1xuICB2YXIgaTtcbiAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIG5ld01haW4gKz1cbiAgICAgICAgXCIgICAgZ2xfRnJhZ0RhdGFbXCIgKyB0YXJnZXRzW2ldICsgXCJdLnJnYiAqPSBkZWJ1Z1Nob3dDb21tYW5kc0NvbG9yO1xcblwiO1xuICAgICAgbmV3TWFpbiArPVxuICAgICAgICBcIiAgICBnbF9GcmFnRGF0YVtcIiArIHRhcmdldHNbaV0gKyBcIl0ucmdiICo9IGRlYnVnU2hvd0ZydXN0dW1zQ29sb3I7XFxuXCI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5ld01haW4gKz0gXCIgICAgZ2xfRnJhZ0NvbG9yLnJnYiAqPSBkZWJ1Z1Nob3dDb21tYW5kc0NvbG9yO1xcblwiO1xuICAgIG5ld01haW4gKz0gXCIgICAgZ2xfRnJhZ0NvbG9yLnJnYiAqPSBkZWJ1Z1Nob3dGcnVzdHVtc0NvbG9yO1xcblwiO1xuICB9XG4gIG5ld01haW4gKz0gXCJ9XCI7XG5cbiAgZnMuc291cmNlcy5wdXNoKG5ld01haW4pO1xuXG4gIHZhciBhdHRyaWJ1dGVMb2NhdGlvbnMgPSBnZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc3ApO1xuXG4gIHJldHVybiBTaGFkZXJQcm9ncmFtLmZyb21DYWNoZSh7XG4gICAgY29udGV4dDogY29udGV4dCxcbiAgICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IHNwLnZlcnRleFNoYWRlclNvdXJjZSxcbiAgICBmcmFnbWVudFNoYWRlclNvdXJjZTogZnMsXG4gICAgYXR0cmlidXRlTG9jYXRpb25zOiBhdHRyaWJ1dGVMb2NhdGlvbnMsXG4gIH0pO1xufVxuXG52YXIgc2NyYXRjaEZydXN0dW1Db2xvciA9IG5ldyBDb2xvcigpO1xuZnVuY3Rpb24gY3JlYXRlRGVidWdTaG93RnJ1c3R1bXNVbmlmb3JtTWFwKHNjZW5lLCBjb21tYW5kKSB7XG4gIC8vIHNldHVwIHVuaWZvcm0gZm9yIHRoZSBzaGFkZXJcbiAgdmFyIGRlYnVnVW5pZm9ybU1hcDtcbiAgaWYgKCFkZWZpbmVkKGNvbW1hbmQudW5pZm9ybU1hcCkpIHtcbiAgICBkZWJ1Z1VuaWZvcm1NYXAgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICBkZWJ1Z1VuaWZvcm1NYXAgPSBjb21tYW5kLnVuaWZvcm1NYXA7XG4gIH1cblxuICBpZiAoXG4gICAgZGVmaW5lZChkZWJ1Z1VuaWZvcm1NYXAuZGVidWdTaG93Q29tbWFuZHNDb2xvcikgfHxcbiAgICBkZWZpbmVkKGRlYnVnVW5pZm9ybU1hcC5kZWJ1Z1Nob3dGcnVzdHVtc0NvbG9yKVxuICApIHtcbiAgICByZXR1cm4gZGVidWdVbmlmb3JtTWFwO1xuICB9XG5cbiAgZGVidWdVbmlmb3JtTWFwLmRlYnVnU2hvd0NvbW1hbmRzQ29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzY2VuZS5kZWJ1Z1Nob3dDb21tYW5kcykge1xuICAgICAgcmV0dXJuIENvbG9yLldISVRFO1xuICAgIH1cblxuICAgIGlmICghZGVmaW5lZChjb21tYW5kLl9kZWJ1Z0NvbG9yKSkge1xuICAgICAgY29tbWFuZC5fZGVidWdDb2xvciA9IENvbG9yLmZyb21SYW5kb20oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tbWFuZC5fZGVidWdDb2xvcjtcbiAgfTtcblxuICBkZWJ1Z1VuaWZvcm1NYXAuZGVidWdTaG93RnJ1c3R1bXNDb2xvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXNjZW5lLmRlYnVnU2hvd0ZydXN0dW1zKSB7XG4gICAgICByZXR1cm4gQ29sb3IuV0hJVEU7XG4gICAgfVxuXG4gICAgLy8gU3VwcG9ydCB1cCB0byB0aHJlZSBmcnVzdHVtcy4gIElmIGEgY29tbWFuZCBvdmVybGFwcyBhbGxcbiAgICAvLyB0aHJlZSwgaXQncyBjb2RlIGlzIG5vdCBjaGFuZ2VkLlxuICAgIHNjcmF0Y2hGcnVzdHVtQ29sb3IucmVkID1cbiAgICAgIGNvbW1hbmQuZGVidWdPdmVybGFwcGluZ0ZydXN0dW1zICYgKDEgPDwgMCkgPyAxLjAgOiAwLjA7XG4gICAgc2NyYXRjaEZydXN0dW1Db2xvci5ncmVlbiA9XG4gICAgICBjb21tYW5kLmRlYnVnT3ZlcmxhcHBpbmdGcnVzdHVtcyAmICgxIDw8IDEpID8gMS4wIDogMC4wO1xuICAgIHNjcmF0Y2hGcnVzdHVtQ29sb3IuYmx1ZSA9XG4gICAgICBjb21tYW5kLmRlYnVnT3ZlcmxhcHBpbmdGcnVzdHVtcyAmICgxIDw8IDIpID8gMS4wIDogMC4wO1xuICAgIHNjcmF0Y2hGcnVzdHVtQ29sb3IuYWxwaGEgPSAxLjA7XG4gICAgcmV0dXJuIHNjcmF0Y2hGcnVzdHVtQ29sb3I7XG4gIH07XG5cbiAgcmV0dXJuIGRlYnVnVW5pZm9ybU1hcDtcbn1cblxudmFyIHNjcmF0Y2hTaG93RnJ1c3R1bUNvbW1hbmQgPSBuZXcgRHJhd0NvbW1hbmQoKTtcbkRlYnVnSW5zcGVjdG9yLnByb3RvdHlwZS5leGVjdXRlRGVidWdTaG93RnJ1c3R1bXNDb21tYW5kID0gZnVuY3Rpb24gKFxuICBzY2VuZSxcbiAgY29tbWFuZCxcbiAgcGFzc1N0YXRlXG4pIHtcbiAgLy8gY3JlYXRlIGRlYnVnIGNvbW1hbmRcbiAgdmFyIHNoYWRlclByb2dyYW1JZCA9IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZDtcbiAgdmFyIGRlYnVnU2hhZGVyUHJvZ3JhbSA9IHRoaXMuX2NhY2hlZFNob3dGcnVzdHVtc1NoYWRlcnNbc2hhZGVyUHJvZ3JhbUlkXTtcbiAgaWYgKCFkZWZpbmVkKGRlYnVnU2hhZGVyUHJvZ3JhbSkpIHtcbiAgICBkZWJ1Z1NoYWRlclByb2dyYW0gPSBjcmVhdGVEZWJ1Z1Nob3dGcnVzdHVtc1NoYWRlclByb2dyYW0oXG4gICAgICBzY2VuZSxcbiAgICAgIGNvbW1hbmQuc2hhZGVyUHJvZ3JhbVxuICAgICk7XG5cbiAgICB0aGlzLl9jYWNoZWRTaG93RnJ1c3R1bXNTaGFkZXJzW3NoYWRlclByb2dyYW1JZF0gPSBkZWJ1Z1NoYWRlclByb2dyYW07XG4gIH1cblxuICB2YXIgZGVidWdDb21tYW5kID0gRHJhd0NvbW1hbmQuc2hhbGxvd0Nsb25lKFxuICAgIGNvbW1hbmQsXG4gICAgc2NyYXRjaFNob3dGcnVzdHVtQ29tbWFuZFxuICApO1xuICBkZWJ1Z0NvbW1hbmQuc2hhZGVyUHJvZ3JhbSA9IGRlYnVnU2hhZGVyUHJvZ3JhbTtcbiAgZGVidWdDb21tYW5kLnVuaWZvcm1NYXAgPSBjcmVhdGVEZWJ1Z1Nob3dGcnVzdHVtc1VuaWZvcm1NYXAoc2NlbmUsIGNvbW1hbmQpO1xuICBkZWJ1Z0NvbW1hbmQuZXhlY3V0ZShzY2VuZS5jb250ZXh0LCBwYXNzU3RhdGUpO1xufTtcbmV4cG9ydCBkZWZhdWx0IERlYnVnSW5zcGVjdG9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///55757\n')},84792:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_ArcType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11491);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86511);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26865);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72248);\n/* harmony import */ var _Core_PolylineGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(80593);\n/* harmony import */ var _PolylineColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(54052);\n/* harmony import */ var _Primitive_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(34380);\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Draws the axes of a reference frame defined by a matrix that transforms to world\n * coordinates, i.e., Earth\'s WGS84 coordinates.  The most prominent example is\n * a primitives <code>modelMatrix</code>.\n * <p>\n * The X axis is red; Y is green; and Z is blue.\n * </p>\n * <p>\n * This is for debugging only; it is not optimized for production use.\n * </p>\n *\n * @alias DebugModelMatrixPrimitive\n * @constructor\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Number} [options.length=10000000.0] The length of the axes in meters.\n * @param {Number} [options.width=2.0] The width of the axes in pixels.\n * @param {Matrix4} [options.modelMatrix=Matrix4.IDENTITY] The 4x4 matrix that defines the reference frame, i.e., origin plus axes, to visualize.\n * @param {Boolean} [options.show=true] Determines if this primitive will be shown.\n * @param {Object} [options.id] A user-defined object to return when the instance is picked with {@link Scene#pick}\n *\n * @example\n * primitives.add(new Cesium.DebugModelMatrixPrimitive({\n *   modelMatrix : primitive.modelMatrix,  // primitive to debug\n *   length : 100000.0,\n *   width : 10.0\n * }));\n */\nfunction DebugModelMatrixPrimitive(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  /**\n   * The length of the axes in meters.\n   *\n   * @type {Number}\n   * @default 10000000.0\n   */\n  this.length = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.length, 10000000.0);\n  this._length = undefined;\n\n  /**\n   * The width of the axes in pixels.\n   *\n   * @type {Number}\n   * @default 2.0\n   */\n  this.width = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.width, 2.0);\n  this._width = undefined;\n\n  /**\n   * Determines if this primitive will be shown.\n   *\n   * @type Boolean\n   * @default true\n   */\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.show, true);\n\n  /**\n   * The 4x4 matrix that defines the reference frame, i.e., origin plus axes, to visualize.\n   *\n   * @type {Matrix4}\n   * @default {@link Matrix4.IDENTITY}\n   */\n  this.modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].clone */ .Z.clone(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.modelMatrix, _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].IDENTITY */ .Z.IDENTITY)\n  );\n  this._modelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z();\n\n  /**\n   * User-defined value returned when the primitive is picked.\n   *\n   * @type {*}\n   * @default undefined\n   *\n   * @see Scene#pick\n   */\n  this.id = options.id;\n  this._id = undefined;\n\n  this._primitive = undefined;\n}\n\n/**\n * @private\n */\nDebugModelMatrixPrimitive.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._primitive) ||\n    !_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].equals */ .Z.equals(this._modelMatrix, this.modelMatrix) ||\n    this._length !== this.length ||\n    this._width !== this.width ||\n    this._id !== this.id\n  ) {\n    this._modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].clone */ .Z.clone(this.modelMatrix, this._modelMatrix);\n    this._length = this.length;\n    this._width = this.width;\n    this._id = this.id;\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._primitive)) {\n      this._primitive.destroy();\n    }\n\n    // Workaround projecting (0, 0, 0)\n    if (\n      this.modelMatrix[12] === 0.0 &&\n      this.modelMatrix[13] === 0.0 &&\n      this.modelMatrix[14] === 0.0\n    ) {\n      this.modelMatrix[14] = 0.01;\n    }\n\n    var x = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n      geometry: new _Core_PolylineGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n        positions: [_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_X */ .Z.UNIT_X],\n        width: this.width,\n        vertexFormat: _PolylineColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].VERTEX_FORMAT */ .Z.VERTEX_FORMAT,\n        colors: [_Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].RED */ .Z.RED, _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].RED */ .Z.RED],\n        arcType: _Core_ArcType_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].NONE */ .Z.NONE,\n      }),\n      modelMatrix: _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByUniformScale */ .Z.multiplyByUniformScale(\n        this.modelMatrix,\n        this.length,\n        new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z()\n      ),\n      id: this.id,\n      pickPrimitive: this,\n    });\n    var y = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n      geometry: new _Core_PolylineGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n        positions: [_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Y */ .Z.UNIT_Y],\n        width: this.width,\n        vertexFormat: _PolylineColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].VERTEX_FORMAT */ .Z.VERTEX_FORMAT,\n        colors: [_Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].GREEN */ .Z.GREEN, _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].GREEN */ .Z.GREEN],\n        arcType: _Core_ArcType_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].NONE */ .Z.NONE,\n      }),\n      modelMatrix: _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByUniformScale */ .Z.multiplyByUniformScale(\n        this.modelMatrix,\n        this.length,\n        new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z()\n      ),\n      id: this.id,\n      pickPrimitive: this,\n    });\n    var z = new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n      geometry: new _Core_PolylineGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n        positions: [_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Z */ .Z.UNIT_Z],\n        width: this.width,\n        vertexFormat: _PolylineColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].VERTEX_FORMAT */ .Z.VERTEX_FORMAT,\n        colors: [_Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].BLUE */ .Z.BLUE, _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].BLUE */ .Z.BLUE],\n        arcType: _Core_ArcType_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].NONE */ .Z.NONE,\n      }),\n      modelMatrix: _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].multiplyByUniformScale */ .Z.multiplyByUniformScale(\n        this.modelMatrix,\n        this.length,\n        new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z()\n      ),\n      id: this.id,\n      pickPrimitive: this,\n    });\n\n    this._primitive = new _Primitive_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n      geometryInstances: [x, y, z],\n      appearance: new _PolylineColorAppearance_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(),\n      asynchronous: false,\n    });\n  }\n\n  this._primitive.update(frameState);\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <p>\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n * </p>\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n *\n * @see DebugModelMatrixPrimitive#destroy\n */\nDebugModelMatrixPrimitive.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <p>\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n * </p>\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * p = p && p.destroy();\n *\n * @see DebugModelMatrixPrimitive#isDestroyed\n */\nDebugModelMatrixPrimitive.prototype.destroy = function () {\n  this._primitive = this._primitive && this._primitive.destroy();\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DebugModelMatrixPrimitive);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCw4Q0FBOEMsc0JBQXNCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUFhO0FBQ3RCO0FBQ0EseURBQWUseUJBQXlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGVidWdNb2RlbE1hdHJpeFByaW1pdGl2ZS5qcz84N2RhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcmNUeXBlIGZyb20gXCIuLi9Db3JlL0FyY1R5cGUuanNcIjtcbmltcG9ydCBDYXJ0ZXNpYW4zIGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjMuanNcIjtcbmltcG9ydCBDb2xvciBmcm9tIFwiLi4vQ29yZS9Db2xvci5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBHZW9tZXRyeUluc3RhbmNlIGZyb20gXCIuLi9Db3JlL0dlb21ldHJ5SW5zdGFuY2UuanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBQb2x5bGluZUdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL1BvbHlsaW5lR2VvbWV0cnkuanNcIjtcbmltcG9ydCBQb2x5bGluZUNvbG9yQXBwZWFyYW5jZSBmcm9tIFwiLi9Qb2x5bGluZUNvbG9yQXBwZWFyYW5jZS5qc1wiO1xuaW1wb3J0IFByaW1pdGl2ZSBmcm9tIFwiLi9QcmltaXRpdmUuanNcIjtcblxuLyoqXG4gKiBEcmF3cyB0aGUgYXhlcyBvZiBhIHJlZmVyZW5jZSBmcmFtZSBkZWZpbmVkIGJ5IGEgbWF0cml4IHRoYXQgdHJhbnNmb3JtcyB0byB3b3JsZFxuICogY29vcmRpbmF0ZXMsIGkuZS4sIEVhcnRoJ3MgV0dTODQgY29vcmRpbmF0ZXMuICBUaGUgbW9zdCBwcm9taW5lbnQgZXhhbXBsZSBpc1xuICogYSBwcmltaXRpdmVzIDxjb2RlPm1vZGVsTWF0cml4PC9jb2RlPi5cbiAqIDxwPlxuICogVGhlIFggYXhpcyBpcyByZWQ7IFkgaXMgZ3JlZW47IGFuZCBaIGlzIGJsdWUuXG4gKiA8L3A+XG4gKiA8cD5cbiAqIFRoaXMgaXMgZm9yIGRlYnVnZ2luZyBvbmx5OyBpdCBpcyBub3Qgb3B0aW1pemVkIGZvciBwcm9kdWN0aW9uIHVzZS5cbiAqIDwvcD5cbiAqXG4gKiBAYWxpYXMgRGVidWdNb2RlbE1hdHJpeFByaW1pdGl2ZVxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVuZ3RoPTEwMDAwMDAwLjBdIFRoZSBsZW5ndGggb2YgdGhlIGF4ZXMgaW4gbWV0ZXJzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoPTIuMF0gVGhlIHdpZHRoIG9mIHRoZSBheGVzIGluIHBpeGVscy5cbiAqIEBwYXJhbSB7TWF0cml4NH0gW29wdGlvbnMubW9kZWxNYXRyaXg9TWF0cml4NC5JREVOVElUWV0gVGhlIDR4NCBtYXRyaXggdGhhdCBkZWZpbmVzIHRoZSByZWZlcmVuY2UgZnJhbWUsIGkuZS4sIG9yaWdpbiBwbHVzIGF4ZXMsIHRvIHZpc3VhbGl6ZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2hvdz10cnVlXSBEZXRlcm1pbmVzIGlmIHRoaXMgcHJpbWl0aXZlIHdpbGwgYmUgc2hvd24uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaWRdIEEgdXNlci1kZWZpbmVkIG9iamVjdCB0byByZXR1cm4gd2hlbiB0aGUgaW5zdGFuY2UgaXMgcGlja2VkIHdpdGgge0BsaW5rIFNjZW5lI3BpY2t9XG4gKlxuICogQGV4YW1wbGVcbiAqIHByaW1pdGl2ZXMuYWRkKG5ldyBDZXNpdW0uRGVidWdNb2RlbE1hdHJpeFByaW1pdGl2ZSh7XG4gKiAgIG1vZGVsTWF0cml4IDogcHJpbWl0aXZlLm1vZGVsTWF0cml4LCAgLy8gcHJpbWl0aXZlIHRvIGRlYnVnXG4gKiAgIGxlbmd0aCA6IDEwMDAwMC4wLFxuICogICB3aWR0aCA6IDEwLjBcbiAqIH0pKTtcbiAqL1xuZnVuY3Rpb24gRGVidWdNb2RlbE1hdHJpeFByaW1pdGl2ZShvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLyoqXG4gICAqIFRoZSBsZW5ndGggb2YgdGhlIGF4ZXMgaW4gbWV0ZXJzLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxMDAwMDAwMC4wXG4gICAqL1xuICB0aGlzLmxlbmd0aCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmxlbmd0aCwgMTAwMDAwMDAuMCk7XG4gIHRoaXMuX2xlbmd0aCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIHdpZHRoIG9mIHRoZSBheGVzIGluIHBpeGVscy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGRlZmF1bHQgMi4wXG4gICAqL1xuICB0aGlzLndpZHRoID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMud2lkdGgsIDIuMCk7XG4gIHRoaXMuX3dpZHRoID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoaXMgcHJpbWl0aXZlIHdpbGwgYmUgc2hvd24uXG4gICAqXG4gICAqIEB0eXBlIEJvb2xlYW5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5zaG93ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuc2hvdywgdHJ1ZSk7XG5cbiAgLyoqXG4gICAqIFRoZSA0eDQgbWF0cml4IHRoYXQgZGVmaW5lcyB0aGUgcmVmZXJlbmNlIGZyYW1lLCBpLmUuLCBvcmlnaW4gcGx1cyBheGVzLCB0byB2aXN1YWxpemUuXG4gICAqXG4gICAqIEB0eXBlIHtNYXRyaXg0fVxuICAgKiBAZGVmYXVsdCB7QGxpbmsgTWF0cml4NC5JREVOVElUWX1cbiAgICovXG4gIHRoaXMubW9kZWxNYXRyaXggPSBNYXRyaXg0LmNsb25lKFxuICAgIGRlZmF1bHRWYWx1ZShvcHRpb25zLm1vZGVsTWF0cml4LCBNYXRyaXg0LklERU5USVRZKVxuICApO1xuICB0aGlzLl9tb2RlbE1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG5cbiAgLyoqXG4gICAqIFVzZXItZGVmaW5lZCB2YWx1ZSByZXR1cm5lZCB3aGVuIHRoZSBwcmltaXRpdmUgaXMgcGlja2VkLlxuICAgKlxuICAgKiBAdHlwZSB7Kn1cbiAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAqXG4gICAqIEBzZWUgU2NlbmUjcGlja1xuICAgKi9cbiAgdGhpcy5pZCA9IG9wdGlvbnMuaWQ7XG4gIHRoaXMuX2lkID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX3ByaW1pdGl2ZSA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EZWJ1Z01vZGVsTWF0cml4UHJpbWl0aXZlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICBpZiAoIXRoaXMuc2hvdykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChcbiAgICAhZGVmaW5lZCh0aGlzLl9wcmltaXRpdmUpIHx8XG4gICAgIU1hdHJpeDQuZXF1YWxzKHRoaXMuX21vZGVsTWF0cml4LCB0aGlzLm1vZGVsTWF0cml4KSB8fFxuICAgIHRoaXMuX2xlbmd0aCAhPT0gdGhpcy5sZW5ndGggfHxcbiAgICB0aGlzLl93aWR0aCAhPT0gdGhpcy53aWR0aCB8fFxuICAgIHRoaXMuX2lkICE9PSB0aGlzLmlkXG4gICkge1xuICAgIHRoaXMuX21vZGVsTWF0cml4ID0gTWF0cml4NC5jbG9uZSh0aGlzLm1vZGVsTWF0cml4LCB0aGlzLl9tb2RlbE1hdHJpeCk7XG4gICAgdGhpcy5fbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgdGhpcy5fd2lkdGggPSB0aGlzLndpZHRoO1xuICAgIHRoaXMuX2lkID0gdGhpcy5pZDtcblxuICAgIGlmIChkZWZpbmVkKHRoaXMuX3ByaW1pdGl2ZSkpIHtcbiAgICAgIHRoaXMuX3ByaW1pdGl2ZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLy8gV29ya2Fyb3VuZCBwcm9qZWN0aW5nICgwLCAwLCAwKVxuICAgIGlmIChcbiAgICAgIHRoaXMubW9kZWxNYXRyaXhbMTJdID09PSAwLjAgJiZcbiAgICAgIHRoaXMubW9kZWxNYXRyaXhbMTNdID09PSAwLjAgJiZcbiAgICAgIHRoaXMubW9kZWxNYXRyaXhbMTRdID09PSAwLjBcbiAgICApIHtcbiAgICAgIHRoaXMubW9kZWxNYXRyaXhbMTRdID0gMC4wMTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICAgIGdlb21ldHJ5OiBuZXcgUG9seWxpbmVHZW9tZXRyeSh7XG4gICAgICAgIHBvc2l0aW9uczogW0NhcnRlc2lhbjMuWkVSTywgQ2FydGVzaWFuMy5VTklUX1hdLFxuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgdmVydGV4Rm9ybWF0OiBQb2x5bGluZUNvbG9yQXBwZWFyYW5jZS5WRVJURVhfRk9STUFULFxuICAgICAgICBjb2xvcnM6IFtDb2xvci5SRUQsIENvbG9yLlJFRF0sXG4gICAgICAgIGFyY1R5cGU6IEFyY1R5cGUuTk9ORSxcbiAgICAgIH0pLFxuICAgICAgbW9kZWxNYXRyaXg6IE1hdHJpeDQubXVsdGlwbHlCeVVuaWZvcm1TY2FsZShcbiAgICAgICAgdGhpcy5tb2RlbE1hdHJpeCxcbiAgICAgICAgdGhpcy5sZW5ndGgsXG4gICAgICAgIG5ldyBNYXRyaXg0KClcbiAgICAgICksXG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHBpY2tQcmltaXRpdmU6IHRoaXMsXG4gICAgfSk7XG4gICAgdmFyIHkgPSBuZXcgR2VvbWV0cnlJbnN0YW5jZSh7XG4gICAgICBnZW9tZXRyeTogbmV3IFBvbHlsaW5lR2VvbWV0cnkoe1xuICAgICAgICBwb3NpdGlvbnM6IFtDYXJ0ZXNpYW4zLlpFUk8sIENhcnRlc2lhbjMuVU5JVF9ZXSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIHZlcnRleEZvcm1hdDogUG9seWxpbmVDb2xvckFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVCxcbiAgICAgICAgY29sb3JzOiBbQ29sb3IuR1JFRU4sIENvbG9yLkdSRUVOXSxcbiAgICAgICAgYXJjVHlwZTogQXJjVHlwZS5OT05FLFxuICAgICAgfSksXG4gICAgICBtb2RlbE1hdHJpeDogTWF0cml4NC5tdWx0aXBseUJ5VW5pZm9ybVNjYWxlKFxuICAgICAgICB0aGlzLm1vZGVsTWF0cml4LFxuICAgICAgICB0aGlzLmxlbmd0aCxcbiAgICAgICAgbmV3IE1hdHJpeDQoKVxuICAgICAgKSxcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgcGlja1ByaW1pdGl2ZTogdGhpcyxcbiAgICB9KTtcbiAgICB2YXIgeiA9IG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICAgIGdlb21ldHJ5OiBuZXcgUG9seWxpbmVHZW9tZXRyeSh7XG4gICAgICAgIHBvc2l0aW9uczogW0NhcnRlc2lhbjMuWkVSTywgQ2FydGVzaWFuMy5VTklUX1pdLFxuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgdmVydGV4Rm9ybWF0OiBQb2x5bGluZUNvbG9yQXBwZWFyYW5jZS5WRVJURVhfRk9STUFULFxuICAgICAgICBjb2xvcnM6IFtDb2xvci5CTFVFLCBDb2xvci5CTFVFXSxcbiAgICAgICAgYXJjVHlwZTogQXJjVHlwZS5OT05FLFxuICAgICAgfSksXG4gICAgICBtb2RlbE1hdHJpeDogTWF0cml4NC5tdWx0aXBseUJ5VW5pZm9ybVNjYWxlKFxuICAgICAgICB0aGlzLm1vZGVsTWF0cml4LFxuICAgICAgICB0aGlzLmxlbmd0aCxcbiAgICAgICAgbmV3IE1hdHJpeDQoKVxuICAgICAgKSxcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgcGlja1ByaW1pdGl2ZTogdGhpcyxcbiAgICB9KTtcblxuICAgIHRoaXMuX3ByaW1pdGl2ZSA9IG5ldyBQcmltaXRpdmUoe1xuICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IFt4LCB5LCB6XSxcbiAgICAgIGFwcGVhcmFuY2U6IG5ldyBQb2x5bGluZUNvbG9yQXBwZWFyYW5jZSgpLFxuICAgICAgYXN5bmNocm9ub3VzOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuX3ByaW1pdGl2ZS51cGRhdGUoZnJhbWVTdGF0ZSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICogPHA+XG4gKiBJZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLlxuICogPC9wPlxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSA8Y29kZT50cnVlPC9jb2RlPiBpZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkOyBvdGhlcndpc2UsIDxjb2RlPmZhbHNlPC9jb2RlPi5cbiAqXG4gKiBAc2VlIERlYnVnTW9kZWxNYXRyaXhQcmltaXRpdmUjZGVzdHJveVxuICovXG5EZWJ1Z01vZGVsTWF0cml4UHJpbWl0aXZlLnByb3RvdHlwZS5pc0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgV2ViR0wgcmVzb3VyY2VzIGhlbGQgYnkgdGhpcyBvYmplY3QuICBEZXN0cm95aW5nIGFuIG9iamVjdCBhbGxvd3MgZm9yIGRldGVybWluaXN0aWNcbiAqIHJlbGVhc2Ugb2YgV2ViR0wgcmVzb3VyY2VzLCBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gdGhlIGdhcmJhZ2UgY29sbGVjdG9yIHRvIGRlc3Ryb3kgdGhpcyBvYmplY3QuXG4gKiA8cD5cbiAqIE9uY2UgYW4gb2JqZWN0IGlzIGRlc3Ryb3llZCwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkOyBjYWxsaW5nIGFueSBmdW5jdGlvbiBvdGhlciB0aGFuXG4gKiA8Y29kZT5pc0Rlc3Ryb3llZDwvY29kZT4gd2lsbCByZXN1bHQgaW4gYSB7QGxpbmsgRGV2ZWxvcGVyRXJyb3J9IGV4Y2VwdGlvbi4gIFRoZXJlZm9yZSxcbiAqIGFzc2lnbiB0aGUgcmV0dXJuIHZhbHVlICg8Y29kZT51bmRlZmluZWQ8L2NvZGU+KSB0byB0aGUgb2JqZWN0IGFzIGRvbmUgaW4gdGhlIGV4YW1wbGUuXG4gKiA8L3A+XG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IFRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGkuZS4sIGRlc3Ryb3koKSB3YXMgY2FsbGVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBwID0gcCAmJiBwLmRlc3Ryb3koKTtcbiAqXG4gKiBAc2VlIERlYnVnTW9kZWxNYXRyaXhQcmltaXRpdmUjaXNEZXN0cm95ZWRcbiAqL1xuRGVidWdNb2RlbE1hdHJpeFByaW1pdGl2ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fcHJpbWl0aXZlID0gdGhpcy5fcHJpbWl0aXZlICYmIHRoaXMuX3ByaW1pdGl2ZS5kZXN0cm95KCk7XG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IERlYnVnTW9kZWxNYXRyaXhQcmltaXRpdmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///84792\n')},7976:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52200);\n\n\n/**\n * Determines the function used to compare two depths for the depth test.\n *\n * @enum {Number}\n */\nvar DepthFunction = {\n  /**\n   * The depth test never passes.\n   *\n   * @type {Number}\n   * @constant\n   */\n  NEVER: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].NEVER */ .Z.NEVER,\n\n  /**\n   * The depth test passes if the incoming depth is less than the stored depth.\n   *\n   * @type {Number}\n   * @constant\n   */\n  LESS: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].LESS */ .Z.LESS,\n\n  /**\n   * The depth test passes if the incoming depth is equal to the stored depth.\n   *\n   * @type {Number}\n   * @constant\n   */\n  EQUAL: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EQUAL */ .Z.EQUAL,\n\n  /**\n   * The depth test passes if the incoming depth is less than or equal to the stored depth.\n   *\n   * @type {Number}\n   * @constant\n   */\n  LESS_OR_EQUAL: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].LEQUAL */ .Z.LEQUAL,\n\n  /**\n   * The depth test passes if the incoming depth is greater than the stored depth.\n   *\n   * @type {Number}\n   * @constant\n   */\n  GREATER: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].GREATER */ .Z.GREATER,\n\n  /**\n   * The depth test passes if the incoming depth is not equal to the stored depth.\n   *\n   * @type {Number}\n   * @constant\n   */\n  NOT_EQUAL: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].NOTEQUAL */ .Z.NOTEQUAL,\n\n  /**\n   * The depth test passes if the incoming depth is greater than or equal to the stored depth.\n   *\n   * @type {Number}\n   * @constant\n   */\n  GREATER_OR_EQUAL: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].GEQUAL */ .Z.GEQUAL,\n\n  /**\n   * The depth test always passes.\n   *\n   * @type {Number}\n   * @constant\n   */\n  ALWAYS: _Core_WebGLConstants_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ALWAYS */ .Z.ALWAYS,\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(DepthFunction));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzk3Ni5qcyIsIm1hcHBpbmdzIjoiO0FBQXVEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyxvRkFBb0I7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsUUFBUSxrRkFBbUI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyxvRkFBb0I7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsaUJBQWlCLHNGQUFxQjs7QUFFdEM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxXQUFXLHdGQUFzQjs7QUFFakM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxhQUFhLDBGQUF1Qjs7QUFFcEM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxvQkFBb0Isc0ZBQXFCOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVUsc0ZBQXFCO0FBQy9CO0FBQ0EseURBQWUsNEJBQTRCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGVwdGhGdW5jdGlvbi5qcz9hNGI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJHTENvbnN0YW50cyBmcm9tIFwiLi4vQ29yZS9XZWJHTENvbnN0YW50cy5qc1wiO1xuXG4vKipcbiAqIERldGVybWluZXMgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gY29tcGFyZSB0d28gZGVwdGhzIGZvciB0aGUgZGVwdGggdGVzdC5cbiAqXG4gKiBAZW51bSB7TnVtYmVyfVxuICovXG52YXIgRGVwdGhGdW5jdGlvbiA9IHtcbiAgLyoqXG4gICAqIFRoZSBkZXB0aCB0ZXN0IG5ldmVyIHBhc3Nlcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBORVZFUjogV2ViR0xDb25zdGFudHMuTkVWRVIsXG5cbiAgLyoqXG4gICAqIFRoZSBkZXB0aCB0ZXN0IHBhc3NlcyBpZiB0aGUgaW5jb21pbmcgZGVwdGggaXMgbGVzcyB0aGFuIHRoZSBzdG9yZWQgZGVwdGguXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgTEVTUzogV2ViR0xDb25zdGFudHMuTEVTUyxcblxuICAvKipcbiAgICogVGhlIGRlcHRoIHRlc3QgcGFzc2VzIGlmIHRoZSBpbmNvbWluZyBkZXB0aCBpcyBlcXVhbCB0byB0aGUgc3RvcmVkIGRlcHRoLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEVRVUFMOiBXZWJHTENvbnN0YW50cy5FUVVBTCxcblxuICAvKipcbiAgICogVGhlIGRlcHRoIHRlc3QgcGFzc2VzIGlmIHRoZSBpbmNvbWluZyBkZXB0aCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHN0b3JlZCBkZXB0aC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBMRVNTX09SX0VRVUFMOiBXZWJHTENvbnN0YW50cy5MRVFVQUwsXG5cbiAgLyoqXG4gICAqIFRoZSBkZXB0aCB0ZXN0IHBhc3NlcyBpZiB0aGUgaW5jb21pbmcgZGVwdGggaXMgZ3JlYXRlciB0aGFuIHRoZSBzdG9yZWQgZGVwdGguXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgR1JFQVRFUjogV2ViR0xDb25zdGFudHMuR1JFQVRFUixcblxuICAvKipcbiAgICogVGhlIGRlcHRoIHRlc3QgcGFzc2VzIGlmIHRoZSBpbmNvbWluZyBkZXB0aCBpcyBub3QgZXF1YWwgdG8gdGhlIHN0b3JlZCBkZXB0aC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBOT1RfRVFVQUw6IFdlYkdMQ29uc3RhbnRzLk5PVEVRVUFMLFxuXG4gIC8qKlxuICAgKiBUaGUgZGVwdGggdGVzdCBwYXNzZXMgaWYgdGhlIGluY29taW5nIGRlcHRoIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgc3RvcmVkIGRlcHRoLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEdSRUFURVJfT1JfRVFVQUw6IFdlYkdMQ29uc3RhbnRzLkdFUVVBTCxcblxuICAvKipcbiAgICogVGhlIGRlcHRoIHRlc3QgYWx3YXlzIHBhc3Nlcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBBTFdBWVM6IFdlYkdMQ29uc3RhbnRzLkFMV0FZUyxcbn07XG5leHBvcnQgZGVmYXVsdCBPYmplY3QuZnJlZXplKERlcHRoRnVuY3Rpb24pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7976\n')},47056:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48243);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_ComponentDatatype_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(84828);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(82982);\n/* harmony import */ var _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(96037);\n/* harmony import */ var _Core_Geometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82408);\n/* harmony import */ var _Core_GeometryAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(13616);\n/* harmony import */ var _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(91473);\n/* harmony import */ var _Core_PrimitiveType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(97264);\n/* harmony import */ var _Renderer_BufferUsage_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(58597);\n/* harmony import */ var _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(60072);\n/* harmony import */ var _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(8379);\n/* harmony import */ var _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(10667);\n/* harmony import */ var _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(46588);\n/* harmony import */ var _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(53642);\n/* harmony import */ var _Renderer_VertexArray_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(18192);\n/* harmony import */ var _Shaders_DepthPlaneFS_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(10135);\n/* harmony import */ var _Shaders_DepthPlaneVS_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(39774);\n/* harmony import */ var _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(89917);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @private\n */\nfunction DepthPlane() {\n  this._rs = undefined;\n  this._sp = undefined;\n  this._va = undefined;\n  this._command = undefined;\n  this._mode = undefined;\n  this._useLogDepth = false;\n}\n\nvar depthQuadScratch = _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].supportsTypedArrays */ .Z.supportsTypedArrays()\n  ? new Float32Array(12)\n  : [];\nvar scratchCartesian1 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchCartesian2 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchCartesian3 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchCartesian4 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchCartesian5 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\nfunction computeDepthQuad(ellipsoid, frameState) {\n  var radii = ellipsoid.radii;\n  var camera = frameState.camera;\n  var center, eastOffset, northOffset;\n\n  if (camera.frustum instanceof _Core_OrthographicFrustum_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z) {\n    center = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO;\n    eastOffset = camera.rightWC;\n    northOffset = camera.upWC;\n  } else {\n    var p = camera.positionWC;\n\n    // Find the corresponding position in the scaled space of the ellipsoid.\n    var q = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyComponents */ .Z.multiplyComponents(\n      ellipsoid.oneOverRadii,\n      p,\n      scratchCartesian1\n    );\n\n    var qUnit = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(q, scratchCartesian2);\n\n    // Determine the east and north directions at q.\n    var eUnit = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].UNIT_Z */ .Z.UNIT_Z, q, scratchCartesian3),\n      scratchCartesian3\n    );\n    var nUnit = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(qUnit, eUnit, scratchCartesian4),\n      scratchCartesian4\n    );\n\n    var qMagnitude = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].magnitude */ .Z.magnitude(q);\n\n    // Determine the radius of the \'limb\' of the ellipsoid.\n    var wMagnitude = Math.sqrt(qMagnitude * qMagnitude - 1.0);\n\n    // Compute the center and offsets.\n    center = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      qUnit,\n      1.0 / qMagnitude,\n      scratchCartesian1\n    );\n    var scalar = wMagnitude / qMagnitude;\n    eastOffset = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(eUnit, scalar, scratchCartesian2);\n    northOffset = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(nUnit, scalar, scratchCartesian3);\n  }\n\n  // A conservative measure for the longitudes would be to use the min/max longitudes of the bounding frustum.\n  var upperLeft = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].add */ .Z.add(center, northOffset, scratchCartesian5);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(upperLeft, eastOffset, upperLeft);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyComponents */ .Z.multiplyComponents(radii, upperLeft, upperLeft);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].pack */ .Z.pack(upperLeft, depthQuadScratch, 0);\n\n  var lowerLeft = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(center, northOffset, scratchCartesian5);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(lowerLeft, eastOffset, lowerLeft);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyComponents */ .Z.multiplyComponents(radii, lowerLeft, lowerLeft);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].pack */ .Z.pack(lowerLeft, depthQuadScratch, 3);\n\n  var upperRight = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].add */ .Z.add(center, northOffset, scratchCartesian5);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].add */ .Z.add(upperRight, eastOffset, upperRight);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyComponents */ .Z.multiplyComponents(radii, upperRight, upperRight);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].pack */ .Z.pack(upperRight, depthQuadScratch, 6);\n\n  var lowerRight = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(center, northOffset, scratchCartesian5);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].add */ .Z.add(lowerRight, eastOffset, lowerRight);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyComponents */ .Z.multiplyComponents(radii, lowerRight, lowerRight);\n  _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].pack */ .Z.pack(lowerRight, depthQuadScratch, 9);\n\n  return depthQuadScratch;\n}\n\nDepthPlane.prototype.update = function (frameState) {\n  this._mode = frameState.mode;\n  if (frameState.mode !== _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D) {\n    return;\n  }\n\n  var context = frameState.context;\n  var ellipsoid = frameState.mapProjection.ellipsoid;\n  var useLogDepth = frameState.useLogDepth;\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._command)) {\n    this._rs = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].fromCache */ .Z.fromCache({\n      // Write depth, not color\n      cull: {\n        enabled: true,\n      },\n      depthTest: {\n        enabled: true,\n      },\n      colorMask: {\n        red: false,\n        green: false,\n        blue: false,\n        alpha: false,\n      },\n    });\n\n    this._command = new _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n      renderState: this._rs,\n      boundingVolume: new _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(\n        _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO,\n        ellipsoid.maximumRadius\n      ),\n      pass: _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].OPAQUE */ .Z.OPAQUE,\n      owner: this,\n    });\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._sp) || this._useLogDepth !== useLogDepth) {\n    this._useLogDepth = useLogDepth;\n\n    var vs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n      sources: [_Shaders_DepthPlaneVS_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z],\n    });\n    var fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z({\n      sources: [_Shaders_DepthPlaneFS_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z],\n    });\n    if (useLogDepth) {\n      var extension =\n        "#ifdef GL_EXT_frag_depth \\n" +\n        "#extension GL_EXT_frag_depth : enable \\n" +\n        "#endif \\n\\n";\n\n      fs.sources.push(extension);\n      fs.defines.push("LOG_DEPTH");\n      vs.defines.push("LOG_DEPTH");\n    }\n\n    this._sp = _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].replaceCache */ .Z.replaceCache({\n      shaderProgram: this._sp,\n      context: context,\n      vertexShaderSource: vs,\n      fragmentShaderSource: fs,\n      attributeLocations: {\n        position: 0,\n      },\n    });\n\n    this._command.shaderProgram = this._sp;\n  }\n\n  // update depth plane\n  var depthQuad = computeDepthQuad(ellipsoid, frameState);\n\n  // depth plane\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z)(this._va)) {\n    var geometry = new _Core_Geometry_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n      attributes: {\n        position: new _Core_GeometryAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n          componentDatatype: _Core_ComponentDatatype_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].FLOAT */ .Z.FLOAT,\n          componentsPerAttribute: 3,\n          values: depthQuad,\n        }),\n      },\n      indices: [0, 1, 2, 2, 1, 3],\n      primitiveType: _Core_PrimitiveType_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].TRIANGLES */ .Z.TRIANGLES,\n    });\n\n    this._va = _Renderer_VertexArray_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].fromGeometry */ .Z.fromGeometry({\n      context: context,\n      geometry: geometry,\n      attributeLocations: {\n        position: 0,\n      },\n      bufferUsage: _Renderer_BufferUsage_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].DYNAMIC_DRAW */ .Z.DYNAMIC_DRAW,\n    });\n\n    this._command.vertexArray = this._va;\n  } else {\n    this._va.getAttribute(0).vertexBuffer.copyFromArrayView(depthQuad);\n  }\n};\n\nDepthPlane.prototype.execute = function (context, passState) {\n  if (this._mode === _SceneMode_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].SCENE3D */ .Z.SCENE3D) {\n    this._command.execute(context, passState);\n  }\n};\n\nDepthPlane.prototype.isDestroyed = function () {\n  return false;\n};\n\nDepthPlane.prototype.destroy = function () {\n  this._sp = this._sp && this._sp.destroy();\n  this._va = this._va && this._va.destroy();\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DepthPlane);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUdBQXdCO0FBQzNDLEtBQUs7O0FBRUw7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLCtFQUFpQjtBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsVUFBVSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL0RlcHRoUGxhbmUuanM/NDZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm91bmRpbmdTcGhlcmUgZnJvbSBcIi4uL0NvcmUvQm91bmRpbmdTcGhlcmUuanNcIjtcbmltcG9ydCBDYXJ0ZXNpYW4zIGZyb20gXCIuLi9Db3JlL0NhcnRlc2lhbjMuanNcIjtcbmltcG9ydCBDb21wb25lbnREYXRhdHlwZSBmcm9tIFwiLi4vQ29yZS9Db21wb25lbnREYXRhdHlwZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IEZlYXR1cmVEZXRlY3Rpb24gZnJvbSBcIi4uL0NvcmUvRmVhdHVyZURldGVjdGlvbi5qc1wiO1xuaW1wb3J0IEdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL0dlb21ldHJ5LmpzXCI7XG5pbXBvcnQgR2VvbWV0cnlBdHRyaWJ1dGUgZnJvbSBcIi4uL0NvcmUvR2VvbWV0cnlBdHRyaWJ1dGUuanNcIjtcbmltcG9ydCBPcnRob2dyYXBoaWNGcnVzdHVtIGZyb20gXCIuLi9Db3JlL09ydGhvZ3JhcGhpY0ZydXN0dW0uanNcIjtcbmltcG9ydCBQcmltaXRpdmVUeXBlIGZyb20gXCIuLi9Db3JlL1ByaW1pdGl2ZVR5cGUuanNcIjtcbmltcG9ydCBCdWZmZXJVc2FnZSBmcm9tIFwiLi4vUmVuZGVyZXIvQnVmZmVyVXNhZ2UuanNcIjtcbmltcG9ydCBEcmF3Q29tbWFuZCBmcm9tIFwiLi4vUmVuZGVyZXIvRHJhd0NvbW1hbmQuanNcIjtcbmltcG9ydCBQYXNzIGZyb20gXCIuLi9SZW5kZXJlci9QYXNzLmpzXCI7XG5pbXBvcnQgUmVuZGVyU3RhdGUgZnJvbSBcIi4uL1JlbmRlcmVyL1JlbmRlclN0YXRlLmpzXCI7XG5pbXBvcnQgU2hhZGVyUHJvZ3JhbSBmcm9tIFwiLi4vUmVuZGVyZXIvU2hhZGVyUHJvZ3JhbS5qc1wiO1xuaW1wb3J0IFNoYWRlclNvdXJjZSBmcm9tIFwiLi4vUmVuZGVyZXIvU2hhZGVyU291cmNlLmpzXCI7XG5pbXBvcnQgVmVydGV4QXJyYXkgZnJvbSBcIi4uL1JlbmRlcmVyL1ZlcnRleEFycmF5LmpzXCI7XG5pbXBvcnQgRGVwdGhQbGFuZUZTIGZyb20gXCIuLi9TaGFkZXJzL0RlcHRoUGxhbmVGUy5qc1wiO1xuaW1wb3J0IERlcHRoUGxhbmVWUyBmcm9tIFwiLi4vU2hhZGVycy9EZXB0aFBsYW5lVlMuanNcIjtcbmltcG9ydCBTY2VuZU1vZGUgZnJvbSBcIi4vU2NlbmVNb2RlLmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRGVwdGhQbGFuZSgpIHtcbiAgdGhpcy5fcnMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NwID0gdW5kZWZpbmVkO1xuICB0aGlzLl92YSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fY29tbWFuZCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbW9kZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdXNlTG9nRGVwdGggPSBmYWxzZTtcbn1cblxudmFyIGRlcHRoUXVhZFNjcmF0Y2ggPSBGZWF0dXJlRGV0ZWN0aW9uLnN1cHBvcnRzVHlwZWRBcnJheXMoKVxuICA/IG5ldyBGbG9hdDMyQXJyYXkoMTIpXG4gIDogW107XG52YXIgc2NyYXRjaENhcnRlc2lhbjEgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hDYXJ0ZXNpYW4yID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBzY3JhdGNoQ2FydGVzaWFuMyA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgc2NyYXRjaENhcnRlc2lhbjQgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hDYXJ0ZXNpYW41ID0gbmV3IENhcnRlc2lhbjMoKTtcblxuZnVuY3Rpb24gY29tcHV0ZURlcHRoUXVhZChlbGxpcHNvaWQsIGZyYW1lU3RhdGUpIHtcbiAgdmFyIHJhZGlpID0gZWxsaXBzb2lkLnJhZGlpO1xuICB2YXIgY2FtZXJhID0gZnJhbWVTdGF0ZS5jYW1lcmE7XG4gIHZhciBjZW50ZXIsIGVhc3RPZmZzZXQsIG5vcnRoT2Zmc2V0O1xuXG4gIGlmIChjYW1lcmEuZnJ1c3R1bSBpbnN0YW5jZW9mIE9ydGhvZ3JhcGhpY0ZydXN0dW0pIHtcbiAgICBjZW50ZXIgPSBDYXJ0ZXNpYW4zLlpFUk87XG4gICAgZWFzdE9mZnNldCA9IGNhbWVyYS5yaWdodFdDO1xuICAgIG5vcnRoT2Zmc2V0ID0gY2FtZXJhLnVwV0M7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHAgPSBjYW1lcmEucG9zaXRpb25XQztcblxuICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24gaW4gdGhlIHNjYWxlZCBzcGFjZSBvZiB0aGUgZWxsaXBzb2lkLlxuICAgIHZhciBxID0gQ2FydGVzaWFuMy5tdWx0aXBseUNvbXBvbmVudHMoXG4gICAgICBlbGxpcHNvaWQub25lT3ZlclJhZGlpLFxuICAgICAgcCxcbiAgICAgIHNjcmF0Y2hDYXJ0ZXNpYW4xXG4gICAgKTtcblxuICAgIHZhciBxVW5pdCA9IENhcnRlc2lhbjMubm9ybWFsaXplKHEsIHNjcmF0Y2hDYXJ0ZXNpYW4yKTtcblxuICAgIC8vIERldGVybWluZSB0aGUgZWFzdCBhbmQgbm9ydGggZGlyZWN0aW9ucyBhdCBxLlxuICAgIHZhciBlVW5pdCA9IENhcnRlc2lhbjMubm9ybWFsaXplKFxuICAgICAgQ2FydGVzaWFuMy5jcm9zcyhDYXJ0ZXNpYW4zLlVOSVRfWiwgcSwgc2NyYXRjaENhcnRlc2lhbjMpLFxuICAgICAgc2NyYXRjaENhcnRlc2lhbjNcbiAgICApO1xuICAgIHZhciBuVW5pdCA9IENhcnRlc2lhbjMubm9ybWFsaXplKFxuICAgICAgQ2FydGVzaWFuMy5jcm9zcyhxVW5pdCwgZVVuaXQsIHNjcmF0Y2hDYXJ0ZXNpYW40KSxcbiAgICAgIHNjcmF0Y2hDYXJ0ZXNpYW40XG4gICAgKTtcblxuICAgIHZhciBxTWFnbml0dWRlID0gQ2FydGVzaWFuMy5tYWduaXR1ZGUocSk7XG5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHJhZGl1cyBvZiB0aGUgJ2xpbWInIG9mIHRoZSBlbGxpcHNvaWQuXG4gICAgdmFyIHdNYWduaXR1ZGUgPSBNYXRoLnNxcnQocU1hZ25pdHVkZSAqIHFNYWduaXR1ZGUgLSAxLjApO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgY2VudGVyIGFuZCBvZmZzZXRzLlxuICAgIGNlbnRlciA9IENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihcbiAgICAgIHFVbml0LFxuICAgICAgMS4wIC8gcU1hZ25pdHVkZSxcbiAgICAgIHNjcmF0Y2hDYXJ0ZXNpYW4xXG4gICAgKTtcbiAgICB2YXIgc2NhbGFyID0gd01hZ25pdHVkZSAvIHFNYWduaXR1ZGU7XG4gICAgZWFzdE9mZnNldCA9IENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihlVW5pdCwgc2NhbGFyLCBzY3JhdGNoQ2FydGVzaWFuMik7XG4gICAgbm9ydGhPZmZzZXQgPSBDYXJ0ZXNpYW4zLm11bHRpcGx5QnlTY2FsYXIoblVuaXQsIHNjYWxhciwgc2NyYXRjaENhcnRlc2lhbjMpO1xuICB9XG5cbiAgLy8gQSBjb25zZXJ2YXRpdmUgbWVhc3VyZSBmb3IgdGhlIGxvbmdpdHVkZXMgd291bGQgYmUgdG8gdXNlIHRoZSBtaW4vbWF4IGxvbmdpdHVkZXMgb2YgdGhlIGJvdW5kaW5nIGZydXN0dW0uXG4gIHZhciB1cHBlckxlZnQgPSBDYXJ0ZXNpYW4zLmFkZChjZW50ZXIsIG5vcnRoT2Zmc2V0LCBzY3JhdGNoQ2FydGVzaWFuNSk7XG4gIENhcnRlc2lhbjMuc3VidHJhY3QodXBwZXJMZWZ0LCBlYXN0T2Zmc2V0LCB1cHBlckxlZnQpO1xuICBDYXJ0ZXNpYW4zLm11bHRpcGx5Q29tcG9uZW50cyhyYWRpaSwgdXBwZXJMZWZ0LCB1cHBlckxlZnQpO1xuICBDYXJ0ZXNpYW4zLnBhY2sodXBwZXJMZWZ0LCBkZXB0aFF1YWRTY3JhdGNoLCAwKTtcblxuICB2YXIgbG93ZXJMZWZ0ID0gQ2FydGVzaWFuMy5zdWJ0cmFjdChjZW50ZXIsIG5vcnRoT2Zmc2V0LCBzY3JhdGNoQ2FydGVzaWFuNSk7XG4gIENhcnRlc2lhbjMuc3VidHJhY3QobG93ZXJMZWZ0LCBlYXN0T2Zmc2V0LCBsb3dlckxlZnQpO1xuICBDYXJ0ZXNpYW4zLm11bHRpcGx5Q29tcG9uZW50cyhyYWRpaSwgbG93ZXJMZWZ0LCBsb3dlckxlZnQpO1xuICBDYXJ0ZXNpYW4zLnBhY2sobG93ZXJMZWZ0LCBkZXB0aFF1YWRTY3JhdGNoLCAzKTtcblxuICB2YXIgdXBwZXJSaWdodCA9IENhcnRlc2lhbjMuYWRkKGNlbnRlciwgbm9ydGhPZmZzZXQsIHNjcmF0Y2hDYXJ0ZXNpYW41KTtcbiAgQ2FydGVzaWFuMy5hZGQodXBwZXJSaWdodCwgZWFzdE9mZnNldCwgdXBwZXJSaWdodCk7XG4gIENhcnRlc2lhbjMubXVsdGlwbHlDb21wb25lbnRzKHJhZGlpLCB1cHBlclJpZ2h0LCB1cHBlclJpZ2h0KTtcbiAgQ2FydGVzaWFuMy5wYWNrKHVwcGVyUmlnaHQsIGRlcHRoUXVhZFNjcmF0Y2gsIDYpO1xuXG4gIHZhciBsb3dlclJpZ2h0ID0gQ2FydGVzaWFuMy5zdWJ0cmFjdChjZW50ZXIsIG5vcnRoT2Zmc2V0LCBzY3JhdGNoQ2FydGVzaWFuNSk7XG4gIENhcnRlc2lhbjMuYWRkKGxvd2VyUmlnaHQsIGVhc3RPZmZzZXQsIGxvd2VyUmlnaHQpO1xuICBDYXJ0ZXNpYW4zLm11bHRpcGx5Q29tcG9uZW50cyhyYWRpaSwgbG93ZXJSaWdodCwgbG93ZXJSaWdodCk7XG4gIENhcnRlc2lhbjMucGFjayhsb3dlclJpZ2h0LCBkZXB0aFF1YWRTY3JhdGNoLCA5KTtcblxuICByZXR1cm4gZGVwdGhRdWFkU2NyYXRjaDtcbn1cblxuRGVwdGhQbGFuZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZyYW1lU3RhdGUpIHtcbiAgdGhpcy5fbW9kZSA9IGZyYW1lU3RhdGUubW9kZTtcbiAgaWYgKGZyYW1lU3RhdGUubW9kZSAhPT0gU2NlbmVNb2RlLlNDRU5FM0QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY29udGV4dCA9IGZyYW1lU3RhdGUuY29udGV4dDtcbiAgdmFyIGVsbGlwc29pZCA9IGZyYW1lU3RhdGUubWFwUHJvamVjdGlvbi5lbGxpcHNvaWQ7XG4gIHZhciB1c2VMb2dEZXB0aCA9IGZyYW1lU3RhdGUudXNlTG9nRGVwdGg7XG5cbiAgaWYgKCFkZWZpbmVkKHRoaXMuX2NvbW1hbmQpKSB7XG4gICAgdGhpcy5fcnMgPSBSZW5kZXJTdGF0ZS5mcm9tQ2FjaGUoe1xuICAgICAgLy8gV3JpdGUgZGVwdGgsIG5vdCBjb2xvclxuICAgICAgY3VsbDoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGRlcHRoVGVzdDoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGNvbG9yTWFzazoge1xuICAgICAgICByZWQ6IGZhbHNlLFxuICAgICAgICBncmVlbjogZmFsc2UsXG4gICAgICAgIGJsdWU6IGZhbHNlLFxuICAgICAgICBhbHBoYTogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5fY29tbWFuZCA9IG5ldyBEcmF3Q29tbWFuZCh7XG4gICAgICByZW5kZXJTdGF0ZTogdGhpcy5fcnMsXG4gICAgICBib3VuZGluZ1ZvbHVtZTogbmV3IEJvdW5kaW5nU3BoZXJlKFxuICAgICAgICBDYXJ0ZXNpYW4zLlpFUk8sXG4gICAgICAgIGVsbGlwc29pZC5tYXhpbXVtUmFkaXVzXG4gICAgICApLFxuICAgICAgcGFzczogUGFzcy5PUEFRVUUsXG4gICAgICBvd25lcjogdGhpcyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICghZGVmaW5lZCh0aGlzLl9zcCkgfHwgdGhpcy5fdXNlTG9nRGVwdGggIT09IHVzZUxvZ0RlcHRoKSB7XG4gICAgdGhpcy5fdXNlTG9nRGVwdGggPSB1c2VMb2dEZXB0aDtcblxuICAgIHZhciB2cyA9IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgc291cmNlczogW0RlcHRoUGxhbmVWU10sXG4gICAgfSk7XG4gICAgdmFyIGZzID0gbmV3IFNoYWRlclNvdXJjZSh7XG4gICAgICBzb3VyY2VzOiBbRGVwdGhQbGFuZUZTXSxcbiAgICB9KTtcbiAgICBpZiAodXNlTG9nRGVwdGgpIHtcbiAgICAgIHZhciBleHRlbnNpb24gPVxuICAgICAgICBcIiNpZmRlZiBHTF9FWFRfZnJhZ19kZXB0aCBcXG5cIiArXG4gICAgICAgIFwiI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZSBcXG5cIiArXG4gICAgICAgIFwiI2VuZGlmIFxcblxcblwiO1xuXG4gICAgICBmcy5zb3VyY2VzLnB1c2goZXh0ZW5zaW9uKTtcbiAgICAgIGZzLmRlZmluZXMucHVzaChcIkxPR19ERVBUSFwiKTtcbiAgICAgIHZzLmRlZmluZXMucHVzaChcIkxPR19ERVBUSFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zcCA9IFNoYWRlclByb2dyYW0ucmVwbGFjZUNhY2hlKHtcbiAgICAgIHNoYWRlclByb2dyYW06IHRoaXMuX3NwLFxuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIHZlcnRleFNoYWRlclNvdXJjZTogdnMsXG4gICAgICBmcmFnbWVudFNoYWRlclNvdXJjZTogZnMsXG4gICAgICBhdHRyaWJ1dGVMb2NhdGlvbnM6IHtcbiAgICAgICAgcG9zaXRpb246IDAsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5fY29tbWFuZC5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc3A7XG4gIH1cblxuICAvLyB1cGRhdGUgZGVwdGggcGxhbmVcbiAgdmFyIGRlcHRoUXVhZCA9IGNvbXB1dGVEZXB0aFF1YWQoZWxsaXBzb2lkLCBmcmFtZVN0YXRlKTtcblxuICAvLyBkZXB0aCBwbGFuZVxuICBpZiAoIWRlZmluZWQodGhpcy5fdmEpKSB7XG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KHtcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgcG9zaXRpb246IG5ldyBHZW9tZXRyeUF0dHJpYnV0ZSh7XG4gICAgICAgICAgY29tcG9uZW50RGF0YXR5cGU6IENvbXBvbmVudERhdGF0eXBlLkZMT0FULFxuICAgICAgICAgIGNvbXBvbmVudHNQZXJBdHRyaWJ1dGU6IDMsXG4gICAgICAgICAgdmFsdWVzOiBkZXB0aFF1YWQsXG4gICAgICAgIH0pLFxuICAgICAgfSxcbiAgICAgIGluZGljZXM6IFswLCAxLCAyLCAyLCAxLCAzXSxcbiAgICAgIHByaW1pdGl2ZVR5cGU6IFByaW1pdGl2ZVR5cGUuVFJJQU5HTEVTLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fdmEgPSBWZXJ0ZXhBcnJheS5mcm9tR2VvbWV0cnkoe1xuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgIGF0dHJpYnV0ZUxvY2F0aW9uczoge1xuICAgICAgICBwb3NpdGlvbjogMCxcbiAgICAgIH0sXG4gICAgICBidWZmZXJVc2FnZTogQnVmZmVyVXNhZ2UuRFlOQU1JQ19EUkFXLFxuICAgIH0pO1xuXG4gICAgdGhpcy5fY29tbWFuZC52ZXJ0ZXhBcnJheSA9IHRoaXMuX3ZhO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX3ZhLmdldEF0dHJpYnV0ZSgwKS52ZXJ0ZXhCdWZmZXIuY29weUZyb21BcnJheVZpZXcoZGVwdGhRdWFkKTtcbiAgfVxufTtcblxuRGVwdGhQbGFuZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYXNzU3RhdGUpIHtcbiAgaWYgKHRoaXMuX21vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTNEKSB7XG4gICAgdGhpcy5fY29tbWFuZC5leGVjdXRlKGNvbnRleHQsIHBhc3NTdGF0ZSk7XG4gIH1cbn07XG5cbkRlcHRoUGxhbmUucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG5EZXB0aFBsYW5lLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9zcCA9IHRoaXMuX3NwICYmIHRoaXMuX3NwLmRlc3Ryb3koKTtcbiAgdGhpcy5fdmEgPSB0aGlzLl92YSAmJiB0aGlzLl92YS5kZXN0cm95KCk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRGVwdGhQbGFuZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47056\n')},999:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82982);\n/* harmony import */ var _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60072);\n/* harmony import */ var _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10667);\n/* harmony import */ var _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(53642);\n\n\n\n\n\n/**\n * @private\n */\nfunction DerivedCommand() {}\n\nvar fragDepthRegex = /\\bgl_FragDepthEXT\\b/;\nvar discardRegex = /\\bdiscard\\b/;\n\nfunction getDepthOnlyShaderProgram(context, shaderProgram) {\n  var shader = context.shaderCache.getDerivedShaderProgram(\n    shaderProgram,\n    "depthOnly"\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader)) {\n    var attributeLocations = shaderProgram._attributeLocations;\n    var fs = shaderProgram.fragmentShaderSource;\n\n    var i;\n    var writesDepthOrDiscards = false;\n    var sources = fs.sources;\n    var length = sources.length;\n    for (i = 0; i < length; ++i) {\n      if (fragDepthRegex.test(sources[i]) || discardRegex.test(sources[i])) {\n        writesDepthOrDiscards = true;\n        break;\n      }\n    }\n\n    var usesLogDepth = false;\n    var defines = fs.defines;\n    length = defines.length;\n    for (i = 0; i < length; ++i) {\n      if (defines[i] === "LOG_DEPTH") {\n        usesLogDepth = true;\n        break;\n      }\n    }\n\n    var source;\n    if (!writesDepthOrDiscards && !usesLogDepth) {\n      source =\n        "void main() \\n" + "{ \\n" + "    gl_FragColor = vec4(1.0); \\n" + "} \\n";\n      fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z({\n        sources: [source],\n      });\n    } else if (!writesDepthOrDiscards && usesLogDepth) {\n      source =\n        "#ifdef GL_EXT_frag_depth \\n" +\n        "#extension GL_EXT_frag_depth : enable \\n" +\n        "#endif \\n\\n" +\n        "void main() \\n" +\n        "{ \\n" +\n        "    gl_FragColor = vec4(1.0); \\n" +\n        "    czm_writeLogDepth(); \\n" +\n        "} \\n";\n      fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z({\n        defines: ["LOG_DEPTH"],\n        sources: [source],\n      });\n    }\n\n    shader = context.shaderCache.createDerivedShaderProgram(\n      shaderProgram,\n      "depthOnly",\n      {\n        vertexShaderSource: shaderProgram.vertexShaderSource,\n        fragmentShaderSource: fs,\n        attributeLocations: attributeLocations,\n      }\n    );\n  }\n\n  return shader;\n}\n\nfunction getDepthOnlyRenderState(scene, renderState) {\n  var cache = scene._depthOnlyRenderStateCache;\n  var depthOnlyState = cache[renderState.id];\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(depthOnlyState)) {\n    var rs = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].getState */ .Z.getState(renderState);\n    rs.depthMask = true;\n    rs.colorMask = {\n      red: false,\n      green: false,\n      blue: false,\n      alpha: false,\n    };\n\n    depthOnlyState = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromCache */ .Z.fromCache(rs);\n    cache[renderState.id] = depthOnlyState;\n  }\n\n  return depthOnlyState;\n}\n\nDerivedCommand.createDepthOnlyDerivedCommand = function (\n  scene,\n  command,\n  context,\n  result\n) {\n  // For a depth only pass, we bind a framebuffer with only a depth attachment (no color attachments),\n  // do not write color, and write depth. If the fragment shader doesn\'t modify the fragment depth\n  // or discard, the driver can replace the fragment shader with a pass-through shader. We\'re unsure if this\n  // actually happens so we modify the shader to use a pass-through fragment shader.\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result)) {\n    result = {};\n  }\n\n  var shader;\n  var renderState;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result.depthOnlyCommand)) {\n    shader = result.depthOnlyCommand.shaderProgram;\n    renderState = result.depthOnlyCommand.renderState;\n  }\n\n  result.depthOnlyCommand = _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].shallowClone */ .Z.shallowClone(\n    command,\n    result.depthOnlyCommand\n  );\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader) || result.shaderProgramId !== command.shaderProgram.id) {\n    result.depthOnlyCommand.shaderProgram = getDepthOnlyShaderProgram(\n      context,\n      command.shaderProgram\n    );\n    result.depthOnlyCommand.renderState = getDepthOnlyRenderState(\n      scene,\n      command.renderState\n    );\n    result.shaderProgramId = command.shaderProgram.id;\n  } else {\n    result.depthOnlyCommand.shaderProgram = shader;\n    result.depthOnlyCommand.renderState = renderState;\n  }\n\n  return result;\n};\n\nvar writeLogDepthRegex = /\\s+czm_writeLogDepth\\(/;\nvar vertexlogDepthRegex = /\\s+czm_vertexLogDepth\\(/;\nvar extensionRegex = /\\s*#extension\\s+GL_EXT_frag_depth\\s*:\\s*enable/;\n\nfunction getLogDepthShaderProgram(context, shaderProgram) {\n  var shader = context.shaderCache.getDerivedShaderProgram(\n    shaderProgram,\n    "logDepth"\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader)) {\n    var attributeLocations = shaderProgram._attributeLocations;\n    var vs = shaderProgram.vertexShaderSource.clone();\n    var fs = shaderProgram.fragmentShaderSource.clone();\n\n    vs.defines = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(vs.defines) ? vs.defines.slice(0) : [];\n    vs.defines.push("LOG_DEPTH");\n    fs.defines = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(fs.defines) ? fs.defines.slice(0) : [];\n    fs.defines.push("LOG_DEPTH");\n\n    var i;\n    var logMain;\n    var writesLogDepth = false;\n    var sources = vs.sources;\n    var length = sources.length;\n    for (i = 0; i < length; ++i) {\n      if (vertexlogDepthRegex.test(sources[i])) {\n        writesLogDepth = true;\n        break;\n      }\n    }\n\n    if (!writesLogDepth) {\n      for (i = 0; i < length; ++i) {\n        sources[i] = _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].replaceMain */ .Z.replaceMain(sources[i], "czm_log_depth_main");\n      }\n\n      logMain =\n        "\\n\\n" +\n        "void main() \\n" +\n        "{ \\n" +\n        "    czm_log_depth_main(); \\n" +\n        "    czm_vertexLogDepth(); \\n" +\n        "} \\n";\n      sources.push(logMain);\n    }\n\n    sources = fs.sources;\n    length = sources.length;\n\n    writesLogDepth = false;\n    for (i = 0; i < length; ++i) {\n      if (writeLogDepthRegex.test(sources[i])) {\n        writesLogDepth = true;\n      }\n    }\n    // This define indicates that a log depth value is written by the shader but doesn\'t use czm_writeLogDepth.\n    if (fs.defines.indexOf("LOG_DEPTH_WRITE") !== -1) {\n      writesLogDepth = true;\n    }\n\n    var addExtension = true;\n    for (i = 0; i < length; ++i) {\n      if (extensionRegex.test(sources[i])) {\n        addExtension = false;\n      }\n    }\n\n    var logSource = "";\n    if (addExtension) {\n      logSource +=\n        "#ifdef GL_EXT_frag_depth \\n" +\n        "#extension GL_EXT_frag_depth : enable \\n" +\n        "#endif \\n\\n";\n    }\n\n    if (!writesLogDepth) {\n      for (i = 0; i < length; i++) {\n        sources[i] = _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].replaceMain */ .Z.replaceMain(sources[i], "czm_log_depth_main");\n      }\n\n      logSource +=\n        "\\n" +\n        "void main() \\n" +\n        "{ \\n" +\n        "    czm_log_depth_main(); \\n" +\n        "    czm_writeLogDepth(); \\n" +\n        "} \\n";\n    }\n\n    sources.push(logSource);\n\n    shader = context.shaderCache.createDerivedShaderProgram(\n      shaderProgram,\n      "logDepth",\n      {\n        vertexShaderSource: vs,\n        fragmentShaderSource: fs,\n        attributeLocations: attributeLocations,\n      }\n    );\n  }\n\n  return shader;\n}\n\nDerivedCommand.createLogDepthCommand = function (command, context, result) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result)) {\n    result = {};\n  }\n\n  var shader;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result.command)) {\n    shader = result.command.shaderProgram;\n  }\n\n  result.command = _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].shallowClone */ .Z.shallowClone(command, result.command);\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader) || result.shaderProgramId !== command.shaderProgram.id) {\n    result.command.shaderProgram = getLogDepthShaderProgram(\n      context,\n      command.shaderProgram\n    );\n    result.shaderProgramId = command.shaderProgram.id;\n  } else {\n    result.command.shaderProgram = shader;\n  }\n\n  return result;\n};\n\nfunction getPickShaderProgram(context, shaderProgram, pickId) {\n  var shader = context.shaderCache.getDerivedShaderProgram(\n    shaderProgram,\n    "pick"\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader)) {\n    var attributeLocations = shaderProgram._attributeLocations;\n    var fs = shaderProgram.fragmentShaderSource;\n\n    var sources = fs.sources;\n    var length = sources.length;\n\n    var newMain =\n      "void main() \\n" +\n      "{ \\n" +\n      "    czm_non_pick_main(); \\n" +\n      "    if (gl_FragColor.a == 0.0) { \\n" +\n      "        discard; \\n" +\n      "    } \\n" +\n      "    gl_FragColor = " +\n      pickId +\n      "; \\n" +\n      "} \\n";\n    var newSources = new Array(length + 1);\n    for (var i = 0; i < length; ++i) {\n      newSources[i] = _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].replaceMain */ .Z.replaceMain(sources[i], "czm_non_pick_main");\n    }\n    newSources[length] = newMain;\n    fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z({\n      sources: newSources,\n      defines: fs.defines,\n    });\n    shader = context.shaderCache.createDerivedShaderProgram(\n      shaderProgram,\n      "pick",\n      {\n        vertexShaderSource: shaderProgram.vertexShaderSource,\n        fragmentShaderSource: fs,\n        attributeLocations: attributeLocations,\n      }\n    );\n  }\n\n  return shader;\n}\n\nfunction getPickRenderState(scene, renderState) {\n  var cache = scene.picking.pickRenderStateCache;\n  var pickState = cache[renderState.id];\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(pickState)) {\n    var rs = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].getState */ .Z.getState(renderState);\n    rs.blending.enabled = false;\n\n    // Turns on depth writing for opaque and translucent passes\n    // Overlapping translucent geometry on the globe surface may exhibit z-fighting\n    // during the pick pass which may not match the rendered scene. Once\n    // terrain is on by default and ground primitives are used instead\n    // this will become less of a problem.\n    rs.depthMask = true;\n\n    pickState = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromCache */ .Z.fromCache(rs);\n    cache[renderState.id] = pickState;\n  }\n\n  return pickState;\n}\n\nDerivedCommand.createPickDerivedCommand = function (\n  scene,\n  command,\n  context,\n  result\n) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result)) {\n    result = {};\n  }\n\n  var shader;\n  var renderState;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result.pickCommand)) {\n    shader = result.pickCommand.shaderProgram;\n    renderState = result.pickCommand.renderState;\n  }\n\n  result.pickCommand = _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].shallowClone */ .Z.shallowClone(command, result.pickCommand);\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader) || result.shaderProgramId !== command.shaderProgram.id) {\n    result.pickCommand.shaderProgram = getPickShaderProgram(\n      context,\n      command.shaderProgram,\n      command.pickId\n    );\n    result.pickCommand.renderState = getPickRenderState(\n      scene,\n      command.renderState\n    );\n    result.shaderProgramId = command.shaderProgram.id;\n  } else {\n    result.pickCommand.shaderProgram = shader;\n    result.pickCommand.renderState = renderState;\n  }\n\n  return result;\n};\n\nfunction getHdrShaderProgram(context, shaderProgram) {\n  var shader = context.shaderCache.getDerivedShaderProgram(\n    shaderProgram,\n    "HDR"\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader)) {\n    var attributeLocations = shaderProgram._attributeLocations;\n    var vs = shaderProgram.vertexShaderSource.clone();\n    var fs = shaderProgram.fragmentShaderSource.clone();\n\n    vs.defines = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(vs.defines) ? vs.defines.slice(0) : [];\n    vs.defines.push("HDR");\n    fs.defines = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(fs.defines) ? fs.defines.slice(0) : [];\n    fs.defines.push("HDR");\n\n    shader = context.shaderCache.createDerivedShaderProgram(\n      shaderProgram,\n      "HDR",\n      {\n        vertexShaderSource: vs,\n        fragmentShaderSource: fs,\n        attributeLocations: attributeLocations,\n      }\n    );\n  }\n\n  return shader;\n}\n\nDerivedCommand.createHdrCommand = function (command, context, result) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result)) {\n    result = {};\n  }\n\n  var shader;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(result.command)) {\n    shader = result.command.shaderProgram;\n  }\n\n  result.command = _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].shallowClone */ .Z.shallowClone(command, result.command);\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(shader) || result.shaderProgramId !== command.shaderProgram.id) {\n    result.command.shaderProgram = getHdrShaderProgram(\n      context,\n      command.shaderProgram\n    );\n    result.shaderProgramId = command.shaderProgram.id;\n  } else {\n    result.command.shaderProgram = shader;\n  }\n\n  return result;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DerivedCommand);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTs7QUFFQTtBQUNBO0FBQ0EseURBQWUsY0FBYyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL0Rlcml2ZWRDb21tYW5kLmpzP2EwNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERyYXdDb21tYW5kIGZyb20gXCIuLi9SZW5kZXJlci9EcmF3Q29tbWFuZC5qc1wiO1xuaW1wb3J0IFJlbmRlclN0YXRlIGZyb20gXCIuLi9SZW5kZXJlci9SZW5kZXJTdGF0ZS5qc1wiO1xuaW1wb3J0IFNoYWRlclNvdXJjZSBmcm9tIFwiLi4vUmVuZGVyZXIvU2hhZGVyU291cmNlLmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRGVyaXZlZENvbW1hbmQoKSB7fVxuXG52YXIgZnJhZ0RlcHRoUmVnZXggPSAvXFxiZ2xfRnJhZ0RlcHRoRVhUXFxiLztcbnZhciBkaXNjYXJkUmVnZXggPSAvXFxiZGlzY2FyZFxcYi87XG5cbmZ1bmN0aW9uIGdldERlcHRoT25seVNoYWRlclByb2dyYW0oY29udGV4dCwgc2hhZGVyUHJvZ3JhbSkge1xuICB2YXIgc2hhZGVyID0gY29udGV4dC5zaGFkZXJDYWNoZS5nZXREZXJpdmVkU2hhZGVyUHJvZ3JhbShcbiAgICBzaGFkZXJQcm9ncmFtLFxuICAgIFwiZGVwdGhPbmx5XCJcbiAgKTtcbiAgaWYgKCFkZWZpbmVkKHNoYWRlcikpIHtcbiAgICB2YXIgYXR0cmlidXRlTG9jYXRpb25zID0gc2hhZGVyUHJvZ3JhbS5fYXR0cmlidXRlTG9jYXRpb25zO1xuICAgIHZhciBmcyA9IHNoYWRlclByb2dyYW0uZnJhZ21lbnRTaGFkZXJTb3VyY2U7XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgd3JpdGVzRGVwdGhPckRpc2NhcmRzID0gZmFsc2U7XG4gICAgdmFyIHNvdXJjZXMgPSBmcy5zb3VyY2VzO1xuICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChmcmFnRGVwdGhSZWdleC50ZXN0KHNvdXJjZXNbaV0pIHx8IGRpc2NhcmRSZWdleC50ZXN0KHNvdXJjZXNbaV0pKSB7XG4gICAgICAgIHdyaXRlc0RlcHRoT3JEaXNjYXJkcyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB1c2VzTG9nRGVwdGggPSBmYWxzZTtcbiAgICB2YXIgZGVmaW5lcyA9IGZzLmRlZmluZXM7XG4gICAgbGVuZ3RoID0gZGVmaW5lcy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoZGVmaW5lc1tpXSA9PT0gXCJMT0dfREVQVEhcIikge1xuICAgICAgICB1c2VzTG9nRGVwdGggPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc291cmNlO1xuICAgIGlmICghd3JpdGVzRGVwdGhPckRpc2NhcmRzICYmICF1c2VzTG9nRGVwdGgpIHtcbiAgICAgIHNvdXJjZSA9XG4gICAgICAgIFwidm9pZCBtYWluKCkgXFxuXCIgKyBcInsgXFxuXCIgKyBcIiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCk7IFxcblwiICsgXCJ9IFxcblwiO1xuICAgICAgZnMgPSBuZXcgU2hhZGVyU291cmNlKHtcbiAgICAgICAgc291cmNlczogW3NvdXJjZV0sXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCF3cml0ZXNEZXB0aE9yRGlzY2FyZHMgJiYgdXNlc0xvZ0RlcHRoKSB7XG4gICAgICBzb3VyY2UgPVxuICAgICAgICBcIiNpZmRlZiBHTF9FWFRfZnJhZ19kZXB0aCBcXG5cIiArXG4gICAgICAgIFwiI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZSBcXG5cIiArXG4gICAgICAgIFwiI2VuZGlmIFxcblxcblwiICtcbiAgICAgICAgXCJ2b2lkIG1haW4oKSBcXG5cIiArXG4gICAgICAgIFwieyBcXG5cIiArXG4gICAgICAgIFwiICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wKTsgXFxuXCIgK1xuICAgICAgICBcIiAgICBjem1fd3JpdGVMb2dEZXB0aCgpOyBcXG5cIiArXG4gICAgICAgIFwifSBcXG5cIjtcbiAgICAgIGZzID0gbmV3IFNoYWRlclNvdXJjZSh7XG4gICAgICAgIGRlZmluZXM6IFtcIkxPR19ERVBUSFwiXSxcbiAgICAgICAgc291cmNlczogW3NvdXJjZV0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzaGFkZXIgPSBjb250ZXh0LnNoYWRlckNhY2hlLmNyZWF0ZURlcml2ZWRTaGFkZXJQcm9ncmFtKFxuICAgICAgc2hhZGVyUHJvZ3JhbSxcbiAgICAgIFwiZGVwdGhPbmx5XCIsXG4gICAgICB7XG4gICAgICAgIHZlcnRleFNoYWRlclNvdXJjZTogc2hhZGVyUHJvZ3JhbS52ZXJ0ZXhTaGFkZXJTb3VyY2UsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyU291cmNlOiBmcyxcbiAgICAgICAgYXR0cmlidXRlTG9jYXRpb25zOiBhdHRyaWJ1dGVMb2NhdGlvbnMsXG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBzaGFkZXI7XG59XG5cbmZ1bmN0aW9uIGdldERlcHRoT25seVJlbmRlclN0YXRlKHNjZW5lLCByZW5kZXJTdGF0ZSkge1xuICB2YXIgY2FjaGUgPSBzY2VuZS5fZGVwdGhPbmx5UmVuZGVyU3RhdGVDYWNoZTtcbiAgdmFyIGRlcHRoT25seVN0YXRlID0gY2FjaGVbcmVuZGVyU3RhdGUuaWRdO1xuICBpZiAoIWRlZmluZWQoZGVwdGhPbmx5U3RhdGUpKSB7XG4gICAgdmFyIHJzID0gUmVuZGVyU3RhdGUuZ2V0U3RhdGUocmVuZGVyU3RhdGUpO1xuICAgIHJzLmRlcHRoTWFzayA9IHRydWU7XG4gICAgcnMuY29sb3JNYXNrID0ge1xuICAgICAgcmVkOiBmYWxzZSxcbiAgICAgIGdyZWVuOiBmYWxzZSxcbiAgICAgIGJsdWU6IGZhbHNlLFxuICAgICAgYWxwaGE6IGZhbHNlLFxuICAgIH07XG5cbiAgICBkZXB0aE9ubHlTdGF0ZSA9IFJlbmRlclN0YXRlLmZyb21DYWNoZShycyk7XG4gICAgY2FjaGVbcmVuZGVyU3RhdGUuaWRdID0gZGVwdGhPbmx5U3RhdGU7XG4gIH1cblxuICByZXR1cm4gZGVwdGhPbmx5U3RhdGU7XG59XG5cbkRlcml2ZWRDb21tYW5kLmNyZWF0ZURlcHRoT25seURlcml2ZWRDb21tYW5kID0gZnVuY3Rpb24gKFxuICBzY2VuZSxcbiAgY29tbWFuZCxcbiAgY29udGV4dCxcbiAgcmVzdWx0XG4pIHtcbiAgLy8gRm9yIGEgZGVwdGggb25seSBwYXNzLCB3ZSBiaW5kIGEgZnJhbWVidWZmZXIgd2l0aCBvbmx5IGEgZGVwdGggYXR0YWNobWVudCAobm8gY29sb3IgYXR0YWNobWVudHMpLFxuICAvLyBkbyBub3Qgd3JpdGUgY29sb3IsIGFuZCB3cml0ZSBkZXB0aC4gSWYgdGhlIGZyYWdtZW50IHNoYWRlciBkb2Vzbid0IG1vZGlmeSB0aGUgZnJhZ21lbnQgZGVwdGhcbiAgLy8gb3IgZGlzY2FyZCwgdGhlIGRyaXZlciBjYW4gcmVwbGFjZSB0aGUgZnJhZ21lbnQgc2hhZGVyIHdpdGggYSBwYXNzLXRocm91Z2ggc2hhZGVyLiBXZSdyZSB1bnN1cmUgaWYgdGhpc1xuICAvLyBhY3R1YWxseSBoYXBwZW5zIHNvIHdlIG1vZGlmeSB0aGUgc2hhZGVyIHRvIHVzZSBhIHBhc3MtdGhyb3VnaCBmcmFnbWVudCBzaGFkZXIuXG5cbiAgaWYgKCFkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICByZXN1bHQgPSB7fTtcbiAgfVxuXG4gIHZhciBzaGFkZXI7XG4gIHZhciByZW5kZXJTdGF0ZTtcbiAgaWYgKGRlZmluZWQocmVzdWx0LmRlcHRoT25seUNvbW1hbmQpKSB7XG4gICAgc2hhZGVyID0gcmVzdWx0LmRlcHRoT25seUNvbW1hbmQuc2hhZGVyUHJvZ3JhbTtcbiAgICByZW5kZXJTdGF0ZSA9IHJlc3VsdC5kZXB0aE9ubHlDb21tYW5kLnJlbmRlclN0YXRlO1xuICB9XG5cbiAgcmVzdWx0LmRlcHRoT25seUNvbW1hbmQgPSBEcmF3Q29tbWFuZC5zaGFsbG93Q2xvbmUoXG4gICAgY29tbWFuZCxcbiAgICByZXN1bHQuZGVwdGhPbmx5Q29tbWFuZFxuICApO1xuXG4gIGlmICghZGVmaW5lZChzaGFkZXIpIHx8IHJlc3VsdC5zaGFkZXJQcm9ncmFtSWQgIT09IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZCkge1xuICAgIHJlc3VsdC5kZXB0aE9ubHlDb21tYW5kLnNoYWRlclByb2dyYW0gPSBnZXREZXB0aE9ubHlTaGFkZXJQcm9ncmFtKFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbW1hbmQuc2hhZGVyUHJvZ3JhbVxuICAgICk7XG4gICAgcmVzdWx0LmRlcHRoT25seUNvbW1hbmQucmVuZGVyU3RhdGUgPSBnZXREZXB0aE9ubHlSZW5kZXJTdGF0ZShcbiAgICAgIHNjZW5lLFxuICAgICAgY29tbWFuZC5yZW5kZXJTdGF0ZVxuICAgICk7XG4gICAgcmVzdWx0LnNoYWRlclByb2dyYW1JZCA9IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQuZGVwdGhPbmx5Q29tbWFuZC5zaGFkZXJQcm9ncmFtID0gc2hhZGVyO1xuICAgIHJlc3VsdC5kZXB0aE9ubHlDb21tYW5kLnJlbmRlclN0YXRlID0gcmVuZGVyU3RhdGU7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHdyaXRlTG9nRGVwdGhSZWdleCA9IC9cXHMrY3ptX3dyaXRlTG9nRGVwdGhcXCgvO1xudmFyIHZlcnRleGxvZ0RlcHRoUmVnZXggPSAvXFxzK2N6bV92ZXJ0ZXhMb2dEZXB0aFxcKC87XG52YXIgZXh0ZW5zaW9uUmVnZXggPSAvXFxzKiNleHRlbnNpb25cXHMrR0xfRVhUX2ZyYWdfZGVwdGhcXHMqOlxccyplbmFibGUvO1xuXG5mdW5jdGlvbiBnZXRMb2dEZXB0aFNoYWRlclByb2dyYW0oY29udGV4dCwgc2hhZGVyUHJvZ3JhbSkge1xuICB2YXIgc2hhZGVyID0gY29udGV4dC5zaGFkZXJDYWNoZS5nZXREZXJpdmVkU2hhZGVyUHJvZ3JhbShcbiAgICBzaGFkZXJQcm9ncmFtLFxuICAgIFwibG9nRGVwdGhcIlxuICApO1xuICBpZiAoIWRlZmluZWQoc2hhZGVyKSkge1xuICAgIHZhciBhdHRyaWJ1dGVMb2NhdGlvbnMgPSBzaGFkZXJQcm9ncmFtLl9hdHRyaWJ1dGVMb2NhdGlvbnM7XG4gICAgdmFyIHZzID0gc2hhZGVyUHJvZ3JhbS52ZXJ0ZXhTaGFkZXJTb3VyY2UuY2xvbmUoKTtcbiAgICB2YXIgZnMgPSBzaGFkZXJQcm9ncmFtLmZyYWdtZW50U2hhZGVyU291cmNlLmNsb25lKCk7XG5cbiAgICB2cy5kZWZpbmVzID0gZGVmaW5lZCh2cy5kZWZpbmVzKSA/IHZzLmRlZmluZXMuc2xpY2UoMCkgOiBbXTtcbiAgICB2cy5kZWZpbmVzLnB1c2goXCJMT0dfREVQVEhcIik7XG4gICAgZnMuZGVmaW5lcyA9IGRlZmluZWQoZnMuZGVmaW5lcykgPyBmcy5kZWZpbmVzLnNsaWNlKDApIDogW107XG4gICAgZnMuZGVmaW5lcy5wdXNoKFwiTE9HX0RFUFRIXCIpO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIGxvZ01haW47XG4gICAgdmFyIHdyaXRlc0xvZ0RlcHRoID0gZmFsc2U7XG4gICAgdmFyIHNvdXJjZXMgPSB2cy5zb3VyY2VzO1xuICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmICh2ZXJ0ZXhsb2dEZXB0aFJlZ2V4LnRlc3Qoc291cmNlc1tpXSkpIHtcbiAgICAgICAgd3JpdGVzTG9nRGVwdGggPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlc0xvZ0RlcHRoKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgc291cmNlc1tpXSA9IFNoYWRlclNvdXJjZS5yZXBsYWNlTWFpbihzb3VyY2VzW2ldLCBcImN6bV9sb2dfZGVwdGhfbWFpblwiKTtcbiAgICAgIH1cblxuICAgICAgbG9nTWFpbiA9XG4gICAgICAgIFwiXFxuXFxuXCIgK1xuICAgICAgICBcInZvaWQgbWFpbigpIFxcblwiICtcbiAgICAgICAgXCJ7IFxcblwiICtcbiAgICAgICAgXCIgICAgY3ptX2xvZ19kZXB0aF9tYWluKCk7IFxcblwiICtcbiAgICAgICAgXCIgICAgY3ptX3ZlcnRleExvZ0RlcHRoKCk7IFxcblwiICtcbiAgICAgICAgXCJ9IFxcblwiO1xuICAgICAgc291cmNlcy5wdXNoKGxvZ01haW4pO1xuICAgIH1cblxuICAgIHNvdXJjZXMgPSBmcy5zb3VyY2VzO1xuICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuXG4gICAgd3JpdGVzTG9nRGVwdGggPSBmYWxzZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmICh3cml0ZUxvZ0RlcHRoUmVnZXgudGVzdChzb3VyY2VzW2ldKSkge1xuICAgICAgICB3cml0ZXNMb2dEZXB0aCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRoaXMgZGVmaW5lIGluZGljYXRlcyB0aGF0IGEgbG9nIGRlcHRoIHZhbHVlIGlzIHdyaXR0ZW4gYnkgdGhlIHNoYWRlciBidXQgZG9lc24ndCB1c2UgY3ptX3dyaXRlTG9nRGVwdGguXG4gICAgaWYgKGZzLmRlZmluZXMuaW5kZXhPZihcIkxPR19ERVBUSF9XUklURVwiKSAhPT0gLTEpIHtcbiAgICAgIHdyaXRlc0xvZ0RlcHRoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgYWRkRXh0ZW5zaW9uID0gdHJ1ZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChleHRlbnNpb25SZWdleC50ZXN0KHNvdXJjZXNbaV0pKSB7XG4gICAgICAgIGFkZEV4dGVuc2lvbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsb2dTb3VyY2UgPSBcIlwiO1xuICAgIGlmIChhZGRFeHRlbnNpb24pIHtcbiAgICAgIGxvZ1NvdXJjZSArPVxuICAgICAgICBcIiNpZmRlZiBHTF9FWFRfZnJhZ19kZXB0aCBcXG5cIiArXG4gICAgICAgIFwiI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZSBcXG5cIiArXG4gICAgICAgIFwiI2VuZGlmIFxcblxcblwiO1xuICAgIH1cblxuICAgIGlmICghd3JpdGVzTG9nRGVwdGgpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzb3VyY2VzW2ldID0gU2hhZGVyU291cmNlLnJlcGxhY2VNYWluKHNvdXJjZXNbaV0sIFwiY3ptX2xvZ19kZXB0aF9tYWluXCIpO1xuICAgICAgfVxuXG4gICAgICBsb2dTb3VyY2UgKz1cbiAgICAgICAgXCJcXG5cIiArXG4gICAgICAgIFwidm9pZCBtYWluKCkgXFxuXCIgK1xuICAgICAgICBcInsgXFxuXCIgK1xuICAgICAgICBcIiAgICBjem1fbG9nX2RlcHRoX21haW4oKTsgXFxuXCIgK1xuICAgICAgICBcIiAgICBjem1fd3JpdGVMb2dEZXB0aCgpOyBcXG5cIiArXG4gICAgICAgIFwifSBcXG5cIjtcbiAgICB9XG5cbiAgICBzb3VyY2VzLnB1c2gobG9nU291cmNlKTtcblxuICAgIHNoYWRlciA9IGNvbnRleHQuc2hhZGVyQ2FjaGUuY3JlYXRlRGVyaXZlZFNoYWRlclByb2dyYW0oXG4gICAgICBzaGFkZXJQcm9ncmFtLFxuICAgICAgXCJsb2dEZXB0aFwiLFxuICAgICAge1xuICAgICAgICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IHZzLFxuICAgICAgICBmcmFnbWVudFNoYWRlclNvdXJjZTogZnMsXG4gICAgICAgIGF0dHJpYnV0ZUxvY2F0aW9uczogYXR0cmlidXRlTG9jYXRpb25zLFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gc2hhZGVyO1xufVxuXG5EZXJpdmVkQ29tbWFuZC5jcmVhdGVMb2dEZXB0aENvbW1hbmQgPSBmdW5jdGlvbiAoY29tbWFuZCwgY29udGV4dCwgcmVzdWx0KSB7XG4gIGlmICghZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgcmVzdWx0ID0ge307XG4gIH1cblxuICB2YXIgc2hhZGVyO1xuICBpZiAoZGVmaW5lZChyZXN1bHQuY29tbWFuZCkpIHtcbiAgICBzaGFkZXIgPSByZXN1bHQuY29tbWFuZC5zaGFkZXJQcm9ncmFtO1xuICB9XG5cbiAgcmVzdWx0LmNvbW1hbmQgPSBEcmF3Q29tbWFuZC5zaGFsbG93Q2xvbmUoY29tbWFuZCwgcmVzdWx0LmNvbW1hbmQpO1xuXG4gIGlmICghZGVmaW5lZChzaGFkZXIpIHx8IHJlc3VsdC5zaGFkZXJQcm9ncmFtSWQgIT09IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZCkge1xuICAgIHJlc3VsdC5jb21tYW5kLnNoYWRlclByb2dyYW0gPSBnZXRMb2dEZXB0aFNoYWRlclByb2dyYW0oXG4gICAgICBjb250ZXh0LFxuICAgICAgY29tbWFuZC5zaGFkZXJQcm9ncmFtXG4gICAgKTtcbiAgICByZXN1bHQuc2hhZGVyUHJvZ3JhbUlkID0gY29tbWFuZC5zaGFkZXJQcm9ncmFtLmlkO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5jb21tYW5kLnNoYWRlclByb2dyYW0gPSBzaGFkZXI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gZ2V0UGlja1NoYWRlclByb2dyYW0oY29udGV4dCwgc2hhZGVyUHJvZ3JhbSwgcGlja0lkKSB7XG4gIHZhciBzaGFkZXIgPSBjb250ZXh0LnNoYWRlckNhY2hlLmdldERlcml2ZWRTaGFkZXJQcm9ncmFtKFxuICAgIHNoYWRlclByb2dyYW0sXG4gICAgXCJwaWNrXCJcbiAgKTtcbiAgaWYgKCFkZWZpbmVkKHNoYWRlcikpIHtcbiAgICB2YXIgYXR0cmlidXRlTG9jYXRpb25zID0gc2hhZGVyUHJvZ3JhbS5fYXR0cmlidXRlTG9jYXRpb25zO1xuICAgIHZhciBmcyA9IHNoYWRlclByb2dyYW0uZnJhZ21lbnRTaGFkZXJTb3VyY2U7XG5cbiAgICB2YXIgc291cmNlcyA9IGZzLnNvdXJjZXM7XG4gICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuXG4gICAgdmFyIG5ld01haW4gPVxuICAgICAgXCJ2b2lkIG1haW4oKSBcXG5cIiArXG4gICAgICBcInsgXFxuXCIgK1xuICAgICAgXCIgICAgY3ptX25vbl9waWNrX21haW4oKTsgXFxuXCIgK1xuICAgICAgXCIgICAgaWYgKGdsX0ZyYWdDb2xvci5hID09IDAuMCkgeyBcXG5cIiArXG4gICAgICBcIiAgICAgICAgZGlzY2FyZDsgXFxuXCIgK1xuICAgICAgXCIgICAgfSBcXG5cIiArXG4gICAgICBcIiAgICBnbF9GcmFnQ29sb3IgPSBcIiArXG4gICAgICBwaWNrSWQgK1xuICAgICAgXCI7IFxcblwiICtcbiAgICAgIFwifSBcXG5cIjtcbiAgICB2YXIgbmV3U291cmNlcyA9IG5ldyBBcnJheShsZW5ndGggKyAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICBuZXdTb3VyY2VzW2ldID0gU2hhZGVyU291cmNlLnJlcGxhY2VNYWluKHNvdXJjZXNbaV0sIFwiY3ptX25vbl9waWNrX21haW5cIik7XG4gICAgfVxuICAgIG5ld1NvdXJjZXNbbGVuZ3RoXSA9IG5ld01haW47XG4gICAgZnMgPSBuZXcgU2hhZGVyU291cmNlKHtcbiAgICAgIHNvdXJjZXM6IG5ld1NvdXJjZXMsXG4gICAgICBkZWZpbmVzOiBmcy5kZWZpbmVzLFxuICAgIH0pO1xuICAgIHNoYWRlciA9IGNvbnRleHQuc2hhZGVyQ2FjaGUuY3JlYXRlRGVyaXZlZFNoYWRlclByb2dyYW0oXG4gICAgICBzaGFkZXJQcm9ncmFtLFxuICAgICAgXCJwaWNrXCIsXG4gICAgICB7XG4gICAgICAgIHZlcnRleFNoYWRlclNvdXJjZTogc2hhZGVyUHJvZ3JhbS52ZXJ0ZXhTaGFkZXJTb3VyY2UsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyU291cmNlOiBmcyxcbiAgICAgICAgYXR0cmlidXRlTG9jYXRpb25zOiBhdHRyaWJ1dGVMb2NhdGlvbnMsXG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBzaGFkZXI7XG59XG5cbmZ1bmN0aW9uIGdldFBpY2tSZW5kZXJTdGF0ZShzY2VuZSwgcmVuZGVyU3RhdGUpIHtcbiAgdmFyIGNhY2hlID0gc2NlbmUucGlja2luZy5waWNrUmVuZGVyU3RhdGVDYWNoZTtcbiAgdmFyIHBpY2tTdGF0ZSA9IGNhY2hlW3JlbmRlclN0YXRlLmlkXTtcbiAgaWYgKCFkZWZpbmVkKHBpY2tTdGF0ZSkpIHtcbiAgICB2YXIgcnMgPSBSZW5kZXJTdGF0ZS5nZXRTdGF0ZShyZW5kZXJTdGF0ZSk7XG4gICAgcnMuYmxlbmRpbmcuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLy8gVHVybnMgb24gZGVwdGggd3JpdGluZyBmb3Igb3BhcXVlIGFuZCB0cmFuc2x1Y2VudCBwYXNzZXNcbiAgICAvLyBPdmVybGFwcGluZyB0cmFuc2x1Y2VudCBnZW9tZXRyeSBvbiB0aGUgZ2xvYmUgc3VyZmFjZSBtYXkgZXhoaWJpdCB6LWZpZ2h0aW5nXG4gICAgLy8gZHVyaW5nIHRoZSBwaWNrIHBhc3Mgd2hpY2ggbWF5IG5vdCBtYXRjaCB0aGUgcmVuZGVyZWQgc2NlbmUuIE9uY2VcbiAgICAvLyB0ZXJyYWluIGlzIG9uIGJ5IGRlZmF1bHQgYW5kIGdyb3VuZCBwcmltaXRpdmVzIGFyZSB1c2VkIGluc3RlYWRcbiAgICAvLyB0aGlzIHdpbGwgYmVjb21lIGxlc3Mgb2YgYSBwcm9ibGVtLlxuICAgIHJzLmRlcHRoTWFzayA9IHRydWU7XG5cbiAgICBwaWNrU3RhdGUgPSBSZW5kZXJTdGF0ZS5mcm9tQ2FjaGUocnMpO1xuICAgIGNhY2hlW3JlbmRlclN0YXRlLmlkXSA9IHBpY2tTdGF0ZTtcbiAgfVxuXG4gIHJldHVybiBwaWNrU3RhdGU7XG59XG5cbkRlcml2ZWRDb21tYW5kLmNyZWF0ZVBpY2tEZXJpdmVkQ29tbWFuZCA9IGZ1bmN0aW9uIChcbiAgc2NlbmUsXG4gIGNvbW1hbmQsXG4gIGNvbnRleHQsXG4gIHJlc3VsdFxuKSB7XG4gIGlmICghZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgcmVzdWx0ID0ge307XG4gIH1cblxuICB2YXIgc2hhZGVyO1xuICB2YXIgcmVuZGVyU3RhdGU7XG4gIGlmIChkZWZpbmVkKHJlc3VsdC5waWNrQ29tbWFuZCkpIHtcbiAgICBzaGFkZXIgPSByZXN1bHQucGlja0NvbW1hbmQuc2hhZGVyUHJvZ3JhbTtcbiAgICByZW5kZXJTdGF0ZSA9IHJlc3VsdC5waWNrQ29tbWFuZC5yZW5kZXJTdGF0ZTtcbiAgfVxuXG4gIHJlc3VsdC5waWNrQ29tbWFuZCA9IERyYXdDb21tYW5kLnNoYWxsb3dDbG9uZShjb21tYW5kLCByZXN1bHQucGlja0NvbW1hbmQpO1xuXG4gIGlmICghZGVmaW5lZChzaGFkZXIpIHx8IHJlc3VsdC5zaGFkZXJQcm9ncmFtSWQgIT09IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZCkge1xuICAgIHJlc3VsdC5waWNrQ29tbWFuZC5zaGFkZXJQcm9ncmFtID0gZ2V0UGlja1NoYWRlclByb2dyYW0oXG4gICAgICBjb250ZXh0LFxuICAgICAgY29tbWFuZC5zaGFkZXJQcm9ncmFtLFxuICAgICAgY29tbWFuZC5waWNrSWRcbiAgICApO1xuICAgIHJlc3VsdC5waWNrQ29tbWFuZC5yZW5kZXJTdGF0ZSA9IGdldFBpY2tSZW5kZXJTdGF0ZShcbiAgICAgIHNjZW5lLFxuICAgICAgY29tbWFuZC5yZW5kZXJTdGF0ZVxuICAgICk7XG4gICAgcmVzdWx0LnNoYWRlclByb2dyYW1JZCA9IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGlja0NvbW1hbmQuc2hhZGVyUHJvZ3JhbSA9IHNoYWRlcjtcbiAgICByZXN1bHQucGlja0NvbW1hbmQucmVuZGVyU3RhdGUgPSByZW5kZXJTdGF0ZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5mdW5jdGlvbiBnZXRIZHJTaGFkZXJQcm9ncmFtKGNvbnRleHQsIHNoYWRlclByb2dyYW0pIHtcbiAgdmFyIHNoYWRlciA9IGNvbnRleHQuc2hhZGVyQ2FjaGUuZ2V0RGVyaXZlZFNoYWRlclByb2dyYW0oXG4gICAgc2hhZGVyUHJvZ3JhbSxcbiAgICBcIkhEUlwiXG4gICk7XG4gIGlmICghZGVmaW5lZChzaGFkZXIpKSB7XG4gICAgdmFyIGF0dHJpYnV0ZUxvY2F0aW9ucyA9IHNoYWRlclByb2dyYW0uX2F0dHJpYnV0ZUxvY2F0aW9ucztcbiAgICB2YXIgdnMgPSBzaGFkZXJQcm9ncmFtLnZlcnRleFNoYWRlclNvdXJjZS5jbG9uZSgpO1xuICAgIHZhciBmcyA9IHNoYWRlclByb2dyYW0uZnJhZ21lbnRTaGFkZXJTb3VyY2UuY2xvbmUoKTtcblxuICAgIHZzLmRlZmluZXMgPSBkZWZpbmVkKHZzLmRlZmluZXMpID8gdnMuZGVmaW5lcy5zbGljZSgwKSA6IFtdO1xuICAgIHZzLmRlZmluZXMucHVzaChcIkhEUlwiKTtcbiAgICBmcy5kZWZpbmVzID0gZGVmaW5lZChmcy5kZWZpbmVzKSA/IGZzLmRlZmluZXMuc2xpY2UoMCkgOiBbXTtcbiAgICBmcy5kZWZpbmVzLnB1c2goXCJIRFJcIik7XG5cbiAgICBzaGFkZXIgPSBjb250ZXh0LnNoYWRlckNhY2hlLmNyZWF0ZURlcml2ZWRTaGFkZXJQcm9ncmFtKFxuICAgICAgc2hhZGVyUHJvZ3JhbSxcbiAgICAgIFwiSERSXCIsXG4gICAgICB7XG4gICAgICAgIHZlcnRleFNoYWRlclNvdXJjZTogdnMsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyU291cmNlOiBmcyxcbiAgICAgICAgYXR0cmlidXRlTG9jYXRpb25zOiBhdHRyaWJ1dGVMb2NhdGlvbnMsXG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBzaGFkZXI7XG59XG5cbkRlcml2ZWRDb21tYW5kLmNyZWF0ZUhkckNvbW1hbmQgPSBmdW5jdGlvbiAoY29tbWFuZCwgY29udGV4dCwgcmVzdWx0KSB7XG4gIGlmICghZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgcmVzdWx0ID0ge307XG4gIH1cblxuICB2YXIgc2hhZGVyO1xuICBpZiAoZGVmaW5lZChyZXN1bHQuY29tbWFuZCkpIHtcbiAgICBzaGFkZXIgPSByZXN1bHQuY29tbWFuZC5zaGFkZXJQcm9ncmFtO1xuICB9XG5cbiAgcmVzdWx0LmNvbW1hbmQgPSBEcmF3Q29tbWFuZC5zaGFsbG93Q2xvbmUoY29tbWFuZCwgcmVzdWx0LmNvbW1hbmQpO1xuXG4gIGlmICghZGVmaW5lZChzaGFkZXIpIHx8IHJlc3VsdC5zaGFkZXJQcm9ncmFtSWQgIT09IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZCkge1xuICAgIHJlc3VsdC5jb21tYW5kLnNoYWRlclByb2dyYW0gPSBnZXRIZHJTaGFkZXJQcm9ncmFtKFxuICAgICAgY29udGV4dCxcbiAgICAgIGNvbW1hbmQuc2hhZGVyUHJvZ3JhbVxuICAgICk7XG4gICAgcmVzdWx0LnNoYWRlclByb2dyYW1JZCA9IGNvbW1hbmQuc2hhZGVyUHJvZ3JhbS5pZDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQuY29tbWFuZC5zaGFkZXJQcm9ncmFtID0gc2hhZGVyO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgZGVmYXVsdCBEZXJpdmVkQ29tbWFuZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///999\n')},52440:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68201);\n/* harmony import */ var _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(87811);\n\n\n\n\n\n\n\n/**\n * @private\n */\nfunction DeviceOrientationCameraController(scene) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(scene)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("scene is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this._scene = scene;\n\n  this._lastAlpha = undefined;\n  this._lastBeta = undefined;\n  this._lastGamma = undefined;\n\n  this._alpha = undefined;\n  this._beta = undefined;\n  this._gamma = undefined;\n\n  var that = this;\n\n  function callback(e) {\n    var alpha = e.alpha;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(alpha)) {\n      that._alpha = undefined;\n      that._beta = undefined;\n      that._gamma = undefined;\n      return;\n    }\n\n    that._alpha = _Core_Math_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].toRadians */ .Z.toRadians(alpha);\n    that._beta = _Core_Math_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].toRadians */ .Z.toRadians(e.beta);\n    that._gamma = _Core_Math_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].toRadians */ .Z.toRadians(e.gamma);\n  }\n\n  window.addEventListener("deviceorientation", callback, false);\n\n  this._removeListener = function () {\n    window.removeEventListener("deviceorientation", callback, false);\n  };\n}\n\nvar scratchQuaternion1 = new _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z();\nvar scratchQuaternion2 = new _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z();\nvar scratchMatrix3 = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\n\nfunction rotate(camera, alpha, beta, gamma) {\n  var direction = camera.direction;\n  var right = camera.right;\n  var up = camera.up;\n\n  var bQuat = _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromAxisAngle */ .Z.fromAxisAngle(direction, beta, scratchQuaternion2);\n  var gQuat = _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromAxisAngle */ .Z.fromAxisAngle(right, gamma, scratchQuaternion1);\n\n  var rotQuat = _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].multiply */ .Z.multiply(gQuat, bQuat, gQuat);\n\n  var aQuat = _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromAxisAngle */ .Z.fromAxisAngle(up, alpha, scratchQuaternion2);\n  _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].multiply */ .Z.multiply(aQuat, rotQuat, rotQuat);\n\n  var matrix = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromQuaternion */ .Z.fromQuaternion(rotQuat, scratchMatrix3);\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].multiplyByVector */ .Z.multiplyByVector(matrix, right, right);\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].multiplyByVector */ .Z.multiplyByVector(matrix, up, up);\n  _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].multiplyByVector */ .Z.multiplyByVector(matrix, direction, direction);\n}\n\nDeviceOrientationCameraController.prototype.update = function () {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this._alpha)) {\n    return;\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this._lastAlpha)) {\n    this._lastAlpha = this._alpha;\n    this._lastBeta = this._beta;\n    this._lastGamma = this._gamma;\n  }\n\n  var a = this._lastAlpha - this._alpha;\n  var b = this._lastBeta - this._beta;\n  var g = this._lastGamma - this._gamma;\n\n  rotate(this._scene.camera, -a, b, g);\n\n  this._lastAlpha = this._alpha;\n  this._lastBeta = this._beta;\n  this._lastGamma = this._gamma;\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n */\nDeviceOrientationCameraController.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the resources held by this object.  Destroying an object allows for deterministic\n * release of resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nDeviceOrientationCameraController.prototype.destroy = function () {\n  this._removeListener();\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DeviceOrientationCameraController);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI0NDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlDO0FBQ1k7QUFDRTtBQUNkO0FBQ0E7QUFDTTs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8scUVBQU87QUFDZCxjQUFjLHdFQUFjO0FBQzVCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxxRUFBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixrRkFBb0I7QUFDdEMsaUJBQWlCLGtGQUFvQjtBQUNyQyxrQkFBa0Isa0ZBQW9CO0FBQ3RDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QixvRUFBVTtBQUN2Qyw2QkFBNkIsb0VBQVU7QUFDdkMseUJBQXlCLGlFQUFPOztBQUVoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLGdHQUF3QjtBQUN0QyxjQUFjLGdHQUF3Qjs7QUFFdEMsZ0JBQWdCLHNGQUFtQjs7QUFFbkMsY0FBYyxnR0FBd0I7QUFDdEMsRUFBRSxzRkFBbUI7O0FBRXJCLGVBQWUsK0ZBQXNCO0FBQ3JDLEVBQUUsbUdBQXdCO0FBQzFCLEVBQUUsbUdBQXdCO0FBQzFCLEVBQUUsbUdBQXdCO0FBQzFCOztBQUVBO0FBQ0EsT0FBTyxxRUFBTztBQUNkO0FBQ0E7O0FBRUEsT0FBTyxxRUFBTztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsYUFBYSxTQUFTLGdEQUFnRDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCw4Q0FBOEMsc0JBQXNCO0FBQ3BFO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUFhO0FBQ3RCO0FBQ0EseURBQWUsaUNBQWlDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGV2aWNlT3JpZW50YXRpb25DYW1lcmFDb250cm9sbGVyLmpzP2Q4OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgQ2VzaXVtTWF0aCBmcm9tIFwiLi4vQ29yZS9NYXRoLmpzXCI7XG5pbXBvcnQgTWF0cml4MyBmcm9tIFwiLi4vQ29yZS9NYXRyaXgzLmpzXCI7XG5pbXBvcnQgUXVhdGVybmlvbiBmcm9tIFwiLi4vQ29yZS9RdWF0ZXJuaW9uLmpzXCI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRGV2aWNlT3JpZW50YXRpb25DYW1lcmFDb250cm9sbGVyKHNjZW5lKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChzY2VuZSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJzY2VuZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdGhpcy5fc2NlbmUgPSBzY2VuZTtcblxuICB0aGlzLl9sYXN0QWxwaGEgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RCZXRhID0gdW5kZWZpbmVkO1xuICB0aGlzLl9sYXN0R2FtbWEgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fYWxwaGEgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2JldGEgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2dhbW1hID0gdW5kZWZpbmVkO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcblxuICBmdW5jdGlvbiBjYWxsYmFjayhlKSB7XG4gICAgdmFyIGFscGhhID0gZS5hbHBoYTtcbiAgICBpZiAoIWRlZmluZWQoYWxwaGEpKSB7XG4gICAgICB0aGF0Ll9hbHBoYSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoYXQuX2JldGEgPSB1bmRlZmluZWQ7XG4gICAgICB0aGF0Ll9nYW1tYSA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGF0Ll9hbHBoYSA9IENlc2l1bU1hdGgudG9SYWRpYW5zKGFscGhhKTtcbiAgICB0aGF0Ll9iZXRhID0gQ2VzaXVtTWF0aC50b1JhZGlhbnMoZS5iZXRhKTtcbiAgICB0aGF0Ll9nYW1tYSA9IENlc2l1bU1hdGgudG9SYWRpYW5zKGUuZ2FtbWEpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLCBjYWxsYmFjaywgZmFsc2UpO1xuXG4gIHRoaXMuX3JlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIiwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgfTtcbn1cblxudmFyIHNjcmF0Y2hRdWF0ZXJuaW9uMSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG52YXIgc2NyYXRjaFF1YXRlcm5pb24yID0gbmV3IFF1YXRlcm5pb24oKTtcbnZhciBzY3JhdGNoTWF0cml4MyA9IG5ldyBNYXRyaXgzKCk7XG5cbmZ1bmN0aW9uIHJvdGF0ZShjYW1lcmEsIGFscGhhLCBiZXRhLCBnYW1tYSkge1xuICB2YXIgZGlyZWN0aW9uID0gY2FtZXJhLmRpcmVjdGlvbjtcbiAgdmFyIHJpZ2h0ID0gY2FtZXJhLnJpZ2h0O1xuICB2YXIgdXAgPSBjYW1lcmEudXA7XG5cbiAgdmFyIGJRdWF0ID0gUXVhdGVybmlvbi5mcm9tQXhpc0FuZ2xlKGRpcmVjdGlvbiwgYmV0YSwgc2NyYXRjaFF1YXRlcm5pb24yKTtcbiAgdmFyIGdRdWF0ID0gUXVhdGVybmlvbi5mcm9tQXhpc0FuZ2xlKHJpZ2h0LCBnYW1tYSwgc2NyYXRjaFF1YXRlcm5pb24xKTtcblxuICB2YXIgcm90UXVhdCA9IFF1YXRlcm5pb24ubXVsdGlwbHkoZ1F1YXQsIGJRdWF0LCBnUXVhdCk7XG5cbiAgdmFyIGFRdWF0ID0gUXVhdGVybmlvbi5mcm9tQXhpc0FuZ2xlKHVwLCBhbHBoYSwgc2NyYXRjaFF1YXRlcm5pb24yKTtcbiAgUXVhdGVybmlvbi5tdWx0aXBseShhUXVhdCwgcm90UXVhdCwgcm90UXVhdCk7XG5cbiAgdmFyIG1hdHJpeCA9IE1hdHJpeDMuZnJvbVF1YXRlcm5pb24ocm90UXVhdCwgc2NyYXRjaE1hdHJpeDMpO1xuICBNYXRyaXgzLm11bHRpcGx5QnlWZWN0b3IobWF0cml4LCByaWdodCwgcmlnaHQpO1xuICBNYXRyaXgzLm11bHRpcGx5QnlWZWN0b3IobWF0cml4LCB1cCwgdXApO1xuICBNYXRyaXgzLm11bHRpcGx5QnlWZWN0b3IobWF0cml4LCBkaXJlY3Rpb24sIGRpcmVjdGlvbik7XG59XG5cbkRldmljZU9yaWVudGF0aW9uQ2FtZXJhQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIWRlZmluZWQodGhpcy5fYWxwaGEpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKHRoaXMuX2xhc3RBbHBoYSkpIHtcbiAgICB0aGlzLl9sYXN0QWxwaGEgPSB0aGlzLl9hbHBoYTtcbiAgICB0aGlzLl9sYXN0QmV0YSA9IHRoaXMuX2JldGE7XG4gICAgdGhpcy5fbGFzdEdhbW1hID0gdGhpcy5fZ2FtbWE7XG4gIH1cblxuICB2YXIgYSA9IHRoaXMuX2xhc3RBbHBoYSAtIHRoaXMuX2FscGhhO1xuICB2YXIgYiA9IHRoaXMuX2xhc3RCZXRhIC0gdGhpcy5fYmV0YTtcbiAgdmFyIGcgPSB0aGlzLl9sYXN0R2FtbWEgLSB0aGlzLl9nYW1tYTtcblxuICByb3RhdGUodGhpcy5fc2NlbmUuY2FtZXJhLCAtYSwgYiwgZyk7XG5cbiAgdGhpcy5fbGFzdEFscGhhID0gdGhpcy5fYWxwaGE7XG4gIHRoaXMuX2xhc3RCZXRhID0gdGhpcy5fYmV0YTtcbiAgdGhpcy5fbGFzdEdhbW1hID0gdGhpcy5fZ2FtbWE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICogPGJyIC8+PGJyIC8+XG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgPGNvZGU+ZmFsc2U8L2NvZGU+LlxuICovXG5EZXZpY2VPcmllbnRhdGlvbkNhbWVyYUNvbnRyb2xsZXIucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGlzIG9iamVjdC4gIERlc3Ryb3lpbmcgYW4gb2JqZWN0IGFsbG93cyBmb3IgZGV0ZXJtaW5pc3RpY1xuICogcmVsZWFzZSBvZiByZXNvdXJjZXMsIGluc3RlYWQgb2YgcmVseWluZyBvbiB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IgdG8gZGVzdHJveSB0aGlzIG9iamVjdC5cbiAqIDxiciAvPjxiciAvPlxuICogT25jZSBhbiBvYmplY3QgaXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLiAgVGhlcmVmb3JlLFxuICogYXNzaWduIHRoZSByZXR1cm4gdmFsdWUgKDxjb2RlPnVuZGVmaW5lZDwvY29kZT4pIHRvIHRoZSBvYmplY3QgYXMgZG9uZSBpbiB0aGUgZXhhbXBsZS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaS5lLiwgZGVzdHJveSgpIHdhcyBjYWxsZWQuXG4gKi9cbkRldmljZU9yaWVudGF0aW9uQ2FtZXJhQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fcmVtb3ZlTGlzdGVuZXIoKTtcbiAgcmV0dXJuIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRGV2aWNlT3JpZW50YXRpb25DYW1lcmFDb250cm9sbGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52440\n')},15646:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66553);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(12572);\n\n\n\n\n\n\n/**\n * A light that gets emitted in a single direction from infinitely far away.\n *\n * @param {Object} options Object with the following properties:\n * @param {Cartesian3} options.direction The direction in which light gets emitted.\n * @param {Color} [options.color=Color.WHITE] The color of the light.\n * @param {Number} [options.intensity=1.0] The intensity of the light.\n *\n * @exception {DeveloperError} options.direction cannot be zero-length\n *\n * @alias DirectionalLight\n * @constructor\n */\nfunction DirectionalLight(options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  Check.typeOf.object("options", options);\n  Check.typeOf.object("options.direction", options.direction);\n  if (Cartesian3.equals(options.direction, Cartesian3.ZERO)) {\n    throw new DeveloperError("options.direction cannot be zero-length");\n  }\n  //>>includeEnd(\'debug\');\n\n  /**\n   * The direction in which light gets emitted.\n   * @type {Cartesian3}\n   */\n  this.direction = Cartesian3.clone(options.direction);\n\n  /**\n   * The color of the light.\n   * @type {Color}\n   * @default Color.WHITE\n   */\n  this.color = Color.clone(defaultValue(options.color, Color.WHITE));\n\n  /**\n   * The intensity of the light.\n   * @type {Number}\n   * @default 1.0\n   */\n  this.intensity = defaultValue(options.intensity, 1.0);\n}\n\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (DirectionalLight)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU2NDYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDVjtBQUNBO0FBQ2M7QUFDSTs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsWUFBWTtBQUN2QixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNFQUFlLGdFQUFnQixJQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL0RpcmVjdGlvbmFsTGlnaHQuanM/MmUwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2hlY2sgZnJvbSBcIi4uL0NvcmUvQ2hlY2suanNcIjtcbmltcG9ydCBDb2xvciBmcm9tIFwiLi4vQ29yZS9Db2xvci5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuXG4vKipcbiAqIEEgbGlnaHQgdGhhdCBnZXRzIGVtaXR0ZWQgaW4gYSBzaW5nbGUgZGlyZWN0aW9uIGZyb20gaW5maW5pdGVseSBmYXIgYXdheS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge0NhcnRlc2lhbjN9IG9wdGlvbnMuZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggbGlnaHQgZ2V0cyBlbWl0dGVkLlxuICogQHBhcmFtIHtDb2xvcn0gW29wdGlvbnMuY29sb3I9Q29sb3IuV0hJVEVdIFRoZSBjb2xvciBvZiB0aGUgbGlnaHQuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaW50ZW5zaXR5PTEuMF0gVGhlIGludGVuc2l0eSBvZiB0aGUgbGlnaHQuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IG9wdGlvbnMuZGlyZWN0aW9uIGNhbm5vdCBiZSB6ZXJvLWxlbmd0aFxuICpcbiAqIEBhbGlhcyBEaXJlY3Rpb25hbExpZ2h0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRGlyZWN0aW9uYWxMaWdodChvcHRpb25zKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zXCIsIG9wdGlvbnMpO1xuICBDaGVjay50eXBlT2Yub2JqZWN0KFwib3B0aW9ucy5kaXJlY3Rpb25cIiwgb3B0aW9ucy5kaXJlY3Rpb24pO1xuICBpZiAoQ2FydGVzaWFuMy5lcXVhbHMob3B0aW9ucy5kaXJlY3Rpb24sIENhcnRlc2lhbjMuWkVSTykpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zLmRpcmVjdGlvbiBjYW5ub3QgYmUgemVyby1sZW5ndGhcIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgLyoqXG4gICAqIFRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggbGlnaHQgZ2V0cyBlbWl0dGVkLlxuICAgKiBAdHlwZSB7Q2FydGVzaWFuM31cbiAgICovXG4gIHRoaXMuZGlyZWN0aW9uID0gQ2FydGVzaWFuMy5jbG9uZShvcHRpb25zLmRpcmVjdGlvbik7XG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgbGlnaHQuXG4gICAqIEB0eXBlIHtDb2xvcn1cbiAgICogQGRlZmF1bHQgQ29sb3IuV0hJVEVcbiAgICovXG4gIHRoaXMuY29sb3IgPSBDb2xvci5jbG9uZShkZWZhdWx0VmFsdWUob3B0aW9ucy5jb2xvciwgQ29sb3IuV0hJVEUpKTtcblxuICAvKipcbiAgICogVGhlIGludGVuc2l0eSBvZiB0aGUgbGlnaHQuXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEuMFxuICAgKi9cbiAgdGhpcy5pbnRlbnNpdHkgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5pbnRlbnNpdHksIDEuMCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IERpcmVjdGlvbmFsTGlnaHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15646\n')},46707:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82982);\n\n\n/**\n * A policy for discarding tile images that contain no data (and so aren\'t actually images).\n * This policy discards {@link DiscardEmptyTileImagePolicy.EMPTY_IMAGE}, which is\n * expected to be used in place of any empty tile images by the image loading code.\n *\n * @alias DiscardEmptyTileImagePolicy\n * @constructor\n *\n * @see DiscardMissingTileImagePolicy\n */\nfunction DiscardEmptyTileImagePolicy(options) {}\n\n/**\n * Determines if the discard policy is ready to process images.\n * @returns {Boolean} True if the discard policy is ready to process images; otherwise, false.\n */\nDiscardEmptyTileImagePolicy.prototype.isReady = function () {\n  return true;\n};\n\n/**\n * Given a tile image, decide whether to discard that image.\n *\n * @param {HTMLImageElement} image An image to test.\n * @returns {Boolean} True if the image should be discarded; otherwise, false.\n */\nDiscardEmptyTileImagePolicy.prototype.shouldDiscardImage = function (image) {\n  return DiscardEmptyTileImagePolicy.EMPTY_IMAGE === image;\n};\n\nvar emptyImage;\n\nObject.defineProperties(DiscardEmptyTileImagePolicy, {\n  /**\n   * Default value for representing an empty image.\n   * @type {HTMLImageElement}\n   * @readonly\n   * @memberof DiscardEmptyTileImagePolicy\n   */\n  EMPTY_IMAGE: {\n    get: function () {\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(emptyImage)) {\n        emptyImage = new Image();\n        // load a blank data URI with a 1x1 transparent pixel.\n        emptyImage.src =\n          "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";\n      }\n      return emptyImage;\n    },\n  },\n});\n/* harmony default export */ __webpack_exports__["Z"] = (DiscardEmptyTileImagePolicy);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY3MDcuanMiLCJtYXBwaW5ncyI6IjtBQUF5Qzs7QUFFekM7QUFDQTtBQUNBLHlCQUF5Qiw4Q0FBOEM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLHVEQUF1RDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixhQUFhLFNBQVMsdUNBQXVDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNELHlEQUFlLDJCQUEyQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL0Rpc2NhcmRFbXB0eVRpbGVJbWFnZVBvbGljeS5qcz9jNjQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcblxuLyoqXG4gKiBBIHBvbGljeSBmb3IgZGlzY2FyZGluZyB0aWxlIGltYWdlcyB0aGF0IGNvbnRhaW4gbm8gZGF0YSAoYW5kIHNvIGFyZW4ndCBhY3R1YWxseSBpbWFnZXMpLlxuICogVGhpcyBwb2xpY3kgZGlzY2FyZHMge0BsaW5rIERpc2NhcmRFbXB0eVRpbGVJbWFnZVBvbGljeS5FTVBUWV9JTUFHRX0sIHdoaWNoIGlzXG4gKiBleHBlY3RlZCB0byBiZSB1c2VkIGluIHBsYWNlIG9mIGFueSBlbXB0eSB0aWxlIGltYWdlcyBieSB0aGUgaW1hZ2UgbG9hZGluZyBjb2RlLlxuICpcbiAqIEBhbGlhcyBEaXNjYXJkRW1wdHlUaWxlSW1hZ2VQb2xpY3lcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBzZWUgRGlzY2FyZE1pc3NpbmdUaWxlSW1hZ2VQb2xpY3lcbiAqL1xuZnVuY3Rpb24gRGlzY2FyZEVtcHR5VGlsZUltYWdlUG9saWN5KG9wdGlvbnMpIHt9XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZGlzY2FyZCBwb2xpY3kgaXMgcmVhZHkgdG8gcHJvY2VzcyBpbWFnZXMuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgZGlzY2FyZCBwb2xpY3kgaXMgcmVhZHkgdG8gcHJvY2VzcyBpbWFnZXM7IG90aGVyd2lzZSwgZmFsc2UuXG4gKi9cbkRpc2NhcmRFbXB0eVRpbGVJbWFnZVBvbGljeS5wcm90b3R5cGUuaXNSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEdpdmVuIGEgdGlsZSBpbWFnZSwgZGVjaWRlIHdoZXRoZXIgdG8gZGlzY2FyZCB0aGF0IGltYWdlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2UgQW4gaW1hZ2UgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzY2FyZGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICovXG5EaXNjYXJkRW1wdHlUaWxlSW1hZ2VQb2xpY3kucHJvdG90eXBlLnNob3VsZERpc2NhcmRJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSkge1xuICByZXR1cm4gRGlzY2FyZEVtcHR5VGlsZUltYWdlUG9saWN5LkVNUFRZX0lNQUdFID09PSBpbWFnZTtcbn07XG5cbnZhciBlbXB0eUltYWdlO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNjYXJkRW1wdHlUaWxlSW1hZ2VQb2xpY3ksIHtcbiAgLyoqXG4gICAqIERlZmF1bHQgdmFsdWUgZm9yIHJlcHJlc2VudGluZyBhbiBlbXB0eSBpbWFnZS5cbiAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR9XG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyb2YgRGlzY2FyZEVtcHR5VGlsZUltYWdlUG9saWN5XG4gICAqL1xuICBFTVBUWV9JTUFHRToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFkZWZpbmVkKGVtcHR5SW1hZ2UpKSB7XG4gICAgICAgIGVtcHR5SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgLy8gbG9hZCBhIGJsYW5rIGRhdGEgVVJJIHdpdGggYSAxeDEgdHJhbnNwYXJlbnQgcGl4ZWwuXG4gICAgICAgIGVtcHR5SW1hZ2Uuc3JjID1cbiAgICAgICAgICBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBUUFBQUMxSEF3Q0FBQUFDMGxFUVZSNDJtTmtZQUFBQUFZQUFqQ0IwQzhBQUFBQVNVVk9SSzVDWUlJPVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5SW1hZ2U7XG4gICAgfSxcbiAgfSxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgRGlzY2FyZEVtcHR5VGlsZUltYWdlUG9saWN5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46707\n')},64158:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_getImagePixels_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81544);\n/* harmony import */ var _Core_Resource_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68985);\n\n\n\n\n\n\n/**\n * A policy for discarding tile images that match a known image containing a\n * "missing" image.\n *\n * @alias DiscardMissingTileImagePolicy\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Resource|String} options.missingImageUrl The URL of the known missing image.\n * @param {Cartesian2[]} options.pixelsToCheck An array of {@link Cartesian2} pixel positions to\n *        compare against the missing image.\n * @param {Boolean} [options.disableCheckIfAllPixelsAreTransparent=false] If true, the discard check will be disabled\n *                  if all of the pixelsToCheck in the missingImageUrl have an alpha value of 0.  If false, the\n *                  discard check will proceed no matter the values of the pixelsToCheck.\n */\nfunction DiscardMissingTileImagePolicy(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.missingImageUrl)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.missingImageUrl is required.");\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.pixelsToCheck)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("options.pixelsToCheck is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this._pixelsToCheck = options.pixelsToCheck;\n  this._missingImagePixels = undefined;\n  this._missingImageByteLength = undefined;\n  this._isReady = false;\n\n  var resource = _Core_Resource_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].createIfNeeded */ .Z.createIfNeeded(options.missingImageUrl);\n\n  var that = this;\n\n  function success(image) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(image.blob)) {\n      that._missingImageByteLength = image.blob.size;\n    }\n\n    var pixels = (0,_Core_getImagePixels_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(image);\n\n    if (options.disableCheckIfAllPixelsAreTransparent) {\n      var allAreTransparent = true;\n      var width = image.width;\n\n      var pixelsToCheck = options.pixelsToCheck;\n      for (\n        var i = 0, len = pixelsToCheck.length;\n        allAreTransparent && i < len;\n        ++i\n      ) {\n        var pos = pixelsToCheck[i];\n        var index = pos.x * 4 + pos.y * width;\n        var alpha = pixels[index + 3];\n\n        if (alpha > 0) {\n          allAreTransparent = false;\n        }\n      }\n\n      if (allAreTransparent) {\n        pixels = undefined;\n      }\n    }\n\n    that._missingImagePixels = pixels;\n    that._isReady = true;\n  }\n\n  function failure() {\n    // Failed to download "missing" image, so assume that any truly missing tiles\n    // will also fail to download and disable the discard check.\n    that._missingImagePixels = undefined;\n    that._isReady = true;\n  }\n\n  resource\n    .fetchImage({\n      preferBlob: true,\n      preferImageBitmap: true,\n      flipY: true,\n    })\n    .then(success)\n    .otherwise(failure);\n}\n\n/**\n * Determines if the discard policy is ready to process images.\n * @returns {Boolean} True if the discard policy is ready to process images; otherwise, false.\n */\nDiscardMissingTileImagePolicy.prototype.isReady = function () {\n  return this._isReady;\n};\n\n/**\n * Given a tile image, decide whether to discard that image.\n *\n * @param {HTMLImageElement} image An image to test.\n * @returns {Boolean} True if the image should be discarded; otherwise, false.\n *\n * @exception {DeveloperError} <code>shouldDiscardImage</code> must not be called before the discard policy is ready.\n */\nDiscardMissingTileImagePolicy.prototype.shouldDiscardImage = function (image) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!this._isReady) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(\n      "shouldDiscardImage must not be called before the discard policy is ready."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  var pixelsToCheck = this._pixelsToCheck;\n  var missingImagePixels = this._missingImagePixels;\n\n  // If missingImagePixels is undefined, it indicates that the discard check has been disabled.\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(missingImagePixels)) {\n    return false;\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(image.blob) && image.blob.size !== this._missingImageByteLength) {\n    return false;\n  }\n\n  var pixels = (0,_Core_getImagePixels_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(image);\n  var width = image.width;\n\n  for (var i = 0, len = pixelsToCheck.length; i < len; ++i) {\n    var pos = pixelsToCheck[i];\n    var index = pos.x * 4 + pos.y * width;\n    for (var offset = 0; offset < 4; ++offset) {\n      var pixel = index + offset;\n      if (pixels[pixel] !== missingImagePixels[pixel]) {\n        return false;\n      }\n    }\n  }\n  return true;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DiscardMissingTileImagePolicy);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQxNTguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7QUFDVjtBQUNjO0FBQ0E7QUFDWjs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxjQUFjLG1DQUFtQyxrQkFBa0I7QUFDOUU7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBFQUFZLFVBQVUsZ0dBQXlCOztBQUUzRDtBQUNBLE9BQU8scUVBQU87QUFDZCxjQUFjLHdFQUFjO0FBQzVCOztBQUVBLE9BQU8scUVBQU87QUFDZCxjQUFjLHdFQUFjO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLGdHQUF1Qjs7QUFFeEM7O0FBRUE7QUFDQSxRQUFRLHFFQUFPO0FBQ2Y7QUFDQTs7QUFFQSxpQkFBaUIsNEVBQWM7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxTQUFTLHVEQUF1RDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixhQUFhLFNBQVMsdUNBQXVDO0FBQzdEO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdFQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTs7QUFFQSxNQUFNLHFFQUFPO0FBQ2I7QUFDQTs7QUFFQSxlQUFlLDRFQUFjO0FBQzdCOztBQUVBLDhDQUE4QyxTQUFTO0FBQ3ZEO0FBQ0E7QUFDQSx5QkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsNkJBQTZCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRGlzY2FyZE1pc3NpbmdUaWxlSW1hZ2VQb2xpY3kuanM/NmYzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgZ2V0SW1hZ2VQaXhlbHMgZnJvbSBcIi4uL0NvcmUvZ2V0SW1hZ2VQaXhlbHMuanNcIjtcbmltcG9ydCBSZXNvdXJjZSBmcm9tIFwiLi4vQ29yZS9SZXNvdXJjZS5qc1wiO1xuXG4vKipcbiAqIEEgcG9saWN5IGZvciBkaXNjYXJkaW5nIHRpbGUgaW1hZ2VzIHRoYXQgbWF0Y2ggYSBrbm93biBpbWFnZSBjb250YWluaW5nIGFcbiAqIFwibWlzc2luZ1wiIGltYWdlLlxuICpcbiAqIEBhbGlhcyBEaXNjYXJkTWlzc2luZ1RpbGVJbWFnZVBvbGljeVxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogQHBhcmFtIHtSZXNvdXJjZXxTdHJpbmd9IG9wdGlvbnMubWlzc2luZ0ltYWdlVXJsIFRoZSBVUkwgb2YgdGhlIGtub3duIG1pc3NpbmcgaW1hZ2UuXG4gKiBAcGFyYW0ge0NhcnRlc2lhbjJbXX0gb3B0aW9ucy5waXhlbHNUb0NoZWNrIEFuIGFycmF5IG9mIHtAbGluayBDYXJ0ZXNpYW4yfSBwaXhlbCBwb3NpdGlvbnMgdG9cbiAqICAgICAgICBjb21wYXJlIGFnYWluc3QgdGhlIG1pc3NpbmcgaW1hZ2UuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRpc2FibGVDaGVja0lmQWxsUGl4ZWxzQXJlVHJhbnNwYXJlbnQ9ZmFsc2VdIElmIHRydWUsIHRoZSBkaXNjYXJkIGNoZWNrIHdpbGwgYmUgZGlzYWJsZWRcbiAqICAgICAgICAgICAgICAgICAgaWYgYWxsIG9mIHRoZSBwaXhlbHNUb0NoZWNrIGluIHRoZSBtaXNzaW5nSW1hZ2VVcmwgaGF2ZSBhbiBhbHBoYSB2YWx1ZSBvZiAwLiAgSWYgZmFsc2UsIHRoZVxuICogICAgICAgICAgICAgICAgICBkaXNjYXJkIGNoZWNrIHdpbGwgcHJvY2VlZCBubyBtYXR0ZXIgdGhlIHZhbHVlcyBvZiB0aGUgcGl4ZWxzVG9DaGVjay5cbiAqL1xuZnVuY3Rpb24gRGlzY2FyZE1pc3NpbmdUaWxlSW1hZ2VQb2xpY3kob3B0aW9ucykge1xuICBvcHRpb25zID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMsIGRlZmF1bHRWYWx1ZS5FTVBUWV9PQkpFQ1QpO1xuXG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChvcHRpb25zLm1pc3NpbmdJbWFnZVVybCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJvcHRpb25zLm1pc3NpbmdJbWFnZVVybCBpcyByZXF1aXJlZC5cIik7XG4gIH1cblxuICBpZiAoIWRlZmluZWQob3B0aW9ucy5waXhlbHNUb0NoZWNrKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcIm9wdGlvbnMucGl4ZWxzVG9DaGVjayBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdGhpcy5fcGl4ZWxzVG9DaGVjayA9IG9wdGlvbnMucGl4ZWxzVG9DaGVjaztcbiAgdGhpcy5fbWlzc2luZ0ltYWdlUGl4ZWxzID0gdW5kZWZpbmVkO1xuICB0aGlzLl9taXNzaW5nSW1hZ2VCeXRlTGVuZ3RoID0gdW5kZWZpbmVkO1xuICB0aGlzLl9pc1JlYWR5ID0gZmFsc2U7XG5cbiAgdmFyIHJlc291cmNlID0gUmVzb3VyY2UuY3JlYXRlSWZOZWVkZWQob3B0aW9ucy5taXNzaW5nSW1hZ2VVcmwpO1xuXG4gIHZhciB0aGF0ID0gdGhpcztcblxuICBmdW5jdGlvbiBzdWNjZXNzKGltYWdlKSB7XG4gICAgaWYgKGRlZmluZWQoaW1hZ2UuYmxvYikpIHtcbiAgICAgIHRoYXQuX21pc3NpbmdJbWFnZUJ5dGVMZW5ndGggPSBpbWFnZS5ibG9iLnNpemU7XG4gICAgfVxuXG4gICAgdmFyIHBpeGVscyA9IGdldEltYWdlUGl4ZWxzKGltYWdlKTtcblxuICAgIGlmIChvcHRpb25zLmRpc2FibGVDaGVja0lmQWxsUGl4ZWxzQXJlVHJhbnNwYXJlbnQpIHtcbiAgICAgIHZhciBhbGxBcmVUcmFuc3BhcmVudCA9IHRydWU7XG4gICAgICB2YXIgd2lkdGggPSBpbWFnZS53aWR0aDtcblxuICAgICAgdmFyIHBpeGVsc1RvQ2hlY2sgPSBvcHRpb25zLnBpeGVsc1RvQ2hlY2s7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgaSA9IDAsIGxlbiA9IHBpeGVsc1RvQ2hlY2subGVuZ3RoO1xuICAgICAgICBhbGxBcmVUcmFuc3BhcmVudCAmJiBpIDwgbGVuO1xuICAgICAgICArK2lcbiAgICAgICkge1xuICAgICAgICB2YXIgcG9zID0gcGl4ZWxzVG9DaGVja1tpXTtcbiAgICAgICAgdmFyIGluZGV4ID0gcG9zLnggKiA0ICsgcG9zLnkgKiB3aWR0aDtcbiAgICAgICAgdmFyIGFscGhhID0gcGl4ZWxzW2luZGV4ICsgM107XG5cbiAgICAgICAgaWYgKGFscGhhID4gMCkge1xuICAgICAgICAgIGFsbEFyZVRyYW5zcGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFsbEFyZVRyYW5zcGFyZW50KSB7XG4gICAgICAgIHBpeGVscyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGF0Ll9taXNzaW5nSW1hZ2VQaXhlbHMgPSBwaXhlbHM7XG4gICAgdGhhdC5faXNSZWFkeSA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBmYWlsdXJlKCkge1xuICAgIC8vIEZhaWxlZCB0byBkb3dubG9hZCBcIm1pc3NpbmdcIiBpbWFnZSwgc28gYXNzdW1lIHRoYXQgYW55IHRydWx5IG1pc3NpbmcgdGlsZXNcbiAgICAvLyB3aWxsIGFsc28gZmFpbCB0byBkb3dubG9hZCBhbmQgZGlzYWJsZSB0aGUgZGlzY2FyZCBjaGVjay5cbiAgICB0aGF0Ll9taXNzaW5nSW1hZ2VQaXhlbHMgPSB1bmRlZmluZWQ7XG4gICAgdGhhdC5faXNSZWFkeSA9IHRydWU7XG4gIH1cblxuICByZXNvdXJjZVxuICAgIC5mZXRjaEltYWdlKHtcbiAgICAgIHByZWZlckJsb2I6IHRydWUsXG4gICAgICBwcmVmZXJJbWFnZUJpdG1hcDogdHJ1ZSxcbiAgICAgIGZsaXBZOiB0cnVlLFxuICAgIH0pXG4gICAgLnRoZW4oc3VjY2VzcylcbiAgICAub3RoZXJ3aXNlKGZhaWx1cmUpO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlYWR5IHRvIHByb2Nlc3MgaW1hZ2VzLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlYWR5IHRvIHByb2Nlc3MgaW1hZ2VzOyBvdGhlcndpc2UsIGZhbHNlLlxuICovXG5EaXNjYXJkTWlzc2luZ1RpbGVJbWFnZVBvbGljeS5wcm90b3R5cGUuaXNSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2lzUmVhZHk7XG59O1xuXG4vKipcbiAqIEdpdmVuIGEgdGlsZSBpbWFnZSwgZGVjaWRlIHdoZXRoZXIgdG8gZGlzY2FyZCB0aGF0IGltYWdlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gaW1hZ2UgQW4gaW1hZ2UgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzY2FyZGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSA8Y29kZT5zaG91bGREaXNjYXJkSW1hZ2U8L2NvZGU+IG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlYWR5LlxuICovXG5EaXNjYXJkTWlzc2luZ1RpbGVJbWFnZVBvbGljeS5wcm90b3R5cGUuc2hvdWxkRGlzY2FyZEltYWdlID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghdGhpcy5faXNSZWFkeSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIFwic2hvdWxkRGlzY2FyZEltYWdlIG11c3Qgbm90IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGRpc2NhcmQgcG9saWN5IGlzIHJlYWR5LlwiXG4gICAgKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgcGl4ZWxzVG9DaGVjayA9IHRoaXMuX3BpeGVsc1RvQ2hlY2s7XG4gIHZhciBtaXNzaW5nSW1hZ2VQaXhlbHMgPSB0aGlzLl9taXNzaW5nSW1hZ2VQaXhlbHM7XG5cbiAgLy8gSWYgbWlzc2luZ0ltYWdlUGl4ZWxzIGlzIHVuZGVmaW5lZCwgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIGRpc2NhcmQgY2hlY2sgaGFzIGJlZW4gZGlzYWJsZWQuXG4gIGlmICghZGVmaW5lZChtaXNzaW5nSW1hZ2VQaXhlbHMpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGRlZmluZWQoaW1hZ2UuYmxvYikgJiYgaW1hZ2UuYmxvYi5zaXplICE9PSB0aGlzLl9taXNzaW5nSW1hZ2VCeXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBpeGVscyA9IGdldEltYWdlUGl4ZWxzKGltYWdlKTtcbiAgdmFyIHdpZHRoID0gaW1hZ2Uud2lkdGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBpeGVsc1RvQ2hlY2subGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgcG9zID0gcGl4ZWxzVG9DaGVja1tpXTtcbiAgICB2YXIgaW5kZXggPSBwb3MueCAqIDQgKyBwb3MueSAqIHdpZHRoO1xuICAgIGZvciAodmFyIG9mZnNldCA9IDA7IG9mZnNldCA8IDQ7ICsrb2Zmc2V0KSB7XG4gICAgICB2YXIgcGl4ZWwgPSBpbmRleCArIG9mZnNldDtcbiAgICAgIGlmIChwaXhlbHNbcGl4ZWxdICE9PSBtaXNzaW5nSW1hZ2VQaXhlbHNbcGl4ZWxdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuZXhwb3J0IGRlZmF1bHQgRGlzY2FyZE1pc3NpbmdUaWxlSW1hZ2VQb2xpY3k7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///64158\n')},8056:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_arraySlice_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(68591);\n/* harmony import */ var _Core_ComponentDatatype_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(84828);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(82982);\n/* harmony import */ var _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(96037);\n/* harmony import */ var _Core_TaskProcessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2819);\n/* harmony import */ var _GltfPipeline_ForEach_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(56629);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(13222);\n\n\n\n\n\n\n\n\n/**\n * @private\n */\nfunction DracoLoader() {}\n\n// Maximum concurrency to use when decoding draco models\nDracoLoader._maxDecodingConcurrency = Math.max(\n  _Core_FeatureDetection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].hardwareConcurrency */ .Z.hardwareConcurrency - 1,\n  1\n);\n\n// Exposed for testing purposes\nDracoLoader._decoderTaskProcessor = undefined;\nDracoLoader._taskProcessorReady = false;\nDracoLoader._getDecoderTaskProcessor = function () {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(DracoLoader._decoderTaskProcessor)) {\n    var processor = new _Core_TaskProcessor_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(\n      "decodeDraco",\n      DracoLoader._maxDecodingConcurrency\n    );\n    processor\n      .initWebAssemblyModule({\n        modulePath: "ThirdParty/Workers/draco_wasm_wrapper.js",\n        wasmBinaryFile: "ThirdParty/draco_decoder.wasm",\n      })\n      .then(function () {\n        DracoLoader._taskProcessorReady = true;\n      });\n    DracoLoader._decoderTaskProcessor = processor;\n  }\n\n  return DracoLoader._decoderTaskProcessor;\n};\n\n/**\n * Returns true if the model uses or requires KHR_draco_mesh_compression.\n *\n * @private\n */\nDracoLoader.hasExtension = function (model) {\n  return (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(model.extensionsRequired.KHR_draco_mesh_compression) ||\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(model.extensionsUsed.KHR_draco_mesh_compression)\n  );\n};\n\nfunction addBufferToLoadResources(loadResources, typedArray) {\n  // Create a new id to differentiate from original glTF bufferViews\n  var bufferViewId =\n    "runtime." + Object.keys(loadResources.createdBufferViews).length;\n\n  var loadResourceBuffers = loadResources.buffers;\n  var id = Object.keys(loadResourceBuffers).length;\n  loadResourceBuffers[id] = typedArray;\n  loadResources.createdBufferViews[bufferViewId] = {\n    buffer: id,\n    byteOffset: 0,\n    byteLength: typedArray.byteLength,\n  };\n\n  return bufferViewId;\n}\n\nfunction addNewVertexBuffer(typedArray, model, context) {\n  var loadResources = model._loadResources;\n  var id = addBufferToLoadResources(loadResources, typedArray);\n  loadResources.vertexBuffersToCreate.enqueue(id);\n  return id;\n}\n\nfunction addNewIndexBuffer(indexArray, model, context) {\n  var typedArray = indexArray.typedArray;\n  var loadResources = model._loadResources;\n  var id = addBufferToLoadResources(loadResources, typedArray);\n  loadResources.indexBuffersToCreate.enqueue({\n    id: id,\n    componentType: _Core_ComponentDatatype_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromTypedArray */ .Z.fromTypedArray(typedArray),\n  });\n\n  return {\n    bufferViewId: id,\n    numberOfIndices: indexArray.numberOfIndices,\n  };\n}\n\nfunction scheduleDecodingTask(\n  decoderTaskProcessor,\n  model,\n  loadResources,\n  context\n) {\n  if (!DracoLoader._taskProcessorReady) {\n    // The task processor is not ready to schedule tasks\n    return;\n  }\n\n  var taskData = loadResources.primitivesToDecode.peek();\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(taskData)) {\n    // All primitives are processing\n    return;\n  }\n\n  var promise = decoderTaskProcessor.scheduleTask(taskData, [\n    taskData.array.buffer,\n  ]);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(promise)) {\n    // Cannot schedule another task this frame\n    return;\n  }\n\n  loadResources.activeDecodingTasks++;\n  loadResources.primitivesToDecode.dequeue();\n  return promise.then(function (result) {\n    loadResources.activeDecodingTasks--;\n\n    var decodedIndexBuffer = addNewIndexBuffer(\n      result.indexArray,\n      model,\n      context\n    );\n\n    var attributes = {};\n    var decodedAttributeData = result.attributeData;\n    for (var attributeName in decodedAttributeData) {\n      if (decodedAttributeData.hasOwnProperty(attributeName)) {\n        var attribute = decodedAttributeData[attributeName];\n        var vertexArray = attribute.array;\n        var vertexBufferView = addNewVertexBuffer(vertexArray, model, context);\n\n        var data = attribute.data;\n        data.bufferView = vertexBufferView;\n\n        attributes[attributeName] = data;\n      }\n    }\n\n    model._decodedData[taskData.mesh + ".primitive." + taskData.primitive] = {\n      bufferView: decodedIndexBuffer.bufferViewId,\n      numberOfIndices: decodedIndexBuffer.numberOfIndices,\n      attributes: attributes,\n    };\n  });\n}\n\nDracoLoader._decodedModelResourceCache = undefined;\n\n/**\n * Parses draco extension on model primitives and\n * adds the decoding data to the model\'s load resources.\n *\n * @private\n */\nDracoLoader.parse = function (model, context) {\n  if (!DracoLoader.hasExtension(model)) {\n    return;\n  }\n\n  var loadResources = model._loadResources;\n  var cacheKey = model.cacheKey;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cacheKey)) {\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(DracoLoader._decodedModelResourceCache)) {\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(context.cache.modelDecodingCache)) {\n        context.cache.modelDecodingCache = {};\n      }\n\n      DracoLoader._decodedModelResourceCache = context.cache.modelDecodingCache;\n    }\n\n    // Decoded data for model will be loaded from cache\n    var cachedData = DracoLoader._decodedModelResourceCache[cacheKey];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cachedData)) {\n      cachedData.count++;\n      loadResources.pendingDecodingCache = true;\n      return;\n    }\n  }\n\n  var dequantizeInShader = model._dequantizeInShader;\n  var gltf = model.gltf;\n  _GltfPipeline_ForEach_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].mesh */ .Z.mesh(gltf, function (mesh, meshId) {\n    _GltfPipeline_ForEach_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].meshPrimitive */ .Z.meshPrimitive(mesh, function (primitive, primitiveId) {\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(primitive.extensions)) {\n        return;\n      }\n\n      var compressionData = primitive.extensions.KHR_draco_mesh_compression;\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(compressionData)) {\n        return;\n      }\n\n      var bufferView = gltf.bufferViews[compressionData.bufferView];\n      var typedArray = (0,_Core_arraySlice_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n        gltf.buffers[bufferView.buffer].extras._pipeline.source,\n        bufferView.byteOffset,\n        bufferView.byteOffset + bufferView.byteLength\n      );\n      loadResources.primitivesToDecode.enqueue({\n        mesh: meshId,\n        primitive: primitiveId,\n        array: typedArray,\n        bufferView: bufferView,\n        compressedAttributes: compressionData.attributes,\n        dequantizeInShader: dequantizeInShader,\n      });\n    });\n  });\n};\n\n/**\n * Schedules decoding tasks available this frame.\n * @private\n */\nDracoLoader.decodeModel = function (model, context) {\n  if (!DracoLoader.hasExtension(model)) {\n    return _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].resolve */ .Z.resolve();\n  }\n\n  var loadResources = model._loadResources;\n  var cacheKey = model.cacheKey;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cacheKey) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(DracoLoader._decodedModelResourceCache)) {\n    var cachedData = DracoLoader._decodedModelResourceCache[cacheKey];\n    // Load decoded data for model when cache is ready\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cachedData) && loadResources.pendingDecodingCache) {\n      return (0,_ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(cachedData.ready, function () {\n        model._decodedData = cachedData.data;\n        loadResources.pendingDecodingCache = false;\n      });\n    }\n\n    // Decoded data for model should be cached when ready\n    DracoLoader._decodedModelResourceCache[cacheKey] = {\n      ready: false,\n      count: 1,\n      data: undefined,\n    };\n  }\n\n  if (loadResources.primitivesToDecode.length === 0) {\n    // No more tasks to schedule\n    return _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].resolve */ .Z.resolve();\n  }\n\n  var decoderTaskProcessor = DracoLoader._getDecoderTaskProcessor();\n  var decodingPromises = [];\n\n  var promise = scheduleDecodingTask(\n    decoderTaskProcessor,\n    model,\n    loadResources,\n    context\n  );\n  while ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(promise)) {\n    decodingPromises.push(promise);\n    promise = scheduleDecodingTask(\n      decoderTaskProcessor,\n      model,\n      loadResources,\n      context\n    );\n  }\n\n  return _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].all */ .Z.all(decodingPromises);\n};\n\n/**\n * Decodes a compressed point cloud. Returns undefined if the task cannot be scheduled.\n * @private\n */\nDracoLoader.decodePointCloud = function (parameters) {\n  var decoderTaskProcessor = DracoLoader._getDecoderTaskProcessor();\n  if (!DracoLoader._taskProcessorReady) {\n    // The task processor is not ready to schedule tasks\n    return;\n  }\n  return decoderTaskProcessor.scheduleTask(parameters, [\n    parameters.buffer.buffer,\n  ]);\n};\n\n/**\n * Decodes a buffer view. Returns undefined if the task cannot be scheduled.\n *\n * @param {Object} options Object with the following properties:\n * @param {Uint8Array} options.array The typed array containing the buffer view data.\n * @param {Object} options.bufferView The glTF buffer view object.\n * @param {Object.<String, Number>} options.compressedAttributes The compressed attributes.\n * @param {Boolean} options.dequantizeInShader Whether POSITION and NORMAL attributes should be dequantized on the GPU.\n *\n * @returns {Promise} A promise that resolves to the decoded indices and attributes.\n * @private\n */\nDracoLoader.decodeBufferView = function (options) {\n  var decoderTaskProcessor = DracoLoader._getDecoderTaskProcessor();\n  if (!DracoLoader._taskProcessorReady) {\n    // The task processor is not ready to schedule tasks\n    return;\n  }\n\n  return decoderTaskProcessor.scheduleTask(options, [options.array.buffer]);\n};\n\n/**\n * Caches a models decoded data so it doesn\'t need to decode more than once.\n * @private\n */\nDracoLoader.cacheDataForModel = function (model) {\n  var cacheKey = model.cacheKey;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cacheKey) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(DracoLoader._decodedModelResourceCache)) {\n    var cachedData = DracoLoader._decodedModelResourceCache[cacheKey];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cachedData)) {\n      cachedData.ready = true;\n      cachedData.data = model._decodedData;\n    }\n  }\n};\n\n/**\n * Destroys the cached data that this model references if it is no longer in use.\n * @private\n */\nDracoLoader.destroyCachedDataForModel = function (model) {\n  var cacheKey = model.cacheKey;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cacheKey) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(DracoLoader._decodedModelResourceCache)) {\n    var cachedData = DracoLoader._decodedModelResourceCache[cacheKey];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(cachedData) && --cachedData.count === 0) {\n      delete DracoLoader._decodedModelResourceCache[cacheKey];\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DracoLoader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxRUFBTyxjQUFjLHFFQUFPO0FBQ2xDO0FBQ0EsUUFBUSxxRUFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxRUFBTyxjQUFjLHFFQUFPO0FBQ2xDO0FBQ0EsUUFBUSxxRUFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL1NjZW5lL0RyYWNvTG9hZGVyLmpzP2ZiYmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5U2xpY2UgZnJvbSBcIi4uL0NvcmUvYXJyYXlTbGljZS5qc1wiO1xuaW1wb3J0IENvbXBvbmVudERhdGF0eXBlIGZyb20gXCIuLi9Db3JlL0NvbXBvbmVudERhdGF0eXBlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRmVhdHVyZURldGVjdGlvbiBmcm9tIFwiLi4vQ29yZS9GZWF0dXJlRGV0ZWN0aW9uLmpzXCI7XG5pbXBvcnQgVGFza1Byb2Nlc3NvciBmcm9tIFwiLi4vQ29yZS9UYXNrUHJvY2Vzc29yLmpzXCI7XG5pbXBvcnQgRm9yRWFjaCBmcm9tIFwiLi9HbHRmUGlwZWxpbmUvRm9yRWFjaC5qc1wiO1xuaW1wb3J0IHdoZW4gZnJvbSBcIi4uL1RoaXJkUGFydHkvd2hlbi5qc1wiO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIERyYWNvTG9hZGVyKCkge31cblxuLy8gTWF4aW11bSBjb25jdXJyZW5jeSB0byB1c2Ugd2hlbiBkZWNvZGluZyBkcmFjbyBtb2RlbHNcbkRyYWNvTG9hZGVyLl9tYXhEZWNvZGluZ0NvbmN1cnJlbmN5ID0gTWF0aC5tYXgoXG4gIEZlYXR1cmVEZXRlY3Rpb24uaGFyZHdhcmVDb25jdXJyZW5jeSAtIDEsXG4gIDFcbik7XG5cbi8vIEV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXNcbkRyYWNvTG9hZGVyLl9kZWNvZGVyVGFza1Byb2Nlc3NvciA9IHVuZGVmaW5lZDtcbkRyYWNvTG9hZGVyLl90YXNrUHJvY2Vzc29yUmVhZHkgPSBmYWxzZTtcbkRyYWNvTG9hZGVyLl9nZXREZWNvZGVyVGFza1Byb2Nlc3NvciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFkZWZpbmVkKERyYWNvTG9hZGVyLl9kZWNvZGVyVGFza1Byb2Nlc3NvcikpIHtcbiAgICB2YXIgcHJvY2Vzc29yID0gbmV3IFRhc2tQcm9jZXNzb3IoXG4gICAgICBcImRlY29kZURyYWNvXCIsXG4gICAgICBEcmFjb0xvYWRlci5fbWF4RGVjb2RpbmdDb25jdXJyZW5jeVxuICAgICk7XG4gICAgcHJvY2Vzc29yXG4gICAgICAuaW5pdFdlYkFzc2VtYmx5TW9kdWxlKHtcbiAgICAgICAgbW9kdWxlUGF0aDogXCJUaGlyZFBhcnR5L1dvcmtlcnMvZHJhY29fd2FzbV93cmFwcGVyLmpzXCIsXG4gICAgICAgIHdhc21CaW5hcnlGaWxlOiBcIlRoaXJkUGFydHkvZHJhY29fZGVjb2Rlci53YXNtXCIsXG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBEcmFjb0xvYWRlci5fdGFza1Byb2Nlc3NvclJlYWR5ID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIERyYWNvTG9hZGVyLl9kZWNvZGVyVGFza1Byb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgfVxuXG4gIHJldHVybiBEcmFjb0xvYWRlci5fZGVjb2RlclRhc2tQcm9jZXNzb3I7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbW9kZWwgdXNlcyBvciByZXF1aXJlcyBLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EcmFjb0xvYWRlci5oYXNFeHRlbnNpb24gPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgcmV0dXJuIChcbiAgICBkZWZpbmVkKG1vZGVsLmV4dGVuc2lvbnNSZXF1aXJlZC5LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbikgfHxcbiAgICBkZWZpbmVkKG1vZGVsLmV4dGVuc2lvbnNVc2VkLktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uKVxuICApO1xufTtcblxuZnVuY3Rpb24gYWRkQnVmZmVyVG9Mb2FkUmVzb3VyY2VzKGxvYWRSZXNvdXJjZXMsIHR5cGVkQXJyYXkpIHtcbiAgLy8gQ3JlYXRlIGEgbmV3IGlkIHRvIGRpZmZlcmVudGlhdGUgZnJvbSBvcmlnaW5hbCBnbFRGIGJ1ZmZlclZpZXdzXG4gIHZhciBidWZmZXJWaWV3SWQgPVxuICAgIFwicnVudGltZS5cIiArIE9iamVjdC5rZXlzKGxvYWRSZXNvdXJjZXMuY3JlYXRlZEJ1ZmZlclZpZXdzKS5sZW5ndGg7XG5cbiAgdmFyIGxvYWRSZXNvdXJjZUJ1ZmZlcnMgPSBsb2FkUmVzb3VyY2VzLmJ1ZmZlcnM7XG4gIHZhciBpZCA9IE9iamVjdC5rZXlzKGxvYWRSZXNvdXJjZUJ1ZmZlcnMpLmxlbmd0aDtcbiAgbG9hZFJlc291cmNlQnVmZmVyc1tpZF0gPSB0eXBlZEFycmF5O1xuICBsb2FkUmVzb3VyY2VzLmNyZWF0ZWRCdWZmZXJWaWV3c1tidWZmZXJWaWV3SWRdID0ge1xuICAgIGJ1ZmZlcjogaWQsXG4gICAgYnl0ZU9mZnNldDogMCxcbiAgICBieXRlTGVuZ3RoOiB0eXBlZEFycmF5LmJ5dGVMZW5ndGgsXG4gIH07XG5cbiAgcmV0dXJuIGJ1ZmZlclZpZXdJZDtcbn1cblxuZnVuY3Rpb24gYWRkTmV3VmVydGV4QnVmZmVyKHR5cGVkQXJyYXksIG1vZGVsLCBjb250ZXh0KSB7XG4gIHZhciBsb2FkUmVzb3VyY2VzID0gbW9kZWwuX2xvYWRSZXNvdXJjZXM7XG4gIHZhciBpZCA9IGFkZEJ1ZmZlclRvTG9hZFJlc291cmNlcyhsb2FkUmVzb3VyY2VzLCB0eXBlZEFycmF5KTtcbiAgbG9hZFJlc291cmNlcy52ZXJ0ZXhCdWZmZXJzVG9DcmVhdGUuZW5xdWV1ZShpZCk7XG4gIHJldHVybiBpZDtcbn1cblxuZnVuY3Rpb24gYWRkTmV3SW5kZXhCdWZmZXIoaW5kZXhBcnJheSwgbW9kZWwsIGNvbnRleHQpIHtcbiAgdmFyIHR5cGVkQXJyYXkgPSBpbmRleEFycmF5LnR5cGVkQXJyYXk7XG4gIHZhciBsb2FkUmVzb3VyY2VzID0gbW9kZWwuX2xvYWRSZXNvdXJjZXM7XG4gIHZhciBpZCA9IGFkZEJ1ZmZlclRvTG9hZFJlc291cmNlcyhsb2FkUmVzb3VyY2VzLCB0eXBlZEFycmF5KTtcbiAgbG9hZFJlc291cmNlcy5pbmRleEJ1ZmZlcnNUb0NyZWF0ZS5lbnF1ZXVlKHtcbiAgICBpZDogaWQsXG4gICAgY29tcG9uZW50VHlwZTogQ29tcG9uZW50RGF0YXR5cGUuZnJvbVR5cGVkQXJyYXkodHlwZWRBcnJheSksXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgYnVmZmVyVmlld0lkOiBpZCxcbiAgICBudW1iZXJPZkluZGljZXM6IGluZGV4QXJyYXkubnVtYmVyT2ZJbmRpY2VzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBzY2hlZHVsZURlY29kaW5nVGFzayhcbiAgZGVjb2RlclRhc2tQcm9jZXNzb3IsXG4gIG1vZGVsLFxuICBsb2FkUmVzb3VyY2VzLFxuICBjb250ZXh0XG4pIHtcbiAgaWYgKCFEcmFjb0xvYWRlci5fdGFza1Byb2Nlc3NvclJlYWR5KSB7XG4gICAgLy8gVGhlIHRhc2sgcHJvY2Vzc29yIGlzIG5vdCByZWFkeSB0byBzY2hlZHVsZSB0YXNrc1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0YXNrRGF0YSA9IGxvYWRSZXNvdXJjZXMucHJpbWl0aXZlc1RvRGVjb2RlLnBlZWsoKTtcbiAgaWYgKCFkZWZpbmVkKHRhc2tEYXRhKSkge1xuICAgIC8vIEFsbCBwcmltaXRpdmVzIGFyZSBwcm9jZXNzaW5nXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBkZWNvZGVyVGFza1Byb2Nlc3Nvci5zY2hlZHVsZVRhc2sodGFza0RhdGEsIFtcbiAgICB0YXNrRGF0YS5hcnJheS5idWZmZXIsXG4gIF0pO1xuICBpZiAoIWRlZmluZWQocHJvbWlzZSkpIHtcbiAgICAvLyBDYW5ub3Qgc2NoZWR1bGUgYW5vdGhlciB0YXNrIHRoaXMgZnJhbWVcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2FkUmVzb3VyY2VzLmFjdGl2ZURlY29kaW5nVGFza3MrKztcbiAgbG9hZFJlc291cmNlcy5wcmltaXRpdmVzVG9EZWNvZGUuZGVxdWV1ZSgpO1xuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBsb2FkUmVzb3VyY2VzLmFjdGl2ZURlY29kaW5nVGFza3MtLTtcblxuICAgIHZhciBkZWNvZGVkSW5kZXhCdWZmZXIgPSBhZGROZXdJbmRleEJ1ZmZlcihcbiAgICAgIHJlc3VsdC5pbmRleEFycmF5LFxuICAgICAgbW9kZWwsXG4gICAgICBjb250ZXh0XG4gICAgKTtcblxuICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG4gICAgdmFyIGRlY29kZWRBdHRyaWJ1dGVEYXRhID0gcmVzdWx0LmF0dHJpYnV0ZURhdGE7XG4gICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBkZWNvZGVkQXR0cmlidXRlRGF0YSkge1xuICAgICAgaWYgKGRlY29kZWRBdHRyaWJ1dGVEYXRhLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSBkZWNvZGVkQXR0cmlidXRlRGF0YVthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgdmFyIHZlcnRleEFycmF5ID0gYXR0cmlidXRlLmFycmF5O1xuICAgICAgICB2YXIgdmVydGV4QnVmZmVyVmlldyA9IGFkZE5ld1ZlcnRleEJ1ZmZlcih2ZXJ0ZXhBcnJheSwgbW9kZWwsIGNvbnRleHQpO1xuXG4gICAgICAgIHZhciBkYXRhID0gYXR0cmlidXRlLmRhdGE7XG4gICAgICAgIGRhdGEuYnVmZmVyVmlldyA9IHZlcnRleEJ1ZmZlclZpZXc7XG5cbiAgICAgICAgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9IGRhdGE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbW9kZWwuX2RlY29kZWREYXRhW3Rhc2tEYXRhLm1lc2ggKyBcIi5wcmltaXRpdmUuXCIgKyB0YXNrRGF0YS5wcmltaXRpdmVdID0ge1xuICAgICAgYnVmZmVyVmlldzogZGVjb2RlZEluZGV4QnVmZmVyLmJ1ZmZlclZpZXdJZCxcbiAgICAgIG51bWJlck9mSW5kaWNlczogZGVjb2RlZEluZGV4QnVmZmVyLm51bWJlck9mSW5kaWNlcyxcbiAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXG4gICAgfTtcbiAgfSk7XG59XG5cbkRyYWNvTG9hZGVyLl9kZWNvZGVkTW9kZWxSZXNvdXJjZUNhY2hlID0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIFBhcnNlcyBkcmFjbyBleHRlbnNpb24gb24gbW9kZWwgcHJpbWl0aXZlcyBhbmRcbiAqIGFkZHMgdGhlIGRlY29kaW5nIGRhdGEgdG8gdGhlIG1vZGVsJ3MgbG9hZCByZXNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRHJhY29Mb2FkZXIucGFyc2UgPSBmdW5jdGlvbiAobW9kZWwsIGNvbnRleHQpIHtcbiAgaWYgKCFEcmFjb0xvYWRlci5oYXNFeHRlbnNpb24obW9kZWwpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGxvYWRSZXNvdXJjZXMgPSBtb2RlbC5fbG9hZFJlc291cmNlcztcbiAgdmFyIGNhY2hlS2V5ID0gbW9kZWwuY2FjaGVLZXk7XG4gIGlmIChkZWZpbmVkKGNhY2hlS2V5KSkge1xuICAgIGlmICghZGVmaW5lZChEcmFjb0xvYWRlci5fZGVjb2RlZE1vZGVsUmVzb3VyY2VDYWNoZSkpIHtcbiAgICAgIGlmICghZGVmaW5lZChjb250ZXh0LmNhY2hlLm1vZGVsRGVjb2RpbmdDYWNoZSkpIHtcbiAgICAgICAgY29udGV4dC5jYWNoZS5tb2RlbERlY29kaW5nQ2FjaGUgPSB7fTtcbiAgICAgIH1cblxuICAgICAgRHJhY29Mb2FkZXIuX2RlY29kZWRNb2RlbFJlc291cmNlQ2FjaGUgPSBjb250ZXh0LmNhY2hlLm1vZGVsRGVjb2RpbmdDYWNoZTtcbiAgICB9XG5cbiAgICAvLyBEZWNvZGVkIGRhdGEgZm9yIG1vZGVsIHdpbGwgYmUgbG9hZGVkIGZyb20gY2FjaGVcbiAgICB2YXIgY2FjaGVkRGF0YSA9IERyYWNvTG9hZGVyLl9kZWNvZGVkTW9kZWxSZXNvdXJjZUNhY2hlW2NhY2hlS2V5XTtcbiAgICBpZiAoZGVmaW5lZChjYWNoZWREYXRhKSkge1xuICAgICAgY2FjaGVkRGF0YS5jb3VudCsrO1xuICAgICAgbG9hZFJlc291cmNlcy5wZW5kaW5nRGVjb2RpbmdDYWNoZSA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgdmFyIGRlcXVhbnRpemVJblNoYWRlciA9IG1vZGVsLl9kZXF1YW50aXplSW5TaGFkZXI7XG4gIHZhciBnbHRmID0gbW9kZWwuZ2x0ZjtcbiAgRm9yRWFjaC5tZXNoKGdsdGYsIGZ1bmN0aW9uIChtZXNoLCBtZXNoSWQpIHtcbiAgICBGb3JFYWNoLm1lc2hQcmltaXRpdmUobWVzaCwgZnVuY3Rpb24gKHByaW1pdGl2ZSwgcHJpbWl0aXZlSWQpIHtcbiAgICAgIGlmICghZGVmaW5lZChwcmltaXRpdmUuZXh0ZW5zaW9ucykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29tcHJlc3Npb25EYXRhID0gcHJpbWl0aXZlLmV4dGVuc2lvbnMuS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb247XG4gICAgICBpZiAoIWRlZmluZWQoY29tcHJlc3Npb25EYXRhKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBidWZmZXJWaWV3ID0gZ2x0Zi5idWZmZXJWaWV3c1tjb21wcmVzc2lvbkRhdGEuYnVmZmVyVmlld107XG4gICAgICB2YXIgdHlwZWRBcnJheSA9IGFycmF5U2xpY2UoXG4gICAgICAgIGdsdGYuYnVmZmVyc1tidWZmZXJWaWV3LmJ1ZmZlcl0uZXh0cmFzLl9waXBlbGluZS5zb3VyY2UsXG4gICAgICAgIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCxcbiAgICAgICAgYnVmZmVyVmlldy5ieXRlT2Zmc2V0ICsgYnVmZmVyVmlldy5ieXRlTGVuZ3RoXG4gICAgICApO1xuICAgICAgbG9hZFJlc291cmNlcy5wcmltaXRpdmVzVG9EZWNvZGUuZW5xdWV1ZSh7XG4gICAgICAgIG1lc2g6IG1lc2hJZCxcbiAgICAgICAgcHJpbWl0aXZlOiBwcmltaXRpdmVJZCxcbiAgICAgICAgYXJyYXk6IHR5cGVkQXJyYXksXG4gICAgICAgIGJ1ZmZlclZpZXc6IGJ1ZmZlclZpZXcsXG4gICAgICAgIGNvbXByZXNzZWRBdHRyaWJ1dGVzOiBjb21wcmVzc2lvbkRhdGEuYXR0cmlidXRlcyxcbiAgICAgICAgZGVxdWFudGl6ZUluU2hhZGVyOiBkZXF1YW50aXplSW5TaGFkZXIsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFNjaGVkdWxlcyBkZWNvZGluZyB0YXNrcyBhdmFpbGFibGUgdGhpcyBmcmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbkRyYWNvTG9hZGVyLmRlY29kZU1vZGVsID0gZnVuY3Rpb24gKG1vZGVsLCBjb250ZXh0KSB7XG4gIGlmICghRHJhY29Mb2FkZXIuaGFzRXh0ZW5zaW9uKG1vZGVsKSkge1xuICAgIHJldHVybiB3aGVuLnJlc29sdmUoKTtcbiAgfVxuXG4gIHZhciBsb2FkUmVzb3VyY2VzID0gbW9kZWwuX2xvYWRSZXNvdXJjZXM7XG4gIHZhciBjYWNoZUtleSA9IG1vZGVsLmNhY2hlS2V5O1xuICBpZiAoZGVmaW5lZChjYWNoZUtleSkgJiYgZGVmaW5lZChEcmFjb0xvYWRlci5fZGVjb2RlZE1vZGVsUmVzb3VyY2VDYWNoZSkpIHtcbiAgICB2YXIgY2FjaGVkRGF0YSA9IERyYWNvTG9hZGVyLl9kZWNvZGVkTW9kZWxSZXNvdXJjZUNhY2hlW2NhY2hlS2V5XTtcbiAgICAvLyBMb2FkIGRlY29kZWQgZGF0YSBmb3IgbW9kZWwgd2hlbiBjYWNoZSBpcyByZWFkeVxuICAgIGlmIChkZWZpbmVkKGNhY2hlZERhdGEpICYmIGxvYWRSZXNvdXJjZXMucGVuZGluZ0RlY29kaW5nQ2FjaGUpIHtcbiAgICAgIHJldHVybiB3aGVuKGNhY2hlZERhdGEucmVhZHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9kZWwuX2RlY29kZWREYXRhID0gY2FjaGVkRGF0YS5kYXRhO1xuICAgICAgICBsb2FkUmVzb3VyY2VzLnBlbmRpbmdEZWNvZGluZ0NhY2hlID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZWNvZGVkIGRhdGEgZm9yIG1vZGVsIHNob3VsZCBiZSBjYWNoZWQgd2hlbiByZWFkeVxuICAgIERyYWNvTG9hZGVyLl9kZWNvZGVkTW9kZWxSZXNvdXJjZUNhY2hlW2NhY2hlS2V5XSA9IHtcbiAgICAgIHJlYWR5OiBmYWxzZSxcbiAgICAgIGNvdW50OiAxLFxuICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBpZiAobG9hZFJlc291cmNlcy5wcmltaXRpdmVzVG9EZWNvZGUubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gTm8gbW9yZSB0YXNrcyB0byBzY2hlZHVsZVxuICAgIHJldHVybiB3aGVuLnJlc29sdmUoKTtcbiAgfVxuXG4gIHZhciBkZWNvZGVyVGFza1Byb2Nlc3NvciA9IERyYWNvTG9hZGVyLl9nZXREZWNvZGVyVGFza1Byb2Nlc3NvcigpO1xuICB2YXIgZGVjb2RpbmdQcm9taXNlcyA9IFtdO1xuXG4gIHZhciBwcm9taXNlID0gc2NoZWR1bGVEZWNvZGluZ1Rhc2soXG4gICAgZGVjb2RlclRhc2tQcm9jZXNzb3IsXG4gICAgbW9kZWwsXG4gICAgbG9hZFJlc291cmNlcyxcbiAgICBjb250ZXh0XG4gICk7XG4gIHdoaWxlIChkZWZpbmVkKHByb21pc2UpKSB7XG4gICAgZGVjb2RpbmdQcm9taXNlcy5wdXNoKHByb21pc2UpO1xuICAgIHByb21pc2UgPSBzY2hlZHVsZURlY29kaW5nVGFzayhcbiAgICAgIGRlY29kZXJUYXNrUHJvY2Vzc29yLFxuICAgICAgbW9kZWwsXG4gICAgICBsb2FkUmVzb3VyY2VzLFxuICAgICAgY29udGV4dFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gd2hlbi5hbGwoZGVjb2RpbmdQcm9taXNlcyk7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBjb21wcmVzc2VkIHBvaW50IGNsb3VkLiBSZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGUgdGFzayBjYW5ub3QgYmUgc2NoZWR1bGVkLlxuICogQHByaXZhdGVcbiAqL1xuRHJhY29Mb2FkZXIuZGVjb2RlUG9pbnRDbG91ZCA9IGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7XG4gIHZhciBkZWNvZGVyVGFza1Byb2Nlc3NvciA9IERyYWNvTG9hZGVyLl9nZXREZWNvZGVyVGFza1Byb2Nlc3NvcigpO1xuICBpZiAoIURyYWNvTG9hZGVyLl90YXNrUHJvY2Vzc29yUmVhZHkpIHtcbiAgICAvLyBUaGUgdGFzayBwcm9jZXNzb3IgaXMgbm90IHJlYWR5IHRvIHNjaGVkdWxlIHRhc2tzXG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBkZWNvZGVyVGFza1Byb2Nlc3Nvci5zY2hlZHVsZVRhc2socGFyYW1ldGVycywgW1xuICAgIHBhcmFtZXRlcnMuYnVmZmVyLmJ1ZmZlcixcbiAgXSk7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBidWZmZXIgdmlldy4gUmV0dXJucyB1bmRlZmluZWQgaWYgdGhlIHRhc2sgY2Fubm90IGJlIHNjaGVkdWxlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IG9wdGlvbnMuYXJyYXkgVGhlIHR5cGVkIGFycmF5IGNvbnRhaW5pbmcgdGhlIGJ1ZmZlciB2aWV3IGRhdGEuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5idWZmZXJWaWV3IFRoZSBnbFRGIGJ1ZmZlciB2aWV3IG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIE51bWJlcj59IG9wdGlvbnMuY29tcHJlc3NlZEF0dHJpYnV0ZXMgVGhlIGNvbXByZXNzZWQgYXR0cmlidXRlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5kZXF1YW50aXplSW5TaGFkZXIgV2hldGhlciBQT1NJVElPTiBhbmQgTk9STUFMIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGRlcXVhbnRpemVkIG9uIHRoZSBHUFUuXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBkZWNvZGVkIGluZGljZXMgYW5kIGF0dHJpYnV0ZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5EcmFjb0xvYWRlci5kZWNvZGVCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIGRlY29kZXJUYXNrUHJvY2Vzc29yID0gRHJhY29Mb2FkZXIuX2dldERlY29kZXJUYXNrUHJvY2Vzc29yKCk7XG4gIGlmICghRHJhY29Mb2FkZXIuX3Rhc2tQcm9jZXNzb3JSZWFkeSkge1xuICAgIC8vIFRoZSB0YXNrIHByb2Nlc3NvciBpcyBub3QgcmVhZHkgdG8gc2NoZWR1bGUgdGFza3NcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gZGVjb2RlclRhc2tQcm9jZXNzb3Iuc2NoZWR1bGVUYXNrKG9wdGlvbnMsIFtvcHRpb25zLmFycmF5LmJ1ZmZlcl0pO1xufTtcblxuLyoqXG4gKiBDYWNoZXMgYSBtb2RlbHMgZGVjb2RlZCBkYXRhIHNvIGl0IGRvZXNuJ3QgbmVlZCB0byBkZWNvZGUgbW9yZSB0aGFuIG9uY2UuXG4gKiBAcHJpdmF0ZVxuICovXG5EcmFjb0xvYWRlci5jYWNoZURhdGFGb3JNb2RlbCA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICB2YXIgY2FjaGVLZXkgPSBtb2RlbC5jYWNoZUtleTtcbiAgaWYgKGRlZmluZWQoY2FjaGVLZXkpICYmIGRlZmluZWQoRHJhY29Mb2FkZXIuX2RlY29kZWRNb2RlbFJlc291cmNlQ2FjaGUpKSB7XG4gICAgdmFyIGNhY2hlZERhdGEgPSBEcmFjb0xvYWRlci5fZGVjb2RlZE1vZGVsUmVzb3VyY2VDYWNoZVtjYWNoZUtleV07XG4gICAgaWYgKGRlZmluZWQoY2FjaGVkRGF0YSkpIHtcbiAgICAgIGNhY2hlZERhdGEucmVhZHkgPSB0cnVlO1xuICAgICAgY2FjaGVkRGF0YS5kYXRhID0gbW9kZWwuX2RlY29kZWREYXRhO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIGRhdGEgdGhhdCB0aGlzIG1vZGVsIHJlZmVyZW5jZXMgaWYgaXQgaXMgbm8gbG9uZ2VyIGluIHVzZS5cbiAqIEBwcml2YXRlXG4gKi9cbkRyYWNvTG9hZGVyLmRlc3Ryb3lDYWNoZWREYXRhRm9yTW9kZWwgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgdmFyIGNhY2hlS2V5ID0gbW9kZWwuY2FjaGVLZXk7XG4gIGlmIChkZWZpbmVkKGNhY2hlS2V5KSAmJiBkZWZpbmVkKERyYWNvTG9hZGVyLl9kZWNvZGVkTW9kZWxSZXNvdXJjZUNhY2hlKSkge1xuICAgIHZhciBjYWNoZWREYXRhID0gRHJhY29Mb2FkZXIuX2RlY29kZWRNb2RlbFJlc291cmNlQ2FjaGVbY2FjaGVLZXldO1xuICAgIGlmIChkZWZpbmVkKGNhY2hlZERhdGEpICYmIC0tY2FjaGVkRGF0YS5jb3VudCA9PT0gMCkge1xuICAgICAgZGVsZXRlIERyYWNvTG9hZGVyLl9kZWNvZGVkTW9kZWxSZXNvdXJjZUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBEcmFjb0xvYWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8056\n')},64336:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48243);\n/* harmony import */ var _Core_BoxGeometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20305);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60216);\n/* harmony import */ var _Core_combine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8182);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(72248);\n/* harmony import */ var _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(67252);\n/* harmony import */ var _Renderer_BufferUsage_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(58597);\n/* harmony import */ var _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(60072);\n/* harmony import */ var _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(8379);\n/* harmony import */ var _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(10667);\n/* harmony import */ var _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(46588);\n/* harmony import */ var _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(53642);\n/* harmony import */ var _Renderer_VertexArray_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(18192);\n/* harmony import */ var _Shaders_EllipsoidFS_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(90565);\n/* harmony import */ var _Shaders_EllipsoidVS_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(26440);\n/* harmony import */ var _BlendingState_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(13633);\n/* harmony import */ var _CullFace_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(71593);\n/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(69592);\n/* harmony import */ var _SceneMode_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(89917);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar attributeLocations = {\n  position: 0,\n};\n\n/**\n * A renderable ellipsoid.  It can also draw spheres when the three {@link EllipsoidPrimitive#radii} components are equal.\n * <p>\n * This is only supported in 3D.  The ellipsoid is not shown in 2D or Columbus view.\n * </p>\n *\n * @alias EllipsoidPrimitive\n * @constructor\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Cartesian3} [options.center=Cartesian3.ZERO] The center of the ellipsoid in the ellipsoid\'s model coordinates.\n * @param {Cartesian3} [options.radii] The radius of the ellipsoid along the <code>x</code>, <code>y</code>, and <code>z</code> axes in the ellipsoid\'s model coordinates.\n * @param {Matrix4} [options.modelMatrix=Matrix4.IDENTITY] The 4x4 transformation matrix that transforms the ellipsoid from model to world coordinates.\n * @param {Boolean} [options.show=true] Determines if this primitive will be shown.\n * @param {Material} [options.material=Material.ColorType] The surface appearance of the primitive.\n * @param {Object} [options.id] A user-defined object to return when the instance is picked with {@link Scene#pick}\n * @param {Boolean} [options.debugShowBoundingVolume=false] For debugging only. Determines if this primitive\'s commands\' bounding spheres are shown.\n *\n * @private\n */\nfunction EllipsoidPrimitive(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  /**\n   * The center of the ellipsoid in the ellipsoid\'s model coordinates.\n   * <p>\n   * The default is {@link Cartesian3.ZERO}.\n   * </p>\n   *\n   * @type {Cartesian3}\n   * @default {@link Cartesian3.ZERO}\n   *\n   * @see EllipsoidPrimitive#modelMatrix\n   */\n  this.center = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone((0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.center, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO));\n  this._center = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\n  /**\n   * The radius of the ellipsoid along the <code>x</code>, <code>y</code>, and <code>z</code> axes in the ellipsoid\'s model coordinates.\n   * When these are the same, the ellipsoid is a sphere.\n   * <p>\n   * The default is <code>undefined</code>.  The ellipsoid is not drawn until a radii is provided.\n   * </p>\n   *\n   * @type {Cartesian3}\n   * @default undefined\n   *\n   *\n   * @example\n   * // A sphere with a radius of 2.0\n   * e.radii = new Cesium.Cartesian3(2.0, 2.0, 2.0);\n   *\n   * @see EllipsoidPrimitive#modelMatrix\n   */\n  this.radii = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(options.radii);\n  this._radii = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n\n  this._oneOverEllipsoidRadiiSquared = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n  this._boundingSphere = new _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\n  /**\n   * The 4x4 transformation matrix that transforms the ellipsoid from model to world coordinates.\n   * When this is the identity matrix, the ellipsoid is drawn in world coordinates, i.e., Earth\'s WGS84 coordinates.\n   * Local reference frames can be used by providing a different transformation matrix, like that returned\n   * by {@link Transforms.eastNorthUpToFixedFrame}.\n   *\n   * @type {Matrix4}\n   * @default {@link Matrix4.IDENTITY}\n   *\n   * @example\n   * var origin = Cesium.Cartesian3.fromDegrees(-95.0, 40.0, 200000.0);\n   * e.modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(origin);\n   */\n  this.modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].clone */ .Z.clone(\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.modelMatrix, _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].IDENTITY */ .Z.IDENTITY)\n  );\n  this._modelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\n  this._computedModelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\n\n  /**\n   * Determines if the ellipsoid primitive will be shown.\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.show, true);\n\n  /**\n   * The surface appearance of the ellipsoid.  This can be one of several built-in {@link Material} objects or a custom material, scripted with\n   * {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric}.\n   * <p>\n   * The default material is <code>Material.ColorType</code>.\n   * </p>\n   *\n   * @type {Material}\n   * @default Material.fromType(Material.ColorType)\n   *\n   *\n   * @example\n   * // 1. Change the color of the default material to yellow\n   * e.material.uniforms.color = new Cesium.Color(1.0, 1.0, 0.0, 1.0);\n   *\n   * // 2. Change material to horizontal stripes\n   * e.material = Cesium.Material.fromType(Cesium.Material.StripeType);\n   *\n   * @see {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric}\n   */\n  this.material = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n    options.material,\n    _Material_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"].fromType */ .Z.fromType(_Material_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"].ColorType */ .Z.ColorType)\n  );\n  this._material = undefined;\n  this._translucent = undefined;\n\n  /**\n   * User-defined object returned when the ellipsoid is picked.\n   *\n   * @type Object\n   *\n   * @default undefined\n   *\n   * @see Scene#pick\n   */\n  this.id = options.id;\n  this._id = undefined;\n\n  /**\n   * This property is for debugging only; it is not for production use nor is it optimized.\n   * <p>\n   * Draws the bounding sphere for each draw command in the primitive.\n   * </p>\n   *\n   * @type {Boolean}\n   *\n   * @default false\n   */\n  this.debugShowBoundingVolume = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n    options.debugShowBoundingVolume,\n    false\n  );\n\n  /**\n   * @private\n   */\n  this.onlySunLighting = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.onlySunLighting, false);\n  this._onlySunLighting = false;\n\n  /**\n   * @private\n   */\n  this._depthTestEnabled = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.depthTestEnabled, true);\n\n  this._useLogDepth = false;\n\n  this._sp = undefined;\n  this._rs = undefined;\n  this._va = undefined;\n\n  this._pickSP = undefined;\n  this._pickId = undefined;\n\n  this._colorCommand = new _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({\n    owner: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options._owner, this),\n  });\n  this._pickCommand = new _Renderer_DrawCommand_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({\n    owner: (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options._owner, this),\n    pickOnly: true,\n  });\n\n  var that = this;\n  this._uniforms = {\n    u_radii: function () {\n      return that.radii;\n    },\n    u_oneOverEllipsoidRadiiSquared: function () {\n      return that._oneOverEllipsoidRadiiSquared;\n    },\n  };\n\n  this._pickUniforms = {\n    czm_pickColor: function () {\n      return that._pickId.color;\n    },\n  };\n}\n\nfunction getVertexArray(context) {\n  var vertexArray = context.cache.ellipsoidPrimitive_vertexArray;\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(vertexArray)) {\n    return vertexArray;\n  }\n\n  var geometry = _Core_BoxGeometry_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].createGeometry */ .Z.createGeometry(\n    _Core_BoxGeometry_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromDimensions */ .Z.fromDimensions({\n      dimensions: new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(2.0, 2.0, 2.0),\n      vertexFormat: _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].POSITION_ONLY */ .Z.POSITION_ONLY,\n    })\n  );\n\n  vertexArray = _Renderer_VertexArray_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].fromGeometry */ .Z.fromGeometry({\n    context: context,\n    geometry: geometry,\n    attributeLocations: attributeLocations,\n    bufferUsage: _Renderer_BufferUsage_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].STATIC_DRAW */ .Z.STATIC_DRAW,\n    interleave: true,\n  });\n\n  context.cache.ellipsoidPrimitive_vertexArray = vertexArray;\n  return vertexArray;\n}\n\nvar logDepthExtension =\n  "#ifdef GL_EXT_frag_depth \\n" +\n  "#extension GL_EXT_frag_depth : enable \\n" +\n  "#endif \\n\\n";\n\n/**\n * Called when {@link Viewer} or {@link CesiumWidget} render the scene to\n * get the draw commands needed to render this primitive.\n * <p>\n * Do not call this function directly.  This is documented just to\n * list the exceptions that may be propagated when the scene is rendered:\n * </p>\n *\n * @exception {DeveloperError} this.material must be defined.\n */\nEllipsoidPrimitive.prototype.update = function (frameState) {\n  if (\n    !this.show ||\n    frameState.mode !== _SceneMode_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"].SCENE3D */ .Z.SCENE3D ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this.center) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this.radii)\n  ) {\n    return;\n  }\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this.material)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z("this.material must be defined.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var context = frameState.context;\n  var translucent = this.material.isTranslucent();\n  var translucencyChanged = this._translucent !== translucent;\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this._rs) || translucencyChanged) {\n    this._translucent = translucent;\n\n    // If this render state is ever updated to use a non-default\n    // depth range, the hard-coded values in EllipsoidVS.glsl need\n    // to be updated as well.\n\n    this._rs = _Renderer_RenderState_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].fromCache */ .Z.fromCache({\n      // Cull front faces - not back faces - so the ellipsoid doesn\'t\n      // disappear if the viewer enters the bounding box.\n      cull: {\n        enabled: true,\n        face: _CullFace_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].FRONT */ .Z.FRONT,\n      },\n      depthTest: {\n        enabled: this._depthTestEnabled,\n      },\n      // Only write depth when EXT_frag_depth is supported since the depth for\n      // the bounding box is wrong; it is not the true depth of the ray casted ellipsoid.\n      depthMask: !translucent && context.fragmentDepth,\n      blending: translucent ? _BlendingState_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"].ALPHA_BLEND */ .Z.ALPHA_BLEND : undefined,\n    });\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this._va)) {\n    this._va = getVertexArray(context);\n  }\n\n  var boundingSphereDirty = false;\n\n  var radii = this.radii;\n  if (!_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equals */ .Z.equals(this._radii, radii)) {\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(radii, this._radii);\n\n    var r = this._oneOverEllipsoidRadiiSquared;\n    r.x = 1.0 / (radii.x * radii.x);\n    r.y = 1.0 / (radii.y * radii.y);\n    r.z = 1.0 / (radii.z * radii.z);\n\n    boundingSphereDirty = true;\n  }\n\n  if (\n    !_Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].equals */ .Z.equals(this.modelMatrix, this._modelMatrix) ||\n    !_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equals */ .Z.equals(this.center, this._center)\n  ) {\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].clone */ .Z.clone(this.modelMatrix, this._modelMatrix);\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(this.center, this._center);\n\n    // Translate model coordinates used for rendering such that the origin is the center of the ellipsoid.\n    _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByTranslation */ .Z.multiplyByTranslation(\n      this.modelMatrix,\n      this.center,\n      this._computedModelMatrix\n    );\n    boundingSphereDirty = true;\n  }\n\n  if (boundingSphereDirty) {\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO, this._boundingSphere.center);\n    this._boundingSphere.radius = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].maximumComponent */ .Z.maximumComponent(radii);\n    _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].transform */ .Z.transform(\n      this._boundingSphere,\n      this._computedModelMatrix,\n      this._boundingSphere\n    );\n  }\n\n  var materialChanged = this._material !== this.material;\n  this._material = this.material;\n  this._material.update(context);\n\n  var lightingChanged = this.onlySunLighting !== this._onlySunLighting;\n  this._onlySunLighting = this.onlySunLighting;\n\n  var useLogDepth = frameState.useLogDepth;\n  var useLogDepthChanged = this._useLogDepth !== useLogDepth;\n  this._useLogDepth = useLogDepth;\n\n  var colorCommand = this._colorCommand;\n  var vs;\n  var fs;\n\n  // Recompile shader when material, lighting, or translucency changes\n  if (\n    materialChanged ||\n    lightingChanged ||\n    translucencyChanged ||\n    useLogDepthChanged\n  ) {\n    vs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n      sources: [_Shaders_EllipsoidVS_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z],\n    });\n    fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n      sources: [this.material.shaderSource, _Shaders_EllipsoidFS_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z],\n    });\n    if (this.onlySunLighting) {\n      fs.defines.push("ONLY_SUN_LIGHTING");\n    }\n    if (!translucent && context.fragmentDepth) {\n      fs.defines.push("WRITE_DEPTH");\n    }\n    if (this._useLogDepth) {\n      vs.defines.push("LOG_DEPTH");\n      fs.defines.push("LOG_DEPTH");\n      fs.sources.push(logDepthExtension);\n    }\n\n    this._sp = _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].replaceCache */ .Z.replaceCache({\n      context: context,\n      shaderProgram: this._sp,\n      vertexShaderSource: vs,\n      fragmentShaderSource: fs,\n      attributeLocations: attributeLocations,\n    });\n\n    colorCommand.vertexArray = this._va;\n    colorCommand.renderState = this._rs;\n    colorCommand.shaderProgram = this._sp;\n    colorCommand.uniformMap = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this._uniforms, this.material._uniforms);\n    colorCommand.executeInClosestFrustum = translucent;\n  }\n\n  var commandList = frameState.commandList;\n  var passes = frameState.passes;\n\n  if (passes.render) {\n    colorCommand.boundingVolume = this._boundingSphere;\n    colorCommand.debugShowBoundingVolume = this.debugShowBoundingVolume;\n    colorCommand.modelMatrix = this._computedModelMatrix;\n    colorCommand.pass = translucent ? _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].TRANSLUCENT */ .Z.TRANSLUCENT : _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].OPAQUE */ .Z.OPAQUE;\n\n    commandList.push(colorCommand);\n  }\n\n  if (passes.pick) {\n    var pickCommand = this._pickCommand;\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this._pickId) || this._id !== this.id) {\n      this._id = this.id;\n      this._pickId = this._pickId && this._pickId.destroy();\n      this._pickId = context.createPickId({\n        primitive: this,\n        id: this.id,\n      });\n    }\n\n    // Recompile shader when material changes\n    if (\n      materialChanged ||\n      lightingChanged ||\n      !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this._pickSP) ||\n      useLogDepthChanged\n    ) {\n      vs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n        sources: [_Shaders_EllipsoidVS_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z],\n      });\n      fs = new _Renderer_ShaderSource_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z({\n        sources: [this.material.shaderSource, _Shaders_EllipsoidFS_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z],\n        pickColorQualifier: "uniform",\n      });\n      if (this.onlySunLighting) {\n        fs.defines.push("ONLY_SUN_LIGHTING");\n      }\n      if (!translucent && context.fragmentDepth) {\n        fs.defines.push("WRITE_DEPTH");\n      }\n      if (this._useLogDepth) {\n        vs.defines.push("LOG_DEPTH");\n        fs.defines.push("LOG_DEPTH");\n        fs.sources.push(logDepthExtension);\n      }\n\n      this._pickSP = _Renderer_ShaderProgram_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].replaceCache */ .Z.replaceCache({\n        context: context,\n        shaderProgram: this._pickSP,\n        vertexShaderSource: vs,\n        fragmentShaderSource: fs,\n        attributeLocations: attributeLocations,\n      });\n\n      pickCommand.vertexArray = this._va;\n      pickCommand.renderState = this._rs;\n      pickCommand.shaderProgram = this._pickSP;\n      pickCommand.uniformMap = (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n        (0,_Core_combine_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this._uniforms, this._pickUniforms),\n        this.material._uniforms\n      );\n      pickCommand.executeInClosestFrustum = translucent;\n    }\n\n    pickCommand.boundingVolume = this._boundingSphere;\n    pickCommand.modelMatrix = this._computedModelMatrix;\n    pickCommand.pass = translucent ? _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].TRANSLUCENT */ .Z.TRANSLUCENT : _Renderer_Pass_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].OPAQUE */ .Z.OPAQUE;\n\n    commandList.push(pickCommand);\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {Boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n *\n * @see EllipsoidPrimitive#destroy\n */\nEllipsoidPrimitive.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * e = e && e.destroy();\n *\n * @see EllipsoidPrimitive#isDestroyed\n */\nEllipsoidPrimitive.prototype.destroy = function () {\n  this._sp = this._sp && this._sp.destroy();\n  this._pickSP = this._pickSP && this._pickSP.destroy();\n  this._pickId = this._pickId && this._pickId.destroy();\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EllipsoidPrimitive);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsOENBQThDLHNCQUFzQjtBQUNwRTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSx5REFBZSxrQkFBa0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9FbGxpcHNvaWRQcmltaXRpdmUuanM/OTgxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm91bmRpbmdTcGhlcmUgZnJvbSBcIi4uL0NvcmUvQm91bmRpbmdTcGhlcmUuanNcIjtcbmltcG9ydCBCb3hHZW9tZXRyeSBmcm9tIFwiLi4vQ29yZS9Cb3hHZW9tZXRyeS5qc1wiO1xuaW1wb3J0IENhcnRlc2lhbjMgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMy5qc1wiO1xuaW1wb3J0IGNvbWJpbmUgZnJvbSBcIi4uL0NvcmUvY29tYmluZS5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBkZXN0cm95T2JqZWN0IGZyb20gXCIuLi9Db3JlL2Rlc3Ryb3lPYmplY3QuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IE1hdHJpeDQgZnJvbSBcIi4uL0NvcmUvTWF0cml4NC5qc1wiO1xuaW1wb3J0IFZlcnRleEZvcm1hdCBmcm9tIFwiLi4vQ29yZS9WZXJ0ZXhGb3JtYXQuanNcIjtcbmltcG9ydCBCdWZmZXJVc2FnZSBmcm9tIFwiLi4vUmVuZGVyZXIvQnVmZmVyVXNhZ2UuanNcIjtcbmltcG9ydCBEcmF3Q29tbWFuZCBmcm9tIFwiLi4vUmVuZGVyZXIvRHJhd0NvbW1hbmQuanNcIjtcbmltcG9ydCBQYXNzIGZyb20gXCIuLi9SZW5kZXJlci9QYXNzLmpzXCI7XG5pbXBvcnQgUmVuZGVyU3RhdGUgZnJvbSBcIi4uL1JlbmRlcmVyL1JlbmRlclN0YXRlLmpzXCI7XG5pbXBvcnQgU2hhZGVyUHJvZ3JhbSBmcm9tIFwiLi4vUmVuZGVyZXIvU2hhZGVyUHJvZ3JhbS5qc1wiO1xuaW1wb3J0IFNoYWRlclNvdXJjZSBmcm9tIFwiLi4vUmVuZGVyZXIvU2hhZGVyU291cmNlLmpzXCI7XG5pbXBvcnQgVmVydGV4QXJyYXkgZnJvbSBcIi4uL1JlbmRlcmVyL1ZlcnRleEFycmF5LmpzXCI7XG5pbXBvcnQgRWxsaXBzb2lkRlMgZnJvbSBcIi4uL1NoYWRlcnMvRWxsaXBzb2lkRlMuanNcIjtcbmltcG9ydCBFbGxpcHNvaWRWUyBmcm9tIFwiLi4vU2hhZGVycy9FbGxpcHNvaWRWUy5qc1wiO1xuaW1wb3J0IEJsZW5kaW5nU3RhdGUgZnJvbSBcIi4vQmxlbmRpbmdTdGF0ZS5qc1wiO1xuaW1wb3J0IEN1bGxGYWNlIGZyb20gXCIuL0N1bGxGYWNlLmpzXCI7XG5pbXBvcnQgTWF0ZXJpYWwgZnJvbSBcIi4vTWF0ZXJpYWwuanNcIjtcbmltcG9ydCBTY2VuZU1vZGUgZnJvbSBcIi4vU2NlbmVNb2RlLmpzXCI7XG5cbnZhciBhdHRyaWJ1dGVMb2NhdGlvbnMgPSB7XG4gIHBvc2l0aW9uOiAwLFxufTtcblxuLyoqXG4gKiBBIHJlbmRlcmFibGUgZWxsaXBzb2lkLiAgSXQgY2FuIGFsc28gZHJhdyBzcGhlcmVzIHdoZW4gdGhlIHRocmVlIHtAbGluayBFbGxpcHNvaWRQcmltaXRpdmUjcmFkaWl9IGNvbXBvbmVudHMgYXJlIGVxdWFsLlxuICogPHA+XG4gKiBUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGluIDNELiAgVGhlIGVsbGlwc29pZCBpcyBub3Qgc2hvd24gaW4gMkQgb3IgQ29sdW1idXMgdmlldy5cbiAqIDwvcD5cbiAqXG4gKiBAYWxpYXMgRWxsaXBzb2lkUHJpbWl0aXZlXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7Q2FydGVzaWFuM30gW29wdGlvbnMuY2VudGVyPUNhcnRlc2lhbjMuWkVST10gVGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzb2lkIGluIHRoZSBlbGxpcHNvaWQncyBtb2RlbCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7Q2FydGVzaWFuM30gW29wdGlvbnMucmFkaWldIFRoZSByYWRpdXMgb2YgdGhlIGVsbGlwc29pZCBhbG9uZyB0aGUgPGNvZGU+eDwvY29kZT4sIDxjb2RlPnk8L2NvZGU+LCBhbmQgPGNvZGU+ejwvY29kZT4gYXhlcyBpbiB0aGUgZWxsaXBzb2lkJ3MgbW9kZWwgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge01hdHJpeDR9IFtvcHRpb25zLm1vZGVsTWF0cml4PU1hdHJpeDQuSURFTlRJVFldIFRoZSA0eDQgdHJhbnNmb3JtYXRpb24gbWF0cml4IHRoYXQgdHJhbnNmb3JtcyB0aGUgZWxsaXBzb2lkIGZyb20gbW9kZWwgdG8gd29ybGQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3c9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiB0aGlzIHByaW1pdGl2ZSB3aWxsIGJlIHNob3duLlxuICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWw9TWF0ZXJpYWwuQ29sb3JUeXBlXSBUaGUgc3VyZmFjZSBhcHBlYXJhbmNlIG9mIHRoZSBwcmltaXRpdmUuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaWRdIEEgdXNlci1kZWZpbmVkIG9iamVjdCB0byByZXR1cm4gd2hlbiB0aGUgaW5zdGFuY2UgaXMgcGlja2VkIHdpdGgge0BsaW5rIFNjZW5lI3BpY2t9XG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lPWZhbHNlXSBGb3IgZGVidWdnaW5nIG9ubHkuIERldGVybWluZXMgaWYgdGhpcyBwcmltaXRpdmUncyBjb21tYW5kcycgYm91bmRpbmcgc3BoZXJlcyBhcmUgc2hvd24uXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRWxsaXBzb2lkUHJpbWl0aXZlKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICAvKipcbiAgICogVGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzb2lkIGluIHRoZSBlbGxpcHNvaWQncyBtb2RlbCBjb29yZGluYXRlcy5cbiAgICogPHA+XG4gICAqIFRoZSBkZWZhdWx0IGlzIHtAbGluayBDYXJ0ZXNpYW4zLlpFUk99LlxuICAgKiA8L3A+XG4gICAqXG4gICAqIEB0eXBlIHtDYXJ0ZXNpYW4zfVxuICAgKiBAZGVmYXVsdCB7QGxpbmsgQ2FydGVzaWFuMy5aRVJPfVxuICAgKlxuICAgKiBAc2VlIEVsbGlwc29pZFByaW1pdGl2ZSNtb2RlbE1hdHJpeFxuICAgKi9cbiAgdGhpcy5jZW50ZXIgPSBDYXJ0ZXNpYW4zLmNsb25lKGRlZmF1bHRWYWx1ZShvcHRpb25zLmNlbnRlciwgQ2FydGVzaWFuMy5aRVJPKSk7XG4gIHRoaXMuX2NlbnRlciA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG5cbiAgLyoqXG4gICAqIFRoZSByYWRpdXMgb2YgdGhlIGVsbGlwc29pZCBhbG9uZyB0aGUgPGNvZGU+eDwvY29kZT4sIDxjb2RlPnk8L2NvZGU+LCBhbmQgPGNvZGU+ejwvY29kZT4gYXhlcyBpbiB0aGUgZWxsaXBzb2lkJ3MgbW9kZWwgY29vcmRpbmF0ZXMuXG4gICAqIFdoZW4gdGhlc2UgYXJlIHRoZSBzYW1lLCB0aGUgZWxsaXBzb2lkIGlzIGEgc3BoZXJlLlxuICAgKiA8cD5cbiAgICogVGhlIGRlZmF1bHQgaXMgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPi4gIFRoZSBlbGxpcHNvaWQgaXMgbm90IGRyYXduIHVudGlsIGEgcmFkaWkgaXMgcHJvdmlkZWQuXG4gICAqIDwvcD5cbiAgICpcbiAgICogQHR5cGUge0NhcnRlc2lhbjN9XG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBBIHNwaGVyZSB3aXRoIGEgcmFkaXVzIG9mIDIuMFxuICAgKiBlLnJhZGlpID0gbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKDIuMCwgMi4wLCAyLjApO1xuICAgKlxuICAgKiBAc2VlIEVsbGlwc29pZFByaW1pdGl2ZSNtb2RlbE1hdHJpeFxuICAgKi9cbiAgdGhpcy5yYWRpaSA9IENhcnRlc2lhbjMuY2xvbmUob3B0aW9ucy5yYWRpaSk7XG4gIHRoaXMuX3JhZGlpID0gbmV3IENhcnRlc2lhbjMoKTtcblxuICB0aGlzLl9vbmVPdmVyRWxsaXBzb2lkUmFkaWlTcXVhcmVkID0gbmV3IENhcnRlc2lhbjMoKTtcbiAgdGhpcy5fYm91bmRpbmdTcGhlcmUgPSBuZXcgQm91bmRpbmdTcGhlcmUoKTtcblxuICAvKipcbiAgICogVGhlIDR4NCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdGhhdCB0cmFuc2Zvcm1zIHRoZSBlbGxpcHNvaWQgZnJvbSBtb2RlbCB0byB3b3JsZCBjb29yZGluYXRlcy5cbiAgICogV2hlbiB0aGlzIGlzIHRoZSBpZGVudGl0eSBtYXRyaXgsIHRoZSBlbGxpcHNvaWQgaXMgZHJhd24gaW4gd29ybGQgY29vcmRpbmF0ZXMsIGkuZS4sIEVhcnRoJ3MgV0dTODQgY29vcmRpbmF0ZXMuXG4gICAqIExvY2FsIHJlZmVyZW5jZSBmcmFtZXMgY2FuIGJlIHVzZWQgYnkgcHJvdmlkaW5nIGEgZGlmZmVyZW50IHRyYW5zZm9ybWF0aW9uIG1hdHJpeCwgbGlrZSB0aGF0IHJldHVybmVkXG4gICAqIGJ5IHtAbGluayBUcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lfS5cbiAgICpcbiAgICogQHR5cGUge01hdHJpeDR9XG4gICAqIEBkZWZhdWx0IHtAbGluayBNYXRyaXg0LklERU5USVRZfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgb3JpZ2luID0gQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXMoLTk1LjAsIDQwLjAsIDIwMDAwMC4wKTtcbiAgICogZS5tb2RlbE1hdHJpeCA9IENlc2l1bS5UcmFuc2Zvcm1zLmVhc3ROb3J0aFVwVG9GaXhlZEZyYW1lKG9yaWdpbik7XG4gICAqL1xuICB0aGlzLm1vZGVsTWF0cml4ID0gTWF0cml4NC5jbG9uZShcbiAgICBkZWZhdWx0VmFsdWUob3B0aW9ucy5tb2RlbE1hdHJpeCwgTWF0cml4NC5JREVOVElUWSlcbiAgKTtcbiAgdGhpcy5fbW9kZWxNYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICB0aGlzLl9jb21wdXRlZE1vZGVsTWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZWxsaXBzb2lkIHByaW1pdGl2ZSB3aWxsIGJlIHNob3duLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGhpcy5zaG93ID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuc2hvdywgdHJ1ZSk7XG5cbiAgLyoqXG4gICAqIFRoZSBzdXJmYWNlIGFwcGVhcmFuY2Ugb2YgdGhlIGVsbGlwc29pZC4gIFRoaXMgY2FuIGJlIG9uZSBvZiBzZXZlcmFsIGJ1aWx0LWluIHtAbGluayBNYXRlcmlhbH0gb2JqZWN0cyBvciBhIGN1c3RvbSBtYXRlcmlhbCwgc2NyaXB0ZWQgd2l0aFxuICAgKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2Nlc2l1bS93aWtpL0ZhYnJpY3xGYWJyaWN9LlxuICAgKiA8cD5cbiAgICogVGhlIGRlZmF1bHQgbWF0ZXJpYWwgaXMgPGNvZGU+TWF0ZXJpYWwuQ29sb3JUeXBlPC9jb2RlPi5cbiAgICogPC9wPlxuICAgKlxuICAgKiBAdHlwZSB7TWF0ZXJpYWx9XG4gICAqIEBkZWZhdWx0IE1hdGVyaWFsLmZyb21UeXBlKE1hdGVyaWFsLkNvbG9yVHlwZSlcbiAgICpcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogLy8gMS4gQ2hhbmdlIHRoZSBjb2xvciBvZiB0aGUgZGVmYXVsdCBtYXRlcmlhbCB0byB5ZWxsb3dcbiAgICogZS5tYXRlcmlhbC51bmlmb3Jtcy5jb2xvciA9IG5ldyBDZXNpdW0uQ29sb3IoMS4wLCAxLjAsIDAuMCwgMS4wKTtcbiAgICpcbiAgICogLy8gMi4gQ2hhbmdlIG1hdGVyaWFsIHRvIGhvcml6b250YWwgc3RyaXBlc1xuICAgKiBlLm1hdGVyaWFsID0gQ2VzaXVtLk1hdGVyaWFsLmZyb21UeXBlKENlc2l1bS5NYXRlcmlhbC5TdHJpcGVUeXBlKTtcbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2Nlc2l1bS93aWtpL0ZhYnJpY3xGYWJyaWN9XG4gICAqL1xuICB0aGlzLm1hdGVyaWFsID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMubWF0ZXJpYWwsXG4gICAgTWF0ZXJpYWwuZnJvbVR5cGUoTWF0ZXJpYWwuQ29sb3JUeXBlKVxuICApO1xuICB0aGlzLl9tYXRlcmlhbCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdHJhbnNsdWNlbnQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFVzZXItZGVmaW5lZCBvYmplY3QgcmV0dXJuZWQgd2hlbiB0aGUgZWxsaXBzb2lkIGlzIHBpY2tlZC5cbiAgICpcbiAgICogQHR5cGUgT2JqZWN0XG4gICAqXG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKlxuICAgKiBAc2VlIFNjZW5lI3BpY2tcbiAgICovXG4gIHRoaXMuaWQgPSBvcHRpb25zLmlkO1xuICB0aGlzLl9pZCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBmb3IgZGVidWdnaW5nIG9ubHk7IGl0IGlzIG5vdCBmb3IgcHJvZHVjdGlvbiB1c2Ugbm9yIGlzIGl0IG9wdGltaXplZC5cbiAgICogPHA+XG4gICAqIERyYXdzIHRoZSBib3VuZGluZyBzcGhlcmUgZm9yIGVhY2ggZHJhdyBjb21tYW5kIGluIHRoZSBwcmltaXRpdmUuXG4gICAqIDwvcD5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0aGlzLmRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMuZGVidWdTaG93Qm91bmRpbmdWb2x1bWUsXG4gICAgZmFsc2VcbiAgKTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMub25seVN1bkxpZ2h0aW5nID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMub25seVN1bkxpZ2h0aW5nLCBmYWxzZSk7XG4gIHRoaXMuX29ubHlTdW5MaWdodGluZyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5fZGVwdGhUZXN0RW5hYmxlZCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmRlcHRoVGVzdEVuYWJsZWQsIHRydWUpO1xuXG4gIHRoaXMuX3VzZUxvZ0RlcHRoID0gZmFsc2U7XG5cbiAgdGhpcy5fc3AgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3JzID0gdW5kZWZpbmVkO1xuICB0aGlzLl92YSA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9waWNrU1AgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BpY2tJZCA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9jb2xvckNvbW1hbmQgPSBuZXcgRHJhd0NvbW1hbmQoe1xuICAgIG93bmVyOiBkZWZhdWx0VmFsdWUob3B0aW9ucy5fb3duZXIsIHRoaXMpLFxuICB9KTtcbiAgdGhpcy5fcGlja0NvbW1hbmQgPSBuZXcgRHJhd0NvbW1hbmQoe1xuICAgIG93bmVyOiBkZWZhdWx0VmFsdWUob3B0aW9ucy5fb3duZXIsIHRoaXMpLFxuICAgIHBpY2tPbmx5OiB0cnVlLFxuICB9KTtcblxuICB2YXIgdGhhdCA9IHRoaXM7XG4gIHRoaXMuX3VuaWZvcm1zID0ge1xuICAgIHVfcmFkaWk6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGF0LnJhZGlpO1xuICAgIH0sXG4gICAgdV9vbmVPdmVyRWxsaXBzb2lkUmFkaWlTcXVhcmVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhhdC5fb25lT3ZlckVsbGlwc29pZFJhZGlpU3F1YXJlZDtcbiAgICB9LFxuICB9O1xuXG4gIHRoaXMuX3BpY2tVbmlmb3JtcyA9IHtcbiAgICBjem1fcGlja0NvbG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhhdC5fcGlja0lkLmNvbG9yO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFZlcnRleEFycmF5KGNvbnRleHQpIHtcbiAgdmFyIHZlcnRleEFycmF5ID0gY29udGV4dC5jYWNoZS5lbGxpcHNvaWRQcmltaXRpdmVfdmVydGV4QXJyYXk7XG5cbiAgaWYgKGRlZmluZWQodmVydGV4QXJyYXkpKSB7XG4gICAgcmV0dXJuIHZlcnRleEFycmF5O1xuICB9XG5cbiAgdmFyIGdlb21ldHJ5ID0gQm94R2VvbWV0cnkuY3JlYXRlR2VvbWV0cnkoXG4gICAgQm94R2VvbWV0cnkuZnJvbURpbWVuc2lvbnMoe1xuICAgICAgZGltZW5zaW9uczogbmV3IENhcnRlc2lhbjMoMi4wLCAyLjAsIDIuMCksXG4gICAgICB2ZXJ0ZXhGb3JtYXQ6IFZlcnRleEZvcm1hdC5QT1NJVElPTl9PTkxZLFxuICAgIH0pXG4gICk7XG5cbiAgdmVydGV4QXJyYXkgPSBWZXJ0ZXhBcnJheS5mcm9tR2VvbWV0cnkoe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgZ2VvbWV0cnk6IGdlb21ldHJ5LFxuICAgIGF0dHJpYnV0ZUxvY2F0aW9uczogYXR0cmlidXRlTG9jYXRpb25zLFxuICAgIGJ1ZmZlclVzYWdlOiBCdWZmZXJVc2FnZS5TVEFUSUNfRFJBVyxcbiAgICBpbnRlcmxlYXZlOiB0cnVlLFxuICB9KTtcblxuICBjb250ZXh0LmNhY2hlLmVsbGlwc29pZFByaW1pdGl2ZV92ZXJ0ZXhBcnJheSA9IHZlcnRleEFycmF5O1xuICByZXR1cm4gdmVydGV4QXJyYXk7XG59XG5cbnZhciBsb2dEZXB0aEV4dGVuc2lvbiA9XG4gIFwiI2lmZGVmIEdMX0VYVF9mcmFnX2RlcHRoIFxcblwiICtcbiAgXCIjZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlIFxcblwiICtcbiAgXCIjZW5kaWYgXFxuXFxuXCI7XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4ge0BsaW5rIFZpZXdlcn0gb3Ige0BsaW5rIENlc2l1bVdpZGdldH0gcmVuZGVyIHRoZSBzY2VuZSB0b1xuICogZ2V0IHRoZSBkcmF3IGNvbW1hbmRzIG5lZWRlZCB0byByZW5kZXIgdGhpcyBwcmltaXRpdmUuXG4gKiA8cD5cbiAqIERvIG5vdCBjYWxsIHRoaXMgZnVuY3Rpb24gZGlyZWN0bHkuICBUaGlzIGlzIGRvY3VtZW50ZWQganVzdCB0b1xuICogbGlzdCB0aGUgZXhjZXB0aW9ucyB0aGF0IG1heSBiZSBwcm9wYWdhdGVkIHdoZW4gdGhlIHNjZW5lIGlzIHJlbmRlcmVkOlxuICogPC9wPlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSB0aGlzLm1hdGVyaWFsIG11c3QgYmUgZGVmaW5lZC5cbiAqL1xuRWxsaXBzb2lkUHJpbWl0aXZlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICBpZiAoXG4gICAgIXRoaXMuc2hvdyB8fFxuICAgIGZyYW1lU3RhdGUubW9kZSAhPT0gU2NlbmVNb2RlLlNDRU5FM0QgfHxcbiAgICAhZGVmaW5lZCh0aGlzLmNlbnRlcikgfHxcbiAgICAhZGVmaW5lZCh0aGlzLnJhZGlpKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQodGhpcy5tYXRlcmlhbCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJ0aGlzLm1hdGVyaWFsIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGNvbnRleHQgPSBmcmFtZVN0YXRlLmNvbnRleHQ7XG4gIHZhciB0cmFuc2x1Y2VudCA9IHRoaXMubWF0ZXJpYWwuaXNUcmFuc2x1Y2VudCgpO1xuICB2YXIgdHJhbnNsdWNlbmN5Q2hhbmdlZCA9IHRoaXMuX3RyYW5zbHVjZW50ICE9PSB0cmFuc2x1Y2VudDtcblxuICBpZiAoIWRlZmluZWQodGhpcy5fcnMpIHx8IHRyYW5zbHVjZW5jeUNoYW5nZWQpIHtcbiAgICB0aGlzLl90cmFuc2x1Y2VudCA9IHRyYW5zbHVjZW50O1xuXG4gICAgLy8gSWYgdGhpcyByZW5kZXIgc3RhdGUgaXMgZXZlciB1cGRhdGVkIHRvIHVzZSBhIG5vbi1kZWZhdWx0XG4gICAgLy8gZGVwdGggcmFuZ2UsIHRoZSBoYXJkLWNvZGVkIHZhbHVlcyBpbiBFbGxpcHNvaWRWUy5nbHNsIG5lZWRcbiAgICAvLyB0byBiZSB1cGRhdGVkIGFzIHdlbGwuXG5cbiAgICB0aGlzLl9ycyA9IFJlbmRlclN0YXRlLmZyb21DYWNoZSh7XG4gICAgICAvLyBDdWxsIGZyb250IGZhY2VzIC0gbm90IGJhY2sgZmFjZXMgLSBzbyB0aGUgZWxsaXBzb2lkIGRvZXNuJ3RcbiAgICAgIC8vIGRpc2FwcGVhciBpZiB0aGUgdmlld2VyIGVudGVycyB0aGUgYm91bmRpbmcgYm94LlxuICAgICAgY3VsbDoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBmYWNlOiBDdWxsRmFjZS5GUk9OVCxcbiAgICAgIH0sXG4gICAgICBkZXB0aFRlc3Q6IHtcbiAgICAgICAgZW5hYmxlZDogdGhpcy5fZGVwdGhUZXN0RW5hYmxlZCxcbiAgICAgIH0sXG4gICAgICAvLyBPbmx5IHdyaXRlIGRlcHRoIHdoZW4gRVhUX2ZyYWdfZGVwdGggaXMgc3VwcG9ydGVkIHNpbmNlIHRoZSBkZXB0aCBmb3JcbiAgICAgIC8vIHRoZSBib3VuZGluZyBib3ggaXMgd3Jvbmc7IGl0IGlzIG5vdCB0aGUgdHJ1ZSBkZXB0aCBvZiB0aGUgcmF5IGNhc3RlZCBlbGxpcHNvaWQuXG4gICAgICBkZXB0aE1hc2s6ICF0cmFuc2x1Y2VudCAmJiBjb250ZXh0LmZyYWdtZW50RGVwdGgsXG4gICAgICBibGVuZGluZzogdHJhbnNsdWNlbnQgPyBCbGVuZGluZ1N0YXRlLkFMUEhBX0JMRU5EIDogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCFkZWZpbmVkKHRoaXMuX3ZhKSkge1xuICAgIHRoaXMuX3ZhID0gZ2V0VmVydGV4QXJyYXkoY29udGV4dCk7XG4gIH1cblxuICB2YXIgYm91bmRpbmdTcGhlcmVEaXJ0eSA9IGZhbHNlO1xuXG4gIHZhciByYWRpaSA9IHRoaXMucmFkaWk7XG4gIGlmICghQ2FydGVzaWFuMy5lcXVhbHModGhpcy5fcmFkaWksIHJhZGlpKSkge1xuICAgIENhcnRlc2lhbjMuY2xvbmUocmFkaWksIHRoaXMuX3JhZGlpKTtcblxuICAgIHZhciByID0gdGhpcy5fb25lT3ZlckVsbGlwc29pZFJhZGlpU3F1YXJlZDtcbiAgICByLnggPSAxLjAgLyAocmFkaWkueCAqIHJhZGlpLngpO1xuICAgIHIueSA9IDEuMCAvIChyYWRpaS55ICogcmFkaWkueSk7XG4gICAgci56ID0gMS4wIC8gKHJhZGlpLnogKiByYWRpaS56KTtcblxuICAgIGJvdW5kaW5nU3BoZXJlRGlydHkgPSB0cnVlO1xuICB9XG5cbiAgaWYgKFxuICAgICFNYXRyaXg0LmVxdWFscyh0aGlzLm1vZGVsTWF0cml4LCB0aGlzLl9tb2RlbE1hdHJpeCkgfHxcbiAgICAhQ2FydGVzaWFuMy5lcXVhbHModGhpcy5jZW50ZXIsIHRoaXMuX2NlbnRlcilcbiAgKSB7XG4gICAgTWF0cml4NC5jbG9uZSh0aGlzLm1vZGVsTWF0cml4LCB0aGlzLl9tb2RlbE1hdHJpeCk7XG4gICAgQ2FydGVzaWFuMy5jbG9uZSh0aGlzLmNlbnRlciwgdGhpcy5fY2VudGVyKTtcblxuICAgIC8vIFRyYW5zbGF0ZSBtb2RlbCBjb29yZGluYXRlcyB1c2VkIGZvciByZW5kZXJpbmcgc3VjaCB0aGF0IHRoZSBvcmlnaW4gaXMgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzb2lkLlxuICAgIE1hdHJpeDQubXVsdGlwbHlCeVRyYW5zbGF0aW9uKFxuICAgICAgdGhpcy5tb2RlbE1hdHJpeCxcbiAgICAgIHRoaXMuY2VudGVyLFxuICAgICAgdGhpcy5fY29tcHV0ZWRNb2RlbE1hdHJpeFxuICAgICk7XG4gICAgYm91bmRpbmdTcGhlcmVEaXJ0eSA9IHRydWU7XG4gIH1cblxuICBpZiAoYm91bmRpbmdTcGhlcmVEaXJ0eSkge1xuICAgIENhcnRlc2lhbjMuY2xvbmUoQ2FydGVzaWFuMy5aRVJPLCB0aGlzLl9ib3VuZGluZ1NwaGVyZS5jZW50ZXIpO1xuICAgIHRoaXMuX2JvdW5kaW5nU3BoZXJlLnJhZGl1cyA9IENhcnRlc2lhbjMubWF4aW11bUNvbXBvbmVudChyYWRpaSk7XG4gICAgQm91bmRpbmdTcGhlcmUudHJhbnNmb3JtKFxuICAgICAgdGhpcy5fYm91bmRpbmdTcGhlcmUsXG4gICAgICB0aGlzLl9jb21wdXRlZE1vZGVsTWF0cml4LFxuICAgICAgdGhpcy5fYm91bmRpbmdTcGhlcmVcbiAgICApO1xuICB9XG5cbiAgdmFyIG1hdGVyaWFsQ2hhbmdlZCA9IHRoaXMuX21hdGVyaWFsICE9PSB0aGlzLm1hdGVyaWFsO1xuICB0aGlzLl9tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gIHRoaXMuX21hdGVyaWFsLnVwZGF0ZShjb250ZXh0KTtcblxuICB2YXIgbGlnaHRpbmdDaGFuZ2VkID0gdGhpcy5vbmx5U3VuTGlnaHRpbmcgIT09IHRoaXMuX29ubHlTdW5MaWdodGluZztcbiAgdGhpcy5fb25seVN1bkxpZ2h0aW5nID0gdGhpcy5vbmx5U3VuTGlnaHRpbmc7XG5cbiAgdmFyIHVzZUxvZ0RlcHRoID0gZnJhbWVTdGF0ZS51c2VMb2dEZXB0aDtcbiAgdmFyIHVzZUxvZ0RlcHRoQ2hhbmdlZCA9IHRoaXMuX3VzZUxvZ0RlcHRoICE9PSB1c2VMb2dEZXB0aDtcbiAgdGhpcy5fdXNlTG9nRGVwdGggPSB1c2VMb2dEZXB0aDtcblxuICB2YXIgY29sb3JDb21tYW5kID0gdGhpcy5fY29sb3JDb21tYW5kO1xuICB2YXIgdnM7XG4gIHZhciBmcztcblxuICAvLyBSZWNvbXBpbGUgc2hhZGVyIHdoZW4gbWF0ZXJpYWwsIGxpZ2h0aW5nLCBvciB0cmFuc2x1Y2VuY3kgY2hhbmdlc1xuICBpZiAoXG4gICAgbWF0ZXJpYWxDaGFuZ2VkIHx8XG4gICAgbGlnaHRpbmdDaGFuZ2VkIHx8XG4gICAgdHJhbnNsdWNlbmN5Q2hhbmdlZCB8fFxuICAgIHVzZUxvZ0RlcHRoQ2hhbmdlZFxuICApIHtcbiAgICB2cyA9IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgc291cmNlczogW0VsbGlwc29pZFZTXSxcbiAgICB9KTtcbiAgICBmcyA9IG5ldyBTaGFkZXJTb3VyY2Uoe1xuICAgICAgc291cmNlczogW3RoaXMubWF0ZXJpYWwuc2hhZGVyU291cmNlLCBFbGxpcHNvaWRGU10sXG4gICAgfSk7XG4gICAgaWYgKHRoaXMub25seVN1bkxpZ2h0aW5nKSB7XG4gICAgICBmcy5kZWZpbmVzLnB1c2goXCJPTkxZX1NVTl9MSUdIVElOR1wiKTtcbiAgICB9XG4gICAgaWYgKCF0cmFuc2x1Y2VudCAmJiBjb250ZXh0LmZyYWdtZW50RGVwdGgpIHtcbiAgICAgIGZzLmRlZmluZXMucHVzaChcIldSSVRFX0RFUFRIXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fdXNlTG9nRGVwdGgpIHtcbiAgICAgIHZzLmRlZmluZXMucHVzaChcIkxPR19ERVBUSFwiKTtcbiAgICAgIGZzLmRlZmluZXMucHVzaChcIkxPR19ERVBUSFwiKTtcbiAgICAgIGZzLnNvdXJjZXMucHVzaChsb2dEZXB0aEV4dGVuc2lvbik7XG4gICAgfVxuXG4gICAgdGhpcy5fc3AgPSBTaGFkZXJQcm9ncmFtLnJlcGxhY2VDYWNoZSh7XG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgc2hhZGVyUHJvZ3JhbTogdGhpcy5fc3AsXG4gICAgICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IHZzLFxuICAgICAgZnJhZ21lbnRTaGFkZXJTb3VyY2U6IGZzLFxuICAgICAgYXR0cmlidXRlTG9jYXRpb25zOiBhdHRyaWJ1dGVMb2NhdGlvbnMsXG4gICAgfSk7XG5cbiAgICBjb2xvckNvbW1hbmQudmVydGV4QXJyYXkgPSB0aGlzLl92YTtcbiAgICBjb2xvckNvbW1hbmQucmVuZGVyU3RhdGUgPSB0aGlzLl9ycztcbiAgICBjb2xvckNvbW1hbmQuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NwO1xuICAgIGNvbG9yQ29tbWFuZC51bmlmb3JtTWFwID0gY29tYmluZSh0aGlzLl91bmlmb3JtcywgdGhpcy5tYXRlcmlhbC5fdW5pZm9ybXMpO1xuICAgIGNvbG9yQ29tbWFuZC5leGVjdXRlSW5DbG9zZXN0RnJ1c3R1bSA9IHRyYW5zbHVjZW50O1xuICB9XG5cbiAgdmFyIGNvbW1hbmRMaXN0ID0gZnJhbWVTdGF0ZS5jb21tYW5kTGlzdDtcbiAgdmFyIHBhc3NlcyA9IGZyYW1lU3RhdGUucGFzc2VzO1xuXG4gIGlmIChwYXNzZXMucmVuZGVyKSB7XG4gICAgY29sb3JDb21tYW5kLmJvdW5kaW5nVm9sdW1lID0gdGhpcy5fYm91bmRpbmdTcGhlcmU7XG4gICAgY29sb3JDb21tYW5kLmRlYnVnU2hvd0JvdW5kaW5nVm9sdW1lID0gdGhpcy5kZWJ1Z1Nob3dCb3VuZGluZ1ZvbHVtZTtcbiAgICBjb2xvckNvbW1hbmQubW9kZWxNYXRyaXggPSB0aGlzLl9jb21wdXRlZE1vZGVsTWF0cml4O1xuICAgIGNvbG9yQ29tbWFuZC5wYXNzID0gdHJhbnNsdWNlbnQgPyBQYXNzLlRSQU5TTFVDRU5UIDogUGFzcy5PUEFRVUU7XG5cbiAgICBjb21tYW5kTGlzdC5wdXNoKGNvbG9yQ29tbWFuZCk7XG4gIH1cblxuICBpZiAocGFzc2VzLnBpY2spIHtcbiAgICB2YXIgcGlja0NvbW1hbmQgPSB0aGlzLl9waWNrQ29tbWFuZDtcblxuICAgIGlmICghZGVmaW5lZCh0aGlzLl9waWNrSWQpIHx8IHRoaXMuX2lkICE9PSB0aGlzLmlkKSB7XG4gICAgICB0aGlzLl9pZCA9IHRoaXMuaWQ7XG4gICAgICB0aGlzLl9waWNrSWQgPSB0aGlzLl9waWNrSWQgJiYgdGhpcy5fcGlja0lkLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuX3BpY2tJZCA9IGNvbnRleHQuY3JlYXRlUGlja0lkKHtcbiAgICAgICAgcHJpbWl0aXZlOiB0aGlzLFxuICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlY29tcGlsZSBzaGFkZXIgd2hlbiBtYXRlcmlhbCBjaGFuZ2VzXG4gICAgaWYgKFxuICAgICAgbWF0ZXJpYWxDaGFuZ2VkIHx8XG4gICAgICBsaWdodGluZ0NoYW5nZWQgfHxcbiAgICAgICFkZWZpbmVkKHRoaXMuX3BpY2tTUCkgfHxcbiAgICAgIHVzZUxvZ0RlcHRoQ2hhbmdlZFxuICAgICkge1xuICAgICAgdnMgPSBuZXcgU2hhZGVyU291cmNlKHtcbiAgICAgICAgc291cmNlczogW0VsbGlwc29pZFZTXSxcbiAgICAgIH0pO1xuICAgICAgZnMgPSBuZXcgU2hhZGVyU291cmNlKHtcbiAgICAgICAgc291cmNlczogW3RoaXMubWF0ZXJpYWwuc2hhZGVyU291cmNlLCBFbGxpcHNvaWRGU10sXG4gICAgICAgIHBpY2tDb2xvclF1YWxpZmllcjogXCJ1bmlmb3JtXCIsXG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLm9ubHlTdW5MaWdodGluZykge1xuICAgICAgICBmcy5kZWZpbmVzLnB1c2goXCJPTkxZX1NVTl9MSUdIVElOR1wiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNsdWNlbnQgJiYgY29udGV4dC5mcmFnbWVudERlcHRoKSB7XG4gICAgICAgIGZzLmRlZmluZXMucHVzaChcIldSSVRFX0RFUFRIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3VzZUxvZ0RlcHRoKSB7XG4gICAgICAgIHZzLmRlZmluZXMucHVzaChcIkxPR19ERVBUSFwiKTtcbiAgICAgICAgZnMuZGVmaW5lcy5wdXNoKFwiTE9HX0RFUFRIXCIpO1xuICAgICAgICBmcy5zb3VyY2VzLnB1c2gobG9nRGVwdGhFeHRlbnNpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9waWNrU1AgPSBTaGFkZXJQcm9ncmFtLnJlcGxhY2VDYWNoZSh7XG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIHNoYWRlclByb2dyYW06IHRoaXMuX3BpY2tTUCxcbiAgICAgICAgdmVydGV4U2hhZGVyU291cmNlOiB2cyxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTb3VyY2U6IGZzLFxuICAgICAgICBhdHRyaWJ1dGVMb2NhdGlvbnM6IGF0dHJpYnV0ZUxvY2F0aW9ucyxcbiAgICAgIH0pO1xuXG4gICAgICBwaWNrQ29tbWFuZC52ZXJ0ZXhBcnJheSA9IHRoaXMuX3ZhO1xuICAgICAgcGlja0NvbW1hbmQucmVuZGVyU3RhdGUgPSB0aGlzLl9ycztcbiAgICAgIHBpY2tDb21tYW5kLnNoYWRlclByb2dyYW0gPSB0aGlzLl9waWNrU1A7XG4gICAgICBwaWNrQ29tbWFuZC51bmlmb3JtTWFwID0gY29tYmluZShcbiAgICAgICAgY29tYmluZSh0aGlzLl91bmlmb3JtcywgdGhpcy5fcGlja1VuaWZvcm1zKSxcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5fdW5pZm9ybXNcbiAgICAgICk7XG4gICAgICBwaWNrQ29tbWFuZC5leGVjdXRlSW5DbG9zZXN0RnJ1c3R1bSA9IHRyYW5zbHVjZW50O1xuICAgIH1cblxuICAgIHBpY2tDb21tYW5kLmJvdW5kaW5nVm9sdW1lID0gdGhpcy5fYm91bmRpbmdTcGhlcmU7XG4gICAgcGlja0NvbW1hbmQubW9kZWxNYXRyaXggPSB0aGlzLl9jb21wdXRlZE1vZGVsTWF0cml4O1xuICAgIHBpY2tDb21tYW5kLnBhc3MgPSB0cmFuc2x1Y2VudCA/IFBhc3MuVFJBTlNMVUNFTlQgOiBQYXNzLk9QQVFVRTtcblxuICAgIGNvbW1hbmRMaXN0LnB1c2gocGlja0NvbW1hbmQpO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICogPGJyIC8+PGJyIC8+XG4gKiBJZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSA8Y29kZT50cnVlPC9jb2RlPiBpZiB0aGlzIG9iamVjdCB3YXMgZGVzdHJveWVkOyBvdGhlcndpc2UsIDxjb2RlPmZhbHNlPC9jb2RlPi5cbiAqXG4gKiBAc2VlIEVsbGlwc29pZFByaW1pdGl2ZSNkZXN0cm95XG4gKi9cbkVsbGlwc29pZFByaW1pdGl2ZS5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIFdlYkdMIHJlc291cmNlcyBoZWxkIGJ5IHRoaXMgb2JqZWN0LiAgRGVzdHJveWluZyBhbiBvYmplY3QgYWxsb3dzIGZvciBkZXRlcm1pbmlzdGljXG4gKiByZWxlYXNlIG9mIFdlYkdMIHJlc291cmNlcywgaW5zdGVhZCBvZiByZWx5aW5nIG9uIHRoZSBnYXJiYWdlIGNvbGxlY3RvciB0byBkZXN0cm95IHRoaXMgb2JqZWN0LlxuICogPGJyIC8+PGJyIC8+XG4gKiBPbmNlIGFuIG9iamVjdCBpcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZDsgY2FsbGluZyBhbnkgZnVuY3Rpb24gb3RoZXIgdGhhblxuICogPGNvZGU+aXNEZXN0cm95ZWQ8L2NvZGU+IHdpbGwgcmVzdWx0IGluIGEge0BsaW5rIERldmVsb3BlckVycm9yfSBleGNlcHRpb24uICBUaGVyZWZvcmUsXG4gKiBhc3NpZ24gdGhlIHJldHVybiB2YWx1ZSAoPGNvZGU+dW5kZWZpbmVkPC9jb2RlPikgdG8gdGhlIG9iamVjdCBhcyBkb25lIGluIHRoZSBleGFtcGxlLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBUaGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpLmUuLCBkZXN0cm95KCkgd2FzIGNhbGxlZC5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIGUgPSBlICYmIGUuZGVzdHJveSgpO1xuICpcbiAqIEBzZWUgRWxsaXBzb2lkUHJpbWl0aXZlI2lzRGVzdHJveWVkXG4gKi9cbkVsbGlwc29pZFByaW1pdGl2ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fc3AgPSB0aGlzLl9zcCAmJiB0aGlzLl9zcC5kZXN0cm95KCk7XG4gIHRoaXMuX3BpY2tTUCA9IHRoaXMuX3BpY2tTUCAmJiB0aGlzLl9waWNrU1AuZGVzdHJveSgpO1xuICB0aGlzLl9waWNrSWQgPSB0aGlzLl9waWNrSWQgJiYgdGhpcy5fcGlja0lkLmRlc3Ryb3koKTtcbiAgcmV0dXJuIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRWxsaXBzb2lkUHJpbWl0aXZlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64336\n')},68516:function(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82982);\n/* harmony import */ var _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67252);\n/* harmony import */ var _Shaders_Appearances_EllipsoidSurfaceAppearanceFS_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(63773);\n/* harmony import */ var _Shaders_Appearances_EllipsoidSurfaceAppearanceVS_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(75350);\n/* harmony import */ var _Appearance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12804);\n/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69592);\n\n\n\n\n\n\n\n\n/**\n * An appearance for geometry on the surface of the ellipsoid like {@link PolygonGeometry}\n * and {@link RectangleGeometry}, which supports all materials like {@link MaterialAppearance}\n * with {@link MaterialAppearance.MaterialSupport.ALL}.  However, this appearance requires\n * fewer vertex attributes since the fragment shader can procedurally compute <code>normal</code>,\n * <code>tangent</code>, and <code>bitangent</code>.\n *\n * @alias EllipsoidSurfaceAppearance\n * @constructor\n *\n * @param {Object} [options] Object with the following properties:\n * @param {Boolean} [options.flat=false] When <code>true</code>, flat shading is used in the fragment shader, which means lighting is not taking into account.\n * @param {Boolean} [options.faceForward=options.aboveGround] When <code>true</code>, the fragment shader flips the surface normal as needed to ensure that the normal faces the viewer to avoid dark spots.  This is useful when both sides of a geometry should be shaded like {@link WallGeometry}.\n * @param {Boolean} [options.translucent=true] When <code>true</code>, the geometry is expected to appear translucent so {@link EllipsoidSurfaceAppearance#renderState} has alpha blending enabled.\n * @param {Boolean} [options.aboveGround=false] When <code>true</code>, the geometry is expected to be on the ellipsoid\'s surface - not at a constant height above it - so {@link EllipsoidSurfaceAppearance#renderState} has backface culling enabled.\n * @param {Material} [options.material=Material.ColorType] The material used to determine the fragment color.\n * @param {String} [options.vertexShaderSource] Optional GLSL vertex shader source to override the default vertex shader.\n * @param {String} [options.fragmentShaderSource] Optional GLSL fragment shader source to override the default fragment shader.\n * @param {Object} [options.renderState] Optional render state to override the default render state.\n *\n * @see {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric}\n *\n * @example\n * var primitive = new Cesium.Primitive({\n *   geometryInstances : new Cesium.GeometryInstance({\n *     geometry : new Cesium.PolygonGeometry({\n *       vertexFormat : Cesium.EllipsoidSurfaceAppearance.VERTEX_FORMAT,\n *       // ...\n *     })\n *   }),\n *   appearance : new Cesium.EllipsoidSurfaceAppearance({\n *     material : Cesium.Material.fromType(\'Stripe\')\n *   })\n * });\n */\nfunction EllipsoidSurfaceAppearance(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var translucent = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.translucent, true);\n  var aboveGround = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.aboveGround, false);\n\n  /**\n   * The material used to determine the fragment color.  Unlike other {@link EllipsoidSurfaceAppearance}\n   * properties, this is not read-only, so an appearance\'s material can change on the fly.\n   *\n   * @type Material\n   *\n   * @default {@link Material.ColorType}\n   *\n   * @see {@link https://github.com/CesiumGS/cesium/wiki/Fabric|Fabric}\n   */\n  this.material = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(options.material)\n    ? options.material\n    : _Material_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromType */ .Z.fromType(_Material_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].ColorType */ .Z.ColorType);\n\n  /**\n   * When <code>true</code>, the geometry is expected to appear translucent.\n   *\n   * @type {Boolean}\n   *\n   * @default true\n   */\n  this.translucent = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.translucent, true);\n\n  this._vertexShaderSource = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.vertexShaderSource,\n    _Shaders_Appearances_EllipsoidSurfaceAppearanceVS_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z\n  );\n  this._fragmentShaderSource = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    options.fragmentShaderSource,\n    _Shaders_Appearances_EllipsoidSurfaceAppearanceFS_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z\n  );\n  this._renderState = _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getDefaultRenderState */ .Z.getDefaultRenderState(\n    translucent,\n    !aboveGround,\n    options.renderState\n  );\n  this._closed = false;\n\n  // Non-derived members\n\n  this._flat = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.flat, false);\n  this._faceForward = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options.faceForward, aboveGround);\n  this._aboveGround = aboveGround;\n}\n\nObject.defineProperties(EllipsoidSurfaceAppearance.prototype, {\n  /**\n   * The GLSL source code for the vertex shader.\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  vertexShaderSource: {\n    get: function () {\n      return this._vertexShaderSource;\n    },\n  },\n\n  /**\n   * The GLSL source code for the fragment shader.  The full fragment shader\n   * source is built procedurally taking into account {@link EllipsoidSurfaceAppearance#material},\n   * {@link EllipsoidSurfaceAppearance#flat}, and {@link EllipsoidSurfaceAppearance#faceForward}.\n   * Use {@link EllipsoidSurfaceAppearance#getFragmentShaderSource} to get the full source.\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {String}\n   * @readonly\n   */\n  fragmentShaderSource: {\n    get: function () {\n      return this._fragmentShaderSource;\n    },\n  },\n\n  /**\n   * The WebGL fixed-function state to use when rendering the geometry.\n   * <p>\n   * The render state can be explicitly defined when constructing a {@link EllipsoidSurfaceAppearance}\n   * instance, or it is set implicitly via {@link EllipsoidSurfaceAppearance#translucent}\n   * and {@link EllipsoidSurfaceAppearance#aboveGround}.\n   * </p>\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {Object}\n   * @readonly\n   */\n  renderState: {\n    get: function () {\n      return this._renderState;\n    },\n  },\n\n  /**\n   * When <code>true</code>, the geometry is expected to be closed so\n   * {@link EllipsoidSurfaceAppearance#renderState} has backface culling enabled.\n   * If the viewer enters the geometry, it will not be visible.\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default false\n   */\n  closed: {\n    get: function () {\n      return this._closed;\n    },\n  },\n\n  /**\n   * The {@link VertexFormat} that this appearance instance is compatible with.\n   * A geometry can have more vertex attributes and still be compatible - at a\n   * potential performance cost - but it can\'t have less.\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type VertexFormat\n   * @readonly\n   *\n   * @default {@link EllipsoidSurfaceAppearance.VERTEX_FORMAT}\n   */\n  vertexFormat: {\n    get: function () {\n      return EllipsoidSurfaceAppearance.VERTEX_FORMAT;\n    },\n  },\n\n  /**\n   * When <code>true</code>, flat shading is used in the fragment shader,\n   * which means lighting is not taking into account.\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default false\n   */\n  flat: {\n    get: function () {\n      return this._flat;\n    },\n  },\n\n  /**\n   * When <code>true</code>, the fragment shader flips the surface normal\n   * as needed to ensure that the normal faces the viewer to avoid\n   * dark spots.  This is useful when both sides of a geometry should be\n   * shaded like {@link WallGeometry}.\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default true\n   */\n  faceForward: {\n    get: function () {\n      return this._faceForward;\n    },\n  },\n\n  /**\n   * When <code>true</code>, the geometry is expected to be on the ellipsoid\'s\n   * surface - not at a constant height above it - so {@link EllipsoidSurfaceAppearance#renderState}\n   * has backface culling enabled.\n   *\n   *\n   * @memberof EllipsoidSurfaceAppearance.prototype\n   *\n   * @type {Boolean}\n   * @readonly\n   *\n   * @default false\n   */\n  aboveGround: {\n    get: function () {\n      return this._aboveGround;\n    },\n  },\n});\n\n/**\n * The {@link VertexFormat} that all {@link EllipsoidSurfaceAppearance} instances\n * are compatible with, which requires only <code>position</code> and <code>st</code>\n * attributes.  Other attributes are procedurally computed in the fragment shader.\n *\n * @type VertexFormat\n *\n * @constant\n */\nEllipsoidSurfaceAppearance.VERTEX_FORMAT = _Core_VertexFormat_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].POSITION_AND_ST */ .Z.POSITION_AND_ST;\n\n/**\n * Procedurally creates the full GLSL fragment shader source.  For {@link EllipsoidSurfaceAppearance},\n * this is derived from {@link EllipsoidSurfaceAppearance#fragmentShaderSource}, {@link EllipsoidSurfaceAppearance#flat},\n * and {@link EllipsoidSurfaceAppearance#faceForward}.\n *\n * @function\n *\n * @returns {String} The full GLSL fragment shader source.\n */\nEllipsoidSurfaceAppearance.prototype.getFragmentShaderSource =\n  _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.getFragmentShaderSource */ .Z.prototype.getFragmentShaderSource;\n\n/**\n * Determines if the geometry is translucent based on {@link EllipsoidSurfaceAppearance#translucent} and {@link Material#isTranslucent}.\n *\n * @function\n *\n * @returns {Boolean} <code>true</code> if the appearance is translucent.\n */\nEllipsoidSurfaceAppearance.prototype.isTranslucent =\n  _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.isTranslucent */ .Z.prototype.isTranslucent;\n\n/**\n * Creates a render state.  This is not the final render state instance; instead,\n * it can contain a subset of render state properties identical to the render state\n * created in the context.\n *\n * @function\n *\n * @returns {Object} The render state.\n */\nEllipsoidSurfaceAppearance.prototype.getRenderState =\n  _Appearance_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].prototype.getRenderState */ .Z.prototype.getRenderState;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (EllipsoidSurfaceAppearance)));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQSxRQUFRLG9CQUFvQixVQUFVLGtDQUFrQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxzR0FBNEI7O0FBRXZFO0FBQ0Esb0VBQW9FLGlDQUFpQztBQUNyRyx5QkFBeUIsc0RBQXNELEdBQUcsc0NBQXNDO0FBQ3hILFFBQVEsNkNBQTZDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsRUFBRSxtSUFBNEM7O0FBRTlDO0FBQ0EsdURBQXVELDhDQUE4QyxLQUFLLDZCQUE2QjtBQUN2STtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLEVBQUUsK0dBQWtDOztBQUVwQztBQUNBLHlFQUF5RTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxFQUFFLGlIQUFtQztBQUNyQyxzRUFBZSwwRUFBMEIsSUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5qcz9hNzhjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgVmVydGV4Rm9ybWF0IGZyb20gXCIuLi9Db3JlL1ZlcnRleEZvcm1hdC5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlRlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2VGUy5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlVlMgZnJvbSBcIi4uL1NoYWRlcnMvQXBwZWFyYW5jZXMvRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2VWUy5qc1wiO1xuaW1wb3J0IEFwcGVhcmFuY2UgZnJvbSBcIi4vQXBwZWFyYW5jZS5qc1wiO1xuaW1wb3J0IE1hdGVyaWFsIGZyb20gXCIuL01hdGVyaWFsLmpzXCI7XG5cbi8qKlxuICogQW4gYXBwZWFyYW5jZSBmb3IgZ2VvbWV0cnkgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGVsbGlwc29pZCBsaWtlIHtAbGluayBQb2x5Z29uR2VvbWV0cnl9XG4gKiBhbmQge0BsaW5rIFJlY3RhbmdsZUdlb21ldHJ5fSwgd2hpY2ggc3VwcG9ydHMgYWxsIG1hdGVyaWFscyBsaWtlIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2V9XG4gKiB3aXRoIHtAbGluayBNYXRlcmlhbEFwcGVhcmFuY2UuTWF0ZXJpYWxTdXBwb3J0LkFMTH0uICBIb3dldmVyLCB0aGlzIGFwcGVhcmFuY2UgcmVxdWlyZXNcbiAqIGZld2VyIHZlcnRleCBhdHRyaWJ1dGVzIHNpbmNlIHRoZSBmcmFnbWVudCBzaGFkZXIgY2FuIHByb2NlZHVyYWxseSBjb21wdXRlIDxjb2RlPm5vcm1hbDwvY29kZT4sXG4gKiA8Y29kZT50YW5nZW50PC9jb2RlPiwgYW5kIDxjb2RlPmJpdGFuZ2VudDwvY29kZT4uXG4gKlxuICogQGFsaWFzIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmxhdD1mYWxzZV0gV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgZmxhdCBzaGFkaW5nIGlzIHVzZWQgaW4gdGhlIGZyYWdtZW50IHNoYWRlciwgd2hpY2ggbWVhbnMgbGlnaHRpbmcgaXMgbm90IHRha2luZyBpbnRvIGFjY291bnQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZhY2VGb3J3YXJkPW9wdGlvbnMuYWJvdmVHcm91bmRdIFdoZW4gPGNvZGU+dHJ1ZTwvY29kZT4sIHRoZSBmcmFnbWVudCBzaGFkZXIgZmxpcHMgdGhlIHN1cmZhY2Ugbm9ybWFsIGFzIG5lZWRlZCB0byBlbnN1cmUgdGhhdCB0aGUgbm9ybWFsIGZhY2VzIHRoZSB2aWV3ZXIgdG8gYXZvaWQgZGFyayBzcG90cy4gIFRoaXMgaXMgdXNlZnVsIHdoZW4gYm90aCBzaWRlcyBvZiBhIGdlb21ldHJ5IHNob3VsZCBiZSBzaGFkZWQgbGlrZSB7QGxpbmsgV2FsbEdlb21ldHJ5fS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudHJhbnNsdWNlbnQ9dHJ1ZV0gV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGdlb21ldHJ5IGlzIGV4cGVjdGVkIHRvIGFwcGVhciB0cmFuc2x1Y2VudCBzbyB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UjcmVuZGVyU3RhdGV9IGhhcyBhbHBoYSBibGVuZGluZyBlbmFibGVkLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hYm92ZUdyb3VuZD1mYWxzZV0gV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGdlb21ldHJ5IGlzIGV4cGVjdGVkIHRvIGJlIG9uIHRoZSBlbGxpcHNvaWQncyBzdXJmYWNlIC0gbm90IGF0IGEgY29uc3RhbnQgaGVpZ2h0IGFib3ZlIGl0IC0gc28ge0BsaW5rIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlI3JlbmRlclN0YXRlfSBoYXMgYmFja2ZhY2UgY3VsbGluZyBlbmFibGVkLlxuICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWw9TWF0ZXJpYWwuQ29sb3JUeXBlXSBUaGUgbWF0ZXJpYWwgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGZyYWdtZW50IGNvbG9yLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnZlcnRleFNoYWRlclNvdXJjZV0gT3B0aW9uYWwgR0xTTCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50U2hhZGVyU291cmNlXSBPcHRpb25hbCBHTFNMIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnJlbmRlclN0YXRlXSBPcHRpb25hbCByZW5kZXIgc3RhdGUgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgcmVuZGVyIHN0YXRlLlxuICpcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9jZXNpdW0vd2lraS9GYWJyaWN8RmFicmljfVxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgcHJpbWl0aXZlID0gbmV3IENlc2l1bS5QcmltaXRpdmUoe1xuICogICBnZW9tZXRyeUluc3RhbmNlcyA6IG5ldyBDZXNpdW0uR2VvbWV0cnlJbnN0YW5jZSh7XG4gKiAgICAgZ2VvbWV0cnkgOiBuZXcgQ2VzaXVtLlBvbHlnb25HZW9tZXRyeSh7XG4gKiAgICAgICB2ZXJ0ZXhGb3JtYXQgOiBDZXNpdW0uRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVCxcbiAqICAgICAgIC8vIC4uLlxuICogICAgIH0pXG4gKiAgIH0pLFxuICogICBhcHBlYXJhbmNlIDogbmV3IENlc2l1bS5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSh7XG4gKiAgICAgbWF0ZXJpYWwgOiBDZXNpdW0uTWF0ZXJpYWwuZnJvbVR5cGUoJ1N0cmlwZScpXG4gKiAgIH0pXG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2Uob3B0aW9ucykge1xuICBvcHRpb25zID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMsIGRlZmF1bHRWYWx1ZS5FTVBUWV9PQkpFQ1QpO1xuXG4gIHZhciB0cmFuc2x1Y2VudCA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLnRyYW5zbHVjZW50LCB0cnVlKTtcbiAgdmFyIGFib3ZlR3JvdW5kID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuYWJvdmVHcm91bmQsIGZhbHNlKTtcblxuICAvKipcbiAgICogVGhlIG1hdGVyaWFsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBmcmFnbWVudCBjb2xvci4gIFVubGlrZSBvdGhlciB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2V9XG4gICAqIHByb3BlcnRpZXMsIHRoaXMgaXMgbm90IHJlYWQtb25seSwgc28gYW4gYXBwZWFyYW5jZSdzIG1hdGVyaWFsIGNhbiBjaGFuZ2Ugb24gdGhlIGZseS5cbiAgICpcbiAgICogQHR5cGUgTWF0ZXJpYWxcbiAgICpcbiAgICogQGRlZmF1bHQge0BsaW5rIE1hdGVyaWFsLkNvbG9yVHlwZX1cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2Nlc2l1bS93aWtpL0ZhYnJpY3xGYWJyaWN9XG4gICAqL1xuICB0aGlzLm1hdGVyaWFsID0gZGVmaW5lZChvcHRpb25zLm1hdGVyaWFsKVxuICAgID8gb3B0aW9ucy5tYXRlcmlhbFxuICAgIDogTWF0ZXJpYWwuZnJvbVR5cGUoTWF0ZXJpYWwuQ29sb3JUeXBlKTtcblxuICAvKipcbiAgICogV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGdlb21ldHJ5IGlzIGV4cGVjdGVkIHRvIGFwcGVhciB0cmFuc2x1Y2VudC5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHRoaXMudHJhbnNsdWNlbnQgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy50cmFuc2x1Y2VudCwgdHJ1ZSk7XG5cbiAgdGhpcy5fdmVydGV4U2hhZGVyU291cmNlID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMudmVydGV4U2hhZGVyU291cmNlLFxuICAgIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlVlNcbiAgKTtcbiAgdGhpcy5fZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBkZWZhdWx0VmFsdWUoXG4gICAgb3B0aW9ucy5mcmFnbWVudFNoYWRlclNvdXJjZSxcbiAgICBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZUZTXG4gICk7XG4gIHRoaXMuX3JlbmRlclN0YXRlID0gQXBwZWFyYW5jZS5nZXREZWZhdWx0UmVuZGVyU3RhdGUoXG4gICAgdHJhbnNsdWNlbnQsXG4gICAgIWFib3ZlR3JvdW5kLFxuICAgIG9wdGlvbnMucmVuZGVyU3RhdGVcbiAgKTtcbiAgdGhpcy5fY2xvc2VkID0gZmFsc2U7XG5cbiAgLy8gTm9uLWRlcml2ZWQgbWVtYmVyc1xuXG4gIHRoaXMuX2ZsYXQgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5mbGF0LCBmYWxzZSk7XG4gIHRoaXMuX2ZhY2VGb3J3YXJkID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZmFjZUZvcndhcmQsIGFib3ZlR3JvdW5kKTtcbiAgdGhpcy5fYWJvdmVHcm91bmQgPSBhYm92ZUdyb3VuZDtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBUaGUgR0xTTCBzb3VyY2UgY29kZSBmb3IgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl92ZXJ0ZXhTaGFkZXJTb3VyY2U7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIEdMU0wgc291cmNlIGNvZGUgZm9yIHRoZSBmcmFnbWVudCBzaGFkZXIuICBUaGUgZnVsbCBmcmFnbWVudCBzaGFkZXJcbiAgICogc291cmNlIGlzIGJ1aWx0IHByb2NlZHVyYWxseSB0YWtpbmcgaW50byBhY2NvdW50IHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSNtYXRlcmlhbH0sXG4gICAqIHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSNmbGF0fSwgYW5kIHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSNmYWNlRm9yd2FyZH0uXG4gICAqIFVzZSB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UjZ2V0RnJhZ21lbnRTaGFkZXJTb3VyY2V9IHRvIGdldCB0aGUgZnVsbCBzb3VyY2UuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBmcmFnbWVudFNoYWRlclNvdXJjZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZyYWdtZW50U2hhZGVyU291cmNlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBXZWJHTCBmaXhlZC1mdW5jdGlvbiBzdGF0ZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGdlb21ldHJ5LlxuICAgKiA8cD5cbiAgICogVGhlIHJlbmRlciBzdGF0ZSBjYW4gYmUgZXhwbGljaXRseSBkZWZpbmVkIHdoZW4gY29uc3RydWN0aW5nIGEge0BsaW5rIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlfVxuICAgKiBpbnN0YW5jZSwgb3IgaXQgaXMgc2V0IGltcGxpY2l0bHkgdmlhIHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSN0cmFuc2x1Y2VudH1cbiAgICogYW5kIHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSNhYm92ZUdyb3VuZH0uXG4gICAqIDwvcD5cbiAgICpcbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHJlbmRlclN0YXRlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVuZGVyU3RhdGU7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGdlb21ldHJ5IGlzIGV4cGVjdGVkIHRvIGJlIGNsb3NlZCBzb1xuICAgKiB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UjcmVuZGVyU3RhdGV9IGhhcyBiYWNrZmFjZSBjdWxsaW5nIGVuYWJsZWQuXG4gICAqIElmIHRoZSB2aWV3ZXIgZW50ZXJzIHRoZSBnZW9tZXRyeSwgaXQgd2lsbCBub3QgYmUgdmlzaWJsZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICogQHJlYWRvbmx5XG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBjbG9zZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jbG9zZWQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogVGhlIHtAbGluayBWZXJ0ZXhGb3JtYXR9IHRoYXQgdGhpcyBhcHBlYXJhbmNlIGluc3RhbmNlIGlzIGNvbXBhdGlibGUgd2l0aC5cbiAgICogQSBnZW9tZXRyeSBjYW4gaGF2ZSBtb3JlIHZlcnRleCBhdHRyaWJ1dGVzIGFuZCBzdGlsbCBiZSBjb21wYXRpYmxlIC0gYXQgYVxuICAgKiBwb3RlbnRpYWwgcGVyZm9ybWFuY2UgY29zdCAtIGJ1dCBpdCBjYW4ndCBoYXZlIGxlc3MuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUgVmVydGV4Rm9ybWF0XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAZGVmYXVsdCB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UuVkVSVEVYX0ZPUk1BVH1cbiAgICovXG4gIHZlcnRleEZvcm1hdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgZmxhdCBzaGFkaW5nIGlzIHVzZWQgaW4gdGhlIGZyYWdtZW50IHNoYWRlcixcbiAgICogd2hpY2ggbWVhbnMgbGlnaHRpbmcgaXMgbm90IHRha2luZyBpbnRvIGFjY291bnQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZmxhdDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZsYXQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogV2hlbiA8Y29kZT50cnVlPC9jb2RlPiwgdGhlIGZyYWdtZW50IHNoYWRlciBmbGlwcyB0aGUgc3VyZmFjZSBub3JtYWxcbiAgICogYXMgbmVlZGVkIHRvIGVuc3VyZSB0aGF0IHRoZSBub3JtYWwgZmFjZXMgdGhlIHZpZXdlciB0byBhdm9pZFxuICAgKiBkYXJrIHNwb3RzLiAgVGhpcyBpcyB1c2VmdWwgd2hlbiBib3RoIHNpZGVzIG9mIGEgZ2VvbWV0cnkgc2hvdWxkIGJlXG4gICAqIHNoYWRlZCBsaWtlIHtAbGluayBXYWxsR2VvbWV0cnl9LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICpcbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZmFjZUZvcndhcmQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mYWNlRm9yd2FyZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIDxjb2RlPnRydWU8L2NvZGU+LCB0aGUgZ2VvbWV0cnkgaXMgZXhwZWN0ZWQgdG8gYmUgb24gdGhlIGVsbGlwc29pZCdzXG4gICAqIHN1cmZhY2UgLSBub3QgYXQgYSBjb25zdGFudCBoZWlnaHQgYWJvdmUgaXQgLSBzbyB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UjcmVuZGVyU3RhdGV9XG4gICAqIGhhcyBiYWNrZmFjZSBjdWxsaW5nIGVuYWJsZWQuXG4gICAqXG4gICAqXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYWJvdmVHcm91bmQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hYm92ZUdyb3VuZDtcbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogVGhlIHtAbGluayBWZXJ0ZXhGb3JtYXR9IHRoYXQgYWxsIHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZX0gaW5zdGFuY2VzXG4gKiBhcmUgY29tcGF0aWJsZSB3aXRoLCB3aGljaCByZXF1aXJlcyBvbmx5IDxjb2RlPnBvc2l0aW9uPC9jb2RlPiBhbmQgPGNvZGU+c3Q8L2NvZGU+XG4gKiBhdHRyaWJ1dGVzLiAgT3RoZXIgYXR0cmlidXRlcyBhcmUgcHJvY2VkdXJhbGx5IGNvbXB1dGVkIGluIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gKlxuICogQHR5cGUgVmVydGV4Rm9ybWF0XG4gKlxuICogQGNvbnN0YW50XG4gKi9cbkVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQgPSBWZXJ0ZXhGb3JtYXQuUE9TSVRJT05fQU5EX1NUO1xuXG4vKipcbiAqIFByb2NlZHVyYWxseSBjcmVhdGVzIHRoZSBmdWxsIEdMU0wgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZS4gIEZvciB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2V9LFxuICogdGhpcyBpcyBkZXJpdmVkIGZyb20ge0BsaW5rIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlI2ZyYWdtZW50U2hhZGVyU291cmNlfSwge0BsaW5rIEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlI2ZsYXR9LFxuICogYW5kIHtAbGluayBFbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZSNmYWNlRm9yd2FyZH0uXG4gKlxuICogQGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIGZ1bGwgR0xTTCBmcmFnbWVudCBzaGFkZXIgc291cmNlLlxuICovXG5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGUuZ2V0RnJhZ21lbnRTaGFkZXJTb3VyY2UgPVxuICBBcHBlYXJhbmNlLnByb3RvdHlwZS5nZXRGcmFnbWVudFNoYWRlclNvdXJjZTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBnZW9tZXRyeSBpcyB0cmFuc2x1Y2VudCBiYXNlZCBvbiB7QGxpbmsgRWxsaXBzb2lkU3VyZmFjZUFwcGVhcmFuY2UjdHJhbnNsdWNlbnR9IGFuZCB7QGxpbmsgTWF0ZXJpYWwjaXNUcmFuc2x1Y2VudH0uXG4gKlxuICogQGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBhcHBlYXJhbmNlIGlzIHRyYW5zbHVjZW50LlxuICovXG5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGUuaXNUcmFuc2x1Y2VudCA9XG4gIEFwcGVhcmFuY2UucHJvdG90eXBlLmlzVHJhbnNsdWNlbnQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJlbmRlciBzdGF0ZS4gIFRoaXMgaXMgbm90IHRoZSBmaW5hbCByZW5kZXIgc3RhdGUgaW5zdGFuY2U7IGluc3RlYWQsXG4gKiBpdCBjYW4gY29udGFpbiBhIHN1YnNldCBvZiByZW5kZXIgc3RhdGUgcHJvcGVydGllcyBpZGVudGljYWwgdG8gdGhlIHJlbmRlciBzdGF0ZVxuICogY3JlYXRlZCBpbiB0aGUgY29udGV4dC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVuZGVyIHN0YXRlLlxuICovXG5FbGxpcHNvaWRTdXJmYWNlQXBwZWFyYW5jZS5wcm90b3R5cGUuZ2V0UmVuZGVyU3RhdGUgPVxuICBBcHBlYXJhbmNlLnByb3RvdHlwZS5nZXRSZW5kZXJTdGF0ZTtcbmV4cG9ydCBkZWZhdWx0IEVsbGlwc29pZFN1cmZhY2VBcHBlYXJhbmNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///68516\n')},67334:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n\n\n\n/**\n * Represents empty content for tiles in a\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification|3D Tiles} tileset that\n * do not have content, e.g., because they are used to optimize hierarchical culling.\n * <p>\n * Implements the {@link Cesium3DTileContent} interface.\n * </p>\n *\n * @alias Empty3DTileContent\n * @constructor\n *\n * @private\n */\nfunction Empty3DTileContent(tileset, tile) {\n  this._tileset = tileset;\n  this._tile = tile;\n\n  this.featurePropertiesDirty = false;\n}\n\nObject.defineProperties(Empty3DTileContent.prototype, {\n  featuresLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  pointsLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  trianglesLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  geometryByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  texturesByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  batchTableByteLength: {\n    get: function () {\n      return 0;\n    },\n  },\n\n  innerContents: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  readyPromise: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  tileset: {\n    get: function () {\n      return this._tileset;\n    },\n  },\n\n  tile: {\n    get: function () {\n      return this._tile;\n    },\n  },\n\n  url: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  batchTable: {\n    get: function () {\n      return undefined;\n    },\n  },\n\n  groupMetadata: {\n    get: function () {\n      return undefined;\n    },\n    set: function (value) {\n      throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("Empty3DTileContent cannot have group metadata");\n    },\n  },\n});\n\n/**\n * Part of the {@link Cesium3DTileContent} interface.  <code>Empty3DTileContent</code>\n * always returns <code>false</code> since a tile of this type does not have any features.\n */\nEmpty3DTileContent.prototype.hasProperty = function (batchId, name) {\n  return false;\n};\n\n/**\n * Part of the {@link Cesium3DTileContent} interface.  <code>Empty3DTileContent</code>\n * always returns <code>undefined</code> since a tile of this type does not have any features.\n */\nEmpty3DTileContent.prototype.getFeature = function (batchId) {\n  return undefined;\n};\n\nEmpty3DTileContent.prototype.applyDebugSettings = function (enabled, color) {};\n\nEmpty3DTileContent.prototype.applyStyle = function (style) {};\n\nEmpty3DTileContent.prototype.update = function (tileset, frameState) {};\n\nEmpty3DTileContent.prototype.isDestroyed = function () {\n  return false;\n};\n\nEmpty3DTileContent.prototype.destroy = function () {\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Empty3DTileContent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjczMzQuanMiLCJtYXBwaW5ncyI6Ijs7QUFBcUQ7QUFDRTs7QUFFdkQ7QUFDQTtBQUNBLElBQUksNkVBQTZFO0FBQ2pGO0FBQ0E7QUFDQSxtQkFBbUIsMkJBQTJCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0Isd0VBQWM7QUFDOUIsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSx5REFBZSxrQkFBa0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9FbXB0eTNEVGlsZUNvbnRlbnQuanM/NDRmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGVtcHR5IGNvbnRlbnQgZm9yIHRpbGVzIGluIGFcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvM2QtdGlsZXMvdHJlZS9tYWluL3NwZWNpZmljYXRpb258M0QgVGlsZXN9IHRpbGVzZXQgdGhhdFxuICogZG8gbm90IGhhdmUgY29udGVudCwgZS5nLiwgYmVjYXVzZSB0aGV5IGFyZSB1c2VkIHRvIG9wdGltaXplIGhpZXJhcmNoaWNhbCBjdWxsaW5nLlxuICogPHA+XG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgQ2VzaXVtM0RUaWxlQ29udGVudH0gaW50ZXJmYWNlLlxuICogPC9wPlxuICpcbiAqIEBhbGlhcyBFbXB0eTNEVGlsZUNvbnRlbnRcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVtcHR5M0RUaWxlQ29udGVudCh0aWxlc2V0LCB0aWxlKSB7XG4gIHRoaXMuX3RpbGVzZXQgPSB0aWxlc2V0O1xuICB0aGlzLl90aWxlID0gdGlsZTtcblxuICB0aGlzLmZlYXR1cmVQcm9wZXJ0aWVzRGlydHkgPSBmYWxzZTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRW1wdHkzRFRpbGVDb250ZW50LnByb3RvdHlwZSwge1xuICBmZWF0dXJlc0xlbmd0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgfSxcblxuICBwb2ludHNMZW5ndGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gIH0sXG5cbiAgdHJpYW5nbGVzTGVuZ3RoOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuICB9LFxuXG4gIGdlb21ldHJ5Qnl0ZUxlbmd0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgfSxcblxuICB0ZXh0dXJlc0J5dGVMZW5ndGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gIH0sXG5cbiAgYmF0Y2hUYWJsZUJ5dGVMZW5ndGg6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gIH0sXG5cbiAgaW5uZXJDb250ZW50czoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9LFxuXG4gIHJlYWR5UHJvbWlzZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9LFxuXG4gIHRpbGVzZXQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90aWxlc2V0O1xuICAgIH0sXG4gIH0sXG5cbiAgdGlsZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RpbGU7XG4gICAgfSxcbiAgfSxcblxuICB1cmw6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfSxcblxuICBiYXRjaFRhYmxlOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH0sXG5cbiAgZ3JvdXBNZXRhZGF0YToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJFbXB0eTNEVGlsZUNvbnRlbnQgY2Fubm90IGhhdmUgZ3JvdXAgbWV0YWRhdGFcIik7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIFBhcnQgb2YgdGhlIHtAbGluayBDZXNpdW0zRFRpbGVDb250ZW50fSBpbnRlcmZhY2UuICA8Y29kZT5FbXB0eTNEVGlsZUNvbnRlbnQ8L2NvZGU+XG4gKiBhbHdheXMgcmV0dXJucyA8Y29kZT5mYWxzZTwvY29kZT4gc2luY2UgYSB0aWxlIG9mIHRoaXMgdHlwZSBkb2VzIG5vdCBoYXZlIGFueSBmZWF0dXJlcy5cbiAqL1xuRW1wdHkzRFRpbGVDb250ZW50LnByb3RvdHlwZS5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChiYXRjaElkLCBuYW1lKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUGFydCBvZiB0aGUge0BsaW5rIENlc2l1bTNEVGlsZUNvbnRlbnR9IGludGVyZmFjZS4gIDxjb2RlPkVtcHR5M0RUaWxlQ29udGVudDwvY29kZT5cbiAqIGFsd2F5cyByZXR1cm5zIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gc2luY2UgYSB0aWxlIG9mIHRoaXMgdHlwZSBkb2VzIG5vdCBoYXZlIGFueSBmZWF0dXJlcy5cbiAqL1xuRW1wdHkzRFRpbGVDb250ZW50LnByb3RvdHlwZS5nZXRGZWF0dXJlID0gZnVuY3Rpb24gKGJhdGNoSWQpIHtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbkVtcHR5M0RUaWxlQ29udGVudC5wcm90b3R5cGUuYXBwbHlEZWJ1Z1NldHRpbmdzID0gZnVuY3Rpb24gKGVuYWJsZWQsIGNvbG9yKSB7fTtcblxuRW1wdHkzRFRpbGVDb250ZW50LnByb3RvdHlwZS5hcHBseVN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7fTtcblxuRW1wdHkzRFRpbGVDb250ZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodGlsZXNldCwgZnJhbWVTdGF0ZSkge307XG5cbkVtcHR5M0RUaWxlQ29udGVudC5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbkVtcHR5M0RUaWxlQ29udGVudC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGRlc3Ryb3lPYmplY3QodGhpcyk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRW1wdHkzRFRpbGVDb250ZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///67334\n')},19427:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60838);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63367);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(66553);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59947);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99417);\n/* harmony import */ var _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9407);\n/* harmony import */ var _ThirdParty_jsep_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(62503);\n/* harmony import */ var _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2417);\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * An expression for a style applied to a {@link Cesium3DTileset}.\n * <p>\n * Evaluates an expression defined using the\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language}.\n * </p>\n * <p>\n * Implements the {@link StyleExpression} interface.\n * </p>\n *\n * @alias Expression\n * @constructor\n *\n * @param {String} [expression] The expression defined using the 3D Tiles Styling language.\n * @param {Object} [defines] Defines in the style.\n *\n * @example\n * var expression = new Cesium.Expression(\'(regExp("^Chest").test(${County})) && (${YearBuilt} >= 1970)\');\n * expression.evaluate(feature); // returns true or false depending on the feature\'s properties\n *\n * @example\n * var expression = new Cesium.Expression(\'(${Temperature} > 90) ? color("red") : color("white")\');\n * expression.evaluateColor(feature, result); // returns a Cesium.Color object\n */\nfunction Expression(expression, defines) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].typeOf.string */ .Z.typeOf.string("expression", expression);\n  //>>includeEnd(\'debug\');\n\n  this._expression = expression;\n  expression = replaceDefines(expression, defines);\n  expression = replaceVariables(removeBackslashes(expression));\n\n  // customize jsep operators\n  _ThirdParty_jsep_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].addBinaryOp */ .Z.addBinaryOp("=~", 0);\n  _ThirdParty_jsep_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].addBinaryOp */ .Z.addBinaryOp("!~", 0);\n\n  var ast;\n  try {\n    ast = (0,_ThirdParty_jsep_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(expression);\n  } catch (e) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(e);\n  }\n\n  this._runtimeAst = createRuntimeAst(this, ast);\n}\n\nObject.defineProperties(Expression.prototype, {\n  /**\n   * Gets the expression defined in the 3D Tiles Styling language.\n   *\n   * @memberof Expression.prototype\n   *\n   * @type {String}\n   * @readonly\n   *\n   * @default undefined\n   */\n  expression: {\n    get: function () {\n      return this._expression;\n    },\n  },\n});\n\n// Scratch storage manager while evaluating deep expressions.\n// For example, an expression like dot(vec4(${red}), vec4(${green}) * vec4(${blue}) requires 3 scratch Cartesian4\'s\nvar scratchStorage = {\n  arrayIndex: 0,\n  arrayArray: [[]],\n  cartesian2Index: 0,\n  cartesian3Index: 0,\n  cartesian4Index: 0,\n  cartesian2Array: [new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z()],\n  cartesian3Array: [new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z()],\n  cartesian4Array: [new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z()],\n  reset: function () {\n    this.arrayIndex = 0;\n    this.cartesian2Index = 0;\n    this.cartesian3Index = 0;\n    this.cartesian4Index = 0;\n  },\n  getArray: function () {\n    if (this.arrayIndex >= this.arrayArray.length) {\n      this.arrayArray.push([]);\n    }\n    var array = this.arrayArray[this.arrayIndex++];\n    array.length = 0;\n    return array;\n  },\n  getCartesian2: function () {\n    if (this.cartesian2Index >= this.cartesian2Array.length) {\n      this.cartesian2Array.push(new _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z());\n    }\n    return this.cartesian2Array[this.cartesian2Index++];\n  },\n  getCartesian3: function () {\n    if (this.cartesian3Index >= this.cartesian3Array.length) {\n      this.cartesian3Array.push(new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z());\n    }\n    return this.cartesian3Array[this.cartesian3Index++];\n  },\n  getCartesian4: function () {\n    if (this.cartesian4Index >= this.cartesian4Array.length) {\n      this.cartesian4Array.push(new _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z());\n    }\n    return this.cartesian4Array[this.cartesian4Index++];\n  },\n};\n\n/**\n * Evaluates the result of an expression, optionally using the provided feature\'s properties. If the result of\n * the expression in the\n * {@link https://github.com/CesiumGS/3d-tiles/tree/main/specification/Styling|3D Tiles Styling language}\n * is of type <code>Boolean</code>, <code>Number</code>, or <code>String</code>, the corresponding JavaScript\n * primitive type will be returned. If the result is a <code>RegExp</code>, a Javascript <code>RegExp</code>\n * object will be returned. If the result is a <code>Cartesian2</code>, <code>Cartesian3</code>, or <code>Cartesian4</code>,\n * a {@link Cartesian2}, {@link Cartesian3}, or {@link Cartesian4} object will be returned. If the <code>result</code> argument is\n * a {@link Color}, the {@link Cartesian4} value is converted to a {@link Color} and then returned.\n *\n * @param {Cesium3DTileFeature} feature The feature whose properties may be used as variables in the expression.\n * @param {Object} [result] The object onto which to store the result.\n * @returns {Boolean|Number|String|RegExp|Cartesian2|Cartesian3|Cartesian4|Color} The result of evaluating the expression.\n */\nExpression.prototype.evaluate = function (feature, result) {\n  scratchStorage.reset();\n  var value = this._runtimeAst.evaluate(feature);\n  if (result instanceof _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z && value instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromCartesian4 */ .Z.fromCartesian4(value, result);\n  }\n  if (\n    value instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z ||\n    value instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z ||\n    value instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z\n  ) {\n    return value.clone(result);\n  }\n  return value;\n};\n\n/**\n * Evaluates the result of a Color expression, optionally using the provided feature\'s properties.\n * <p>\n * This is equivalent to {@link Expression#evaluate} but always returns a {@link Color} object.\n * </p>\n *\n * @param {Cesium3DTileFeature} feature The feature whose properties may be used as variables in the expression.\n * @param {Color} [result] The object in which to store the result\n * @returns {Color} The modified result parameter or a new Color instance if one was not provided.\n */\nExpression.prototype.evaluateColor = function (feature, result) {\n  scratchStorage.reset();\n  var color = this._runtimeAst.evaluate(feature);\n  return _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromCartesian4 */ .Z.fromCartesian4(color, result);\n};\n\n/**\n * Gets the shader function for this expression.\n * Returns undefined if the shader function can\'t be generated from this expression.\n *\n * @param {String} functionSignature Signature of the generated function.\n * @param {Object} variableSubstitutionMap Maps variable names to shader variable names.\n * @param {Object} shaderState Stores information about the generated shader function, including whether it is translucent.\n * @param {String} returnType The return type of the generated function.\n *\n * @returns {String} The shader function.\n *\n * @private\n */\nExpression.prototype.getShaderFunction = function (\n  functionSignature,\n  variableSubstitutionMap,\n  shaderState,\n  returnType\n) {\n  var shaderExpression = this.getShaderExpression(\n    variableSubstitutionMap,\n    shaderState\n  );\n\n  shaderExpression =\n    returnType +\n    " " +\n    functionSignature +\n    "\\n" +\n    "{\\n" +\n    "    return " +\n    shaderExpression +\n    ";\\n" +\n    "}\\n";\n\n  return shaderExpression;\n};\n\n/**\n * Gets the shader expression for this expression.\n * Returns undefined if the shader expression can\'t be generated from this expression.\n *\n * @param {Object} variableSubstitutionMap Maps variable names to shader variable names.\n * @param {Object} shaderState Stores information about the generated shader function, including whether it is translucent.\n *\n * @returns {String} The shader expression.\n *\n * @private\n */\nExpression.prototype.getShaderExpression = function (\n  variableSubstitutionMap,\n  shaderState\n) {\n  return this._runtimeAst.getShaderExpression(\n    variableSubstitutionMap,\n    shaderState\n  );\n};\n\n/**\n * Gets the variables used by the expression.\n *\n * @returns {String[]} The variables used by the expression.\n *\n * @private\n */\nExpression.prototype.getVariables = function () {\n  var variables = [];\n\n  this._runtimeAst.getVariables(variables);\n\n  // Remove duplicates\n  variables = variables.filter(function (variable, index, variables) {\n    return variables.indexOf(variable) === index;\n  });\n\n  return variables;\n};\n\nvar unaryOperators = ["!", "-", "+"];\nvar binaryOperators = [\n  "+",\n  "-",\n  "*",\n  "/",\n  "%",\n  "===",\n  "!==",\n  ">",\n  ">=",\n  "<",\n  "<=",\n  "&&",\n  "||",\n  "!~",\n  "=~",\n];\n\nvar variableRegex = /\\${(.*?)}/g; // Matches ${variable_name}\nvar backslashRegex = /\\\\/g;\nvar backslashReplacement = "@#%";\nvar replacementRegex = /@#%/g;\n\nvar scratchColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z();\n\nvar unaryFunctions = {\n  abs: getEvaluateUnaryComponentwise(Math.abs),\n  sqrt: getEvaluateUnaryComponentwise(Math.sqrt),\n  cos: getEvaluateUnaryComponentwise(Math.cos),\n  sin: getEvaluateUnaryComponentwise(Math.sin),\n  tan: getEvaluateUnaryComponentwise(Math.tan),\n  acos: getEvaluateUnaryComponentwise(Math.acos),\n  asin: getEvaluateUnaryComponentwise(Math.asin),\n  atan: getEvaluateUnaryComponentwise(Math.atan),\n  radians: getEvaluateUnaryComponentwise(_Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].toRadians */ .Z.toRadians),\n  degrees: getEvaluateUnaryComponentwise(_Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].toDegrees */ .Z.toDegrees),\n  sign: getEvaluateUnaryComponentwise(_Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].sign */ .Z.sign),\n  floor: getEvaluateUnaryComponentwise(Math.floor),\n  ceil: getEvaluateUnaryComponentwise(Math.ceil),\n  round: getEvaluateUnaryComponentwise(Math.round),\n  exp: getEvaluateUnaryComponentwise(Math.exp),\n  exp2: getEvaluateUnaryComponentwise(exp2),\n  log: getEvaluateUnaryComponentwise(Math.log),\n  log2: getEvaluateUnaryComponentwise(log2),\n  fract: getEvaluateUnaryComponentwise(fract),\n  length: length,\n  normalize: normalize,\n};\n\nvar binaryFunctions = {\n  atan2: getEvaluateBinaryComponentwise(Math.atan2, false),\n  pow: getEvaluateBinaryComponentwise(Math.pow, false),\n  min: getEvaluateBinaryComponentwise(Math.min, true),\n  max: getEvaluateBinaryComponentwise(Math.max, true),\n  distance: distance,\n  dot: dot,\n  cross: cross,\n};\n\nvar ternaryFunctions = {\n  clamp: getEvaluateTernaryComponentwise(_Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].clamp */ .Z.clamp, true),\n  mix: getEvaluateTernaryComponentwise(_Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].lerp */ .Z.lerp, true),\n};\n\nfunction fract(number) {\n  return number - Math.floor(number);\n}\n\nfunction exp2(exponent) {\n  return Math.pow(2.0, exponent);\n}\n\nfunction log2(number) {\n  return _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].log2 */ .Z.log2(number);\n}\n\nfunction getEvaluateUnaryComponentwise(operation) {\n  return function (call, left) {\n    if (typeof left === "number") {\n      return operation(left);\n    } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n      return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x),\n        operation(left.y),\n        scratchStorage.getCartesian2()\n      );\n    } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n      return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x),\n        operation(left.y),\n        operation(left.z),\n        scratchStorage.getCartesian3()\n      );\n    } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n      return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x),\n        operation(left.y),\n        operation(left.z),\n        operation(left.w),\n        scratchStorage.getCartesian4()\n      );\n    }\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Function "\' +\n        call +\n        \'" requires a vector or number argument. Argument is \' +\n        left +\n        "."\n    );\n  };\n}\n\nfunction getEvaluateBinaryComponentwise(operation, allowScalar) {\n  return function (call, left, right) {\n    if (allowScalar && typeof right === "number") {\n      if (typeof left === "number") {\n        return operation(left, right);\n      } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n        return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n          operation(left.x, right),\n          operation(left.y, right),\n          scratchStorage.getCartesian2()\n        );\n      } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n        return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n          operation(left.x, right),\n          operation(left.y, right),\n          operation(left.z, right),\n          scratchStorage.getCartesian3()\n        );\n      } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n        return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n          operation(left.x, right),\n          operation(left.y, right),\n          operation(left.z, right),\n          operation(left.w, right),\n          scratchStorage.getCartesian4()\n        );\n      }\n    }\n\n    if (typeof left === "number" && typeof right === "number") {\n      return operation(left, right);\n    } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n      return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x, right.x),\n        operation(left.y, right.y),\n        scratchStorage.getCartesian2()\n      );\n    } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n      return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x, right.x),\n        operation(left.y, right.y),\n        operation(left.z, right.z),\n        scratchStorage.getCartesian3()\n      );\n    } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n      return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x, right.x),\n        operation(left.y, right.y),\n        operation(left.z, right.z),\n        operation(left.w, right.w),\n        scratchStorage.getCartesian4()\n      );\n    }\n\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Function "\' +\n        call +\n        \'" requires vector or number arguments of matching types. Arguments are \' +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  };\n}\n\nfunction getEvaluateTernaryComponentwise(operation, allowScalar) {\n  return function (call, left, right, test) {\n    if (allowScalar && typeof test === "number") {\n      if (typeof left === "number" && typeof right === "number") {\n        return operation(left, right, test);\n      } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n        return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n          operation(left.x, right.x, test),\n          operation(left.y, right.y, test),\n          scratchStorage.getCartesian2()\n        );\n      } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n        return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n          operation(left.x, right.x, test),\n          operation(left.y, right.y, test),\n          operation(left.z, right.z, test),\n          scratchStorage.getCartesian3()\n        );\n      } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n        return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n          operation(left.x, right.x, test),\n          operation(left.y, right.y, test),\n          operation(left.z, right.z, test),\n          operation(left.w, right.w, test),\n          scratchStorage.getCartesian4()\n        );\n      }\n    }\n\n    if (\n      typeof left === "number" &&\n      typeof right === "number" &&\n      typeof test === "number"\n    ) {\n      return operation(left, right, test);\n    } else if (\n      left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z &&\n      right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z &&\n      test instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z\n    ) {\n      return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x, right.x, test.x),\n        operation(left.y, right.y, test.y),\n        scratchStorage.getCartesian2()\n      );\n    } else if (\n      left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z &&\n      right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z &&\n      test instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z\n    ) {\n      return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x, right.x, test.x),\n        operation(left.y, right.y, test.y),\n        operation(left.z, right.z, test.z),\n        scratchStorage.getCartesian3()\n      );\n    } else if (\n      left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z &&\n      right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z &&\n      test instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z\n    ) {\n      return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n        operation(left.x, right.x, test.x),\n        operation(left.y, right.y, test.y),\n        operation(left.z, right.z, test.z),\n        operation(left.w, right.w, test.w),\n        scratchStorage.getCartesian4()\n      );\n    }\n\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Function "\' +\n        call +\n        \'" requires vector or number arguments of matching types. Arguments are \' +\n        left +\n        ", " +\n        right +\n        ", and " +\n        test +\n        "."\n    );\n  };\n}\n\nfunction length(call, left) {\n  if (typeof left === "number") {\n    return Math.abs(left);\n  } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].magnitude */ .Z.magnitude(left);\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].magnitude */ .Z.magnitude(left);\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].magnitude */ .Z.magnitude(left);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Function "\' +\n      call +\n      \'" requires a vector or number argument. Argument is \' +\n      left +\n      "."\n  );\n}\n\nfunction normalize(call, left) {\n  if (typeof left === "number") {\n    return 1.0;\n  } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(left, scratchStorage.getCartesian2());\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].normalize */ .Z.normalize(left, scratchStorage.getCartesian3());\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].normalize */ .Z.normalize(left, scratchStorage.getCartesian4());\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Function "\' +\n      call +\n      \'" requires a vector or number argument. Argument is \' +\n      left +\n      "."\n  );\n}\n\nfunction distance(call, left, right) {\n  if (typeof left === "number" && typeof right === "number") {\n    return Math.abs(left - right);\n  } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].distance */ .Z.distance(left, right);\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].distance */ .Z.distance(left, right);\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].distance */ .Z.distance(left, right);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Function "\' +\n      call +\n      \'" requires vector or number arguments of matching types. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n}\n\nfunction dot(call, left, right) {\n  if (typeof left === "number" && typeof right === "number") {\n    return left * right;\n  } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].dot */ .Z.dot(left, right);\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].dot */ .Z.dot(left, right);\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].dot */ .Z.dot(left, right);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Function "\' +\n      call +\n      \'" requires vector or number arguments of matching types. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n}\n\nfunction cross(call, left, right) {\n  if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].cross */ .Z.cross(left, right, scratchStorage.getCartesian3());\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Function "\' +\n      call +\n      \'" requires vec3 arguments. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n}\n\nfunction Node(type, value, left, right, test) {\n  this._type = type;\n  this._value = value;\n  this._left = left;\n  this._right = right;\n  this._test = test;\n  this.evaluate = undefined;\n\n  setEvaluateFunction(this);\n}\n\nfunction replaceDefines(expression, defines) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(defines)) {\n    return expression;\n  }\n  for (var key in defines) {\n    if (defines.hasOwnProperty(key)) {\n      var definePlaceholder = new RegExp("\\\\$\\\\{" + key + "\\\\}", "g");\n      var defineReplace = "(" + defines[key] + ")";\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(defineReplace)) {\n        expression = expression.replace(definePlaceholder, defineReplace);\n      }\n    }\n  }\n  return expression;\n}\n\nfunction removeBackslashes(expression) {\n  return expression.replace(backslashRegex, backslashReplacement);\n}\n\nfunction replaceBackslashes(expression) {\n  return expression.replace(replacementRegex, "\\\\");\n}\n\nfunction replaceVariables(expression) {\n  var exp = expression;\n  var result = "";\n  var i = exp.indexOf("${");\n  while (i >= 0) {\n    // Check if string is inside quotes\n    var openSingleQuote = exp.indexOf("\'");\n    var openDoubleQuote = exp.indexOf(\'"\');\n    var closeQuote;\n    if (openSingleQuote >= 0 && openSingleQuote < i) {\n      closeQuote = exp.indexOf("\'", openSingleQuote + 1);\n      result += exp.substr(0, closeQuote + 1);\n      exp = exp.substr(closeQuote + 1);\n      i = exp.indexOf("${");\n    } else if (openDoubleQuote >= 0 && openDoubleQuote < i) {\n      closeQuote = exp.indexOf(\'"\', openDoubleQuote + 1);\n      result += exp.substr(0, closeQuote + 1);\n      exp = exp.substr(closeQuote + 1);\n      i = exp.indexOf("${");\n    } else {\n      result += exp.substr(0, i);\n      var j = exp.indexOf("}");\n      if (j < 0) {\n        throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z("Unmatched {.");\n      }\n      result += "czm_" + exp.substr(i + 2, j - (i + 2));\n      exp = exp.substr(j + 1);\n      i = exp.indexOf("${");\n    }\n  }\n  result += exp;\n  return result;\n}\n\nfunction parseLiteral(ast) {\n  var type = typeof ast.value;\n  if (ast.value === null) {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NULL */ .Z.LITERAL_NULL, null);\n  } else if (type === "boolean") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_BOOLEAN */ .Z.LITERAL_BOOLEAN, ast.value);\n  } else if (type === "number") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER, ast.value);\n  } else if (type === "string") {\n    if (ast.value.indexOf("${") >= 0) {\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE_IN_STRING */ .Z.VARIABLE_IN_STRING, ast.value);\n    }\n    return new Node(\n      _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_STRING */ .Z.LITERAL_STRING,\n      replaceBackslashes(ast.value)\n    );\n  }\n}\n\nfunction parseCall(expression, ast) {\n  var args = ast.arguments;\n  var argsLength = args.length;\n  var call;\n  var val, left, right;\n\n  // Member function calls\n  if (ast.callee.type === "MemberExpression") {\n    call = ast.callee.property.name;\n    var object = ast.callee.object;\n    if (call === "test" || call === "exec") {\n      // Make sure this is called on a valid type\n      if (object.callee.name !== "regExp") {\n        throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " is not a function.");\n      }\n      if (argsLength === 0) {\n        if (call === "test") {\n          return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_BOOLEAN */ .Z.LITERAL_BOOLEAN, false);\n        }\n        return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NULL */ .Z.LITERAL_NULL, null);\n      }\n      left = createRuntimeAst(expression, object);\n      right = createRuntimeAst(expression, args[0]);\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].FUNCTION_CALL */ .Z.FUNCTION_CALL, call, left, right);\n    } else if (call === "toString") {\n      val = createRuntimeAst(expression, object);\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].FUNCTION_CALL */ .Z.FUNCTION_CALL, call, val);\n    }\n\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\'Unexpected function call "\' + call + \'".\');\n  }\n\n  // Non-member function calls\n  call = ast.callee.name;\n  if (call === "color") {\n    if (argsLength === 0) {\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR, call);\n    }\n    val = createRuntimeAst(expression, args[0]);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(args[1])) {\n      var alpha = createRuntimeAst(expression, args[1]);\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR, call, [val, alpha]);\n    }\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR, call, [val]);\n  } else if (call === "rgb" || call === "hsl") {\n    if (argsLength < 3) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " requires three arguments.");\n    }\n    val = [\n      createRuntimeAst(expression, args[0]),\n      createRuntimeAst(expression, args[1]),\n      createRuntimeAst(expression, args[2]),\n    ];\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR, call, val);\n  } else if (call === "rgba" || call === "hsla") {\n    if (argsLength < 4) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " requires four arguments.");\n    }\n    val = [\n      createRuntimeAst(expression, args[0]),\n      createRuntimeAst(expression, args[1]),\n      createRuntimeAst(expression, args[2]),\n      createRuntimeAst(expression, args[3]),\n    ];\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR, call, val);\n  } else if (call === "vec2" || call === "vec3" || call === "vec4") {\n    // Check for invalid constructors at evaluation time\n    val = new Array(argsLength);\n    for (var i = 0; i < argsLength; ++i) {\n      val[i] = createRuntimeAst(expression, args[i]);\n    }\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_VECTOR */ .Z.LITERAL_VECTOR, call, val);\n  } else if (call === "isNaN" || call === "isFinite") {\n    if (argsLength === 0) {\n      if (call === "isNaN") {\n        return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_BOOLEAN */ .Z.LITERAL_BOOLEAN, true);\n      }\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_BOOLEAN */ .Z.LITERAL_BOOLEAN, false);\n    }\n    val = createRuntimeAst(expression, args[0]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call, val);\n  } else if (call === "isExactClass" || call === "isClass") {\n    if (argsLength < 1 || argsLength > 1) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " requires exactly one argument.");\n    }\n    val = createRuntimeAst(expression, args[0]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call, val);\n  } else if (call === "getExactClassName") {\n    if (argsLength > 0) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " does not take any argument.");\n    }\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call);\n  } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(unaryFunctions[call])) {\n    if (argsLength !== 1) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " requires exactly one argument.");\n    }\n    val = createRuntimeAst(expression, args[0]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call, val);\n  } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(binaryFunctions[call])) {\n    if (argsLength !== 2) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " requires exactly two arguments.");\n    }\n    left = createRuntimeAst(expression, args[0]);\n    right = createRuntimeAst(expression, args[1]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BINARY */ .Z.BINARY, call, left, right);\n  } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(ternaryFunctions[call])) {\n    if (argsLength !== 3) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(call + " requires exactly three arguments.");\n    }\n    left = createRuntimeAst(expression, args[0]);\n    right = createRuntimeAst(expression, args[1]);\n    var test = createRuntimeAst(expression, args[2]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].TERNARY */ .Z.TERNARY, call, left, right, test);\n  } else if (call === "Boolean") {\n    if (argsLength === 0) {\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_BOOLEAN */ .Z.LITERAL_BOOLEAN, false);\n    }\n    val = createRuntimeAst(expression, args[0]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call, val);\n  } else if (call === "Number") {\n    if (argsLength === 0) {\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER, 0);\n    }\n    val = createRuntimeAst(expression, args[0]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call, val);\n  } else if (call === "String") {\n    if (argsLength === 0) {\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_STRING */ .Z.LITERAL_STRING, "");\n    }\n    val = createRuntimeAst(expression, args[0]);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, call, val);\n  } else if (call === "regExp") {\n    return parseRegex(expression, ast);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\'Unexpected function call "\' + call + \'".\');\n}\n\nfunction parseRegex(expression, ast) {\n  var args = ast.arguments;\n  // no arguments, return default regex\n  if (args.length === 0) {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_REGEX */ .Z.LITERAL_REGEX, new RegExp());\n  }\n\n  var pattern = createRuntimeAst(expression, args[0]);\n  var exp;\n\n  // optional flag argument supplied\n  if (args.length > 1) {\n    var flags = createRuntimeAst(expression, args[1]);\n    if (isLiteralType(pattern) && isLiteralType(flags)) {\n      try {\n        exp = new RegExp(\n          replaceBackslashes(String(pattern._value)),\n          flags._value\n        );\n      } catch (e) {\n        throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(e);\n      }\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_REGEX */ .Z.LITERAL_REGEX, exp);\n    }\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].REGEX */ .Z.REGEX, pattern, flags);\n  }\n\n  // only pattern argument supplied\n  if (isLiteralType(pattern)) {\n    try {\n      exp = new RegExp(replaceBackslashes(String(pattern._value)));\n    } catch (e) {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(e);\n    }\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_REGEX */ .Z.LITERAL_REGEX, exp);\n  }\n  return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].REGEX */ .Z.REGEX, pattern);\n}\n\nfunction parseKeywordsAndVariables(ast) {\n  if (isVariable(ast.name)) {\n    var name = getPropertyName(ast.name);\n    if (name.substr(0, 8) === "tiles3d_") {\n      return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BUILTIN_VARIABLE */ .Z.BUILTIN_VARIABLE, name);\n    }\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE */ .Z.VARIABLE, name);\n  } else if (ast.name === "NaN") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER, NaN);\n  } else if (ast.name === "Infinity") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER, Infinity);\n  } else if (ast.name === "undefined") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_UNDEFINED */ .Z.LITERAL_UNDEFINED, undefined);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(ast.name + " is not defined.");\n}\n\nfunction parseMathConstant(ast) {\n  var name = ast.property.name;\n  if (name === "PI") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER, Math.PI);\n  } else if (name === "E") {\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER, Math.E);\n  }\n}\n\nfunction parseNumberConstant(ast) {\n  var name = ast.property.name;\n  if (name === "POSITIVE_INFINITY") {\n    return new Node(\n      _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER,\n      Number.POSITIVE_INFINITY\n    );\n  }\n}\n\nfunction parseMemberExpression(expression, ast) {\n  if (ast.object.name === "Math") {\n    return parseMathConstant(ast);\n  } else if (ast.object.name === "Number") {\n    return parseNumberConstant(ast);\n  }\n\n  var val;\n  var obj = createRuntimeAst(expression, ast.object);\n  if (ast.computed) {\n    val = createRuntimeAst(expression, ast.property);\n    return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].MEMBER */ .Z.MEMBER, "brackets", obj, val);\n  }\n\n  val = new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_STRING */ .Z.LITERAL_STRING, ast.property.name);\n  return new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].MEMBER */ .Z.MEMBER, "dot", obj, val);\n}\n\nfunction isLiteralType(node) {\n  return node._type >= _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NULL */ .Z.LITERAL_NULL;\n}\n\nfunction isVariable(name) {\n  return name.substr(0, 4) === "czm_";\n}\n\nfunction getPropertyName(variable) {\n  return variable.substr(4);\n}\n\nfunction createRuntimeAst(expression, ast) {\n  var node;\n  var op;\n  var left;\n  var right;\n\n  if (ast.type === "Literal") {\n    node = parseLiteral(ast);\n  } else if (ast.type === "CallExpression") {\n    node = parseCall(expression, ast);\n  } else if (ast.type === "Identifier") {\n    node = parseKeywordsAndVariables(ast);\n  } else if (ast.type === "UnaryExpression") {\n    op = ast.operator;\n    var child = createRuntimeAst(expression, ast.argument);\n    if (unaryOperators.indexOf(op) > -1) {\n      node = new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY, op, child);\n    } else {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\'Unexpected operator "\' + op + \'".\');\n    }\n  } else if (ast.type === "BinaryExpression") {\n    op = ast.operator;\n    left = createRuntimeAst(expression, ast.left);\n    right = createRuntimeAst(expression, ast.right);\n    if (binaryOperators.indexOf(op) > -1) {\n      node = new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BINARY */ .Z.BINARY, op, left, right);\n    } else {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\'Unexpected operator "\' + op + \'".\');\n    }\n  } else if (ast.type === "LogicalExpression") {\n    op = ast.operator;\n    left = createRuntimeAst(expression, ast.left);\n    right = createRuntimeAst(expression, ast.right);\n    if (binaryOperators.indexOf(op) > -1) {\n      node = new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BINARY */ .Z.BINARY, op, left, right);\n    }\n  } else if (ast.type === "ConditionalExpression") {\n    var test = createRuntimeAst(expression, ast.test);\n    left = createRuntimeAst(expression, ast.consequent);\n    right = createRuntimeAst(expression, ast.alternate);\n    node = new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].CONDITIONAL */ .Z.CONDITIONAL, "?", left, right, test);\n  } else if (ast.type === "MemberExpression") {\n    node = parseMemberExpression(expression, ast);\n  } else if (ast.type === "ArrayExpression") {\n    var val = [];\n    for (var i = 0; i < ast.elements.length; i++) {\n      val[i] = createRuntimeAst(expression, ast.elements[i]);\n    }\n    node = new Node(_ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].ARRAY */ .Z.ARRAY, val);\n  } else if (ast.type === "Compound") {\n    // empty expression or multiple expressions\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z("Provide exactly one expression.");\n  } else {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z("Cannot parse expression.");\n  }\n\n  return node;\n}\n\nfunction setEvaluateFunction(node) {\n  if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].CONDITIONAL */ .Z.CONDITIONAL) {\n    node.evaluate = node._evaluateConditional;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].FUNCTION_CALL */ .Z.FUNCTION_CALL) {\n    if (node._value === "test") {\n      node.evaluate = node._evaluateRegExpTest;\n    } else if (node._value === "exec") {\n      node.evaluate = node._evaluateRegExpExec;\n    } else if (node._value === "toString") {\n      node.evaluate = node._evaluateToString;\n    }\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY) {\n    if (node._value === "!") {\n      node.evaluate = node._evaluateNot;\n    } else if (node._value === "-") {\n      node.evaluate = node._evaluateNegative;\n    } else if (node._value === "+") {\n      node.evaluate = node._evaluatePositive;\n    } else if (node._value === "isNaN") {\n      node.evaluate = node._evaluateNaN;\n    } else if (node._value === "isFinite") {\n      node.evaluate = node._evaluateIsFinite;\n    } else if (node._value === "isExactClass") {\n      node.evaluate = node._evaluateIsExactClass;\n    } else if (node._value === "isClass") {\n      node.evaluate = node._evaluateIsClass;\n    } else if (node._value === "getExactClassName") {\n      node.evaluate = node._evaluateGetExactClassName;\n    } else if (node._value === "Boolean") {\n      node.evaluate = node._evaluateBooleanConversion;\n    } else if (node._value === "Number") {\n      node.evaluate = node._evaluateNumberConversion;\n    } else if (node._value === "String") {\n      node.evaluate = node._evaluateStringConversion;\n    } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(unaryFunctions[node._value])) {\n      node.evaluate = getEvaluateUnaryFunction(node._value);\n    }\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BINARY */ .Z.BINARY) {\n    if (node._value === "+") {\n      node.evaluate = node._evaluatePlus;\n    } else if (node._value === "-") {\n      node.evaluate = node._evaluateMinus;\n    } else if (node._value === "*") {\n      node.evaluate = node._evaluateTimes;\n    } else if (node._value === "/") {\n      node.evaluate = node._evaluateDivide;\n    } else if (node._value === "%") {\n      node.evaluate = node._evaluateMod;\n    } else if (node._value === "===") {\n      node.evaluate = node._evaluateEqualsStrict;\n    } else if (node._value === "!==") {\n      node.evaluate = node._evaluateNotEqualsStrict;\n    } else if (node._value === "<") {\n      node.evaluate = node._evaluateLessThan;\n    } else if (node._value === "<=") {\n      node.evaluate = node._evaluateLessThanOrEquals;\n    } else if (node._value === ">") {\n      node.evaluate = node._evaluateGreaterThan;\n    } else if (node._value === ">=") {\n      node.evaluate = node._evaluateGreaterThanOrEquals;\n    } else if (node._value === "&&") {\n      node.evaluate = node._evaluateAnd;\n    } else if (node._value === "||") {\n      node.evaluate = node._evaluateOr;\n    } else if (node._value === "=~") {\n      node.evaluate = node._evaluateRegExpMatch;\n    } else if (node._value === "!~") {\n      node.evaluate = node._evaluateRegExpNotMatch;\n    } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(binaryFunctions[node._value])) {\n      node.evaluate = getEvaluateBinaryFunction(node._value);\n    }\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].TERNARY */ .Z.TERNARY) {\n    node.evaluate = getEvaluateTernaryFunction(node._value);\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].MEMBER */ .Z.MEMBER) {\n    if (node._value === "brackets") {\n      node.evaluate = node._evaluateMemberBrackets;\n    } else {\n      node.evaluate = node._evaluateMemberDot;\n    }\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].ARRAY */ .Z.ARRAY) {\n    node.evaluate = node._evaluateArray;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE */ .Z.VARIABLE) {\n    node.evaluate = node._evaluateVariable;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE_IN_STRING */ .Z.VARIABLE_IN_STRING) {\n    node.evaluate = node._evaluateVariableString;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR) {\n    node.evaluate = node._evaluateLiteralColor;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_VECTOR */ .Z.LITERAL_VECTOR) {\n    node.evaluate = node._evaluateLiteralVector;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_STRING */ .Z.LITERAL_STRING) {\n    node.evaluate = node._evaluateLiteralString;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].REGEX */ .Z.REGEX) {\n    node.evaluate = node._evaluateRegExp;\n  } else if (node._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BUILTIN_VARIABLE */ .Z.BUILTIN_VARIABLE) {\n    if (node._value === "tiles3d_tileset_time") {\n      node.evaluate = evaluateTilesetTime;\n    }\n  } else {\n    node.evaluate = node._evaluateLiteral;\n  }\n}\n\nfunction evaluateTilesetTime(feature) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(feature)) {\n    return 0.0;\n  }\n  return feature.content.tileset.timeSinceLoad;\n}\n\nfunction getEvaluateUnaryFunction(call) {\n  var evaluate = unaryFunctions[call];\n  return function (feature) {\n    var left = this._left.evaluate(feature);\n    return evaluate(call, left);\n  };\n}\n\nfunction getEvaluateBinaryFunction(call) {\n  var evaluate = binaryFunctions[call];\n  return function (feature) {\n    var left = this._left.evaluate(feature);\n    var right = this._right.evaluate(feature);\n    return evaluate(call, left, right);\n  };\n}\n\nfunction getEvaluateTernaryFunction(call) {\n  var evaluate = ternaryFunctions[call];\n  return function (feature) {\n    var left = this._left.evaluate(feature);\n    var right = this._right.evaluate(feature);\n    var test = this._test.evaluate(feature);\n    return evaluate(call, left, right, test);\n  };\n}\n\nfunction getFeatureProperty(feature, name) {\n  // Returns undefined if the feature is not defined or the property name is not defined for that feature\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(feature)) {\n    return feature.getPropertyInherited(name);\n  }\n}\n\nNode.prototype._evaluateLiteral = function () {\n  return this._value;\n};\n\nNode.prototype._evaluateLiteralColor = function (feature) {\n  var color = scratchColor;\n  var args = this._left;\n  if (this._value === "color") {\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(args)) {\n      _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromBytes */ .Z.fromBytes(255, 255, 255, 255, color);\n    } else if (args.length > 1) {\n      _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromCssColorString */ .Z.fromCssColorString(args[0].evaluate(feature), color);\n      color.alpha = args[1].evaluate(feature);\n    } else {\n      _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromCssColorString */ .Z.fromCssColorString(args[0].evaluate(feature), color);\n    }\n  } else if (this._value === "rgb") {\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromBytes */ .Z.fromBytes(\n      args[0].evaluate(feature),\n      args[1].evaluate(feature),\n      args[2].evaluate(feature),\n      255,\n      color\n    );\n  } else if (this._value === "rgba") {\n    // convert between css alpha (0 to 1) and cesium alpha (0 to 255)\n    var a = args[3].evaluate(feature) * 255;\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromBytes */ .Z.fromBytes(\n      args[0].evaluate(feature),\n      args[1].evaluate(feature),\n      args[2].evaluate(feature),\n      a,\n      color\n    );\n  } else if (this._value === "hsl") {\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromHsl */ .Z.fromHsl(\n      args[0].evaluate(feature),\n      args[1].evaluate(feature),\n      args[2].evaluate(feature),\n      1.0,\n      color\n    );\n  } else if (this._value === "hsla") {\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromHsl */ .Z.fromHsl(\n      args[0].evaluate(feature),\n      args[1].evaluate(feature),\n      args[2].evaluate(feature),\n      args[3].evaluate(feature),\n      color\n    );\n  }\n  return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromColor */ .Z.fromColor(color, scratchStorage.getCartesian4());\n};\n\nNode.prototype._evaluateLiteralVector = function (feature) {\n  // Gather the components that make up the vector, which includes components from interior vectors.\n  // For example vec3(1, 2, 3) or vec3(vec2(1, 2), 3) are both valid.\n  //\n  // If the number of components does not equal the vector\'s size, then a RuntimeError is thrown - with two exceptions:\n  // 1. A vector may be constructed from a larger vector and drop the extra components.\n  // 2. A vector may be constructed from a single component - vec3(1) will become vec3(1, 1, 1).\n  //\n  // Examples of invalid constructors include:\n  // vec4(1, 2)        // not enough components\n  // vec3(vec2(1, 2))  // not enough components\n  // vec3(1, 2, 3, 4)  // too many components\n  // vec2(vec4(1), 1)  // too many components\n\n  var components = scratchStorage.getArray();\n  var call = this._value;\n  var args = this._left;\n  var argsLength = args.length;\n  for (var i = 0; i < argsLength; ++i) {\n    var value = args[i].evaluate(feature);\n    if (typeof value === "number") {\n      components.push(value);\n    } else if (value instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n      components.push(value.x, value.y);\n    } else if (value instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n      components.push(value.x, value.y, value.z);\n    } else if (value instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n      components.push(value.x, value.y, value.z, value.w);\n    } else {\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        call +\n          " argument must be a vector or number. Argument is " +\n          value +\n          "."\n      );\n    }\n  }\n\n  var componentsLength = components.length;\n  var vectorLength = parseInt(call.charAt(3));\n\n  if (componentsLength === 0) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      "Invalid " + call + " constructor. No valid arguments."\n    );\n  } else if (componentsLength < vectorLength && componentsLength > 1) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      "Invalid " + call + " constructor. Not enough arguments."\n    );\n  } else if (componentsLength > vectorLength && argsLength > 1) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      "Invalid " + call + " constructor. Too many arguments."\n    );\n  }\n\n  if (componentsLength === 1) {\n    // Add the same component 3 more times\n    var component = components[0];\n    components.push(component, component, component);\n  }\n\n  if (call === "vec2") {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromArray */ .Z.fromArray(components, 0, scratchStorage.getCartesian2());\n  } else if (call === "vec3") {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromArray */ .Z.fromArray(components, 0, scratchStorage.getCartesian3());\n  } else if (call === "vec4") {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromArray */ .Z.fromArray(components, 0, scratchStorage.getCartesian4());\n  }\n};\n\nNode.prototype._evaluateLiteralString = function () {\n  return this._value;\n};\n\nNode.prototype._evaluateVariableString = function (feature) {\n  var result = this._value;\n  var match = variableRegex.exec(result);\n  while (match !== null) {\n    var placeholder = match[0];\n    var variableName = match[1];\n    var property = getFeatureProperty(feature, variableName);\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(property)) {\n      property = "";\n    }\n    result = result.replace(placeholder, property);\n    match = variableRegex.exec(result);\n  }\n  return result;\n};\n\nNode.prototype._evaluateVariable = function (feature) {\n  // evaluates to undefined if the property name is not defined for that feature\n  return getFeatureProperty(feature, this._value);\n};\n\nfunction checkFeature(ast) {\n  return ast._value === "feature";\n}\n\n// PERFORMANCE_IDEA: Determine if parent property needs to be computed before runtime\nNode.prototype._evaluateMemberDot = function (feature) {\n  if (checkFeature(this._left)) {\n    return getFeatureProperty(feature, this._right.evaluate(feature));\n  }\n  var property = this._left.evaluate(feature);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(property)) {\n    return undefined;\n  }\n\n  var member = this._right.evaluate(feature);\n  if (\n    property instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z ||\n    property instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z ||\n    property instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z\n  ) {\n    // Vector components may be accessed with .r, .g, .b, .a and implicitly with .x, .y, .z, .w\n    if (member === "r") {\n      return property.x;\n    } else if (member === "g") {\n      return property.y;\n    } else if (member === "b") {\n      return property.z;\n    } else if (member === "a") {\n      return property.w;\n    }\n  }\n  return property[member];\n};\n\nNode.prototype._evaluateMemberBrackets = function (feature) {\n  if (checkFeature(this._left)) {\n    return getFeatureProperty(feature, this._right.evaluate(feature));\n  }\n  var property = this._left.evaluate(feature);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(property)) {\n    return undefined;\n  }\n\n  var member = this._right.evaluate(feature);\n  if (\n    property instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z ||\n    property instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z ||\n    property instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z\n  ) {\n    // Vector components may be accessed with [0][1][2][3], [\'r\'][\'g\'][\'b\'][\'a\'] and implicitly with [\'x\'][\'y\'][\'z\'][\'w\']\n    // For Cartesian2 and Cartesian3 out-of-range components will just return undefined\n    if (member === 0 || member === "r") {\n      return property.x;\n    } else if (member === 1 || member === "g") {\n      return property.y;\n    } else if (member === 2 || member === "b") {\n      return property.z;\n    } else if (member === 3 || member === "a") {\n      return property.w;\n    }\n  }\n  return property[member];\n};\n\nNode.prototype._evaluateArray = function (feature) {\n  var array = [];\n  for (var i = 0; i < this._value.length; i++) {\n    array[i] = this._value[i].evaluate(feature);\n  }\n  return array;\n};\n\n// PERFORMANCE_IDEA: Have "fast path" functions that deal only with specific types\n// that we can assign if we know the types before runtime\n\nNode.prototype._evaluateNot = function (feature) {\n  var left = this._left.evaluate(feature);\n  if (typeof left !== "boolean") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "!" requires a boolean argument. Argument is \' + left + "."\n    );\n  }\n  return !left;\n};\n\nNode.prototype._evaluateNegative = function (feature) {\n  var left = this._left.evaluate(feature);\n  if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(left, scratchStorage.getCartesian2());\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].negate */ .Z.negate(left, scratchStorage.getCartesian3());\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].negate */ .Z.negate(left, scratchStorage.getCartesian4());\n  } else if (typeof left === "number") {\n    return -left;\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "-" requires a vector or number argument. Argument is \' +\n      left +\n      "."\n  );\n};\n\nNode.prototype._evaluatePositive = function (feature) {\n  var left = this._left.evaluate(feature);\n\n  if (\n    !(\n      left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z ||\n      left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z ||\n      left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z ||\n      typeof left === "number"\n    )\n  ) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "+" requires a vector or number argument. Argument is \' +\n        left +\n        "."\n    );\n  }\n\n  return left;\n};\n\nNode.prototype._evaluateLessThan = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (typeof left !== "number" || typeof right !== "number") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "<" requires number arguments. Arguments are \' +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  }\n\n  return left < right;\n};\n\nNode.prototype._evaluateLessThanOrEquals = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (typeof left !== "number" || typeof right !== "number") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "<=" requires number arguments. Arguments are \' +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  }\n\n  return left <= right;\n};\n\nNode.prototype._evaluateGreaterThan = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (typeof left !== "number" || typeof right !== "number") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator ">" requires number arguments. Arguments are \' +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  }\n\n  return left > right;\n};\n\nNode.prototype._evaluateGreaterThanOrEquals = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (typeof left !== "number" || typeof right !== "number") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator ">=" requires number arguments. Arguments are \' +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  }\n\n  return left >= right;\n};\n\nNode.prototype._evaluateOr = function (feature) {\n  var left = this._left.evaluate(feature);\n  if (typeof left !== "boolean") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "||" requires boolean arguments. First argument is \' +\n        left +\n        "."\n    );\n  }\n\n  // short circuit the expression\n  if (left) {\n    return true;\n  }\n\n  var right = this._right.evaluate(feature);\n  if (typeof right !== "boolean") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "||" requires boolean arguments. Second argument is \' +\n        right +\n        "."\n    );\n  }\n\n  return left || right;\n};\n\nNode.prototype._evaluateAnd = function (feature) {\n  var left = this._left.evaluate(feature);\n  if (typeof left !== "boolean") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "&&" requires boolean arguments. First argument is \' +\n        left +\n        "."\n    );\n  }\n\n  // short circuit the expression\n  if (!left) {\n    return false;\n  }\n\n  var right = this._right.evaluate(feature);\n  if (typeof right !== "boolean") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Operator "&&" requires boolean arguments. Second argument is \' +\n        right +\n        "."\n    );\n  }\n\n  return left && right;\n};\n\nNode.prototype._evaluatePlus = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].add */ .Z.add(left, right, scratchStorage.getCartesian2());\n  } else if (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].add */ .Z.add(left, right, scratchStorage.getCartesian3());\n  } else if (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].add */ .Z.add(left, right, scratchStorage.getCartesian4());\n  } else if (typeof left === "string" || typeof right === "string") {\n    // If only one argument is a string the other argument calls its toString function.\n    return left + right;\n  } else if (typeof left === "number" && typeof right === "number") {\n    return left + right;\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "+" requires vector or number arguments of matching types, or at least one string argument. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateMinus = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].subtract */ .Z.subtract(left, right, scratchStorage.getCartesian2());\n  } else if (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].subtract */ .Z.subtract(left, right, scratchStorage.getCartesian3());\n  } else if (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].subtract */ .Z.subtract(left, right, scratchStorage.getCartesian4());\n  } else if (typeof left === "number" && typeof right === "number") {\n    return left - right;\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "-" requires vector or number arguments of matching types. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateTimes = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyComponents */ .Z.multiplyComponents(\n      left,\n      right,\n      scratchStorage.getCartesian2()\n    );\n  } else if (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && typeof left === "number") {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      right,\n      left,\n      scratchStorage.getCartesian2()\n    );\n  } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && typeof right === "number") {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      left,\n      right,\n      scratchStorage.getCartesian2()\n    );\n  } else if (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyComponents */ .Z.multiplyComponents(\n      left,\n      right,\n      scratchStorage.getCartesian3()\n    );\n  } else if (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && typeof left === "number") {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      right,\n      left,\n      scratchStorage.getCartesian3()\n    );\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && typeof right === "number") {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      left,\n      right,\n      scratchStorage.getCartesian3()\n    );\n  } else if (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyComponents */ .Z.multiplyComponents(\n      left,\n      right,\n      scratchStorage.getCartesian4()\n    );\n  } else if (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && typeof left === "number") {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      right,\n      left,\n      scratchStorage.getCartesian4()\n    );\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && typeof right === "number") {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n      left,\n      right,\n      scratchStorage.getCartesian4()\n    );\n  } else if (typeof left === "number" && typeof right === "number") {\n    return left * right;\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "*" requires vector or number arguments. If both arguments are vectors they must be matching types. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateDivide = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].divideComponents */ .Z.divideComponents(\n      left,\n      right,\n      scratchStorage.getCartesian2()\n    );\n  } else if (left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && typeof right === "number") {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].divideByScalar */ .Z.divideByScalar(\n      left,\n      right,\n      scratchStorage.getCartesian2()\n    );\n  } else if (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].divideComponents */ .Z.divideComponents(\n      left,\n      right,\n      scratchStorage.getCartesian3()\n    );\n  } else if (left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && typeof right === "number") {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].divideByScalar */ .Z.divideByScalar(\n      left,\n      right,\n      scratchStorage.getCartesian3()\n    );\n  } else if (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].divideComponents */ .Z.divideComponents(\n      left,\n      right,\n      scratchStorage.getCartesian4()\n    );\n  } else if (left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && typeof right === "number") {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].divideByScalar */ .Z.divideByScalar(\n      left,\n      right,\n      scratchStorage.getCartesian4()\n    );\n  } else if (typeof left === "number" && typeof right === "number") {\n    return left / right;\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "/" requires vector or number arguments of matching types, or a number as the second argument. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateMod = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) {\n    return _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n      left.x % right.x,\n      left.y % right.y,\n      scratchStorage.getCartesian2()\n    );\n  } else if (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) {\n    return _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromElements */ .Z.fromElements(\n      left.x % right.x,\n      left.y % right.y,\n      left.z % right.z,\n      scratchStorage.getCartesian3()\n    );\n  } else if (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z) {\n    return _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].fromElements */ .Z.fromElements(\n      left.x % right.x,\n      left.y % right.y,\n      left.z % right.z,\n      left.w % right.w,\n      scratchStorage.getCartesian4()\n    );\n  } else if (typeof left === "number" && typeof right === "number") {\n    return left % right;\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "%" requires vector or number arguments of matching types. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateEqualsStrict = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (\n    (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) ||\n    (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) ||\n    (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)\n  ) {\n    return left.equals(right);\n  }\n  return left === right;\n};\n\nNode.prototype._evaluateNotEqualsStrict = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n  if (\n    (right instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z && left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z) ||\n    (right instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z && left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z) ||\n    (right instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z && left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)\n  ) {\n    return !left.equals(right);\n  }\n  return left !== right;\n};\n\nNode.prototype._evaluateConditional = function (feature) {\n  var test = this._test.evaluate(feature);\n\n  if (typeof test !== "boolean") {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      "Conditional argument of conditional expression must be a boolean. Argument is " +\n        test +\n        "."\n    );\n  }\n\n  if (test) {\n    return this._left.evaluate(feature);\n  }\n  return this._right.evaluate(feature);\n};\n\nNode.prototype._evaluateNaN = function (feature) {\n  return isNaN(this._left.evaluate(feature));\n};\n\nNode.prototype._evaluateIsFinite = function (feature) {\n  return isFinite(this._left.evaluate(feature));\n};\n\nNode.prototype._evaluateIsExactClass = function (feature) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(feature)) {\n    return feature.isExactClass(this._left.evaluate(feature));\n  }\n  return false;\n};\n\nNode.prototype._evaluateIsClass = function (feature) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(feature)) {\n    return feature.isClass(this._left.evaluate(feature));\n  }\n  return false;\n};\n\nNode.prototype._evaluateGetExactClassName = function (feature) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(feature)) {\n    return feature.getExactClassName();\n  }\n};\n\nNode.prototype._evaluateBooleanConversion = function (feature) {\n  return Boolean(this._left.evaluate(feature));\n};\n\nNode.prototype._evaluateNumberConversion = function (feature) {\n  return Number(this._left.evaluate(feature));\n};\n\nNode.prototype._evaluateStringConversion = function (feature) {\n  return String(this._left.evaluate(feature));\n};\n\nNode.prototype._evaluateRegExp = function (feature) {\n  var pattern = this._value.evaluate(feature);\n  var flags = "";\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._left)) {\n    flags = this._left.evaluate(feature);\n  }\n\n  var exp;\n  try {\n    exp = new RegExp(pattern, flags);\n  } catch (e) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(e);\n  }\n  return exp;\n};\n\nNode.prototype._evaluateRegExpTest = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (!(left instanceof RegExp && typeof right === "string")) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      "RegExp.test requires the first argument to be a RegExp and the second argument to be a string. Arguments are " +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  }\n\n  return left.test(right);\n};\n\nNode.prototype._evaluateRegExpMatch = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (left instanceof RegExp && typeof right === "string") {\n    return left.test(right);\n  } else if (right instanceof RegExp && typeof left === "string") {\n    return right.test(left);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "=~" requires one RegExp argument and one string argument. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateRegExpNotMatch = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (left instanceof RegExp && typeof right === "string") {\n    return !left.test(right);\n  } else if (right instanceof RegExp && typeof left === "string") {\n    return !right.test(left);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n    \'Operator "!~" requires one RegExp argument and one string argument. Arguments are \' +\n      left +\n      " and " +\n      right +\n      "."\n  );\n};\n\nNode.prototype._evaluateRegExpExec = function (feature) {\n  var left = this._left.evaluate(feature);\n  var right = this._right.evaluate(feature);\n\n  if (!(left instanceof RegExp && typeof right === "string")) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      "RegExp.exec requires the first argument to be a RegExp and the second argument to be a string. Arguments are " +\n        left +\n        " and " +\n        right +\n        "."\n    );\n  }\n\n  var exec = left.exec(right);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(exec)) {\n    return null;\n  }\n  return exec[1];\n};\n\nNode.prototype._evaluateToString = function (feature) {\n  var left = this._left.evaluate(feature);\n  if (\n    left instanceof RegExp ||\n    left instanceof _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z ||\n    left instanceof _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z ||\n    left instanceof _Core_Cartesian4_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z\n  ) {\n    return String(left);\n  }\n\n  throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\'Unexpected function call "\' + this._value + \'".\');\n};\n\nfunction convertHSLToRGB(ast) {\n  // Check if the color contains any nested expressions to see if the color can be converted here.\n  // E.g. "hsl(0.9, 0.6, 0.7)" is able to convert directly to rgb, "hsl(0.9, 0.6, ${Height})" is not.\n  var channels = ast._left;\n  var length = channels.length;\n  for (var i = 0; i < length; ++i) {\n    if (channels[i]._type !== _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER) {\n      return undefined;\n    }\n  }\n  var h = channels[0]._value;\n  var s = channels[1]._value;\n  var l = channels[2]._value;\n  var a = length === 4 ? channels[3]._value : 1.0;\n  return _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromHsl */ .Z.fromHsl(h, s, l, a, scratchColor);\n}\n\nfunction convertRGBToColor(ast) {\n  // Check if the color contains any nested expressions to see if the color can be converted here.\n  // E.g. "rgb(255, 255, 255)" is able to convert directly to Color, "rgb(255, 255, ${Height})" is not.\n  var channels = ast._left;\n  var length = channels.length;\n  for (var i = 0; i < length; ++i) {\n    if (channels[i]._type !== _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER) {\n      return undefined;\n    }\n  }\n  var color = scratchColor;\n  color.red = channels[0]._value / 255.0;\n  color.green = channels[1]._value / 255.0;\n  color.blue = channels[2]._value / 255.0;\n  color.alpha = length === 4 ? channels[3]._value : 1.0;\n  return color;\n}\n\nfunction numberToString(number) {\n  if (number % 1 === 0) {\n    // Add a .0 to whole numbers\n    return number.toFixed(1);\n  }\n\n  return number.toString();\n}\n\nfunction colorToVec3(color) {\n  var r = numberToString(color.red);\n  var g = numberToString(color.green);\n  var b = numberToString(color.blue);\n  return "vec3(" + r + ", " + g + ", " + b + ")";\n}\n\nfunction colorToVec4(color) {\n  var r = numberToString(color.red);\n  var g = numberToString(color.green);\n  var b = numberToString(color.blue);\n  var a = numberToString(color.alpha);\n  return "vec4(" + r + ", " + g + ", " + b + ", " + a + ")";\n}\n\nfunction getExpressionArray(\n  array,\n  variableSubstitutionMap,\n  shaderState,\n  parent\n) {\n  var length = array.length;\n  var expressions = new Array(length);\n  for (var i = 0; i < length; ++i) {\n    expressions[i] = array[i].getShaderExpression(\n      variableSubstitutionMap,\n      shaderState,\n      parent\n    );\n  }\n  return expressions;\n}\n\nfunction getVariableName(variableName, variableSubstitutionMap) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(variableSubstitutionMap[variableName])) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n      \'Style references a property "\' +\n        variableName +\n        \'" that does not exist or is not styleable.\'\n    );\n  }\n\n  return variableSubstitutionMap[variableName];\n}\n\n/**\n * @private\n */\nExpression.NULL_SENTINEL = "czm_infinity"; // null just needs to be some sentinel value that will cause "[expression] === null" to be false in nearly all cases. GLSL doesn\'t have a NaN constant so use czm_infinity.\n\nNode.prototype.getShaderExpression = function (\n  variableSubstitutionMap,\n  shaderState,\n  parent\n) {\n  var color;\n  var left;\n  var right;\n  var test;\n\n  var type = this._type;\n  var value = this._value;\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._left)) {\n    if (Array.isArray(this._left)) {\n      // Left can be an array if the type is LITERAL_COLOR or LITERAL_VECTOR\n      left = getExpressionArray(\n        this._left,\n        variableSubstitutionMap,\n        shaderState,\n        this\n      );\n    } else {\n      left = this._left.getShaderExpression(\n        variableSubstitutionMap,\n        shaderState,\n        this\n      );\n    }\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._right)) {\n    right = this._right.getShaderExpression(\n      variableSubstitutionMap,\n      shaderState,\n      this\n    );\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._test)) {\n    test = this._test.getShaderExpression(\n      variableSubstitutionMap,\n      shaderState,\n      this\n    );\n  }\n\n  if (Array.isArray(this._value)) {\n    // For ARRAY type\n    value = getExpressionArray(\n      this._value,\n      variableSubstitutionMap,\n      shaderState,\n      this\n    );\n  }\n\n  switch (type) {\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE */ .Z.VARIABLE:\n      if (checkFeature(this)) {\n        return undefined;\n      }\n      return getVariableName(value, variableSubstitutionMap);\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].UNARY */ .Z.UNARY:\n      // Supported types: +, -, !, Boolean, Number\n      if (value === "Boolean") {\n        return "bool(" + left + ")";\n      } else if (value === "Number") {\n        return "float(" + left + ")";\n      } else if (value === "round") {\n        return "floor(" + left + " + 0.5)";\n      } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(unaryFunctions[value])) {\n        return value + "(" + left + ")";\n      } else if (value === "isNaN") {\n        // In GLSL 2.0 use isnan instead\n        return "(" + left + " != " + left + ")";\n      } else if (value === "isFinite") {\n        // In GLSL 2.0 use isinf instead. GLSL doesn\'t have an infinity constant so use czm_infinity which is an arbitrarily big enough number.\n        return "(abs(" + left + ") < czm_infinity)";\n      } else if (\n        value === "String" ||\n        value === "isExactClass" ||\n        value === "isClass" ||\n        value === "getExactClassName"\n      ) {\n        throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n          \'Error generating style shader: "\' + value + \'" is not supported.\'\n        );\n      }\n      return value + left;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BINARY */ .Z.BINARY:\n      // Supported types: ||, &&, ===, !==, <, >, <=, >=, +, -, *, /, %\n      if (value === "%") {\n        return "mod(" + left + ", " + right + ")";\n      } else if (value === "===") {\n        return "(" + left + " == " + right + ")";\n      } else if (value === "!==") {\n        return "(" + left + " != " + right + ")";\n      } else if (value === "atan2") {\n        return "atan(" + left + ", " + right + ")";\n      } else if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(binaryFunctions[value])) {\n        return value + "(" + left + ", " + right + ")";\n      }\n      return "(" + left + " " + value + " " + right + ")";\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].TERNARY */ .Z.TERNARY:\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(ternaryFunctions[value])) {\n        return value + "(" + left + ", " + right + ", " + test + ")";\n      }\n      break;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].CONDITIONAL */ .Z.CONDITIONAL:\n      return "(" + test + " ? " + left + " : " + right + ")";\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].MEMBER */ .Z.MEMBER:\n      if (checkFeature(this._left)) {\n        return getVariableName(right, variableSubstitutionMap);\n      }\n      // This is intended for accessing the components of vector properties. String members aren\'t supported.\n      // Check for 0.0 rather than 0 because all numbers are previously converted to decimals.\n      if (right === "r" || right === "x" || right === "0.0") {\n        return left + "[0]";\n      } else if (right === "g" || right === "y" || right === "1.0") {\n        return left + "[1]";\n      } else if (right === "b" || right === "z" || right === "2.0") {\n        return left + "[2]";\n      } else if (right === "a" || right === "w" || right === "3.0") {\n        return left + "[3]";\n      }\n      return left + "[int(" + right + ")]";\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].FUNCTION_CALL */ .Z.FUNCTION_CALL:\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        \'Error generating style shader: "\' + value + \'" is not supported.\'\n      );\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].ARRAY */ .Z.ARRAY:\n      if (value.length === 4) {\n        return (\n          "vec4(" +\n          value[0] +\n          ", " +\n          value[1] +\n          ", " +\n          value[2] +\n          ", " +\n          value[3] +\n          ")"\n        );\n      } else if (value.length === 3) {\n        return "vec3(" + value[0] + ", " + value[1] + ", " + value[2] + ")";\n      } else if (value.length === 2) {\n        return "vec2(" + value[0] + ", " + value[1] + ")";\n      }\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        "Error generating style shader: Invalid array length. Array length should be 2, 3, or 4."\n      );\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].REGEX */ .Z.REGEX:\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        "Error generating style shader: Regular expressions are not supported."\n      );\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE_IN_STRING */ .Z.VARIABLE_IN_STRING:\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        "Error generating style shader: Converting a variable to a string is not supported."\n      );\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NULL */ .Z.LITERAL_NULL:\n      return Expression.NULL_SENTINEL;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_BOOLEAN */ .Z.LITERAL_BOOLEAN:\n      return value ? "true" : "false";\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_NUMBER */ .Z.LITERAL_NUMBER:\n      return numberToString(value);\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_STRING */ .Z.LITERAL_STRING:\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(parent) && parent._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].MEMBER */ .Z.MEMBER) {\n        if (\n          value === "r" ||\n          value === "g" ||\n          value === "b" ||\n          value === "a" ||\n          value === "x" ||\n          value === "y" ||\n          value === "z" ||\n          value === "w" ||\n          checkFeature(parent._left)\n        ) {\n          return value;\n        }\n      }\n      // Check for css color strings\n      color = _Core_Color_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromCssColorString */ .Z.fromCssColorString(value, scratchColor);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(color)) {\n        return colorToVec3(color);\n      }\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        "Error generating style shader: String literals are not supported."\n      );\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_COLOR */ .Z.LITERAL_COLOR:\n      var args = left;\n      if (value === "color") {\n        if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(args)) {\n          return "vec4(1.0)";\n        } else if (args.length > 1) {\n          var rgb = args[0];\n          var alpha = args[1];\n          if (alpha !== "1.0") {\n            shaderState.translucent = true;\n          }\n          return "vec4(" + rgb + ", " + alpha + ")";\n        }\n        return "vec4(" + args[0] + ", 1.0)";\n      } else if (value === "rgb") {\n        color = convertRGBToColor(this);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(color)) {\n          return colorToVec4(color);\n        }\n        return (\n          "vec4(" +\n          args[0] +\n          " / 255.0, " +\n          args[1] +\n          " / 255.0, " +\n          args[2] +\n          " / 255.0, 1.0)"\n        );\n      } else if (value === "rgba") {\n        if (args[3] !== "1.0") {\n          shaderState.translucent = true;\n        }\n        color = convertRGBToColor(this);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(color)) {\n          return colorToVec4(color);\n        }\n        return (\n          "vec4(" +\n          args[0] +\n          " / 255.0, " +\n          args[1] +\n          " / 255.0, " +\n          args[2] +\n          " / 255.0, " +\n          args[3] +\n          ")"\n        );\n      } else if (value === "hsl") {\n        color = convertHSLToRGB(this);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(color)) {\n          return colorToVec4(color);\n        }\n        return (\n          "vec4(czm_HSLToRGB(vec3(" +\n          args[0] +\n          ", " +\n          args[1] +\n          ", " +\n          args[2] +\n          ")), 1.0)"\n        );\n      } else if (value === "hsla") {\n        color = convertHSLToRGB(this);\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(color)) {\n          if (color.alpha !== 1.0) {\n            shaderState.translucent = true;\n          }\n          return colorToVec4(color);\n        }\n        if (args[3] !== "1.0") {\n          shaderState.translucent = true;\n        }\n        return (\n          "vec4(czm_HSLToRGB(vec3(" +\n          args[0] +\n          ", " +\n          args[1] +\n          ", " +\n          args[2] +\n          ")), " +\n          args[3] +\n          ")"\n        );\n      }\n      break;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_VECTOR */ .Z.LITERAL_VECTOR:\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(left)) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(\n          "left should always be defined for type ExpressionNodeType.LITERAL_VECTOR"\n        );\n      }\n      //>>includeEnd(\'debug\');\n      var length = left.length;\n      var vectorExpression = value + "(";\n      for (var i = 0; i < length; ++i) {\n        vectorExpression += left[i];\n        if (i < length - 1) {\n          vectorExpression += ", ";\n        }\n      }\n      vectorExpression += ")";\n      return vectorExpression;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_REGEX */ .Z.LITERAL_REGEX:\n      throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(\n        "Error generating style shader: Regular expressions are not supported."\n      );\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_UNDEFINED */ .Z.LITERAL_UNDEFINED:\n      return Expression.NULL_SENTINEL;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].BUILTIN_VARIABLE */ .Z.BUILTIN_VARIABLE:\n      if (value === "tiles3d_tileset_time") {\n        return "u_time";\n      }\n  }\n};\n\nNode.prototype.getVariables = function (variables, parent) {\n  var array;\n  var length;\n  var i;\n\n  var type = this._type;\n  var value = this._value;\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._left)) {\n    if (Array.isArray(this._left)) {\n      // Left can be an array if the type is LITERAL_COLOR or LITERAL_VECTOR\n      array = this._left;\n      length = array.length;\n      for (i = 0; i < length; ++i) {\n        array[i].getVariables(variables, this);\n      }\n    } else {\n      this._left.getVariables(variables, this);\n    }\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._right)) {\n    this._right.getVariables(variables, this);\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(this._test)) {\n    this._test.getVariables(variables, this);\n  }\n\n  if (Array.isArray(this._value)) {\n    // For ARRAY type\n    array = this._value;\n    length = array.length;\n    for (i = 0; i < length; ++i) {\n      array[i].getVariables(variables, this);\n    }\n  }\n\n  switch (type) {\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE */ .Z.VARIABLE:\n      if (!checkFeature(this)) {\n        variables.push(value);\n      }\n      break;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].VARIABLE_IN_STRING */ .Z.VARIABLE_IN_STRING:\n      var match = variableRegex.exec(value);\n      while (match !== null) {\n        variables.push(match[1]);\n        match = variableRegex.exec(value);\n      }\n      break;\n    case _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].LITERAL_STRING */ .Z.LITERAL_STRING:\n      if (\n        (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(parent) &&\n        parent._type === _ExpressionNodeType_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].MEMBER */ .Z.MEMBER &&\n        checkFeature(parent._left)\n      ) {\n        variables.push(value);\n      }\n      break;\n  }\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (Expression);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk0MjcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0M7QUFDQTtBQUNBO0FBQ1Y7QUFDQTtBQUNJO0FBQ2M7QUFDZDtBQUNVO0FBQ1Y7QUFDZ0I7O0FBRXpEO0FBQ0EsMkNBQTJDLHNCQUFzQjtBQUNqRTtBQUNBO0FBQ0EsSUFBSSxxR0FBcUc7QUFDekc7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLG9FQUFvRSxPQUFPLFNBQVMsV0FBVztBQUMvRixpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDhDQUE4QyxhQUFhO0FBQzNELDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQSxFQUFFLDJGQUFtQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLDRGQUFnQjtBQUNsQixFQUFFLDRGQUFnQjs7QUFFbEI7QUFDQTtBQUNBLFVBQVUsd0VBQUk7QUFDZCxJQUFJO0FBQ0osY0FBYyxzRUFBWTtBQUMxQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBLDhDQUE4QyxJQUFJLFVBQVUsTUFBTSxXQUFXLEtBQUs7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9FQUFVO0FBQ2xDLHdCQUF3QixvRUFBVTtBQUNsQyx3QkFBd0Isb0VBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0NBQW9DLG9FQUFVO0FBQzlDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9DQUFvQyxvRUFBVTtBQUM5QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxvQ0FBb0Msb0VBQVU7QUFDOUM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsTUFBTSxpQkFBaUIsR0FBRyxpQkFBaUIsTUFBTSxrQkFBa0I7QUFDbkUsTUFBTSxZQUFZLE9BQU8sa0JBQWtCLHlCQUF5QixhQUFhO0FBQ2pGO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxRQUFRO0FBQ25CLGFBQWEscUVBQXFFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtEQUFLLHFCQUFxQixvRUFBVTtBQUM1RCxXQUFXLDZGQUFvQjtBQUMvQjtBQUNBO0FBQ0EscUJBQXFCLG9FQUFVO0FBQy9CLHFCQUFxQixvRUFBVTtBQUMvQixxQkFBcUIsb0VBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkJBQTJCLHNCQUFzQixhQUFhO0FBQ3hGO0FBQ0E7QUFDQSxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2RkFBb0I7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLE1BQU0sSUFBSSxhQUFhO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsK0RBQUs7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxrRkFBb0I7QUFDN0QseUNBQXlDLGtGQUFvQjtBQUM3RCxzQ0FBc0Msd0VBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUMsMEVBQWdCO0FBQ3pELHVDQUF1Qyx3RUFBZTtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyx3RUFBZTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0seUJBQXlCLG9FQUFVO0FBQ3pDLGFBQWEsOEZBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx5QkFBeUIsb0VBQVU7QUFDekMsYUFBYSw4RkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0seUJBQXlCLG9FQUFVO0FBQ3pDLGFBQWEsOEZBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzRUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlCQUF5QixvRUFBVTtBQUMzQyxlQUFlLDhGQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUJBQXlCLG9FQUFVO0FBQzNDLGVBQWUsOEZBQXVCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlCQUF5QixvRUFBVTtBQUMzQyxlQUFlLDhGQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDeEUsYUFBYSw4RkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDeEUsYUFBYSw4RkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0seUJBQXlCLG9FQUFVLHFCQUFxQixvRUFBVTtBQUN4RSxhQUFhLDhGQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHNFQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDMUUsZUFBZSw4RkFBdUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDMUUsZUFBZSw4RkFBdUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUJBQXlCLG9FQUFVLHFCQUFxQixvRUFBVTtBQUMxRSxlQUFlLDhGQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixzQkFBc0Isb0VBQVU7QUFDaEMsdUJBQXVCLG9FQUFVO0FBQ2pDLHNCQUFzQixvRUFBVTtBQUNoQztBQUNBLGFBQWEsOEZBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHNCQUFzQixvRUFBVTtBQUNoQyx1QkFBdUIsb0VBQVU7QUFDakMsc0JBQXNCLG9FQUFVO0FBQ2hDO0FBQ0EsYUFBYSw4RkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixzQkFBc0Isb0VBQVU7QUFDaEMsdUJBQXVCLG9FQUFVO0FBQ2pDLHNCQUFzQixvRUFBVTtBQUNoQztBQUNBLGFBQWEsOEZBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUkseUJBQXlCLG9FQUFVO0FBQ3ZDLFdBQVcsd0ZBQW9CO0FBQy9CLElBQUkseUJBQXlCLG9FQUFVO0FBQ3ZDLFdBQVcsd0ZBQW9CO0FBQy9CLElBQUkseUJBQXlCLG9FQUFVO0FBQ3ZDLFdBQVcsd0ZBQW9CO0FBQy9COztBQUVBLFlBQVksc0VBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyx3RkFBb0I7QUFDL0IsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyx3RkFBb0I7QUFDL0IsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyx3RkFBb0I7QUFDL0I7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDdEUsV0FBVyxzRkFBbUI7QUFDOUIsSUFBSSx5QkFBeUIsb0VBQVUscUJBQXFCLG9FQUFVO0FBQ3RFLFdBQVcsc0ZBQW1CO0FBQzlCLElBQUkseUJBQXlCLG9FQUFVLHFCQUFxQixvRUFBVTtBQUN0RSxXQUFXLHNGQUFtQjtBQUM5Qjs7QUFFQSxZQUFZLHNFQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDdEUsV0FBVyw0RUFBYztBQUN6QixJQUFJLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDdEUsV0FBVyw0RUFBYztBQUN6QixJQUFJLHlCQUF5QixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDdEUsV0FBVyw0RUFBYztBQUN6Qjs7QUFFQSxZQUFZLHNFQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixvRUFBVSxxQkFBcUIsb0VBQVU7QUFDL0QsV0FBVyxnRkFBZ0I7QUFDM0I7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE9BQU8sc0VBQU87QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxjQUFjO0FBQzlEO0FBQ0EsVUFBVSxzRUFBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsTUFBTTtBQUNOO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0Esa0JBQWtCLHNFQUFZLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlHQUErQjtBQUNuRCxJQUFJO0FBQ0osb0JBQW9CLHVHQUFrQztBQUN0RCxJQUFJO0FBQ0osb0JBQW9CLHFHQUFpQztBQUNyRCxJQUFJO0FBQ0osNkJBQTZCO0FBQzdCLHNCQUFzQiw2R0FBcUM7QUFDM0Q7QUFDQTtBQUNBLE1BQU0scUdBQWlDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0VBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVHQUFrQztBQUM1RDtBQUNBLHdCQUF3QixpR0FBK0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1HQUFnQztBQUN0RCxNQUFNO0FBQ047QUFDQSxzQkFBc0IsbUdBQWdDO0FBQ3REOztBQUVBLGNBQWMsc0VBQVk7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUdBQWdDO0FBQ3REO0FBQ0E7QUFDQSxRQUFRLHNFQUFPO0FBQ2Y7QUFDQSxzQkFBc0IsbUdBQWdDO0FBQ3REO0FBQ0Esb0JBQW9CLG1HQUFnQztBQUNwRCxJQUFJO0FBQ0o7QUFDQSxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1HQUFnQztBQUNwRCxJQUFJO0FBQ0o7QUFDQSxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUdBQWdDO0FBQ3BELElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0Esb0JBQW9CLHFHQUFpQztBQUNyRCxJQUFJO0FBQ0o7QUFDQTtBQUNBLHdCQUF3Qix1R0FBa0M7QUFDMUQ7QUFDQSxzQkFBc0IsdUdBQWtDO0FBQ3hEO0FBQ0E7QUFDQSxvQkFBb0IsbUZBQXdCO0FBQzVDLElBQUk7QUFDSjtBQUNBLGdCQUFnQixzRUFBWTtBQUM1QjtBQUNBO0FBQ0Esb0JBQW9CLG1GQUF3QjtBQUM1QyxJQUFJO0FBQ0o7QUFDQSxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQSxvQkFBb0IsbUZBQXdCO0FBQzVDLElBQUksU0FBUyxzRUFBTztBQUNwQjtBQUNBLGdCQUFnQixzRUFBWTtBQUM1QjtBQUNBO0FBQ0Esb0JBQW9CLG1GQUF3QjtBQUM1QyxJQUFJLFNBQVMsc0VBQU87QUFDcEI7QUFDQSxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFGQUF5QjtBQUM3QyxJQUFJLFNBQVMsc0VBQU87QUFDcEI7QUFDQSxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUZBQTBCO0FBQzlDLElBQUk7QUFDSjtBQUNBLHNCQUFzQix1R0FBa0M7QUFDeEQ7QUFDQTtBQUNBLG9CQUFvQixtRkFBd0I7QUFDNUMsSUFBSTtBQUNKO0FBQ0Esc0JBQXNCLHFHQUFpQztBQUN2RDtBQUNBO0FBQ0Esb0JBQW9CLG1GQUF3QjtBQUM1QyxJQUFJO0FBQ0o7QUFDQSxzQkFBc0IscUdBQWlDO0FBQ3ZEO0FBQ0E7QUFDQSxvQkFBb0IsbUZBQXdCO0FBQzVDLElBQUk7QUFDSjtBQUNBOztBQUVBLFlBQVksc0VBQVk7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUdBQWdDO0FBQ3BEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGtCQUFrQixzRUFBWTtBQUM5QjtBQUNBLHNCQUFzQixtR0FBZ0M7QUFDdEQ7QUFDQSxvQkFBb0IsbUZBQXdCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLGdCQUFnQixzRUFBWTtBQUM1QjtBQUNBLG9CQUFvQixtR0FBZ0M7QUFDcEQ7QUFDQSxrQkFBa0IsbUZBQXdCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHlHQUFtQztBQUN6RDtBQUNBLG9CQUFvQix5RkFBMkI7QUFDL0MsSUFBSTtBQUNKLG9CQUFvQixxR0FBaUM7QUFDckQsSUFBSTtBQUNKLG9CQUFvQixxR0FBaUM7QUFDckQsSUFBSTtBQUNKLG9CQUFvQiwyR0FBb0M7QUFDeEQ7O0FBRUEsWUFBWSxzRUFBWTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUdBQWlDO0FBQ3JELElBQUk7QUFDSixvQkFBb0IscUdBQWlDO0FBQ3JEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFHQUFpQztBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxRkFBeUI7QUFDN0M7O0FBRUEsaUJBQWlCLHFHQUFpQztBQUNsRCxrQkFBa0IscUZBQXlCO0FBQzNDOztBQUVBO0FBQ0EsdUJBQXVCLGlHQUErQjtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUZBQXdCO0FBQzlDLE1BQU07QUFDTixnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUZBQXlCO0FBQy9DLE1BQU07QUFDTixnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUZBQXlCO0FBQy9DO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrRkFBOEI7QUFDbEQsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0Esb0JBQW9CLG1GQUF3QjtBQUM1QyxJQUFJO0FBQ0o7QUFDQSxjQUFjLHNFQUFZO0FBQzFCLElBQUk7QUFDSixjQUFjLHNFQUFZO0FBQzFCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsK0ZBQThCO0FBQ25EO0FBQ0EsSUFBSSx3QkFBd0IsbUdBQWdDO0FBQzVEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUksd0JBQXdCLG1GQUF3QjtBQUNwRDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTSxTQUFTLHNFQUFPO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJLHdCQUF3QixxRkFBeUI7QUFDckQ7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU0sU0FBUyxzRUFBTztBQUN0QjtBQUNBO0FBQ0EsSUFBSSx3QkFBd0IsdUZBQTBCO0FBQ3REO0FBQ0EsSUFBSSx3QkFBd0IscUZBQXlCO0FBQ3JEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUksd0JBQXdCLG1GQUF3QjtBQUNwRDtBQUNBLElBQUksd0JBQXdCLHlGQUEyQjtBQUN2RDtBQUNBLElBQUksd0JBQXdCLDZHQUFxQztBQUNqRTtBQUNBLElBQUksd0JBQXdCLG1HQUFnQztBQUM1RDtBQUNBLElBQUksd0JBQXdCLHFHQUFpQztBQUM3RDtBQUNBLElBQUksd0JBQXdCLHFHQUFpQztBQUM3RDtBQUNBLElBQUksd0JBQXdCLG1GQUF3QjtBQUNwRDtBQUNBLElBQUksd0JBQXdCLHlHQUFtQztBQUMvRDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxzRUFBTztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLHNFQUFPO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsc0VBQU87QUFDaEIsTUFBTSxtRkFBZTtBQUNyQixNQUFNO0FBQ04sTUFBTSxxR0FBd0I7QUFDOUI7QUFDQSxNQUFNO0FBQ04sTUFBTSxxR0FBd0I7QUFDOUI7QUFDQSxJQUFJO0FBQ0osSUFBSSxtRkFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUksbUZBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUksK0VBQWE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUksK0VBQWE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdGQUFvQjtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsTUFBTSwwQkFBMEIsb0VBQVU7QUFDMUM7QUFDQSxNQUFNLDBCQUEwQixvRUFBVTtBQUMxQztBQUNBLE1BQU0sMEJBQTBCLG9FQUFVO0FBQzFDO0FBQ0EsTUFBTTtBQUNOLGdCQUFnQixzRUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxzRUFBWTtBQUMxQjtBQUNBO0FBQ0EsSUFBSTtBQUNKLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBLElBQUk7QUFDSixjQUFjLHNFQUFZO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyx3RkFBb0I7QUFDL0IsSUFBSTtBQUNKLFdBQVcsd0ZBQW9CO0FBQy9CLElBQUk7QUFDSixXQUFXLHdGQUFvQjtBQUMvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsc0VBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sc0VBQU87QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0Isb0VBQVU7QUFDbEMsd0JBQXdCLG9FQUFVO0FBQ2xDLHdCQUF3QixvRUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHNFQUFPO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLG9FQUFVO0FBQ2xDLHdCQUF3QixvRUFBVTtBQUNsQyx3QkFBd0Isb0VBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzRUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0Isb0VBQVU7QUFDaEMsV0FBVyxrRkFBaUI7QUFDNUIsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyxrRkFBaUI7QUFDNUIsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyxrRkFBaUI7QUFDNUIsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixvRUFBVTtBQUNoQyxzQkFBc0Isb0VBQVU7QUFDaEMsc0JBQXNCLG9FQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLHNFQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxzRUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNFQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxzRUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUMvRCxXQUFXLDRFQUFjO0FBQ3pCLElBQUksMEJBQTBCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUN0RSxXQUFXLDRFQUFjO0FBQ3pCLElBQUksMEJBQTBCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUN0RSxXQUFXLDRFQUFjO0FBQ3pCLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVUsb0JBQW9CLG9FQUFVO0FBQy9ELFdBQVcsc0ZBQW1CO0FBQzlCLElBQUksMEJBQTBCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUN0RSxXQUFXLHNGQUFtQjtBQUM5QixJQUFJLDBCQUEwQixvRUFBVSxvQkFBb0Isb0VBQVU7QUFDdEUsV0FBVyxzRkFBbUI7QUFDOUIsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVUsb0JBQW9CLG9FQUFVO0FBQy9ELFdBQVcsMEdBQTZCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwQkFBMEIsb0VBQVU7QUFDeEMsV0FBVyxzR0FBMkI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlCQUF5QixvRUFBVTtBQUN2QyxXQUFXLHNHQUEyQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMEJBQTBCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUN0RSxXQUFXLDBHQUE2QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMEJBQTBCLG9FQUFVO0FBQ3hDLFdBQVcsc0dBQTJCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyxzR0FBMkI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDBCQUEwQixvRUFBVSxvQkFBb0Isb0VBQVU7QUFDdEUsV0FBVywwR0FBNkI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDBCQUEwQixvRUFBVTtBQUN4QyxXQUFXLHNHQUEyQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkseUJBQXlCLG9FQUFVO0FBQ3ZDLFdBQVcsc0dBQTJCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVUsb0JBQW9CLG9FQUFVO0FBQy9ELFdBQVcsc0dBQTJCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx5QkFBeUIsb0VBQVU7QUFDdkMsV0FBVyxrR0FBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDBCQUEwQixvRUFBVSxvQkFBb0Isb0VBQVU7QUFDdEUsV0FBVyxzR0FBMkI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlCQUF5QixvRUFBVTtBQUN2QyxXQUFXLGtHQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMEJBQTBCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUN0RSxXQUFXLHNHQUEyQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkseUJBQXlCLG9FQUFVO0FBQ3ZDLFdBQVcsa0dBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQVUsb0JBQW9CLG9FQUFVO0FBQy9ELFdBQVcsOEZBQXVCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwQkFBMEIsb0VBQVUsb0JBQW9CLG9FQUFVO0FBQ3RFLFdBQVcsOEZBQXVCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDBCQUEwQixvRUFBVSxvQkFBb0Isb0VBQVU7QUFDdEUsV0FBVyw4RkFBdUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvRUFBVSxvQkFBb0Isb0VBQVU7QUFDOUQsc0JBQXNCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUM5RCxzQkFBc0Isb0VBQVUsb0JBQW9CLG9FQUFVO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0VBQVUsb0JBQW9CLG9FQUFVO0FBQzlELHNCQUFzQixvRUFBVSxvQkFBb0Isb0VBQVU7QUFDOUQsc0JBQXNCLG9FQUFVLG9CQUFvQixvRUFBVTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLHNFQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxzRUFBTztBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxzRUFBTztBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxzRUFBTztBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxzRUFBTztBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLFlBQVksc0VBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxZQUFZLHNFQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLHNFQUFPO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0VBQVU7QUFDOUIsb0JBQW9CLG9FQUFVO0FBQzlCLG9CQUFvQixvRUFBVTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxzRUFBWTtBQUN4Qjs7QUFFQTtBQUNBO0FBQ0Esb0ZBQW9GLE9BQU87QUFDM0Y7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCLDhCQUE4QixxR0FBaUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtFQUFhO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQSxzRkFBc0YsT0FBTztBQUM3RjtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUIsOEJBQThCLHFHQUFpQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxzRUFBTztBQUNkLGNBQWMsc0VBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQzs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsTUFBTSxzRUFBTztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxzRUFBTztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLHNFQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMseUZBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtRkFBd0I7QUFDakM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUSxTQUFTLHNFQUFPO0FBQ3hCO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxRkFBeUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUSxTQUFTLHNFQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdUZBQTBCO0FBQ25DLFVBQVUsc0VBQU87QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUywrRkFBOEI7QUFDdkM7QUFDQSxTQUFTLHFGQUF5QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1HQUFnQztBQUN6QyxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBLFNBQVMsbUZBQXdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsZ0JBQWdCLHNFQUFZO0FBQzVCO0FBQ0E7QUFDQSxTQUFTLG1GQUF3QjtBQUNqQyxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBLFNBQVMsNkdBQXFDO0FBQzlDLGdCQUFnQixzRUFBWTtBQUM1QjtBQUNBO0FBQ0EsU0FBUyxpR0FBK0I7QUFDeEM7QUFDQSxTQUFTLHVHQUFrQztBQUMzQztBQUNBLFNBQVMscUdBQWlDO0FBQzFDO0FBQ0EsU0FBUyxxR0FBaUM7QUFDMUMsVUFBVSxzRUFBTyw2QkFBNkIscUZBQXlCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscUdBQXdCO0FBQ3RDLFVBQVUsc0VBQU87QUFDakI7QUFDQTtBQUNBLGdCQUFnQixzRUFBWTtBQUM1QjtBQUNBO0FBQ0EsU0FBUyxtR0FBZ0M7QUFDekM7QUFDQTtBQUNBLGFBQWEsc0VBQU87QUFDcEI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFlBQVksc0VBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0VBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxZQUFZLHNFQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxZQUFZLHNFQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUdBQWlDO0FBQzFDO0FBQ0EsV0FBVyxzRUFBTztBQUNsQixrQkFBa0Isd0VBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFlBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1HQUFnQztBQUN6QyxnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQTtBQUNBLFNBQVMsMkdBQW9DO0FBQzdDO0FBQ0EsU0FBUyx5R0FBbUM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLE1BQU0sc0VBQU87QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLE1BQU0sc0VBQU87QUFDYjtBQUNBOztBQUVBLE1BQU0sc0VBQU87QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFlBQVk7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyx5RkFBMkI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZHQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFHQUFpQztBQUMxQztBQUNBLFFBQVEsc0VBQU87QUFDZix5QkFBeUIscUZBQXlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlEQUFlLFVBQVUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9FeHByZXNzaW9uLmpzP2E3MWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhcnRlc2lhbjIgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMi5qc1wiO1xuaW1wb3J0IENhcnRlc2lhbjMgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMy5qc1wiO1xuaW1wb3J0IENhcnRlc2lhbjQgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuNC5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgQ29sb3IgZnJvbSBcIi4uL0NvcmUvQ29sb3IuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IENlc2l1bU1hdGggZnJvbSBcIi4uL0NvcmUvTWF0aC5qc1wiO1xuaW1wb3J0IFJ1bnRpbWVFcnJvciBmcm9tIFwiLi4vQ29yZS9SdW50aW1lRXJyb3IuanNcIjtcbmltcG9ydCBqc2VwIGZyb20gXCIuLi9UaGlyZFBhcnR5L2pzZXAuanNcIjtcbmltcG9ydCBFeHByZXNzaW9uTm9kZVR5cGUgZnJvbSBcIi4vRXhwcmVzc2lvbk5vZGVUeXBlLmpzXCI7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBmb3IgYSBzdHlsZSBhcHBsaWVkIHRvIGEge0BsaW5rIENlc2l1bTNEVGlsZXNldH0uXG4gKiA8cD5cbiAqIEV2YWx1YXRlcyBhbiBleHByZXNzaW9uIGRlZmluZWQgdXNpbmcgdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTLzNkLXRpbGVzL3RyZWUvbWFpbi9zcGVjaWZpY2F0aW9uL1N0eWxpbmd8M0QgVGlsZXMgU3R5bGluZyBsYW5ndWFnZX0uXG4gKiA8L3A+XG4gKiA8cD5cbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBTdHlsZUV4cHJlc3Npb259IGludGVyZmFjZS5cbiAqIDwvcD5cbiAqXG4gKiBAYWxpYXMgRXhwcmVzc2lvblxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtleHByZXNzaW9uXSBUaGUgZXhwcmVzc2lvbiBkZWZpbmVkIHVzaW5nIHRoZSAzRCBUaWxlcyBTdHlsaW5nIGxhbmd1YWdlLlxuICogQHBhcmFtIHtPYmplY3R9IFtkZWZpbmVzXSBEZWZpbmVzIGluIHRoZSBzdHlsZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGV4cHJlc3Npb24gPSBuZXcgQ2VzaXVtLkV4cHJlc3Npb24oJyhyZWdFeHAoXCJeQ2hlc3RcIikudGVzdCgke0NvdW50eX0pKSAmJiAoJHtZZWFyQnVpbHR9ID49IDE5NzApJyk7XG4gKiBleHByZXNzaW9uLmV2YWx1YXRlKGZlYXR1cmUpOyAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UgZGVwZW5kaW5nIG9uIHRoZSBmZWF0dXJlJ3MgcHJvcGVydGllc1xuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgZXhwcmVzc2lvbiA9IG5ldyBDZXNpdW0uRXhwcmVzc2lvbignKCR7VGVtcGVyYXR1cmV9ID4gOTApID8gY29sb3IoXCJyZWRcIikgOiBjb2xvcihcIndoaXRlXCIpJyk7XG4gKiBleHByZXNzaW9uLmV2YWx1YXRlQ29sb3IoZmVhdHVyZSwgcmVzdWx0KTsgLy8gcmV0dXJucyBhIENlc2l1bS5Db2xvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gRXhwcmVzc2lvbihleHByZXNzaW9uLCBkZWZpbmVzKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJleHByZXNzaW9uXCIsIGV4cHJlc3Npb24pO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLl9leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgZXhwcmVzc2lvbiA9IHJlcGxhY2VEZWZpbmVzKGV4cHJlc3Npb24sIGRlZmluZXMpO1xuICBleHByZXNzaW9uID0gcmVwbGFjZVZhcmlhYmxlcyhyZW1vdmVCYWNrc2xhc2hlcyhleHByZXNzaW9uKSk7XG5cbiAgLy8gY3VzdG9taXplIGpzZXAgb3BlcmF0b3JzXG4gIGpzZXAuYWRkQmluYXJ5T3AoXCI9flwiLCAwKTtcbiAganNlcC5hZGRCaW5hcnlPcChcIiF+XCIsIDApO1xuXG4gIHZhciBhc3Q7XG4gIHRyeSB7XG4gICAgYXN0ID0ganNlcChleHByZXNzaW9uKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoZSk7XG4gIH1cblxuICB0aGlzLl9ydW50aW1lQXN0ID0gY3JlYXRlUnVudGltZUFzdCh0aGlzLCBhc3QpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhFeHByZXNzaW9uLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgZXhwcmVzc2lvbiBkZWZpbmVkIGluIHRoZSAzRCBUaWxlcyBTdHlsaW5nIGxhbmd1YWdlLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRXhwcmVzc2lvbi5wcm90b3R5cGVcbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICogQHJlYWRvbmx5XG4gICAqXG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgZXhwcmVzc2lvbjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4cHJlc3Npb247XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vLyBTY3JhdGNoIHN0b3JhZ2UgbWFuYWdlciB3aGlsZSBldmFsdWF0aW5nIGRlZXAgZXhwcmVzc2lvbnMuXG4vLyBGb3IgZXhhbXBsZSwgYW4gZXhwcmVzc2lvbiBsaWtlIGRvdCh2ZWM0KCR7cmVkfSksIHZlYzQoJHtncmVlbn0pICogdmVjNCgke2JsdWV9KSByZXF1aXJlcyAzIHNjcmF0Y2ggQ2FydGVzaWFuNCdzXG52YXIgc2NyYXRjaFN0b3JhZ2UgPSB7XG4gIGFycmF5SW5kZXg6IDAsXG4gIGFycmF5QXJyYXk6IFtbXV0sXG4gIGNhcnRlc2lhbjJJbmRleDogMCxcbiAgY2FydGVzaWFuM0luZGV4OiAwLFxuICBjYXJ0ZXNpYW40SW5kZXg6IDAsXG4gIGNhcnRlc2lhbjJBcnJheTogW25ldyBDYXJ0ZXNpYW4yKCldLFxuICBjYXJ0ZXNpYW4zQXJyYXk6IFtuZXcgQ2FydGVzaWFuMygpXSxcbiAgY2FydGVzaWFuNEFycmF5OiBbbmV3IENhcnRlc2lhbjQoKV0sXG4gIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hcnJheUluZGV4ID0gMDtcbiAgICB0aGlzLmNhcnRlc2lhbjJJbmRleCA9IDA7XG4gICAgdGhpcy5jYXJ0ZXNpYW4zSW5kZXggPSAwO1xuICAgIHRoaXMuY2FydGVzaWFuNEluZGV4ID0gMDtcbiAgfSxcbiAgZ2V0QXJyYXk6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5hcnJheUluZGV4ID49IHRoaXMuYXJyYXlBcnJheS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuYXJyYXlBcnJheS5wdXNoKFtdKTtcbiAgICB9XG4gICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheUFycmF5W3RoaXMuYXJyYXlJbmRleCsrXTtcbiAgICBhcnJheS5sZW5ndGggPSAwO1xuICAgIHJldHVybiBhcnJheTtcbiAgfSxcbiAgZ2V0Q2FydGVzaWFuMjogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNhcnRlc2lhbjJJbmRleCA+PSB0aGlzLmNhcnRlc2lhbjJBcnJheS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FydGVzaWFuMkFycmF5LnB1c2gobmV3IENhcnRlc2lhbjIoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhcnRlc2lhbjJBcnJheVt0aGlzLmNhcnRlc2lhbjJJbmRleCsrXTtcbiAgfSxcbiAgZ2V0Q2FydGVzaWFuMzogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNhcnRlc2lhbjNJbmRleCA+PSB0aGlzLmNhcnRlc2lhbjNBcnJheS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FydGVzaWFuM0FycmF5LnB1c2gobmV3IENhcnRlc2lhbjMoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhcnRlc2lhbjNBcnJheVt0aGlzLmNhcnRlc2lhbjNJbmRleCsrXTtcbiAgfSxcbiAgZ2V0Q2FydGVzaWFuNDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNhcnRlc2lhbjRJbmRleCA+PSB0aGlzLmNhcnRlc2lhbjRBcnJheS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2FydGVzaWFuNEFycmF5LnB1c2gobmV3IENhcnRlc2lhbjQoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhcnRlc2lhbjRBcnJheVt0aGlzLmNhcnRlc2lhbjRJbmRleCsrXTtcbiAgfSxcbn07XG5cbi8qKlxuICogRXZhbHVhdGVzIHRoZSByZXN1bHQgb2YgYW4gZXhwcmVzc2lvbiwgb3B0aW9uYWxseSB1c2luZyB0aGUgcHJvdmlkZWQgZmVhdHVyZSdzIHByb3BlcnRpZXMuIElmIHRoZSByZXN1bHQgb2ZcbiAqIHRoZSBleHByZXNzaW9uIGluIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy8zZC10aWxlcy90cmVlL21haW4vc3BlY2lmaWNhdGlvbi9TdHlsaW5nfDNEIFRpbGVzIFN0eWxpbmcgbGFuZ3VhZ2V9XG4gKiBpcyBvZiB0eXBlIDxjb2RlPkJvb2xlYW48L2NvZGU+LCA8Y29kZT5OdW1iZXI8L2NvZGU+LCBvciA8Y29kZT5TdHJpbmc8L2NvZGU+LCB0aGUgY29ycmVzcG9uZGluZyBKYXZhU2NyaXB0XG4gKiBwcmltaXRpdmUgdHlwZSB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGUgcmVzdWx0IGlzIGEgPGNvZGU+UmVnRXhwPC9jb2RlPiwgYSBKYXZhc2NyaXB0IDxjb2RlPlJlZ0V4cDwvY29kZT5cbiAqIG9iamVjdCB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGUgcmVzdWx0IGlzIGEgPGNvZGU+Q2FydGVzaWFuMjwvY29kZT4sIDxjb2RlPkNhcnRlc2lhbjM8L2NvZGU+LCBvciA8Y29kZT5DYXJ0ZXNpYW40PC9jb2RlPixcbiAqIGEge0BsaW5rIENhcnRlc2lhbjJ9LCB7QGxpbmsgQ2FydGVzaWFuM30sIG9yIHtAbGluayBDYXJ0ZXNpYW40fSBvYmplY3Qgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhlIDxjb2RlPnJlc3VsdDwvY29kZT4gYXJndW1lbnQgaXNcbiAqIGEge0BsaW5rIENvbG9yfSwgdGhlIHtAbGluayBDYXJ0ZXNpYW40fSB2YWx1ZSBpcyBjb252ZXJ0ZWQgdG8gYSB7QGxpbmsgQ29sb3J9IGFuZCB0aGVuIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSB7Q2VzaXVtM0RUaWxlRmVhdHVyZX0gZmVhdHVyZSBUaGUgZmVhdHVyZSB3aG9zZSBwcm9wZXJ0aWVzIG1heSBiZSB1c2VkIGFzIHZhcmlhYmxlcyBpbiB0aGUgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzdWx0XSBUaGUgb2JqZWN0IG9udG8gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufE51bWJlcnxTdHJpbmd8UmVnRXhwfENhcnRlc2lhbjJ8Q2FydGVzaWFuM3xDYXJ0ZXNpYW40fENvbG9yfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gKi9cbkV4cHJlc3Npb24ucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gKGZlYXR1cmUsIHJlc3VsdCkge1xuICBzY3JhdGNoU3RvcmFnZS5yZXNldCgpO1xuICB2YXIgdmFsdWUgPSB0aGlzLl9ydW50aW1lQXN0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgQ29sb3IgJiYgdmFsdWUgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgcmV0dXJuIENvbG9yLmZyb21DYXJ0ZXNpYW40KHZhbHVlLCByZXN1bHQpO1xuICB9XG4gIGlmIChcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIENhcnRlc2lhbjIgfHxcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIENhcnRlc2lhbjMgfHxcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIENhcnRlc2lhbjRcbiAgKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNsb25lKHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBFdmFsdWF0ZXMgdGhlIHJlc3VsdCBvZiBhIENvbG9yIGV4cHJlc3Npb24sIG9wdGlvbmFsbHkgdXNpbmcgdGhlIHByb3ZpZGVkIGZlYXR1cmUncyBwcm9wZXJ0aWVzLlxuICogPHA+XG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8ge0BsaW5rIEV4cHJlc3Npb24jZXZhbHVhdGV9IGJ1dCBhbHdheXMgcmV0dXJucyBhIHtAbGluayBDb2xvcn0gb2JqZWN0LlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7Q2VzaXVtM0RUaWxlRmVhdHVyZX0gZmVhdHVyZSBUaGUgZmVhdHVyZSB3aG9zZSBwcm9wZXJ0aWVzIG1heSBiZSB1c2VkIGFzIHZhcmlhYmxlcyBpbiB0aGUgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7Q29sb3J9IFtyZXN1bHRdIFRoZSBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICogQHJldHVybnMge0NvbG9yfSBUaGUgbW9kaWZpZWQgcmVzdWx0IHBhcmFtZXRlciBvciBhIG5ldyBDb2xvciBpbnN0YW5jZSBpZiBvbmUgd2FzIG5vdCBwcm92aWRlZC5cbiAqL1xuRXhwcmVzc2lvbi5wcm90b3R5cGUuZXZhbHVhdGVDb2xvciA9IGZ1bmN0aW9uIChmZWF0dXJlLCByZXN1bHQpIHtcbiAgc2NyYXRjaFN0b3JhZ2UucmVzZXQoKTtcbiAgdmFyIGNvbG9yID0gdGhpcy5fcnVudGltZUFzdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgcmV0dXJuIENvbG9yLmZyb21DYXJ0ZXNpYW40KGNvbG9yLCByZXN1bHQpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBzaGFkZXIgZnVuY3Rpb24gZm9yIHRoaXMgZXhwcmVzc2lvbi5cbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZSBzaGFkZXIgZnVuY3Rpb24gY2FuJ3QgYmUgZ2VuZXJhdGVkIGZyb20gdGhpcyBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmdW5jdGlvblNpZ25hdHVyZSBTaWduYXR1cmUgb2YgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcCBNYXBzIHZhcmlhYmxlIG5hbWVzIHRvIHNoYWRlciB2YXJpYWJsZSBuYW1lcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzaGFkZXJTdGF0ZSBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGdlbmVyYXRlZCBzaGFkZXIgZnVuY3Rpb24sIGluY2x1ZGluZyB3aGV0aGVyIGl0IGlzIHRyYW5zbHVjZW50LlxuICogQHBhcmFtIHtTdHJpbmd9IHJldHVyblR5cGUgVGhlIHJldHVybiB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHNoYWRlciBmdW5jdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5FeHByZXNzaW9uLnByb3RvdHlwZS5nZXRTaGFkZXJGdW5jdGlvbiA9IGZ1bmN0aW9uIChcbiAgZnVuY3Rpb25TaWduYXR1cmUsXG4gIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICBzaGFkZXJTdGF0ZSxcbiAgcmV0dXJuVHlwZVxuKSB7XG4gIHZhciBzaGFkZXJFeHByZXNzaW9uID0gdGhpcy5nZXRTaGFkZXJFeHByZXNzaW9uKFxuICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgIHNoYWRlclN0YXRlXG4gICk7XG5cbiAgc2hhZGVyRXhwcmVzc2lvbiA9XG4gICAgcmV0dXJuVHlwZSArXG4gICAgXCIgXCIgK1xuICAgIGZ1bmN0aW9uU2lnbmF0dXJlICtcbiAgICBcIlxcblwiICtcbiAgICBcIntcXG5cIiArXG4gICAgXCIgICAgcmV0dXJuIFwiICtcbiAgICBzaGFkZXJFeHByZXNzaW9uICtcbiAgICBcIjtcXG5cIiArXG4gICAgXCJ9XFxuXCI7XG5cbiAgcmV0dXJuIHNoYWRlckV4cHJlc3Npb247XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIHNoYWRlciBleHByZXNzaW9uIGZvciB0aGlzIGV4cHJlc3Npb24uXG4gKiBSZXR1cm5zIHVuZGVmaW5lZCBpZiB0aGUgc2hhZGVyIGV4cHJlc3Npb24gY2FuJ3QgYmUgZ2VuZXJhdGVkIGZyb20gdGhpcyBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcCBNYXBzIHZhcmlhYmxlIG5hbWVzIHRvIHNoYWRlciB2YXJpYWJsZSBuYW1lcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzaGFkZXJTdGF0ZSBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGdlbmVyYXRlZCBzaGFkZXIgZnVuY3Rpb24sIGluY2x1ZGluZyB3aGV0aGVyIGl0IGlzIHRyYW5zbHVjZW50LlxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzaGFkZXIgZXhwcmVzc2lvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5FeHByZXNzaW9uLnByb3RvdHlwZS5nZXRTaGFkZXJFeHByZXNzaW9uID0gZnVuY3Rpb24gKFxuICB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcCxcbiAgc2hhZGVyU3RhdGVcbikge1xuICByZXR1cm4gdGhpcy5fcnVudGltZUFzdC5nZXRTaGFkZXJFeHByZXNzaW9uKFxuICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgIHNoYWRlclN0YXRlXG4gICk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIHZhcmlhYmxlcyB1c2VkIGJ5IHRoZSBleHByZXNzaW9uLlxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmdbXX0gVGhlIHZhcmlhYmxlcyB1c2VkIGJ5IHRoZSBleHByZXNzaW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkV4cHJlc3Npb24ucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZhcmlhYmxlcyA9IFtdO1xuXG4gIHRoaXMuX3J1bnRpbWVBc3QuZ2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG5cbiAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXNcbiAgdmFyaWFibGVzID0gdmFyaWFibGVzLmZpbHRlcihmdW5jdGlvbiAodmFyaWFibGUsIGluZGV4LCB2YXJpYWJsZXMpIHtcbiAgICByZXR1cm4gdmFyaWFibGVzLmluZGV4T2YodmFyaWFibGUpID09PSBpbmRleDtcbiAgfSk7XG5cbiAgcmV0dXJuIHZhcmlhYmxlcztcbn07XG5cbnZhciB1bmFyeU9wZXJhdG9ycyA9IFtcIiFcIiwgXCItXCIsIFwiK1wiXTtcbnZhciBiaW5hcnlPcGVyYXRvcnMgPSBbXG4gIFwiK1wiLFxuICBcIi1cIixcbiAgXCIqXCIsXG4gIFwiL1wiLFxuICBcIiVcIixcbiAgXCI9PT1cIixcbiAgXCIhPT1cIixcbiAgXCI+XCIsXG4gIFwiPj1cIixcbiAgXCI8XCIsXG4gIFwiPD1cIixcbiAgXCImJlwiLFxuICBcInx8XCIsXG4gIFwiIX5cIixcbiAgXCI9flwiLFxuXTtcblxudmFyIHZhcmlhYmxlUmVnZXggPSAvXFwkeyguKj8pfS9nOyAvLyBNYXRjaGVzICR7dmFyaWFibGVfbmFtZX1cbnZhciBiYWNrc2xhc2hSZWdleCA9IC9cXFxcL2c7XG52YXIgYmFja3NsYXNoUmVwbGFjZW1lbnQgPSBcIkAjJVwiO1xudmFyIHJlcGxhY2VtZW50UmVnZXggPSAvQCMlL2c7XG5cbnZhciBzY3JhdGNoQ29sb3IgPSBuZXcgQ29sb3IoKTtcblxudmFyIHVuYXJ5RnVuY3Rpb25zID0ge1xuICBhYnM6IGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKE1hdGguYWJzKSxcbiAgc3FydDogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5zcXJ0KSxcbiAgY29zOiBnZXRFdmFsdWF0ZVVuYXJ5Q29tcG9uZW50d2lzZShNYXRoLmNvcyksXG4gIHNpbjogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5zaW4pLFxuICB0YW46IGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKE1hdGgudGFuKSxcbiAgYWNvczogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5hY29zKSxcbiAgYXNpbjogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5hc2luKSxcbiAgYXRhbjogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5hdGFuKSxcbiAgcmFkaWFuczogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoQ2VzaXVtTWF0aC50b1JhZGlhbnMpLFxuICBkZWdyZWVzOiBnZXRFdmFsdWF0ZVVuYXJ5Q29tcG9uZW50d2lzZShDZXNpdW1NYXRoLnRvRGVncmVlcyksXG4gIHNpZ246IGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKENlc2l1bU1hdGguc2lnbiksXG4gIGZsb29yOiBnZXRFdmFsdWF0ZVVuYXJ5Q29tcG9uZW50d2lzZShNYXRoLmZsb29yKSxcbiAgY2VpbDogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5jZWlsKSxcbiAgcm91bmQ6IGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKE1hdGgucm91bmQpLFxuICBleHA6IGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKE1hdGguZXhwKSxcbiAgZXhwMjogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoZXhwMiksXG4gIGxvZzogZ2V0RXZhbHVhdGVVbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5sb2cpLFxuICBsb2cyOiBnZXRFdmFsdWF0ZVVuYXJ5Q29tcG9uZW50d2lzZShsb2cyKSxcbiAgZnJhY3Q6IGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKGZyYWN0KSxcbiAgbGVuZ3RoOiBsZW5ndGgsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxufTtcblxudmFyIGJpbmFyeUZ1bmN0aW9ucyA9IHtcbiAgYXRhbjI6IGdldEV2YWx1YXRlQmluYXJ5Q29tcG9uZW50d2lzZShNYXRoLmF0YW4yLCBmYWxzZSksXG4gIHBvdzogZ2V0RXZhbHVhdGVCaW5hcnlDb21wb25lbnR3aXNlKE1hdGgucG93LCBmYWxzZSksXG4gIG1pbjogZ2V0RXZhbHVhdGVCaW5hcnlDb21wb25lbnR3aXNlKE1hdGgubWluLCB0cnVlKSxcbiAgbWF4OiBnZXRFdmFsdWF0ZUJpbmFyeUNvbXBvbmVudHdpc2UoTWF0aC5tYXgsIHRydWUpLFxuICBkaXN0YW5jZTogZGlzdGFuY2UsXG4gIGRvdDogZG90LFxuICBjcm9zczogY3Jvc3MsXG59O1xuXG52YXIgdGVybmFyeUZ1bmN0aW9ucyA9IHtcbiAgY2xhbXA6IGdldEV2YWx1YXRlVGVybmFyeUNvbXBvbmVudHdpc2UoQ2VzaXVtTWF0aC5jbGFtcCwgdHJ1ZSksXG4gIG1peDogZ2V0RXZhbHVhdGVUZXJuYXJ5Q29tcG9uZW50d2lzZShDZXNpdW1NYXRoLmxlcnAsIHRydWUpLFxufTtcblxuZnVuY3Rpb24gZnJhY3QobnVtYmVyKSB7XG4gIHJldHVybiBudW1iZXIgLSBNYXRoLmZsb29yKG51bWJlcik7XG59XG5cbmZ1bmN0aW9uIGV4cDIoZXhwb25lbnQpIHtcbiAgcmV0dXJuIE1hdGgucG93KDIuMCwgZXhwb25lbnQpO1xufVxuXG5mdW5jdGlvbiBsb2cyKG51bWJlcikge1xuICByZXR1cm4gQ2VzaXVtTWF0aC5sb2cyKG51bWJlcik7XG59XG5cbmZ1bmN0aW9uIGdldEV2YWx1YXRlVW5hcnlDb21wb25lbnR3aXNlKG9wZXJhdGlvbikge1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGwsIGxlZnQpIHtcbiAgICBpZiAodHlwZW9mIGxlZnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBvcGVyYXRpb24obGVmdCk7XG4gICAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMikge1xuICAgICAgcmV0dXJuIENhcnRlc2lhbjIuZnJvbUVsZW1lbnRzKFxuICAgICAgICBvcGVyYXRpb24obGVmdC54KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueSksXG4gICAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjIoKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgICByZXR1cm4gQ2FydGVzaWFuMy5mcm9tRWxlbWVudHMoXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LngpLFxuICAgICAgICBvcGVyYXRpb24obGVmdC55KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueiksXG4gICAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjMoKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgICByZXR1cm4gQ2FydGVzaWFuNC5mcm9tRWxlbWVudHMoXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LngpLFxuICAgICAgICBvcGVyYXRpb24obGVmdC55KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueiksXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LncpLFxuICAgICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW40KClcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAnRnVuY3Rpb24gXCInICtcbiAgICAgICAgY2FsbCArXG4gICAgICAgICdcIiByZXF1aXJlcyBhIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnQuIEFyZ3VtZW50IGlzICcgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRFdmFsdWF0ZUJpbmFyeUNvbXBvbmVudHdpc2Uob3BlcmF0aW9uLCBhbGxvd1NjYWxhcikge1xuICByZXR1cm4gZnVuY3Rpb24gKGNhbGwsIGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKGFsbG93U2NhbGFyICYmIHR5cGVvZiByaWdodCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKHR5cGVvZiBsZWZ0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBvcGVyYXRpb24obGVmdCwgcmlnaHQpO1xuICAgICAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMikge1xuICAgICAgICByZXR1cm4gQ2FydGVzaWFuMi5mcm9tRWxlbWVudHMoXG4gICAgICAgICAgb3BlcmF0aW9uKGxlZnQueCwgcmlnaHQpLFxuICAgICAgICAgIG9wZXJhdGlvbihsZWZ0LnksIHJpZ2h0KSxcbiAgICAgICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMpIHtcbiAgICAgICAgcmV0dXJuIENhcnRlc2lhbjMuZnJvbUVsZW1lbnRzKFxuICAgICAgICAgIG9wZXJhdGlvbihsZWZ0LngsIHJpZ2h0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodCksXG4gICAgICAgICAgb3BlcmF0aW9uKGxlZnQueiwgcmlnaHQpLFxuICAgICAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjMoKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCkge1xuICAgICAgICByZXR1cm4gQ2FydGVzaWFuNC5mcm9tRWxlbWVudHMoXG4gICAgICAgICAgb3BlcmF0aW9uKGxlZnQueCwgcmlnaHQpLFxuICAgICAgICAgIG9wZXJhdGlvbihsZWZ0LnksIHJpZ2h0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC56LCByaWdodCksXG4gICAgICAgICAgb3BlcmF0aW9uKGxlZnQudywgcmlnaHQpLFxuICAgICAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjQoKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBvcGVyYXRpb24obGVmdCwgcmlnaHQpO1xuICAgIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yKSB7XG4gICAgICByZXR1cm4gQ2FydGVzaWFuMi5mcm9tRWxlbWVudHMoXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LngsIHJpZ2h0LngpLFxuICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodC55KSxcbiAgICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMigpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgICByZXR1cm4gQ2FydGVzaWFuMy5mcm9tRWxlbWVudHMoXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LngsIHJpZ2h0LngpLFxuICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodC55KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueiwgcmlnaHQueiksXG4gICAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjMoKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40ICYmIHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCkge1xuICAgICAgcmV0dXJuIENhcnRlc2lhbjQuZnJvbUVsZW1lbnRzKFxuICAgICAgICBvcGVyYXRpb24obGVmdC54LCByaWdodC54KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueSwgcmlnaHQueSksXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LnosIHJpZ2h0LnopLFxuICAgICAgICBvcGVyYXRpb24obGVmdC53LCByaWdodC53KSxcbiAgICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpXG4gICAgICApO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAnRnVuY3Rpb24gXCInICtcbiAgICAgICAgY2FsbCArXG4gICAgICAgICdcIiByZXF1aXJlcyB2ZWN0b3Igb3IgbnVtYmVyIGFyZ3VtZW50cyBvZiBtYXRjaGluZyB0eXBlcy4gQXJndW1lbnRzIGFyZSAnICtcbiAgICAgICAgbGVmdCArXG4gICAgICAgIFwiIGFuZCBcIiArXG4gICAgICAgIHJpZ2h0ICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRFdmFsdWF0ZVRlcm5hcnlDb21wb25lbnR3aXNlKG9wZXJhdGlvbiwgYWxsb3dTY2FsYXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsLCBsZWZ0LCByaWdodCwgdGVzdCkge1xuICAgIGlmIChhbGxvd1NjYWxhciAmJiB0eXBlb2YgdGVzdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKHR5cGVvZiBsZWZ0ID09PSBcIm51bWJlclwiICYmIHR5cGVvZiByaWdodCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4gb3BlcmF0aW9uKGxlZnQsIHJpZ2h0LCB0ZXN0KTtcbiAgICAgIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yKSB7XG4gICAgICAgIHJldHVybiBDYXJ0ZXNpYW4yLmZyb21FbGVtZW50cyhcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC54LCByaWdodC54LCB0ZXN0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodC55LCB0ZXN0KSxcbiAgICAgICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgICAgIHJldHVybiBDYXJ0ZXNpYW4zLmZyb21FbGVtZW50cyhcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC54LCByaWdodC54LCB0ZXN0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodC55LCB0ZXN0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC56LCByaWdodC56LCB0ZXN0KSxcbiAgICAgICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjQgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgICAgIHJldHVybiBDYXJ0ZXNpYW40LmZyb21FbGVtZW50cyhcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC54LCByaWdodC54LCB0ZXN0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodC55LCB0ZXN0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC56LCByaWdodC56LCB0ZXN0KSxcbiAgICAgICAgICBvcGVyYXRpb24obGVmdC53LCByaWdodC53LCB0ZXN0KSxcbiAgICAgICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW40KClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgdHlwZW9mIHJpZ2h0ID09PSBcIm51bWJlclwiICYmXG4gICAgICB0eXBlb2YgdGVzdCA9PT0gXCJudW1iZXJcIlxuICAgICkge1xuICAgICAgcmV0dXJuIG9wZXJhdGlvbihsZWZ0LCByaWdodCwgdGVzdCk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yICYmXG4gICAgICByaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiZcbiAgICAgIHRlc3QgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yXG4gICAgKSB7XG4gICAgICByZXR1cm4gQ2FydGVzaWFuMi5mcm9tRWxlbWVudHMoXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LngsIHJpZ2h0LngsIHRlc3QueCksXG4gICAgICAgIG9wZXJhdGlvbihsZWZ0LnksIHJpZ2h0LnksIHRlc3QueSksXG4gICAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjIoKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgJiZcbiAgICAgIHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyAmJlxuICAgICAgdGVzdCBpbnN0YW5jZW9mIENhcnRlc2lhbjNcbiAgICApIHtcbiAgICAgIHJldHVybiBDYXJ0ZXNpYW4zLmZyb21FbGVtZW50cyhcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueCwgcmlnaHQueCwgdGVzdC54KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueSwgcmlnaHQueSwgdGVzdC55KSxcbiAgICAgICAgb3BlcmF0aW9uKGxlZnQueiwgcmlnaHQueiwgdGVzdC56KSxcbiAgICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMygpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJlxuICAgICAgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40ICYmXG4gICAgICB0ZXN0IGluc3RhbmNlb2YgQ2FydGVzaWFuNFxuICAgICkge1xuICAgICAgcmV0dXJuIENhcnRlc2lhbjQuZnJvbUVsZW1lbnRzKFxuICAgICAgICBvcGVyYXRpb24obGVmdC54LCByaWdodC54LCB0ZXN0LngpLFxuICAgICAgICBvcGVyYXRpb24obGVmdC55LCByaWdodC55LCB0ZXN0LnkpLFxuICAgICAgICBvcGVyYXRpb24obGVmdC56LCByaWdodC56LCB0ZXN0LnopLFxuICAgICAgICBvcGVyYXRpb24obGVmdC53LCByaWdodC53LCB0ZXN0LncpLFxuICAgICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW40KClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICdGdW5jdGlvbiBcIicgK1xuICAgICAgICBjYWxsICtcbiAgICAgICAgJ1wiIHJlcXVpcmVzIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnRzIG9mIG1hdGNoaW5nIHR5cGVzLiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIsIFwiICtcbiAgICAgICAgcmlnaHQgK1xuICAgICAgICBcIiwgYW5kIFwiICtcbiAgICAgICAgdGVzdCArXG4gICAgICAgIFwiLlwiXG4gICAgKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbGVuZ3RoKGNhbGwsIGxlZnQpIHtcbiAgaWYgKHR5cGVvZiBsZWZ0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKGxlZnQpO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjIubWFnbml0dWRlKGxlZnQpO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMubWFnbml0dWRlKGxlZnQpO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjQubWFnbml0dWRlKGxlZnQpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAnRnVuY3Rpb24gXCInICtcbiAgICAgIGNhbGwgK1xuICAgICAgJ1wiIHJlcXVpcmVzIGEgdmVjdG9yIG9yIG51bWJlciBhcmd1bWVudC4gQXJndW1lbnQgaXMgJyArXG4gICAgICBsZWZ0ICtcbiAgICAgIFwiLlwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShjYWxsLCBsZWZ0KSB7XG4gIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiAxLjA7XG4gIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMi5ub3JtYWxpemUobGVmdCwgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMigpKTtcbiAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLm5vcm1hbGl6ZShsZWZ0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKCkpO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjQubm9ybWFsaXplKGxlZnQsIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjQoKSk7XG4gIH1cblxuICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICdGdW5jdGlvbiBcIicgK1xuICAgICAgY2FsbCArXG4gICAgICAnXCIgcmVxdWlyZXMgYSB2ZWN0b3Igb3IgbnVtYmVyIGFyZ3VtZW50LiBBcmd1bWVudCBpcyAnICtcbiAgICAgIGxlZnQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gZGlzdGFuY2UoY2FsbCwgbGVmdCwgcmlnaHQpIHtcbiAgaWYgKHR5cGVvZiBsZWZ0ID09PSBcIm51bWJlclwiICYmIHR5cGVvZiByaWdodCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBNYXRoLmFicyhsZWZ0IC0gcmlnaHQpO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yICYmIHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4yLmRpc3RhbmNlKGxlZnQsIHJpZ2h0KTtcbiAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyAmJiByaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjMpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMy5kaXN0YW5jZShsZWZ0LCByaWdodCk7XG4gIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjQgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjQuZGlzdGFuY2UobGVmdCwgcmlnaHQpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAnRnVuY3Rpb24gXCInICtcbiAgICAgIGNhbGwgK1xuICAgICAgJ1wiIHJlcXVpcmVzIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnRzIG9mIG1hdGNoaW5nIHR5cGVzLiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIiBhbmQgXCIgK1xuICAgICAgcmlnaHQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gZG90KGNhbGwsIGxlZnQsIHJpZ2h0KSB7XG4gIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbGVmdCAqIHJpZ2h0O1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yICYmIHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4yLmRvdChsZWZ0LCByaWdodCk7XG4gIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgJiYgcmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMuZG90KGxlZnQsIHJpZ2h0KTtcbiAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJiByaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjQpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuNC5kb3QobGVmdCwgcmlnaHQpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAnRnVuY3Rpb24gXCInICtcbiAgICAgIGNhbGwgK1xuICAgICAgJ1wiIHJlcXVpcmVzIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnRzIG9mIG1hdGNoaW5nIHR5cGVzLiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIiBhbmQgXCIgK1xuICAgICAgcmlnaHQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gY3Jvc3MoY2FsbCwgbGVmdCwgcmlnaHQpIHtcbiAgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zICYmIHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLmNyb3NzKGxlZnQsIHJpZ2h0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKCkpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAnRnVuY3Rpb24gXCInICtcbiAgICAgIGNhbGwgK1xuICAgICAgJ1wiIHJlcXVpcmVzIHZlYzMgYXJndW1lbnRzLiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIiBhbmQgXCIgK1xuICAgICAgcmlnaHQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gTm9kZSh0eXBlLCB2YWx1ZSwgbGVmdCwgcmlnaHQsIHRlc3QpIHtcbiAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gIHRoaXMuX2xlZnQgPSBsZWZ0O1xuICB0aGlzLl9yaWdodCA9IHJpZ2h0O1xuICB0aGlzLl90ZXN0ID0gdGVzdDtcbiAgdGhpcy5ldmFsdWF0ZSA9IHVuZGVmaW5lZDtcblxuICBzZXRFdmFsdWF0ZUZ1bmN0aW9uKHRoaXMpO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlRGVmaW5lcyhleHByZXNzaW9uLCBkZWZpbmVzKSB7XG4gIGlmICghZGVmaW5lZChkZWZpbmVzKSkge1xuICAgIHJldHVybiBleHByZXNzaW9uO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbmVzKSB7XG4gICAgaWYgKGRlZmluZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFyIGRlZmluZVBsYWNlaG9sZGVyID0gbmV3IFJlZ0V4cChcIlxcXFwkXFxcXHtcIiArIGtleSArIFwiXFxcXH1cIiwgXCJnXCIpO1xuICAgICAgdmFyIGRlZmluZVJlcGxhY2UgPSBcIihcIiArIGRlZmluZXNba2V5XSArIFwiKVwiO1xuICAgICAgaWYgKGRlZmluZWQoZGVmaW5lUmVwbGFjZSkpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZShkZWZpbmVQbGFjZWhvbGRlciwgZGVmaW5lUmVwbGFjZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBleHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiByZW1vdmVCYWNrc2xhc2hlcyhleHByZXNzaW9uKSB7XG4gIHJldHVybiBleHByZXNzaW9uLnJlcGxhY2UoYmFja3NsYXNoUmVnZXgsIGJhY2tzbGFzaFJlcGxhY2VtZW50KTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZUJhY2tzbGFzaGVzKGV4cHJlc3Npb24pIHtcbiAgcmV0dXJuIGV4cHJlc3Npb24ucmVwbGFjZShyZXBsYWNlbWVudFJlZ2V4LCBcIlxcXFxcIik7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VWYXJpYWJsZXMoZXhwcmVzc2lvbikge1xuICB2YXIgZXhwID0gZXhwcmVzc2lvbjtcbiAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gIHZhciBpID0gZXhwLmluZGV4T2YoXCIke1wiKTtcbiAgd2hpbGUgKGkgPj0gMCkge1xuICAgIC8vIENoZWNrIGlmIHN0cmluZyBpcyBpbnNpZGUgcXVvdGVzXG4gICAgdmFyIG9wZW5TaW5nbGVRdW90ZSA9IGV4cC5pbmRleE9mKFwiJ1wiKTtcbiAgICB2YXIgb3BlbkRvdWJsZVF1b3RlID0gZXhwLmluZGV4T2YoJ1wiJyk7XG4gICAgdmFyIGNsb3NlUXVvdGU7XG4gICAgaWYgKG9wZW5TaW5nbGVRdW90ZSA+PSAwICYmIG9wZW5TaW5nbGVRdW90ZSA8IGkpIHtcbiAgICAgIGNsb3NlUXVvdGUgPSBleHAuaW5kZXhPZihcIidcIiwgb3BlblNpbmdsZVF1b3RlICsgMSk7XG4gICAgICByZXN1bHQgKz0gZXhwLnN1YnN0cigwLCBjbG9zZVF1b3RlICsgMSk7XG4gICAgICBleHAgPSBleHAuc3Vic3RyKGNsb3NlUXVvdGUgKyAxKTtcbiAgICAgIGkgPSBleHAuaW5kZXhPZihcIiR7XCIpO1xuICAgIH0gZWxzZSBpZiAob3BlbkRvdWJsZVF1b3RlID49IDAgJiYgb3BlbkRvdWJsZVF1b3RlIDwgaSkge1xuICAgICAgY2xvc2VRdW90ZSA9IGV4cC5pbmRleE9mKCdcIicsIG9wZW5Eb3VibGVRdW90ZSArIDEpO1xuICAgICAgcmVzdWx0ICs9IGV4cC5zdWJzdHIoMCwgY2xvc2VRdW90ZSArIDEpO1xuICAgICAgZXhwID0gZXhwLnN1YnN0cihjbG9zZVF1b3RlICsgMSk7XG4gICAgICBpID0gZXhwLmluZGV4T2YoXCIke1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ICs9IGV4cC5zdWJzdHIoMCwgaSk7XG4gICAgICB2YXIgaiA9IGV4cC5pbmRleE9mKFwifVwiKTtcbiAgICAgIGlmIChqIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFwiVW5tYXRjaGVkIHsuXCIpO1xuICAgICAgfVxuICAgICAgcmVzdWx0ICs9IFwiY3ptX1wiICsgZXhwLnN1YnN0cihpICsgMiwgaiAtIChpICsgMikpO1xuICAgICAgZXhwID0gZXhwLnN1YnN0cihqICsgMSk7XG4gICAgICBpID0gZXhwLmluZGV4T2YoXCIke1wiKTtcbiAgICB9XG4gIH1cbiAgcmVzdWx0ICs9IGV4cDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VMaXRlcmFsKGFzdCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiBhc3QudmFsdWU7XG4gIGlmIChhc3QudmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfTlVMTCwgbnVsbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQk9PTEVBTiwgYXN0LnZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX05VTUJFUiwgYXN0LnZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKGFzdC52YWx1ZS5pbmRleE9mKFwiJHtcIikgPj0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5WQVJJQUJMRV9JTl9TVFJJTkcsIGFzdC52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZShcbiAgICAgIEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1NUUklORyxcbiAgICAgIHJlcGxhY2VCYWNrc2xhc2hlcyhhc3QudmFsdWUpXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUNhbGwoZXhwcmVzc2lvbiwgYXN0KSB7XG4gIHZhciBhcmdzID0gYXN0LmFyZ3VtZW50cztcbiAgdmFyIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgdmFyIGNhbGw7XG4gIHZhciB2YWwsIGxlZnQsIHJpZ2h0O1xuXG4gIC8vIE1lbWJlciBmdW5jdGlvbiBjYWxsc1xuICBpZiAoYXN0LmNhbGxlZS50eXBlID09PSBcIk1lbWJlckV4cHJlc3Npb25cIikge1xuICAgIGNhbGwgPSBhc3QuY2FsbGVlLnByb3BlcnR5Lm5hbWU7XG4gICAgdmFyIG9iamVjdCA9IGFzdC5jYWxsZWUub2JqZWN0O1xuICAgIGlmIChjYWxsID09PSBcInRlc3RcIiB8fCBjYWxsID09PSBcImV4ZWNcIikge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgaXMgY2FsbGVkIG9uIGEgdmFsaWQgdHlwZVxuICAgICAgaWYgKG9iamVjdC5jYWxsZWUubmFtZSAhPT0gXCJyZWdFeHBcIikge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKGNhbGwgKyBcIiBpcyBub3QgYSBmdW5jdGlvbi5cIik7XG4gICAgICB9XG4gICAgICBpZiAoYXJnc0xlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoY2FsbCA9PT0gXCJ0ZXN0XCIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQk9PTEVBTiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9OVUxMLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGxlZnQgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIG9iamVjdCk7XG4gICAgICByaWdodCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1swXSk7XG4gICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkZVTkNUSU9OX0NBTEwsIGNhbGwsIGxlZnQsIHJpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKGNhbGwgPT09IFwidG9TdHJpbmdcIikge1xuICAgICAgdmFsID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBvYmplY3QpO1xuICAgICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5GVU5DVElPTl9DQUxMLCBjYWxsLCB2YWwpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoJ1VuZXhwZWN0ZWQgZnVuY3Rpb24gY2FsbCBcIicgKyBjYWxsICsgJ1wiLicpO1xuICB9XG5cbiAgLy8gTm9uLW1lbWJlciBmdW5jdGlvbiBjYWxsc1xuICBjYWxsID0gYXN0LmNhbGxlZS5uYW1lO1xuICBpZiAoY2FsbCA9PT0gXCJjb2xvclwiKSB7XG4gICAgaWYgKGFyZ3NMZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9DT0xPUiwgY2FsbCk7XG4gICAgfVxuICAgIHZhbCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1swXSk7XG4gICAgaWYgKGRlZmluZWQoYXJnc1sxXSkpIHtcbiAgICAgIHZhciBhbHBoYSA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1sxXSk7XG4gICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQ09MT1IsIGNhbGwsIFt2YWwsIGFscGhhXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9DT0xPUiwgY2FsbCwgW3ZhbF0pO1xuICB9IGVsc2UgaWYgKGNhbGwgPT09IFwicmdiXCIgfHwgY2FsbCA9PT0gXCJoc2xcIikge1xuICAgIGlmIChhcmdzTGVuZ3RoIDwgMykge1xuICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihjYWxsICsgXCIgcmVxdWlyZXMgdGhyZWUgYXJndW1lbnRzLlwiKTtcbiAgICB9XG4gICAgdmFsID0gW1xuICAgICAgY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhcmdzWzBdKSxcbiAgICAgIGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1sxXSksXG4gICAgICBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMl0pLFxuICAgIF07XG4gICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX0NPTE9SLCBjYWxsLCB2YWwpO1xuICB9IGVsc2UgaWYgKGNhbGwgPT09IFwicmdiYVwiIHx8IGNhbGwgPT09IFwiaHNsYVwiKSB7XG4gICAgaWYgKGFyZ3NMZW5ndGggPCA0KSB7XG4gICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKGNhbGwgKyBcIiByZXF1aXJlcyBmb3VyIGFyZ3VtZW50cy5cIik7XG4gICAgfVxuICAgIHZhbCA9IFtcbiAgICAgIGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1swXSksXG4gICAgICBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMV0pLFxuICAgICAgY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhcmdzWzJdKSxcbiAgICAgIGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1szXSksXG4gICAgXTtcbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQ09MT1IsIGNhbGwsIHZhbCk7XG4gIH0gZWxzZSBpZiAoY2FsbCA9PT0gXCJ2ZWMyXCIgfHwgY2FsbCA9PT0gXCJ2ZWMzXCIgfHwgY2FsbCA9PT0gXCJ2ZWM0XCIpIHtcbiAgICAvLyBDaGVjayBmb3IgaW52YWxpZCBjb25zdHJ1Y3RvcnMgYXQgZXZhbHVhdGlvbiB0aW1lXG4gICAgdmFsID0gbmV3IEFycmF5KGFyZ3NMZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJnc0xlbmd0aDsgKytpKSB7XG4gICAgICB2YWxbaV0gPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfVkVDVE9SLCBjYWxsLCB2YWwpO1xuICB9IGVsc2UgaWYgKGNhbGwgPT09IFwiaXNOYU5cIiB8fCBjYWxsID09PSBcImlzRmluaXRlXCIpIHtcbiAgICBpZiAoYXJnc0xlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGNhbGwgPT09IFwiaXNOYU5cIikge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQk9PTEVBTiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQk9PTEVBTiwgZmFsc2UpO1xuICAgIH1cbiAgICB2YWwgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMF0pO1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuVU5BUlksIGNhbGwsIHZhbCk7XG4gIH0gZWxzZSBpZiAoY2FsbCA9PT0gXCJpc0V4YWN0Q2xhc3NcIiB8fCBjYWxsID09PSBcImlzQ2xhc3NcIikge1xuICAgIGlmIChhcmdzTGVuZ3RoIDwgMSB8fCBhcmdzTGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihjYWxsICsgXCIgcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQuXCIpO1xuICAgIH1cbiAgICB2YWwgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMF0pO1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuVU5BUlksIGNhbGwsIHZhbCk7XG4gIH0gZWxzZSBpZiAoY2FsbCA9PT0gXCJnZXRFeGFjdENsYXNzTmFtZVwiKSB7XG4gICAgaWYgKGFyZ3NMZW5ndGggPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKGNhbGwgKyBcIiBkb2VzIG5vdCB0YWtlIGFueSBhcmd1bWVudC5cIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuVU5BUlksIGNhbGwpO1xuICB9IGVsc2UgaWYgKGRlZmluZWQodW5hcnlGdW5jdGlvbnNbY2FsbF0pKSB7XG4gICAgaWYgKGFyZ3NMZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoY2FsbCArIFwiIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gICAgdmFsID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhcmdzWzBdKTtcbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlVOQVJZLCBjYWxsLCB2YWwpO1xuICB9IGVsc2UgaWYgKGRlZmluZWQoYmluYXJ5RnVuY3Rpb25zW2NhbGxdKSkge1xuICAgIGlmIChhcmdzTGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKGNhbGwgKyBcIiByZXF1aXJlcyBleGFjdGx5IHR3byBhcmd1bWVudHMuXCIpO1xuICAgIH1cbiAgICBsZWZ0ID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhcmdzWzBdKTtcbiAgICByaWdodCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1sxXSk7XG4gICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5CSU5BUlksIGNhbGwsIGxlZnQsIHJpZ2h0KTtcbiAgfSBlbHNlIGlmIChkZWZpbmVkKHRlcm5hcnlGdW5jdGlvbnNbY2FsbF0pKSB7XG4gICAgaWYgKGFyZ3NMZW5ndGggIT09IDMpIHtcbiAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoY2FsbCArIFwiIHJlcXVpcmVzIGV4YWN0bHkgdGhyZWUgYXJndW1lbnRzLlwiKTtcbiAgICB9XG4gICAgbGVmdCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1swXSk7XG4gICAgcmlnaHQgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMV0pO1xuICAgIHZhciB0ZXN0ID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhcmdzWzJdKTtcbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlRFUk5BUlksIGNhbGwsIGxlZnQsIHJpZ2h0LCB0ZXN0KTtcbiAgfSBlbHNlIGlmIChjYWxsID09PSBcIkJvb2xlYW5cIikge1xuICAgIGlmIChhcmdzTGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQk9PTEVBTiwgZmFsc2UpO1xuICAgIH1cbiAgICB2YWwgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMF0pO1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuVU5BUlksIGNhbGwsIHZhbCk7XG4gIH0gZWxzZSBpZiAoY2FsbCA9PT0gXCJOdW1iZXJcIikge1xuICAgIGlmIChhcmdzTGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfTlVNQkVSLCAwKTtcbiAgICB9XG4gICAgdmFsID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhcmdzWzBdKTtcbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlVOQVJZLCBjYWxsLCB2YWwpO1xuICB9IGVsc2UgaWYgKGNhbGwgPT09IFwiU3RyaW5nXCIpIHtcbiAgICBpZiAoYXJnc0xlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1NUUklORywgXCJcIik7XG4gICAgfVxuICAgIHZhbCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1swXSk7XG4gICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5VTkFSWSwgY2FsbCwgdmFsKTtcbiAgfSBlbHNlIGlmIChjYWxsID09PSBcInJlZ0V4cFwiKSB7XG4gICAgcmV0dXJuIHBhcnNlUmVnZXgoZXhwcmVzc2lvbiwgYXN0KTtcbiAgfVxuXG4gIHRocm93IG5ldyBSdW50aW1lRXJyb3IoJ1VuZXhwZWN0ZWQgZnVuY3Rpb24gY2FsbCBcIicgKyBjYWxsICsgJ1wiLicpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVJlZ2V4KGV4cHJlc3Npb24sIGFzdCkge1xuICB2YXIgYXJncyA9IGFzdC5hcmd1bWVudHM7XG4gIC8vIG5vIGFyZ3VtZW50cywgcmV0dXJuIGRlZmF1bHQgcmVnZXhcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1JFR0VYLCBuZXcgUmVnRXhwKCkpO1xuICB9XG5cbiAgdmFyIHBhdHRlcm4gPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFyZ3NbMF0pO1xuICB2YXIgZXhwO1xuXG4gIC8vIG9wdGlvbmFsIGZsYWcgYXJndW1lbnQgc3VwcGxpZWRcbiAgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xuICAgIHZhciBmbGFncyA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXJnc1sxXSk7XG4gICAgaWYgKGlzTGl0ZXJhbFR5cGUocGF0dGVybikgJiYgaXNMaXRlcmFsVHlwZShmbGFncykpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGV4cCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgcmVwbGFjZUJhY2tzbGFzaGVzKFN0cmluZyhwYXR0ZXJuLl92YWx1ZSkpLFxuICAgICAgICAgIGZsYWdzLl92YWx1ZVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1JFR0VYLCBleHApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlJFR0VYLCBwYXR0ZXJuLCBmbGFncyk7XG4gIH1cblxuICAvLyBvbmx5IHBhdHRlcm4gYXJndW1lbnQgc3VwcGxpZWRcbiAgaWYgKGlzTGl0ZXJhbFR5cGUocGF0dGVybikpIHtcbiAgICB0cnkge1xuICAgICAgZXhwID0gbmV3IFJlZ0V4cChyZXBsYWNlQmFja3NsYXNoZXMoU3RyaW5nKHBhdHRlcm4uX3ZhbHVlKSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9SRUdFWCwgZXhwKTtcbiAgfVxuICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlJFR0VYLCBwYXR0ZXJuKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VLZXl3b3Jkc0FuZFZhcmlhYmxlcyhhc3QpIHtcbiAgaWYgKGlzVmFyaWFibGUoYXN0Lm5hbWUpKSB7XG4gICAgdmFyIG5hbWUgPSBnZXRQcm9wZXJ0eU5hbWUoYXN0Lm5hbWUpO1xuICAgIGlmIChuYW1lLnN1YnN0cigwLCA4KSA9PT0gXCJ0aWxlczNkX1wiKSB7XG4gICAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkJVSUxUSU5fVkFSSUFCTEUsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlZBUklBQkxFLCBuYW1lKTtcbiAgfSBlbHNlIGlmIChhc3QubmFtZSA9PT0gXCJOYU5cIikge1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9OVU1CRVIsIE5hTik7XG4gIH0gZWxzZSBpZiAoYXN0Lm5hbWUgPT09IFwiSW5maW5pdHlcIikge1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9OVU1CRVIsIEluZmluaXR5KTtcbiAgfSBlbHNlIGlmIChhc3QubmFtZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9VTkRFRklORUQsIHVuZGVmaW5lZCk7XG4gIH1cblxuICB0aHJvdyBuZXcgUnVudGltZUVycm9yKGFzdC5uYW1lICsgXCIgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1hdGhDb25zdGFudChhc3QpIHtcbiAgdmFyIG5hbWUgPSBhc3QucHJvcGVydHkubmFtZTtcbiAgaWYgKG5hbWUgPT09IFwiUElcIikge1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9OVU1CRVIsIE1hdGguUEkpO1xuICB9IGVsc2UgaWYgKG5hbWUgPT09IFwiRVwiKSB7XG4gICAgcmV0dXJuIG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX05VTUJFUiwgTWF0aC5FKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZU51bWJlckNvbnN0YW50KGFzdCkge1xuICB2YXIgbmFtZSA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xuICBpZiAobmFtZSA9PT0gXCJQT1NJVElWRV9JTkZJTklUWVwiKSB7XG4gICAgcmV0dXJuIG5ldyBOb2RlKFxuICAgICAgRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfTlVNQkVSLFxuICAgICAgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZU1lbWJlckV4cHJlc3Npb24oZXhwcmVzc2lvbiwgYXN0KSB7XG4gIGlmIChhc3Qub2JqZWN0Lm5hbWUgPT09IFwiTWF0aFwiKSB7XG4gICAgcmV0dXJuIHBhcnNlTWF0aENvbnN0YW50KGFzdCk7XG4gIH0gZWxzZSBpZiAoYXN0Lm9iamVjdC5uYW1lID09PSBcIk51bWJlclwiKSB7XG4gICAgcmV0dXJuIHBhcnNlTnVtYmVyQ29uc3RhbnQoYXN0KTtcbiAgfVxuXG4gIHZhciB2YWw7XG4gIHZhciBvYmogPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFzdC5vYmplY3QpO1xuICBpZiAoYXN0LmNvbXB1dGVkKSB7XG4gICAgdmFsID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhc3QucHJvcGVydHkpO1xuICAgIHJldHVybiBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuTUVNQkVSLCBcImJyYWNrZXRzXCIsIG9iaiwgdmFsKTtcbiAgfVxuXG4gIHZhbCA9IG5ldyBOb2RlKEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1NUUklORywgYXN0LnByb3BlcnR5Lm5hbWUpO1xuICByZXR1cm4gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLk1FTUJFUiwgXCJkb3RcIiwgb2JqLCB2YWwpO1xufVxuXG5mdW5jdGlvbiBpc0xpdGVyYWxUeXBlKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuX3R5cGUgPj0gRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfTlVMTDtcbn1cblxuZnVuY3Rpb24gaXNWYXJpYWJsZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLnN1YnN0cigwLCA0KSA9PT0gXCJjem1fXCI7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnR5TmFtZSh2YXJpYWJsZSkge1xuICByZXR1cm4gdmFyaWFibGUuc3Vic3RyKDQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFzdCkge1xuICB2YXIgbm9kZTtcbiAgdmFyIG9wO1xuICB2YXIgbGVmdDtcbiAgdmFyIHJpZ2h0O1xuXG4gIGlmIChhc3QudHlwZSA9PT0gXCJMaXRlcmFsXCIpIHtcbiAgICBub2RlID0gcGFyc2VMaXRlcmFsKGFzdCk7XG4gIH0gZWxzZSBpZiAoYXN0LnR5cGUgPT09IFwiQ2FsbEV4cHJlc3Npb25cIikge1xuICAgIG5vZGUgPSBwYXJzZUNhbGwoZXhwcmVzc2lvbiwgYXN0KTtcbiAgfSBlbHNlIGlmIChhc3QudHlwZSA9PT0gXCJJZGVudGlmaWVyXCIpIHtcbiAgICBub2RlID0gcGFyc2VLZXl3b3Jkc0FuZFZhcmlhYmxlcyhhc3QpO1xuICB9IGVsc2UgaWYgKGFzdC50eXBlID09PSBcIlVuYXJ5RXhwcmVzc2lvblwiKSB7XG4gICAgb3AgPSBhc3Qub3BlcmF0b3I7XG4gICAgdmFyIGNoaWxkID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhc3QuYXJndW1lbnQpO1xuICAgIGlmICh1bmFyeU9wZXJhdG9ycy5pbmRleE9mKG9wKSA+IC0xKSB7XG4gICAgICBub2RlID0gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLlVOQVJZLCBvcCwgY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKCdVbmV4cGVjdGVkIG9wZXJhdG9yIFwiJyArIG9wICsgJ1wiLicpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhc3QudHlwZSA9PT0gXCJCaW5hcnlFeHByZXNzaW9uXCIpIHtcbiAgICBvcCA9IGFzdC5vcGVyYXRvcjtcbiAgICBsZWZ0ID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhc3QubGVmdCk7XG4gICAgcmlnaHQgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFzdC5yaWdodCk7XG4gICAgaWYgKGJpbmFyeU9wZXJhdG9ycy5pbmRleE9mKG9wKSA+IC0xKSB7XG4gICAgICBub2RlID0gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkJJTkFSWSwgb3AsIGxlZnQsIHJpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcignVW5leHBlY3RlZCBvcGVyYXRvciBcIicgKyBvcCArICdcIi4nKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYXN0LnR5cGUgPT09IFwiTG9naWNhbEV4cHJlc3Npb25cIikge1xuICAgIG9wID0gYXN0Lm9wZXJhdG9yO1xuICAgIGxlZnQgPSBjcmVhdGVSdW50aW1lQXN0KGV4cHJlc3Npb24sIGFzdC5sZWZ0KTtcbiAgICByaWdodCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXN0LnJpZ2h0KTtcbiAgICBpZiAoYmluYXJ5T3BlcmF0b3JzLmluZGV4T2Yob3ApID4gLTEpIHtcbiAgICAgIG5vZGUgPSBuZXcgTm9kZShFeHByZXNzaW9uTm9kZVR5cGUuQklOQVJZLCBvcCwgbGVmdCwgcmlnaHQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhc3QudHlwZSA9PT0gXCJDb25kaXRpb25hbEV4cHJlc3Npb25cIikge1xuICAgIHZhciB0ZXN0ID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhc3QudGVzdCk7XG4gICAgbGVmdCA9IGNyZWF0ZVJ1bnRpbWVBc3QoZXhwcmVzc2lvbiwgYXN0LmNvbnNlcXVlbnQpO1xuICAgIHJpZ2h0ID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhc3QuYWx0ZXJuYXRlKTtcbiAgICBub2RlID0gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkNPTkRJVElPTkFMLCBcIj9cIiwgbGVmdCwgcmlnaHQsIHRlc3QpO1xuICB9IGVsc2UgaWYgKGFzdC50eXBlID09PSBcIk1lbWJlckV4cHJlc3Npb25cIikge1xuICAgIG5vZGUgPSBwYXJzZU1lbWJlckV4cHJlc3Npb24oZXhwcmVzc2lvbiwgYXN0KTtcbiAgfSBlbHNlIGlmIChhc3QudHlwZSA9PT0gXCJBcnJheUV4cHJlc3Npb25cIikge1xuICAgIHZhciB2YWwgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzdC5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsW2ldID0gY3JlYXRlUnVudGltZUFzdChleHByZXNzaW9uLCBhc3QuZWxlbWVudHNbaV0pO1xuICAgIH1cbiAgICBub2RlID0gbmV3IE5vZGUoRXhwcmVzc2lvbk5vZGVUeXBlLkFSUkFZLCB2YWwpO1xuICB9IGVsc2UgaWYgKGFzdC50eXBlID09PSBcIkNvbXBvdW5kXCIpIHtcbiAgICAvLyBlbXB0eSBleHByZXNzaW9uIG9yIG11bHRpcGxlIGV4cHJlc3Npb25zXG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcIlByb3ZpZGUgZXhhY3RseSBvbmUgZXhwcmVzc2lvbi5cIik7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcIkNhbm5vdCBwYXJzZSBleHByZXNzaW9uLlwiKTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBzZXRFdmFsdWF0ZUZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKG5vZGUuX3R5cGUgPT09IEV4cHJlc3Npb25Ob2RlVHlwZS5DT05ESVRJT05BTCkge1xuICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUNvbmRpdGlvbmFsO1xuICB9IGVsc2UgaWYgKG5vZGUuX3R5cGUgPT09IEV4cHJlc3Npb25Ob2RlVHlwZS5GVU5DVElPTl9DQUxMKSB7XG4gICAgaWYgKG5vZGUuX3ZhbHVlID09PSBcInRlc3RcIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlUmVnRXhwVGVzdDtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcImV4ZWNcIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlUmVnRXhwRXhlYztcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcInRvU3RyaW5nXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZVRvU3RyaW5nO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLl90eXBlID09PSBFeHByZXNzaW9uTm9kZVR5cGUuVU5BUlkpIHtcbiAgICBpZiAobm9kZS5fdmFsdWUgPT09IFwiIVwiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVOb3Q7XG4gICAgfSBlbHNlIGlmIChub2RlLl92YWx1ZSA9PT0gXCItXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZU5lZ2F0aXZlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiK1wiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVQb3NpdGl2ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcImlzTmFOXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZU5hTjtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcImlzRmluaXRlXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUlzRmluaXRlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiaXNFeGFjdENsYXNzXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUlzRXhhY3RDbGFzcztcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcImlzQ2xhc3NcIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlSXNDbGFzcztcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcImdldEV4YWN0Q2xhc3NOYW1lXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUdldEV4YWN0Q2xhc3NOYW1lO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiQm9vbGVhblwiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVCb29sZWFuQ29udmVyc2lvbjtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcIk51bWJlclwiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVOdW1iZXJDb252ZXJzaW9uO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZVN0cmluZ0NvbnZlcnNpb247XG4gICAgfSBlbHNlIGlmIChkZWZpbmVkKHVuYXJ5RnVuY3Rpb25zW25vZGUuX3ZhbHVlXSkpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBnZXRFdmFsdWF0ZVVuYXJ5RnVuY3Rpb24obm9kZS5fdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLl90eXBlID09PSBFeHByZXNzaW9uTm9kZVR5cGUuQklOQVJZKSB7XG4gICAgaWYgKG5vZGUuX3ZhbHVlID09PSBcIitcIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlUGx1cztcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcIi1cIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlTWludXM7XG4gICAgfSBlbHNlIGlmIChub2RlLl92YWx1ZSA9PT0gXCIqXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZVRpbWVzO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiL1wiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVEaXZpZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLl92YWx1ZSA9PT0gXCIlXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZU1vZDtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcIj09PVwiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVFcXVhbHNTdHJpY3Q7XG4gICAgfSBlbHNlIGlmIChub2RlLl92YWx1ZSA9PT0gXCIhPT1cIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlTm90RXF1YWxzU3RyaWN0O1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiPFwiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVMZXNzVGhhbjtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcIjw9XCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUxlc3NUaGFuT3JFcXVhbHM7XG4gICAgfSBlbHNlIGlmIChub2RlLl92YWx1ZSA9PT0gXCI+XCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUdyZWF0ZXJUaGFuO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiPj1cIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlR3JlYXRlclRoYW5PckVxdWFscztcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcIiYmXCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUFuZDtcbiAgICB9IGVsc2UgaWYgKG5vZGUuX3ZhbHVlID09PSBcInx8XCIpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZU9yO1xuICAgIH0gZWxzZSBpZiAobm9kZS5fdmFsdWUgPT09IFwiPX5cIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlUmVnRXhwTWF0Y2g7XG4gICAgfSBlbHNlIGlmIChub2RlLl92YWx1ZSA9PT0gXCIhflwiKSB7XG4gICAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVSZWdFeHBOb3RNYXRjaDtcbiAgICB9IGVsc2UgaWYgKGRlZmluZWQoYmluYXJ5RnVuY3Rpb25zW25vZGUuX3ZhbHVlXSkpIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBnZXRFdmFsdWF0ZUJpbmFyeUZ1bmN0aW9uKG5vZGUuX3ZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobm9kZS5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLlRFUk5BUlkpIHtcbiAgICBub2RlLmV2YWx1YXRlID0gZ2V0RXZhbHVhdGVUZXJuYXJ5RnVuY3Rpb24obm9kZS5fdmFsdWUpO1xuICB9IGVsc2UgaWYgKG5vZGUuX3R5cGUgPT09IEV4cHJlc3Npb25Ob2RlVHlwZS5NRU1CRVIpIHtcbiAgICBpZiAobm9kZS5fdmFsdWUgPT09IFwiYnJhY2tldHNcIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlTWVtYmVyQnJhY2tldHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZU1lbWJlckRvdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAobm9kZS5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLkFSUkFZKSB7XG4gICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlQXJyYXk7XG4gIH0gZWxzZSBpZiAobm9kZS5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLlZBUklBQkxFKSB7XG4gICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlVmFyaWFibGU7XG4gIH0gZWxzZSBpZiAobm9kZS5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLlZBUklBQkxFX0lOX1NUUklORykge1xuICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZVZhcmlhYmxlU3RyaW5nO1xuICB9IGVsc2UgaWYgKG5vZGUuX3R5cGUgPT09IEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX0NPTE9SKSB7XG4gICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlTGl0ZXJhbENvbG9yO1xuICB9IGVsc2UgaWYgKG5vZGUuX3R5cGUgPT09IEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1ZFQ1RPUikge1xuICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUxpdGVyYWxWZWN0b3I7XG4gIH0gZWxzZSBpZiAobm9kZS5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfU1RSSU5HKSB7XG4gICAgbm9kZS5ldmFsdWF0ZSA9IG5vZGUuX2V2YWx1YXRlTGl0ZXJhbFN0cmluZztcbiAgfSBlbHNlIGlmIChub2RlLl90eXBlID09PSBFeHByZXNzaW9uTm9kZVR5cGUuUkVHRVgpIHtcbiAgICBub2RlLmV2YWx1YXRlID0gbm9kZS5fZXZhbHVhdGVSZWdFeHA7XG4gIH0gZWxzZSBpZiAobm9kZS5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLkJVSUxUSU5fVkFSSUFCTEUpIHtcbiAgICBpZiAobm9kZS5fdmFsdWUgPT09IFwidGlsZXMzZF90aWxlc2V0X3RpbWVcIikge1xuICAgICAgbm9kZS5ldmFsdWF0ZSA9IGV2YWx1YXRlVGlsZXNldFRpbWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5vZGUuZXZhbHVhdGUgPSBub2RlLl9ldmFsdWF0ZUxpdGVyYWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZhbHVhdGVUaWxlc2V0VGltZShmZWF0dXJlKSB7XG4gIGlmICghZGVmaW5lZChmZWF0dXJlKSkge1xuICAgIHJldHVybiAwLjA7XG4gIH1cbiAgcmV0dXJuIGZlYXR1cmUuY29udGVudC50aWxlc2V0LnRpbWVTaW5jZUxvYWQ7XG59XG5cbmZ1bmN0aW9uIGdldEV2YWx1YXRlVW5hcnlGdW5jdGlvbihjYWxsKSB7XG4gIHZhciBldmFsdWF0ZSA9IHVuYXJ5RnVuY3Rpb25zW2NhbGxdO1xuICByZXR1cm4gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gICAgcmV0dXJuIGV2YWx1YXRlKGNhbGwsIGxlZnQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRFdmFsdWF0ZUJpbmFyeUZ1bmN0aW9uKGNhbGwpIHtcbiAgdmFyIGV2YWx1YXRlID0gYmluYXJ5RnVuY3Rpb25zW2NhbGxdO1xuICByZXR1cm4gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gICAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gICAgcmV0dXJuIGV2YWx1YXRlKGNhbGwsIGxlZnQsIHJpZ2h0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZhbHVhdGVUZXJuYXJ5RnVuY3Rpb24oY2FsbCkge1xuICB2YXIgZXZhbHVhdGUgPSB0ZXJuYXJ5RnVuY3Rpb25zW2NhbGxdO1xuICByZXR1cm4gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gICAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gICAgdmFyIHRlc3QgPSB0aGlzLl90ZXN0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICAgIHJldHVybiBldmFsdWF0ZShjYWxsLCBsZWZ0LCByaWdodCwgdGVzdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEZlYXR1cmVQcm9wZXJ0eShmZWF0dXJlLCBuYW1lKSB7XG4gIC8vIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZSBmZWF0dXJlIGlzIG5vdCBkZWZpbmVkIG9yIHRoZSBwcm9wZXJ0eSBuYW1lIGlzIG5vdCBkZWZpbmVkIGZvciB0aGF0IGZlYXR1cmVcbiAgaWYgKGRlZmluZWQoZmVhdHVyZSkpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5nZXRQcm9wZXJ0eUluaGVyaXRlZChuYW1lKTtcbiAgfVxufVxuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVMaXRlcmFsID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fdmFsdWU7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVMaXRlcmFsQ29sb3IgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgY29sb3IgPSBzY3JhdGNoQ29sb3I7XG4gIHZhciBhcmdzID0gdGhpcy5fbGVmdDtcbiAgaWYgKHRoaXMuX3ZhbHVlID09PSBcImNvbG9yXCIpIHtcbiAgICBpZiAoIWRlZmluZWQoYXJncykpIHtcbiAgICAgIENvbG9yLmZyb21CeXRlcygyNTUsIDI1NSwgMjU1LCAyNTUsIGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xuICAgICAgQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKGFyZ3NbMF0uZXZhbHVhdGUoZmVhdHVyZSksIGNvbG9yKTtcbiAgICAgIGNvbG9yLmFscGhhID0gYXJnc1sxXS5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKGFyZ3NbMF0uZXZhbHVhdGUoZmVhdHVyZSksIGNvbG9yKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5fdmFsdWUgPT09IFwicmdiXCIpIHtcbiAgICBDb2xvci5mcm9tQnl0ZXMoXG4gICAgICBhcmdzWzBdLmV2YWx1YXRlKGZlYXR1cmUpLFxuICAgICAgYXJnc1sxXS5ldmFsdWF0ZShmZWF0dXJlKSxcbiAgICAgIGFyZ3NbMl0uZXZhbHVhdGUoZmVhdHVyZSksXG4gICAgICAyNTUsXG4gICAgICBjb2xvclxuICAgICk7XG4gIH0gZWxzZSBpZiAodGhpcy5fdmFsdWUgPT09IFwicmdiYVwiKSB7XG4gICAgLy8gY29udmVydCBiZXR3ZWVuIGNzcyBhbHBoYSAoMCB0byAxKSBhbmQgY2VzaXVtIGFscGhhICgwIHRvIDI1NSlcbiAgICB2YXIgYSA9IGFyZ3NbM10uZXZhbHVhdGUoZmVhdHVyZSkgKiAyNTU7XG4gICAgQ29sb3IuZnJvbUJ5dGVzKFxuICAgICAgYXJnc1swXS5ldmFsdWF0ZShmZWF0dXJlKSxcbiAgICAgIGFyZ3NbMV0uZXZhbHVhdGUoZmVhdHVyZSksXG4gICAgICBhcmdzWzJdLmV2YWx1YXRlKGZlYXR1cmUpLFxuICAgICAgYSxcbiAgICAgIGNvbG9yXG4gICAgKTtcbiAgfSBlbHNlIGlmICh0aGlzLl92YWx1ZSA9PT0gXCJoc2xcIikge1xuICAgIENvbG9yLmZyb21Ic2woXG4gICAgICBhcmdzWzBdLmV2YWx1YXRlKGZlYXR1cmUpLFxuICAgICAgYXJnc1sxXS5ldmFsdWF0ZShmZWF0dXJlKSxcbiAgICAgIGFyZ3NbMl0uZXZhbHVhdGUoZmVhdHVyZSksXG4gICAgICAxLjAsXG4gICAgICBjb2xvclxuICAgICk7XG4gIH0gZWxzZSBpZiAodGhpcy5fdmFsdWUgPT09IFwiaHNsYVwiKSB7XG4gICAgQ29sb3IuZnJvbUhzbChcbiAgICAgIGFyZ3NbMF0uZXZhbHVhdGUoZmVhdHVyZSksXG4gICAgICBhcmdzWzFdLmV2YWx1YXRlKGZlYXR1cmUpLFxuICAgICAgYXJnc1syXS5ldmFsdWF0ZShmZWF0dXJlKSxcbiAgICAgIGFyZ3NbM10uZXZhbHVhdGUoZmVhdHVyZSksXG4gICAgICBjb2xvclxuICAgICk7XG4gIH1cbiAgcmV0dXJuIENhcnRlc2lhbjQuZnJvbUNvbG9yKGNvbG9yLCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW40KCkpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlTGl0ZXJhbFZlY3RvciA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIC8vIEdhdGhlciB0aGUgY29tcG9uZW50cyB0aGF0IG1ha2UgdXAgdGhlIHZlY3Rvciwgd2hpY2ggaW5jbHVkZXMgY29tcG9uZW50cyBmcm9tIGludGVyaW9yIHZlY3RvcnMuXG4gIC8vIEZvciBleGFtcGxlIHZlYzMoMSwgMiwgMykgb3IgdmVjMyh2ZWMyKDEsIDIpLCAzKSBhcmUgYm90aCB2YWxpZC5cbiAgLy9cbiAgLy8gSWYgdGhlIG51bWJlciBvZiBjb21wb25lbnRzIGRvZXMgbm90IGVxdWFsIHRoZSB2ZWN0b3IncyBzaXplLCB0aGVuIGEgUnVudGltZUVycm9yIGlzIHRocm93biAtIHdpdGggdHdvIGV4Y2VwdGlvbnM6XG4gIC8vIDEuIEEgdmVjdG9yIG1heSBiZSBjb25zdHJ1Y3RlZCBmcm9tIGEgbGFyZ2VyIHZlY3RvciBhbmQgZHJvcCB0aGUgZXh0cmEgY29tcG9uZW50cy5cbiAgLy8gMi4gQSB2ZWN0b3IgbWF5IGJlIGNvbnN0cnVjdGVkIGZyb20gYSBzaW5nbGUgY29tcG9uZW50IC0gdmVjMygxKSB3aWxsIGJlY29tZSB2ZWMzKDEsIDEsIDEpLlxuICAvL1xuICAvLyBFeGFtcGxlcyBvZiBpbnZhbGlkIGNvbnN0cnVjdG9ycyBpbmNsdWRlOlxuICAvLyB2ZWM0KDEsIDIpICAgICAgICAvLyBub3QgZW5vdWdoIGNvbXBvbmVudHNcbiAgLy8gdmVjMyh2ZWMyKDEsIDIpKSAgLy8gbm90IGVub3VnaCBjb21wb25lbnRzXG4gIC8vIHZlYzMoMSwgMiwgMywgNCkgIC8vIHRvbyBtYW55IGNvbXBvbmVudHNcbiAgLy8gdmVjMih2ZWM0KDEpLCAxKSAgLy8gdG9vIG1hbnkgY29tcG9uZW50c1xuXG4gIHZhciBjb21wb25lbnRzID0gc2NyYXRjaFN0b3JhZ2UuZ2V0QXJyYXkoKTtcbiAgdmFyIGNhbGwgPSB0aGlzLl92YWx1ZTtcbiAgdmFyIGFyZ3MgPSB0aGlzLl9sZWZ0O1xuICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3NMZW5ndGg7ICsraSkge1xuICAgIHZhciB2YWx1ZSA9IGFyZ3NbaV0uZXZhbHVhdGUoZmVhdHVyZSk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tcG9uZW50cy5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ2FydGVzaWFuMikge1xuICAgICAgY29tcG9uZW50cy5wdXNoKHZhbHVlLngsIHZhbHVlLnkpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgICBjb21wb25lbnRzLnB1c2godmFsdWUueCwgdmFsdWUueSwgdmFsdWUueik7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENhcnRlc2lhbjQpIHtcbiAgICAgIGNvbXBvbmVudHMucHVzaCh2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS56LCB2YWx1ZS53KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICAgY2FsbCArXG4gICAgICAgICAgXCIgYXJndW1lbnQgbXVzdCBiZSBhIHZlY3RvciBvciBudW1iZXIuIEFyZ3VtZW50IGlzIFwiICtcbiAgICAgICAgICB2YWx1ZSArXG4gICAgICAgICAgXCIuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbXBvbmVudHNMZW5ndGggPSBjb21wb25lbnRzLmxlbmd0aDtcbiAgdmFyIHZlY3Rvckxlbmd0aCA9IHBhcnNlSW50KGNhbGwuY2hhckF0KDMpKTtcblxuICBpZiAoY29tcG9uZW50c0xlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICBcIkludmFsaWQgXCIgKyBjYWxsICsgXCIgY29uc3RydWN0b3IuIE5vIHZhbGlkIGFyZ3VtZW50cy5cIlxuICAgICk7XG4gIH0gZWxzZSBpZiAoY29tcG9uZW50c0xlbmd0aCA8IHZlY3Rvckxlbmd0aCAmJiBjb21wb25lbnRzTGVuZ3RoID4gMSkge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICBcIkludmFsaWQgXCIgKyBjYWxsICsgXCIgY29uc3RydWN0b3IuIE5vdCBlbm91Z2ggYXJndW1lbnRzLlwiXG4gICAgKTtcbiAgfSBlbHNlIGlmIChjb21wb25lbnRzTGVuZ3RoID4gdmVjdG9yTGVuZ3RoICYmIGFyZ3NMZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgIFwiSW52YWxpZCBcIiArIGNhbGwgKyBcIiBjb25zdHJ1Y3Rvci4gVG9vIG1hbnkgYXJndW1lbnRzLlwiXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21wb25lbnRzTGVuZ3RoID09PSAxKSB7XG4gICAgLy8gQWRkIHRoZSBzYW1lIGNvbXBvbmVudCAzIG1vcmUgdGltZXNcbiAgICB2YXIgY29tcG9uZW50ID0gY29tcG9uZW50c1swXTtcbiAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50LCBjb21wb25lbnQsIGNvbXBvbmVudCk7XG4gIH1cblxuICBpZiAoY2FsbCA9PT0gXCJ2ZWMyXCIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMi5mcm9tQXJyYXkoY29tcG9uZW50cywgMCwgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMigpKTtcbiAgfSBlbHNlIGlmIChjYWxsID09PSBcInZlYzNcIikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLmZyb21BcnJheShjb21wb25lbnRzLCAwLCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKCkpO1xuICB9IGVsc2UgaWYgKGNhbGwgPT09IFwidmVjNFwiKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjQuZnJvbUFycmF5KGNvbXBvbmVudHMsIDAsIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjQoKSk7XG4gIH1cbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZUxpdGVyYWxTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl92YWx1ZTtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZVZhcmlhYmxlU3RyaW5nID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuX3ZhbHVlO1xuICB2YXIgbWF0Y2ggPSB2YXJpYWJsZVJlZ2V4LmV4ZWMocmVzdWx0KTtcbiAgd2hpbGUgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgdmFyIHBsYWNlaG9sZGVyID0gbWF0Y2hbMF07XG4gICAgdmFyIHZhcmlhYmxlTmFtZSA9IG1hdGNoWzFdO1xuICAgIHZhciBwcm9wZXJ0eSA9IGdldEZlYXR1cmVQcm9wZXJ0eShmZWF0dXJlLCB2YXJpYWJsZU5hbWUpO1xuICAgIGlmICghZGVmaW5lZChwcm9wZXJ0eSkpIHtcbiAgICAgIHByb3BlcnR5ID0gXCJcIjtcbiAgICB9XG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UocGxhY2Vob2xkZXIsIHByb3BlcnR5KTtcbiAgICBtYXRjaCA9IHZhcmlhYmxlUmVnZXguZXhlYyhyZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVWYXJpYWJsZSA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIC8vIGV2YWx1YXRlcyB0byB1bmRlZmluZWQgaWYgdGhlIHByb3BlcnR5IG5hbWUgaXMgbm90IGRlZmluZWQgZm9yIHRoYXQgZmVhdHVyZVxuICByZXR1cm4gZ2V0RmVhdHVyZVByb3BlcnR5KGZlYXR1cmUsIHRoaXMuX3ZhbHVlKTtcbn07XG5cbmZ1bmN0aW9uIGNoZWNrRmVhdHVyZShhc3QpIHtcbiAgcmV0dXJuIGFzdC5fdmFsdWUgPT09IFwiZmVhdHVyZVwiO1xufVxuXG4vLyBQRVJGT1JNQU5DRV9JREVBOiBEZXRlcm1pbmUgaWYgcGFyZW50IHByb3BlcnR5IG5lZWRzIHRvIGJlIGNvbXB1dGVkIGJlZm9yZSBydW50aW1lXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVNZW1iZXJEb3QgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICBpZiAoY2hlY2tGZWF0dXJlKHRoaXMuX2xlZnQpKSB7XG4gICAgcmV0dXJuIGdldEZlYXR1cmVQcm9wZXJ0eShmZWF0dXJlLCB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKSk7XG4gIH1cbiAgdmFyIHByb3BlcnR5ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgaWYgKCFkZWZpbmVkKHByb3BlcnR5KSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgbWVtYmVyID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmIChcbiAgICBwcm9wZXJ0eSBpbnN0YW5jZW9mIENhcnRlc2lhbjIgfHxcbiAgICBwcm9wZXJ0eSBpbnN0YW5jZW9mIENhcnRlc2lhbjMgfHxcbiAgICBwcm9wZXJ0eSBpbnN0YW5jZW9mIENhcnRlc2lhbjRcbiAgKSB7XG4gICAgLy8gVmVjdG9yIGNvbXBvbmVudHMgbWF5IGJlIGFjY2Vzc2VkIHdpdGggLnIsIC5nLCAuYiwgLmEgYW5kIGltcGxpY2l0bHkgd2l0aCAueCwgLnksIC56LCAud1xuICAgIGlmIChtZW1iZXIgPT09IFwiclwiKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHkueDtcbiAgICB9IGVsc2UgaWYgKG1lbWJlciA9PT0gXCJnXCIpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eS55O1xuICAgIH0gZWxzZSBpZiAobWVtYmVyID09PSBcImJcIikge1xuICAgICAgcmV0dXJuIHByb3BlcnR5Lno7XG4gICAgfSBlbHNlIGlmIChtZW1iZXIgPT09IFwiYVwiKSB7XG4gICAgICByZXR1cm4gcHJvcGVydHkudztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BlcnR5W21lbWJlcl07XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVNZW1iZXJCcmFja2V0cyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIGlmIChjaGVja0ZlYXR1cmUodGhpcy5fbGVmdCkpIHtcbiAgICByZXR1cm4gZ2V0RmVhdHVyZVByb3BlcnR5KGZlYXR1cmUsIHRoaXMuX3JpZ2h0LmV2YWx1YXRlKGZlYXR1cmUpKTtcbiAgfVxuICB2YXIgcHJvcGVydHkgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICBpZiAoIWRlZmluZWQocHJvcGVydHkpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBtZW1iZXIgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgaWYgKFxuICAgIHByb3BlcnR5IGluc3RhbmNlb2YgQ2FydGVzaWFuMiB8fFxuICAgIHByb3BlcnR5IGluc3RhbmNlb2YgQ2FydGVzaWFuMyB8fFxuICAgIHByb3BlcnR5IGluc3RhbmNlb2YgQ2FydGVzaWFuNFxuICApIHtcbiAgICAvLyBWZWN0b3IgY29tcG9uZW50cyBtYXkgYmUgYWNjZXNzZWQgd2l0aCBbMF1bMV1bMl1bM10sIFsnciddWydnJ11bJ2InXVsnYSddIGFuZCBpbXBsaWNpdGx5IHdpdGggWyd4J11bJ3knXVsneiddWyd3J11cbiAgICAvLyBGb3IgQ2FydGVzaWFuMiBhbmQgQ2FydGVzaWFuMyBvdXQtb2YtcmFuZ2UgY29tcG9uZW50cyB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZFxuICAgIGlmIChtZW1iZXIgPT09IDAgfHwgbWVtYmVyID09PSBcInJcIikge1xuICAgICAgcmV0dXJuIHByb3BlcnR5Lng7XG4gICAgfSBlbHNlIGlmIChtZW1iZXIgPT09IDEgfHwgbWVtYmVyID09PSBcImdcIikge1xuICAgICAgcmV0dXJuIHByb3BlcnR5Lnk7XG4gICAgfSBlbHNlIGlmIChtZW1iZXIgPT09IDIgfHwgbWVtYmVyID09PSBcImJcIikge1xuICAgICAgcmV0dXJuIHByb3BlcnR5Lno7XG4gICAgfSBlbHNlIGlmIChtZW1iZXIgPT09IDMgfHwgbWVtYmVyID09PSBcImFcIikge1xuICAgICAgcmV0dXJuIHByb3BlcnR5Lnc7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0eVttZW1iZXJdO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlQXJyYXkgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl92YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gdGhpcy5fdmFsdWVbaV0uZXZhbHVhdGUoZmVhdHVyZSk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufTtcblxuLy8gUEVSRk9STUFOQ0VfSURFQTogSGF2ZSBcImZhc3QgcGF0aFwiIGZ1bmN0aW9ucyB0aGF0IGRlYWwgb25seSB3aXRoIHNwZWNpZmljIHR5cGVzXG4vLyB0aGF0IHdlIGNhbiBhc3NpZ24gaWYgd2Uga25vdyB0aGUgdHlwZXMgYmVmb3JlIHJ1bnRpbWVcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlTm90ID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICBpZiAodHlwZW9mIGxlZnQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICdPcGVyYXRvciBcIiFcIiByZXF1aXJlcyBhIGJvb2xlYW4gYXJndW1lbnQuIEFyZ3VtZW50IGlzICcgKyBsZWZ0ICsgXCIuXCJcbiAgICApO1xuICB9XG4gIHJldHVybiAhbGVmdDtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZU5lZ2F0aXZlID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMi5uZWdhdGUobGVmdCwgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMigpKTtcbiAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLm5lZ2F0ZShsZWZ0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKCkpO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjQubmVnYXRlKGxlZnQsIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjQoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxlZnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gLWxlZnQ7XG4gIH1cblxuICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICdPcGVyYXRvciBcIi1cIiByZXF1aXJlcyBhIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnQuIEFyZ3VtZW50IGlzICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIi5cIlxuICApO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlUG9zaXRpdmUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG5cbiAgaWYgKFxuICAgICEoXG4gICAgICBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMiB8fFxuICAgICAgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgfHxcbiAgICAgIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40IHx8XG4gICAgICB0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIlxuICAgIClcbiAgKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICdPcGVyYXRvciBcIitcIiByZXF1aXJlcyBhIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnQuIEFyZ3VtZW50IGlzICcgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGxlZnQ7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVMZXNzVGhhbiA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG5cbiAgaWYgKHR5cGVvZiBsZWZ0ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiByaWdodCAhPT0gXCJudW1iZXJcIikge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAnT3BlcmF0b3IgXCI8XCIgcmVxdWlyZXMgbnVtYmVyIGFyZ3VtZW50cy4gQXJndW1lbnRzIGFyZSAnICtcbiAgICAgICAgbGVmdCArXG4gICAgICAgIFwiIGFuZCBcIiArXG4gICAgICAgIHJpZ2h0ICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGxlZnQgPCByaWdodDtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZUxlc3NUaGFuT3JFcXVhbHMgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIHZhciByaWdodCA9IHRoaXMuX3JpZ2h0LmV2YWx1YXRlKGZlYXR1cmUpO1xuXG4gIGlmICh0eXBlb2YgbGVmdCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgcmlnaHQgIT09IFwibnVtYmVyXCIpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgJ09wZXJhdG9yIFwiPD1cIiByZXF1aXJlcyBudW1iZXIgYXJndW1lbnRzLiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIgYW5kIFwiICtcbiAgICAgICAgcmlnaHQgK1xuICAgICAgICBcIi5cIlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbGVmdCA8PSByaWdodDtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZUdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcblxuICBpZiAodHlwZW9mIGxlZnQgIT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHJpZ2h0ICE9PSBcIm51bWJlclwiKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICdPcGVyYXRvciBcIj5cIiByZXF1aXJlcyBudW1iZXIgYXJndW1lbnRzLiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIgYW5kIFwiICtcbiAgICAgICAgcmlnaHQgK1xuICAgICAgICBcIi5cIlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbGVmdCA+IHJpZ2h0O1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlR3JlYXRlclRoYW5PckVxdWFscyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG5cbiAgaWYgKHR5cGVvZiBsZWZ0ICE9PSBcIm51bWJlclwiIHx8IHR5cGVvZiByaWdodCAhPT0gXCJudW1iZXJcIikge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAnT3BlcmF0b3IgXCI+PVwiIHJlcXVpcmVzIG51bWJlciBhcmd1bWVudHMuIEFyZ3VtZW50cyBhcmUgJyArXG4gICAgICAgIGxlZnQgK1xuICAgICAgICBcIiBhbmQgXCIgK1xuICAgICAgICByaWdodCArXG4gICAgICAgIFwiLlwiXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBsZWZ0ID49IHJpZ2h0O1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlT3IgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmICh0eXBlb2YgbGVmdCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgJ09wZXJhdG9yIFwifHxcIiByZXF1aXJlcyBib29sZWFuIGFyZ3VtZW50cy4gRmlyc3QgYXJndW1lbnQgaXMgJyArXG4gICAgICAgIGxlZnQgK1xuICAgICAgICBcIi5cIlxuICAgICk7XG4gIH1cblxuICAvLyBzaG9ydCBjaXJjdWl0IHRoZSBleHByZXNzaW9uXG4gIGlmIChsZWZ0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgaWYgKHR5cGVvZiByaWdodCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgJ09wZXJhdG9yIFwifHxcIiByZXF1aXJlcyBib29sZWFuIGFyZ3VtZW50cy4gU2Vjb25kIGFyZ3VtZW50IGlzICcgK1xuICAgICAgICByaWdodCArXG4gICAgICAgIFwiLlwiXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBsZWZ0IHx8IHJpZ2h0O1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlQW5kID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICBpZiAodHlwZW9mIGxlZnQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICdPcGVyYXRvciBcIiYmXCIgcmVxdWlyZXMgYm9vbGVhbiBhcmd1bWVudHMuIEZpcnN0IGFyZ3VtZW50IGlzICcgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuICB9XG5cbiAgLy8gc2hvcnQgY2lyY3VpdCB0aGUgZXhwcmVzc2lvblxuICBpZiAoIWxlZnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgaWYgKHR5cGVvZiByaWdodCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgJ09wZXJhdG9yIFwiJiZcIiByZXF1aXJlcyBib29sZWFuIGFyZ3VtZW50cy4gU2Vjb25kIGFyZ3VtZW50IGlzICcgK1xuICAgICAgICByaWdodCArXG4gICAgICAgIFwiLlwiXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBsZWZ0ICYmIHJpZ2h0O1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlUGx1cyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMi5hZGQobGVmdCwgcmlnaHQsIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjIoKSk7XG4gIH0gZWxzZSBpZiAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zICYmIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMuYWRkKGxlZnQsIHJpZ2h0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKCkpO1xuICB9IGVsc2UgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCkge1xuICAgIHJldHVybiBDYXJ0ZXNpYW40LmFkZChsZWZ0LCByaWdodCwgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcmlnaHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAvLyBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBhIHN0cmluZyB0aGUgb3RoZXIgYXJndW1lbnQgY2FsbHMgaXRzIHRvU3RyaW5nIGZ1bmN0aW9uLlxuICAgIHJldHVybiBsZWZ0ICsgcmlnaHQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxlZnQgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIGxlZnQgKyByaWdodDtcbiAgfVxuXG4gIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgJ09wZXJhdG9yIFwiK1wiIHJlcXVpcmVzIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnRzIG9mIG1hdGNoaW5nIHR5cGVzLCBvciBhdCBsZWFzdCBvbmUgc3RyaW5nIGFyZ3VtZW50LiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIiBhbmQgXCIgK1xuICAgICAgcmlnaHQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZU1pbnVzID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMiAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4yLnN1YnRyYWN0KGxlZnQsIHJpZ2h0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKCkpO1xuICB9IGVsc2UgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLnN1YnRyYWN0KGxlZnQsIHJpZ2h0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKCkpO1xuICB9IGVsc2UgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCkge1xuICAgIHJldHVybiBDYXJ0ZXNpYW40LnN1YnRyYWN0KGxlZnQsIHJpZ2h0LCBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW40KCkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBsZWZ0ID09PSBcIm51bWJlclwiICYmIHR5cGVvZiByaWdodCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBsZWZ0IC0gcmlnaHQ7XG4gIH1cblxuICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICdPcGVyYXRvciBcIi1cIiByZXF1aXJlcyB2ZWN0b3Igb3IgbnVtYmVyIGFyZ3VtZW50cyBvZiBtYXRjaGluZyB0eXBlcy4gQXJndW1lbnRzIGFyZSAnICtcbiAgICAgIGxlZnQgK1xuICAgICAgXCIgYW5kIFwiICtcbiAgICAgIHJpZ2h0ICtcbiAgICAgIFwiLlwiXG4gICk7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVUaW1lcyA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMi5tdWx0aXBseUNvbXBvbmVudHMoXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKClcbiAgICApO1xuICB9IGVsc2UgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMiAmJiB0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4yLm11bHRpcGx5QnlTY2FsYXIoXG4gICAgICByaWdodCxcbiAgICAgIGxlZnQsXG4gICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKClcbiAgICApO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yICYmIHR5cGVvZiByaWdodCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4yLm11bHRpcGx5QnlTY2FsYXIoXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKClcbiAgICApO1xuICB9IGVsc2UgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLm11bHRpcGx5Q29tcG9uZW50cyhcbiAgICAgIGxlZnQsXG4gICAgICByaWdodCxcbiAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjMoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zICYmIHR5cGVvZiBsZWZ0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihcbiAgICAgIHJpZ2h0LFxuICAgICAgbGVmdCxcbiAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjMoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgJiYgdHlwZW9mIHJpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcihcbiAgICAgIGxlZnQsXG4gICAgICByaWdodCxcbiAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjMoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40ICYmIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjQubXVsdGlwbHlDb21wb25lbnRzKFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjQgJiYgdHlwZW9mIGxlZnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuNC5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgcmlnaHQsXG4gICAgICBsZWZ0LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJiB0eXBlb2YgcmlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuNC5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpXG4gICAgKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbGVmdCAqIHJpZ2h0O1xuICB9XG5cbiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAnT3BlcmF0b3IgXCIqXCIgcmVxdWlyZXMgdmVjdG9yIG9yIG51bWJlciBhcmd1bWVudHMuIElmIGJvdGggYXJndW1lbnRzIGFyZSB2ZWN0b3JzIHRoZXkgbXVzdCBiZSBtYXRjaGluZyB0eXBlcy4gQXJndW1lbnRzIGFyZSAnICtcbiAgICAgIGxlZnQgK1xuICAgICAgXCIgYW5kIFwiICtcbiAgICAgIHJpZ2h0ICtcbiAgICAgIFwiLlwiXG4gICk7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVEaXZpZGUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIHZhciByaWdodCA9IHRoaXMuX3JpZ2h0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICBpZiAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yICYmIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjIuZGl2aWRlQ29tcG9uZW50cyhcbiAgICAgIGxlZnQsXG4gICAgICByaWdodCxcbiAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjIoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAobGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjIuZGl2aWRlQnlTY2FsYXIoXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4yKClcbiAgICApO1xuICB9IGVsc2UgaWYgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLmRpdmlkZUNvbXBvbmVudHMoXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBzY3JhdGNoU3RvcmFnZS5nZXRDYXJ0ZXNpYW4zKClcbiAgICApO1xuICB9IGVsc2UgaWYgKGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zICYmIHR5cGVvZiByaWdodCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBDYXJ0ZXNpYW4zLmRpdmlkZUJ5U2NhbGFyKFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMygpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjQgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjQpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuNC5kaXZpZGVDb21wb25lbnRzKFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJiB0eXBlb2YgcmlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuNC5kaXZpZGVCeVNjYWxhcihcbiAgICAgIGxlZnQsXG4gICAgICByaWdodCxcbiAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjQoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxlZnQgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIGxlZnQgLyByaWdodDtcbiAgfVxuXG4gIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgJ09wZXJhdG9yIFwiL1wiIHJlcXVpcmVzIHZlY3RvciBvciBudW1iZXIgYXJndW1lbnRzIG9mIG1hdGNoaW5nIHR5cGVzLCBvciBhIG51bWJlciBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIiBhbmQgXCIgK1xuICAgICAgcmlnaHQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZU1vZCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuMi5mcm9tRWxlbWVudHMoXG4gICAgICBsZWZ0LnggJSByaWdodC54LFxuICAgICAgbGVmdC55ICUgcmlnaHQueSxcbiAgICAgIHNjcmF0Y2hTdG9yYWdlLmdldENhcnRlc2lhbjIoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zICYmIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4zKSB7XG4gICAgcmV0dXJuIENhcnRlc2lhbjMuZnJvbUVsZW1lbnRzKFxuICAgICAgbGVmdC54ICUgcmlnaHQueCxcbiAgICAgIGxlZnQueSAlIHJpZ2h0LnksXG4gICAgICBsZWZ0LnogJSByaWdodC56LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuMygpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjQgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjQpIHtcbiAgICByZXR1cm4gQ2FydGVzaWFuNC5mcm9tRWxlbWVudHMoXG4gICAgICBsZWZ0LnggJSByaWdodC54LFxuICAgICAgbGVmdC55ICUgcmlnaHQueSxcbiAgICAgIGxlZnQueiAlIHJpZ2h0LnosXG4gICAgICBsZWZ0LncgJSByaWdodC53LFxuICAgICAgc2NyYXRjaFN0b3JhZ2UuZ2V0Q2FydGVzaWFuNCgpXG4gICAgKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbGVmdCAlIHJpZ2h0O1xuICB9XG5cbiAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAnT3BlcmF0b3IgXCIlXCIgcmVxdWlyZXMgdmVjdG9yIG9yIG51bWJlciBhcmd1bWVudHMgb2YgbWF0Y2hpbmcgdHlwZXMuIEFyZ3VtZW50cyBhcmUgJyArXG4gICAgICBsZWZ0ICtcbiAgICAgIFwiIGFuZCBcIiArXG4gICAgICByaWdodCArXG4gICAgICBcIi5cIlxuICApO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlRXF1YWxzU3RyaWN0ID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgaWYgKFxuICAgIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIpIHx8XG4gICAgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMykgfHxcbiAgICAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40ICYmIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40KVxuICApIHtcbiAgICByZXR1cm4gbGVmdC5lcXVhbHMocmlnaHQpO1xuICB9XG4gIHJldHVybiBsZWZ0ID09PSByaWdodDtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZU5vdEVxdWFsc1N0cmljdCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmIChcbiAgICAocmlnaHQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yICYmIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW4yKSB8fFxuICAgIChyaWdodCBpbnN0YW5jZW9mIENhcnRlc2lhbjMgJiYgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjMpIHx8XG4gICAgKHJpZ2h0IGluc3RhbmNlb2YgQ2FydGVzaWFuNCAmJiBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuNClcbiAgKSB7XG4gICAgcmV0dXJuICFsZWZ0LmVxdWFscyhyaWdodCk7XG4gIH1cbiAgcmV0dXJuIGxlZnQgIT09IHJpZ2h0O1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlQ29uZGl0aW9uYWwgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgdGVzdCA9IHRoaXMuX3Rlc3QuZXZhbHVhdGUoZmVhdHVyZSk7XG5cbiAgaWYgKHR5cGVvZiB0ZXN0ICE9PSBcImJvb2xlYW5cIikge1xuICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICBcIkNvbmRpdGlvbmFsIGFyZ3VtZW50IG9mIGNvbmRpdGlvbmFsIGV4cHJlc3Npb24gbXVzdCBiZSBhIGJvb2xlYW4uIEFyZ3VtZW50IGlzIFwiICtcbiAgICAgICAgdGVzdCArXG4gICAgICAgIFwiLlwiXG4gICAgKTtcbiAgfVxuXG4gIGlmICh0ZXN0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX3JpZ2h0LmV2YWx1YXRlKGZlYXR1cmUpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlTmFOID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgcmV0dXJuIGlzTmFOKHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSkpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlSXNGaW5pdGUgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICByZXR1cm4gaXNGaW5pdGUodGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKSk7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVJc0V4YWN0Q2xhc3MgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICBpZiAoZGVmaW5lZChmZWF0dXJlKSkge1xuICAgIHJldHVybiBmZWF0dXJlLmlzRXhhY3RDbGFzcyh0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVJc0NsYXNzID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgaWYgKGRlZmluZWQoZmVhdHVyZSkpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5pc0NsYXNzKHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSkpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZUdldEV4YWN0Q2xhc3NOYW1lID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgaWYgKGRlZmluZWQoZmVhdHVyZSkpIHtcbiAgICByZXR1cm4gZmVhdHVyZS5nZXRFeGFjdENsYXNzTmFtZSgpO1xuICB9XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVCb29sZWFuQ29udmVyc2lvbiA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHJldHVybiBCb29sZWFuKHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSkpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlTnVtYmVyQ29udmVyc2lvbiA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHJldHVybiBOdW1iZXIodGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKSk7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVTdHJpbmdDb252ZXJzaW9uID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgcmV0dXJuIFN0cmluZyh0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpKTtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZVJlZ0V4cCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBwYXR0ZXJuID0gdGhpcy5fdmFsdWUuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIHZhciBmbGFncyA9IFwiXCI7XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fbGVmdCkpIHtcbiAgICBmbGFncyA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIH1cblxuICB2YXIgZXhwO1xuICB0cnkge1xuICAgIGV4cCA9IG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihlKTtcbiAgfVxuICByZXR1cm4gZXhwO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlUmVnRXhwVGVzdCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG5cbiAgaWYgKCEobGVmdCBpbnN0YW5jZW9mIFJlZ0V4cCAmJiB0eXBlb2YgcmlnaHQgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgIFwiUmVnRXhwLnRlc3QgcmVxdWlyZXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGEgUmVnRXhwIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgc3RyaW5nLiBBcmd1bWVudHMgYXJlIFwiICtcbiAgICAgICAgbGVmdCArXG4gICAgICAgIFwiIGFuZCBcIiArXG4gICAgICAgIHJpZ2h0ICtcbiAgICAgICAgXCIuXCJcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGxlZnQudGVzdChyaWdodCk7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVSZWdFeHBNYXRjaCA9IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG4gIHZhciBsZWZ0ID0gdGhpcy5fbGVmdC5ldmFsdWF0ZShmZWF0dXJlKTtcbiAgdmFyIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZXZhbHVhdGUoZmVhdHVyZSk7XG5cbiAgaWYgKGxlZnQgaW5zdGFuY2VvZiBSZWdFeHAgJiYgdHlwZW9mIHJpZ2h0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGxlZnQudGVzdChyaWdodCk7XG4gIH0gZWxzZSBpZiAocmlnaHQgaW5zdGFuY2VvZiBSZWdFeHAgJiYgdHlwZW9mIGxlZnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gcmlnaHQudGVzdChsZWZ0KTtcbiAgfVxuXG4gIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgJ09wZXJhdG9yIFwiPX5cIiByZXF1aXJlcyBvbmUgUmVnRXhwIGFyZ3VtZW50IGFuZCBvbmUgc3RyaW5nIGFyZ3VtZW50LiBBcmd1bWVudHMgYXJlICcgK1xuICAgICAgbGVmdCArXG4gICAgICBcIiBhbmQgXCIgK1xuICAgICAgcmlnaHQgK1xuICAgICAgXCIuXCJcbiAgKTtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9ldmFsdWF0ZVJlZ0V4cE5vdE1hdGNoID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcblxuICBpZiAobGVmdCBpbnN0YW5jZW9mIFJlZ0V4cCAmJiB0eXBlb2YgcmlnaHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gIWxlZnQudGVzdChyaWdodCk7XG4gIH0gZWxzZSBpZiAocmlnaHQgaW5zdGFuY2VvZiBSZWdFeHAgJiYgdHlwZW9mIGxlZnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gIXJpZ2h0LnRlc3QobGVmdCk7XG4gIH1cblxuICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICdPcGVyYXRvciBcIiF+XCIgcmVxdWlyZXMgb25lIFJlZ0V4cCBhcmd1bWVudCBhbmQgb25lIHN0cmluZyBhcmd1bWVudC4gQXJndW1lbnRzIGFyZSAnICtcbiAgICAgIGxlZnQgK1xuICAgICAgXCIgYW5kIFwiICtcbiAgICAgIHJpZ2h0ICtcbiAgICAgIFwiLlwiXG4gICk7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZXZhbHVhdGVSZWdFeHBFeGVjID0gZnVuY3Rpb24gKGZlYXR1cmUpIHtcbiAgdmFyIGxlZnQgPSB0aGlzLl9sZWZ0LmV2YWx1YXRlKGZlYXR1cmUpO1xuICB2YXIgcmlnaHQgPSB0aGlzLl9yaWdodC5ldmFsdWF0ZShmZWF0dXJlKTtcblxuICBpZiAoIShsZWZ0IGluc3RhbmNlb2YgUmVnRXhwICYmIHR5cGVvZiByaWdodCA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgXCJSZWdFeHAuZXhlYyByZXF1aXJlcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYmUgYSBSZWdFeHAgYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBzdHJpbmcuIEFyZ3VtZW50cyBhcmUgXCIgK1xuICAgICAgICBsZWZ0ICtcbiAgICAgICAgXCIgYW5kIFwiICtcbiAgICAgICAgcmlnaHQgK1xuICAgICAgICBcIi5cIlxuICAgICk7XG4gIH1cblxuICB2YXIgZXhlYyA9IGxlZnQuZXhlYyhyaWdodCk7XG4gIGlmICghZGVmaW5lZChleGVjKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBleGVjWzFdO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2V2YWx1YXRlVG9TdHJpbmcgPSBmdW5jdGlvbiAoZmVhdHVyZSkge1xuICB2YXIgbGVmdCA9IHRoaXMuX2xlZnQuZXZhbHVhdGUoZmVhdHVyZSk7XG4gIGlmIChcbiAgICBsZWZ0IGluc3RhbmNlb2YgUmVnRXhwIHx8XG4gICAgbGVmdCBpbnN0YW5jZW9mIENhcnRlc2lhbjIgfHxcbiAgICBsZWZ0IGluc3RhbmNlb2YgQ2FydGVzaWFuMyB8fFxuICAgIGxlZnQgaW5zdGFuY2VvZiBDYXJ0ZXNpYW40XG4gICkge1xuICAgIHJldHVybiBTdHJpbmcobGVmdCk7XG4gIH1cblxuICB0aHJvdyBuZXcgUnVudGltZUVycm9yKCdVbmV4cGVjdGVkIGZ1bmN0aW9uIGNhbGwgXCInICsgdGhpcy5fdmFsdWUgKyAnXCIuJyk7XG59O1xuXG5mdW5jdGlvbiBjb252ZXJ0SFNMVG9SR0IoYXN0KSB7XG4gIC8vIENoZWNrIGlmIHRoZSBjb2xvciBjb250YWlucyBhbnkgbmVzdGVkIGV4cHJlc3Npb25zIHRvIHNlZSBpZiB0aGUgY29sb3IgY2FuIGJlIGNvbnZlcnRlZCBoZXJlLlxuICAvLyBFLmcuIFwiaHNsKDAuOSwgMC42LCAwLjcpXCIgaXMgYWJsZSB0byBjb252ZXJ0IGRpcmVjdGx5IHRvIHJnYiwgXCJoc2woMC45LCAwLjYsICR7SGVpZ2h0fSlcIiBpcyBub3QuXG4gIHZhciBjaGFubmVscyA9IGFzdC5fbGVmdDtcbiAgdmFyIGxlbmd0aCA9IGNoYW5uZWxzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmIChjaGFubmVsc1tpXS5fdHlwZSAhPT0gRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfTlVNQkVSKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICB2YXIgaCA9IGNoYW5uZWxzWzBdLl92YWx1ZTtcbiAgdmFyIHMgPSBjaGFubmVsc1sxXS5fdmFsdWU7XG4gIHZhciBsID0gY2hhbm5lbHNbMl0uX3ZhbHVlO1xuICB2YXIgYSA9IGxlbmd0aCA9PT0gNCA/IGNoYW5uZWxzWzNdLl92YWx1ZSA6IDEuMDtcbiAgcmV0dXJuIENvbG9yLmZyb21Ic2woaCwgcywgbCwgYSwgc2NyYXRjaENvbG9yKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFJHQlRvQ29sb3IoYXN0KSB7XG4gIC8vIENoZWNrIGlmIHRoZSBjb2xvciBjb250YWlucyBhbnkgbmVzdGVkIGV4cHJlc3Npb25zIHRvIHNlZSBpZiB0aGUgY29sb3IgY2FuIGJlIGNvbnZlcnRlZCBoZXJlLlxuICAvLyBFLmcuIFwicmdiKDI1NSwgMjU1LCAyNTUpXCIgaXMgYWJsZSB0byBjb252ZXJ0IGRpcmVjdGx5IHRvIENvbG9yLCBcInJnYigyNTUsIDI1NSwgJHtIZWlnaHR9KVwiIGlzIG5vdC5cbiAgdmFyIGNoYW5uZWxzID0gYXN0Ll9sZWZ0O1xuICB2YXIgbGVuZ3RoID0gY2hhbm5lbHMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGNoYW5uZWxzW2ldLl90eXBlICE9PSBFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9OVU1CRVIpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIHZhciBjb2xvciA9IHNjcmF0Y2hDb2xvcjtcbiAgY29sb3IucmVkID0gY2hhbm5lbHNbMF0uX3ZhbHVlIC8gMjU1LjA7XG4gIGNvbG9yLmdyZWVuID0gY2hhbm5lbHNbMV0uX3ZhbHVlIC8gMjU1LjA7XG4gIGNvbG9yLmJsdWUgPSBjaGFubmVsc1syXS5fdmFsdWUgLyAyNTUuMDtcbiAgY29sb3IuYWxwaGEgPSBsZW5ndGggPT09IDQgPyBjaGFubmVsc1szXS5fdmFsdWUgOiAxLjA7XG4gIHJldHVybiBjb2xvcjtcbn1cblxuZnVuY3Rpb24gbnVtYmVyVG9TdHJpbmcobnVtYmVyKSB7XG4gIGlmIChudW1iZXIgJSAxID09PSAwKSB7XG4gICAgLy8gQWRkIGEgLjAgdG8gd2hvbGUgbnVtYmVyc1xuICAgIHJldHVybiBudW1iZXIudG9GaXhlZCgxKTtcbiAgfVxuXG4gIHJldHVybiBudW1iZXIudG9TdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JUb1ZlYzMoY29sb3IpIHtcbiAgdmFyIHIgPSBudW1iZXJUb1N0cmluZyhjb2xvci5yZWQpO1xuICB2YXIgZyA9IG51bWJlclRvU3RyaW5nKGNvbG9yLmdyZWVuKTtcbiAgdmFyIGIgPSBudW1iZXJUb1N0cmluZyhjb2xvci5ibHVlKTtcbiAgcmV0dXJuIFwidmVjMyhcIiArIHIgKyBcIiwgXCIgKyBnICsgXCIsIFwiICsgYiArIFwiKVwiO1xufVxuXG5mdW5jdGlvbiBjb2xvclRvVmVjNChjb2xvcikge1xuICB2YXIgciA9IG51bWJlclRvU3RyaW5nKGNvbG9yLnJlZCk7XG4gIHZhciBnID0gbnVtYmVyVG9TdHJpbmcoY29sb3IuZ3JlZW4pO1xuICB2YXIgYiA9IG51bWJlclRvU3RyaW5nKGNvbG9yLmJsdWUpO1xuICB2YXIgYSA9IG51bWJlclRvU3RyaW5nKGNvbG9yLmFscGhhKTtcbiAgcmV0dXJuIFwidmVjNChcIiArIHIgKyBcIiwgXCIgKyBnICsgXCIsIFwiICsgYiArIFwiLCBcIiArIGEgKyBcIilcIjtcbn1cblxuZnVuY3Rpb24gZ2V0RXhwcmVzc2lvbkFycmF5KFxuICBhcnJheSxcbiAgdmFyaWFibGVTdWJzdGl0dXRpb25NYXAsXG4gIHNoYWRlclN0YXRlLFxuICBwYXJlbnRcbikge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgZXhwcmVzc2lvbnMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGV4cHJlc3Npb25zW2ldID0gYXJyYXlbaV0uZ2V0U2hhZGVyRXhwcmVzc2lvbihcbiAgICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgICAgc2hhZGVyU3RhdGUsXG4gICAgICBwYXJlbnRcbiAgICApO1xuICB9XG4gIHJldHVybiBleHByZXNzaW9ucztcbn1cblxuZnVuY3Rpb24gZ2V0VmFyaWFibGVOYW1lKHZhcmlhYmxlTmFtZSwgdmFyaWFibGVTdWJzdGl0dXRpb25NYXApIHtcbiAgaWYgKCFkZWZpbmVkKHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwW3ZhcmlhYmxlTmFtZV0pKSB7XG4gICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICdTdHlsZSByZWZlcmVuY2VzIGEgcHJvcGVydHkgXCInICtcbiAgICAgICAgdmFyaWFibGVOYW1lICtcbiAgICAgICAgJ1wiIHRoYXQgZG9lcyBub3QgZXhpc3Qgb3IgaXMgbm90IHN0eWxlYWJsZS4nXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcFt2YXJpYWJsZU5hbWVdO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbkV4cHJlc3Npb24uTlVMTF9TRU5USU5FTCA9IFwiY3ptX2luZmluaXR5XCI7IC8vIG51bGwganVzdCBuZWVkcyB0byBiZSBzb21lIHNlbnRpbmVsIHZhbHVlIHRoYXQgd2lsbCBjYXVzZSBcIltleHByZXNzaW9uXSA9PT0gbnVsbFwiIHRvIGJlIGZhbHNlIGluIG5lYXJseSBhbGwgY2FzZXMuIEdMU0wgZG9lc24ndCBoYXZlIGEgTmFOIGNvbnN0YW50IHNvIHVzZSBjem1faW5maW5pdHkuXG5cbk5vZGUucHJvdG90eXBlLmdldFNoYWRlckV4cHJlc3Npb24gPSBmdW5jdGlvbiAoXG4gIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICBzaGFkZXJTdGF0ZSxcbiAgcGFyZW50XG4pIHtcbiAgdmFyIGNvbG9yO1xuICB2YXIgbGVmdDtcbiAgdmFyIHJpZ2h0O1xuICB2YXIgdGVzdDtcblxuICB2YXIgdHlwZSA9IHRoaXMuX3R5cGU7XG4gIHZhciB2YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuXG4gIGlmIChkZWZpbmVkKHRoaXMuX2xlZnQpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fbGVmdCkpIHtcbiAgICAgIC8vIExlZnQgY2FuIGJlIGFuIGFycmF5IGlmIHRoZSB0eXBlIGlzIExJVEVSQUxfQ09MT1Igb3IgTElURVJBTF9WRUNUT1JcbiAgICAgIGxlZnQgPSBnZXRFeHByZXNzaW9uQXJyYXkoXG4gICAgICAgIHRoaXMuX2xlZnQsXG4gICAgICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgICAgICBzaGFkZXJTdGF0ZSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVmdCA9IHRoaXMuX2xlZnQuZ2V0U2hhZGVyRXhwcmVzc2lvbihcbiAgICAgICAgdmFyaWFibGVTdWJzdGl0dXRpb25NYXAsXG4gICAgICAgIHNoYWRlclN0YXRlLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRoaXMuX3JpZ2h0KSkge1xuICAgIHJpZ2h0ID0gdGhpcy5fcmlnaHQuZ2V0U2hhZGVyRXhwcmVzc2lvbihcbiAgICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgICAgc2hhZGVyU3RhdGUsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRoaXMuX3Rlc3QpKSB7XG4gICAgdGVzdCA9IHRoaXMuX3Rlc3QuZ2V0U2hhZGVyRXhwcmVzc2lvbihcbiAgICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgICAgc2hhZGVyU3RhdGUsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSkge1xuICAgIC8vIEZvciBBUlJBWSB0eXBlXG4gICAgdmFsdWUgPSBnZXRFeHByZXNzaW9uQXJyYXkoXG4gICAgICB0aGlzLl92YWx1ZSxcbiAgICAgIHZhcmlhYmxlU3Vic3RpdHV0aW9uTWFwLFxuICAgICAgc2hhZGVyU3RhdGUsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLlZBUklBQkxFOlxuICAgICAgaWYgKGNoZWNrRmVhdHVyZSh0aGlzKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldFZhcmlhYmxlTmFtZSh2YWx1ZSwgdmFyaWFibGVTdWJzdGl0dXRpb25NYXApO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLlVOQVJZOlxuICAgICAgLy8gU3VwcG9ydGVkIHR5cGVzOiArLCAtLCAhLCBCb29sZWFuLCBOdW1iZXJcbiAgICAgIGlmICh2YWx1ZSA9PT0gXCJCb29sZWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm9vbChcIiArIGxlZnQgKyBcIilcIjtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IFwiTnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiZmxvYXQoXCIgKyBsZWZ0ICsgXCIpXCI7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBcInJvdW5kXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiZmxvb3IoXCIgKyBsZWZ0ICsgXCIgKyAwLjUpXCI7XG4gICAgICB9IGVsc2UgaWYgKGRlZmluZWQodW5hcnlGdW5jdGlvbnNbdmFsdWVdKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgKyBcIihcIiArIGxlZnQgKyBcIilcIjtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IFwiaXNOYU5cIikge1xuICAgICAgICAvLyBJbiBHTFNMIDIuMCB1c2UgaXNuYW4gaW5zdGVhZFxuICAgICAgICByZXR1cm4gXCIoXCIgKyBsZWZ0ICsgXCIgIT0gXCIgKyBsZWZ0ICsgXCIpXCI7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBcImlzRmluaXRlXCIpIHtcbiAgICAgICAgLy8gSW4gR0xTTCAyLjAgdXNlIGlzaW5mIGluc3RlYWQuIEdMU0wgZG9lc24ndCBoYXZlIGFuIGluZmluaXR5IGNvbnN0YW50IHNvIHVzZSBjem1faW5maW5pdHkgd2hpY2ggaXMgYW4gYXJiaXRyYXJpbHkgYmlnIGVub3VnaCBudW1iZXIuXG4gICAgICAgIHJldHVybiBcIihhYnMoXCIgKyBsZWZ0ICsgXCIpIDwgY3ptX2luZmluaXR5KVwiO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdmFsdWUgPT09IFwiU3RyaW5nXCIgfHxcbiAgICAgICAgdmFsdWUgPT09IFwiaXNFeGFjdENsYXNzXCIgfHxcbiAgICAgICAgdmFsdWUgPT09IFwiaXNDbGFzc1wiIHx8XG4gICAgICAgIHZhbHVlID09PSBcImdldEV4YWN0Q2xhc3NOYW1lXCJcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgICAgICdFcnJvciBnZW5lcmF0aW5nIHN0eWxlIHNoYWRlcjogXCInICsgdmFsdWUgKyAnXCIgaXMgbm90IHN1cHBvcnRlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgKyBsZWZ0O1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkJJTkFSWTpcbiAgICAgIC8vIFN1cHBvcnRlZCB0eXBlczogfHwsICYmLCA9PT0sICE9PSwgPCwgPiwgPD0sID49LCArLCAtLCAqLCAvLCAlXG4gICAgICBpZiAodmFsdWUgPT09IFwiJVwiKSB7XG4gICAgICAgIHJldHVybiBcIm1vZChcIiArIGxlZnQgKyBcIiwgXCIgKyByaWdodCArIFwiKVwiO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gXCI9PT1cIikge1xuICAgICAgICByZXR1cm4gXCIoXCIgKyBsZWZ0ICsgXCIgPT0gXCIgKyByaWdodCArIFwiKVwiO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gXCIhPT1cIikge1xuICAgICAgICByZXR1cm4gXCIoXCIgKyBsZWZ0ICsgXCIgIT0gXCIgKyByaWdodCArIFwiKVwiO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gXCJhdGFuMlwiKSB7XG4gICAgICAgIHJldHVybiBcImF0YW4oXCIgKyBsZWZ0ICsgXCIsIFwiICsgcmlnaHQgKyBcIilcIjtcbiAgICAgIH0gZWxzZSBpZiAoZGVmaW5lZChiaW5hcnlGdW5jdGlvbnNbdmFsdWVdKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgKyBcIihcIiArIGxlZnQgKyBcIiwgXCIgKyByaWdodCArIFwiKVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiKFwiICsgbGVmdCArIFwiIFwiICsgdmFsdWUgKyBcIiBcIiArIHJpZ2h0ICsgXCIpXCI7XG4gICAgY2FzZSBFeHByZXNzaW9uTm9kZVR5cGUuVEVSTkFSWTpcbiAgICAgIGlmIChkZWZpbmVkKHRlcm5hcnlGdW5jdGlvbnNbdmFsdWVdKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgKyBcIihcIiArIGxlZnQgKyBcIiwgXCIgKyByaWdodCArIFwiLCBcIiArIHRlc3QgKyBcIilcIjtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkNPTkRJVElPTkFMOlxuICAgICAgcmV0dXJuIFwiKFwiICsgdGVzdCArIFwiID8gXCIgKyBsZWZ0ICsgXCIgOiBcIiArIHJpZ2h0ICsgXCIpXCI7XG4gICAgY2FzZSBFeHByZXNzaW9uTm9kZVR5cGUuTUVNQkVSOlxuICAgICAgaWYgKGNoZWNrRmVhdHVyZSh0aGlzLl9sZWZ0KSkge1xuICAgICAgICByZXR1cm4gZ2V0VmFyaWFibGVOYW1lKHJpZ2h0LCB2YXJpYWJsZVN1YnN0aXR1dGlvbk1hcCk7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGlzIGludGVuZGVkIGZvciBhY2Nlc3NpbmcgdGhlIGNvbXBvbmVudHMgb2YgdmVjdG9yIHByb3BlcnRpZXMuIFN0cmluZyBtZW1iZXJzIGFyZW4ndCBzdXBwb3J0ZWQuXG4gICAgICAvLyBDaGVjayBmb3IgMC4wIHJhdGhlciB0aGFuIDAgYmVjYXVzZSBhbGwgbnVtYmVycyBhcmUgcHJldmlvdXNseSBjb252ZXJ0ZWQgdG8gZGVjaW1hbHMuXG4gICAgICBpZiAocmlnaHQgPT09IFwiclwiIHx8IHJpZ2h0ID09PSBcInhcIiB8fCByaWdodCA9PT0gXCIwLjBcIikge1xuICAgICAgICByZXR1cm4gbGVmdCArIFwiWzBdXCI7XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0ID09PSBcImdcIiB8fCByaWdodCA9PT0gXCJ5XCIgfHwgcmlnaHQgPT09IFwiMS4wXCIpIHtcbiAgICAgICAgcmV0dXJuIGxlZnQgKyBcIlsxXVwiO1xuICAgICAgfSBlbHNlIGlmIChyaWdodCA9PT0gXCJiXCIgfHwgcmlnaHQgPT09IFwielwiIHx8IHJpZ2h0ID09PSBcIjIuMFwiKSB7XG4gICAgICAgIHJldHVybiBsZWZ0ICsgXCJbMl1cIjtcbiAgICAgIH0gZWxzZSBpZiAocmlnaHQgPT09IFwiYVwiIHx8IHJpZ2h0ID09PSBcIndcIiB8fCByaWdodCA9PT0gXCIzLjBcIikge1xuICAgICAgICByZXR1cm4gbGVmdCArIFwiWzNdXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVmdCArIFwiW2ludChcIiArIHJpZ2h0ICsgXCIpXVwiO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkZVTkNUSU9OX0NBTEw6XG4gICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgICAnRXJyb3IgZ2VuZXJhdGluZyBzdHlsZSBzaGFkZXI6IFwiJyArIHZhbHVlICsgJ1wiIGlzIG5vdCBzdXBwb3J0ZWQuJ1xuICAgICAgKTtcbiAgICBjYXNlIEV4cHJlc3Npb25Ob2RlVHlwZS5BUlJBWTpcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcInZlYzQoXCIgK1xuICAgICAgICAgIHZhbHVlWzBdICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHZhbHVlWzFdICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHZhbHVlWzJdICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIHZhbHVlWzNdICtcbiAgICAgICAgICBcIilcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgcmV0dXJuIFwidmVjMyhcIiArIHZhbHVlWzBdICsgXCIsIFwiICsgdmFsdWVbMV0gKyBcIiwgXCIgKyB2YWx1ZVsyXSArIFwiKVwiO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIFwidmVjMihcIiArIHZhbHVlWzBdICsgXCIsIFwiICsgdmFsdWVbMV0gKyBcIilcIjtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAgIFwiRXJyb3IgZ2VuZXJhdGluZyBzdHlsZSBzaGFkZXI6IEludmFsaWQgYXJyYXkgbGVuZ3RoLiBBcnJheSBsZW5ndGggc2hvdWxkIGJlIDIsIDMsIG9yIDQuXCJcbiAgICAgICk7XG4gICAgY2FzZSBFeHByZXNzaW9uTm9kZVR5cGUuUkVHRVg6XG4gICAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgICBcIkVycm9yIGdlbmVyYXRpbmcgc3R5bGUgc2hhZGVyOiBSZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICApO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLlZBUklBQkxFX0lOX1NUUklORzpcbiAgICAgIHRocm93IG5ldyBSdW50aW1lRXJyb3IoXG4gICAgICAgIFwiRXJyb3IgZ2VuZXJhdGluZyBzdHlsZSBzaGFkZXI6IENvbnZlcnRpbmcgYSB2YXJpYWJsZSB0byBhIHN0cmluZyBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICApO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfTlVMTDpcbiAgICAgIHJldHVybiBFeHByZXNzaW9uLk5VTExfU0VOVElORUw7XG4gICAgY2FzZSBFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9CT09MRUFOOlxuICAgICAgcmV0dXJuIHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgY2FzZSBFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9OVU1CRVI6XG4gICAgICByZXR1cm4gbnVtYmVyVG9TdHJpbmcodmFsdWUpO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfU1RSSU5HOlxuICAgICAgaWYgKGRlZmluZWQocGFyZW50KSAmJiBwYXJlbnQuX3R5cGUgPT09IEV4cHJlc3Npb25Ob2RlVHlwZS5NRU1CRVIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZhbHVlID09PSBcInJcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcImdcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcImJcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcImFcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcInhcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcInlcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcInpcIiB8fFxuICAgICAgICAgIHZhbHVlID09PSBcIndcIiB8fFxuICAgICAgICAgIGNoZWNrRmVhdHVyZShwYXJlbnQuX2xlZnQpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNzcyBjb2xvciBzdHJpbmdzXG4gICAgICBjb2xvciA9IENvbG9yLmZyb21Dc3NDb2xvclN0cmluZyh2YWx1ZSwgc2NyYXRjaENvbG9yKTtcbiAgICAgIGlmIChkZWZpbmVkKGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gY29sb3JUb1ZlYzMoY29sb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICAgXCJFcnJvciBnZW5lcmF0aW5nIHN0eWxlIHNoYWRlcjogU3RyaW5nIGxpdGVyYWxzIGFyZSBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICApO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfQ09MT1I6XG4gICAgICB2YXIgYXJncyA9IGxlZnQ7XG4gICAgICBpZiAodmFsdWUgPT09IFwiY29sb3JcIikge1xuICAgICAgICBpZiAoIWRlZmluZWQoYXJncykpIHtcbiAgICAgICAgICByZXR1cm4gXCJ2ZWM0KDEuMClcIjtcbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICB2YXIgcmdiID0gYXJnc1swXTtcbiAgICAgICAgICB2YXIgYWxwaGEgPSBhcmdzWzFdO1xuICAgICAgICAgIGlmIChhbHBoYSAhPT0gXCIxLjBcIikge1xuICAgICAgICAgICAgc2hhZGVyU3RhdGUudHJhbnNsdWNlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCJ2ZWM0KFwiICsgcmdiICsgXCIsIFwiICsgYWxwaGEgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJ2ZWM0KFwiICsgYXJnc1swXSArIFwiLCAxLjApXCI7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBcInJnYlwiKSB7XG4gICAgICAgIGNvbG9yID0gY29udmVydFJHQlRvQ29sb3IodGhpcyk7XG4gICAgICAgIGlmIChkZWZpbmVkKGNvbG9yKSkge1xuICAgICAgICAgIHJldHVybiBjb2xvclRvVmVjNChjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcInZlYzQoXCIgK1xuICAgICAgICAgIGFyZ3NbMF0gK1xuICAgICAgICAgIFwiIC8gMjU1LjAsIFwiICtcbiAgICAgICAgICBhcmdzWzFdICtcbiAgICAgICAgICBcIiAvIDI1NS4wLCBcIiArXG4gICAgICAgICAgYXJnc1syXSArXG4gICAgICAgICAgXCIgLyAyNTUuMCwgMS4wKVwiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBcInJnYmFcIikge1xuICAgICAgICBpZiAoYXJnc1szXSAhPT0gXCIxLjBcIikge1xuICAgICAgICAgIHNoYWRlclN0YXRlLnRyYW5zbHVjZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb2xvciA9IGNvbnZlcnRSR0JUb0NvbG9yKHRoaXMpO1xuICAgICAgICBpZiAoZGVmaW5lZChjb2xvcikpIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JUb1ZlYzQoY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCJ2ZWM0KFwiICtcbiAgICAgICAgICBhcmdzWzBdICtcbiAgICAgICAgICBcIiAvIDI1NS4wLCBcIiArXG4gICAgICAgICAgYXJnc1sxXSArXG4gICAgICAgICAgXCIgLyAyNTUuMCwgXCIgK1xuICAgICAgICAgIGFyZ3NbMl0gK1xuICAgICAgICAgIFwiIC8gMjU1LjAsIFwiICtcbiAgICAgICAgICBhcmdzWzNdICtcbiAgICAgICAgICBcIilcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gXCJoc2xcIikge1xuICAgICAgICBjb2xvciA9IGNvbnZlcnRIU0xUb1JHQih0aGlzKTtcbiAgICAgICAgaWYgKGRlZmluZWQoY29sb3IpKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbG9yVG9WZWM0KGNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwidmVjNChjem1fSFNMVG9SR0IodmVjMyhcIiArXG4gICAgICAgICAgYXJnc1swXSArXG4gICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICBhcmdzWzFdICtcbiAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgIGFyZ3NbMl0gK1xuICAgICAgICAgIFwiKSksIDEuMClcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gXCJoc2xhXCIpIHtcbiAgICAgICAgY29sb3IgPSBjb252ZXJ0SFNMVG9SR0IodGhpcyk7XG4gICAgICAgIGlmIChkZWZpbmVkKGNvbG9yKSkge1xuICAgICAgICAgIGlmIChjb2xvci5hbHBoYSAhPT0gMS4wKSB7XG4gICAgICAgICAgICBzaGFkZXJTdGF0ZS50cmFuc2x1Y2VudCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb2xvclRvVmVjNChjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZ3NbM10gIT09IFwiMS4wXCIpIHtcbiAgICAgICAgICBzaGFkZXJTdGF0ZS50cmFuc2x1Y2VudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcInZlYzQoY3ptX0hTTFRvUkdCKHZlYzMoXCIgK1xuICAgICAgICAgIGFyZ3NbMF0gK1xuICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgYXJnc1sxXSArXG4gICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICBhcmdzWzJdICtcbiAgICAgICAgICBcIikpLCBcIiArXG4gICAgICAgICAgYXJnc1szXSArXG4gICAgICAgICAgXCIpXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLkxJVEVSQUxfVkVDVE9SOlxuICAgICAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgICAgIGlmICghZGVmaW5lZChsZWZ0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXG4gICAgICAgICAgXCJsZWZ0IHNob3VsZCBhbHdheXMgYmUgZGVmaW5lZCBmb3IgdHlwZSBFeHByZXNzaW9uTm9kZVR5cGUuTElURVJBTF9WRUNUT1JcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGVmdC5sZW5ndGg7XG4gICAgICB2YXIgdmVjdG9yRXhwcmVzc2lvbiA9IHZhbHVlICsgXCIoXCI7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZlY3RvckV4cHJlc3Npb24gKz0gbGVmdFtpXTtcbiAgICAgICAgaWYgKGkgPCBsZW5ndGggLSAxKSB7XG4gICAgICAgICAgdmVjdG9yRXhwcmVzc2lvbiArPSBcIiwgXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZlY3RvckV4cHJlc3Npb24gKz0gXCIpXCI7XG4gICAgICByZXR1cm4gdmVjdG9yRXhwcmVzc2lvbjtcbiAgICBjYXNlIEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1JFR0VYOlxuICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFcnJvcihcbiAgICAgICAgXCJFcnJvciBnZW5lcmF0aW5nIHN0eWxlIHNoYWRlcjogUmVndWxhciBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZC5cIlxuICAgICAgKTtcbiAgICBjYXNlIEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1VOREVGSU5FRDpcbiAgICAgIHJldHVybiBFeHByZXNzaW9uLk5VTExfU0VOVElORUw7XG4gICAgY2FzZSBFeHByZXNzaW9uTm9kZVR5cGUuQlVJTFRJTl9WQVJJQUJMRTpcbiAgICAgIGlmICh2YWx1ZSA9PT0gXCJ0aWxlczNkX3RpbGVzZXRfdGltZVwiKSB7XG4gICAgICAgIHJldHVybiBcInVfdGltZVwiO1xuICAgICAgfVxuICB9XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzLCBwYXJlbnQpIHtcbiAgdmFyIGFycmF5O1xuICB2YXIgbGVuZ3RoO1xuICB2YXIgaTtcblxuICB2YXIgdHlwZSA9IHRoaXMuX3R5cGU7XG4gIHZhciB2YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuXG4gIGlmIChkZWZpbmVkKHRoaXMuX2xlZnQpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fbGVmdCkpIHtcbiAgICAgIC8vIExlZnQgY2FuIGJlIGFuIGFycmF5IGlmIHRoZSB0eXBlIGlzIExJVEVSQUxfQ09MT1Igb3IgTElURVJBTF9WRUNUT1JcbiAgICAgIGFycmF5ID0gdGhpcy5fbGVmdDtcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICBhcnJheVtpXS5nZXRWYXJpYWJsZXModmFyaWFibGVzLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGVmdC5nZXRWYXJpYWJsZXModmFyaWFibGVzLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGVmaW5lZCh0aGlzLl9yaWdodCkpIHtcbiAgICB0aGlzLl9yaWdodC5nZXRWYXJpYWJsZXModmFyaWFibGVzLCB0aGlzKTtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRoaXMuX3Rlc3QpKSB7XG4gICAgdGhpcy5fdGVzdC5nZXRWYXJpYWJsZXModmFyaWFibGVzLCB0aGlzKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3ZhbHVlKSkge1xuICAgIC8vIEZvciBBUlJBWSB0eXBlXG4gICAgYXJyYXkgPSB0aGlzLl92YWx1ZTtcbiAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICBhcnJheVtpXS5nZXRWYXJpYWJsZXModmFyaWFibGVzLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIEV4cHJlc3Npb25Ob2RlVHlwZS5WQVJJQUJMRTpcbiAgICAgIGlmICghY2hlY2tGZWF0dXJlKHRoaXMpKSB7XG4gICAgICAgIHZhcmlhYmxlcy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRXhwcmVzc2lvbk5vZGVUeXBlLlZBUklBQkxFX0lOX1NUUklORzpcbiAgICAgIHZhciBtYXRjaCA9IHZhcmlhYmxlUmVnZXguZXhlYyh2YWx1ZSk7XG4gICAgICB3aGlsZSAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgdmFyaWFibGVzLnB1c2gobWF0Y2hbMV0pO1xuICAgICAgICBtYXRjaCA9IHZhcmlhYmxlUmVnZXguZXhlYyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEV4cHJlc3Npb25Ob2RlVHlwZS5MSVRFUkFMX1NUUklORzpcbiAgICAgIGlmIChcbiAgICAgICAgZGVmaW5lZChwYXJlbnQpICYmXG4gICAgICAgIHBhcmVudC5fdHlwZSA9PT0gRXhwcmVzc2lvbk5vZGVUeXBlLk1FTUJFUiAmJlxuICAgICAgICBjaGVja0ZlYXR1cmUocGFyZW50Ll9sZWZ0KVxuICAgICAgKSB7XG4gICAgICAgIHZhcmlhYmxlcy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFeHByZXNzaW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19427\n')},2417:function(__unused_webpack___webpack_module__,__webpack_exports__){eval('/**\n * @private\n */\nvar ExpressionNodeType = {\n  VARIABLE: 0,\n  UNARY: 1,\n  BINARY: 2,\n  TERNARY: 3,\n  CONDITIONAL: 4,\n  MEMBER: 5,\n  FUNCTION_CALL: 6,\n  ARRAY: 7,\n  REGEX: 8,\n  VARIABLE_IN_STRING: 9,\n  LITERAL_NULL: 10,\n  LITERAL_BOOLEAN: 11,\n  LITERAL_NUMBER: 12,\n  LITERAL_STRING: 13,\n  LITERAL_COLOR: 14,\n  LITERAL_VECTOR: 15,\n  LITERAL_REGEX: 16,\n  LITERAL_UNDEFINED: 17,\n  BUILTIN_VARIABLE: 18,\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Object.freeze(ExpressionNodeType));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQxNy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBZSxpQ0FBaUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9FeHByZXNzaW9uTm9kZVR5cGUuanM/MjdhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBFeHByZXNzaW9uTm9kZVR5cGUgPSB7XG4gIFZBUklBQkxFOiAwLFxuICBVTkFSWTogMSxcbiAgQklOQVJZOiAyLFxuICBURVJOQVJZOiAzLFxuICBDT05ESVRJT05BTDogNCxcbiAgTUVNQkVSOiA1LFxuICBGVU5DVElPTl9DQUxMOiA2LFxuICBBUlJBWTogNyxcbiAgUkVHRVg6IDgsXG4gIFZBUklBQkxFX0lOX1NUUklORzogOSxcbiAgTElURVJBTF9OVUxMOiAxMCxcbiAgTElURVJBTF9CT09MRUFOOiAxMSxcbiAgTElURVJBTF9OVU1CRVI6IDEyLFxuICBMSVRFUkFMX1NUUklORzogMTMsXG4gIExJVEVSQUxfQ09MT1I6IDE0LFxuICBMSVRFUkFMX1ZFQ1RPUjogMTUsXG4gIExJVEVSQUxfUkVHRVg6IDE2LFxuICBMSVRFUkFMX1VOREVGSU5FRDogMTcsXG4gIEJVSUxUSU5fVkFSSUFCTEU6IDE4LFxufTtcbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5mcmVlemUoRXhwcmVzc2lvbk5vZGVUeXBlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2417\n')},50851:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n\n\n\n/**\n * An object containing feature metadata.\n * <p>\n * See the {@link https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata|EXT_feature_metadata Extension} for glTF.\n * </p>\n *\n * @param {Object} options Object with the following properties:\n * @param {MetadataSchema} options.schema The parsed schema.\n * @param {Object.<String, FeatureTable>} [options.featureTables] A dictionary mapping feature table IDs to feature table objects.\n * @param {Object.<String, FeatureTexture>} [options.featureTextures] A dictionary mapping feature texture IDs to feature texture objects.\n * @param {Object} [options.statistics] Statistics about metadata\n * @param {Object} [options.extras] Extra user-defined properties\n * @param {Object} [options.extensions] An object containing extensions\n *\n * @alias FeatureMetadata\n * @constructor\n *\n * @private\n * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n */\nfunction FeatureMetadata(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.schema", options.schema);\n  //>>includeEnd(\'debug\');\n\n  this._schema = options.schema;\n  this._featureTables = options.featureTables;\n  this._featureTextures = options.featureTextures;\n  this._statistics = options.statistics;\n  this._extras = options.extras;\n  this._extensions = options.extensions;\n}\n\nObject.defineProperties(FeatureMetadata.prototype, {\n  /**\n   * Schema containing classes and enums.\n   *\n   * @memberof FeatureMetadata.prototype\n   * @type {MetadataSchema}\n   * @readonly\n   * @private\n   */\n  schema: {\n    get: function () {\n      return this._schema;\n    },\n  },\n\n  /**\n   * Statistics about the metadata.\n   * <p>\n   * See the {@link https://github.com/CesiumGS/glTF/blob/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata/schema/statistics.schema.json|statistics schema reference} for the full set of properties.\n   * </p>\n   *\n   * @memberof FeatureMetadata.prototype\n   * @type {Object}\n   * @readonly\n   * @private\n   */\n  statistics: {\n    get: function () {\n      return this._statistics;\n    },\n  },\n\n  /**\n   * Extras in the JSON object.\n   *\n   * @memberof FeatureMetadata.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extras: {\n    get: function () {\n      return this._extras;\n    },\n  },\n\n  /**\n   * Extensions in the JSON object.\n   *\n   * @memberof FeatureMetadata.prototype\n   * @type {Object}\n   * @readonly\n   * @private\n   */\n  extensions: {\n    get: function () {\n      return this._extensions;\n    },\n  },\n});\n\n/**\n * Gets the feature table with the given ID.\n *\n * @param {String} featureTableId The feature table ID.\n * @returns {FeatureTable} The feature table.\n * @private\n */\nFeatureMetadata.prototype.getFeatureTable = function (featureTableId) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("featureTableId", featureTableId);\n  //>>includeEnd(\'debug\');\n\n  return this._featureTables[featureTableId];\n};\n\n/**\n * Gets the feature texture with the given ID.\n *\n * @param {String} featureTextureId The feature texture ID.\n * @returns {FeatureTexture} The feature texture.\n * @private\n */\nFeatureMetadata.prototype.getFeatureTexture = function (featureTextureId) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("featureTextureId", featureTextureId);\n  //>>includeEnd(\'debug\');\n\n  return this._featureTextures[featureTextureId];\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (FeatureMetadata);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA4NTEuanMiLCJtYXBwaW5ncyI6Ijs7QUFBcUM7QUFDYzs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxSUFBcUk7QUFDako7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGdCQUFnQjtBQUMzQixXQUFXLCtCQUErQjtBQUMxQyxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwRUFBWSxVQUFVLGdHQUF5Qjs7QUFFM0Q7QUFDQSxFQUFFLDJGQUFtQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0tBQWdLO0FBQzlLO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMkZBQW1CO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwyRkFBbUI7QUFDckI7O0FBRUE7QUFDQTs7QUFFQSx5REFBZSxlQUFlLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRmVhdHVyZU1ldGFkYXRhLmpzPzdlODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuXG4vKipcbiAqIEFuIG9iamVjdCBjb250YWluaW5nIGZlYXR1cmUgbWV0YWRhdGEuXG4gKiA8cD5cbiAqIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL3RyZWUvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX2ZlYXR1cmVfbWV0YWRhdGF8RVhUX2ZlYXR1cmVfbWV0YWRhdGEgRXh0ZW5zaW9ufSBmb3IgZ2xURi5cbiAqIDwvcD5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiBAcGFyYW0ge01ldGFkYXRhU2NoZW1hfSBvcHRpb25zLnNjaGVtYSBUaGUgcGFyc2VkIHNjaGVtYS5cbiAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIEZlYXR1cmVUYWJsZT59IFtvcHRpb25zLmZlYXR1cmVUYWJsZXNdIEEgZGljdGlvbmFyeSBtYXBwaW5nIGZlYXR1cmUgdGFibGUgSURzIHRvIGZlYXR1cmUgdGFibGUgb2JqZWN0cy5cbiAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIEZlYXR1cmVUZXh0dXJlPn0gW29wdGlvbnMuZmVhdHVyZVRleHR1cmVzXSBBIGRpY3Rpb25hcnkgbWFwcGluZyBmZWF0dXJlIHRleHR1cmUgSURzIHRvIGZlYXR1cmUgdGV4dHVyZSBvYmplY3RzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnN0YXRpc3RpY3NdIFN0YXRpc3RpY3MgYWJvdXQgbWV0YWRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5leHRyYXNdIEV4dHJhIHVzZXItZGVmaW5lZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZXh0ZW5zaW9uc10gQW4gb2JqZWN0IGNvbnRhaW5pbmcgZXh0ZW5zaW9uc1xuICpcbiAqIEBhbGlhcyBGZWF0dXJlTWV0YWRhdGFcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKiBAZXhwZXJpbWVudGFsIFRoaXMgZmVhdHVyZSBpcyB1c2luZyBwYXJ0IG9mIHRoZSAzRCBUaWxlcyBzcGVjIHRoYXQgaXMgbm90IGZpbmFsIGFuZCBpcyBzdWJqZWN0IHRvIGNoYW5nZSB3aXRob3V0IENlc2l1bSdzIHN0YW5kYXJkIGRlcHJlY2F0aW9uIHBvbGljeS5cbiAqL1xuZnVuY3Rpb24gRmVhdHVyZU1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay50eXBlT2Yub2JqZWN0KFwib3B0aW9ucy5zY2hlbWFcIiwgb3B0aW9ucy5zY2hlbWEpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLl9zY2hlbWEgPSBvcHRpb25zLnNjaGVtYTtcbiAgdGhpcy5fZmVhdHVyZVRhYmxlcyA9IG9wdGlvbnMuZmVhdHVyZVRhYmxlcztcbiAgdGhpcy5fZmVhdHVyZVRleHR1cmVzID0gb3B0aW9ucy5mZWF0dXJlVGV4dHVyZXM7XG4gIHRoaXMuX3N0YXRpc3RpY3MgPSBvcHRpb25zLnN0YXRpc3RpY3M7XG4gIHRoaXMuX2V4dHJhcyA9IG9wdGlvbnMuZXh0cmFzO1xuICB0aGlzLl9leHRlbnNpb25zID0gb3B0aW9ucy5leHRlbnNpb25zO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhGZWF0dXJlTWV0YWRhdGEucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBTY2hlbWEgY29udGFpbmluZyBjbGFzc2VzIGFuZCBlbnVtcy5cbiAgICpcbiAgICogQG1lbWJlcm9mIEZlYXR1cmVNZXRhZGF0YS5wcm90b3R5cGVcbiAgICogQHR5cGUge01ldGFkYXRhU2NoZW1hfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNjaGVtYToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjaGVtYTtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBTdGF0aXN0aWNzIGFib3V0IHRoZSBtZXRhZGF0YS5cbiAgICogPHA+XG4gICAqIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9DZXNpdW1HUy9nbFRGL2Jsb2IvM2QtdGlsZXMtbmV4dC9leHRlbnNpb25zLzIuMC9WZW5kb3IvRVhUX2ZlYXR1cmVfbWV0YWRhdGEvc2NoZW1hL3N0YXRpc3RpY3Muc2NoZW1hLmpzb258c3RhdGlzdGljcyBzY2hlbWEgcmVmZXJlbmNlfSBmb3IgdGhlIGZ1bGwgc2V0IG9mIHByb3BlcnRpZXMuXG4gICAqIDwvcD5cbiAgICpcbiAgICogQG1lbWJlcm9mIEZlYXR1cmVNZXRhZGF0YS5wcm90b3R5cGVcbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aXN0aWNzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGlzdGljcztcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRyYXMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRmVhdHVyZU1ldGFkYXRhLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Kn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBleHRyYXM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9leHRyYXM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogRXh0ZW5zaW9ucyBpbiB0aGUgSlNPTiBvYmplY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBGZWF0dXJlTWV0YWRhdGEucHJvdG90eXBlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0ZW5zaW9uczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4dGVuc2lvbnM7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIGZlYXR1cmUgdGFibGUgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZlYXR1cmVUYWJsZUlkIFRoZSBmZWF0dXJlIHRhYmxlIElELlxuICogQHJldHVybnMge0ZlYXR1cmVUYWJsZX0gVGhlIGZlYXR1cmUgdGFibGUuXG4gKiBAcHJpdmF0ZVxuICovXG5GZWF0dXJlTWV0YWRhdGEucHJvdG90eXBlLmdldEZlYXR1cmVUYWJsZSA9IGZ1bmN0aW9uIChmZWF0dXJlVGFibGVJZCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay50eXBlT2Yuc3RyaW5nKFwiZmVhdHVyZVRhYmxlSWRcIiwgZmVhdHVyZVRhYmxlSWQpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICByZXR1cm4gdGhpcy5fZmVhdHVyZVRhYmxlc1tmZWF0dXJlVGFibGVJZF07XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGZlYXR1cmUgdGV4dHVyZSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmVhdHVyZVRleHR1cmVJZCBUaGUgZmVhdHVyZSB0ZXh0dXJlIElELlxuICogQHJldHVybnMge0ZlYXR1cmVUZXh0dXJlfSBUaGUgZmVhdHVyZSB0ZXh0dXJlLlxuICogQHByaXZhdGVcbiAqL1xuRmVhdHVyZU1ldGFkYXRhLnByb3RvdHlwZS5nZXRGZWF0dXJlVGV4dHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlVGV4dHVyZUlkKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJmZWF0dXJlVGV4dHVyZUlkXCIsIGZlYXR1cmVUZXh0dXJlSWQpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICByZXR1cm4gdGhpcy5fZmVhdHVyZVRleHR1cmVzW2ZlYXR1cmVUZXh0dXJlSWRdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZU1ldGFkYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50851\n')},59875:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82982);\n\n\n\n\n/**\n * A feature table for use with the <code>EXT_feature_metadata</code> glTF\n * extension. It also includes some options to be compatible with the older\n * 3D Tiles 1.0 batch table.\n * <p>\n * For batch tables, properties are resolved in the following order:\n * </p>\n * <ol>\n *   <li>binary properties from options.metadataTable</li>\n *   <li>JSON properties from options.jsonMetadataTable</li>\n *   <li>batch table hierarchy properties from options.batchTableHierarchy</li>\n * </ol>\n * <p>\n * See the {@link https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata|EXT_feature_metadata Extension} for glTF.\n * </p>\n *\n * @param {Object} options Object with the following properties:\n * @param {Number} options.count The number of features in the table.\n * @param {MetadataTable} [options.metadataTable] A table of binary properties.\n * @param {JsonMetadataTable} [options.jsonMetadataTable] For compatibility with the old batch table, free-form JSON properties can be passed in.\n * @param {BatchTableHierarchy} [options.batchTableHierarchy] For compatibility with the <code>3DTILES_batch_table_hierarchy</code> extension, a hierarchy can be provided.\n * @param {Object} [options.extras] Extra user-defined properties\n * @param {Object} [options.extensions] An object containing extensions\n *\n * @alias FeatureTable\n * @constructor\n *\n * @private\n * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n */\nfunction FeatureTable(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.number */ .Z.typeOf.number("options.count", options.count);\n  //>>includeEnd(\'debug\');\n\n  this._count = options.count;\n  this._extras = options.extras;\n  this._extensions = options.extensions;\n  this._metadataTable = options.metadataTable;\n  this._jsonMetadataTable = options.jsonMetadataTable;\n  this._batchTableHierarchy = options.batchTableHierarchy;\n}\n\nObject.defineProperties(FeatureTable.prototype, {\n  /**\n   * The number of features in the table.\n   *\n   * @memberof FeatureTable.prototype\n   * @type {Number}\n   * @readonly\n   * @private\n   */\n  count: {\n    get: function () {\n      return this._count;\n    },\n  },\n\n  /**\n   * The class that properties conform to.\n   *\n   * @memberof FeatureTable.prototype\n   * @type {MetadataClass}\n   * @readonly\n   */\n  class: {\n    get: function () {\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n        return this._metadataTable.class;\n      }\n\n      return undefined;\n    },\n  },\n\n  /**\n   * Extras in the JSON object.\n   *\n   * @memberof FeatureTable.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extras: {\n    get: function () {\n      return this._extras;\n    },\n  },\n\n  /**\n   * Extensions in the JSON object.\n   *\n   * @memberof FeatureTable.prototype\n   * @type {Object}\n   * @readonly\n   * @private\n   */\n  extensions: {\n    get: function () {\n      return this._extensions;\n    },\n  },\n});\n\n/**\n * Returns whether the feature has this property. For compatibility with the <code>3DTILES_batch_table_hierarchy</code> extension, this is computed for a specific feature.\n *\n * @param {Number} index The index of the feature.\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {Boolean} Whether the feature has this property.\n * @private\n */\nFeatureTable.prototype.hasProperty = function (index, propertyId) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.number */ .Z.typeOf.number("index", index);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("propertyId", propertyId);\n  //>>includeEnd(\'debug\');\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable) &&\n    this._metadataTable.hasProperty(propertyId)\n  ) {\n    return true;\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._jsonMetadataTable) &&\n    this._jsonMetadataTable.hasProperty(propertyId)\n  ) {\n    return true;\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._batchTableHierarchy) &&\n    this._batchTableHierarchy.hasProperty(index, propertyId)\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Returns whether the feature has a property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {Boolean} Whether the feature has a property with the given semantic.\n * @private\n */\nFeatureTable.prototype.hasPropertyBySemantic = function (index, semantic) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.number */ .Z.typeOf.number("index", index);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("semantic", semantic);\n  //>>includeEnd(\'debug\');\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    return this._metadataTable.hasPropertyBySemantic(semantic);\n  }\n\n  return false;\n};\n\n/**\n * Returns whether any feature has this property.\n * This is mainly useful for checking whether a property exists in the class\n * hierarchy when using the <code>3DTILES_batch_table_hierarchy</code> extension.\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {Boolean} Whether any feature has this property.\n * @private\n */\nFeatureTable.prototype.propertyExists = function (propertyId) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("propertyId", propertyId);\n  //>>includeEnd(\'debug\');\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable) &&\n    this._metadataTable.hasProperty(propertyId)\n  ) {\n    return true;\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._jsonMetadataTable) &&\n    this._jsonMetadataTable.hasProperty(propertyId)\n  ) {\n    return true;\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._batchTableHierarchy) &&\n    this._batchTableHierarchy.propertyExists(propertyId)\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Returns whether any feature has a property with the given semantic.\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {Boolean} Whether any feature has a property with the given semantic.\n * @private\n */\nFeatureTable.prototype.propertyExistsBySemantic = function (semantic) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("semantic", semantic);\n  //>>includeEnd(\'debug\');\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    return this._metadataTable.hasPropertyBySemantic(semantic);\n  }\n\n  return false;\n};\n\nvar scratchResults = [];\n\n/**\n * Returns an array of property IDs. For compatibility with the <code>3DTILES_batch_table_hierarchy</code> extension, this is computed for a specific feature.\n *\n * @param {Number} index The index of the feature.\n * @param {String[]} [results] An array into which to store the results.\n * @returns {String[]} The property IDs.\n * @private\n */\nFeatureTable.prototype.getPropertyIds = function (index, results) {\n  results = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(results) ? results : [];\n  results.length = 0;\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    // concat in place to avoid unnecessary array allocation\n    results.push.apply(\n      results,\n      this._metadataTable.getPropertyIds(scratchResults)\n    );\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._jsonMetadataTable)) {\n    results.push.apply(\n      results,\n      this._jsonMetadataTable.getPropertyIds(scratchResults)\n    );\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._batchTableHierarchy)) {\n    results.push.apply(\n      results,\n      this._batchTableHierarchy.getPropertyIds(index, scratchResults)\n    );\n  }\n\n  return results;\n};\n\n/**\n * Returns a copy of the value of the property with the given ID.\n * <p>\n * If the property is normalized the normalized value is returned.\n * </p>\n *\n * @param {Number} index The index of the feature.\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {*} The value of the property or <code>undefined</code> if the feature does not have this property.\n * @private\n */\nFeatureTable.prototype.getProperty = function (index, propertyId) {\n  var result;\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    result = this._metadataTable.getProperty(index, propertyId);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(result)) {\n      return result;\n    }\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._jsonMetadataTable)) {\n    result = this._jsonMetadataTable.getProperty(index, propertyId);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(result)) {\n      return result;\n    }\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._batchTableHierarchy)) {\n    result = this._batchTableHierarchy.getProperty(index, propertyId);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(result)) {\n      return result;\n    }\n  }\n\n  return undefined;\n};\n\n/**\n * Sets the value of the property with the given ID.\n * <p>\n * If the property is normalized a normalized value must be provided to this function.\n * </p>\n *\n * @param {Number} index The index of the feature.\n * @param {String} propertyId The case-sensitive ID of the property.\n * @param {*} value The value of the property that will be copied.\n * @returns {Boolean} <code>true</code> if the property was set, <code>false</code> otherwise.\n * @private\n */\nFeatureTable.prototype.setProperty = function (index, propertyId, value) {\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable) &&\n    this._metadataTable.setProperty(index, propertyId, value)\n  ) {\n    return true;\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._jsonMetadataTable) &&\n    this._jsonMetadataTable.setProperty(index, propertyId, value)\n  ) {\n    return true;\n  }\n\n  return (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._batchTableHierarchy) &&\n    this._batchTableHierarchy.setProperty(index, propertyId, value)\n  );\n};\n\n/**\n * Returns a copy of the value of the property with the given semantic.\n * <p>\n * This only operates on the underlying {@link MetadataTable} (if present) as\n * {@link JsonMetadataTable} and {@link BatchTableHierarchy} do not have\n * semantics.\n * </p>\n *\n * @param {Number} index The index of the feature.\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {*} The value of the property or <code>undefined</code> if the feature does not have this semantic.\n * @private\n */\nFeatureTable.prototype.getPropertyBySemantic = function (index, semantic) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    return this._metadataTable.getPropertyBySemantic(index, semantic);\n  }\n\n  return undefined;\n};\n\n/**\n * Sets the value of the property with the given semantic.\n * <p>\n * This only operates on the underlying {@link MetadataTable} (if present) as\n * {@link JsonMetadataTable} and {@link BatchTableHierarchy} do not have\n * semantics.\n * </p>\n *\n * @param {Number} index The index of the feature.\n * @param {String} semantic The case-sensitive semantic of the property.\n * @param {*} value The value of the property that will be copied.\n * @returns {Boolean} <code>true</code> if the property was set, <code>false</code> otherwise.\n * @private\n */\nFeatureTable.prototype.setPropertyBySemantic = function (\n  index,\n  semantic,\n  value\n) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    return this._metadataTable.setPropertyBySemantic(index, semantic, value);\n  }\n\n  return false;\n};\n\n/**\n * Returns a typed array containing the property values for a given propertyId.\n * <p>\n * This only operates on the underlying {@link MetadataTable} (if present) as\n * {@link JsonMetadataTable} and {@link BatchTableHierarchy} do not store\n * values in typed arrays.\n * </p>\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {*} The typed array containing the property values or <code>undefined</code> if the property values are not stored in a typed array.\n *\n * @private\n */\nFeatureTable.prototype.getPropertyTypedArray = function (propertyId) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("propertyId", propertyId);\n  //>>includeEnd(\'debug\');\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    return this._metadataTable.getPropertyTypedArray(propertyId);\n  }\n\n  return undefined;\n};\n\n/**\n * Returns a typed array containing the property values for the property with the given semantic.\n * <p>\n * This only operates on the underlying {@link MetadataTable} (if present) as\n * {@link JsonMetadataTable} and {@link BatchTableHierarchy} do not have\n * semantics.\n * </p>\n *\n * @param {String} semantic The case-sensitive semantic of the property.\n * @returns {*} The typed array containing the property values or <code>undefined</code> if the property values are not stored in a typed array.\n *\n * @private\n */\nFeatureTable.prototype.getPropertyTypedArrayBySemantic = function (semantic) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("semantic", semantic);\n  //>>includeEnd(\'debug\');\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this._metadataTable)) {\n    return this._metadataTable.getPropertyTypedArrayBySemantic(semantic);\n  }\n\n  return undefined;\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (FeatureTable);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0EseUNBQXlDLHFCQUFxQjtBQUM5RCxJQUFJLHlCQUF5QixLQUFLLDJCQUEyQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDJGQUFtQjtBQUNyQjs7QUFFQSxNQUFNLHFFQUFPO0FBQ2I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxQkFBcUI7QUFDOUQsSUFBSSx5QkFBeUIsS0FBSywyQkFBMkI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwyRkFBbUI7QUFDckI7O0FBRUEsTUFBTSxxRUFBTztBQUNiO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5REFBZSxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvU2NlbmUvRmVhdHVyZVRhYmxlLmpzPzY4NWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuXG4vKipcbiAqIEEgZmVhdHVyZSB0YWJsZSBmb3IgdXNlIHdpdGggdGhlIDxjb2RlPkVYVF9mZWF0dXJlX21ldGFkYXRhPC9jb2RlPiBnbFRGXG4gKiBleHRlbnNpb24uIEl0IGFsc28gaW5jbHVkZXMgc29tZSBvcHRpb25zIHRvIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgb2xkZXJcbiAqIDNEIFRpbGVzIDEuMCBiYXRjaCB0YWJsZS5cbiAqIDxwPlxuICogRm9yIGJhdGNoIHRhYmxlcywgcHJvcGVydGllcyBhcmUgcmVzb2x2ZWQgaW4gdGhlIGZvbGxvd2luZyBvcmRlcjpcbiAqIDwvcD5cbiAqIDxvbD5cbiAqICAgPGxpPmJpbmFyeSBwcm9wZXJ0aWVzIGZyb20gb3B0aW9ucy5tZXRhZGF0YVRhYmxlPC9saT5cbiAqICAgPGxpPkpTT04gcHJvcGVydGllcyBmcm9tIG9wdGlvbnMuanNvbk1ldGFkYXRhVGFibGU8L2xpPlxuICogICA8bGk+YmF0Y2ggdGFibGUgaGllcmFyY2h5IHByb3BlcnRpZXMgZnJvbSBvcHRpb25zLmJhdGNoVGFibGVIaWVyYXJjaHk8L2xpPlxuICogPC9vbD5cbiAqIDxwPlxuICogU2VlIHRoZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfZmVhdHVyZV9tZXRhZGF0YXxFWFRfZmVhdHVyZV9tZXRhZGF0YSBFeHRlbnNpb259IGZvciBnbFRGLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLmNvdW50IFRoZSBudW1iZXIgb2YgZmVhdHVyZXMgaW4gdGhlIHRhYmxlLlxuICogQHBhcmFtIHtNZXRhZGF0YVRhYmxlfSBbb3B0aW9ucy5tZXRhZGF0YVRhYmxlXSBBIHRhYmxlIG9mIGJpbmFyeSBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtKc29uTWV0YWRhdGFUYWJsZX0gW29wdGlvbnMuanNvbk1ldGFkYXRhVGFibGVdIEZvciBjb21wYXRpYmlsaXR5IHdpdGggdGhlIG9sZCBiYXRjaCB0YWJsZSwgZnJlZS1mb3JtIEpTT04gcHJvcGVydGllcyBjYW4gYmUgcGFzc2VkIGluLlxuICogQHBhcmFtIHtCYXRjaFRhYmxlSGllcmFyY2h5fSBbb3B0aW9ucy5iYXRjaFRhYmxlSGllcmFyY2h5XSBGb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSA8Y29kZT4zRFRJTEVTX2JhdGNoX3RhYmxlX2hpZXJhcmNoeTwvY29kZT4gZXh0ZW5zaW9uLCBhIGhpZXJhcmNoeSBjYW4gYmUgcHJvdmlkZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZXh0cmFzXSBFeHRyYSB1c2VyLWRlZmluZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmV4dGVuc2lvbnNdIEFuIG9iamVjdCBjb250YWluaW5nIGV4dGVuc2lvbnNcbiAqXG4gKiBAYWxpYXMgRmVhdHVyZVRhYmxlXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGV4cGVyaW1lbnRhbCBUaGlzIGZlYXR1cmUgaXMgdXNpbmcgcGFydCBvZiB0aGUgM0QgVGlsZXMgc3BlYyB0aGF0IGlzIG5vdCBmaW5hbCBhbmQgaXMgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBDZXNpdW0ncyBzdGFuZGFyZCBkZXByZWNhdGlvbiBwb2xpY3kuXG4gKi9cbmZ1bmN0aW9uIEZlYXR1cmVUYWJsZShvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2sudHlwZU9mLm51bWJlcihcIm9wdGlvbnMuY291bnRcIiwgb3B0aW9ucy5jb3VudCk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHRoaXMuX2NvdW50ID0gb3B0aW9ucy5jb3VudDtcbiAgdGhpcy5fZXh0cmFzID0gb3B0aW9ucy5leHRyYXM7XG4gIHRoaXMuX2V4dGVuc2lvbnMgPSBvcHRpb25zLmV4dGVuc2lvbnM7XG4gIHRoaXMuX21ldGFkYXRhVGFibGUgPSBvcHRpb25zLm1ldGFkYXRhVGFibGU7XG4gIHRoaXMuX2pzb25NZXRhZGF0YVRhYmxlID0gb3B0aW9ucy5qc29uTWV0YWRhdGFUYWJsZTtcbiAgdGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeSA9IG9wdGlvbnMuYmF0Y2hUYWJsZUhpZXJhcmNoeTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRmVhdHVyZVRhYmxlLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBmZWF0dXJlcyBpbiB0aGUgdGFibGUuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBGZWF0dXJlVGFibGUucHJvdG90eXBlXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY291bnQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb3VudDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgY2xhc3MgdGhhdCBwcm9wZXJ0aWVzIGNvbmZvcm0gdG8uXG4gICAqXG4gICAqIEBtZW1iZXJvZiBGZWF0dXJlVGFibGUucHJvdG90eXBlXG4gICAqIEB0eXBlIHtNZXRhZGF0YUNsYXNzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGNsYXNzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YWRhdGFUYWJsZS5jbGFzcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRyYXMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRmVhdHVyZVRhYmxlLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Kn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBleHRyYXM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9leHRyYXM7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogRXh0ZW5zaW9ucyBpbiB0aGUgSlNPTiBvYmplY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBGZWF0dXJlVGFibGUucHJvdG90eXBlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0ZW5zaW9uczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4dGVuc2lvbnM7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgZmVhdHVyZSBoYXMgdGhpcyBwcm9wZXJ0eS4gRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgPGNvZGU+M0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHk8L2NvZGU+IGV4dGVuc2lvbiwgdGhpcyBpcyBjb21wdXRlZCBmb3IgYSBzcGVjaWZpYyBmZWF0dXJlLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGZlYXR1cmUuXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlJZCBUaGUgY2FzZS1zZW5zaXRpdmUgSUQgb2YgdGhlIHByb3BlcnR5LlxuICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGZlYXR1cmUgaGFzIHRoaXMgcHJvcGVydHkuXG4gKiBAcHJpdmF0ZVxuICovXG5GZWF0dXJlVGFibGUucHJvdG90eXBlLmhhc1Byb3BlcnR5ID0gZnVuY3Rpb24gKGluZGV4LCBwcm9wZXJ0eUlkKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5udW1iZXIoXCJpbmRleFwiLCBpbmRleCk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJwcm9wZXJ0eUlkXCIsIHByb3BlcnR5SWQpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBpZiAoXG4gICAgZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSAmJlxuICAgIHRoaXMuX21ldGFkYXRhVGFibGUuaGFzUHJvcGVydHkocHJvcGVydHlJZClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgZGVmaW5lZCh0aGlzLl9qc29uTWV0YWRhdGFUYWJsZSkgJiZcbiAgICB0aGlzLl9qc29uTWV0YWRhdGFUYWJsZS5oYXNQcm9wZXJ0eShwcm9wZXJ0eUlkKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChcbiAgICBkZWZpbmVkKHRoaXMuX2JhdGNoVGFibGVIaWVyYXJjaHkpICYmXG4gICAgdGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeS5oYXNQcm9wZXJ0eShpbmRleCwgcHJvcGVydHlJZClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgZmVhdHVyZSBoYXMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBzZW1hbnRpYy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VtYW50aWMgVGhlIGNhc2Utc2Vuc2l0aXZlIHNlbWFudGljIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBmZWF0dXJlIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIHNlbWFudGljLlxuICogQHByaXZhdGVcbiAqL1xuRmVhdHVyZVRhYmxlLnByb3RvdHlwZS5oYXNQcm9wZXJ0eUJ5U2VtYW50aWMgPSBmdW5jdGlvbiAoaW5kZXgsIHNlbWFudGljKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5udW1iZXIoXCJpbmRleFwiLCBpbmRleCk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJzZW1hbnRpY1wiLCBzZW1hbnRpYyk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIGlmIChkZWZpbmVkKHRoaXMuX21ldGFkYXRhVGFibGUpKSB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGFkYXRhVGFibGUuaGFzUHJvcGVydHlCeVNlbWFudGljKHNlbWFudGljKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGFueSBmZWF0dXJlIGhhcyB0aGlzIHByb3BlcnR5LlxuICogVGhpcyBpcyBtYWlubHkgdXNlZnVsIGZvciBjaGVja2luZyB3aGV0aGVyIGEgcHJvcGVydHkgZXhpc3RzIGluIHRoZSBjbGFzc1xuICogaGllcmFyY2h5IHdoZW4gdXNpbmcgdGhlIDxjb2RlPjNEVElMRVNfYmF0Y2hfdGFibGVfaGllcmFyY2h5PC9jb2RlPiBleHRlbnNpb24uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5SWQgVGhlIGNhc2Utc2Vuc2l0aXZlIElEIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIGFueSBmZWF0dXJlIGhhcyB0aGlzIHByb3BlcnR5LlxuICogQHByaXZhdGVcbiAqL1xuRmVhdHVyZVRhYmxlLnByb3RvdHlwZS5wcm9wZXJ0eUV4aXN0cyA9IGZ1bmN0aW9uIChwcm9wZXJ0eUlkKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJwcm9wZXJ0eUlkXCIsIHByb3BlcnR5SWQpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBpZiAoXG4gICAgZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSAmJlxuICAgIHRoaXMuX21ldGFkYXRhVGFibGUuaGFzUHJvcGVydHkocHJvcGVydHlJZClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgZGVmaW5lZCh0aGlzLl9qc29uTWV0YWRhdGFUYWJsZSkgJiZcbiAgICB0aGlzLl9qc29uTWV0YWRhdGFUYWJsZS5oYXNQcm9wZXJ0eShwcm9wZXJ0eUlkKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChcbiAgICBkZWZpbmVkKHRoaXMuX2JhdGNoVGFibGVIaWVyYXJjaHkpICYmXG4gICAgdGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeS5wcm9wZXJ0eUV4aXN0cyhwcm9wZXJ0eUlkKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGFueSBmZWF0dXJlIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIHNlbWFudGljLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZW1hbnRpYyBUaGUgY2FzZS1zZW5zaXRpdmUgc2VtYW50aWMgb2YgdGhlIHByb3BlcnR5LlxuICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgYW55IGZlYXR1cmUgaGFzIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gc2VtYW50aWMuXG4gKiBAcHJpdmF0ZVxuICovXG5GZWF0dXJlVGFibGUucHJvdG90eXBlLnByb3BlcnR5RXhpc3RzQnlTZW1hbnRpYyA9IGZ1bmN0aW9uIChzZW1hbnRpYykge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay50eXBlT2Yuc3RyaW5nKFwic2VtYW50aWNcIiwgc2VtYW50aWMpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBpZiAoZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSkge1xuICAgIHJldHVybiB0aGlzLl9tZXRhZGF0YVRhYmxlLmhhc1Byb3BlcnR5QnlTZW1hbnRpYyhzZW1hbnRpYyk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgc2NyYXRjaFJlc3VsdHMgPSBbXTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IElEcy4gRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgPGNvZGU+M0RUSUxFU19iYXRjaF90YWJsZV9oaWVyYXJjaHk8L2NvZGU+IGV4dGVuc2lvbiwgdGhpcyBpcyBjb21wdXRlZCBmb3IgYSBzcGVjaWZpYyBmZWF0dXJlLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGZlYXR1cmUuXG4gKiBAcGFyYW0ge1N0cmluZ1tdfSBbcmVzdWx0c10gQW4gYXJyYXkgaW50byB3aGljaCB0byBzdG9yZSB0aGUgcmVzdWx0cy5cbiAqIEByZXR1cm5zIHtTdHJpbmdbXX0gVGhlIHByb3BlcnR5IElEcy5cbiAqIEBwcml2YXRlXG4gKi9cbkZlYXR1cmVUYWJsZS5wcm90b3R5cGUuZ2V0UHJvcGVydHlJZHMgPSBmdW5jdGlvbiAoaW5kZXgsIHJlc3VsdHMpIHtcbiAgcmVzdWx0cyA9IGRlZmluZWQocmVzdWx0cykgPyByZXN1bHRzIDogW107XG4gIHJlc3VsdHMubGVuZ3RoID0gMDtcblxuICBpZiAoZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSkge1xuICAgIC8vIGNvbmNhdCBpbiBwbGFjZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSBhcnJheSBhbGxvY2F0aW9uXG4gICAgcmVzdWx0cy5wdXNoLmFwcGx5KFxuICAgICAgcmVzdWx0cyxcbiAgICAgIHRoaXMuX21ldGFkYXRhVGFibGUuZ2V0UHJvcGVydHlJZHMoc2NyYXRjaFJlc3VsdHMpXG4gICAgKTtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRoaXMuX2pzb25NZXRhZGF0YVRhYmxlKSkge1xuICAgIHJlc3VsdHMucHVzaC5hcHBseShcbiAgICAgIHJlc3VsdHMsXG4gICAgICB0aGlzLl9qc29uTWV0YWRhdGFUYWJsZS5nZXRQcm9wZXJ0eUlkcyhzY3JhdGNoUmVzdWx0cylcbiAgICApO1xuICB9XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeSkpIHtcbiAgICByZXN1bHRzLnB1c2guYXBwbHkoXG4gICAgICByZXN1bHRzLFxuICAgICAgdGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeS5nZXRQcm9wZXJ0eUlkcyhpbmRleCwgc2NyYXRjaFJlc3VsdHMpXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIElELlxuICogPHA+XG4gKiBJZiB0aGUgcHJvcGVydHkgaXMgbm9ybWFsaXplZCB0aGUgbm9ybWFsaXplZCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAqIDwvcD5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBmZWF0dXJlLlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5SWQgVGhlIGNhc2Utc2Vuc2l0aXZlIElEIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IG9yIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gaWYgdGhlIGZlYXR1cmUgZG9lcyBub3QgaGF2ZSB0aGlzIHByb3BlcnR5LlxuICogQHByaXZhdGVcbiAqL1xuRmVhdHVyZVRhYmxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChpbmRleCwgcHJvcGVydHlJZCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSkge1xuICAgIHJlc3VsdCA9IHRoaXMuX21ldGFkYXRhVGFibGUuZ2V0UHJvcGVydHkoaW5kZXgsIHByb3BlcnR5SWQpO1xuICAgIGlmIChkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fanNvbk1ldGFkYXRhVGFibGUpKSB7XG4gICAgcmVzdWx0ID0gdGhpcy5fanNvbk1ldGFkYXRhVGFibGUuZ2V0UHJvcGVydHkoaW5kZXgsIHByb3BlcnR5SWQpO1xuICAgIGlmIChkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeSkpIHtcbiAgICByZXN1bHQgPSB0aGlzLl9iYXRjaFRhYmxlSGllcmFyY2h5LmdldFByb3BlcnR5KGluZGV4LCBwcm9wZXJ0eUlkKTtcbiAgICBpZiAoZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBJRC5cbiAqIDxwPlxuICogSWYgdGhlIHByb3BlcnR5IGlzIG5vcm1hbGl6ZWQgYSBub3JtYWxpemVkIHZhbHVlIG11c3QgYmUgcHJvdmlkZWQgdG8gdGhpcyBmdW5jdGlvbi5cbiAqIDwvcD5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBmZWF0dXJlLlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5SWQgVGhlIGNhc2Utc2Vuc2l0aXZlIElEIG9mIHRoZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgY29waWVkLlxuICogQHJldHVybnMge0Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBwcm9wZXJ0eSB3YXMgc2V0LCA8Y29kZT5mYWxzZTwvY29kZT4gb3RoZXJ3aXNlLlxuICogQHByaXZhdGVcbiAqL1xuRmVhdHVyZVRhYmxlLnByb3RvdHlwZS5zZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChpbmRleCwgcHJvcGVydHlJZCwgdmFsdWUpIHtcbiAgaWYgKFxuICAgIGRlZmluZWQodGhpcy5fbWV0YWRhdGFUYWJsZSkgJiZcbiAgICB0aGlzLl9tZXRhZGF0YVRhYmxlLnNldFByb3BlcnR5KGluZGV4LCBwcm9wZXJ0eUlkLCB2YWx1ZSlcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgZGVmaW5lZCh0aGlzLl9qc29uTWV0YWRhdGFUYWJsZSkgJiZcbiAgICB0aGlzLl9qc29uTWV0YWRhdGFUYWJsZS5zZXRQcm9wZXJ0eShpbmRleCwgcHJvcGVydHlJZCwgdmFsdWUpXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICBkZWZpbmVkKHRoaXMuX2JhdGNoVGFibGVIaWVyYXJjaHkpICYmXG4gICAgdGhpcy5fYmF0Y2hUYWJsZUhpZXJhcmNoeS5zZXRQcm9wZXJ0eShpbmRleCwgcHJvcGVydHlJZCwgdmFsdWUpXG4gICk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gc2VtYW50aWMuXG4gKiA8cD5cbiAqIFRoaXMgb25seSBvcGVyYXRlcyBvbiB0aGUgdW5kZXJseWluZyB7QGxpbmsgTWV0YWRhdGFUYWJsZX0gKGlmIHByZXNlbnQpIGFzXG4gKiB7QGxpbmsgSnNvbk1ldGFkYXRhVGFibGV9IGFuZCB7QGxpbmsgQmF0Y2hUYWJsZUhpZXJhcmNoeX0gZG8gbm90IGhhdmVcbiAqIHNlbWFudGljcy5cbiAqIDwvcD5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBmZWF0dXJlLlxuICogQHBhcmFtIHtTdHJpbmd9IHNlbWFudGljIFRoZSBjYXNlLXNlbnNpdGl2ZSBzZW1hbnRpYyBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBvciA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IGlmIHRoZSBmZWF0dXJlIGRvZXMgbm90IGhhdmUgdGhpcyBzZW1hbnRpYy5cbiAqIEBwcml2YXRlXG4gKi9cbkZlYXR1cmVUYWJsZS5wcm90b3R5cGUuZ2V0UHJvcGVydHlCeVNlbWFudGljID0gZnVuY3Rpb24gKGluZGV4LCBzZW1hbnRpYykge1xuICBpZiAoZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSkge1xuICAgIHJldHVybiB0aGlzLl9tZXRhZGF0YVRhYmxlLmdldFByb3BlcnR5QnlTZW1hbnRpYyhpbmRleCwgc2VtYW50aWMpO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIHNlbWFudGljLlxuICogPHA+XG4gKiBUaGlzIG9ubHkgb3BlcmF0ZXMgb24gdGhlIHVuZGVybHlpbmcge0BsaW5rIE1ldGFkYXRhVGFibGV9IChpZiBwcmVzZW50KSBhc1xuICoge0BsaW5rIEpzb25NZXRhZGF0YVRhYmxlfSBhbmQge0BsaW5rIEJhdGNoVGFibGVIaWVyYXJjaHl9IGRvIG5vdCBoYXZlXG4gKiBzZW1hbnRpY3MuXG4gKiA8L3A+XG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgZmVhdHVyZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzZW1hbnRpYyBUaGUgY2FzZS1zZW5zaXRpdmUgc2VtYW50aWMgb2YgdGhlIHByb3BlcnR5LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSBjb3BpZWQuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhlIHByb3BlcnR5IHdhcyBzZXQsIDxjb2RlPmZhbHNlPC9jb2RlPiBvdGhlcndpc2UuXG4gKiBAcHJpdmF0ZVxuICovXG5GZWF0dXJlVGFibGUucHJvdG90eXBlLnNldFByb3BlcnR5QnlTZW1hbnRpYyA9IGZ1bmN0aW9uIChcbiAgaW5kZXgsXG4gIHNlbWFudGljLFxuICB2YWx1ZVxuKSB7XG4gIGlmIChkZWZpbmVkKHRoaXMuX21ldGFkYXRhVGFibGUpKSB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGFkYXRhVGFibGUuc2V0UHJvcGVydHlCeVNlbWFudGljKGluZGV4LCBzZW1hbnRpYywgdmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgdHlwZWQgYXJyYXkgY29udGFpbmluZyB0aGUgcHJvcGVydHkgdmFsdWVzIGZvciBhIGdpdmVuIHByb3BlcnR5SWQuXG4gKiA8cD5cbiAqIFRoaXMgb25seSBvcGVyYXRlcyBvbiB0aGUgdW5kZXJseWluZyB7QGxpbmsgTWV0YWRhdGFUYWJsZX0gKGlmIHByZXNlbnQpIGFzXG4gKiB7QGxpbmsgSnNvbk1ldGFkYXRhVGFibGV9IGFuZCB7QGxpbmsgQmF0Y2hUYWJsZUhpZXJhcmNoeX0gZG8gbm90IHN0b3JlXG4gKiB2YWx1ZXMgaW4gdHlwZWQgYXJyYXlzLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eUlkIFRoZSBjYXNlLXNlbnNpdGl2ZSBJRCBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHR5cGVkIGFycmF5IGNvbnRhaW5pbmcgdGhlIHByb3BlcnR5IHZhbHVlcyBvciA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IGlmIHRoZSBwcm9wZXJ0eSB2YWx1ZXMgYXJlIG5vdCBzdG9yZWQgaW4gYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5GZWF0dXJlVGFibGUucHJvdG90eXBlLmdldFByb3BlcnR5VHlwZWRBcnJheSA9IGZ1bmN0aW9uIChwcm9wZXJ0eUlkKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJwcm9wZXJ0eUlkXCIsIHByb3BlcnR5SWQpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBpZiAoZGVmaW5lZCh0aGlzLl9tZXRhZGF0YVRhYmxlKSkge1xuICAgIHJldHVybiB0aGlzLl9tZXRhZGF0YVRhYmxlLmdldFByb3BlcnR5VHlwZWRBcnJheShwcm9wZXJ0eUlkKTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSB0eXBlZCBhcnJheSBjb250YWluaW5nIHRoZSBwcm9wZXJ0eSB2YWx1ZXMgZm9yIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBzZW1hbnRpYy5cbiAqIDxwPlxuICogVGhpcyBvbmx5IG9wZXJhdGVzIG9uIHRoZSB1bmRlcmx5aW5nIHtAbGluayBNZXRhZGF0YVRhYmxlfSAoaWYgcHJlc2VudCkgYXNcbiAqIHtAbGluayBKc29uTWV0YWRhdGFUYWJsZX0gYW5kIHtAbGluayBCYXRjaFRhYmxlSGllcmFyY2h5fSBkbyBub3QgaGF2ZVxuICogc2VtYW50aWNzLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZW1hbnRpYyBUaGUgY2FzZS1zZW5zaXRpdmUgc2VtYW50aWMgb2YgdGhlIHByb3BlcnR5LlxuICogQHJldHVybnMgeyp9IFRoZSB0eXBlZCBhcnJheSBjb250YWluaW5nIHRoZSBwcm9wZXJ0eSB2YWx1ZXMgb3IgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPiBpZiB0aGUgcHJvcGVydHkgdmFsdWVzIGFyZSBub3Qgc3RvcmVkIGluIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRmVhdHVyZVRhYmxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eVR5cGVkQXJyYXlCeVNlbWFudGljID0gZnVuY3Rpb24gKHNlbWFudGljKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5zdHJpbmcoXCJzZW1hbnRpY1wiLCBzZW1hbnRpYyk7XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIGlmIChkZWZpbmVkKHRoaXMuX21ldGFkYXRhVGFibGUpKSB7XG4gICAgcmV0dXJuIHRoaXMuX21ldGFkYXRhVGFibGUuZ2V0UHJvcGVydHlUeXBlZEFycmF5QnlTZW1hbnRpYyhzZW1hbnRpYyk7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZVRhYmxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///59875\n')},67266:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82982);\n/* harmony import */ var _FeatureTextureProperty_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(68710);\n\n\n\n\n\n/**\n * A feature texture.\n * <p>\n * See the {@link https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata|EXT_feature_metadata Extension} for glTF.\n * </p>\n *\n * @param {Object} options Object with the following properties:\n * @param {Object} options.featureTexture The feature texture JSON.\n * @param {MetadataClass} options.class The class that properties conform to.\n * @param {Object.<String, Texture>} options.textures An object mapping texture IDs to {@link Texture} objects.\n *\n * @alias FeatureTexture\n * @constructor\n *\n * @private\n * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n */\nfunction FeatureTexture(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  var featureTexture = options.featureTexture;\n  var classDefinition = options.class;\n  var textures = options.textures;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.featureTexture", featureTexture);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.class", classDefinition);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.textures", textures);\n  //>>includeEnd(\'debug\');\n\n  var extensions = featureTexture.extensions;\n  var extras = featureTexture.extras;\n\n  var properties = {};\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(featureTexture.properties)) {\n    for (var propertyId in featureTexture.properties) {\n      if (featureTexture.properties.hasOwnProperty(propertyId)) {\n        properties[propertyId] = new _FeatureTextureProperty_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z({\n          property: featureTexture.properties[propertyId],\n          classProperty: classDefinition.properties[propertyId],\n          textures: textures,\n        });\n      }\n    }\n  }\n\n  this._class = classDefinition;\n  this._properties = properties;\n  this._extras = extras;\n  this._extensions = extensions;\n}\n\nObject.defineProperties(FeatureTexture.prototype, {\n  /**\n   * The class that properties conform to.\n   *\n   * @memberof FeatureTexture.prototype\n   * @type {MetadataClass}\n   * @readonly\n   * @private\n   */\n  class: {\n    get: function () {\n      return this._class;\n    },\n  },\n\n  /**\n   * Extras in the JSON object.\n   *\n   * @memberof FeatureTexture.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extras: {\n    get: function () {\n      return this._extras;\n    },\n  },\n\n  /**\n   * Extensions in the JSON object.\n   *\n   * @memberof FeatureTexture.prototype\n   * @type {Object}\n   * @readonly\n   * @private\n   */\n  extensions: {\n    get: function () {\n      return this._extensions;\n    },\n  },\n});\n\n/**\n * Gets the property with the given property ID.\n *\n * @param {String} propertyId The case-sensitive ID of the property.\n * @returns {FeatureTextureProperty|undefined} The property, or <code>undefined</code> if the property does not exist.\n * @private\n */\nFeatureTexture.prototype.getProperty = function (propertyId) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.string */ .Z.typeOf.string("propertyId", propertyId);\n  //>>includeEnd(\'debug\');\n\n  return this._properties[propertyId];\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (FeatureTexture);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcyNjYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFxQztBQUNjO0FBQ1Y7QUFDd0I7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBLFlBQVkscUlBQXFJO0FBQ2pKO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZUFBZTtBQUMxQixXQUFXLDBCQUEwQixtREFBbUQsZUFBZTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwRUFBWSxVQUFVLGdHQUF5QjtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLDJGQUFtQjtBQUNyQixFQUFFLDJGQUFtQjtBQUNyQixFQUFFLDJGQUFtQjtBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxxRUFBTztBQUNiO0FBQ0E7QUFDQSxxQ0FBcUMsMkVBQXNCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxrQ0FBa0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDJGQUFtQjtBQUNyQjs7QUFFQTtBQUNBOztBQUVBLHlEQUFlLGNBQWMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9GZWF0dXJlVGV4dHVyZS5qcz9lZjg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDaGVjayBmcm9tIFwiLi4vQ29yZS9DaGVjay5qc1wiO1xuaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBGZWF0dXJlVGV4dHVyZVByb3BlcnR5IGZyb20gXCIuL0ZlYXR1cmVUZXh0dXJlUHJvcGVydHkuanNcIjtcblxuLyoqXG4gKiBBIGZlYXR1cmUgdGV4dHVyZS5cbiAqIDxwPlxuICogU2VlIHRoZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfZmVhdHVyZV9tZXRhZGF0YXxFWFRfZmVhdHVyZV9tZXRhZGF0YSBFeHRlbnNpb259IGZvciBnbFRGLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZlYXR1cmVUZXh0dXJlIFRoZSBmZWF0dXJlIHRleHR1cmUgSlNPTi5cbiAqIEBwYXJhbSB7TWV0YWRhdGFDbGFzc30gb3B0aW9ucy5jbGFzcyBUaGUgY2xhc3MgdGhhdCBwcm9wZXJ0aWVzIGNvbmZvcm0gdG8uXG4gKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCBUZXh0dXJlPn0gb3B0aW9ucy50ZXh0dXJlcyBBbiBvYmplY3QgbWFwcGluZyB0ZXh0dXJlIElEcyB0byB7QGxpbmsgVGV4dHVyZX0gb2JqZWN0cy5cbiAqXG4gKiBAYWxpYXMgRmVhdHVyZVRleHR1cmVcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKiBAZXhwZXJpbWVudGFsIFRoaXMgZmVhdHVyZSBpcyB1c2luZyBwYXJ0IG9mIHRoZSAzRCBUaWxlcyBzcGVjIHRoYXQgaXMgbm90IGZpbmFsIGFuZCBpcyBzdWJqZWN0IHRvIGNoYW5nZSB3aXRob3V0IENlc2l1bSdzIHN0YW5kYXJkIGRlcHJlY2F0aW9uIHBvbGljeS5cbiAqL1xuZnVuY3Rpb24gRmVhdHVyZVRleHR1cmUob3B0aW9ucykge1xuICBvcHRpb25zID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMsIGRlZmF1bHRWYWx1ZS5FTVBUWV9PQkpFQ1QpO1xuICB2YXIgZmVhdHVyZVRleHR1cmUgPSBvcHRpb25zLmZlYXR1cmVUZXh0dXJlO1xuICB2YXIgY2xhc3NEZWZpbml0aW9uID0gb3B0aW9ucy5jbGFzcztcbiAgdmFyIHRleHR1cmVzID0gb3B0aW9ucy50ZXh0dXJlcztcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay50eXBlT2Yub2JqZWN0KFwib3B0aW9ucy5mZWF0dXJlVGV4dHVyZVwiLCBmZWF0dXJlVGV4dHVyZSk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zLmNsYXNzXCIsIGNsYXNzRGVmaW5pdGlvbik7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zLnRleHR1cmVzXCIsIHRleHR1cmVzKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGV4dGVuc2lvbnMgPSBmZWF0dXJlVGV4dHVyZS5leHRlbnNpb25zO1xuICB2YXIgZXh0cmFzID0gZmVhdHVyZVRleHR1cmUuZXh0cmFzO1xuXG4gIHZhciBwcm9wZXJ0aWVzID0ge307XG4gIGlmIChkZWZpbmVkKGZlYXR1cmVUZXh0dXJlLnByb3BlcnRpZXMpKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHlJZCBpbiBmZWF0dXJlVGV4dHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAoZmVhdHVyZVRleHR1cmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eUlkKSkge1xuICAgICAgICBwcm9wZXJ0aWVzW3Byb3BlcnR5SWRdID0gbmV3IEZlYXR1cmVUZXh0dXJlUHJvcGVydHkoe1xuICAgICAgICAgIHByb3BlcnR5OiBmZWF0dXJlVGV4dHVyZS5wcm9wZXJ0aWVzW3Byb3BlcnR5SWRdLFxuICAgICAgICAgIGNsYXNzUHJvcGVydHk6IGNsYXNzRGVmaW5pdGlvbi5wcm9wZXJ0aWVzW3Byb3BlcnR5SWRdLFxuICAgICAgICAgIHRleHR1cmVzOiB0ZXh0dXJlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGhpcy5fY2xhc3MgPSBjbGFzc0RlZmluaXRpb247XG4gIHRoaXMuX3Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICB0aGlzLl9leHRyYXMgPSBleHRyYXM7XG4gIHRoaXMuX2V4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhGZWF0dXJlVGV4dHVyZS5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSBjbGFzcyB0aGF0IHByb3BlcnRpZXMgY29uZm9ybSB0by5cbiAgICpcbiAgICogQG1lbWJlcm9mIEZlYXR1cmVUZXh0dXJlLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TWV0YWRhdGFDbGFzc31cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjbGFzczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsYXNzO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4dHJhcyBpbiB0aGUgSlNPTiBvYmplY3QuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBGZWF0dXJlVGV4dHVyZS5wcm90b3R5cGVcbiAgICogQHR5cGUgeyp9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0cmFzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXh0cmFzO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4dGVuc2lvbnMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRmVhdHVyZVRleHR1cmUucHJvdG90eXBlXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0ZW5zaW9uczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4dGVuc2lvbnM7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIHByb3BlcnR5IElELlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eUlkIFRoZSBjYXNlLXNlbnNpdGl2ZSBJRCBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7RmVhdHVyZVRleHR1cmVQcm9wZXJ0eXx1bmRlZmluZWR9IFRoZSBwcm9wZXJ0eSwgb3IgPGNvZGU+dW5kZWZpbmVkPC9jb2RlPiBpZiB0aGUgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QuXG4gKiBAcHJpdmF0ZVxuICovXG5GZWF0dXJlVGV4dHVyZS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHlJZCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay50eXBlT2Yuc3RyaW5nKFwicHJvcGVydHlJZFwiLCBwcm9wZXJ0eUlkKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXNbcHJvcGVydHlJZF07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlVGV4dHVyZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///67266\n')},68710:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _GltfLoaderUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61120);\n\n\n\n\n/**\n * A property in a feature texture.\n * <p>\n * See the {@link https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata|EXT_feature_metadata Extension} for glTF.\n * </p>\n *\n * @param {Object} options Object with the following properties:\n * @param {Object} options.property The property JSON object.\n * @param {MetadataClassProperty} options.classProperty The class property.\n * @param {Object.<String, Texture>} options.textures An object mapping texture IDs to {@link Texture} objects.\n *\n * @alias FeatureTextureProperty\n * @constructor\n *\n * @private\n * @experimental This feature is using part of the 3D Tiles spec that is not final and is subject to change without Cesium\'s standard deprecation policy.\n */\nfunction FeatureTextureProperty(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n  var property = options.property;\n  var classProperty = options.classProperty;\n  var textures = options.textures;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.property", property);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.classProperty", classProperty);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].typeOf.object */ .Z.typeOf.object("options.textures", textures);\n  //>>includeEnd(\'debug\');\n\n  var textureInfo = property.texture;\n  var textureReader = _GltfLoaderUtil_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].createModelTextureReader */ .Z.createModelTextureReader({\n    textureInfo: textureInfo,\n    channels: property.channels,\n    texture: textures[textureInfo.index],\n  });\n\n  this._textureReader = textureReader;\n  this._classProperty = classProperty;\n  this._extras = property.extras;\n  this._extensions = property.extensions;\n}\n\nObject.defineProperties(FeatureTextureProperty.prototype, {\n  /**\n   * The texture reader.\n   *\n   * @memberof FeatureTextureProperty.prototype\n   * @type {ModelComponents.TextureReader}\n   * @readonly\n   * @private\n   */\n  textureReader: {\n    get: function () {\n      return this._textureReader;\n    },\n  },\n\n  /**\n   * Extras in the JSON object.\n   *\n   * @memberof FeatureTextureProperty.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extras: {\n    get: function () {\n      return this._extras;\n    },\n  },\n\n  /**\n   * Extensions in the JSON object.\n   *\n   * @memberof FeatureTextureProperty.prototype\n   * @type {*}\n   * @readonly\n   * @private\n   */\n  extensions: {\n    get: function () {\n      return this._extensions;\n    },\n  },\n});\n\n/* harmony default export */ __webpack_exports__["Z"] = (FeatureTextureProperty);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjg3MTAuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXFDO0FBQ2M7QUFDRjs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxSUFBcUk7QUFDako7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVywwQkFBMEIsbURBQW1ELGVBQWU7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEVBQVksVUFBVSxnR0FBeUI7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSwyRkFBbUI7QUFDckIsRUFBRSwyRkFBbUI7QUFDckIsRUFBRSwyRkFBbUI7QUFDckI7O0FBRUE7QUFDQSxzQkFBc0IscUhBQXVDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCx5REFBZSxzQkFBc0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9TY2VuZS9GZWF0dXJlVGV4dHVyZVByb3BlcnR5LmpzPzY0OWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IEdsdGZMb2FkZXJVdGlsIGZyb20gXCIuL0dsdGZMb2FkZXJVdGlsLmpzXCI7XG5cbi8qKlxuICogQSBwcm9wZXJ0eSBpbiBhIGZlYXR1cmUgdGV4dHVyZS5cbiAqIDxwPlxuICogU2VlIHRoZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2dsVEYvdHJlZS8zZC10aWxlcy1uZXh0L2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfZmVhdHVyZV9tZXRhZGF0YXxFWFRfZmVhdHVyZV9tZXRhZGF0YSBFeHRlbnNpb259IGZvciBnbFRGLlxuICogPC9wPlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb3BlcnR5IFRoZSBwcm9wZXJ0eSBKU09OIG9iamVjdC5cbiAqIEBwYXJhbSB7TWV0YWRhdGFDbGFzc1Byb3BlcnR5fSBvcHRpb25zLmNsYXNzUHJvcGVydHkgVGhlIGNsYXNzIHByb3BlcnR5LlxuICogQHBhcmFtIHtPYmplY3QuPFN0cmluZywgVGV4dHVyZT59IG9wdGlvbnMudGV4dHVyZXMgQW4gb2JqZWN0IG1hcHBpbmcgdGV4dHVyZSBJRHMgdG8ge0BsaW5rIFRleHR1cmV9IG9iamVjdHMuXG4gKlxuICogQGFsaWFzIEZlYXR1cmVUZXh0dXJlUHJvcGVydHlcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwcml2YXRlXG4gKiBAZXhwZXJpbWVudGFsIFRoaXMgZmVhdHVyZSBpcyB1c2luZyBwYXJ0IG9mIHRoZSAzRCBUaWxlcyBzcGVjIHRoYXQgaXMgbm90IGZpbmFsIGFuZCBpcyBzdWJqZWN0IHRvIGNoYW5nZSB3aXRob3V0IENlc2l1bSdzIHN0YW5kYXJkIGRlcHJlY2F0aW9uIHBvbGljeS5cbiAqL1xuZnVuY3Rpb24gRmVhdHVyZVRleHR1cmVQcm9wZXJ0eShvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCk7XG4gIHZhciBwcm9wZXJ0eSA9IG9wdGlvbnMucHJvcGVydHk7XG4gIHZhciBjbGFzc1Byb3BlcnR5ID0gb3B0aW9ucy5jbGFzc1Byb3BlcnR5O1xuICB2YXIgdGV4dHVyZXMgPSBvcHRpb25zLnRleHR1cmVzO1xuXG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJvcHRpb25zLnByb3BlcnR5XCIsIHByb3BlcnR5KTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMuY2xhc3NQcm9wZXJ0eVwiLCBjbGFzc1Byb3BlcnR5KTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMudGV4dHVyZXNcIiwgdGV4dHVyZXMpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB2YXIgdGV4dHVyZUluZm8gPSBwcm9wZXJ0eS50ZXh0dXJlO1xuICB2YXIgdGV4dHVyZVJlYWRlciA9IEdsdGZMb2FkZXJVdGlsLmNyZWF0ZU1vZGVsVGV4dHVyZVJlYWRlcih7XG4gICAgdGV4dHVyZUluZm86IHRleHR1cmVJbmZvLFxuICAgIGNoYW5uZWxzOiBwcm9wZXJ0eS5jaGFubmVscyxcbiAgICB0ZXh0dXJlOiB0ZXh0dXJlc1t0ZXh0dXJlSW5mby5pbmRleF0sXG4gIH0pO1xuXG4gIHRoaXMuX3RleHR1cmVSZWFkZXIgPSB0ZXh0dXJlUmVhZGVyO1xuICB0aGlzLl9jbGFzc1Byb3BlcnR5ID0gY2xhc3NQcm9wZXJ0eTtcbiAgdGhpcy5fZXh0cmFzID0gcHJvcGVydHkuZXh0cmFzO1xuICB0aGlzLl9leHRlbnNpb25zID0gcHJvcGVydHkuZXh0ZW5zaW9ucztcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRmVhdHVyZVRleHR1cmVQcm9wZXJ0eS5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0dXJlIHJlYWRlci5cbiAgICpcbiAgICogQG1lbWJlcm9mIEZlYXR1cmVUZXh0dXJlUHJvcGVydHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtNb2RlbENvbXBvbmVudHMuVGV4dHVyZVJlYWRlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0ZXh0dXJlUmVhZGVyOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZVJlYWRlcjtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRyYXMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRmVhdHVyZVRleHR1cmVQcm9wZXJ0eS5wcm90b3R5cGVcbiAgICogQHR5cGUgeyp9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0cmFzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXh0cmFzO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4dGVuc2lvbnMgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRmVhdHVyZVRleHR1cmVQcm9wZXJ0eS5wcm90b3R5cGVcbiAgICogQHR5cGUgeyp9XG4gICAqIEByZWFkb25seVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXh0ZW5zaW9uczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4dGVuc2lvbnM7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlVGV4dHVyZVByb3BlcnR5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///68710\n')}}]);