"use strict";(self["webpackChunkvue3_webpack5"]=self["webpackChunkvue3_webpack5"]||[]).push([[9180],{70265:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12572);\n\n\n/**\n * Defines the interface for data sources, which turn arbitrary data into a\n * {@link EntityCollection} for generic consumption. This object is an interface\n * for documentation purposes and is not intended to be instantiated directly.\n * @alias DataSource\n * @constructor\n *\n * @see Entity\n * @see DataSourceDisplay\n */\nfunction DataSource() {\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError();\n}\n\nObject.defineProperties(DataSource.prototype, {\n  /**\n   * Gets a human-readable name for this instance.\n   * @memberof DataSource.prototype\n   * @type {String}\n   */\n  name: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets the preferred clock settings for this data source.\n   * @memberof DataSource.prototype\n   * @type {DataSourceClock}\n   */\n  clock: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets the collection of {@link Entity} instances.\n   * @memberof DataSource.prototype\n   * @type {EntityCollection}\n   */\n  entities: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets a value indicating if the data source is currently loading data.\n   * @memberof DataSource.prototype\n   * @type {Boolean}\n   */\n  isLoading: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets an event that will be raised when the underlying data changes.\n   * @memberof DataSource.prototype\n   * @type {Event}\n   */\n  changedEvent: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets an event that will be raised if an error is encountered during processing.\n   * @memberof DataSource.prototype\n   * @type {Event}\n   */\n  errorEvent: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets an event that will be raised when the value of isLoading changes.\n   * @memberof DataSource.prototype\n   * @type {Event}\n   */\n  loadingEvent: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n  /**\n   * Gets whether or not this data source should be displayed.\n   * @memberof DataSource.prototype\n   * @type {Boolean}\n   */\n  show: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n\n  /**\n   * Gets or sets the clustering options for this data source. This object can be shared between multiple data sources.\n   *\n   * @memberof DataSource.prototype\n   * @type {EntityCluster}\n   */\n  clustering: {\n    get: _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError,\n  },\n});\n\n/**\n * Updates the data source to the provided time.  This function is optional and\n * is not required to be implemented.  It is provided for data sources which\n * retrieve data based on the current animation time or scene state.\n * If implemented, update will be called by {@link DataSourceDisplay} once a frame.\n *\n * @param {JulianDate} time The simulation time.\n * @returns {Boolean} True if this data source is ready to be displayed at the provided time, false otherwise.\n */\nDataSource.prototype.update = function (time) {\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError();\n};\n\n/**\n * @private\n */\nDataSource.setLoading = function (dataSource, isLoading) {\n  if (dataSource._isLoading !== isLoading) {\n    if (isLoading) {\n      dataSource._entityCollection.suspendEvents();\n    } else {\n      dataSource._entityCollection.resumeEvents();\n    }\n    dataSource._isLoading = isLoading;\n    dataSource._loading.raiseEvent(dataSource, isLoading);\n  }\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DataSource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAyNjUuanMiLCJtYXBwaW5ncyI6IjtBQUF1RDs7QUFFdkQ7QUFDQTtBQUNBLElBQUksd0JBQXdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHdIQUFzQztBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyx3SEFBc0M7QUFDL0MsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUyx3SEFBc0M7QUFDL0MsR0FBRztBQUNIO0FBQ0EsNkJBQTZCLGNBQWM7QUFDM0M7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVMsd0hBQXNDO0FBQy9DLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHlCQUF5QjtBQUN0RTtBQUNBLFdBQVcsWUFBWTtBQUN2QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLEVBQUUsd0hBQXNDO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUFlLFVBQVUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9EYXRhU291cmNlLmpzPzQxMjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgaW50ZXJmYWNlIGZvciBkYXRhIHNvdXJjZXMsIHdoaWNoIHR1cm4gYXJiaXRyYXJ5IGRhdGEgaW50byBhXG4gKiB7QGxpbmsgRW50aXR5Q29sbGVjdGlvbn0gZm9yIGdlbmVyaWMgY29uc3VtcHRpb24uIFRoaXMgb2JqZWN0IGlzIGFuIGludGVyZmFjZVxuICogZm9yIGRvY3VtZW50YXRpb24gcHVycG9zZXMgYW5kIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gKiBAYWxpYXMgRGF0YVNvdXJjZVxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHNlZSBFbnRpdHlcbiAqIEBzZWUgRGF0YVNvdXJjZURpc3BsYXlcbiAqL1xuZnVuY3Rpb24gRGF0YVNvdXJjZSgpIHtcbiAgRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IoKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGF0YVNvdXJjZS5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgYSBodW1hbi1yZWFkYWJsZSBuYW1lIGZvciB0aGlzIGluc3RhbmNlLlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZS5wcm90b3R5cGVcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIG5hbWU6IHtcbiAgICBnZXQ6IERldmVsb3BlckVycm9yLnRocm93SW5zdGFudGlhdGlvbkVycm9yLFxuICB9LFxuICAvKipcbiAgICogR2V0cyB0aGUgcHJlZmVycmVkIGNsb2NrIHNldHRpbmdzIGZvciB0aGlzIGRhdGEgc291cmNlLlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZS5wcm90b3R5cGVcbiAgICogQHR5cGUge0RhdGFTb3VyY2VDbG9ja31cbiAgICovXG4gIGNsb2NrOiB7XG4gICAgZ2V0OiBEZXZlbG9wZXJFcnJvci50aHJvd0luc3RhbnRpYXRpb25FcnJvcixcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbGxlY3Rpb24gb2Yge0BsaW5rIEVudGl0eX0gaW5zdGFuY2VzLlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZS5wcm90b3R5cGVcbiAgICogQHR5cGUge0VudGl0eUNvbGxlY3Rpb259XG4gICAqL1xuICBlbnRpdGllczoge1xuICAgIGdldDogRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IsXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIGEgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgZGF0YSBzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcgZGF0YS5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2UucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgaXNMb2FkaW5nOiB7XG4gICAgZ2V0OiBEZXZlbG9wZXJFcnJvci50aHJvd0luc3RhbnRpYXRpb25FcnJvcixcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgYW4gZXZlbnQgdGhhdCB3aWxsIGJlIHJhaXNlZCB3aGVuIHRoZSB1bmRlcmx5aW5nIGRhdGEgY2hhbmdlcy5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2UucHJvdG90eXBlXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICovXG4gIGNoYW5nZWRFdmVudDoge1xuICAgIGdldDogRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IsXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIGFuIGV2ZW50IHRoYXQgd2lsbCBiZSByYWlzZWQgaWYgYW4gZXJyb3IgaXMgZW5jb3VudGVyZWQgZHVyaW5nIHByb2Nlc3NpbmcuXG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqL1xuICBlcnJvckV2ZW50OiB7XG4gICAgZ2V0OiBEZXZlbG9wZXJFcnJvci50aHJvd0luc3RhbnRpYXRpb25FcnJvcixcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgYW4gZXZlbnQgdGhhdCB3aWxsIGJlIHJhaXNlZCB3aGVuIHRoZSB2YWx1ZSBvZiBpc0xvYWRpbmcgY2hhbmdlcy5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2UucHJvdG90eXBlXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICovXG4gIGxvYWRpbmdFdmVudDoge1xuICAgIGdldDogRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IsXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIHdoZXRoZXIgb3Igbm90IHRoaXMgZGF0YSBzb3VyY2Ugc2hvdWxkIGJlIGRpc3BsYXllZC5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2UucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgc2hvdzoge1xuICAgIGdldDogRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IsXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgY2x1c3RlcmluZyBvcHRpb25zIGZvciB0aGlzIGRhdGEgc291cmNlLiBUaGlzIG9iamVjdCBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgZGF0YSBzb3VyY2VzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZS5wcm90b3R5cGVcbiAgICogQHR5cGUge0VudGl0eUNsdXN0ZXJ9XG4gICAqL1xuICBjbHVzdGVyaW5nOiB7XG4gICAgZ2V0OiBEZXZlbG9wZXJFcnJvci50aHJvd0luc3RhbnRpYXRpb25FcnJvcixcbiAgfSxcbn0pO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGRhdGEgc291cmNlIHRvIHRoZSBwcm92aWRlZCB0aW1lLiAgVGhpcyBmdW5jdGlvbiBpcyBvcHRpb25hbCBhbmRcbiAqIGlzIG5vdCByZXF1aXJlZCB0byBiZSBpbXBsZW1lbnRlZC4gIEl0IGlzIHByb3ZpZGVkIGZvciBkYXRhIHNvdXJjZXMgd2hpY2hcbiAqIHJldHJpZXZlIGRhdGEgYmFzZWQgb24gdGhlIGN1cnJlbnQgYW5pbWF0aW9uIHRpbWUgb3Igc2NlbmUgc3RhdGUuXG4gKiBJZiBpbXBsZW1lbnRlZCwgdXBkYXRlIHdpbGwgYmUgY2FsbGVkIGJ5IHtAbGluayBEYXRhU291cmNlRGlzcGxheX0gb25jZSBhIGZyYW1lLlxuICpcbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gdGltZSBUaGUgc2ltdWxhdGlvbiB0aW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhpcyBkYXRhIHNvdXJjZSBpcyByZWFkeSB0byBiZSBkaXNwbGF5ZWQgYXQgdGhlIHByb3ZpZGVkIHRpbWUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuRGF0YVNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3IoKTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRGF0YVNvdXJjZS5zZXRMb2FkaW5nID0gZnVuY3Rpb24gKGRhdGFTb3VyY2UsIGlzTG9hZGluZykge1xuICBpZiAoZGF0YVNvdXJjZS5faXNMb2FkaW5nICE9PSBpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICBkYXRhU291cmNlLl9lbnRpdHlDb2xsZWN0aW9uLnN1c3BlbmRFdmVudHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YVNvdXJjZS5fZW50aXR5Q29sbGVjdGlvbi5yZXN1bWVFdmVudHMoKTtcbiAgICB9XG4gICAgZGF0YVNvdXJjZS5faXNMb2FkaW5nID0gaXNMb2FkaW5nO1xuICAgIGRhdGFTb3VyY2UuX2xvYWRpbmcucmFpc2VFdmVudChkYXRhU291cmNlLCBpc0xvYWRpbmcpO1xuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgRGF0YVNvdXJjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///70265\n')},91419:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Clock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(95884);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14459);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55293);\n/* harmony import */ var _createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33054);\n\n\n\n\n\n\n\n\n/**\n * Represents desired clock settings for a particular {@link DataSource}.  These settings may be applied\n * to the {@link Clock} when the DataSource is loaded.\n *\n * @alias DataSourceClock\n * @constructor\n */\nfunction DataSourceClock() {\n  this._definitionChanged = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\n  this._startTime = undefined;\n  this._stopTime = undefined;\n  this._currentTime = undefined;\n  this._clockRange = undefined;\n  this._clockStep = undefined;\n  this._multiplier = undefined;\n}\n\nObject.defineProperties(DataSourceClock.prototype, {\n  /**\n   * Gets the event that is raised whenever a new property is assigned.\n   * @memberof DataSourceClock.prototype\n   *\n   * @type {Event}\n   * @readonly\n   */\n  definitionChanged: {\n    get: function () {\n      return this._definitionChanged;\n    },\n  },\n\n  /**\n   * Gets or sets the desired start time of the clock.\n   * See {@link Clock#startTime}.\n   * @memberof DataSourceClock.prototype\n   * @type {JulianDate}\n   */\n  startTime: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)("startTime"),\n\n  /**\n   * Gets or sets the desired stop time of the clock.\n   * See {@link Clock#stopTime}.\n   * @memberof DataSourceClock.prototype\n   * @type {JulianDate}\n   */\n  stopTime: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)("stopTime"),\n\n  /**\n   * Gets or sets the desired current time when this data source is loaded.\n   * See {@link Clock#currentTime}.\n   * @memberof DataSourceClock.prototype\n   * @type {JulianDate}\n   */\n  currentTime: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)("currentTime"),\n\n  /**\n   * Gets or sets the desired clock range setting.\n   * See {@link Clock#clockRange}.\n   * @memberof DataSourceClock.prototype\n   * @type {ClockRange}\n   */\n  clockRange: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)("clockRange"),\n\n  /**\n   * Gets or sets the desired clock step setting.\n   * See {@link Clock#clockStep}.\n   * @memberof DataSourceClock.prototype\n   * @type {ClockStep}\n   */\n  clockStep: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)("clockStep"),\n\n  /**\n   * Gets or sets the desired clock multiplier.\n   * See {@link Clock#multiplier}.\n   * @memberof DataSourceClock.prototype\n   * @type {Number}\n   */\n  multiplier: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)("multiplier"),\n});\n\n/**\n * Duplicates a DataSourceClock instance.\n *\n * @param {DataSourceClock} [result] The object onto which to store the result.\n * @returns {DataSourceClock} The modified result parameter or a new instance if one was not provided.\n */\nDataSourceClock.prototype.clone = function (result) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(result)) {\n    result = new DataSourceClock();\n  }\n  result.startTime = this.startTime;\n  result.stopTime = this.stopTime;\n  result.currentTime = this.currentTime;\n  result.clockRange = this.clockRange;\n  result.clockStep = this.clockStep;\n  result.multiplier = this.multiplier;\n  return result;\n};\n\n/**\n * Returns true if this DataSourceClock is equivalent to the other\n *\n * @param {DataSourceClock} other The other DataSourceClock to compare to.\n * @returns {Boolean} <code>true</code> if the DataSourceClocks are equal; otherwise, <code>false</code>.\n */\nDataSourceClock.prototype.equals = function (other) {\n  return (\n    this === other ||\n    ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(other) &&\n      _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].equals */ .Z.equals(this.startTime, other.startTime) &&\n      _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].equals */ .Z.equals(this.stopTime, other.stopTime) &&\n      _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].equals */ .Z.equals(this.currentTime, other.currentTime) &&\n      this.clockRange === other.clockRange &&\n      this.clockStep === other.clockStep &&\n      this.multiplier === other.multiplier)\n  );\n};\n\n/**\n * Assigns each unassigned property on this object to the value\n * of the same property on the provided source object.\n *\n * @param {DataSourceClock} source The object to be merged into this object.\n */\nDataSourceClock.prototype.merge = function (source) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(source)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("source is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this.startTime = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.startTime, source.startTime);\n  this.stopTime = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.stopTime, source.stopTime);\n  this.currentTime = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.currentTime, source.currentTime);\n  this.clockRange = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.clockRange, source.clockRange);\n  this.clockStep = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.clockStep, source.clockStep);\n  this.multiplier = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.multiplier, source.multiplier);\n};\n\n/**\n * Gets the value of this clock instance as a {@link Clock} object.\n *\n * @returns {Clock} The modified result parameter or a new instance if one was not provided.\n */\nDataSourceClock.prototype.getValue = function (result) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(result)) {\n    result = new _Core_Clock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  }\n  result.startTime = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.startTime, result.startTime);\n  result.stopTime = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.stopTime, result.stopTime);\n  result.currentTime = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.currentTime, result.currentTime);\n  result.clockRange = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.clockRange, result.clockRange);\n  result.multiplier = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.multiplier, result.multiplier);\n  result.clockStep = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this.clockStep, result.clockStep);\n  return result;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DataSourceClock);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE0MTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxQztBQUNjO0FBQ1Y7QUFDYztBQUNsQjtBQUNVO0FBQzRCOztBQUUzRTtBQUNBLHVEQUF1RCxpQkFBaUI7QUFDeEUsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsYUFBYSxvRkFBMkI7O0FBRXhDO0FBQ0E7QUFDQSxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVksb0ZBQTJCOztBQUV2QztBQUNBO0FBQ0EsVUFBVSx3QkFBd0I7QUFDbEM7QUFDQSxZQUFZO0FBQ1o7QUFDQSxlQUFlLG9GQUEyQjs7QUFFMUM7QUFDQTtBQUNBLFVBQVUsdUJBQXVCO0FBQ2pDO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsY0FBYyxvRkFBMkI7O0FBRXpDO0FBQ0E7QUFDQSxVQUFVLHNCQUFzQjtBQUNoQztBQUNBLFlBQVk7QUFDWjtBQUNBLGFBQWEsb0ZBQTJCOztBQUV4QztBQUNBO0FBQ0EsVUFBVSx1QkFBdUI7QUFDakM7QUFDQSxZQUFZO0FBQ1o7QUFDQSxjQUFjLG9GQUEyQjtBQUN6QyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsYUFBYSxTQUFTLHFEQUFxRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUsscUVBQU87QUFDWixNQUFNLGtGQUFpQjtBQUN2QixNQUFNLGtGQUFpQjtBQUN2QixNQUFNLGtGQUFpQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxRUFBTztBQUNkLGNBQWMsd0VBQWM7QUFDNUI7QUFDQTs7QUFFQSxtQkFBbUIsMEVBQVk7QUFDL0Isa0JBQWtCLDBFQUFZO0FBQzlCLHFCQUFxQiwwRUFBWTtBQUNqQyxvQkFBb0IsMEVBQVk7QUFDaEMsbUJBQW1CLDBFQUFZO0FBQy9CLG9CQUFvQiwwRUFBWTtBQUNoQzs7QUFFQTtBQUNBLCtDQUErQyxhQUFhO0FBQzVEO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsaUJBQWlCLCtEQUFLO0FBQ3RCO0FBQ0EscUJBQXFCLDBFQUFZO0FBQ2pDLG9CQUFvQiwwRUFBWTtBQUNoQyx1QkFBdUIsMEVBQVk7QUFDbkMsc0JBQXNCLDBFQUFZO0FBQ2xDLHNCQUFzQiwwRUFBWTtBQUNsQyxxQkFBcUIsMEVBQVk7QUFDakM7QUFDQTtBQUNBLHlEQUFlLGVBQWUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9EYXRhU291cmNlQ2xvY2suanM/NzA2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2xvY2sgZnJvbSBcIi4uL0NvcmUvQ2xvY2suanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vQ29yZS9FdmVudC5qc1wiO1xuaW1wb3J0IEp1bGlhbkRhdGUgZnJvbSBcIi4uL0NvcmUvSnVsaWFuRGF0ZS5qc1wiO1xuaW1wb3J0IGNyZWF0ZVJhd1Byb3BlcnR5RGVzY3JpcHRvciBmcm9tIFwiLi9jcmVhdGVSYXdQcm9wZXJ0eURlc2NyaXB0b3IuanNcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGRlc2lyZWQgY2xvY2sgc2V0dGluZ3MgZm9yIGEgcGFydGljdWxhciB7QGxpbmsgRGF0YVNvdXJjZX0uICBUaGVzZSBzZXR0aW5ncyBtYXkgYmUgYXBwbGllZFxuICogdG8gdGhlIHtAbGluayBDbG9ja30gd2hlbiB0aGUgRGF0YVNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQGFsaWFzIERhdGFTb3VyY2VDbG9ja1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERhdGFTb3VyY2VDbG9jaygpIHtcbiAgdGhpcy5fZGVmaW5pdGlvbkNoYW5nZWQgPSBuZXcgRXZlbnQoKTtcbiAgdGhpcy5fc3RhcnRUaW1lID0gdW5kZWZpbmVkO1xuICB0aGlzLl9zdG9wVGltZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fY3VycmVudFRpbWUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2Nsb2NrUmFuZ2UgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2Nsb2NrU3RlcCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbXVsdGlwbGllciA9IHVuZGVmaW5lZDtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyByYWlzZWQgd2hlbmV2ZXIgYSBuZXcgcHJvcGVydHkgaXMgYXNzaWduZWQuXG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlQ2xvY2sucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBkZWZpbml0aW9uQ2hhbmdlZDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb25DaGFuZ2VkO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZGVzaXJlZCBzdGFydCB0aW1lIG9mIHRoZSBjbG9jay5cbiAgICogU2VlIHtAbGluayBDbG9jayNzdGFydFRpbWV9LlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7SnVsaWFuRGF0ZX1cbiAgICovXG4gIHN0YXJ0VGltZTogY3JlYXRlUmF3UHJvcGVydHlEZXNjcmlwdG9yKFwic3RhcnRUaW1lXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGRlc2lyZWQgc3RvcCB0aW1lIG9mIHRoZSBjbG9jay5cbiAgICogU2VlIHtAbGluayBDbG9jayNzdG9wVGltZX0uXG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlQ2xvY2sucHJvdG90eXBlXG4gICAqIEB0eXBlIHtKdWxpYW5EYXRlfVxuICAgKi9cbiAgc3RvcFRpbWU6IGNyZWF0ZVJhd1Byb3BlcnR5RGVzY3JpcHRvcihcInN0b3BUaW1lXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGRlc2lyZWQgY3VycmVudCB0aW1lIHdoZW4gdGhpcyBkYXRhIHNvdXJjZSBpcyBsb2FkZWQuXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjY3VycmVudFRpbWV9LlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7SnVsaWFuRGF0ZX1cbiAgICovXG4gIGN1cnJlbnRUaW1lOiBjcmVhdGVSYXdQcm9wZXJ0eURlc2NyaXB0b3IoXCJjdXJyZW50VGltZVwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBkZXNpcmVkIGNsb2NrIHJhbmdlIHNldHRpbmcuXG4gICAqIFNlZSB7QGxpbmsgQ2xvY2sjY2xvY2tSYW5nZX0uXG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlQ2xvY2sucHJvdG90eXBlXG4gICAqIEB0eXBlIHtDbG9ja1JhbmdlfVxuICAgKi9cbiAgY2xvY2tSYW5nZTogY3JlYXRlUmF3UHJvcGVydHlEZXNjcmlwdG9yKFwiY2xvY2tSYW5nZVwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBkZXNpcmVkIGNsb2NrIHN0ZXAgc2V0dGluZy5cbiAgICogU2VlIHtAbGluayBDbG9jayNjbG9ja1N0ZXB9LlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q2xvY2tTdGVwfVxuICAgKi9cbiAgY2xvY2tTdGVwOiBjcmVhdGVSYXdQcm9wZXJ0eURlc2NyaXB0b3IoXCJjbG9ja1N0ZXBcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZGVzaXJlZCBjbG9jayBtdWx0aXBsaWVyLlxuICAgKiBTZWUge0BsaW5rIENsb2NrI211bHRpcGxpZXJ9LlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgbXVsdGlwbGllcjogY3JlYXRlUmF3UHJvcGVydHlEZXNjcmlwdG9yKFwibXVsdGlwbGllclwiKSxcbn0pO1xuXG4vKipcbiAqIER1cGxpY2F0ZXMgYSBEYXRhU291cmNlQ2xvY2sgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHtEYXRhU291cmNlQ2xvY2t9IFtyZXN1bHRdIFRoZSBvYmplY3Qgb250byB3aGljaCB0byBzdG9yZSB0aGUgcmVzdWx0LlxuICogQHJldHVybnMge0RhdGFTb3VyY2VDbG9ja30gVGhlIG1vZGlmaWVkIHJlc3VsdCBwYXJhbWV0ZXIgb3IgYSBuZXcgaW5zdGFuY2UgaWYgb25lIHdhcyBub3QgcHJvdmlkZWQuXG4gKi9cbkRhdGFTb3VyY2VDbG9jay5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gIGlmICghZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgcmVzdWx0ID0gbmV3IERhdGFTb3VyY2VDbG9jaygpO1xuICB9XG4gIHJlc3VsdC5zdGFydFRpbWUgPSB0aGlzLnN0YXJ0VGltZTtcbiAgcmVzdWx0LnN0b3BUaW1lID0gdGhpcy5zdG9wVGltZTtcbiAgcmVzdWx0LmN1cnJlbnRUaW1lID0gdGhpcy5jdXJyZW50VGltZTtcbiAgcmVzdWx0LmNsb2NrUmFuZ2UgPSB0aGlzLmNsb2NrUmFuZ2U7XG4gIHJlc3VsdC5jbG9ja1N0ZXAgPSB0aGlzLmNsb2NrU3RlcDtcbiAgcmVzdWx0Lm11bHRpcGxpZXIgPSB0aGlzLm11bHRpcGxpZXI7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIERhdGFTb3VyY2VDbG9jayBpcyBlcXVpdmFsZW50IHRvIHRoZSBvdGhlclxuICpcbiAqIEBwYXJhbSB7RGF0YVNvdXJjZUNsb2NrfSBvdGhlciBUaGUgb3RoZXIgRGF0YVNvdXJjZUNsb2NrIHRvIGNvbXBhcmUgdG8uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhlIERhdGFTb3VyY2VDbG9ja3MgYXJlIGVxdWFsOyBvdGhlcndpc2UsIDxjb2RlPmZhbHNlPC9jb2RlPi5cbiAqL1xuRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgcmV0dXJuIChcbiAgICB0aGlzID09PSBvdGhlciB8fFxuICAgIChkZWZpbmVkKG90aGVyKSAmJlxuICAgICAgSnVsaWFuRGF0ZS5lcXVhbHModGhpcy5zdGFydFRpbWUsIG90aGVyLnN0YXJ0VGltZSkgJiZcbiAgICAgIEp1bGlhbkRhdGUuZXF1YWxzKHRoaXMuc3RvcFRpbWUsIG90aGVyLnN0b3BUaW1lKSAmJlxuICAgICAgSnVsaWFuRGF0ZS5lcXVhbHModGhpcy5jdXJyZW50VGltZSwgb3RoZXIuY3VycmVudFRpbWUpICYmXG4gICAgICB0aGlzLmNsb2NrUmFuZ2UgPT09IG90aGVyLmNsb2NrUmFuZ2UgJiZcbiAgICAgIHRoaXMuY2xvY2tTdGVwID09PSBvdGhlci5jbG9ja1N0ZXAgJiZcbiAgICAgIHRoaXMubXVsdGlwbGllciA9PT0gb3RoZXIubXVsdGlwbGllcilcbiAgKTtcbn07XG5cbi8qKlxuICogQXNzaWducyBlYWNoIHVuYXNzaWduZWQgcHJvcGVydHkgb24gdGhpcyBvYmplY3QgdG8gdGhlIHZhbHVlXG4gKiBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBvbiB0aGUgcHJvdmlkZWQgc291cmNlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2VDbG9ja30gc291cmNlIFRoZSBvYmplY3QgdG8gYmUgbWVyZ2VkIGludG8gdGhpcyBvYmplY3QuXG4gKi9cbkRhdGFTb3VyY2VDbG9jay5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChzb3VyY2UpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwic291cmNlIGlzIHJlcXVpcmVkLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLnN0YXJ0VGltZSA9IGRlZmF1bHRWYWx1ZSh0aGlzLnN0YXJ0VGltZSwgc291cmNlLnN0YXJ0VGltZSk7XG4gIHRoaXMuc3RvcFRpbWUgPSBkZWZhdWx0VmFsdWUodGhpcy5zdG9wVGltZSwgc291cmNlLnN0b3BUaW1lKTtcbiAgdGhpcy5jdXJyZW50VGltZSA9IGRlZmF1bHRWYWx1ZSh0aGlzLmN1cnJlbnRUaW1lLCBzb3VyY2UuY3VycmVudFRpbWUpO1xuICB0aGlzLmNsb2NrUmFuZ2UgPSBkZWZhdWx0VmFsdWUodGhpcy5jbG9ja1JhbmdlLCBzb3VyY2UuY2xvY2tSYW5nZSk7XG4gIHRoaXMuY2xvY2tTdGVwID0gZGVmYXVsdFZhbHVlKHRoaXMuY2xvY2tTdGVwLCBzb3VyY2UuY2xvY2tTdGVwKTtcbiAgdGhpcy5tdWx0aXBsaWVyID0gZGVmYXVsdFZhbHVlKHRoaXMubXVsdGlwbGllciwgc291cmNlLm11bHRpcGxpZXIpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBvZiB0aGlzIGNsb2NrIGluc3RhbmNlIGFzIGEge0BsaW5rIENsb2NrfSBvYmplY3QuXG4gKlxuICogQHJldHVybnMge0Nsb2NrfSBUaGUgbW9kaWZpZWQgcmVzdWx0IHBhcmFtZXRlciBvciBhIG5ldyBpbnN0YW5jZSBpZiBvbmUgd2FzIG5vdCBwcm92aWRlZC5cbiAqL1xuRGF0YVNvdXJjZUNsb2NrLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgaWYgKCFkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICByZXN1bHQgPSBuZXcgQ2xvY2soKTtcbiAgfVxuICByZXN1bHQuc3RhcnRUaW1lID0gZGVmYXVsdFZhbHVlKHRoaXMuc3RhcnRUaW1lLCByZXN1bHQuc3RhcnRUaW1lKTtcbiAgcmVzdWx0LnN0b3BUaW1lID0gZGVmYXVsdFZhbHVlKHRoaXMuc3RvcFRpbWUsIHJlc3VsdC5zdG9wVGltZSk7XG4gIHJlc3VsdC5jdXJyZW50VGltZSA9IGRlZmF1bHRWYWx1ZSh0aGlzLmN1cnJlbnRUaW1lLCByZXN1bHQuY3VycmVudFRpbWUpO1xuICByZXN1bHQuY2xvY2tSYW5nZSA9IGRlZmF1bHRWYWx1ZSh0aGlzLmNsb2NrUmFuZ2UsIHJlc3VsdC5jbG9ja1JhbmdlKTtcbiAgcmVzdWx0Lm11bHRpcGxpZXIgPSBkZWZhdWx0VmFsdWUodGhpcy5tdWx0aXBsaWVyLCByZXN1bHQubXVsdGlwbGllcik7XG4gIHJlc3VsdC5jbG9ja1N0ZXAgPSBkZWZhdWx0VmFsdWUodGhpcy5jbG9ja1N0ZXAsIHJlc3VsdC5jbG9ja1N0ZXApO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCBkZWZhdWx0IERhdGFTb3VyY2VDbG9jaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///91419\n')},81992:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14459);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99417);\n/* harmony import */ var _ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(13222);\n\n\n\n\n\n\n\n\n/**\n * A collection of {@link DataSource} instances.\n * @alias DataSourceCollection\n * @constructor\n */\nfunction DataSourceCollection() {\n  this._dataSources = [];\n  this._dataSourceAdded = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\n  this._dataSourceRemoved = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\n  this._dataSourceMoved = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\n}\n\nObject.defineProperties(DataSourceCollection.prototype, {\n  /**\n   * Gets the number of data sources in this collection.\n   * @memberof DataSourceCollection.prototype\n   * @type {Number}\n   * @readonly\n   */\n  length: {\n    get: function () {\n      return this._dataSources.length;\n    },\n  },\n\n  /**\n   * An event that is raised when a data source is added to the collection.\n   * Event handlers are passed the data source that was added.\n   * @memberof DataSourceCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  dataSourceAdded: {\n    get: function () {\n      return this._dataSourceAdded;\n    },\n  },\n\n  /**\n   * An event that is raised when a data source is removed from the collection.\n   * Event handlers are passed the data source that was removed.\n   * @memberof DataSourceCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  dataSourceRemoved: {\n    get: function () {\n      return this._dataSourceRemoved;\n    },\n  },\n\n  /**\n   * An event that is raised when a data source changes position in the collection.  Event handlers are passed the data source\n   * that was moved, its new index after the move, and its old index prior to the move.\n   * @memberof DataSourceCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  dataSourceMoved: {\n    get: function () {\n      return this._dataSourceMoved;\n    },\n  },\n});\n\n/**\n * Adds a data source to the collection.\n *\n * @param {DataSource|Promise.<DataSource>} dataSource A data source or a promise to a data source to add to the collection.\n *                                        When passing a promise, the data source will not actually be added\n *                                        to the collection until the promise resolves successfully.\n * @returns {Promise.<DataSource>} A Promise that resolves once the data source has been added to the collection.\n */\nDataSourceCollection.prototype.add = function (dataSource) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(dataSource)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("dataSource is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var that = this;\n  var dataSources = this._dataSources;\n  return (0,_ThirdParty_when_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(dataSource, function (value) {\n    //Only add the data source if removeAll has not been called\n    //Since it was added.\n    if (dataSources === that._dataSources) {\n      that._dataSources.push(value);\n      that._dataSourceAdded.raiseEvent(that, value);\n    }\n    return value;\n  });\n};\n\n/**\n * Removes a data source from this collection, if present.\n *\n * @param {DataSource} dataSource The data source to remove.\n * @param {Boolean} [destroy=false] Whether to destroy the data source in addition to removing it.\n * @returns {Boolean} true if the data source was in the collection and was removed,\n *                    false if the data source was not in the collection.\n */\nDataSourceCollection.prototype.remove = function (dataSource, destroy) {\n  destroy = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(destroy, false);\n\n  var index = this._dataSources.indexOf(dataSource);\n  if (index !== -1) {\n    this._dataSources.splice(index, 1);\n    this._dataSourceRemoved.raiseEvent(this, dataSource);\n\n    if (destroy && typeof dataSource.destroy === "function") {\n      dataSource.destroy();\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Removes all data sources from this collection.\n *\n * @param {Boolean} [destroy=false] whether to destroy the data sources in addition to removing them.\n */\nDataSourceCollection.prototype.removeAll = function (destroy) {\n  destroy = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(destroy, false);\n\n  var dataSources = this._dataSources;\n  for (var i = 0, len = dataSources.length; i < len; ++i) {\n    var dataSource = dataSources[i];\n    this._dataSourceRemoved.raiseEvent(this, dataSource);\n\n    if (destroy && typeof dataSource.destroy === "function") {\n      dataSource.destroy();\n    }\n  }\n  this._dataSources = [];\n};\n\n/**\n * Checks to see if the collection contains a given data source.\n *\n * @param {DataSource} dataSource The data source to check for.\n * @returns {Boolean} true if the collection contains the data source, false otherwise.\n */\nDataSourceCollection.prototype.contains = function (dataSource) {\n  return this.indexOf(dataSource) !== -1;\n};\n\n/**\n * Determines the index of a given data source in the collection.\n *\n * @param {DataSource} dataSource The data source to find the index of.\n * @returns {Number} The index of the data source in the collection, or -1 if the data source does not exist in the collection.\n */\nDataSourceCollection.prototype.indexOf = function (dataSource) {\n  return this._dataSources.indexOf(dataSource);\n};\n\n/**\n * Gets a data source by index from the collection.\n *\n * @param {Number} index the index to retrieve.\n * @returns {DataSource} The data source at the specified index.\n */\nDataSourceCollection.prototype.get = function (index) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(index)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("index is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  return this._dataSources[index];\n};\n\n/**\n * Gets a data source by name from the collection.\n *\n * @param {String} name The name to retrieve.\n * @returns {DataSource[]} A list of all data sources matching the provided name.\n */\nDataSourceCollection.prototype.getByName = function (name) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(name)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("name is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  return this._dataSources.filter(function (dataSource) {\n    return dataSource.name === name;\n  });\n};\n\nfunction getIndex(dataSources, dataSource) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(dataSource)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("dataSource is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var index = dataSources.indexOf(dataSource);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (index === -1) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z("dataSource is not in this collection.");\n  }\n  //>>includeEnd(\'debug\');\n\n  return index;\n}\n\nfunction swapDataSources(collection, i, j) {\n  var arr = collection._dataSources;\n  var length = arr.length - 1;\n  i = _Core_Math_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].clamp */ .Z.clamp(i, 0, length);\n  j = _Core_Math_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].clamp */ .Z.clamp(j, 0, length);\n\n  if (i === j) {\n    return;\n  }\n\n  var temp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = temp;\n\n  collection.dataSourceMoved.raiseEvent(temp, j, i);\n}\n\n/**\n * Raises a data source up one position in the collection.\n *\n * @param {DataSource} dataSource The data source to move.\n *\n * @exception {DeveloperError} dataSource is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nDataSourceCollection.prototype.raise = function (dataSource) {\n  var index = getIndex(this._dataSources, dataSource);\n  swapDataSources(this, index, index + 1);\n};\n\n/**\n * Lowers a data source down one position in the collection.\n *\n * @param {DataSource} dataSource The data source to move.\n *\n * @exception {DeveloperError} dataSource is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nDataSourceCollection.prototype.lower = function (dataSource) {\n  var index = getIndex(this._dataSources, dataSource);\n  swapDataSources(this, index, index - 1);\n};\n\n/**\n * Raises a data source to the top of the collection.\n *\n * @param {DataSource} dataSource The data source to move.\n *\n * @exception {DeveloperError} dataSource is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nDataSourceCollection.prototype.raiseToTop = function (dataSource) {\n  var index = getIndex(this._dataSources, dataSource);\n  if (index === this._dataSources.length - 1) {\n    return;\n  }\n  this._dataSources.splice(index, 1);\n  this._dataSources.push(dataSource);\n\n  this.dataSourceMoved.raiseEvent(\n    dataSource,\n    this._dataSources.length - 1,\n    index\n  );\n};\n\n/**\n * Lowers a data source to the bottom of the collection.\n *\n * @param {DataSource} dataSource The data source to move.\n *\n * @exception {DeveloperError} dataSource is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nDataSourceCollection.prototype.lowerToBottom = function (dataSource) {\n  var index = getIndex(this._dataSources, dataSource);\n  if (index === 0) {\n    return;\n  }\n  this._dataSources.splice(index, 1);\n  this._dataSources.splice(0, 0, dataSource);\n\n  this.dataSourceMoved.raiseEvent(dataSource, 0, index);\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {Boolean} true if this object was destroyed; otherwise, false.\n *\n * @see DataSourceCollection#destroy\n */\nDataSourceCollection.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the resources held by all data sources in this collection.  Explicitly destroying this\n * object allows for deterministic release of WebGL resources, instead of relying on the garbage\n * collector. Once this object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * dataSourceCollection = dataSourceCollection && dataSourceCollection.destroy();\n *\n * @see DataSourceCollection#isDestroyed\n */\nDataSourceCollection.prototype.destroy = function () {\n  this.removeAll(true);\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DataSourceCollection);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxZQUFZO0FBQ3ZCO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsOENBQThDO0FBQzlDLHdEQUF3RDtBQUN4RCw4Q0FBOEMsc0JBQXNCO0FBQ3BFO0FBQ0EsYUFBYSxTQUFTLG1DQUFtQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFLDhDQUE4QyxzQkFBc0I7QUFDcEU7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkVBQWE7QUFDdEI7QUFDQSx5REFBZSxvQkFBb0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9EYXRhU291cmNlQ29sbGVjdGlvbi5qcz9jZTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vQ29yZS9FdmVudC5qc1wiO1xuaW1wb3J0IENlc2l1bU1hdGggZnJvbSBcIi4uL0NvcmUvTWF0aC5qc1wiO1xuaW1wb3J0IHdoZW4gZnJvbSBcIi4uL1RoaXJkUGFydHkvd2hlbi5qc1wiO1xuXG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiB7QGxpbmsgRGF0YVNvdXJjZX0gaW5zdGFuY2VzLlxuICogQGFsaWFzIERhdGFTb3VyY2VDb2xsZWN0aW9uXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRGF0YVNvdXJjZUNvbGxlY3Rpb24oKSB7XG4gIHRoaXMuX2RhdGFTb3VyY2VzID0gW107XG4gIHRoaXMuX2RhdGFTb3VyY2VBZGRlZCA9IG5ldyBFdmVudCgpO1xuICB0aGlzLl9kYXRhU291cmNlUmVtb3ZlZCA9IG5ldyBFdmVudCgpO1xuICB0aGlzLl9kYXRhU291cmNlTW92ZWQgPSBuZXcgRXZlbnQoKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGF0YVNvdXJjZUNvbGxlY3Rpb24ucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgZGF0YSBzb3VyY2VzIGluIHRoaXMgY29sbGVjdGlvbi5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2VDb2xsZWN0aW9uLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGxlbmd0aDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2VzLmxlbmd0aDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBBbiBldmVudCB0aGF0IGlzIHJhaXNlZCB3aGVuIGEgZGF0YSBzb3VyY2UgaXMgYWRkZWQgdG8gdGhlIGNvbGxlY3Rpb24uXG4gICAqIEV2ZW50IGhhbmRsZXJzIGFyZSBwYXNzZWQgdGhlIGRhdGEgc291cmNlIHRoYXQgd2FzIGFkZGVkLlxuICAgKiBAbWVtYmVyb2YgRGF0YVNvdXJjZUNvbGxlY3Rpb24ucHJvdG90eXBlXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBkYXRhU291cmNlQWRkZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhU291cmNlQWRkZWQ7XG4gICAgfSxcbiAgfSxcblxuICAvKipcbiAgICogQW4gZXZlbnQgdGhhdCBpcyByYWlzZWQgd2hlbiBhIGRhdGEgc291cmNlIGlzIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogRXZlbnQgaGFuZGxlcnMgYXJlIHBhc3NlZCB0aGUgZGF0YSBzb3VyY2UgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2VDb2xsZWN0aW9uLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZGF0YVNvdXJjZVJlbW92ZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhU291cmNlUmVtb3ZlZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBBbiBldmVudCB0aGF0IGlzIHJhaXNlZCB3aGVuIGEgZGF0YSBzb3VyY2UgY2hhbmdlcyBwb3NpdGlvbiBpbiB0aGUgY29sbGVjdGlvbi4gIEV2ZW50IGhhbmRsZXJzIGFyZSBwYXNzZWQgdGhlIGRhdGEgc291cmNlXG4gICAqIHRoYXQgd2FzIG1vdmVkLCBpdHMgbmV3IGluZGV4IGFmdGVyIHRoZSBtb3ZlLCBhbmQgaXRzIG9sZCBpbmRleCBwcmlvciB0byB0aGUgbW92ZS5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2VDb2xsZWN0aW9uLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZGF0YVNvdXJjZU1vdmVkOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGF0YVNvdXJjZU1vdmVkO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBBZGRzIGEgZGF0YSBzb3VyY2UgdG8gdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtEYXRhU291cmNlfFByb21pc2UuPERhdGFTb3VyY2U+fSBkYXRhU291cmNlIEEgZGF0YSBzb3VyY2Ugb3IgYSBwcm9taXNlIHRvIGEgZGF0YSBzb3VyY2UgdG8gYWRkIHRvIHRoZSBjb2xsZWN0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlbiBwYXNzaW5nIGEgcHJvbWlzZSwgdGhlIGRhdGEgc291cmNlIHdpbGwgbm90IGFjdHVhbGx5IGJlIGFkZGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byB0aGUgY29sbGVjdGlvbiB1bnRpbCB0aGUgcHJvbWlzZSByZXNvbHZlcyBzdWNjZXNzZnVsbHkuXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48RGF0YVNvdXJjZT59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIGRhdGEgc291cmNlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGFTb3VyY2UpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGRhdGFTb3VyY2UpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiZGF0YVNvdXJjZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHRoYXQgPSB0aGlzO1xuICB2YXIgZGF0YVNvdXJjZXMgPSB0aGlzLl9kYXRhU291cmNlcztcbiAgcmV0dXJuIHdoZW4oZGF0YVNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy9Pbmx5IGFkZCB0aGUgZGF0YSBzb3VyY2UgaWYgcmVtb3ZlQWxsIGhhcyBub3QgYmVlbiBjYWxsZWRcbiAgICAvL1NpbmNlIGl0IHdhcyBhZGRlZC5cbiAgICBpZiAoZGF0YVNvdXJjZXMgPT09IHRoYXQuX2RhdGFTb3VyY2VzKSB7XG4gICAgICB0aGF0Ll9kYXRhU291cmNlcy5wdXNoKHZhbHVlKTtcbiAgICAgIHRoYXQuX2RhdGFTb3VyY2VBZGRlZC5yYWlzZUV2ZW50KHRoYXQsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIGRhdGEgc291cmNlIGZyb20gdGhpcyBjb2xsZWN0aW9uLCBpZiBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7RGF0YVNvdXJjZX0gZGF0YVNvdXJjZSBUaGUgZGF0YSBzb3VyY2UgdG8gcmVtb3ZlLlxuICogQHBhcmFtIHtCb29sZWFufSBbZGVzdHJveT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBkYXRhIHNvdXJjZSBpbiBhZGRpdGlvbiB0byByZW1vdmluZyBpdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBkYXRhIHNvdXJjZSB3YXMgaW4gdGhlIGNvbGxlY3Rpb24gYW5kIHdhcyByZW1vdmVkLFxuICogICAgICAgICAgICAgICAgICAgIGZhbHNlIGlmIHRoZSBkYXRhIHNvdXJjZSB3YXMgbm90IGluIHRoZSBjb2xsZWN0aW9uLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGRhdGFTb3VyY2UsIGRlc3Ryb3kpIHtcbiAgZGVzdHJveSA9IGRlZmF1bHRWYWx1ZShkZXN0cm95LCBmYWxzZSk7XG5cbiAgdmFyIGluZGV4ID0gdGhpcy5fZGF0YVNvdXJjZXMuaW5kZXhPZihkYXRhU291cmNlKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHRoaXMuX2RhdGFTb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy5fZGF0YVNvdXJjZVJlbW92ZWQucmFpc2VFdmVudCh0aGlzLCBkYXRhU291cmNlKTtcblxuICAgIGlmIChkZXN0cm95ICYmIHR5cGVvZiBkYXRhU291cmNlLmRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZGF0YVNvdXJjZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGRhdGEgc291cmNlcyBmcm9tIHRoaXMgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtkZXN0cm95PWZhbHNlXSB3aGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGRhdGEgc291cmNlcyBpbiBhZGRpdGlvbiB0byByZW1vdmluZyB0aGVtLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gKGRlc3Ryb3kpIHtcbiAgZGVzdHJveSA9IGRlZmF1bHRWYWx1ZShkZXN0cm95LCBmYWxzZSk7XG5cbiAgdmFyIGRhdGFTb3VyY2VzID0gdGhpcy5fZGF0YVNvdXJjZXM7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkYXRhU291cmNlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciBkYXRhU291cmNlID0gZGF0YVNvdXJjZXNbaV07XG4gICAgdGhpcy5fZGF0YVNvdXJjZVJlbW92ZWQucmFpc2VFdmVudCh0aGlzLCBkYXRhU291cmNlKTtcblxuICAgIGlmIChkZXN0cm95ICYmIHR5cGVvZiBkYXRhU291cmNlLmRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZGF0YVNvdXJjZS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG4gIHRoaXMuX2RhdGFTb3VyY2VzID0gW107XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgdGhlIGNvbGxlY3Rpb24gY29udGFpbnMgYSBnaXZlbiBkYXRhIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2V9IGRhdGFTb3VyY2UgVGhlIGRhdGEgc291cmNlIHRvIGNoZWNrIGZvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBjb2xsZWN0aW9uIGNvbnRhaW5zIHRoZSBkYXRhIHNvdXJjZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoZGF0YVNvdXJjZSkge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKGRhdGFTb3VyY2UpICE9PSAtMTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgaW5kZXggb2YgYSBnaXZlbiBkYXRhIHNvdXJjZSBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2V9IGRhdGFTb3VyY2UgVGhlIGRhdGEgc291cmNlIHRvIGZpbmQgdGhlIGluZGV4IG9mLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBkYXRhIHNvdXJjZSBpbiB0aGUgY29sbGVjdGlvbiwgb3IgLTEgaWYgdGhlIGRhdGEgc291cmNlIGRvZXMgbm90IGV4aXN0IGluIHRoZSBjb2xsZWN0aW9uLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChkYXRhU291cmNlKSB7XG4gIHJldHVybiB0aGlzLl9kYXRhU291cmNlcy5pbmRleE9mKGRhdGFTb3VyY2UpO1xufTtcblxuLyoqXG4gKiBHZXRzIGEgZGF0YSBzb3VyY2UgYnkgaW5kZXggZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggdGhlIGluZGV4IHRvIHJldHJpZXZlLlxuICogQHJldHVybnMge0RhdGFTb3VyY2V9IFRoZSBkYXRhIHNvdXJjZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChpbmRleCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJpbmRleCBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2VzW2luZGV4XTtcbn07XG5cbi8qKlxuICogR2V0cyBhIGRhdGEgc291cmNlIGJ5IG5hbWUgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSB0byByZXRyaWV2ZS5cbiAqIEByZXR1cm5zIHtEYXRhU291cmNlW119IEEgbGlzdCBvZiBhbGwgZGF0YSBzb3VyY2VzIG1hdGNoaW5nIHRoZSBwcm92aWRlZCBuYW1lLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QnlOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwibmFtZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2VzLmZpbHRlcihmdW5jdGlvbiAoZGF0YVNvdXJjZSkge1xuICAgIHJldHVybiBkYXRhU291cmNlLm5hbWUgPT09IG5hbWU7XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gZ2V0SW5kZXgoZGF0YVNvdXJjZXMsIGRhdGFTb3VyY2UpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKGRhdGFTb3VyY2UpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiZGF0YVNvdXJjZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGluZGV4ID0gZGF0YVNvdXJjZXMuaW5kZXhPZihkYXRhU291cmNlKTtcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiZGF0YVNvdXJjZSBpcyBub3QgaW4gdGhpcyBjb2xsZWN0aW9uLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHN3YXBEYXRhU291cmNlcyhjb2xsZWN0aW9uLCBpLCBqKSB7XG4gIHZhciBhcnIgPSBjb2xsZWN0aW9uLl9kYXRhU291cmNlcztcbiAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGggLSAxO1xuICBpID0gQ2VzaXVtTWF0aC5jbGFtcChpLCAwLCBsZW5ndGgpO1xuICBqID0gQ2VzaXVtTWF0aC5jbGFtcChqLCAwLCBsZW5ndGgpO1xuXG4gIGlmIChpID09PSBqKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRlbXAgPSBhcnJbaV07XG4gIGFycltpXSA9IGFycltqXTtcbiAgYXJyW2pdID0gdGVtcDtcblxuICBjb2xsZWN0aW9uLmRhdGFTb3VyY2VNb3ZlZC5yYWlzZUV2ZW50KHRlbXAsIGosIGkpO1xufVxuXG4vKipcbiAqIFJhaXNlcyBhIGRhdGEgc291cmNlIHVwIG9uZSBwb3NpdGlvbiBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2V9IGRhdGFTb3VyY2UgVGhlIGRhdGEgc291cmNlIHRvIG1vdmUuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IGRhdGFTb3VyY2UgaXMgbm90IGluIHRoaXMgY29sbGVjdGlvbi5cbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBUaGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpLmUuLCBkZXN0cm95KCkgd2FzIGNhbGxlZC5cbiAqL1xuRGF0YVNvdXJjZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJhaXNlID0gZnVuY3Rpb24gKGRhdGFTb3VyY2UpIHtcbiAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fZGF0YVNvdXJjZXMsIGRhdGFTb3VyY2UpO1xuICBzd2FwRGF0YVNvdXJjZXModGhpcywgaW5kZXgsIGluZGV4ICsgMSk7XG59O1xuXG4vKipcbiAqIExvd2VycyBhIGRhdGEgc291cmNlIGRvd24gb25lIHBvc2l0aW9uIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RGF0YVNvdXJjZX0gZGF0YVNvdXJjZSBUaGUgZGF0YSBzb3VyY2UgdG8gbW92ZS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gZGF0YVNvdXJjZSBpcyBub3QgaW4gdGhpcyBjb2xsZWN0aW9uLlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IFRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGkuZS4sIGRlc3Ryb3koKSB3YXMgY2FsbGVkLlxuICovXG5EYXRhU291cmNlQ29sbGVjdGlvbi5wcm90b3R5cGUubG93ZXIgPSBmdW5jdGlvbiAoZGF0YVNvdXJjZSkge1xuICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9kYXRhU291cmNlcywgZGF0YVNvdXJjZSk7XG4gIHN3YXBEYXRhU291cmNlcyh0aGlzLCBpbmRleCwgaW5kZXggLSAxKTtcbn07XG5cbi8qKlxuICogUmFpc2VzIGEgZGF0YSBzb3VyY2UgdG8gdGhlIHRvcCBvZiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2V9IGRhdGFTb3VyY2UgVGhlIGRhdGEgc291cmNlIHRvIG1vdmUuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IGRhdGFTb3VyY2UgaXMgbm90IGluIHRoaXMgY29sbGVjdGlvbi5cbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBUaGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpLmUuLCBkZXN0cm95KCkgd2FzIGNhbGxlZC5cbiAqL1xuRGF0YVNvdXJjZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJhaXNlVG9Ub3AgPSBmdW5jdGlvbiAoZGF0YVNvdXJjZSkge1xuICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9kYXRhU291cmNlcywgZGF0YVNvdXJjZSk7XG4gIGlmIChpbmRleCA9PT0gdGhpcy5fZGF0YVNvdXJjZXMubGVuZ3RoIC0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9kYXRhU291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB0aGlzLl9kYXRhU291cmNlcy5wdXNoKGRhdGFTb3VyY2UpO1xuXG4gIHRoaXMuZGF0YVNvdXJjZU1vdmVkLnJhaXNlRXZlbnQoXG4gICAgZGF0YVNvdXJjZSxcbiAgICB0aGlzLl9kYXRhU291cmNlcy5sZW5ndGggLSAxLFxuICAgIGluZGV4XG4gICk7XG59O1xuXG4vKipcbiAqIExvd2VycyBhIGRhdGEgc291cmNlIHRvIHRoZSBib3R0b20gb2YgdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtEYXRhU291cmNlfSBkYXRhU291cmNlIFRoZSBkYXRhIHNvdXJjZSB0byBtb3ZlLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBkYXRhU291cmNlIGlzIG5vdCBpbiB0aGlzIGNvbGxlY3Rpb24uXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaS5lLiwgZGVzdHJveSgpIHdhcyBjYWxsZWQuXG4gKi9cbkRhdGFTb3VyY2VDb2xsZWN0aW9uLnByb3RvdHlwZS5sb3dlclRvQm90dG9tID0gZnVuY3Rpb24gKGRhdGFTb3VyY2UpIHtcbiAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fZGF0YVNvdXJjZXMsIGRhdGFTb3VyY2UpO1xuICBpZiAoaW5kZXggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fZGF0YVNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgdGhpcy5fZGF0YVNvdXJjZXMuc3BsaWNlKDAsIDAsIGRhdGFTb3VyY2UpO1xuXG4gIHRoaXMuZGF0YVNvdXJjZU1vdmVkLnJhaXNlRXZlbnQoZGF0YVNvdXJjZSwgMCwgaW5kZXgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqIElmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZDsgY2FsbGluZyBhbnkgZnVuY3Rpb24gb3RoZXIgdGhhblxuICogPGNvZGU+aXNEZXN0cm95ZWQ8L2NvZGU+IHdpbGwgcmVzdWx0IGluIGEge0BsaW5rIERldmVsb3BlckVycm9yfSBleGNlcHRpb24uXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqXG4gKiBAc2VlIERhdGFTb3VyY2VDb2xsZWN0aW9uI2Rlc3Ryb3lcbiAqL1xuRGF0YVNvdXJjZUNvbGxlY3Rpb24ucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSByZXNvdXJjZXMgaGVsZCBieSBhbGwgZGF0YSBzb3VyY2VzIGluIHRoaXMgY29sbGVjdGlvbi4gIEV4cGxpY2l0bHkgZGVzdHJveWluZyB0aGlzXG4gKiBvYmplY3QgYWxsb3dzIGZvciBkZXRlcm1pbmlzdGljIHJlbGVhc2Ugb2YgV2ViR0wgcmVzb3VyY2VzLCBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gdGhlIGdhcmJhZ2VcbiAqIGNvbGxlY3Rvci4gT25jZSB0aGlzIG9iamVjdCBpcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZDsgY2FsbGluZyBhbnkgZnVuY3Rpb24gb3RoZXIgdGhhblxuICogPGNvZGU+aXNEZXN0cm95ZWQ8L2NvZGU+IHdpbGwgcmVzdWx0IGluIGEge0BsaW5rIERldmVsb3BlckVycm9yfSBleGNlcHRpb24uICBUaGVyZWZvcmUsXG4gKiBhc3NpZ24gdGhlIHJldHVybiB2YWx1ZSAoPGNvZGU+dW5kZWZpbmVkPC9jb2RlPikgdG8gdGhlIG9iamVjdCBhcyBkb25lIGluIHRoZSBleGFtcGxlLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBUaGlzIG9iamVjdCB3YXMgZGVzdHJveWVkLCBpLmUuLCBkZXN0cm95KCkgd2FzIGNhbGxlZC5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIGRhdGFTb3VyY2VDb2xsZWN0aW9uID0gZGF0YVNvdXJjZUNvbGxlY3Rpb24gJiYgZGF0YVNvdXJjZUNvbGxlY3Rpb24uZGVzdHJveSgpO1xuICpcbiAqIEBzZWUgRGF0YVNvdXJjZUNvbGxlY3Rpb24jaXNEZXN0cm95ZWRcbiAqL1xuRGF0YVNvdXJjZUNvbGxlY3Rpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVtb3ZlQWxsKHRydWUpO1xuICByZXR1cm4gZGVzdHJveU9iamVjdCh0aGlzKTtcbn07XG5leHBvcnQgZGVmYXVsdCBEYXRhU291cmNlQ29sbGVjdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///81992\n')},41366:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_ApproximateTerrainHeights_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53773);\n/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(48243);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86511);\n/* harmony import */ var _Core_EventHelper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79539);\n/* harmony import */ var _Scene_GroundPolylinePrimitive_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(14978);\n/* harmony import */ var _Scene_GroundPrimitive_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(47780);\n/* harmony import */ var _Scene_OrderedGroundPrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(32073);\n/* harmony import */ var _Scene_PrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(73316);\n/* harmony import */ var _BillboardVisualizer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(76985);\n/* harmony import */ var _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(69895);\n/* harmony import */ var _CustomDataSource_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(18154);\n/* harmony import */ var _GeometryVisualizer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(60500);\n/* harmony import */ var _LabelVisualizer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(74057);\n/* harmony import */ var _ModelVisualizer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(67203);\n/* harmony import */ var _Cesium3DTilesetVisualizer_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(75384);\n/* harmony import */ var _PathVisualizer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(15131);\n/* harmony import */ var _PointVisualizer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(92197);\n/* harmony import */ var _PolylineVisualizer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(30717);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Visualizes a collection of {@link DataSource} instances.\n * @alias DataSourceDisplay\n * @constructor\n *\n * @param {Object} options Object with the following properties:\n * @param {Scene} options.scene The scene in which to display the data.\n * @param {DataSourceCollection} options.dataSourceCollection The data sources to display.\n * @param {DataSourceDisplay.VisualizersCallback} [options.visualizersCallback=DataSourceDisplay.defaultVisualizersCallback]\n *        A function which creates an array of visualizers used for visualization.\n *        If undefined, all standard visualizers are used.\n */\nfunction DataSourceDisplay(options) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.object */ .Z.typeOf.object("options", options);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.object */ .Z.typeOf.object("options.scene", options.scene);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.object */ .Z.typeOf.object(\n    "options.dataSourceCollection",\n    options.dataSourceCollection\n  );\n  //>>includeEnd(\'debug\');\n\n  _Scene_GroundPrimitive_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].initializeTerrainHeights */ .Z.initializeTerrainHeights();\n  _Scene_GroundPolylinePrimitive_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].initializeTerrainHeights */ .Z.initializeTerrainHeights();\n\n  var scene = options.scene;\n  var dataSourceCollection = options.dataSourceCollection;\n\n  this._eventHelper = new _Core_EventHelper_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z();\n  this._eventHelper.add(\n    dataSourceCollection.dataSourceAdded,\n    this._onDataSourceAdded,\n    this\n  );\n  this._eventHelper.add(\n    dataSourceCollection.dataSourceRemoved,\n    this._onDataSourceRemoved,\n    this\n  );\n  this._eventHelper.add(\n    dataSourceCollection.dataSourceMoved,\n    this._onDataSourceMoved,\n    this\n  );\n  this._eventHelper.add(scene.postRender, this._postRender, this);\n\n  this._dataSourceCollection = dataSourceCollection;\n  this._scene = scene;\n  this._visualizersCallback = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(\n    options.visualizersCallback,\n    DataSourceDisplay.defaultVisualizersCallback\n  );\n\n  var primitivesAdded = false;\n  var primitives = new _Scene_PrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\n  var groundPrimitives = new _Scene_PrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\n\n  if (dataSourceCollection.length > 0) {\n    scene.primitives.add(primitives);\n    scene.groundPrimitives.add(groundPrimitives);\n    primitivesAdded = true;\n  }\n\n  this._primitives = primitives;\n  this._groundPrimitives = groundPrimitives;\n\n  for (var i = 0, len = dataSourceCollection.length; i < len; i++) {\n    this._onDataSourceAdded(dataSourceCollection, dataSourceCollection.get(i));\n  }\n\n  var defaultDataSource = new _CustomDataSource_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\n  this._onDataSourceAdded(undefined, defaultDataSource);\n  this._defaultDataSource = defaultDataSource;\n\n  var removeDefaultDataSourceListener;\n  var removeDataSourceCollectionListener;\n  if (!primitivesAdded) {\n    var that = this;\n    var addPrimitives = function () {\n      scene.primitives.add(primitives);\n      scene.groundPrimitives.add(groundPrimitives);\n      removeDefaultDataSourceListener();\n      removeDataSourceCollectionListener();\n      that._removeDefaultDataSourceListener = undefined;\n      that._removeDataSourceCollectionListener = undefined;\n    };\n    removeDefaultDataSourceListener = defaultDataSource.entities.collectionChanged.addEventListener(\n      addPrimitives\n    );\n    removeDataSourceCollectionListener = dataSourceCollection.dataSourceAdded.addEventListener(\n      addPrimitives\n    );\n  }\n\n  this._removeDefaultDataSourceListener = removeDefaultDataSourceListener;\n  this._removeDataSourceCollectionListener = removeDataSourceCollectionListener;\n\n  this._ready = false;\n}\n\n/**\n * Gets or sets the default function which creates an array of visualizers used for visualization.\n * By default, this function uses all standard visualizers.\n *\n * @type {DataSourceDisplay.VisualizersCallback}\n */\nDataSourceDisplay.defaultVisualizersCallback = function (\n  scene,\n  entityCluster,\n  dataSource\n) {\n  var entities = dataSource.entities;\n  return [\n    new _BillboardVisualizer_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z(entityCluster, entities),\n    new _GeometryVisualizer_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(\n      scene,\n      entities,\n      dataSource._primitives,\n      dataSource._groundPrimitives\n    ),\n    new _LabelVisualizer_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z(entityCluster, entities),\n    new _ModelVisualizer_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z(scene, entities),\n    new _Cesium3DTilesetVisualizer_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z(scene, entities),\n    new _PointVisualizer_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z(entityCluster, entities),\n    new _PathVisualizer_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z(scene, entities),\n    new _PolylineVisualizer_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z(\n      scene,\n      entities,\n      dataSource._primitives,\n      dataSource._groundPrimitives\n    ),\n  ];\n};\n\nObject.defineProperties(DataSourceDisplay.prototype, {\n  /**\n   * Gets the scene associated with this display.\n   * @memberof DataSourceDisplay.prototype\n   * @type {Scene}\n   */\n  scene: {\n    get: function () {\n      return this._scene;\n    },\n  },\n  /**\n   * Gets the collection of data sources to display.\n   * @memberof DataSourceDisplay.prototype\n   * @type {DataSourceCollection}\n   */\n  dataSources: {\n    get: function () {\n      return this._dataSourceCollection;\n    },\n  },\n  /**\n   * Gets the default data source instance which can be used to\n   * manually create and visualize entities not tied to\n   * a specific data source. This instance is always available\n   * and does not appear in the list dataSources collection.\n   * @memberof DataSourceDisplay.prototype\n   * @type {CustomDataSource}\n   */\n  defaultDataSource: {\n    get: function () {\n      return this._defaultDataSource;\n    },\n  },\n\n  /**\n   * Gets a value indicating whether or not all entities in the data source are ready\n   * @memberof DataSourceDisplay.prototype\n   * @type {Boolean}\n   * @readonly\n   */\n  ready: {\n    get: function () {\n      return this._ready;\n    },\n  },\n});\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {Boolean} True if this object was destroyed; otherwise, false.\n *\n * @see DataSourceDisplay#destroy\n */\nDataSourceDisplay.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * dataSourceDisplay = dataSourceDisplay.destroy();\n *\n * @see DataSourceDisplay#isDestroyed\n */\nDataSourceDisplay.prototype.destroy = function () {\n  this._eventHelper.removeAll();\n\n  var dataSourceCollection = this._dataSourceCollection;\n  for (var i = 0, length = dataSourceCollection.length; i < length; ++i) {\n    this._onDataSourceRemoved(\n      this._dataSourceCollection,\n      dataSourceCollection.get(i)\n    );\n  }\n  this._onDataSourceRemoved(undefined, this._defaultDataSource);\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(this._removeDefaultDataSourceListener)) {\n    this._removeDefaultDataSourceListener();\n    this._removeDataSourceCollectionListener();\n  } else {\n    this._scene.primitives.remove(this._primitives);\n    this._scene.groundPrimitives.remove(this._groundPrimitives);\n  }\n\n  return (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(this);\n};\n\n/**\n * Updates the display to the provided time.\n *\n * @param {JulianDate} time The simulation time.\n * @returns {Boolean} True if all data sources are ready to be displayed, false otherwise.\n */\nDataSourceDisplay.prototype.update = function (time) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("time", time);\n  //>>includeEnd(\'debug\');\n\n  if (!_Core_ApproximateTerrainHeights_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].initialized */ .Z.initialized) {\n    this._ready = false;\n    return false;\n  }\n\n  var result = true;\n\n  var i;\n  var x;\n  var visualizers;\n  var vLength;\n  var dataSources = this._dataSourceCollection;\n  var length = dataSources.length;\n  for (i = 0; i < length; i++) {\n    var dataSource = dataSources.get(i);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(dataSource.update)) {\n      result = dataSource.update(time) && result;\n    }\n\n    visualizers = dataSource._visualizers;\n    vLength = visualizers.length;\n    for (x = 0; x < vLength; x++) {\n      result = visualizers[x].update(time) && result;\n    }\n  }\n\n  visualizers = this._defaultDataSource._visualizers;\n  vLength = visualizers.length;\n  for (x = 0; x < vLength; x++) {\n    result = visualizers[x].update(time) && result;\n  }\n\n  this._ready = result;\n\n  return result;\n};\n\nDataSourceDisplay.prototype._postRender = function () {\n  // Adds credits for all datasources\n  var frameState = this._scene.frameState;\n  var dataSources = this._dataSourceCollection;\n  var length = dataSources.length;\n  for (var i = 0; i < length; i++) {\n    var dataSource = dataSources.get(i);\n\n    var credit = dataSource.credit;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(credit)) {\n      frameState.creditDisplay.addCredit(credit);\n    }\n\n    // Credits from the resource that the user can\'t remove\n    var credits = dataSource._resourceCredits;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(credits)) {\n      var creditCount = credits.length;\n      for (var c = 0; c < creditCount; c++) {\n        frameState.creditDisplay.addCredit(credits[c]);\n      }\n    }\n  }\n};\n\nvar getBoundingSphereArrayScratch = [];\nvar getBoundingSphereBoundingSphereScratch = new _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\n/**\n * Computes a bounding sphere which encloses the visualization produced for the specified entity.\n * The bounding sphere is in the fixed frame of the scene\'s globe.\n *\n * @param {Entity} entity The entity whose bounding sphere to compute.\n * @param {Boolean} allowPartial If true, pending bounding spheres are ignored and an answer will be returned from the currently available data.\n *                               If false, the the function will halt and return pending if any of the bounding spheres are pending.\n * @param {BoundingSphere} result The bounding sphere onto which to store the result.\n * @returns {BoundingSphereState} BoundingSphereState.DONE if the result contains the bounding sphere,\n *                       BoundingSphereState.PENDING if the result is still being computed, or\n *                       BoundingSphereState.FAILED if the entity has no visualization in the current scene.\n * @private\n */\nDataSourceDisplay.prototype.getBoundingSphere = function (\n  entity,\n  allowPartial,\n  result\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("entity", entity);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.bool */ .Z.typeOf.bool("allowPartial", allowPartial);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("result", result);\n  //>>includeEnd(\'debug\');\n\n  if (!this._ready) {\n    return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].PENDING */ .Z.PENDING;\n  }\n\n  var i;\n  var length;\n  var dataSource = this._defaultDataSource;\n  if (!dataSource.entities.contains(entity)) {\n    dataSource = undefined;\n\n    var dataSources = this._dataSourceCollection;\n    length = dataSources.length;\n    for (i = 0; i < length; i++) {\n      var d = dataSources.get(i);\n      if (d.entities.contains(entity)) {\n        dataSource = d;\n        break;\n      }\n    }\n  }\n\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(dataSource)) {\n    return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].FAILED */ .Z.FAILED;\n  }\n\n  var boundingSpheres = getBoundingSphereArrayScratch;\n  var tmp = getBoundingSphereBoundingSphereScratch;\n\n  var count = 0;\n  var state = _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].DONE */ .Z.DONE;\n  var visualizers = dataSource._visualizers;\n  var visualizersLength = visualizers.length;\n\n  for (i = 0; i < visualizersLength; i++) {\n    var visualizer = visualizers[i];\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z)(visualizer.getBoundingSphere)) {\n      state = visualizers[i].getBoundingSphere(entity, tmp);\n      if (!allowPartial && state === _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].PENDING */ .Z.PENDING) {\n        return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].PENDING */ .Z.PENDING;\n      } else if (state === _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].DONE */ .Z.DONE) {\n        boundingSpheres[count] = _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].clone */ .Z.clone(\n          tmp,\n          boundingSpheres[count]\n        );\n        count++;\n      }\n    }\n  }\n\n  if (count === 0) {\n    return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].FAILED */ .Z.FAILED;\n  }\n\n  boundingSpheres.length = count;\n  _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].fromBoundingSpheres */ .Z.fromBoundingSpheres(boundingSpheres, result);\n  return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].DONE */ .Z.DONE;\n};\n\nDataSourceDisplay.prototype._onDataSourceAdded = function (\n  dataSourceCollection,\n  dataSource\n) {\n  var scene = this._scene;\n\n  var displayPrimitives = this._primitives;\n  var displayGroundPrimitives = this._groundPrimitives;\n\n  var primitives = displayPrimitives.add(new _Scene_PrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z());\n  var groundPrimitives = displayGroundPrimitives.add(\n    new _Scene_OrderedGroundPrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z()\n  );\n\n  dataSource._primitives = primitives;\n  dataSource._groundPrimitives = groundPrimitives;\n\n  var entityCluster = dataSource.clustering;\n  entityCluster._initialize(scene);\n\n  primitives.add(entityCluster);\n\n  dataSource._visualizers = this._visualizersCallback(\n    scene,\n    entityCluster,\n    dataSource\n  );\n};\n\nDataSourceDisplay.prototype._onDataSourceRemoved = function (\n  dataSourceCollection,\n  dataSource\n) {\n  var displayPrimitives = this._primitives;\n  var displayGroundPrimitives = this._groundPrimitives;\n\n  var primitives = dataSource._primitives;\n  var groundPrimitives = dataSource._groundPrimitives;\n\n  var entityCluster = dataSource.clustering;\n  primitives.remove(entityCluster);\n\n  var visualizers = dataSource._visualizers;\n  var length = visualizers.length;\n  for (var i = 0; i < length; i++) {\n    visualizers[i].destroy();\n  }\n\n  displayPrimitives.remove(primitives);\n  displayGroundPrimitives.remove(groundPrimitives);\n\n  dataSource._visualizers = undefined;\n};\n\nDataSourceDisplay.prototype._onDataSourceMoved = function (\n  dataSource,\n  newIndex,\n  oldIndex\n) {\n  var displayPrimitives = this._primitives;\n  var displayGroundPrimitives = this._groundPrimitives;\n\n  var primitives = dataSource._primitives;\n  var groundPrimitives = dataSource._groundPrimitives;\n\n  if (newIndex === oldIndex + 1) {\n    displayPrimitives.raise(primitives);\n    displayGroundPrimitives.raise(groundPrimitives);\n  } else if (newIndex === oldIndex - 1) {\n    displayPrimitives.lower(primitives);\n    displayGroundPrimitives.lower(groundPrimitives);\n  } else if (newIndex === 0) {\n    displayPrimitives.lowerToBottom(primitives);\n    displayGroundPrimitives.lowerToBottom(groundPrimitives);\n    displayPrimitives.raise(primitives); // keep defaultDataSource primitives at index 0 since it\'s not in the collection\n    displayGroundPrimitives.raise(groundPrimitives);\n  } else {\n    displayPrimitives.raiseToTop(primitives);\n    displayGroundPrimitives.raiseToTop(groundPrimitives);\n  }\n};\n\n/**\n * A function which creates an array of visualizers used for visualization.\n * @callback DataSourceDisplay.VisualizersCallback\n *\n * @param {Scene} scene The scene to create visualizers for.\n * @param {DataSource} dataSource The data source to create visualizers for.\n * @returns {Visualizer[]} An array of visualizers used for visualization.\n *\n * @example\n * function createVisualizers(scene, dataSource) {\n *     return [new Cesium.BillboardVisualizer(scene, dataSource.entities)];\n * }\n */\n/* harmony default export */ __webpack_exports__["Z"] = (DataSourceDisplay);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0VBQU87QUFDZjtBQUNBLHFDQUFxQyx5RkFBMkI7QUFDaEUsZUFBZSx5RkFBMkI7QUFDMUMsUUFBUSxtQkFBbUIsbUZBQXdCO0FBQ25ELGlDQUFpQyxvRkFBb0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLHVGQUEwQjtBQUNyQzs7QUFFQTtBQUNBLEVBQUUsZ0hBQWtDO0FBQ3BDLFNBQVMsbUZBQXdCO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2Q0FBNkMsOEVBQW1CO0FBQ2hFO0FBQ0EsUUFBUSwyRkFBZ0M7QUFDeEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxZQUFZO0FBQ3ZCLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBZSxpQkFBaUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9EYXRhU291cmNlRGlzcGxheS5qcz83MThkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcHByb3hpbWF0ZVRlcnJhaW5IZWlnaHRzIGZyb20gXCIuLi9Db3JlL0FwcHJveGltYXRlVGVycmFpbkhlaWdodHMuanNcIjtcbmltcG9ydCBCb3VuZGluZ1NwaGVyZSBmcm9tIFwiLi4vQ29yZS9Cb3VuZGluZ1NwaGVyZS5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IGRlc3Ryb3lPYmplY3QgZnJvbSBcIi4uL0NvcmUvZGVzdHJveU9iamVjdC5qc1wiO1xuaW1wb3J0IEV2ZW50SGVscGVyIGZyb20gXCIuLi9Db3JlL0V2ZW50SGVscGVyLmpzXCI7XG5pbXBvcnQgR3JvdW5kUG9seWxpbmVQcmltaXRpdmUgZnJvbSBcIi4uL1NjZW5lL0dyb3VuZFBvbHlsaW5lUHJpbWl0aXZlLmpzXCI7XG5pbXBvcnQgR3JvdW5kUHJpbWl0aXZlIGZyb20gXCIuLi9TY2VuZS9Hcm91bmRQcmltaXRpdmUuanNcIjtcbmltcG9ydCBPcmRlcmVkR3JvdW5kUHJpbWl0aXZlQ29sbGVjdGlvbiBmcm9tIFwiLi4vU2NlbmUvT3JkZXJlZEdyb3VuZFByaW1pdGl2ZUNvbGxlY3Rpb24uanNcIjtcbmltcG9ydCBQcmltaXRpdmVDb2xsZWN0aW9uIGZyb20gXCIuLi9TY2VuZS9QcmltaXRpdmVDb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgQmlsbGJvYXJkVmlzdWFsaXplciBmcm9tIFwiLi9CaWxsYm9hcmRWaXN1YWxpemVyLmpzXCI7XG5pbXBvcnQgQm91bmRpbmdTcGhlcmVTdGF0ZSBmcm9tIFwiLi9Cb3VuZGluZ1NwaGVyZVN0YXRlLmpzXCI7XG5pbXBvcnQgQ3VzdG9tRGF0YVNvdXJjZSBmcm9tIFwiLi9DdXN0b21EYXRhU291cmNlLmpzXCI7XG5pbXBvcnQgR2VvbWV0cnlWaXN1YWxpemVyIGZyb20gXCIuL0dlb21ldHJ5VmlzdWFsaXplci5qc1wiO1xuaW1wb3J0IExhYmVsVmlzdWFsaXplciBmcm9tIFwiLi9MYWJlbFZpc3VhbGl6ZXIuanNcIjtcbmltcG9ydCBNb2RlbFZpc3VhbGl6ZXIgZnJvbSBcIi4vTW9kZWxWaXN1YWxpemVyLmpzXCI7XG5pbXBvcnQgQ2VzaXVtM0RUaWxlc2V0VmlzdWFsaXplciBmcm9tIFwiLi9DZXNpdW0zRFRpbGVzZXRWaXN1YWxpemVyLmpzXCI7XG5pbXBvcnQgUGF0aFZpc3VhbGl6ZXIgZnJvbSBcIi4vUGF0aFZpc3VhbGl6ZXIuanNcIjtcbmltcG9ydCBQb2ludFZpc3VhbGl6ZXIgZnJvbSBcIi4vUG9pbnRWaXN1YWxpemVyLmpzXCI7XG5pbXBvcnQgUG9seWxpbmVWaXN1YWxpemVyIGZyb20gXCIuL1BvbHlsaW5lVmlzdWFsaXplci5qc1wiO1xuXG4vKipcbiAqIFZpc3VhbGl6ZXMgYSBjb2xsZWN0aW9uIG9mIHtAbGluayBEYXRhU291cmNlfSBpbnN0YW5jZXMuXG4gKiBAYWxpYXMgRGF0YVNvdXJjZURpc3BsYXlcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7U2NlbmV9IG9wdGlvbnMuc2NlbmUgVGhlIHNjZW5lIGluIHdoaWNoIHRvIGRpc3BsYXkgdGhlIGRhdGEuXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2VDb2xsZWN0aW9ufSBvcHRpb25zLmRhdGFTb3VyY2VDb2xsZWN0aW9uIFRoZSBkYXRhIHNvdXJjZXMgdG8gZGlzcGxheS5cbiAqIEBwYXJhbSB7RGF0YVNvdXJjZURpc3BsYXkuVmlzdWFsaXplcnNDYWxsYmFja30gW29wdGlvbnMudmlzdWFsaXplcnNDYWxsYmFjaz1EYXRhU291cmNlRGlzcGxheS5kZWZhdWx0VmlzdWFsaXplcnNDYWxsYmFja11cbiAqICAgICAgICBBIGZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2YgdmlzdWFsaXplcnMgdXNlZCBmb3IgdmlzdWFsaXphdGlvbi5cbiAqICAgICAgICBJZiB1bmRlZmluZWQsIGFsbCBzdGFuZGFyZCB2aXN1YWxpemVycyBhcmUgdXNlZC5cbiAqL1xuZnVuY3Rpb24gRGF0YVNvdXJjZURpc3BsYXkob3B0aW9ucykge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay50eXBlT2Yub2JqZWN0KFwib3B0aW9uc1wiLCBvcHRpb25zKTtcbiAgQ2hlY2sudHlwZU9mLm9iamVjdChcIm9wdGlvbnMuc2NlbmVcIiwgb3B0aW9ucy5zY2VuZSk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXG4gICAgXCJvcHRpb25zLmRhdGFTb3VyY2VDb2xsZWN0aW9uXCIsXG4gICAgb3B0aW9ucy5kYXRhU291cmNlQ29sbGVjdGlvblxuICApO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBHcm91bmRQcmltaXRpdmUuaW5pdGlhbGl6ZVRlcnJhaW5IZWlnaHRzKCk7XG4gIEdyb3VuZFBvbHlsaW5lUHJpbWl0aXZlLmluaXRpYWxpemVUZXJyYWluSGVpZ2h0cygpO1xuXG4gIHZhciBzY2VuZSA9IG9wdGlvbnMuc2NlbmU7XG4gIHZhciBkYXRhU291cmNlQ29sbGVjdGlvbiA9IG9wdGlvbnMuZGF0YVNvdXJjZUNvbGxlY3Rpb247XG5cbiAgdGhpcy5fZXZlbnRIZWxwZXIgPSBuZXcgRXZlbnRIZWxwZXIoKTtcbiAgdGhpcy5fZXZlbnRIZWxwZXIuYWRkKFxuICAgIGRhdGFTb3VyY2VDb2xsZWN0aW9uLmRhdGFTb3VyY2VBZGRlZCxcbiAgICB0aGlzLl9vbkRhdGFTb3VyY2VBZGRlZCxcbiAgICB0aGlzXG4gICk7XG4gIHRoaXMuX2V2ZW50SGVscGVyLmFkZChcbiAgICBkYXRhU291cmNlQ29sbGVjdGlvbi5kYXRhU291cmNlUmVtb3ZlZCxcbiAgICB0aGlzLl9vbkRhdGFTb3VyY2VSZW1vdmVkLFxuICAgIHRoaXNcbiAgKTtcbiAgdGhpcy5fZXZlbnRIZWxwZXIuYWRkKFxuICAgIGRhdGFTb3VyY2VDb2xsZWN0aW9uLmRhdGFTb3VyY2VNb3ZlZCxcbiAgICB0aGlzLl9vbkRhdGFTb3VyY2VNb3ZlZCxcbiAgICB0aGlzXG4gICk7XG4gIHRoaXMuX2V2ZW50SGVscGVyLmFkZChzY2VuZS5wb3N0UmVuZGVyLCB0aGlzLl9wb3N0UmVuZGVyLCB0aGlzKTtcblxuICB0aGlzLl9kYXRhU291cmNlQ29sbGVjdGlvbiA9IGRhdGFTb3VyY2VDb2xsZWN0aW9uO1xuICB0aGlzLl9zY2VuZSA9IHNjZW5lO1xuICB0aGlzLl92aXN1YWxpemVyc0NhbGxiYWNrID0gZGVmYXVsdFZhbHVlKFxuICAgIG9wdGlvbnMudmlzdWFsaXplcnNDYWxsYmFjayxcbiAgICBEYXRhU291cmNlRGlzcGxheS5kZWZhdWx0VmlzdWFsaXplcnNDYWxsYmFja1xuICApO1xuXG4gIHZhciBwcmltaXRpdmVzQWRkZWQgPSBmYWxzZTtcbiAgdmFyIHByaW1pdGl2ZXMgPSBuZXcgUHJpbWl0aXZlQ29sbGVjdGlvbigpO1xuICB2YXIgZ3JvdW5kUHJpbWl0aXZlcyA9IG5ldyBQcmltaXRpdmVDb2xsZWN0aW9uKCk7XG5cbiAgaWYgKGRhdGFTb3VyY2VDb2xsZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICBzY2VuZS5wcmltaXRpdmVzLmFkZChwcmltaXRpdmVzKTtcbiAgICBzY2VuZS5ncm91bmRQcmltaXRpdmVzLmFkZChncm91bmRQcmltaXRpdmVzKTtcbiAgICBwcmltaXRpdmVzQWRkZWQgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fcHJpbWl0aXZlcyA9IHByaW1pdGl2ZXM7XG4gIHRoaXMuX2dyb3VuZFByaW1pdGl2ZXMgPSBncm91bmRQcmltaXRpdmVzO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkYXRhU291cmNlQ29sbGVjdGlvbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHRoaXMuX29uRGF0YVNvdXJjZUFkZGVkKGRhdGFTb3VyY2VDb2xsZWN0aW9uLCBkYXRhU291cmNlQ29sbGVjdGlvbi5nZXQoaSkpO1xuICB9XG5cbiAgdmFyIGRlZmF1bHREYXRhU291cmNlID0gbmV3IEN1c3RvbURhdGFTb3VyY2UoKTtcbiAgdGhpcy5fb25EYXRhU291cmNlQWRkZWQodW5kZWZpbmVkLCBkZWZhdWx0RGF0YVNvdXJjZSk7XG4gIHRoaXMuX2RlZmF1bHREYXRhU291cmNlID0gZGVmYXVsdERhdGFTb3VyY2U7XG5cbiAgdmFyIHJlbW92ZURlZmF1bHREYXRhU291cmNlTGlzdGVuZXI7XG4gIHZhciByZW1vdmVEYXRhU291cmNlQ29sbGVjdGlvbkxpc3RlbmVyO1xuICBpZiAoIXByaW1pdGl2ZXNBZGRlZCkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgYWRkUHJpbWl0aXZlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNjZW5lLnByaW1pdGl2ZXMuYWRkKHByaW1pdGl2ZXMpO1xuICAgICAgc2NlbmUuZ3JvdW5kUHJpbWl0aXZlcy5hZGQoZ3JvdW5kUHJpbWl0aXZlcyk7XG4gICAgICByZW1vdmVEZWZhdWx0RGF0YVNvdXJjZUxpc3RlbmVyKCk7XG4gICAgICByZW1vdmVEYXRhU291cmNlQ29sbGVjdGlvbkxpc3RlbmVyKCk7XG4gICAgICB0aGF0Ll9yZW1vdmVEZWZhdWx0RGF0YVNvdXJjZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgICAgdGhhdC5fcmVtb3ZlRGF0YVNvdXJjZUNvbGxlY3Rpb25MaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJlbW92ZURlZmF1bHREYXRhU291cmNlTGlzdGVuZXIgPSBkZWZhdWx0RGF0YVNvdXJjZS5lbnRpdGllcy5jb2xsZWN0aW9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgYWRkUHJpbWl0aXZlc1xuICAgICk7XG4gICAgcmVtb3ZlRGF0YVNvdXJjZUNvbGxlY3Rpb25MaXN0ZW5lciA9IGRhdGFTb3VyY2VDb2xsZWN0aW9uLmRhdGFTb3VyY2VBZGRlZC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgYWRkUHJpbWl0aXZlc1xuICAgICk7XG4gIH1cblxuICB0aGlzLl9yZW1vdmVEZWZhdWx0RGF0YVNvdXJjZUxpc3RlbmVyID0gcmVtb3ZlRGVmYXVsdERhdGFTb3VyY2VMaXN0ZW5lcjtcbiAgdGhpcy5fcmVtb3ZlRGF0YVNvdXJjZUNvbGxlY3Rpb25MaXN0ZW5lciA9IHJlbW92ZURhdGFTb3VyY2VDb2xsZWN0aW9uTGlzdGVuZXI7XG5cbiAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgdGhlIGRlZmF1bHQgZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZiB2aXN1YWxpemVycyB1c2VkIGZvciB2aXN1YWxpemF0aW9uLlxuICogQnkgZGVmYXVsdCwgdGhpcyBmdW5jdGlvbiB1c2VzIGFsbCBzdGFuZGFyZCB2aXN1YWxpemVycy5cbiAqXG4gKiBAdHlwZSB7RGF0YVNvdXJjZURpc3BsYXkuVmlzdWFsaXplcnNDYWxsYmFja31cbiAqL1xuRGF0YVNvdXJjZURpc3BsYXkuZGVmYXVsdFZpc3VhbGl6ZXJzQ2FsbGJhY2sgPSBmdW5jdGlvbiAoXG4gIHNjZW5lLFxuICBlbnRpdHlDbHVzdGVyLFxuICBkYXRhU291cmNlXG4pIHtcbiAgdmFyIGVudGl0aWVzID0gZGF0YVNvdXJjZS5lbnRpdGllcztcbiAgcmV0dXJuIFtcbiAgICBuZXcgQmlsbGJvYXJkVmlzdWFsaXplcihlbnRpdHlDbHVzdGVyLCBlbnRpdGllcyksXG4gICAgbmV3IEdlb21ldHJ5VmlzdWFsaXplcihcbiAgICAgIHNjZW5lLFxuICAgICAgZW50aXRpZXMsXG4gICAgICBkYXRhU291cmNlLl9wcmltaXRpdmVzLFxuICAgICAgZGF0YVNvdXJjZS5fZ3JvdW5kUHJpbWl0aXZlc1xuICAgICksXG4gICAgbmV3IExhYmVsVmlzdWFsaXplcihlbnRpdHlDbHVzdGVyLCBlbnRpdGllcyksXG4gICAgbmV3IE1vZGVsVmlzdWFsaXplcihzY2VuZSwgZW50aXRpZXMpLFxuICAgIG5ldyBDZXNpdW0zRFRpbGVzZXRWaXN1YWxpemVyKHNjZW5lLCBlbnRpdGllcyksXG4gICAgbmV3IFBvaW50VmlzdWFsaXplcihlbnRpdHlDbHVzdGVyLCBlbnRpdGllcyksXG4gICAgbmV3IFBhdGhWaXN1YWxpemVyKHNjZW5lLCBlbnRpdGllcyksXG4gICAgbmV3IFBvbHlsaW5lVmlzdWFsaXplcihcbiAgICAgIHNjZW5lLFxuICAgICAgZW50aXRpZXMsXG4gICAgICBkYXRhU291cmNlLl9wcmltaXRpdmVzLFxuICAgICAgZGF0YVNvdXJjZS5fZ3JvdW5kUHJpbWl0aXZlc1xuICAgICksXG4gIF07XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEYXRhU291cmNlRGlzcGxheS5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIHNjZW5lIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRpc3BsYXkuXG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlRGlzcGxheS5wcm90b3R5cGVcbiAgICogQHR5cGUge1NjZW5lfVxuICAgKi9cbiAgc2NlbmU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY2VuZTtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyB0aGUgY29sbGVjdGlvbiBvZiBkYXRhIHNvdXJjZXMgdG8gZGlzcGxheS5cbiAgICogQG1lbWJlcm9mIERhdGFTb3VyY2VEaXNwbGF5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7RGF0YVNvdXJjZUNvbGxlY3Rpb259XG4gICAqL1xuICBkYXRhU291cmNlczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2VDb2xsZWN0aW9uO1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkZWZhdWx0IGRhdGEgc291cmNlIGluc3RhbmNlIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAqIG1hbnVhbGx5IGNyZWF0ZSBhbmQgdmlzdWFsaXplIGVudGl0aWVzIG5vdCB0aWVkIHRvXG4gICAqIGEgc3BlY2lmaWMgZGF0YSBzb3VyY2UuIFRoaXMgaW5zdGFuY2UgaXMgYWx3YXlzIGF2YWlsYWJsZVxuICAgKiBhbmQgZG9lcyBub3QgYXBwZWFyIGluIHRoZSBsaXN0IGRhdGFTb3VyY2VzIGNvbGxlY3Rpb24uXG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlRGlzcGxheS5wcm90b3R5cGVcbiAgICogQHR5cGUge0N1c3RvbURhdGFTb3VyY2V9XG4gICAqL1xuICBkZWZhdWx0RGF0YVNvdXJjZToge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHREYXRhU291cmNlO1xuICAgIH0sXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IGFsbCBlbnRpdGllcyBpbiB0aGUgZGF0YSBzb3VyY2UgYXJlIHJlYWR5XG4gICAqIEBtZW1iZXJvZiBEYXRhU291cmNlRGlzcGxheS5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgcmVhZHk6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZWFkeTtcbiAgICB9LFxuICB9LFxufSk7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gKiA8YnIgLz48YnIgLz5cbiAqIElmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZDsgY2FsbGluZyBhbnkgZnVuY3Rpb24gb3RoZXIgdGhhblxuICogPGNvZGU+aXNEZXN0cm95ZWQ8L2NvZGU+IHdpbGwgcmVzdWx0IGluIGEge0BsaW5rIERldmVsb3BlckVycm9yfSBleGNlcHRpb24uXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqXG4gKiBAc2VlIERhdGFTb3VyY2VEaXNwbGF5I2Rlc3Ryb3lcbiAqL1xuRGF0YVNvdXJjZURpc3BsYXkucHJvdG90eXBlLmlzRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBXZWJHTCByZXNvdXJjZXMgaGVsZCBieSB0aGlzIG9iamVjdC4gIERlc3Ryb3lpbmcgYW4gb2JqZWN0IGFsbG93cyBmb3IgZGV0ZXJtaW5pc3RpY1xuICogcmVsZWFzZSBvZiBXZWJHTCByZXNvdXJjZXMsIGluc3RlYWQgb2YgcmVseWluZyBvbiB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IgdG8gZGVzdHJveSB0aGlzIG9iamVjdC5cbiAqIDxiciAvPjxiciAvPlxuICogT25jZSBhbiBvYmplY3QgaXMgZGVzdHJveWVkLCBpdCBzaG91bGQgbm90IGJlIHVzZWQ7IGNhbGxpbmcgYW55IGZ1bmN0aW9uIG90aGVyIHRoYW5cbiAqIDxjb2RlPmlzRGVzdHJveWVkPC9jb2RlPiB3aWxsIHJlc3VsdCBpbiBhIHtAbGluayBEZXZlbG9wZXJFcnJvcn0gZXhjZXB0aW9uLiAgVGhlcmVmb3JlLFxuICogYXNzaWduIHRoZSByZXR1cm4gdmFsdWUgKDxjb2RlPnVuZGVmaW5lZDwvY29kZT4pIHRvIHRoZSBvYmplY3QgYXMgZG9uZSBpbiB0aGUgZXhhbXBsZS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaS5lLiwgZGVzdHJveSgpIHdhcyBjYWxsZWQuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiBkYXRhU291cmNlRGlzcGxheSA9IGRhdGFTb3VyY2VEaXNwbGF5LmRlc3Ryb3koKTtcbiAqXG4gKiBAc2VlIERhdGFTb3VyY2VEaXNwbGF5I2lzRGVzdHJveWVkXG4gKi9cbkRhdGFTb3VyY2VEaXNwbGF5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9ldmVudEhlbHBlci5yZW1vdmVBbGwoKTtcblxuICB2YXIgZGF0YVNvdXJjZUNvbGxlY3Rpb24gPSB0aGlzLl9kYXRhU291cmNlQ29sbGVjdGlvbjtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGRhdGFTb3VyY2VDb2xsZWN0aW9uLmxlbmd0aDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdGhpcy5fb25EYXRhU291cmNlUmVtb3ZlZChcbiAgICAgIHRoaXMuX2RhdGFTb3VyY2VDb2xsZWN0aW9uLFxuICAgICAgZGF0YVNvdXJjZUNvbGxlY3Rpb24uZ2V0KGkpXG4gICAgKTtcbiAgfVxuICB0aGlzLl9vbkRhdGFTb3VyY2VSZW1vdmVkKHVuZGVmaW5lZCwgdGhpcy5fZGVmYXVsdERhdGFTb3VyY2UpO1xuXG4gIGlmIChkZWZpbmVkKHRoaXMuX3JlbW92ZURlZmF1bHREYXRhU291cmNlTGlzdGVuZXIpKSB7XG4gICAgdGhpcy5fcmVtb3ZlRGVmYXVsdERhdGFTb3VyY2VMaXN0ZW5lcigpO1xuICAgIHRoaXMuX3JlbW92ZURhdGFTb3VyY2VDb2xsZWN0aW9uTGlzdGVuZXIoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9zY2VuZS5wcmltaXRpdmVzLnJlbW92ZSh0aGlzLl9wcmltaXRpdmVzKTtcbiAgICB0aGlzLl9zY2VuZS5ncm91bmRQcmltaXRpdmVzLnJlbW92ZSh0aGlzLl9ncm91bmRQcmltaXRpdmVzKTtcbiAgfVxuXG4gIHJldHVybiBkZXN0cm95T2JqZWN0KHRoaXMpO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBkaXNwbGF5IHRvIHRoZSBwcm92aWRlZCB0aW1lLlxuICpcbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gdGltZSBUaGUgc2ltdWxhdGlvbiB0aW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgYWxsIGRhdGEgc291cmNlcyBhcmUgcmVhZHkgdG8gYmUgZGlzcGxheWVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbkRhdGFTb3VyY2VEaXNwbGF5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodGltZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwidGltZVwiLCB0aW1lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgaWYgKCFBcHByb3hpbWF0ZVRlcnJhaW5IZWlnaHRzLmluaXRpYWxpemVkKSB7XG4gICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcblxuICB2YXIgaTtcbiAgdmFyIHg7XG4gIHZhciB2aXN1YWxpemVycztcbiAgdmFyIHZMZW5ndGg7XG4gIHZhciBkYXRhU291cmNlcyA9IHRoaXMuX2RhdGFTb3VyY2VDb2xsZWN0aW9uO1xuICB2YXIgbGVuZ3RoID0gZGF0YVNvdXJjZXMubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2VzLmdldChpKTtcbiAgICBpZiAoZGVmaW5lZChkYXRhU291cmNlLnVwZGF0ZSkpIHtcbiAgICAgIHJlc3VsdCA9IGRhdGFTb3VyY2UudXBkYXRlKHRpbWUpICYmIHJlc3VsdDtcbiAgICB9XG5cbiAgICB2aXN1YWxpemVycyA9IGRhdGFTb3VyY2UuX3Zpc3VhbGl6ZXJzO1xuICAgIHZMZW5ndGggPSB2aXN1YWxpemVycy5sZW5ndGg7XG4gICAgZm9yICh4ID0gMDsgeCA8IHZMZW5ndGg7IHgrKykge1xuICAgICAgcmVzdWx0ID0gdmlzdWFsaXplcnNbeF0udXBkYXRlKHRpbWUpICYmIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICB2aXN1YWxpemVycyA9IHRoaXMuX2RlZmF1bHREYXRhU291cmNlLl92aXN1YWxpemVycztcbiAgdkxlbmd0aCA9IHZpc3VhbGl6ZXJzLmxlbmd0aDtcbiAgZm9yICh4ID0gMDsgeCA8IHZMZW5ndGg7IHgrKykge1xuICAgIHJlc3VsdCA9IHZpc3VhbGl6ZXJzW3hdLnVwZGF0ZSh0aW1lKSAmJiByZXN1bHQ7XG4gIH1cblxuICB0aGlzLl9yZWFkeSA9IHJlc3VsdDtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuRGF0YVNvdXJjZURpc3BsYXkucHJvdG90eXBlLl9wb3N0UmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAvLyBBZGRzIGNyZWRpdHMgZm9yIGFsbCBkYXRhc291cmNlc1xuICB2YXIgZnJhbWVTdGF0ZSA9IHRoaXMuX3NjZW5lLmZyYW1lU3RhdGU7XG4gIHZhciBkYXRhU291cmNlcyA9IHRoaXMuX2RhdGFTb3VyY2VDb2xsZWN0aW9uO1xuICB2YXIgbGVuZ3RoID0gZGF0YVNvdXJjZXMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRhdGFTb3VyY2UgPSBkYXRhU291cmNlcy5nZXQoaSk7XG5cbiAgICB2YXIgY3JlZGl0ID0gZGF0YVNvdXJjZS5jcmVkaXQ7XG4gICAgaWYgKGRlZmluZWQoY3JlZGl0KSkge1xuICAgICAgZnJhbWVTdGF0ZS5jcmVkaXREaXNwbGF5LmFkZENyZWRpdChjcmVkaXQpO1xuICAgIH1cblxuICAgIC8vIENyZWRpdHMgZnJvbSB0aGUgcmVzb3VyY2UgdGhhdCB0aGUgdXNlciBjYW4ndCByZW1vdmVcbiAgICB2YXIgY3JlZGl0cyA9IGRhdGFTb3VyY2UuX3Jlc291cmNlQ3JlZGl0cztcbiAgICBpZiAoZGVmaW5lZChjcmVkaXRzKSkge1xuICAgICAgdmFyIGNyZWRpdENvdW50ID0gY3JlZGl0cy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNyZWRpdENvdW50OyBjKyspIHtcbiAgICAgICAgZnJhbWVTdGF0ZS5jcmVkaXREaXNwbGF5LmFkZENyZWRpdChjcmVkaXRzW2NdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciBnZXRCb3VuZGluZ1NwaGVyZUFycmF5U2NyYXRjaCA9IFtdO1xudmFyIGdldEJvdW5kaW5nU3BoZXJlQm91bmRpbmdTcGhlcmVTY3JhdGNoID0gbmV3IEJvdW5kaW5nU3BoZXJlKCk7XG5cbi8qKlxuICogQ29tcHV0ZXMgYSBib3VuZGluZyBzcGhlcmUgd2hpY2ggZW5jbG9zZXMgdGhlIHZpc3VhbGl6YXRpb24gcHJvZHVjZWQgZm9yIHRoZSBzcGVjaWZpZWQgZW50aXR5LlxuICogVGhlIGJvdW5kaW5nIHNwaGVyZSBpcyBpbiB0aGUgZml4ZWQgZnJhbWUgb2YgdGhlIHNjZW5lJ3MgZ2xvYmUuXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IHdob3NlIGJvdW5kaW5nIHNwaGVyZSB0byBjb21wdXRlLlxuICogQHBhcmFtIHtCb29sZWFufSBhbGxvd1BhcnRpYWwgSWYgdHJ1ZSwgcGVuZGluZyBib3VuZGluZyBzcGhlcmVzIGFyZSBpZ25vcmVkIGFuZCBhbiBhbnN3ZXIgd2lsbCBiZSByZXR1cm5lZCBmcm9tIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIGRhdGEuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBmYWxzZSwgdGhlIHRoZSBmdW5jdGlvbiB3aWxsIGhhbHQgYW5kIHJldHVybiBwZW5kaW5nIGlmIGFueSBvZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBhcmUgcGVuZGluZy5cbiAqIEBwYXJhbSB7Qm91bmRpbmdTcGhlcmV9IHJlc3VsdCBUaGUgYm91bmRpbmcgc3BoZXJlIG9udG8gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtCb3VuZGluZ1NwaGVyZVN0YXRlfSBCb3VuZGluZ1NwaGVyZVN0YXRlLkRPTkUgaWYgdGhlIHJlc3VsdCBjb250YWlucyB0aGUgYm91bmRpbmcgc3BoZXJlLFxuICogICAgICAgICAgICAgICAgICAgICAgIEJvdW5kaW5nU3BoZXJlU3RhdGUuUEVORElORyBpZiB0aGUgcmVzdWx0IGlzIHN0aWxsIGJlaW5nIGNvbXB1dGVkLCBvclxuICogICAgICAgICAgICAgICAgICAgICAgIEJvdW5kaW5nU3BoZXJlU3RhdGUuRkFJTEVEIGlmIHRoZSBlbnRpdHkgaGFzIG5vIHZpc3VhbGl6YXRpb24gaW4gdGhlIGN1cnJlbnQgc2NlbmUuXG4gKiBAcHJpdmF0ZVxuICovXG5EYXRhU291cmNlRGlzcGxheS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdTcGhlcmUgPSBmdW5jdGlvbiAoXG4gIGVudGl0eSxcbiAgYWxsb3dQYXJ0aWFsLFxuICByZXN1bHRcbikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiZW50aXR5XCIsIGVudGl0eSk7XG4gIENoZWNrLnR5cGVPZi5ib29sKFwiYWxsb3dQYXJ0aWFsXCIsIGFsbG93UGFydGlhbCk7XG4gIENoZWNrLmRlZmluZWQoXCJyZXN1bHRcIiwgcmVzdWx0KTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgaWYgKCF0aGlzLl9yZWFkeSkge1xuICAgIHJldHVybiBCb3VuZGluZ1NwaGVyZVN0YXRlLlBFTkRJTkc7XG4gIH1cblxuICB2YXIgaTtcbiAgdmFyIGxlbmd0aDtcbiAgdmFyIGRhdGFTb3VyY2UgPSB0aGlzLl9kZWZhdWx0RGF0YVNvdXJjZTtcbiAgaWYgKCFkYXRhU291cmNlLmVudGl0aWVzLmNvbnRhaW5zKGVudGl0eSkpIHtcbiAgICBkYXRhU291cmNlID0gdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRhdGFTb3VyY2VzID0gdGhpcy5fZGF0YVNvdXJjZUNvbGxlY3Rpb247XG4gICAgbGVuZ3RoID0gZGF0YVNvdXJjZXMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGQgPSBkYXRhU291cmNlcy5nZXQoaSk7XG4gICAgICBpZiAoZC5lbnRpdGllcy5jb250YWlucyhlbnRpdHkpKSB7XG4gICAgICAgIGRhdGFTb3VyY2UgPSBkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIWRlZmluZWQoZGF0YVNvdXJjZSkpIHtcbiAgICByZXR1cm4gQm91bmRpbmdTcGhlcmVTdGF0ZS5GQUlMRUQ7XG4gIH1cblxuICB2YXIgYm91bmRpbmdTcGhlcmVzID0gZ2V0Qm91bmRpbmdTcGhlcmVBcnJheVNjcmF0Y2g7XG4gIHZhciB0bXAgPSBnZXRCb3VuZGluZ1NwaGVyZUJvdW5kaW5nU3BoZXJlU2NyYXRjaDtcblxuICB2YXIgY291bnQgPSAwO1xuICB2YXIgc3RhdGUgPSBCb3VuZGluZ1NwaGVyZVN0YXRlLkRPTkU7XG4gIHZhciB2aXN1YWxpemVycyA9IGRhdGFTb3VyY2UuX3Zpc3VhbGl6ZXJzO1xuICB2YXIgdmlzdWFsaXplcnNMZW5ndGggPSB2aXN1YWxpemVycy5sZW5ndGg7XG5cbiAgZm9yIChpID0gMDsgaSA8IHZpc3VhbGl6ZXJzTGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmlzdWFsaXplciA9IHZpc3VhbGl6ZXJzW2ldO1xuICAgIGlmIChkZWZpbmVkKHZpc3VhbGl6ZXIuZ2V0Qm91bmRpbmdTcGhlcmUpKSB7XG4gICAgICBzdGF0ZSA9IHZpc3VhbGl6ZXJzW2ldLmdldEJvdW5kaW5nU3BoZXJlKGVudGl0eSwgdG1wKTtcbiAgICAgIGlmICghYWxsb3dQYXJ0aWFsICYmIHN0YXRlID09PSBCb3VuZGluZ1NwaGVyZVN0YXRlLlBFTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIEJvdW5kaW5nU3BoZXJlU3RhdGUuUEVORElORztcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEJvdW5kaW5nU3BoZXJlU3RhdGUuRE9ORSkge1xuICAgICAgICBib3VuZGluZ1NwaGVyZXNbY291bnRdID0gQm91bmRpbmdTcGhlcmUuY2xvbmUoXG4gICAgICAgICAgdG1wLFxuICAgICAgICAgIGJvdW5kaW5nU3BoZXJlc1tjb3VudF1cbiAgICAgICAgKTtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoY291bnQgPT09IDApIHtcbiAgICByZXR1cm4gQm91bmRpbmdTcGhlcmVTdGF0ZS5GQUlMRUQ7XG4gIH1cblxuICBib3VuZGluZ1NwaGVyZXMubGVuZ3RoID0gY291bnQ7XG4gIEJvdW5kaW5nU3BoZXJlLmZyb21Cb3VuZGluZ1NwaGVyZXMoYm91bmRpbmdTcGhlcmVzLCByZXN1bHQpO1xuICByZXR1cm4gQm91bmRpbmdTcGhlcmVTdGF0ZS5ET05FO1xufTtcblxuRGF0YVNvdXJjZURpc3BsYXkucHJvdG90eXBlLl9vbkRhdGFTb3VyY2VBZGRlZCA9IGZ1bmN0aW9uIChcbiAgZGF0YVNvdXJjZUNvbGxlY3Rpb24sXG4gIGRhdGFTb3VyY2Vcbikge1xuICB2YXIgc2NlbmUgPSB0aGlzLl9zY2VuZTtcblxuICB2YXIgZGlzcGxheVByaW1pdGl2ZXMgPSB0aGlzLl9wcmltaXRpdmVzO1xuICB2YXIgZGlzcGxheUdyb3VuZFByaW1pdGl2ZXMgPSB0aGlzLl9ncm91bmRQcmltaXRpdmVzO1xuXG4gIHZhciBwcmltaXRpdmVzID0gZGlzcGxheVByaW1pdGl2ZXMuYWRkKG5ldyBQcmltaXRpdmVDb2xsZWN0aW9uKCkpO1xuICB2YXIgZ3JvdW5kUHJpbWl0aXZlcyA9IGRpc3BsYXlHcm91bmRQcmltaXRpdmVzLmFkZChcbiAgICBuZXcgT3JkZXJlZEdyb3VuZFByaW1pdGl2ZUNvbGxlY3Rpb24oKVxuICApO1xuXG4gIGRhdGFTb3VyY2UuX3ByaW1pdGl2ZXMgPSBwcmltaXRpdmVzO1xuICBkYXRhU291cmNlLl9ncm91bmRQcmltaXRpdmVzID0gZ3JvdW5kUHJpbWl0aXZlcztcblxuICB2YXIgZW50aXR5Q2x1c3RlciA9IGRhdGFTb3VyY2UuY2x1c3RlcmluZztcbiAgZW50aXR5Q2x1c3Rlci5faW5pdGlhbGl6ZShzY2VuZSk7XG5cbiAgcHJpbWl0aXZlcy5hZGQoZW50aXR5Q2x1c3Rlcik7XG5cbiAgZGF0YVNvdXJjZS5fdmlzdWFsaXplcnMgPSB0aGlzLl92aXN1YWxpemVyc0NhbGxiYWNrKFxuICAgIHNjZW5lLFxuICAgIGVudGl0eUNsdXN0ZXIsXG4gICAgZGF0YVNvdXJjZVxuICApO1xufTtcblxuRGF0YVNvdXJjZURpc3BsYXkucHJvdG90eXBlLl9vbkRhdGFTb3VyY2VSZW1vdmVkID0gZnVuY3Rpb24gKFxuICBkYXRhU291cmNlQ29sbGVjdGlvbixcbiAgZGF0YVNvdXJjZVxuKSB7XG4gIHZhciBkaXNwbGF5UHJpbWl0aXZlcyA9IHRoaXMuX3ByaW1pdGl2ZXM7XG4gIHZhciBkaXNwbGF5R3JvdW5kUHJpbWl0aXZlcyA9IHRoaXMuX2dyb3VuZFByaW1pdGl2ZXM7XG5cbiAgdmFyIHByaW1pdGl2ZXMgPSBkYXRhU291cmNlLl9wcmltaXRpdmVzO1xuICB2YXIgZ3JvdW5kUHJpbWl0aXZlcyA9IGRhdGFTb3VyY2UuX2dyb3VuZFByaW1pdGl2ZXM7XG5cbiAgdmFyIGVudGl0eUNsdXN0ZXIgPSBkYXRhU291cmNlLmNsdXN0ZXJpbmc7XG4gIHByaW1pdGl2ZXMucmVtb3ZlKGVudGl0eUNsdXN0ZXIpO1xuXG4gIHZhciB2aXN1YWxpemVycyA9IGRhdGFTb3VyY2UuX3Zpc3VhbGl6ZXJzO1xuICB2YXIgbGVuZ3RoID0gdmlzdWFsaXplcnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmlzdWFsaXplcnNbaV0uZGVzdHJveSgpO1xuICB9XG5cbiAgZGlzcGxheVByaW1pdGl2ZXMucmVtb3ZlKHByaW1pdGl2ZXMpO1xuICBkaXNwbGF5R3JvdW5kUHJpbWl0aXZlcy5yZW1vdmUoZ3JvdW5kUHJpbWl0aXZlcyk7XG5cbiAgZGF0YVNvdXJjZS5fdmlzdWFsaXplcnMgPSB1bmRlZmluZWQ7XG59O1xuXG5EYXRhU291cmNlRGlzcGxheS5wcm90b3R5cGUuX29uRGF0YVNvdXJjZU1vdmVkID0gZnVuY3Rpb24gKFxuICBkYXRhU291cmNlLFxuICBuZXdJbmRleCxcbiAgb2xkSW5kZXhcbikge1xuICB2YXIgZGlzcGxheVByaW1pdGl2ZXMgPSB0aGlzLl9wcmltaXRpdmVzO1xuICB2YXIgZGlzcGxheUdyb3VuZFByaW1pdGl2ZXMgPSB0aGlzLl9ncm91bmRQcmltaXRpdmVzO1xuXG4gIHZhciBwcmltaXRpdmVzID0gZGF0YVNvdXJjZS5fcHJpbWl0aXZlcztcbiAgdmFyIGdyb3VuZFByaW1pdGl2ZXMgPSBkYXRhU291cmNlLl9ncm91bmRQcmltaXRpdmVzO1xuXG4gIGlmIChuZXdJbmRleCA9PT0gb2xkSW5kZXggKyAxKSB7XG4gICAgZGlzcGxheVByaW1pdGl2ZXMucmFpc2UocHJpbWl0aXZlcyk7XG4gICAgZGlzcGxheUdyb3VuZFByaW1pdGl2ZXMucmFpc2UoZ3JvdW5kUHJpbWl0aXZlcyk7XG4gIH0gZWxzZSBpZiAobmV3SW5kZXggPT09IG9sZEluZGV4IC0gMSkge1xuICAgIGRpc3BsYXlQcmltaXRpdmVzLmxvd2VyKHByaW1pdGl2ZXMpO1xuICAgIGRpc3BsYXlHcm91bmRQcmltaXRpdmVzLmxvd2VyKGdyb3VuZFByaW1pdGl2ZXMpO1xuICB9IGVsc2UgaWYgKG5ld0luZGV4ID09PSAwKSB7XG4gICAgZGlzcGxheVByaW1pdGl2ZXMubG93ZXJUb0JvdHRvbShwcmltaXRpdmVzKTtcbiAgICBkaXNwbGF5R3JvdW5kUHJpbWl0aXZlcy5sb3dlclRvQm90dG9tKGdyb3VuZFByaW1pdGl2ZXMpO1xuICAgIGRpc3BsYXlQcmltaXRpdmVzLnJhaXNlKHByaW1pdGl2ZXMpOyAvLyBrZWVwIGRlZmF1bHREYXRhU291cmNlIHByaW1pdGl2ZXMgYXQgaW5kZXggMCBzaW5jZSBpdCdzIG5vdCBpbiB0aGUgY29sbGVjdGlvblxuICAgIGRpc3BsYXlHcm91bmRQcmltaXRpdmVzLnJhaXNlKGdyb3VuZFByaW1pdGl2ZXMpO1xuICB9IGVsc2Uge1xuICAgIGRpc3BsYXlQcmltaXRpdmVzLnJhaXNlVG9Ub3AocHJpbWl0aXZlcyk7XG4gICAgZGlzcGxheUdyb3VuZFByaW1pdGl2ZXMucmFpc2VUb1RvcChncm91bmRQcmltaXRpdmVzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2YgdmlzdWFsaXplcnMgdXNlZCBmb3IgdmlzdWFsaXphdGlvbi5cbiAqIEBjYWxsYmFjayBEYXRhU291cmNlRGlzcGxheS5WaXN1YWxpemVyc0NhbGxiYWNrXG4gKlxuICogQHBhcmFtIHtTY2VuZX0gc2NlbmUgVGhlIHNjZW5lIHRvIGNyZWF0ZSB2aXN1YWxpemVycyBmb3IuXG4gKiBAcGFyYW0ge0RhdGFTb3VyY2V9IGRhdGFTb3VyY2UgVGhlIGRhdGEgc291cmNlIHRvIGNyZWF0ZSB2aXN1YWxpemVycyBmb3IuXG4gKiBAcmV0dXJucyB7VmlzdWFsaXplcltdfSBBbiBhcnJheSBvZiB2aXN1YWxpemVycyB1c2VkIGZvciB2aXN1YWxpemF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBjcmVhdGVWaXN1YWxpemVycyhzY2VuZSwgZGF0YVNvdXJjZSkge1xuICogICAgIHJldHVybiBbbmV3IENlc2l1bS5CaWxsYm9hcmRWaXN1YWxpemVyKHNjZW5lLCBkYXRhU291cmNlLmVudGl0aWVzKV07XG4gKiB9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IERhdGFTb3VyY2VEaXNwbGF5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41366\n')},22425:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8629);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82982);\n/* harmony import */ var _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(69895);\n\n\n\n\n/**\n * @private\n */\nfunction DynamicGeometryBatch(primitives, orderedGroundPrimitives) {\n  this._primitives = primitives;\n  this._orderedGroundPrimitives = orderedGroundPrimitives;\n  this._dynamicUpdaters = new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n}\n\nDynamicGeometryBatch.prototype.add = function (time, updater) {\n  this._dynamicUpdaters.set(\n    updater.id,\n    updater.createDynamicUpdater(\n      this._primitives,\n      this._orderedGroundPrimitives\n    )\n  );\n};\n\nDynamicGeometryBatch.prototype.remove = function (updater) {\n  var id = updater.id;\n  var dynamicUpdater = this._dynamicUpdaters.get(id);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(dynamicUpdater)) {\n    this._dynamicUpdaters.remove(id);\n    dynamicUpdater.destroy();\n  }\n};\n\nDynamicGeometryBatch.prototype.update = function (time) {\n  var geometries = this._dynamicUpdaters.values;\n  for (var i = 0, len = geometries.length; i < len; i++) {\n    geometries[i].update(time);\n  }\n  return true;\n};\n\nDynamicGeometryBatch.prototype.removeAllPrimitives = function () {\n  var geometries = this._dynamicUpdaters.values;\n  for (var i = 0, len = geometries.length; i < len; i++) {\n    geometries[i].destroy();\n  }\n  this._dynamicUpdaters.removeAll();\n};\n\nDynamicGeometryBatch.prototype.getBoundingSphere = function (updater, result) {\n  updater = this._dynamicUpdaters.get(updater.id);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(updater) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(updater.getBoundingSphere)) {\n    return updater.getBoundingSphere(result);\n  }\n  return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].FAILED */ .Z.FAILED;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DynamicGeometryBatch);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI0MjUuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQTJEO0FBQ2xCO0FBQ2tCOztBQUUzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMEVBQWdCO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFFQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxxRUFBTyxhQUFhLHFFQUFPO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLHNGQUEwQjtBQUNuQztBQUNBLHlEQUFlLG9CQUFvQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL0RhdGFTb3VyY2VzL0R5bmFtaWNHZW9tZXRyeUJhdGNoLmpzP2UwMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFzc29jaWF0aXZlQXJyYXkgZnJvbSBcIi4uL0NvcmUvQXNzb2NpYXRpdmVBcnJheS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IEJvdW5kaW5nU3BoZXJlU3RhdGUgZnJvbSBcIi4vQm91bmRpbmdTcGhlcmVTdGF0ZS5qc1wiO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIER5bmFtaWNHZW9tZXRyeUJhdGNoKHByaW1pdGl2ZXMsIG9yZGVyZWRHcm91bmRQcmltaXRpdmVzKSB7XG4gIHRoaXMuX3ByaW1pdGl2ZXMgPSBwcmltaXRpdmVzO1xuICB0aGlzLl9vcmRlcmVkR3JvdW5kUHJpbWl0aXZlcyA9IG9yZGVyZWRHcm91bmRQcmltaXRpdmVzO1xuICB0aGlzLl9keW5hbWljVXBkYXRlcnMgPSBuZXcgQXNzb2NpYXRpdmVBcnJheSgpO1xufVxuXG5EeW5hbWljR2VvbWV0cnlCYXRjaC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRpbWUsIHVwZGF0ZXIpIHtcbiAgdGhpcy5fZHluYW1pY1VwZGF0ZXJzLnNldChcbiAgICB1cGRhdGVyLmlkLFxuICAgIHVwZGF0ZXIuY3JlYXRlRHluYW1pY1VwZGF0ZXIoXG4gICAgICB0aGlzLl9wcmltaXRpdmVzLFxuICAgICAgdGhpcy5fb3JkZXJlZEdyb3VuZFByaW1pdGl2ZXNcbiAgICApXG4gICk7XG59O1xuXG5EeW5hbWljR2VvbWV0cnlCYXRjaC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHVwZGF0ZXIpIHtcbiAgdmFyIGlkID0gdXBkYXRlci5pZDtcbiAgdmFyIGR5bmFtaWNVcGRhdGVyID0gdGhpcy5fZHluYW1pY1VwZGF0ZXJzLmdldChpZCk7XG4gIGlmIChkZWZpbmVkKGR5bmFtaWNVcGRhdGVyKSkge1xuICAgIHRoaXMuX2R5bmFtaWNVcGRhdGVycy5yZW1vdmUoaWQpO1xuICAgIGR5bmFtaWNVcGRhdGVyLmRlc3Ryb3koKTtcbiAgfVxufTtcblxuRHluYW1pY0dlb21ldHJ5QmF0Y2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gIHZhciBnZW9tZXRyaWVzID0gdGhpcy5fZHluYW1pY1VwZGF0ZXJzLnZhbHVlcztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGdlb21ldHJpZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBnZW9tZXRyaWVzW2ldLnVwZGF0ZSh0aW1lKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkR5bmFtaWNHZW9tZXRyeUJhdGNoLnByb3RvdHlwZS5yZW1vdmVBbGxQcmltaXRpdmVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZ2VvbWV0cmllcyA9IHRoaXMuX2R5bmFtaWNVcGRhdGVycy52YWx1ZXM7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZ2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gIH1cbiAgdGhpcy5fZHluYW1pY1VwZGF0ZXJzLnJlbW92ZUFsbCgpO1xufTtcblxuRHluYW1pY0dlb21ldHJ5QmF0Y2gucHJvdG90eXBlLmdldEJvdW5kaW5nU3BoZXJlID0gZnVuY3Rpb24gKHVwZGF0ZXIsIHJlc3VsdCkge1xuICB1cGRhdGVyID0gdGhpcy5fZHluYW1pY1VwZGF0ZXJzLmdldCh1cGRhdGVyLmlkKTtcbiAgaWYgKGRlZmluZWQodXBkYXRlcikgJiYgZGVmaW5lZCh1cGRhdGVyLmdldEJvdW5kaW5nU3BoZXJlKSkge1xuICAgIHJldHVybiB1cGRhdGVyLmdldEJvdW5kaW5nU3BoZXJlKHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIEJvdW5kaW5nU3BoZXJlU3RhdGUuRkFJTEVEO1xufTtcbmV4cG9ydCBkZWZhdWx0IER5bmFtaWNHZW9tZXRyeUJhdGNoO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22425\n')},84225:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48243);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(82982);\n/* harmony import */ var _Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86511);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(12572);\n/* harmony import */ var _Scene_GroundPrimitive_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47780);\n/* harmony import */ var _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79158);\n/* harmony import */ var _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64060);\n/* harmony import */ var _Scene_Primitive_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(34380);\n/* harmony import */ var _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(69895);\n/* harmony import */ var _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(20174);\n/* harmony import */ var _MaterialProperty_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(46317);\n/* harmony import */ var _Property_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(40112);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Defines the interface for a dynamic geometry updater.  A DynamicGeometryUpdater\n * is responsible for handling visualization of a specific type of geometry\n * that needs to be recomputed based on simulation time.\n * This object is never used directly by client code, but is instead created by\n * {@link GeometryUpdater} implementations which contain dynamic geometry.\n *\n * This type defines an interface and cannot be instantiated directly.\n *\n * @alias DynamicGeometryUpdater\n * @constructor\n * @private\n * @abstract\n */\nfunction DynamicGeometryUpdater(\n  geometryUpdater,\n  primitives,\n  orderedGroundPrimitives\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("geometryUpdater", geometryUpdater);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("primitives", primitives);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("orderedGroundPrimitives", orderedGroundPrimitives);\n  //>>includeEnd(\'debug\');\n\n  this._primitives = primitives;\n  this._orderedGroundPrimitives = orderedGroundPrimitives;\n  this._primitive = undefined;\n  this._outlinePrimitive = undefined;\n  this._geometryUpdater = geometryUpdater;\n  this._options = geometryUpdater._options;\n  this._entity = geometryUpdater._entity;\n  this._material = undefined;\n}\n\nDynamicGeometryUpdater.prototype._isHidden = function (entity, geometry, time) {\n  return (\n    !entity.isShowing ||\n    !entity.isAvailable(time) ||\n    !_Property_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(geometry.show, time, true)\n  );\n};\n\nDynamicGeometryUpdater.prototype._setOptions =\n  _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].throwInstantiationError */ .Z.throwInstantiationError;\n\n/**\n * Updates the geometry to the specified time.\n * @memberof DynamicGeometryUpdater\n * @function\n *\n * @param {JulianDate} time The current time.\n */\nDynamicGeometryUpdater.prototype.update = function (time) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("time", time);\n  //>>includeEnd(\'debug\');\n\n  var geometryUpdater = this._geometryUpdater;\n  var onTerrain = geometryUpdater._onTerrain;\n\n  var primitives = this._primitives;\n  var orderedGroundPrimitives = this._orderedGroundPrimitives;\n  if (onTerrain) {\n    orderedGroundPrimitives.remove(this._primitive);\n  } else {\n    primitives.removeAndDestroy(this._primitive);\n    primitives.removeAndDestroy(this._outlinePrimitive);\n    this._outlinePrimitive = undefined;\n  }\n  this._primitive = undefined;\n\n  var entity = this._entity;\n  var geometry = entity[this._geometryUpdater._geometryPropertyName];\n  this._setOptions(entity, geometry, time);\n  if (this._isHidden(entity, geometry, time)) {\n    return;\n  }\n\n  var shadows = this._geometryUpdater.shadowsProperty.getValue(time);\n  var options = this._options;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(geometry.fill) || geometry.fill.getValue(time)) {\n    var fillMaterialProperty = geometryUpdater.fillMaterialProperty;\n    var isColorAppearance =\n      fillMaterialProperty instanceof _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z;\n    var appearance;\n    var closed = geometryUpdater._getIsClosed(options);\n    if (isColorAppearance) {\n      appearance = new _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n        closed: closed,\n        flat:\n          onTerrain && !geometryUpdater._supportsMaterialsforEntitiesOnTerrain,\n      });\n    } else {\n      var material = _MaterialProperty_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].getValue */ .Z.getValue(\n        time,\n        fillMaterialProperty,\n        this._material\n      );\n      this._material = material;\n      appearance = new _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({\n        material: material,\n        translucent: material.isTranslucent(),\n        closed: closed,\n      });\n    }\n\n    if (onTerrain) {\n      options.vertexFormat = _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].VERTEX_FORMAT */ .Z.VERTEX_FORMAT;\n      this._primitive = orderedGroundPrimitives.add(\n        new _Scene_GroundPrimitive_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z({\n          geometryInstances: this._geometryUpdater.createFillGeometryInstance(\n            time\n          ),\n          appearance: appearance,\n          asynchronous: false,\n          shadows: shadows,\n          classificationType: this._geometryUpdater.classificationTypeProperty.getValue(\n            time\n          ),\n        }),\n        _Property_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(this._geometryUpdater.zIndex, time)\n      );\n    } else {\n      options.vertexFormat = appearance.vertexFormat;\n\n      var fillInstance = this._geometryUpdater.createFillGeometryInstance(time);\n\n      if (isColorAppearance) {\n        appearance.translucent = fillInstance.attributes.color.value[3] !== 255;\n      }\n\n      this._primitive = primitives.add(\n        new _Scene_Primitive_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n          geometryInstances: fillInstance,\n          appearance: appearance,\n          asynchronous: false,\n          shadows: shadows,\n        })\n      );\n    }\n  }\n\n  if (\n    !onTerrain &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(geometry.outline) &&\n    geometry.outline.getValue(time)\n  ) {\n    var outlineInstance = this._geometryUpdater.createOutlineGeometryInstance(\n      time\n    );\n    var outlineWidth = _Property_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n      geometry.outlineWidth,\n      time,\n      1.0\n    );\n\n    this._outlinePrimitive = primitives.add(\n      new _Scene_Primitive_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({\n        geometryInstances: outlineInstance,\n        appearance: new _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n          flat: true,\n          translucent: outlineInstance.attributes.color.value[3] !== 255,\n          renderState: {\n            lineWidth: geometryUpdater._scene.clampLineWidth(outlineWidth),\n          },\n        }),\n        asynchronous: false,\n        shadows: shadows,\n      })\n    );\n  }\n};\n\n/**\n * Computes a bounding sphere which encloses the visualization produced for the specified entity.\n * The bounding sphere is in the fixed frame of the scene\'s globe.\n * @function\n *\n * @param {BoundingSphere} result The bounding sphere onto which to store the result.\n * @returns {BoundingSphereState} BoundingSphereState.DONE if the result contains the bounding sphere,\n *                       BoundingSphereState.PENDING if the result is still being computed, or\n *                       BoundingSphereState.FAILED if the entity has no visualization in the current scene.\n * @private\n */\nDynamicGeometryUpdater.prototype.getBoundingSphere = function (result) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(result)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("result is required.");\n  }\n  //>>includeEnd(\'debug\');\n  var entity = this._entity;\n  var primitive = this._primitive;\n  var outlinePrimitive = this._outlinePrimitive;\n\n  var attributes;\n\n  //Outline and Fill geometries have the same bounding sphere, so just use whichever one is defined and ready\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(primitive) && primitive.show && primitive.ready) {\n    attributes = primitive.getGeometryInstanceAttributes(entity);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(attributes) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(attributes.boundingSphere)) {\n      _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(attributes.boundingSphere, result);\n      return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].DONE */ .Z.DONE;\n    }\n  }\n\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(outlinePrimitive) &&\n    outlinePrimitive.show &&\n    outlinePrimitive.ready\n  ) {\n    attributes = outlinePrimitive.getGeometryInstanceAttributes(entity);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(attributes) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(attributes.boundingSphere)) {\n      _Core_BoundingSphere_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(attributes.boundingSphere, result);\n      return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].DONE */ .Z.DONE;\n    }\n  }\n\n  if (\n    ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(primitive) && !primitive.ready) ||\n    ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z)(outlinePrimitive) && !outlinePrimitive.ready)\n  ) {\n    return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].PENDING */ .Z.PENDING;\n  }\n\n  return _BoundingSphereState_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].FAILED */ .Z.FAILED;\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * @memberof DynamicGeometryUpdater\n * @function\n *\n * @returns {Boolean} True if this object was destroyed; otherwise, false.\n */\nDynamicGeometryUpdater.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys and resources used by the object.  Once an object is destroyed, it should not be used.\n * @memberof DynamicGeometryUpdater\n * @function\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nDynamicGeometryUpdater.prototype.destroy = function () {\n  var primitives = this._primitives;\n  var orderedGroundPrimitives = this._orderedGroundPrimitives;\n  if (this._geometryUpdater._onTerrain) {\n    orderedGroundPrimitives.remove(this._primitive);\n  } else {\n    primitives.removeAndDestroy(this._primitive);\n  }\n  primitives.removeAndDestroy(this._outlinePrimitive);\n  (0,_Core_destroyObject_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (DynamicGeometryUpdater);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRSwyRUFBYTtBQUNmO0FBQ0EseURBQWUsc0JBQXNCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvRGF0YVNvdXJjZXMvRHluYW1pY0dlb21ldHJ5VXBkYXRlci5qcz8yNDUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb3VuZGluZ1NwaGVyZSBmcm9tIFwiLi4vQ29yZS9Cb3VuZGluZ1NwaGVyZS5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgZGVzdHJveU9iamVjdCBmcm9tIFwiLi4vQ29yZS9kZXN0cm95T2JqZWN0LmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBHcm91bmRQcmltaXRpdmUgZnJvbSBcIi4uL1NjZW5lL0dyb3VuZFByaW1pdGl2ZS5qc1wiO1xuaW1wb3J0IE1hdGVyaWFsQXBwZWFyYW5jZSBmcm9tIFwiLi4vU2NlbmUvTWF0ZXJpYWxBcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UgZnJvbSBcIi4uL1NjZW5lL1Blckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgUHJpbWl0aXZlIGZyb20gXCIuLi9TY2VuZS9QcmltaXRpdmUuanNcIjtcbmltcG9ydCBCb3VuZGluZ1NwaGVyZVN0YXRlIGZyb20gXCIuL0JvdW5kaW5nU3BoZXJlU3RhdGUuanNcIjtcbmltcG9ydCBDb2xvck1hdGVyaWFsUHJvcGVydHkgZnJvbSBcIi4vQ29sb3JNYXRlcmlhbFByb3BlcnR5LmpzXCI7XG5pbXBvcnQgTWF0ZXJpYWxQcm9wZXJ0eSBmcm9tIFwiLi9NYXRlcmlhbFByb3BlcnR5LmpzXCI7XG5pbXBvcnQgUHJvcGVydHkgZnJvbSBcIi4vUHJvcGVydHkuanNcIjtcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBpbnRlcmZhY2UgZm9yIGEgZHluYW1pYyBnZW9tZXRyeSB1cGRhdGVyLiAgQSBEeW5hbWljR2VvbWV0cnlVcGRhdGVyXG4gKiBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgdmlzdWFsaXphdGlvbiBvZiBhIHNwZWNpZmljIHR5cGUgb2YgZ2VvbWV0cnlcbiAqIHRoYXQgbmVlZHMgdG8gYmUgcmVjb21wdXRlZCBiYXNlZCBvbiBzaW11bGF0aW9uIHRpbWUuXG4gKiBUaGlzIG9iamVjdCBpcyBuZXZlciB1c2VkIGRpcmVjdGx5IGJ5IGNsaWVudCBjb2RlLCBidXQgaXMgaW5zdGVhZCBjcmVhdGVkIGJ5XG4gKiB7QGxpbmsgR2VvbWV0cnlVcGRhdGVyfSBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggY29udGFpbiBkeW5hbWljIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgdHlwZSBkZWZpbmVzIGFuIGludGVyZmFjZSBhbmQgY2Fubm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAqXG4gKiBAYWxpYXMgRHluYW1pY0dlb21ldHJ5VXBkYXRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICogQGFic3RyYWN0XG4gKi9cbmZ1bmN0aW9uIER5bmFtaWNHZW9tZXRyeVVwZGF0ZXIoXG4gIGdlb21ldHJ5VXBkYXRlcixcbiAgcHJpbWl0aXZlcyxcbiAgb3JkZXJlZEdyb3VuZFByaW1pdGl2ZXNcbikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwiZ2VvbWV0cnlVcGRhdGVyXCIsIGdlb21ldHJ5VXBkYXRlcik7XG4gIENoZWNrLmRlZmluZWQoXCJwcmltaXRpdmVzXCIsIHByaW1pdGl2ZXMpO1xuICBDaGVjay5kZWZpbmVkKFwib3JkZXJlZEdyb3VuZFByaW1pdGl2ZXNcIiwgb3JkZXJlZEdyb3VuZFByaW1pdGl2ZXMpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLl9wcmltaXRpdmVzID0gcHJpbWl0aXZlcztcbiAgdGhpcy5fb3JkZXJlZEdyb3VuZFByaW1pdGl2ZXMgPSBvcmRlcmVkR3JvdW5kUHJpbWl0aXZlcztcbiAgdGhpcy5fcHJpbWl0aXZlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9nZW9tZXRyeVVwZGF0ZXIgPSBnZW9tZXRyeVVwZGF0ZXI7XG4gIHRoaXMuX29wdGlvbnMgPSBnZW9tZXRyeVVwZGF0ZXIuX29wdGlvbnM7XG4gIHRoaXMuX2VudGl0eSA9IGdlb21ldHJ5VXBkYXRlci5fZW50aXR5O1xuICB0aGlzLl9tYXRlcmlhbCA9IHVuZGVmaW5lZDtcbn1cblxuRHluYW1pY0dlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuX2lzSGlkZGVuID0gZnVuY3Rpb24gKGVudGl0eSwgZ2VvbWV0cnksIHRpbWUpIHtcbiAgcmV0dXJuIChcbiAgICAhZW50aXR5LmlzU2hvd2luZyB8fFxuICAgICFlbnRpdHkuaXNBdmFpbGFibGUodGltZSkgfHxcbiAgICAhUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoZ2VvbWV0cnkuc2hvdywgdGltZSwgdHJ1ZSlcbiAgKTtcbn07XG5cbkR5bmFtaWNHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9zZXRPcHRpb25zID1cbiAgRGV2ZWxvcGVyRXJyb3IudGhyb3dJbnN0YW50aWF0aW9uRXJyb3I7XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgZ2VvbWV0cnkgdG8gdGhlIHNwZWNpZmllZCB0aW1lLlxuICogQG1lbWJlcm9mIER5bmFtaWNHZW9tZXRyeVVwZGF0ZXJcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gdGltZSBUaGUgY3VycmVudCB0aW1lLlxuICovXG5EeW5hbWljR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodGltZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwidGltZVwiLCB0aW1lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGdlb21ldHJ5VXBkYXRlciA9IHRoaXMuX2dlb21ldHJ5VXBkYXRlcjtcbiAgdmFyIG9uVGVycmFpbiA9IGdlb21ldHJ5VXBkYXRlci5fb25UZXJyYWluO1xuXG4gIHZhciBwcmltaXRpdmVzID0gdGhpcy5fcHJpbWl0aXZlcztcbiAgdmFyIG9yZGVyZWRHcm91bmRQcmltaXRpdmVzID0gdGhpcy5fb3JkZXJlZEdyb3VuZFByaW1pdGl2ZXM7XG4gIGlmIChvblRlcnJhaW4pIHtcbiAgICBvcmRlcmVkR3JvdW5kUHJpbWl0aXZlcy5yZW1vdmUodGhpcy5fcHJpbWl0aXZlKTtcbiAgfSBlbHNlIHtcbiAgICBwcmltaXRpdmVzLnJlbW92ZUFuZERlc3Ryb3kodGhpcy5fcHJpbWl0aXZlKTtcbiAgICBwcmltaXRpdmVzLnJlbW92ZUFuZERlc3Ryb3kodGhpcy5fb3V0bGluZVByaW1pdGl2ZSk7XG4gICAgdGhpcy5fb3V0bGluZVByaW1pdGl2ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICB0aGlzLl9wcmltaXRpdmUgPSB1bmRlZmluZWQ7XG5cbiAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0eTtcbiAgdmFyIGdlb21ldHJ5ID0gZW50aXR5W3RoaXMuX2dlb21ldHJ5VXBkYXRlci5fZ2VvbWV0cnlQcm9wZXJ0eU5hbWVdO1xuICB0aGlzLl9zZXRPcHRpb25zKGVudGl0eSwgZ2VvbWV0cnksIHRpbWUpO1xuICBpZiAodGhpcy5faXNIaWRkZW4oZW50aXR5LCBnZW9tZXRyeSwgdGltZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2hhZG93cyA9IHRoaXMuX2dlb21ldHJ5VXBkYXRlci5zaGFkb3dzUHJvcGVydHkuZ2V0VmFsdWUodGltZSk7XG4gIHZhciBvcHRpb25zID0gdGhpcy5fb3B0aW9ucztcbiAgaWYgKCFkZWZpbmVkKGdlb21ldHJ5LmZpbGwpIHx8IGdlb21ldHJ5LmZpbGwuZ2V0VmFsdWUodGltZSkpIHtcbiAgICB2YXIgZmlsbE1hdGVyaWFsUHJvcGVydHkgPSBnZW9tZXRyeVVwZGF0ZXIuZmlsbE1hdGVyaWFsUHJvcGVydHk7XG4gICAgdmFyIGlzQ29sb3JBcHBlYXJhbmNlID1cbiAgICAgIGZpbGxNYXRlcmlhbFByb3BlcnR5IGluc3RhbmNlb2YgQ29sb3JNYXRlcmlhbFByb3BlcnR5O1xuICAgIHZhciBhcHBlYXJhbmNlO1xuICAgIHZhciBjbG9zZWQgPSBnZW9tZXRyeVVwZGF0ZXIuX2dldElzQ2xvc2VkKG9wdGlvbnMpO1xuICAgIGlmIChpc0NvbG9yQXBwZWFyYW5jZSkge1xuICAgICAgYXBwZWFyYW5jZSA9IG5ldyBQZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZSh7XG4gICAgICAgIGNsb3NlZDogY2xvc2VkLFxuICAgICAgICBmbGF0OlxuICAgICAgICAgIG9uVGVycmFpbiAmJiAhZ2VvbWV0cnlVcGRhdGVyLl9zdXBwb3J0c01hdGVyaWFsc2ZvckVudGl0aWVzT25UZXJyYWluLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRlcmlhbCA9IE1hdGVyaWFsUHJvcGVydHkuZ2V0VmFsdWUoXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGZpbGxNYXRlcmlhbFByb3BlcnR5LFxuICAgICAgICB0aGlzLl9tYXRlcmlhbFxuICAgICAgKTtcbiAgICAgIHRoaXMuX21hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgICBhcHBlYXJhbmNlID0gbmV3IE1hdGVyaWFsQXBwZWFyYW5jZSh7XG4gICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCxcbiAgICAgICAgdHJhbnNsdWNlbnQ6IG1hdGVyaWFsLmlzVHJhbnNsdWNlbnQoKSxcbiAgICAgICAgY2xvc2VkOiBjbG9zZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob25UZXJyYWluKSB7XG4gICAgICBvcHRpb25zLnZlcnRleEZvcm1hdCA9IFBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVQ7XG4gICAgICB0aGlzLl9wcmltaXRpdmUgPSBvcmRlcmVkR3JvdW5kUHJpbWl0aXZlcy5hZGQoXG4gICAgICAgIG5ldyBHcm91bmRQcmltaXRpdmUoe1xuICAgICAgICAgIGdlb21ldHJ5SW5zdGFuY2VzOiB0aGlzLl9nZW9tZXRyeVVwZGF0ZXIuY3JlYXRlRmlsbEdlb21ldHJ5SW5zdGFuY2UoXG4gICAgICAgICAgICB0aW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICBhcHBlYXJhbmNlOiBhcHBlYXJhbmNlLFxuICAgICAgICAgIGFzeW5jaHJvbm91czogZmFsc2UsXG4gICAgICAgICAgc2hhZG93czogc2hhZG93cyxcbiAgICAgICAgICBjbGFzc2lmaWNhdGlvblR5cGU6IHRoaXMuX2dlb21ldHJ5VXBkYXRlci5jbGFzc2lmaWNhdGlvblR5cGVQcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICAgICAgICAgIHRpbWVcbiAgICAgICAgICApLFxuICAgICAgICB9KSxcbiAgICAgICAgUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZCh0aGlzLl9nZW9tZXRyeVVwZGF0ZXIuekluZGV4LCB0aW1lKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy52ZXJ0ZXhGb3JtYXQgPSBhcHBlYXJhbmNlLnZlcnRleEZvcm1hdDtcblxuICAgICAgdmFyIGZpbGxJbnN0YW5jZSA9IHRoaXMuX2dlb21ldHJ5VXBkYXRlci5jcmVhdGVGaWxsR2VvbWV0cnlJbnN0YW5jZSh0aW1lKTtcblxuICAgICAgaWYgKGlzQ29sb3JBcHBlYXJhbmNlKSB7XG4gICAgICAgIGFwcGVhcmFuY2UudHJhbnNsdWNlbnQgPSBmaWxsSW5zdGFuY2UuYXR0cmlidXRlcy5jb2xvci52YWx1ZVszXSAhPT0gMjU1O1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wcmltaXRpdmUgPSBwcmltaXRpdmVzLmFkZChcbiAgICAgICAgbmV3IFByaW1pdGl2ZSh7XG4gICAgICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IGZpbGxJbnN0YW5jZSxcbiAgICAgICAgICBhcHBlYXJhbmNlOiBhcHBlYXJhbmNlLFxuICAgICAgICAgIGFzeW5jaHJvbm91czogZmFsc2UsXG4gICAgICAgICAgc2hhZG93czogc2hhZG93cyxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgICFvblRlcnJhaW4gJiZcbiAgICBkZWZpbmVkKGdlb21ldHJ5Lm91dGxpbmUpICYmXG4gICAgZ2VvbWV0cnkub3V0bGluZS5nZXRWYWx1ZSh0aW1lKVxuICApIHtcbiAgICB2YXIgb3V0bGluZUluc3RhbmNlID0gdGhpcy5fZ2VvbWV0cnlVcGRhdGVyLmNyZWF0ZU91dGxpbmVHZW9tZXRyeUluc3RhbmNlKFxuICAgICAgdGltZVxuICAgICk7XG4gICAgdmFyIG91dGxpbmVXaWR0aCA9IFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KFxuICAgICAgZ2VvbWV0cnkub3V0bGluZVdpZHRoLFxuICAgICAgdGltZSxcbiAgICAgIDEuMFxuICAgICk7XG5cbiAgICB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlID0gcHJpbWl0aXZlcy5hZGQoXG4gICAgICBuZXcgUHJpbWl0aXZlKHtcbiAgICAgICAgZ2VvbWV0cnlJbnN0YW5jZXM6IG91dGxpbmVJbnN0YW5jZSxcbiAgICAgICAgYXBwZWFyYW5jZTogbmV3IFBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlKHtcbiAgICAgICAgICBmbGF0OiB0cnVlLFxuICAgICAgICAgIHRyYW5zbHVjZW50OiBvdXRsaW5lSW5zdGFuY2UuYXR0cmlidXRlcy5jb2xvci52YWx1ZVszXSAhPT0gMjU1LFxuICAgICAgICAgIHJlbmRlclN0YXRlOiB7XG4gICAgICAgICAgICBsaW5lV2lkdGg6IGdlb21ldHJ5VXBkYXRlci5fc2NlbmUuY2xhbXBMaW5lV2lkdGgob3V0bGluZVdpZHRoKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgYXN5bmNocm9ub3VzOiBmYWxzZSxcbiAgICAgICAgc2hhZG93czogc2hhZG93cyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDb21wdXRlcyBhIGJvdW5kaW5nIHNwaGVyZSB3aGljaCBlbmNsb3NlcyB0aGUgdmlzdWFsaXphdGlvbiBwcm9kdWNlZCBmb3IgdGhlIHNwZWNpZmllZCBlbnRpdHkuXG4gKiBUaGUgYm91bmRpbmcgc3BoZXJlIGlzIGluIHRoZSBmaXhlZCBmcmFtZSBvZiB0aGUgc2NlbmUncyBnbG9iZS5cbiAqIEBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Qm91bmRpbmdTcGhlcmV9IHJlc3VsdCBUaGUgYm91bmRpbmcgc3BoZXJlIG9udG8gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtCb3VuZGluZ1NwaGVyZVN0YXRlfSBCb3VuZGluZ1NwaGVyZVN0YXRlLkRPTkUgaWYgdGhlIHJlc3VsdCBjb250YWlucyB0aGUgYm91bmRpbmcgc3BoZXJlLFxuICogICAgICAgICAgICAgICAgICAgICAgIEJvdW5kaW5nU3BoZXJlU3RhdGUuUEVORElORyBpZiB0aGUgcmVzdWx0IGlzIHN0aWxsIGJlaW5nIGNvbXB1dGVkLCBvclxuICogICAgICAgICAgICAgICAgICAgICAgIEJvdW5kaW5nU3BoZXJlU3RhdGUuRkFJTEVEIGlmIHRoZSBlbnRpdHkgaGFzIG5vIHZpc3VhbGl6YXRpb24gaW4gdGhlIGN1cnJlbnQgc2NlbmUuXG4gKiBAcHJpdmF0ZVxuICovXG5EeW5hbWljR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS5nZXRCb3VuZGluZ1NwaGVyZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJyZXN1bHQgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICB2YXIgZW50aXR5ID0gdGhpcy5fZW50aXR5O1xuICB2YXIgcHJpbWl0aXZlID0gdGhpcy5fcHJpbWl0aXZlO1xuICB2YXIgb3V0bGluZVByaW1pdGl2ZSA9IHRoaXMuX291dGxpbmVQcmltaXRpdmU7XG5cbiAgdmFyIGF0dHJpYnV0ZXM7XG5cbiAgLy9PdXRsaW5lIGFuZCBGaWxsIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBib3VuZGluZyBzcGhlcmUsIHNvIGp1c3QgdXNlIHdoaWNoZXZlciBvbmUgaXMgZGVmaW5lZCBhbmQgcmVhZHlcbiAgaWYgKGRlZmluZWQocHJpbWl0aXZlKSAmJiBwcmltaXRpdmUuc2hvdyAmJiBwcmltaXRpdmUucmVhZHkpIHtcbiAgICBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlLmdldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGVzKGVudGl0eSk7XG4gICAgaWYgKGRlZmluZWQoYXR0cmlidXRlcykgJiYgZGVmaW5lZChhdHRyaWJ1dGVzLmJvdW5kaW5nU3BoZXJlKSkge1xuICAgICAgQm91bmRpbmdTcGhlcmUuY2xvbmUoYXR0cmlidXRlcy5ib3VuZGluZ1NwaGVyZSwgcmVzdWx0KTtcbiAgICAgIHJldHVybiBCb3VuZGluZ1NwaGVyZVN0YXRlLkRPTkU7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgIGRlZmluZWQob3V0bGluZVByaW1pdGl2ZSkgJiZcbiAgICBvdXRsaW5lUHJpbWl0aXZlLnNob3cgJiZcbiAgICBvdXRsaW5lUHJpbWl0aXZlLnJlYWR5XG4gICkge1xuICAgIGF0dHJpYnV0ZXMgPSBvdXRsaW5lUHJpbWl0aXZlLmdldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGVzKGVudGl0eSk7XG4gICAgaWYgKGRlZmluZWQoYXR0cmlidXRlcykgJiYgZGVmaW5lZChhdHRyaWJ1dGVzLmJvdW5kaW5nU3BoZXJlKSkge1xuICAgICAgQm91bmRpbmdTcGhlcmUuY2xvbmUoYXR0cmlidXRlcy5ib3VuZGluZ1NwaGVyZSwgcmVzdWx0KTtcbiAgICAgIHJldHVybiBCb3VuZGluZ1NwaGVyZVN0YXRlLkRPTkU7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgIChkZWZpbmVkKHByaW1pdGl2ZSkgJiYgIXByaW1pdGl2ZS5yZWFkeSkgfHxcbiAgICAoZGVmaW5lZChvdXRsaW5lUHJpbWl0aXZlKSAmJiAhb3V0bGluZVByaW1pdGl2ZS5yZWFkeSlcbiAgKSB7XG4gICAgcmV0dXJuIEJvdW5kaW5nU3BoZXJlU3RhdGUuUEVORElORztcbiAgfVxuXG4gIHJldHVybiBCb3VuZGluZ1NwaGVyZVN0YXRlLkZBSUxFRDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IHdhcyBkZXN0cm95ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gKiBAbWVtYmVyb2YgRHluYW1pY0dlb21ldHJ5VXBkYXRlclxuICogQGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZDsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAqL1xuRHluYW1pY0dlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgYW5kIHJlc291cmNlcyB1c2VkIGJ5IHRoZSBvYmplY3QuICBPbmNlIGFuIG9iamVjdCBpcyBkZXN0cm95ZWQsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIEBtZW1iZXJvZiBEeW5hbWljR2VvbWV0cnlVcGRhdGVyXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBvYmplY3Qgd2FzIGRlc3Ryb3llZCwgaS5lLiwgZGVzdHJveSgpIHdhcyBjYWxsZWQuXG4gKi9cbkR5bmFtaWNHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBwcmltaXRpdmVzID0gdGhpcy5fcHJpbWl0aXZlcztcbiAgdmFyIG9yZGVyZWRHcm91bmRQcmltaXRpdmVzID0gdGhpcy5fb3JkZXJlZEdyb3VuZFByaW1pdGl2ZXM7XG4gIGlmICh0aGlzLl9nZW9tZXRyeVVwZGF0ZXIuX29uVGVycmFpbikge1xuICAgIG9yZGVyZWRHcm91bmRQcmltaXRpdmVzLnJlbW92ZSh0aGlzLl9wcmltaXRpdmUpO1xuICB9IGVsc2Uge1xuICAgIHByaW1pdGl2ZXMucmVtb3ZlQW5kRGVzdHJveSh0aGlzLl9wcmltaXRpdmUpO1xuICB9XG4gIHByaW1pdGl2ZXMucmVtb3ZlQW5kRGVzdHJveSh0aGlzLl9vdXRsaW5lUHJpbWl0aXZlKTtcbiAgZGVzdHJveU9iamVjdCh0aGlzKTtcbn07XG5leHBvcnQgZGVmYXVsdCBEeW5hbWljR2VvbWV0cnlVcGRhdGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///84225\n')},28698:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_ApproximateTerrainHeights_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53773);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59947);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92062);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12572);\n/* harmony import */ var _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(24689);\n/* harmony import */ var _Core_EllipseGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(59359);\n/* harmony import */ var _Core_EllipseOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(27337);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26865);\n/* harmony import */ var _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(22841);\n/* harmony import */ var _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(82223);\n/* harmony import */ var _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(96190);\n/* harmony import */ var _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(37939);\n/* harmony import */ var _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(4260);\n/* harmony import */ var _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(79158);\n/* harmony import */ var _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(64060);\n/* harmony import */ var _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(20174);\n/* harmony import */ var _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(84225);\n/* harmony import */ var _GeometryUpdater_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(17045);\n/* harmony import */ var _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(8254);\n/* harmony import */ var _Property_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(40112);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar scratchColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z();\nvar defaultOffset = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO;\nvar offsetScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\nvar scratchRectangle = new _Core_Rectangle_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\n\nfunction EllipseGeometryOptions(entity) {\n  this.id = entity;\n  this.vertexFormat = undefined;\n  this.center = undefined;\n  this.semiMajorAxis = undefined;\n  this.semiMinorAxis = undefined;\n  this.rotation = undefined;\n  this.height = undefined;\n  this.extrudedHeight = undefined;\n  this.granularity = undefined;\n  this.stRotation = undefined;\n  this.numberOfVerticalLines = undefined;\n  this.offsetAttribute = undefined;\n}\n\n/**\n * A {@link GeometryUpdater} for ellipses.\n * Clients do not normally create this class directly, but instead rely on {@link DataSourceDisplay}.\n * @alias EllipseGeometryUpdater\n * @constructor\n *\n * @param {Entity} entity The entity containing the geometry to be visualized.\n * @param {Scene} scene The scene where visualization is taking place.\n */\nfunction EllipseGeometryUpdater(entity, scene) {\n  _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].call */ .Z.call(this, {\n    entity: entity,\n    scene: scene,\n    geometryOptions: new EllipseGeometryOptions(entity),\n    geometryPropertyName: "ellipse",\n    observedPropertyNames: ["availability", "position", "ellipse"],\n  });\n\n  this._onEntityPropertyChanged(entity, "ellipse", entity.ellipse, undefined);\n}\n\nif ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(Object.create)) {\n  EllipseGeometryUpdater.prototype = Object.create(\n    _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].prototype */ .Z.prototype\n  );\n  EllipseGeometryUpdater.prototype.constructor = EllipseGeometryUpdater;\n}\n\n/**\n * Creates the geometry instance which represents the fill of the geometry.\n *\n * @param {JulianDate} time The time to use when retrieving initial attribute values.\n * @returns {GeometryInstance} The geometry instance representing the filled portion of the geometry.\n *\n * @exception {DeveloperError} This instance does not represent a filled geometry.\n */\nEllipseGeometryUpdater.prototype.createFillGeometryInstance = function (time) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("time", time);\n\n  if (!this._fillEnabled) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(\n      "This instance does not represent a filled geometry."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  var entity = this._entity;\n  var isAvailable = entity.isAvailable(time);\n\n  var attributes = {\n    show: new _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(\n      isAvailable &&\n        entity.isShowing &&\n        this._showProperty.getValue(time) &&\n        this._fillProperty.getValue(time)\n    ),\n    distanceDisplayCondition: _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].fromDistanceDisplayCondition */ .Z.fromDistanceDisplayCondition(\n      this._distanceDisplayConditionProperty.getValue(time)\n    ),\n    offset: undefined,\n    color: undefined,\n  };\n\n  if (this._materialProperty instanceof _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z) {\n    var currentColor;\n    if (\n      (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(this._materialProperty.color) &&\n      (this._materialProperty.color.isConstant || isAvailable)\n    ) {\n      currentColor = this._materialProperty.color.getValue(time, scratchColor);\n    }\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(currentColor)) {\n      currentColor = _Core_Color_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].WHITE */ .Z.WHITE;\n    }\n    attributes.color = _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromColor */ .Z.fromColor(currentColor);\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(this._options.offsetAttribute)) {\n    attributes.offset = _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].fromCartesian3 */ .Z.fromCartesian3(\n      _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n        this._terrainOffsetProperty,\n        time,\n        defaultOffset,\n        offsetScratch\n      )\n    );\n  }\n\n  return new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    id: entity,\n    geometry: new _Core_EllipseGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(this._options),\n    attributes: attributes,\n  });\n};\n\n/**\n * Creates the geometry instance which represents the outline of the geometry.\n *\n * @param {JulianDate} time The time to use when retrieving initial attribute values.\n * @returns {GeometryInstance} The geometry instance representing the outline portion of the geometry.\n *\n * @exception {DeveloperError} This instance does not represent an outlined geometry.\n */\nEllipseGeometryUpdater.prototype.createOutlineGeometryInstance = function (\n  time\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].defined */ .Z.defined("time", time);\n\n  if (!this._outlineEnabled) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(\n      "This instance does not represent an outlined geometry."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  var entity = this._entity;\n  var isAvailable = entity.isAvailable(time);\n  var outlineColor = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    this._outlineColorProperty,\n    time,\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].BLACK */ .Z.BLACK,\n    scratchColor\n  );\n  var distanceDisplayCondition = this._distanceDisplayConditionProperty.getValue(\n    time\n  );\n\n  var attributes = {\n    show: new _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(\n      isAvailable &&\n        entity.isShowing &&\n        this._showProperty.getValue(time) &&\n        this._showOutlineProperty.getValue(time)\n    ),\n    color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].fromColor */ .Z.fromColor(outlineColor),\n    distanceDisplayCondition: _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].fromDistanceDisplayCondition */ .Z.fromDistanceDisplayCondition(\n      distanceDisplayCondition\n    ),\n    offset: undefined,\n  };\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(this._options.offsetAttribute)) {\n    attributes.offset = _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].fromCartesian3 */ .Z.fromCartesian3(\n      _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n        this._terrainOffsetProperty,\n        time,\n        defaultOffset,\n        offsetScratch\n      )\n    );\n  }\n\n  return new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    id: entity,\n    geometry: new _Core_EllipseOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(this._options),\n    attributes: attributes,\n  });\n};\n\nEllipseGeometryUpdater.prototype._computeCenter = function (time, result) {\n  return _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(this._entity.position, time, result);\n};\n\nEllipseGeometryUpdater.prototype._isHidden = function (entity, ellipse) {\n  var position = entity.position;\n\n  return (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(position) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(ellipse.semiMajorAxis) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(ellipse.semiMinorAxis) ||\n    _GeometryUpdater_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"].prototype._isHidden.call */ .Z.prototype._isHidden.call(this, entity, ellipse)\n  );\n};\n\nEllipseGeometryUpdater.prototype._isDynamic = function (entity, ellipse) {\n  return (\n    !entity.position.isConstant || //\n    !ellipse.semiMajorAxis.isConstant || //\n    !ellipse.semiMinorAxis.isConstant || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.rotation) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.height) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.extrudedHeight) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.granularity) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.stRotation) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.outlineWidth) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.numberOfVerticalLines) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(ellipse.zIndex) || //\n    (this._onTerrain &&\n      !_Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].isConstant */ .Z.isConstant(this._materialProperty) &&\n      !(this._materialProperty instanceof _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z))\n  );\n};\n\nEllipseGeometryUpdater.prototype._setStaticOptions = function (\n  entity,\n  ellipse\n) {\n  var heightValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.height,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  var heightReferenceValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipse.heightReference,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].NONE */ .Z.NONE\n  );\n  var extrudedHeightValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.extrudedHeight,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  var extrudedHeightReferenceValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipse.extrudedHeightReference,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].NONE */ .Z.NONE\n  );\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(extrudedHeightValue) && !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(heightValue)) {\n    heightValue = 0;\n  }\n\n  var options = this._options;\n  options.vertexFormat =\n    this._materialProperty instanceof _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z\n      ? _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"].VERTEX_FORMAT */ .Z.VERTEX_FORMAT\n      : _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].MaterialSupport.TEXTURED.vertexFormat */ .Z.MaterialSupport.TEXTURED.vertexFormat;\n  options.center = entity.position.getValue(\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    options.center\n  );\n  options.semiMajorAxis = ellipse.semiMajorAxis.getValue(\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    options.semiMajorAxis\n  );\n  options.semiMinorAxis = ellipse.semiMinorAxis.getValue(\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    options.semiMinorAxis\n  );\n  options.rotation = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.rotation,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.granularity = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.granularity,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.stRotation = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.stRotation,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.numberOfVerticalLines = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.numberOfVerticalLines,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.offsetAttribute = _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].computeGeometryOffsetAttribute */ .Z.computeGeometryOffsetAttribute(\n    heightValue,\n    heightReferenceValue,\n    extrudedHeightValue,\n    extrudedHeightReferenceValue\n  );\n  options.height = _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].getGeometryHeight */ .Z.getGeometryHeight(\n    heightValue,\n    heightReferenceValue\n  );\n\n  extrudedHeightValue = _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].getGeometryExtrudedHeight */ .Z.getGeometryExtrudedHeight(\n    extrudedHeightValue,\n    extrudedHeightReferenceValue\n  );\n  if (extrudedHeightValue === _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].CLAMP_TO_GROUND */ .Z.CLAMP_TO_GROUND) {\n    extrudedHeightValue = _Core_ApproximateTerrainHeights_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].getMinimumMaximumHeights */ .Z.getMinimumMaximumHeights(\n      _Core_EllipseGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].computeRectangle */ .Z.computeRectangle(options, scratchRectangle)\n    ).minimumTerrainHeight;\n  }\n\n  options.extrudedHeight = extrudedHeightValue;\n};\n\nEllipseGeometryUpdater.DynamicGeometryUpdater = DynamicEllipseGeometryUpdater;\n\n/**\n * @private\n */\nfunction DynamicEllipseGeometryUpdater(\n  geometryUpdater,\n  primitives,\n  groundPrimitives\n) {\n  _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"].call */ .Z.call(\n    this,\n    geometryUpdater,\n    primitives,\n    groundPrimitives\n  );\n}\n\nif ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(Object.create)) {\n  DynamicEllipseGeometryUpdater.prototype = Object.create(\n    _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"].prototype */ .Z.prototype\n  );\n  DynamicEllipseGeometryUpdater.prototype.constructor = DynamicEllipseGeometryUpdater;\n}\n\nDynamicEllipseGeometryUpdater.prototype._isHidden = function (\n  entity,\n  ellipse,\n  time\n) {\n  var options = this._options;\n  return (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(options.center) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(options.semiMajorAxis) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(options.semiMinorAxis) ||\n    _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"].prototype._isHidden.call */ .Z.prototype._isHidden.call(this, entity, ellipse, time)\n  );\n};\n\nDynamicEllipseGeometryUpdater.prototype._setOptions = function (\n  entity,\n  ellipse,\n  time\n) {\n  var options = this._options;\n  var heightValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipse.height, time);\n  var heightReferenceValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipse.heightReference,\n    time,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].NONE */ .Z.NONE\n  );\n  var extrudedHeightValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.extrudedHeight,\n    time\n  );\n  var extrudedHeightReferenceValue = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipse.extrudedHeightReference,\n    time,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].NONE */ .Z.NONE\n  );\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(extrudedHeightValue) && !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z)(heightValue)) {\n    heightValue = 0;\n  }\n\n  options.center = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    entity.position,\n    time,\n    options.center\n  );\n  options.semiMajorAxis = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.semiMajorAxis,\n    time\n  );\n  options.semiMinorAxis = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.semiMinorAxis,\n    time\n  );\n  options.rotation = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipse.rotation, time);\n  options.granularity = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipse.granularity, time);\n  options.stRotation = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipse.stRotation, time);\n  options.numberOfVerticalLines = _Property_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipse.numberOfVerticalLines,\n    time\n  );\n  options.offsetAttribute = _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].computeGeometryOffsetAttribute */ .Z.computeGeometryOffsetAttribute(\n    heightValue,\n    heightReferenceValue,\n    extrudedHeightValue,\n    extrudedHeightReferenceValue\n  );\n  options.height = _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].getGeometryHeight */ .Z.getGeometryHeight(\n    heightValue,\n    heightReferenceValue\n  );\n\n  extrudedHeightValue = _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].getGeometryExtrudedHeight */ .Z.getGeometryExtrudedHeight(\n    extrudedHeightValue,\n    extrudedHeightReferenceValue\n  );\n  if (extrudedHeightValue === _GroundGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"].CLAMP_TO_GROUND */ .Z.CLAMP_TO_GROUND) {\n    extrudedHeightValue = _Core_ApproximateTerrainHeights_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].getMinimumMaximumHeights */ .Z.getMinimumMaximumHeights(\n      _Core_EllipseGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].computeRectangle */ .Z.computeRectangle(options, scratchRectangle)\n    ).minimumTerrainHeight;\n  }\n\n  options.extrudedHeight = extrudedHeightValue;\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EllipseGeometryUpdater);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBLDhCQUE4QiwyR0FBcUM7QUFDbkUsMEJBQTBCLHFJQUFrRDtBQUM1RSxNQUFNLDJHQUFnQztBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQSx5REFBZSxzQkFBc0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9FbGxpcHNlR2VvbWV0cnlVcGRhdGVyLmpzPzIyMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFwcHJveGltYXRlVGVycmFpbkhlaWdodHMgZnJvbSBcIi4uL0NvcmUvQXBwcm94aW1hdGVUZXJyYWluSGVpZ2h0cy5qc1wiO1xuaW1wb3J0IENhcnRlc2lhbjMgZnJvbSBcIi4uL0NvcmUvQ2FydGVzaWFuMy5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgQ29sb3IgZnJvbSBcIi4uL0NvcmUvQ29sb3IuanNcIjtcbmltcG9ydCBDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUgZnJvbSBcIi4uL0NvcmUvQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGV2ZWxvcGVyRXJyb3IgZnJvbSBcIi4uL0NvcmUvRGV2ZWxvcGVyRXJyb3IuanNcIjtcbmltcG9ydCBEaXN0YW5jZURpc3BsYXlDb25kaXRpb25HZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlIGZyb20gXCIuLi9Db3JlL0Rpc3RhbmNlRGlzcGxheUNvbmRpdGlvbkdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuanNcIjtcbmltcG9ydCBFbGxpcHNlR2VvbWV0cnkgZnJvbSBcIi4uL0NvcmUvRWxsaXBzZUdlb21ldHJ5LmpzXCI7XG5pbXBvcnQgRWxsaXBzZU91dGxpbmVHZW9tZXRyeSBmcm9tIFwiLi4vQ29yZS9FbGxpcHNlT3V0bGluZUdlb21ldHJ5LmpzXCI7XG5pbXBvcnQgR2VvbWV0cnlJbnN0YW5jZSBmcm9tIFwiLi4vQ29yZS9HZW9tZXRyeUluc3RhbmNlLmpzXCI7XG5pbXBvcnQgSXNvODYwMSBmcm9tIFwiLi4vQ29yZS9Jc284NjAxLmpzXCI7XG5pbXBvcnQgT2Zmc2V0R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZSBmcm9tIFwiLi4vQ29yZS9PZmZzZXRHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmpzXCI7XG5pbXBvcnQgUmVjdGFuZ2xlIGZyb20gXCIuLi9Db3JlL1JlY3RhbmdsZS5qc1wiO1xuaW1wb3J0IFNob3dHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlIGZyb20gXCIuLi9Db3JlL1Nob3dHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmpzXCI7XG5pbXBvcnQgSGVpZ2h0UmVmZXJlbmNlIGZyb20gXCIuLi9TY2VuZS9IZWlnaHRSZWZlcmVuY2UuanNcIjtcbmltcG9ydCBNYXRlcmlhbEFwcGVhcmFuY2UgZnJvbSBcIi4uL1NjZW5lL01hdGVyaWFsQXBwZWFyYW5jZS5qc1wiO1xuaW1wb3J0IFBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlIGZyb20gXCIuLi9TY2VuZS9QZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZS5qc1wiO1xuaW1wb3J0IENvbG9yTWF0ZXJpYWxQcm9wZXJ0eSBmcm9tIFwiLi9Db2xvck1hdGVyaWFsUHJvcGVydHkuanNcIjtcbmltcG9ydCBEeW5hbWljR2VvbWV0cnlVcGRhdGVyIGZyb20gXCIuL0R5bmFtaWNHZW9tZXRyeVVwZGF0ZXIuanNcIjtcbmltcG9ydCBHZW9tZXRyeVVwZGF0ZXIgZnJvbSBcIi4vR2VvbWV0cnlVcGRhdGVyLmpzXCI7XG5pbXBvcnQgR3JvdW5kR2VvbWV0cnlVcGRhdGVyIGZyb20gXCIuL0dyb3VuZEdlb21ldHJ5VXBkYXRlci5qc1wiO1xuaW1wb3J0IFByb3BlcnR5IGZyb20gXCIuL1Byb3BlcnR5LmpzXCI7XG5cbnZhciBzY3JhdGNoQ29sb3IgPSBuZXcgQ29sb3IoKTtcbnZhciBkZWZhdWx0T2Zmc2V0ID0gQ2FydGVzaWFuMy5aRVJPO1xudmFyIG9mZnNldFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbmZ1bmN0aW9uIEVsbGlwc2VHZW9tZXRyeU9wdGlvbnMoZW50aXR5KSB7XG4gIHRoaXMuaWQgPSBlbnRpdHk7XG4gIHRoaXMudmVydGV4Rm9ybWF0ID0gdW5kZWZpbmVkO1xuICB0aGlzLmNlbnRlciA9IHVuZGVmaW5lZDtcbiAgdGhpcy5zZW1pTWFqb3JBeGlzID0gdW5kZWZpbmVkO1xuICB0aGlzLnNlbWlNaW5vckF4aXMgPSB1bmRlZmluZWQ7XG4gIHRoaXMucm90YXRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICB0aGlzLmV4dHJ1ZGVkSGVpZ2h0ID0gdW5kZWZpbmVkO1xuICB0aGlzLmdyYW51bGFyaXR5ID0gdW5kZWZpbmVkO1xuICB0aGlzLnN0Um90YXRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMubnVtYmVyT2ZWZXJ0aWNhbExpbmVzID0gdW5kZWZpbmVkO1xuICB0aGlzLm9mZnNldEF0dHJpYnV0ZSA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHtAbGluayBHZW9tZXRyeVVwZGF0ZXJ9IGZvciBlbGxpcHNlcy5cbiAqIENsaWVudHMgZG8gbm90IG5vcm1hbGx5IGNyZWF0ZSB0aGlzIGNsYXNzIGRpcmVjdGx5LCBidXQgaW5zdGVhZCByZWx5IG9uIHtAbGluayBEYXRhU291cmNlRGlzcGxheX0uXG4gKiBAYWxpYXMgRWxsaXBzZUdlb21ldHJ5VXBkYXRlclxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IGNvbnRhaW5pbmcgdGhlIGdlb21ldHJ5IHRvIGJlIHZpc3VhbGl6ZWQuXG4gKiBAcGFyYW0ge1NjZW5lfSBzY2VuZSBUaGUgc2NlbmUgd2hlcmUgdmlzdWFsaXphdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG4gKi9cbmZ1bmN0aW9uIEVsbGlwc2VHZW9tZXRyeVVwZGF0ZXIoZW50aXR5LCBzY2VuZSkge1xuICBHcm91bmRHZW9tZXRyeVVwZGF0ZXIuY2FsbCh0aGlzLCB7XG4gICAgZW50aXR5OiBlbnRpdHksXG4gICAgc2NlbmU6IHNjZW5lLFxuICAgIGdlb21ldHJ5T3B0aW9uczogbmV3IEVsbGlwc2VHZW9tZXRyeU9wdGlvbnMoZW50aXR5KSxcbiAgICBnZW9tZXRyeVByb3BlcnR5TmFtZTogXCJlbGxpcHNlXCIsXG4gICAgb2JzZXJ2ZWRQcm9wZXJ0eU5hbWVzOiBbXCJhdmFpbGFiaWxpdHlcIiwgXCJwb3NpdGlvblwiLCBcImVsbGlwc2VcIl0sXG4gIH0pO1xuXG4gIHRoaXMuX29uRW50aXR5UHJvcGVydHlDaGFuZ2VkKGVudGl0eSwgXCJlbGxpcHNlXCIsIGVudGl0eS5lbGxpcHNlLCB1bmRlZmluZWQpO1xufVxuXG5pZiAoZGVmaW5lZChPYmplY3QuY3JlYXRlKSkge1xuICBFbGxpcHNlR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoXG4gICAgR3JvdW5kR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZVxuICApO1xuICBFbGxpcHNlR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVsbGlwc2VHZW9tZXRyeVVwZGF0ZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2VvbWV0cnkgaW5zdGFuY2Ugd2hpY2ggcmVwcmVzZW50cyB0aGUgZmlsbCBvZiB0aGUgZ2VvbWV0cnkuXG4gKlxuICogQHBhcmFtIHtKdWxpYW5EYXRlfSB0aW1lIFRoZSB0aW1lIHRvIHVzZSB3aGVuIHJldHJpZXZpbmcgaW5pdGlhbCBhdHRyaWJ1dGUgdmFsdWVzLlxuICogQHJldHVybnMge0dlb21ldHJ5SW5zdGFuY2V9IFRoZSBnZW9tZXRyeSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpbGxlZCBwb3J0aW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBpbnN0YW5jZSBkb2VzIG5vdCByZXByZXNlbnQgYSBmaWxsZWQgZ2VvbWV0cnkuXG4gKi9cbkVsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLmNyZWF0ZUZpbGxHZW9tZXRyeUluc3RhbmNlID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcInRpbWVcIiwgdGltZSk7XG5cbiAgaWYgKCF0aGlzLl9maWxsRW5hYmxlZCkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIFwiVGhpcyBpbnN0YW5jZSBkb2VzIG5vdCByZXByZXNlbnQgYSBmaWxsZWQgZ2VvbWV0cnkuXCJcbiAgICApO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciBlbnRpdHkgPSB0aGlzLl9lbnRpdHk7XG4gIHZhciBpc0F2YWlsYWJsZSA9IGVudGl0eS5pc0F2YWlsYWJsZSh0aW1lKTtcblxuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICBzaG93OiBuZXcgU2hvd0dlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUoXG4gICAgICBpc0F2YWlsYWJsZSAmJlxuICAgICAgICBlbnRpdHkuaXNTaG93aW5nICYmXG4gICAgICAgIHRoaXMuX3Nob3dQcm9wZXJ0eS5nZXRWYWx1ZSh0aW1lKSAmJlxuICAgICAgICB0aGlzLl9maWxsUHJvcGVydHkuZ2V0VmFsdWUodGltZSlcbiAgICApLFxuICAgIGRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbjogRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uKFxuICAgICAgdGhpcy5fZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uUHJvcGVydHkuZ2V0VmFsdWUodGltZSlcbiAgICApLFxuICAgIG9mZnNldDogdW5kZWZpbmVkLFxuICAgIGNvbG9yOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgaWYgKHRoaXMuX21hdGVyaWFsUHJvcGVydHkgaW5zdGFuY2VvZiBDb2xvck1hdGVyaWFsUHJvcGVydHkpIHtcbiAgICB2YXIgY3VycmVudENvbG9yO1xuICAgIGlmIChcbiAgICAgIGRlZmluZWQodGhpcy5fbWF0ZXJpYWxQcm9wZXJ0eS5jb2xvcikgJiZcbiAgICAgICh0aGlzLl9tYXRlcmlhbFByb3BlcnR5LmNvbG9yLmlzQ29uc3RhbnQgfHwgaXNBdmFpbGFibGUpXG4gICAgKSB7XG4gICAgICBjdXJyZW50Q29sb3IgPSB0aGlzLl9tYXRlcmlhbFByb3BlcnR5LmNvbG9yLmdldFZhbHVlKHRpbWUsIHNjcmF0Y2hDb2xvcik7XG4gICAgfVxuICAgIGlmICghZGVmaW5lZChjdXJyZW50Q29sb3IpKSB7XG4gICAgICBjdXJyZW50Q29sb3IgPSBDb2xvci5XSElURTtcbiAgICB9XG4gICAgYXR0cmlidXRlcy5jb2xvciA9IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ29sb3IoY3VycmVudENvbG9yKTtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRoaXMuX29wdGlvbnMub2Zmc2V0QXR0cmlidXRlKSkge1xuICAgIGF0dHJpYnV0ZXMub2Zmc2V0ID0gT2Zmc2V0R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ2FydGVzaWFuMyhcbiAgICAgIFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KFxuICAgICAgICB0aGlzLl90ZXJyYWluT2Zmc2V0UHJvcGVydHksXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGRlZmF1bHRPZmZzZXQsXG4gICAgICAgIG9mZnNldFNjcmF0Y2hcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBHZW9tZXRyeUluc3RhbmNlKHtcbiAgICBpZDogZW50aXR5LFxuICAgIGdlb21ldHJ5OiBuZXcgRWxsaXBzZUdlb21ldHJ5KHRoaXMuX29wdGlvbnMpLFxuICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBnZW9tZXRyeSBpbnN0YW5jZSB3aGljaCByZXByZXNlbnRzIHRoZSBvdXRsaW5lIG9mIHRoZSBnZW9tZXRyeS5cbiAqXG4gKiBAcGFyYW0ge0p1bGlhbkRhdGV9IHRpbWUgVGhlIHRpbWUgdG8gdXNlIHdoZW4gcmV0cmlldmluZyBpbml0aWFsIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7R2VvbWV0cnlJbnN0YW5jZX0gVGhlIGdlb21ldHJ5IGluc3RhbmNlIHJlcHJlc2VudGluZyB0aGUgb3V0bGluZSBwb3J0aW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBpbnN0YW5jZSBkb2VzIG5vdCByZXByZXNlbnQgYW4gb3V0bGluZWQgZ2VvbWV0cnkuXG4gKi9cbkVsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLmNyZWF0ZU91dGxpbmVHZW9tZXRyeUluc3RhbmNlID0gZnVuY3Rpb24gKFxuICB0aW1lXG4pIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcInRpbWVcIiwgdGltZSk7XG5cbiAgaWYgKCF0aGlzLl9vdXRsaW5lRW5hYmxlZCkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIFwiVGhpcyBpbnN0YW5jZSBkb2VzIG5vdCByZXByZXNlbnQgYW4gb3V0bGluZWQgZ2VvbWV0cnkuXCJcbiAgICApO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHZhciBlbnRpdHkgPSB0aGlzLl9lbnRpdHk7XG4gIHZhciBpc0F2YWlsYWJsZSA9IGVudGl0eS5pc0F2YWlsYWJsZSh0aW1lKTtcbiAgdmFyIG91dGxpbmVDb2xvciA9IFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KFxuICAgIHRoaXMuX291dGxpbmVDb2xvclByb3BlcnR5LFxuICAgIHRpbWUsXG4gICAgQ29sb3IuQkxBQ0ssXG4gICAgc2NyYXRjaENvbG9yXG4gICk7XG4gIHZhciBkaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSB0aGlzLl9kaXN0YW5jZURpc3BsYXlDb25kaXRpb25Qcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICB0aW1lXG4gICk7XG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgc2hvdzogbmV3IFNob3dHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlKFxuICAgICAgaXNBdmFpbGFibGUgJiZcbiAgICAgICAgZW50aXR5LmlzU2hvd2luZyAmJlxuICAgICAgICB0aGlzLl9zaG93UHJvcGVydHkuZ2V0VmFsdWUodGltZSkgJiZcbiAgICAgICAgdGhpcy5fc2hvd091dGxpbmVQcm9wZXJ0eS5nZXRWYWx1ZSh0aW1lKVxuICAgICksXG4gICAgY29sb3I6IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5mcm9tQ29sb3Iob3V0bGluZUNvbG9yKSxcbiAgICBkaXN0YW5jZURpc3BsYXlDb25kaXRpb246IERpc3RhbmNlRGlzcGxheUNvbmRpdGlvbkdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbURpc3RhbmNlRGlzcGxheUNvbmRpdGlvbihcbiAgICAgIGRpc3RhbmNlRGlzcGxheUNvbmRpdGlvblxuICAgICksXG4gICAgb2Zmc2V0OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fb3B0aW9ucy5vZmZzZXRBdHRyaWJ1dGUpKSB7XG4gICAgYXR0cmlidXRlcy5vZmZzZXQgPSBPZmZzZXRHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21DYXJ0ZXNpYW4zKFxuICAgICAgUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoXG4gICAgICAgIHRoaXMuX3RlcnJhaW5PZmZzZXRQcm9wZXJ0eSxcbiAgICAgICAgdGltZSxcbiAgICAgICAgZGVmYXVsdE9mZnNldCxcbiAgICAgICAgb2Zmc2V0U2NyYXRjaFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbmV3IEdlb21ldHJ5SW5zdGFuY2Uoe1xuICAgIGlkOiBlbnRpdHksXG4gICAgZ2VvbWV0cnk6IG5ldyBFbGxpcHNlT3V0bGluZUdlb21ldHJ5KHRoaXMuX29wdGlvbnMpLFxuICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMsXG4gIH0pO1xufTtcblxuRWxsaXBzZUdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuX2NvbXB1dGVDZW50ZXIgPSBmdW5jdGlvbiAodGltZSwgcmVzdWx0KSB7XG4gIHJldHVybiBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKHRoaXMuX2VudGl0eS5wb3NpdGlvbiwgdGltZSwgcmVzdWx0KTtcbn07XG5cbkVsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9pc0hpZGRlbiA9IGZ1bmN0aW9uIChlbnRpdHksIGVsbGlwc2UpIHtcbiAgdmFyIHBvc2l0aW9uID0gZW50aXR5LnBvc2l0aW9uO1xuXG4gIHJldHVybiAoXG4gICAgIWRlZmluZWQocG9zaXRpb24pIHx8XG4gICAgIWRlZmluZWQoZWxsaXBzZS5zZW1pTWFqb3JBeGlzKSB8fFxuICAgICFkZWZpbmVkKGVsbGlwc2Uuc2VtaU1pbm9yQXhpcykgfHxcbiAgICBHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9pc0hpZGRlbi5jYWxsKHRoaXMsIGVudGl0eSwgZWxsaXBzZSlcbiAgKTtcbn07XG5cbkVsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9pc0R5bmFtaWMgPSBmdW5jdGlvbiAoZW50aXR5LCBlbGxpcHNlKSB7XG4gIHJldHVybiAoXG4gICAgIWVudGl0eS5wb3NpdGlvbi5pc0NvbnN0YW50IHx8IC8vXG4gICAgIWVsbGlwc2Uuc2VtaU1ham9yQXhpcy5pc0NvbnN0YW50IHx8IC8vXG4gICAgIWVsbGlwc2Uuc2VtaU1pbm9yQXhpcy5pc0NvbnN0YW50IHx8IC8vXG4gICAgIVByb3BlcnR5LmlzQ29uc3RhbnQoZWxsaXBzZS5yb3RhdGlvbikgfHwgLy9cbiAgICAhUHJvcGVydHkuaXNDb25zdGFudChlbGxpcHNlLmhlaWdodCkgfHwgLy9cbiAgICAhUHJvcGVydHkuaXNDb25zdGFudChlbGxpcHNlLmV4dHJ1ZGVkSGVpZ2h0KSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc2UuZ3JhbnVsYXJpdHkpIHx8IC8vXG4gICAgIVByb3BlcnR5LmlzQ29uc3RhbnQoZWxsaXBzZS5zdFJvdGF0aW9uKSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc2Uub3V0bGluZVdpZHRoKSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc2UubnVtYmVyT2ZWZXJ0aWNhbExpbmVzKSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc2UuekluZGV4KSB8fCAvL1xuICAgICh0aGlzLl9vblRlcnJhaW4gJiZcbiAgICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KHRoaXMuX21hdGVyaWFsUHJvcGVydHkpICYmXG4gICAgICAhKHRoaXMuX21hdGVyaWFsUHJvcGVydHkgaW5zdGFuY2VvZiBDb2xvck1hdGVyaWFsUHJvcGVydHkpKVxuICApO1xufTtcblxuRWxsaXBzZUdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuX3NldFN0YXRpY09wdGlvbnMgPSBmdW5jdGlvbiAoXG4gIGVudGl0eSxcbiAgZWxsaXBzZVxuKSB7XG4gIHZhciBoZWlnaHRWYWx1ZSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzZS5oZWlnaHQsXG4gICAgSXNvODYwMS5NSU5JTVVNX1ZBTFVFXG4gICk7XG4gIHZhciBoZWlnaHRSZWZlcmVuY2VWYWx1ZSA9IFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KFxuICAgIGVsbGlwc2UuaGVpZ2h0UmVmZXJlbmNlLFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRSxcbiAgICBIZWlnaHRSZWZlcmVuY2UuTk9ORVxuICApO1xuICB2YXIgZXh0cnVkZWRIZWlnaHRWYWx1ZSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzZS5leHRydWRlZEhlaWdodCxcbiAgICBJc284NjAxLk1JTklNVU1fVkFMVUVcbiAgKTtcbiAgdmFyIGV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlVmFsdWUgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yRGVmYXVsdChcbiAgICBlbGxpcHNlLmV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlLFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRSxcbiAgICBIZWlnaHRSZWZlcmVuY2UuTk9ORVxuICApO1xuICBpZiAoZGVmaW5lZChleHRydWRlZEhlaWdodFZhbHVlKSAmJiAhZGVmaW5lZChoZWlnaHRWYWx1ZSkpIHtcbiAgICBoZWlnaHRWYWx1ZSA9IDA7XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG4gIG9wdGlvbnMudmVydGV4Rm9ybWF0ID1cbiAgICB0aGlzLl9tYXRlcmlhbFByb3BlcnR5IGluc3RhbmNlb2YgQ29sb3JNYXRlcmlhbFByb3BlcnR5XG4gICAgICA/IFBlckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlLlZFUlRFWF9GT1JNQVRcbiAgICAgIDogTWF0ZXJpYWxBcHBlYXJhbmNlLk1hdGVyaWFsU3VwcG9ydC5URVhUVVJFRC52ZXJ0ZXhGb3JtYXQ7XG4gIG9wdGlvbnMuY2VudGVyID0gZW50aXR5LnBvc2l0aW9uLmdldFZhbHVlKFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRSxcbiAgICBvcHRpb25zLmNlbnRlclxuICApO1xuICBvcHRpb25zLnNlbWlNYWpvckF4aXMgPSBlbGxpcHNlLnNlbWlNYWpvckF4aXMuZ2V0VmFsdWUoXG4gICAgSXNvODYwMS5NSU5JTVVNX1ZBTFVFLFxuICAgIG9wdGlvbnMuc2VtaU1ham9yQXhpc1xuICApO1xuICBvcHRpb25zLnNlbWlNaW5vckF4aXMgPSBlbGxpcHNlLnNlbWlNaW5vckF4aXMuZ2V0VmFsdWUoXG4gICAgSXNvODYwMS5NSU5JTVVNX1ZBTFVFLFxuICAgIG9wdGlvbnMuc2VtaU1pbm9yQXhpc1xuICApO1xuICBvcHRpb25zLnJvdGF0aW9uID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICBlbGxpcHNlLnJvdGF0aW9uLFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRVxuICApO1xuICBvcHRpb25zLmdyYW51bGFyaXR5ID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICBlbGxpcHNlLmdyYW51bGFyaXR5LFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRVxuICApO1xuICBvcHRpb25zLnN0Um90YXRpb24gPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVsbGlwc2Uuc3RSb3RhdGlvbixcbiAgICBJc284NjAxLk1JTklNVU1fVkFMVUVcbiAgKTtcbiAgb3B0aW9ucy5udW1iZXJPZlZlcnRpY2FsTGluZXMgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVsbGlwc2UubnVtYmVyT2ZWZXJ0aWNhbExpbmVzLFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRVxuICApO1xuICBvcHRpb25zLm9mZnNldEF0dHJpYnV0ZSA9IEdyb3VuZEdlb21ldHJ5VXBkYXRlci5jb21wdXRlR2VvbWV0cnlPZmZzZXRBdHRyaWJ1dGUoXG4gICAgaGVpZ2h0VmFsdWUsXG4gICAgaGVpZ2h0UmVmZXJlbmNlVmFsdWUsXG4gICAgZXh0cnVkZWRIZWlnaHRWYWx1ZSxcbiAgICBleHRydWRlZEhlaWdodFJlZmVyZW5jZVZhbHVlXG4gICk7XG4gIG9wdGlvbnMuaGVpZ2h0ID0gR3JvdW5kR2VvbWV0cnlVcGRhdGVyLmdldEdlb21ldHJ5SGVpZ2h0KFxuICAgIGhlaWdodFZhbHVlLFxuICAgIGhlaWdodFJlZmVyZW5jZVZhbHVlXG4gICk7XG5cbiAgZXh0cnVkZWRIZWlnaHRWYWx1ZSA9IEdyb3VuZEdlb21ldHJ5VXBkYXRlci5nZXRHZW9tZXRyeUV4dHJ1ZGVkSGVpZ2h0KFxuICAgIGV4dHJ1ZGVkSGVpZ2h0VmFsdWUsXG4gICAgZXh0cnVkZWRIZWlnaHRSZWZlcmVuY2VWYWx1ZVxuICApO1xuICBpZiAoZXh0cnVkZWRIZWlnaHRWYWx1ZSA9PT0gR3JvdW5kR2VvbWV0cnlVcGRhdGVyLkNMQU1QX1RPX0dST1VORCkge1xuICAgIGV4dHJ1ZGVkSGVpZ2h0VmFsdWUgPSBBcHByb3hpbWF0ZVRlcnJhaW5IZWlnaHRzLmdldE1pbmltdW1NYXhpbXVtSGVpZ2h0cyhcbiAgICAgIEVsbGlwc2VHZW9tZXRyeS5jb21wdXRlUmVjdGFuZ2xlKG9wdGlvbnMsIHNjcmF0Y2hSZWN0YW5nbGUpXG4gICAgKS5taW5pbXVtVGVycmFpbkhlaWdodDtcbiAgfVxuXG4gIG9wdGlvbnMuZXh0cnVkZWRIZWlnaHQgPSBleHRydWRlZEhlaWdodFZhbHVlO1xufTtcblxuRWxsaXBzZUdlb21ldHJ5VXBkYXRlci5EeW5hbWljR2VvbWV0cnlVcGRhdGVyID0gRHluYW1pY0VsbGlwc2VHZW9tZXRyeVVwZGF0ZXI7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRHluYW1pY0VsbGlwc2VHZW9tZXRyeVVwZGF0ZXIoXG4gIGdlb21ldHJ5VXBkYXRlcixcbiAgcHJpbWl0aXZlcyxcbiAgZ3JvdW5kUHJpbWl0aXZlc1xuKSB7XG4gIER5bmFtaWNHZW9tZXRyeVVwZGF0ZXIuY2FsbChcbiAgICB0aGlzLFxuICAgIGdlb21ldHJ5VXBkYXRlcixcbiAgICBwcmltaXRpdmVzLFxuICAgIGdyb3VuZFByaW1pdGl2ZXNcbiAgKTtcbn1cblxuaWYgKGRlZmluZWQoT2JqZWN0LmNyZWF0ZSkpIHtcbiAgRHluYW1pY0VsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShcbiAgICBEeW5hbWljR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZVxuICApO1xuICBEeW5hbWljRWxsaXBzZUdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEeW5hbWljRWxsaXBzZUdlb21ldHJ5VXBkYXRlcjtcbn1cblxuRHluYW1pY0VsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9pc0hpZGRlbiA9IGZ1bmN0aW9uIChcbiAgZW50aXR5LFxuICBlbGxpcHNlLFxuICB0aW1lXG4pIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuICByZXR1cm4gKFxuICAgICFkZWZpbmVkKG9wdGlvbnMuY2VudGVyKSB8fFxuICAgICFkZWZpbmVkKG9wdGlvbnMuc2VtaU1ham9yQXhpcykgfHxcbiAgICAhZGVmaW5lZChvcHRpb25zLnNlbWlNaW5vckF4aXMpIHx8XG4gICAgRHluYW1pY0dlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuX2lzSGlkZGVuLmNhbGwodGhpcywgZW50aXR5LCBlbGxpcHNlLCB0aW1lKVxuICApO1xufTtcblxuRHluYW1pY0VsbGlwc2VHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9zZXRPcHRpb25zID0gZnVuY3Rpb24gKFxuICBlbnRpdHksXG4gIGVsbGlwc2UsXG4gIHRpbWVcbikge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG4gIHZhciBoZWlnaHRWYWx1ZSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoZWxsaXBzZS5oZWlnaHQsIHRpbWUpO1xuICB2YXIgaGVpZ2h0UmVmZXJlbmNlVmFsdWUgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yRGVmYXVsdChcbiAgICBlbGxpcHNlLmhlaWdodFJlZmVyZW5jZSxcbiAgICB0aW1lLFxuICAgIEhlaWdodFJlZmVyZW5jZS5OT05FXG4gICk7XG4gIHZhciBleHRydWRlZEhlaWdodFZhbHVlID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICBlbGxpcHNlLmV4dHJ1ZGVkSGVpZ2h0LFxuICAgIHRpbWVcbiAgKTtcbiAgdmFyIGV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlVmFsdWUgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yRGVmYXVsdChcbiAgICBlbGxpcHNlLmV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlLFxuICAgIHRpbWUsXG4gICAgSGVpZ2h0UmVmZXJlbmNlLk5PTkVcbiAgKTtcbiAgaWYgKGRlZmluZWQoZXh0cnVkZWRIZWlnaHRWYWx1ZSkgJiYgIWRlZmluZWQoaGVpZ2h0VmFsdWUpKSB7XG4gICAgaGVpZ2h0VmFsdWUgPSAwO1xuICB9XG5cbiAgb3B0aW9ucy5jZW50ZXIgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVudGl0eS5wb3NpdGlvbixcbiAgICB0aW1lLFxuICAgIG9wdGlvbnMuY2VudGVyXG4gICk7XG4gIG9wdGlvbnMuc2VtaU1ham9yQXhpcyA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzZS5zZW1pTWFqb3JBeGlzLFxuICAgIHRpbWVcbiAgKTtcbiAgb3B0aW9ucy5zZW1pTWlub3JBeGlzID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICBlbGxpcHNlLnNlbWlNaW5vckF4aXMsXG4gICAgdGltZVxuICApO1xuICBvcHRpb25zLnJvdGF0aW9uID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChlbGxpcHNlLnJvdGF0aW9uLCB0aW1lKTtcbiAgb3B0aW9ucy5ncmFudWxhcml0eSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoZWxsaXBzZS5ncmFudWxhcml0eSwgdGltZSk7XG4gIG9wdGlvbnMuc3RSb3RhdGlvbiA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoZWxsaXBzZS5zdFJvdGF0aW9uLCB0aW1lKTtcbiAgb3B0aW9ucy5udW1iZXJPZlZlcnRpY2FsTGluZXMgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVsbGlwc2UubnVtYmVyT2ZWZXJ0aWNhbExpbmVzLFxuICAgIHRpbWVcbiAgKTtcbiAgb3B0aW9ucy5vZmZzZXRBdHRyaWJ1dGUgPSBHcm91bmRHZW9tZXRyeVVwZGF0ZXIuY29tcHV0ZUdlb21ldHJ5T2Zmc2V0QXR0cmlidXRlKFxuICAgIGhlaWdodFZhbHVlLFxuICAgIGhlaWdodFJlZmVyZW5jZVZhbHVlLFxuICAgIGV4dHJ1ZGVkSGVpZ2h0VmFsdWUsXG4gICAgZXh0cnVkZWRIZWlnaHRSZWZlcmVuY2VWYWx1ZVxuICApO1xuICBvcHRpb25zLmhlaWdodCA9IEdyb3VuZEdlb21ldHJ5VXBkYXRlci5nZXRHZW9tZXRyeUhlaWdodChcbiAgICBoZWlnaHRWYWx1ZSxcbiAgICBoZWlnaHRSZWZlcmVuY2VWYWx1ZVxuICApO1xuXG4gIGV4dHJ1ZGVkSGVpZ2h0VmFsdWUgPSBHcm91bmRHZW9tZXRyeVVwZGF0ZXIuZ2V0R2VvbWV0cnlFeHRydWRlZEhlaWdodChcbiAgICBleHRydWRlZEhlaWdodFZhbHVlLFxuICAgIGV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlVmFsdWVcbiAgKTtcbiAgaWYgKGV4dHJ1ZGVkSGVpZ2h0VmFsdWUgPT09IEdyb3VuZEdlb21ldHJ5VXBkYXRlci5DTEFNUF9UT19HUk9VTkQpIHtcbiAgICBleHRydWRlZEhlaWdodFZhbHVlID0gQXBwcm94aW1hdGVUZXJyYWluSGVpZ2h0cy5nZXRNaW5pbXVtTWF4aW11bUhlaWdodHMoXG4gICAgICBFbGxpcHNlR2VvbWV0cnkuY29tcHV0ZVJlY3RhbmdsZShvcHRpb25zLCBzY3JhdGNoUmVjdGFuZ2xlKVxuICAgICkubWluaW11bVRlcnJhaW5IZWlnaHQ7XG4gIH1cblxuICBvcHRpb25zLmV4dHJ1ZGVkSGVpZ2h0ID0gZXh0cnVkZWRIZWlnaHRWYWx1ZTtcbn07XG5leHBvcnQgZGVmYXVsdCBFbGxpcHNlR2VvbWV0cnlVcGRhdGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///28698\n')},12438:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14459);\n/* harmony import */ var _createMaterialPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1370);\n/* harmony import */ var _createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(90203);\n\n\n\n\n\n\n\n/**\n * @typedef {Object} EllipseGraphics.ConstructorOptions\n *\n * Initialization options for the EllipseGraphics constructor\n *\n * @property {Property | boolean} [show=true] A boolean Property specifying the visibility of the ellipse.\n * @property {Property | number} [semiMajorAxis] The numeric Property specifying the semi-major axis.\n * @property {Property | number} [semiMinorAxis] The numeric Property specifying the semi-minor axis.\n * @property {Property | number} [height=0] A numeric Property specifying the altitude of the ellipse relative to the ellipsoid surface.\n * @property {Property | HeightReference} [heightReference=HeightReference.NONE] A Property specifying what the height is relative to.\n * @property {Property | number} [extrudedHeight] A numeric Property specifying the altitude of the ellipse\'s extruded face relative to the ellipsoid surface.\n * @property {Property | HeightReference} [extrudedHeightReference=HeightReference.NONE] A Property specifying what the extrudedHeight is relative to.\n * @property {Property | number} [rotation=0.0] A numeric property specifying the rotation of the ellipse counter-clockwise from north.\n * @property {Property | number} [stRotation=0.0] A numeric property specifying the rotation of the ellipse texture counter-clockwise from north.\n * @property {Property | number} [granularity=Cesium.Math.RADIANS_PER_DEGREE] A numeric Property specifying the angular distance between points on the ellipse.\n * @property {Property | boolean} [fill=true] A boolean Property specifying whether the ellipse is filled with the provided material.\n * @property {MaterialProperty | Color} [material=Color.WHITE] A Property specifying the material used to fill the ellipse.\n * @property {Property | boolean} [outline=false] A boolean Property specifying whether the ellipse is outlined.\n * @property {Property | Color} [outlineColor=Color.BLACK] A Property specifying the {@link Color} of the outline.\n * @property {Property | number} [outlineWidth=1.0] A numeric Property specifying the width of the outline.\n * @property {Property | number} [numberOfVerticalLines=16] A numeric Property specifying the number of vertical lines to draw along the perimeter for the outline.\n * @property {Property | ShadowMode} [shadows=ShadowMode.DISABLED] An enum Property specifying whether the ellipse casts or receives shadows from light sources.\n * @property {Property | DistanceDisplayCondition} [distanceDisplayCondition] A Property specifying at what distance from the camera that this ellipse will be displayed.\n * @property {Property | ClassificationType} [classificationType=ClassificationType.BOTH] An enum Property specifying whether this ellipse will classify terrain, 3D Tiles, or both when on the ground.\n * @property {ConstantProperty | number} [zIndex=0] A property specifying the zIndex of the Ellipse.  Used for ordering ground geometry.  Only has an effect if the ellipse is constant and neither height or exturdedHeight are specified.\n */\n\n/**\n * Describes an ellipse defined by a center point and semi-major and semi-minor axes.\n * The ellipse conforms to the curvature of the globe and can be placed on the surface or\n * at altitude and can optionally be extruded into a volume.\n * The center point is determined by the containing {@link Entity}.\n *\n * @alias EllipseGraphics\n * @constructor\n *\n * @param {EllipseGraphics.ConstructorOptions} [options] Object describing initialization options\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Circles and Ellipses.html|Cesium Sandcastle Circles and Ellipses Demo}\n */\nfunction EllipseGraphics(options) {\n  this._definitionChanged = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n  this._show = undefined;\n  this._showSubscription = undefined;\n  this._semiMajorAxis = undefined;\n  this._semiMajorAxisSubscription = undefined;\n  this._semiMinorAxis = undefined;\n  this._semiMinorAxisSubscription = undefined;\n  this._height = undefined;\n  this._heightSubscription = undefined;\n  this._heightReference = undefined;\n  this._heightReferenceSubscription = undefined;\n  this._extrudedHeight = undefined;\n  this._extrudedHeightSubscription = undefined;\n  this._extrudedHeightReference = undefined;\n  this._extrudedHeightReferenceSubscription = undefined;\n  this._rotation = undefined;\n  this._rotationSubscription = undefined;\n  this._stRotation = undefined;\n  this._stRotationSubscription = undefined;\n  this._granularity = undefined;\n  this._granularitySubscription = undefined;\n  this._fill = undefined;\n  this._fillSubscription = undefined;\n  this._material = undefined;\n  this._materialSubscription = undefined;\n  this._outline = undefined;\n  this._outlineSubscription = undefined;\n  this._outlineColor = undefined;\n  this._outlineColorSubscription = undefined;\n  this._outlineWidth = undefined;\n  this._outlineWidthSubscription = undefined;\n  this._numberOfVerticalLines = undefined;\n  this._numberOfVerticalLinesSubscription = undefined;\n  this._shadows = undefined;\n  this._shadowsSubscription = undefined;\n  this._distanceDisplayCondition = undefined;\n  this._distanceDisplayConditionSubscription = undefined;\n  this._classificationType = undefined;\n  this._classificationTypeSubscription = undefined;\n  this._zIndex = undefined;\n  this._zIndexSubscription = undefined;\n\n  this.merge((0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT));\n}\n\nObject.defineProperties(EllipseGraphics.prototype, {\n  /**\n   * Gets the event that is raised whenever a property or sub-property is changed or modified.\n   * @memberof EllipseGraphics.prototype\n   *\n   * @type {Event}\n   * @readonly\n   */\n  definitionChanged: {\n    get: function () {\n      return this._definitionChanged;\n    },\n  },\n\n  /**\n   * Gets or sets the boolean Property specifying the visibility of the ellipse.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default true\n   */\n  show: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("show"),\n\n  /**\n   * Gets or sets the numeric Property specifying the semi-major axis.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   */\n  semiMajorAxis: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("semiMajorAxis"),\n\n  /**\n   * Gets or sets the numeric Property specifying the semi-minor axis.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   */\n  semiMinorAxis: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("semiMinorAxis"),\n\n  /**\n   * Gets or sets the numeric Property specifying the altitude of the ellipse.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default 0.0\n   */\n  height: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("height"),\n\n  /**\n   * Gets or sets the Property specifying the {@link HeightReference}.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default HeightReference.NONE\n   */\n  heightReference: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("heightReference"),\n\n  /**\n   * Gets or sets the numeric Property specifying the altitude of the ellipse extrusion.\n   * Setting this property creates volume starting at height and ending at this altitude.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   */\n  extrudedHeight: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("extrudedHeight"),\n\n  /**\n   * Gets or sets the Property specifying the extruded {@link HeightReference}.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default HeightReference.NONE\n   */\n  extrudedHeightReference: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("extrudedHeightReference"),\n\n  /**\n   * Gets or sets the numeric property specifying the rotation of the ellipse counter-clockwise from north.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default 0\n   */\n  rotation: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("rotation"),\n\n  /**\n   * Gets or sets the numeric property specifying the rotation of the ellipse texture counter-clockwise from north.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default 0\n   */\n  stRotation: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("stRotation"),\n\n  /**\n   * Gets or sets the numeric Property specifying the angular distance between points on the ellipse.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default {CesiumMath.RADIANS_PER_DEGREE}\n   */\n  granularity: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("granularity"),\n\n  /**\n   * Gets or sets the boolean Property specifying whether the ellipse is filled with the provided material.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default true\n   */\n  fill: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("fill"),\n\n  /**\n   * Gets or sets the Property specifying the material used to fill the ellipse.\n   * @memberof EllipseGraphics.prototype\n   * @type {MaterialProperty|undefined}\n   * @default Color.WHITE\n   */\n  material: (0,_createMaterialPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)("material"),\n\n  /**\n   * Gets or sets the Property specifying whether the ellipse is outlined.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default false\n   */\n  outline: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("outline"),\n\n  /**\n   * Gets or sets the Property specifying the {@link Color} of the outline.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default Color.BLACK\n   */\n  outlineColor: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("outlineColor"),\n\n  /**\n   * Gets or sets the numeric Property specifying the width of the outline.\n   * <p>\n   * Note: This property will be ignored on all major browsers on Windows platforms. For details, see (@link https://github.com/CesiumGS/cesium/issues/40}.\n   * </p>\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default 1.0\n   */\n  outlineWidth: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("outlineWidth"),\n\n  /**\n   * Gets or sets the numeric Property specifying the number of vertical lines to draw along the perimeter for the outline.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default 16\n   */\n  numberOfVerticalLines: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("numberOfVerticalLines"),\n\n  /**\n   * Get or sets the enum Property specifying whether the ellipse\n   * casts or receives shadows from light sources.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default ShadowMode.DISABLED\n   */\n  shadows: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("shadows"),\n\n  /**\n   * Gets or sets the {@link DistanceDisplayCondition} Property specifying at what distance from the camera that this ellipse will be displayed.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   */\n  distanceDisplayCondition: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n    "distanceDisplayCondition"\n  ),\n\n  /**\n   * Gets or sets the {@link ClassificationType} Property specifying whether this ellipse will classify terrain, 3D Tiles, or both when on the ground.\n   * @memberof EllipseGraphics.prototype\n   * @type {Property|undefined}\n   * @default ClassificationType.BOTH\n   */\n  classificationType: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("classificationType"),\n\n  /**\n   * Gets or sets the zIndex Property specifying the ellipse ordering.  Only has an effect if the ellipse is constant and neither height or extrudedHeight are specified\n   * @memberof EllipseGraphics.prototype\n   * @type {ConstantProperty|undefined}\n   * @default 0\n   */\n  zIndex: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("zIndex"),\n});\n\n/**\n * Duplicates this instance.\n *\n * @param {EllipseGraphics} [result] The object onto which to store the result.\n * @returns {EllipseGraphics} The modified result parameter or a new instance if one was not provided.\n */\nEllipseGraphics.prototype.clone = function (result) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(result)) {\n    return new EllipseGraphics(this);\n  }\n  result.show = this.show;\n  result.semiMajorAxis = this.semiMajorAxis;\n  result.semiMinorAxis = this.semiMinorAxis;\n  result.height = this.height;\n  result.heightReference = this.heightReference;\n  result.extrudedHeight = this.extrudedHeight;\n  result.extrudedHeightReference = this.extrudedHeightReference;\n  result.rotation = this.rotation;\n  result.stRotation = this.stRotation;\n  result.granularity = this.granularity;\n  result.fill = this.fill;\n  result.material = this.material;\n  result.outline = this.outline;\n  result.outlineColor = this.outlineColor;\n  result.outlineWidth = this.outlineWidth;\n  result.numberOfVerticalLines = this.numberOfVerticalLines;\n  result.shadows = this.shadows;\n  result.distanceDisplayCondition = this.distanceDisplayCondition;\n  result.classificationType = this.classificationType;\n  result.zIndex = this.zIndex;\n  return result;\n};\n\n/**\n * Assigns each unassigned property on this object to the value\n * of the same property on the provided source object.\n *\n * @param {EllipseGraphics} source The object to be merged into this object.\n */\nEllipseGraphics.prototype.merge = function (source) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(source)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("source is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.show, source.show);\n  this.semiMajorAxis = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.semiMajorAxis, source.semiMajorAxis);\n  this.semiMinorAxis = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.semiMinorAxis, source.semiMinorAxis);\n  this.height = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.height, source.height);\n  this.heightReference = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.heightReference,\n    source.heightReference\n  );\n  this.extrudedHeight = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.extrudedHeight,\n    source.extrudedHeight\n  );\n  this.extrudedHeightReference = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.extrudedHeightReference,\n    source.extrudedHeightReference\n  );\n  this.rotation = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.rotation, source.rotation);\n  this.stRotation = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.stRotation, source.stRotation);\n  this.granularity = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.granularity, source.granularity);\n  this.fill = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.fill, source.fill);\n  this.material = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.material, source.material);\n  this.outline = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.outline, source.outline);\n  this.outlineColor = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.outlineColor, source.outlineColor);\n  this.outlineWidth = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.outlineWidth, source.outlineWidth);\n  this.numberOfVerticalLines = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.numberOfVerticalLines,\n    source.numberOfVerticalLines\n  );\n  this.shadows = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.shadows, source.shadows);\n  this.distanceDisplayCondition = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.distanceDisplayCondition,\n    source.distanceDisplayCondition\n  );\n  this.classificationType = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.classificationType,\n    source.classificationType\n  );\n  this.zIndex = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.zIndex, source.zIndex);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EllipseGraphics);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0MzguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQ1Y7QUFDYztBQUNsQjtBQUNnRDtBQUNoQjs7QUFFckU7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyw0QkFBNEI7QUFDMUMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyw0QkFBNEI7QUFDMUMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYywwQkFBMEI7QUFDeEMsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYyxrQkFBa0Isc0RBQXNELGFBQWE7QUFDbkcsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyx1QkFBdUI7QUFDckMsY0FBYyxxQ0FBcUM7QUFDbkQsY0FBYywrQkFBK0I7QUFDN0MsY0FBYywyQkFBMkI7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsYUFBYTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0NBQW9DO0FBQy9DO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQUs7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSwwRUFBWSxVQUFVLGdHQUF5QjtBQUM1RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFFBQVEsaUZBQXdCOztBQUVoQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxpQkFBaUIsaUZBQXdCOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxpQkFBaUIsaUZBQXdCOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVUsaUZBQXdCOztBQUVsQztBQUNBLCtDQUErQyxzQkFBc0I7QUFDckU7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLG1CQUFtQixpRkFBd0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0Esa0JBQWtCLGlGQUF3Qjs7QUFFMUM7QUFDQSx3REFBd0Qsc0JBQXNCO0FBQzlFO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSwyQkFBMkIsaUZBQXdCOztBQUVuRDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVksaUZBQXdCOztBQUVwQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGNBQWMsaUZBQXdCOztBQUV0QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osZUFBZTtBQUNmO0FBQ0EsZUFBZSxpRkFBd0I7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsUUFBUSxpRkFBd0I7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWSx5RkFBZ0M7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsV0FBVyxpRkFBd0I7O0FBRW5DO0FBQ0EsK0NBQStDLGFBQWE7QUFDNUQ7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGdCQUFnQixpRkFBd0I7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBLDBKQUEwSjtBQUMxSjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxnQkFBZ0IsaUZBQXdCOztBQUV4QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLHlCQUF5QixpRkFBd0I7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxXQUFXLGlGQUF3Qjs7QUFFbkM7QUFDQSx1QkFBdUIsZ0NBQWdDO0FBQ3ZEO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsNEJBQTRCLGlGQUF3QjtBQUNwRDtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLDBCQUEwQjtBQUNqRDtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0Esc0JBQXNCLGlGQUF3Qjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVLGlGQUF3QjtBQUNsQyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsT0FBTyxxRUFBTztBQUNkLGNBQWMsd0VBQWM7QUFDNUI7QUFDQTs7QUFFQSxjQUFjLDBFQUFZO0FBQzFCLHVCQUF1QiwwRUFBWTtBQUNuQyx1QkFBdUIsMEVBQVk7QUFDbkMsZ0JBQWdCLDBFQUFZO0FBQzVCLHlCQUF5QiwwRUFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEVBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDBFQUFZO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwRUFBWTtBQUM5QixvQkFBb0IsMEVBQVk7QUFDaEMscUJBQXFCLDBFQUFZO0FBQ2pDLGNBQWMsMEVBQVk7QUFDMUIsa0JBQWtCLDBFQUFZO0FBQzlCLGlCQUFpQiwwRUFBWTtBQUM3QixzQkFBc0IsMEVBQVk7QUFDbEMsc0JBQXNCLDBFQUFZO0FBQ2xDLCtCQUErQiwwRUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMEVBQVk7QUFDN0Isa0NBQWtDLDBFQUFZO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwRUFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEVBQVk7QUFDNUI7QUFDQSx5REFBZSxlQUFlLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvRGF0YVNvdXJjZXMvRWxsaXBzZUdyYXBoaWNzLmpzP2JlYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRWYWx1ZSBmcm9tIFwiLi4vQ29yZS9kZWZhdWx0VmFsdWUuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9Db3JlL0V2ZW50LmpzXCI7XG5pbXBvcnQgY3JlYXRlTWF0ZXJpYWxQcm9wZXJ0eURlc2NyaXB0b3IgZnJvbSBcIi4vY3JlYXRlTWF0ZXJpYWxQcm9wZXJ0eURlc2NyaXB0b3IuanNcIjtcbmltcG9ydCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgZnJvbSBcIi4vY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yLmpzXCI7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRWxsaXBzZUdyYXBoaWNzLkNvbnN0cnVjdG9yT3B0aW9uc1xuICpcbiAqIEluaXRpYWxpemF0aW9uIG9wdGlvbnMgZm9yIHRoZSBFbGxpcHNlR3JhcGhpY3MgY29uc3RydWN0b3JcbiAqXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgYm9vbGVhbn0gW3Nob3c9dHJ1ZV0gQSBib29sZWFuIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGVsbGlwc2UuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbc2VtaU1ham9yQXhpc10gVGhlIG51bWVyaWMgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgc2VtaS1tYWpvciBheGlzLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IG51bWJlcn0gW3NlbWlNaW5vckF4aXNdIFRoZSBudW1lcmljIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHNlbWktbWlub3IgYXhpcy5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBudW1iZXJ9IFtoZWlnaHQ9MF0gQSBudW1lcmljIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIGFsdGl0dWRlIG9mIHRoZSBlbGxpcHNlIHJlbGF0aXZlIHRvIHRoZSBlbGxpcHNvaWQgc3VyZmFjZS5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBIZWlnaHRSZWZlcmVuY2V9IFtoZWlnaHRSZWZlcmVuY2U9SGVpZ2h0UmVmZXJlbmNlLk5PTkVdIEEgUHJvcGVydHkgc3BlY2lmeWluZyB3aGF0IHRoZSBoZWlnaHQgaXMgcmVsYXRpdmUgdG8uXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbZXh0cnVkZWRIZWlnaHRdIEEgbnVtZXJpYyBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBhbHRpdHVkZSBvZiB0aGUgZWxsaXBzZSdzIGV4dHJ1ZGVkIGZhY2UgcmVsYXRpdmUgdG8gdGhlIGVsbGlwc29pZCBzdXJmYWNlLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IEhlaWdodFJlZmVyZW5jZX0gW2V4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlPUhlaWdodFJlZmVyZW5jZS5OT05FXSBBIFByb3BlcnR5IHNwZWNpZnlpbmcgd2hhdCB0aGUgZXh0cnVkZWRIZWlnaHQgaXMgcmVsYXRpdmUgdG8uXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbcm90YXRpb249MC4wXSBBIG51bWVyaWMgcHJvcGVydHkgc3BlY2lmeWluZyB0aGUgcm90YXRpb24gb2YgdGhlIGVsbGlwc2UgY291bnRlci1jbG9ja3dpc2UgZnJvbSBub3J0aC5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBudW1iZXJ9IFtzdFJvdGF0aW9uPTAuMF0gQSBudW1lcmljIHByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHJvdGF0aW9uIG9mIHRoZSBlbGxpcHNlIHRleHR1cmUgY291bnRlci1jbG9ja3dpc2UgZnJvbSBub3J0aC5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBudW1iZXJ9IFtncmFudWxhcml0eT1DZXNpdW0uTWF0aC5SQURJQU5TX1BFUl9ERUdSRUVdIEEgbnVtZXJpYyBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIG9uIHRoZSBlbGxpcHNlLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IGJvb2xlYW59IFtmaWxsPXRydWVdIEEgYm9vbGVhbiBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc2UgaXMgZmlsbGVkIHdpdGggdGhlIHByb3ZpZGVkIG1hdGVyaWFsLlxuICogQHByb3BlcnR5IHtNYXRlcmlhbFByb3BlcnR5IHwgQ29sb3J9IFttYXRlcmlhbD1Db2xvci5XSElURV0gQSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBtYXRlcmlhbCB1c2VkIHRvIGZpbGwgdGhlIGVsbGlwc2UuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgYm9vbGVhbn0gW291dGxpbmU9ZmFsc2VdIEEgYm9vbGVhbiBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc2UgaXMgb3V0bGluZWQuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgQ29sb3J9IFtvdXRsaW5lQ29sb3I9Q29sb3IuQkxBQ0tdIEEgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUge0BsaW5rIENvbG9yfSBvZiB0aGUgb3V0bGluZS5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBudW1iZXJ9IFtvdXRsaW5lV2lkdGg9MS4wXSBBIG51bWVyaWMgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgd2lkdGggb2YgdGhlIG91dGxpbmUuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbbnVtYmVyT2ZWZXJ0aWNhbExpbmVzPTE2XSBBIG51bWVyaWMgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIHZlcnRpY2FsIGxpbmVzIHRvIGRyYXcgYWxvbmcgdGhlIHBlcmltZXRlciBmb3IgdGhlIG91dGxpbmUuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgU2hhZG93TW9kZX0gW3NoYWRvd3M9U2hhZG93TW9kZS5ESVNBQkxFRF0gQW4gZW51bSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc2UgY2FzdHMgb3IgcmVjZWl2ZXMgc2hhZG93cyBmcm9tIGxpZ2h0IHNvdXJjZXMuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9ufSBbZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uXSBBIFByb3BlcnR5IHNwZWNpZnlpbmcgYXQgd2hhdCBkaXN0YW5jZSBmcm9tIHRoZSBjYW1lcmEgdGhhdCB0aGlzIGVsbGlwc2Ugd2lsbCBiZSBkaXNwbGF5ZWQuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgQ2xhc3NpZmljYXRpb25UeXBlfSBbY2xhc3NpZmljYXRpb25UeXBlPUNsYXNzaWZpY2F0aW9uVHlwZS5CT1RIXSBBbiBlbnVtIFByb3BlcnR5IHNwZWNpZnlpbmcgd2hldGhlciB0aGlzIGVsbGlwc2Ugd2lsbCBjbGFzc2lmeSB0ZXJyYWluLCAzRCBUaWxlcywgb3IgYm90aCB3aGVuIG9uIHRoZSBncm91bmQuXG4gKiBAcHJvcGVydHkge0NvbnN0YW50UHJvcGVydHkgfCBudW1iZXJ9IFt6SW5kZXg9MF0gQSBwcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSB6SW5kZXggb2YgdGhlIEVsbGlwc2UuICBVc2VkIGZvciBvcmRlcmluZyBncm91bmQgZ2VvbWV0cnkuICBPbmx5IGhhcyBhbiBlZmZlY3QgaWYgdGhlIGVsbGlwc2UgaXMgY29uc3RhbnQgYW5kIG5laXRoZXIgaGVpZ2h0IG9yIGV4dHVyZGVkSGVpZ2h0IGFyZSBzcGVjaWZpZWQuXG4gKi9cblxuLyoqXG4gKiBEZXNjcmliZXMgYW4gZWxsaXBzZSBkZWZpbmVkIGJ5IGEgY2VudGVyIHBvaW50IGFuZCBzZW1pLW1ham9yIGFuZCBzZW1pLW1pbm9yIGF4ZXMuXG4gKiBUaGUgZWxsaXBzZSBjb25mb3JtcyB0byB0aGUgY3VydmF0dXJlIG9mIHRoZSBnbG9iZSBhbmQgY2FuIGJlIHBsYWNlZCBvbiB0aGUgc3VyZmFjZSBvclxuICogYXQgYWx0aXR1ZGUgYW5kIGNhbiBvcHRpb25hbGx5IGJlIGV4dHJ1ZGVkIGludG8gYSB2b2x1bWUuXG4gKiBUaGUgY2VudGVyIHBvaW50IGlzIGRldGVybWluZWQgYnkgdGhlIGNvbnRhaW5pbmcge0BsaW5rIEVudGl0eX0uXG4gKlxuICogQGFsaWFzIEVsbGlwc2VHcmFwaGljc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtFbGxpcHNlR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbb3B0aW9uc10gT2JqZWN0IGRlc2NyaWJpbmcgaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xuICpcbiAqIEBkZW1vIHtAbGluayBodHRwczovL3NhbmRjYXN0bGUuY2VzaXVtLmNvbS9pbmRleC5odG1sP3NyYz1DaXJjbGVzIGFuZCBFbGxpcHNlcy5odG1sfENlc2l1bSBTYW5kY2FzdGxlIENpcmNsZXMgYW5kIEVsbGlwc2VzIERlbW99XG4gKi9cbmZ1bmN0aW9uIEVsbGlwc2VHcmFwaGljcyhvcHRpb25zKSB7XG4gIHRoaXMuX2RlZmluaXRpb25DaGFuZ2VkID0gbmV3IEV2ZW50KCk7XG4gIHRoaXMuX3Nob3cgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3Nob3dTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NlbWlNYWpvckF4aXMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NlbWlNYWpvckF4aXNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NlbWlNaW5vckF4aXMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NlbWlNaW5vckF4aXNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2hlaWdodCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5faGVpZ2h0U3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9oZWlnaHRSZWZlcmVuY2UgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2hlaWdodFJlZmVyZW5jZVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZXh0cnVkZWRIZWlnaHQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2V4dHJ1ZGVkSGVpZ2h0U3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9leHRydWRlZEhlaWdodFJlZmVyZW5jZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZXh0cnVkZWRIZWlnaHRSZWZlcmVuY2VTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3JvdGF0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9yb3RhdGlvblN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc3RSb3RhdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc3RSb3RhdGlvblN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZ3JhbnVsYXJpdHkgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2dyYW51bGFyaXR5U3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9maWxsID0gdW5kZWZpbmVkO1xuICB0aGlzLl9maWxsU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tYXRlcmlhbCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbWF0ZXJpYWxTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX291dGxpbmUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX291dGxpbmVTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX291dGxpbmVDb2xvciA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fb3V0bGluZUNvbG9yU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9vdXRsaW5lV2lkdGggPSB1bmRlZmluZWQ7XG4gIHRoaXMuX291dGxpbmVXaWR0aFN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbnVtYmVyT2ZWZXJ0aWNhbExpbmVzID0gdW5kZWZpbmVkO1xuICB0aGlzLl9udW1iZXJPZlZlcnRpY2FsTGluZXNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NoYWRvd3MgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3NoYWRvd3NTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2Rpc3RhbmNlRGlzcGxheUNvbmRpdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9jbGFzc2lmaWNhdGlvblR5cGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NsYXNzaWZpY2F0aW9uVHlwZVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fekluZGV4ID0gdW5kZWZpbmVkO1xuICB0aGlzLl96SW5kZXhTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5tZXJnZShkZWZhdWx0VmFsdWUob3B0aW9ucywgZGVmYXVsdFZhbHVlLkVNUFRZX09CSkVDVCkpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIHJhaXNlZCB3aGVuZXZlciBhIHByb3BlcnR5IG9yIHN1Yi1wcm9wZXJ0eSBpcyBjaGFuZ2VkIG9yIG1vZGlmaWVkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZGVmaW5pdGlvbkNoYW5nZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uQ2hhbmdlZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGJvb2xlYW4gUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZWxsaXBzZS5cbiAgICogQG1lbWJlcm9mIEVsbGlwc2VHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgc2hvdzogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwic2hvd1wiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBudW1lcmljIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHNlbWktbWFqb3IgYXhpcy5cbiAgICogQG1lbWJlcm9mIEVsbGlwc2VHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICovXG4gIHNlbWlNYWpvckF4aXM6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInNlbWlNYWpvckF4aXNcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbnVtZXJpYyBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBzZW1pLW1pbm9yIGF4aXMuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqL1xuICBzZW1pTWlub3JBeGlzOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJzZW1pTWlub3JBeGlzXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIG51bWVyaWMgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgYWx0aXR1ZGUgb2YgdGhlIGVsbGlwc2UuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IDAuMFxuICAgKi9cbiAgaGVpZ2h0OiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJoZWlnaHRcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUge0BsaW5rIEhlaWdodFJlZmVyZW5jZX0uXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IEhlaWdodFJlZmVyZW5jZS5OT05FXG4gICAqL1xuICBoZWlnaHRSZWZlcmVuY2U6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcImhlaWdodFJlZmVyZW5jZVwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBudW1lcmljIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIGFsdGl0dWRlIG9mIHRoZSBlbGxpcHNlIGV4dHJ1c2lvbi5cbiAgICogU2V0dGluZyB0aGlzIHByb3BlcnR5IGNyZWF0ZXMgdm9sdW1lIHN0YXJ0aW5nIGF0IGhlaWdodCBhbmQgZW5kaW5nIGF0IHRoaXMgYWx0aXR1ZGUuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqL1xuICBleHRydWRlZEhlaWdodDogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwiZXh0cnVkZWRIZWlnaHRcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgZXh0cnVkZWQge0BsaW5rIEhlaWdodFJlZmVyZW5jZX0uXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IEhlaWdodFJlZmVyZW5jZS5OT05FXG4gICAqL1xuICBleHRydWRlZEhlaWdodFJlZmVyZW5jZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwiZXh0cnVkZWRIZWlnaHRSZWZlcmVuY2VcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbnVtZXJpYyBwcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSByb3RhdGlvbiBvZiB0aGUgZWxsaXBzZSBjb3VudGVyLWNsb2Nrd2lzZSBmcm9tIG5vcnRoLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICByb3RhdGlvbjogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwicm90YXRpb25cIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbnVtZXJpYyBwcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSByb3RhdGlvbiBvZiB0aGUgZWxsaXBzZSB0ZXh0dXJlIGNvdW50ZXItY2xvY2t3aXNlIGZyb20gbm9ydGguXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIHN0Um90YXRpb246IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInN0Um90YXRpb25cIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbnVtZXJpYyBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIG9uIHRoZSBlbGxpcHNlLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB7Q2VzaXVtTWF0aC5SQURJQU5TX1BFUl9ERUdSRUV9XG4gICAqL1xuICBncmFudWxhcml0eTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwiZ3JhbnVsYXJpdHlcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgYm9vbGVhbiBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc2UgaXMgZmlsbGVkIHdpdGggdGhlIHByb3ZpZGVkIG1hdGVyaWFsLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBmaWxsOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJmaWxsXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG1hdGVyaWFsIHVzZWQgdG8gZmlsbCB0aGUgZWxsaXBzZS5cbiAgICogQG1lbWJlcm9mIEVsbGlwc2VHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge01hdGVyaWFsUHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCBDb2xvci5XSElURVxuICAgKi9cbiAgbWF0ZXJpYWw6IGNyZWF0ZU1hdGVyaWFsUHJvcGVydHlEZXNjcmlwdG9yKFwibWF0ZXJpYWxcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB3aGV0aGVyIHRoZSBlbGxpcHNlIGlzIG91dGxpbmVkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgb3V0bGluZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwib3V0bGluZVwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSB7QGxpbmsgQ29sb3J9IG9mIHRoZSBvdXRsaW5lLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCBDb2xvci5CTEFDS1xuICAgKi9cbiAgb3V0bGluZUNvbG9yOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJvdXRsaW5lQ29sb3JcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbnVtZXJpYyBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSB3aWR0aCBvZiB0aGUgb3V0bGluZS5cbiAgICogPHA+XG4gICAqIE5vdGU6IFRoaXMgcHJvcGVydHkgd2lsbCBiZSBpZ25vcmVkIG9uIGFsbCBtYWpvciBicm93c2VycyBvbiBXaW5kb3dzIHBsYXRmb3Jtcy4gRm9yIGRldGFpbHMsIHNlZSAoQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0Nlc2l1bUdTL2Nlc2l1bS9pc3N1ZXMvNDB9LlxuICAgKiA8L3A+XG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IDEuMFxuICAgKi9cbiAgb3V0bGluZVdpZHRoOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJvdXRsaW5lV2lkdGhcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbnVtZXJpYyBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgdmVydGljYWwgbGluZXMgdG8gZHJhdyBhbG9uZyB0aGUgcGVyaW1ldGVyIGZvciB0aGUgb3V0bGluZS5cbiAgICogQG1lbWJlcm9mIEVsbGlwc2VHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgMTZcbiAgICovXG4gIG51bWJlck9mVmVydGljYWxMaW5lczogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwibnVtYmVyT2ZWZXJ0aWNhbExpbmVzXCIpLFxuXG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0cyB0aGUgZW51bSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc2VcbiAgICogY2FzdHMgb3IgcmVjZWl2ZXMgc2hhZG93cyBmcm9tIGxpZ2h0IHNvdXJjZXMuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IFNoYWRvd01vZGUuRElTQUJMRURcbiAgICovXG4gIHNoYWRvd3M6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInNoYWRvd3NcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUge0BsaW5rIERpc3RhbmNlRGlzcGxheUNvbmRpdGlvbn0gUHJvcGVydHkgc3BlY2lmeWluZyBhdCB3aGF0IGRpc3RhbmNlIGZyb20gdGhlIGNhbWVyYSB0aGF0IHRoaXMgZWxsaXBzZSB3aWxsIGJlIGRpc3BsYXllZC5cbiAgICogQG1lbWJlcm9mIEVsbGlwc2VHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICovXG4gIGRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbjogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgIFwiZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uXCJcbiAgKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSB7QGxpbmsgQ2xhc3NpZmljYXRpb25UeXBlfSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhpcyBlbGxpcHNlIHdpbGwgY2xhc3NpZnkgdGVycmFpbiwgM0QgVGlsZXMsIG9yIGJvdGggd2hlbiBvbiB0aGUgZ3JvdW5kLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCBDbGFzc2lmaWNhdGlvblR5cGUuQk9USFxuICAgKi9cbiAgY2xhc3NpZmljYXRpb25UeXBlOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJjbGFzc2lmaWNhdGlvblR5cGVcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgekluZGV4IFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIGVsbGlwc2Ugb3JkZXJpbmcuICBPbmx5IGhhcyBhbiBlZmZlY3QgaWYgdGhlIGVsbGlwc2UgaXMgY29uc3RhbnQgYW5kIG5laXRoZXIgaGVpZ2h0IG9yIGV4dHJ1ZGVkSGVpZ2h0IGFyZSBzcGVjaWZpZWRcbiAgICogQG1lbWJlcm9mIEVsbGlwc2VHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge0NvbnN0YW50UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICB6SW5kZXg6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInpJbmRleFwiKSxcbn0pO1xuXG4vKipcbiAqIER1cGxpY2F0ZXMgdGhpcyBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge0VsbGlwc2VHcmFwaGljc30gW3Jlc3VsdF0gVGhlIG9iamVjdCBvbnRvIHdoaWNoIHRvIHN0b3JlIHRoZSByZXN1bHQuXG4gKiBAcmV0dXJucyB7RWxsaXBzZUdyYXBoaWNzfSBUaGUgbW9kaWZpZWQgcmVzdWx0IHBhcmFtZXRlciBvciBhIG5ldyBpbnN0YW5jZSBpZiBvbmUgd2FzIG5vdCBwcm92aWRlZC5cbiAqL1xuRWxsaXBzZUdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgaWYgKCFkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICByZXR1cm4gbmV3IEVsbGlwc2VHcmFwaGljcyh0aGlzKTtcbiAgfVxuICByZXN1bHQuc2hvdyA9IHRoaXMuc2hvdztcbiAgcmVzdWx0LnNlbWlNYWpvckF4aXMgPSB0aGlzLnNlbWlNYWpvckF4aXM7XG4gIHJlc3VsdC5zZW1pTWlub3JBeGlzID0gdGhpcy5zZW1pTWlub3JBeGlzO1xuICByZXN1bHQuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gIHJlc3VsdC5oZWlnaHRSZWZlcmVuY2UgPSB0aGlzLmhlaWdodFJlZmVyZW5jZTtcbiAgcmVzdWx0LmV4dHJ1ZGVkSGVpZ2h0ID0gdGhpcy5leHRydWRlZEhlaWdodDtcbiAgcmVzdWx0LmV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlID0gdGhpcy5leHRydWRlZEhlaWdodFJlZmVyZW5jZTtcbiAgcmVzdWx0LnJvdGF0aW9uID0gdGhpcy5yb3RhdGlvbjtcbiAgcmVzdWx0LnN0Um90YXRpb24gPSB0aGlzLnN0Um90YXRpb247XG4gIHJlc3VsdC5ncmFudWxhcml0eSA9IHRoaXMuZ3JhbnVsYXJpdHk7XG4gIHJlc3VsdC5maWxsID0gdGhpcy5maWxsO1xuICByZXN1bHQubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuICByZXN1bHQub3V0bGluZSA9IHRoaXMub3V0bGluZTtcbiAgcmVzdWx0Lm91dGxpbmVDb2xvciA9IHRoaXMub3V0bGluZUNvbG9yO1xuICByZXN1bHQub3V0bGluZVdpZHRoID0gdGhpcy5vdXRsaW5lV2lkdGg7XG4gIHJlc3VsdC5udW1iZXJPZlZlcnRpY2FsTGluZXMgPSB0aGlzLm51bWJlck9mVmVydGljYWxMaW5lcztcbiAgcmVzdWx0LnNoYWRvd3MgPSB0aGlzLnNoYWRvd3M7XG4gIHJlc3VsdC5kaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSB0aGlzLmRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbjtcbiAgcmVzdWx0LmNsYXNzaWZpY2F0aW9uVHlwZSA9IHRoaXMuY2xhc3NpZmljYXRpb25UeXBlO1xuICByZXN1bHQuekluZGV4ID0gdGhpcy56SW5kZXg7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEFzc2lnbnMgZWFjaCB1bmFzc2lnbmVkIHByb3BlcnR5IG9uIHRoaXMgb2JqZWN0IHRvIHRoZSB2YWx1ZVxuICogb2YgdGhlIHNhbWUgcHJvcGVydHkgb24gdGhlIHByb3ZpZGVkIHNvdXJjZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtFbGxpcHNlR3JhcGhpY3N9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGJlIG1lcmdlZCBpbnRvIHRoaXMgb2JqZWN0LlxuICovXG5FbGxpcHNlR3JhcGhpY3MucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQoc291cmNlKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInNvdXJjZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdGhpcy5zaG93ID0gZGVmYXVsdFZhbHVlKHRoaXMuc2hvdywgc291cmNlLnNob3cpO1xuICB0aGlzLnNlbWlNYWpvckF4aXMgPSBkZWZhdWx0VmFsdWUodGhpcy5zZW1pTWFqb3JBeGlzLCBzb3VyY2Uuc2VtaU1ham9yQXhpcyk7XG4gIHRoaXMuc2VtaU1pbm9yQXhpcyA9IGRlZmF1bHRWYWx1ZSh0aGlzLnNlbWlNaW5vckF4aXMsIHNvdXJjZS5zZW1pTWlub3JBeGlzKTtcbiAgdGhpcy5oZWlnaHQgPSBkZWZhdWx0VmFsdWUodGhpcy5oZWlnaHQsIHNvdXJjZS5oZWlnaHQpO1xuICB0aGlzLmhlaWdodFJlZmVyZW5jZSA9IGRlZmF1bHRWYWx1ZShcbiAgICB0aGlzLmhlaWdodFJlZmVyZW5jZSxcbiAgICBzb3VyY2UuaGVpZ2h0UmVmZXJlbmNlXG4gICk7XG4gIHRoaXMuZXh0cnVkZWRIZWlnaHQgPSBkZWZhdWx0VmFsdWUoXG4gICAgdGhpcy5leHRydWRlZEhlaWdodCxcbiAgICBzb3VyY2UuZXh0cnVkZWRIZWlnaHRcbiAgKTtcbiAgdGhpcy5leHRydWRlZEhlaWdodFJlZmVyZW5jZSA9IGRlZmF1bHRWYWx1ZShcbiAgICB0aGlzLmV4dHJ1ZGVkSGVpZ2h0UmVmZXJlbmNlLFxuICAgIHNvdXJjZS5leHRydWRlZEhlaWdodFJlZmVyZW5jZVxuICApO1xuICB0aGlzLnJvdGF0aW9uID0gZGVmYXVsdFZhbHVlKHRoaXMucm90YXRpb24sIHNvdXJjZS5yb3RhdGlvbik7XG4gIHRoaXMuc3RSb3RhdGlvbiA9IGRlZmF1bHRWYWx1ZSh0aGlzLnN0Um90YXRpb24sIHNvdXJjZS5zdFJvdGF0aW9uKTtcbiAgdGhpcy5ncmFudWxhcml0eSA9IGRlZmF1bHRWYWx1ZSh0aGlzLmdyYW51bGFyaXR5LCBzb3VyY2UuZ3JhbnVsYXJpdHkpO1xuICB0aGlzLmZpbGwgPSBkZWZhdWx0VmFsdWUodGhpcy5maWxsLCBzb3VyY2UuZmlsbCk7XG4gIHRoaXMubWF0ZXJpYWwgPSBkZWZhdWx0VmFsdWUodGhpcy5tYXRlcmlhbCwgc291cmNlLm1hdGVyaWFsKTtcbiAgdGhpcy5vdXRsaW5lID0gZGVmYXVsdFZhbHVlKHRoaXMub3V0bGluZSwgc291cmNlLm91dGxpbmUpO1xuICB0aGlzLm91dGxpbmVDb2xvciA9IGRlZmF1bHRWYWx1ZSh0aGlzLm91dGxpbmVDb2xvciwgc291cmNlLm91dGxpbmVDb2xvcik7XG4gIHRoaXMub3V0bGluZVdpZHRoID0gZGVmYXVsdFZhbHVlKHRoaXMub3V0bGluZVdpZHRoLCBzb3VyY2Uub3V0bGluZVdpZHRoKTtcbiAgdGhpcy5udW1iZXJPZlZlcnRpY2FsTGluZXMgPSBkZWZhdWx0VmFsdWUoXG4gICAgdGhpcy5udW1iZXJPZlZlcnRpY2FsTGluZXMsXG4gICAgc291cmNlLm51bWJlck9mVmVydGljYWxMaW5lc1xuICApO1xuICB0aGlzLnNoYWRvd3MgPSBkZWZhdWx0VmFsdWUodGhpcy5zaGFkb3dzLCBzb3VyY2Uuc2hhZG93cyk7XG4gIHRoaXMuZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uID0gZGVmYXVsdFZhbHVlKFxuICAgIHRoaXMuZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uLFxuICAgIHNvdXJjZS5kaXN0YW5jZURpc3BsYXlDb25kaXRpb25cbiAgKTtcbiAgdGhpcy5jbGFzc2lmaWNhdGlvblR5cGUgPSBkZWZhdWx0VmFsdWUoXG4gICAgdGhpcy5jbGFzc2lmaWNhdGlvblR5cGUsXG4gICAgc291cmNlLmNsYXNzaWZpY2F0aW9uVHlwZVxuICApO1xuICB0aGlzLnpJbmRleCA9IGRlZmF1bHRWYWx1ZSh0aGlzLnpJbmRleCwgc291cmNlLnpJbmRleCk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRWxsaXBzZUdyYXBoaWNzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12438\n')},16884:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66553);\n/* harmony import */ var _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59947);\n/* harmony import */ var _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(92062);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DistanceDisplayCondition_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47861);\n/* harmony import */ var _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(24689);\n/* harmony import */ var _Core_EllipsoidGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64727);\n/* harmony import */ var _Core_EllipsoidOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(75619);\n/* harmony import */ var _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26865);\n/* harmony import */ var _Core_GeometryOffsetAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(87379);\n/* harmony import */ var _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(22841);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(72248);\n/* harmony import */ var _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(82223);\n/* harmony import */ var _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(37939);\n/* harmony import */ var _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(4260);\n/* harmony import */ var _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(79158);\n/* harmony import */ var _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(64060);\n/* harmony import */ var _Scene_Primitive_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(34380);\n/* harmony import */ var _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(89917);\n/* harmony import */ var _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(20174);\n/* harmony import */ var _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(84225);\n/* harmony import */ var _GeometryUpdater_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(17045);\n/* harmony import */ var _heightReferenceOnEntityPropertyChanged_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(23502);\n/* harmony import */ var _MaterialProperty_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(46317);\n/* harmony import */ var _Property_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(40112);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar defaultMaterial = new _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z(_Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].WHITE */ .Z.WHITE);\nvar defaultOffset = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO;\n\nvar offsetScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar radiiScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar innerRadiiScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar scratchColor = new _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\nvar unitSphere = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(1, 1, 1);\n\nfunction EllipsoidGeometryOptions(entity) {\n  this.id = entity;\n  this.vertexFormat = undefined;\n  this.radii = undefined;\n  this.innerRadii = undefined;\n  this.minimumClock = undefined;\n  this.maximumClock = undefined;\n  this.minimumCone = undefined;\n  this.maximumCone = undefined;\n  this.stackPartitions = undefined;\n  this.slicePartitions = undefined;\n  this.subdivisions = undefined;\n  this.offsetAttribute = undefined;\n}\n\n/**\n * A {@link GeometryUpdater} for ellipsoids.\n * Clients do not normally create this class directly, but instead rely on {@link DataSourceDisplay}.\n * @alias EllipsoidGeometryUpdater\n * @constructor\n *\n * @param {Entity} entity The entity containing the geometry to be visualized.\n * @param {Scene} scene The scene where visualization is taking place.\n */\nfunction EllipsoidGeometryUpdater(entity, scene) {\n  _GeometryUpdater_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"].call */ .Z.call(this, {\n    entity: entity,\n    scene: scene,\n    geometryOptions: new EllipsoidGeometryOptions(entity),\n    geometryPropertyName: "ellipsoid",\n    observedPropertyNames: [\n      "availability",\n      "position",\n      "orientation",\n      "ellipsoid",\n    ],\n  });\n\n  this._onEntityPropertyChanged(\n    entity,\n    "ellipsoid",\n    entity.ellipsoid,\n    undefined\n  );\n}\n\nif ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(Object.create)) {\n  EllipsoidGeometryUpdater.prototype = Object.create(_GeometryUpdater_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"].prototype */ .Z.prototype);\n  EllipsoidGeometryUpdater.prototype.constructor = EllipsoidGeometryUpdater;\n}\n\nObject.defineProperties(EllipsoidGeometryUpdater.prototype, {\n  /**\n   * Gets the terrain offset property\n   * @type {TerrainOffsetProperty}\n   * @memberof EllipsoidGeometryUpdater.prototype\n   * @readonly\n   * @private\n   */\n  terrainOffsetProperty: {\n    get: function () {\n      return this._terrainOffsetProperty;\n    },\n  },\n});\n\n/**\n * Creates the geometry instance which represents the fill of the geometry.\n *\n * @param {JulianDate} time The time to use when retrieving initial attribute values.\n * @param {Boolean} [skipModelMatrix=false] Whether to compute a model matrix for the geometry instance\n * @param {Matrix4} [modelMatrixResult] Used to store the result of the model matrix calculation\n * @returns {GeometryInstance} The geometry instance representing the filled portion of the geometry.\n *\n * @exception {DeveloperError} This instance does not represent a filled geometry.\n */\nEllipsoidGeometryUpdater.prototype.createFillGeometryInstance = function (\n  time,\n  skipModelMatrix,\n  modelMatrixResult\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("time", time);\n  //>>includeEnd(\'debug\');\n\n  var entity = this._entity;\n  var isAvailable = entity.isAvailable(time);\n\n  var color;\n  var show = new _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z(\n    isAvailable &&\n      entity.isShowing &&\n      this._showProperty.getValue(time) &&\n      this._fillProperty.getValue(time)\n  );\n  var distanceDisplayCondition = this._distanceDisplayConditionProperty.getValue(\n    time\n  );\n  var distanceDisplayConditionAttribute = _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].fromDistanceDisplayCondition */ .Z.fromDistanceDisplayCondition(\n    distanceDisplayCondition\n  );\n\n  var attributes = {\n    show: show,\n    distanceDisplayCondition: distanceDisplayConditionAttribute,\n    color: undefined,\n    offset: undefined,\n  };\n\n  if (this._materialProperty instanceof _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z) {\n    var currentColor;\n    if (\n      (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._materialProperty.color) &&\n      (this._materialProperty.color.isConstant || isAvailable)\n    ) {\n      currentColor = this._materialProperty.color.getValue(time, scratchColor);\n    }\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(currentColor)) {\n      currentColor = _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].WHITE */ .Z.WHITE;\n    }\n    color = _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromColor */ .Z.fromColor(currentColor);\n    attributes.color = color;\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._options.offsetAttribute)) {\n    attributes.offset = _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].fromCartesian3 */ .Z.fromCartesian3(\n      _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n        this._terrainOffsetProperty,\n        time,\n        defaultOffset,\n        offsetScratch\n      )\n    );\n  }\n\n  return new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    id: entity,\n    geometry: new _Core_EllipsoidGeometry_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(this._options),\n    modelMatrix: skipModelMatrix\n      ? undefined\n      : entity.computeModelMatrixForHeightReference(\n          time,\n          entity.ellipsoid.heightReference,\n          this._options.radii.z * 0.5,\n          this._scene.mapProjection.ellipsoid,\n          modelMatrixResult\n        ),\n    attributes: attributes,\n  });\n};\n\n/**\n * Creates the geometry instance which represents the outline of the geometry.\n *\n * @param {JulianDate} time The time to use when retrieving initial attribute values.\n * @param {Boolean} [skipModelMatrix=false] Whether to compute a model matrix for the geometry instance\n * @param {Matrix4} [modelMatrixResult] Used to store the result of the model matrix calculation\n * @returns {GeometryInstance} The geometry instance representing the outline portion of the geometry.\n *\n * @exception {DeveloperError} This instance does not represent an outlined geometry.\n */\nEllipsoidGeometryUpdater.prototype.createOutlineGeometryInstance = function (\n  time,\n  skipModelMatrix,\n  modelMatrixResult\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("time", time);\n  //>>includeEnd(\'debug\');\n\n  var entity = this._entity;\n  var isAvailable = entity.isAvailable(time);\n\n  var outlineColor = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    this._outlineColorProperty,\n    time,\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].BLACK */ .Z.BLACK,\n    scratchColor\n  );\n  var distanceDisplayCondition = this._distanceDisplayConditionProperty.getValue(\n    time\n  );\n\n  var attributes = {\n    show: new _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z(\n      isAvailable &&\n        entity.isShowing &&\n        this._showProperty.getValue(time) &&\n        this._showOutlineProperty.getValue(time)\n    ),\n    color: _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromColor */ .Z.fromColor(outlineColor),\n    distanceDisplayCondition: _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].fromDistanceDisplayCondition */ .Z.fromDistanceDisplayCondition(\n      distanceDisplayCondition\n    ),\n    offset: undefined,\n  };\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._options.offsetAttribute)) {\n    attributes.offset = _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].fromCartesian3 */ .Z.fromCartesian3(\n      _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n        this._terrainOffsetProperty,\n        time,\n        defaultOffset,\n        offsetScratch\n      )\n    );\n  }\n\n  return new _Core_GeometryInstance_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z({\n    id: entity,\n    geometry: new _Core_EllipsoidOutlineGeometry_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(this._options),\n    modelMatrix: skipModelMatrix\n      ? undefined\n      : entity.computeModelMatrixForHeightReference(\n          time,\n          entity.ellipsoid.heightReference,\n          this._options.radii.z * 0.5,\n          this._scene.mapProjection.ellipsoid,\n          modelMatrixResult\n        ),\n    attributes: attributes,\n  });\n};\n\nEllipsoidGeometryUpdater.prototype._computeCenter = function (time, result) {\n  return _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(this._entity.position, time, result);\n};\n\nEllipsoidGeometryUpdater.prototype._isHidden = function (entity, ellipsoid) {\n  return (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(entity.position) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(ellipsoid.radii) ||\n    _GeometryUpdater_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"].prototype._isHidden.call */ .Z.prototype._isHidden.call(this, entity, ellipsoid)\n  );\n};\n\nEllipsoidGeometryUpdater.prototype._isDynamic = function (entity, ellipsoid) {\n  return (\n    !entity.position.isConstant || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(entity.orientation) || //\n    !ellipsoid.radii.isConstant || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.innerRadii) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.stackPartitions) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.slicePartitions) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.outlineWidth) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.minimumClock) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.maximumClock) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.minimumCone) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.maximumCone) || //\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].isConstant */ .Z.isConstant(ellipsoid.subdivisions)\n  );\n};\n\nEllipsoidGeometryUpdater.prototype._setStaticOptions = function (\n  entity,\n  ellipsoid\n) {\n  var heightReference = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipsoid.heightReference,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].NONE */ .Z.NONE\n  );\n  var options = this._options;\n  options.vertexFormat =\n    this._materialProperty instanceof _ColorMaterialProperty_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z\n      ? _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"].VERTEX_FORMAT */ .Z.VERTEX_FORMAT\n      : _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"].MaterialSupport.TEXTURED.vertexFormat */ .Z.MaterialSupport.TEXTURED.vertexFormat;\n  options.radii = ellipsoid.radii.getValue(\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE,\n    options.radii\n  );\n  options.innerRadii = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.innerRadii,\n    options.radii\n  );\n  options.minimumClock = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.minimumClock,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.maximumClock = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.maximumClock,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.minimumCone = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.minimumCone,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.maximumCone = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.maximumCone,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.stackPartitions = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.stackPartitions,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.slicePartitions = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.slicePartitions,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.subdivisions = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.subdivisions,\n    _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE\n  );\n  options.offsetAttribute =\n    heightReference !== _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].NONE */ .Z.NONE\n      ? _Core_GeometryOffsetAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].ALL */ .Z.ALL\n      : undefined;\n};\n\nEllipsoidGeometryUpdater.prototype._onEntityPropertyChanged = _heightReferenceOnEntityPropertyChanged_js__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z;\n\nEllipsoidGeometryUpdater.DynamicGeometryUpdater = DynamicEllipsoidGeometryUpdater;\n\n/**\n * @private\n */\nfunction DynamicEllipsoidGeometryUpdater(\n  geometryUpdater,\n  primitives,\n  groundPrimitives\n) {\n  _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].call */ .Z.call(\n    this,\n    geometryUpdater,\n    primitives,\n    groundPrimitives\n  );\n\n  this._scene = geometryUpdater._scene;\n  this._modelMatrix = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\n  this._attributes = undefined;\n  this._outlineAttributes = undefined;\n  this._lastSceneMode = undefined;\n  this._lastShow = undefined;\n  this._lastOutlineShow = undefined;\n  this._lastOutlineWidth = undefined;\n  this._lastOutlineColor = undefined;\n  this._lastOffset = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._material = {};\n}\n\nif ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(Object.create)) {\n  DynamicEllipsoidGeometryUpdater.prototype = Object.create(\n    _DynamicGeometryUpdater_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"].prototype */ .Z.prototype\n  );\n  DynamicEllipsoidGeometryUpdater.prototype.constructor = DynamicEllipsoidGeometryUpdater;\n}\n\nDynamicEllipsoidGeometryUpdater.prototype.update = function (time) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("time", time);\n  //>>includeEnd(\'debug\');\n\n  var entity = this._entity;\n  var ellipsoid = entity.ellipsoid;\n  if (\n    !entity.isShowing ||\n    !entity.isAvailable(time) ||\n    !_Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(ellipsoid.show, time, true)\n  ) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._primitive)) {\n      this._primitive.show = false;\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._outlinePrimitive)) {\n      this._outlinePrimitive.show = false;\n    }\n    return;\n  }\n\n  var radii = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipsoid.radii, time, radiiScratch);\n  var modelMatrix = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(radii)\n    ? entity.computeModelMatrixForHeightReference(\n        time,\n        ellipsoid.heightReference,\n        radii.z * 0.5,\n        this._scene.mapProjection.ellipsoid,\n        this._modelMatrix\n      )\n    : undefined;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(modelMatrix) || !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(radii)) {\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._primitive)) {\n      this._primitive.show = false;\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._outlinePrimitive)) {\n      this._outlinePrimitive.show = false;\n    }\n    return;\n  }\n\n  //Compute attributes and material.\n  var showFill = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(ellipsoid.fill, time, true);\n  var showOutline = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(ellipsoid.outline, time, false);\n  var outlineColor = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrClonedDefault */ .Z.getValueOrClonedDefault(\n    ellipsoid.outlineColor,\n    time,\n    _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].BLACK */ .Z.BLACK,\n    scratchColor\n  );\n  var material = _MaterialProperty_js__WEBPACK_IMPORTED_MODULE_24__/* ["default"].getValue */ .Z.getValue(\n    time,\n    (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(ellipsoid.material, defaultMaterial),\n    this._material\n  );\n\n  // Check properties that could trigger a primitive rebuild.\n  var innerRadii = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.innerRadii,\n    time,\n    innerRadiiScratch\n  );\n  var minimumClock = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipsoid.minimumClock, time);\n  var maximumClock = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipsoid.maximumClock, time);\n  var minimumCone = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipsoid.minimumCone, time);\n  var maximumCone = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipsoid.maximumCone, time);\n  var stackPartitions = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.stackPartitions,\n    time\n  );\n  var slicePartitions = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    ellipsoid.slicePartitions,\n    time\n  );\n  var subdivisions = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(ellipsoid.subdivisions, time);\n  var outlineWidth = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipsoid.outlineWidth,\n    time,\n    1.0\n  );\n  var heightReference = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    ellipsoid.heightReference,\n    time,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].NONE */ .Z.NONE\n  );\n  var offsetAttribute =\n    heightReference !== _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].NONE */ .Z.NONE\n      ? _Core_GeometryOffsetAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].ALL */ .Z.ALL\n      : undefined;\n\n  //In 3D we use a fast path by modifying Primitive.modelMatrix instead of regenerating the primitive every frame.\n  //Also check for height reference because this method doesn\'t work when the height is relative to terrain.\n  var sceneMode = this._scene.mode;\n  var in3D =\n    sceneMode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"].SCENE3D */ .Z.SCENE3D && heightReference === _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"].NONE */ .Z.NONE;\n\n  var options = this._options;\n\n  var shadows = this._geometryUpdater.shadowsProperty.getValue(time);\n\n  var distanceDisplayConditionProperty = this._geometryUpdater\n    .distanceDisplayConditionProperty;\n  var distanceDisplayCondition = distanceDisplayConditionProperty.getValue(\n    time\n  );\n\n  var offset = _Property_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    this._geometryUpdater.terrainOffsetProperty,\n    time,\n    defaultOffset,\n    offsetScratch\n  );\n\n  //We only rebuild the primitive if something other than the radii has changed\n  //For the radii, we use unit sphere and then deform it with a scale matrix.\n  var rebuildPrimitives =\n    !in3D ||\n    this._lastSceneMode !== sceneMode ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(this._primitive) || //\n    options.stackPartitions !== stackPartitions ||\n    options.slicePartitions !== slicePartitions || //\n    ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(innerRadii) &&\n      !_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(options.innerRadii !== innerRadii)) ||\n    options.minimumClock !== minimumClock || //\n    options.maximumClock !== maximumClock ||\n    options.minimumCone !== minimumCone || //\n    options.maximumCone !== maximumCone ||\n    options.subdivisions !== subdivisions || //\n    this._lastOutlineWidth !== outlineWidth ||\n    options.offsetAttribute !== offsetAttribute;\n\n  if (rebuildPrimitives) {\n    var primitives = this._primitives;\n    primitives.removeAndDestroy(this._primitive);\n    primitives.removeAndDestroy(this._outlinePrimitive);\n    this._primitive = undefined;\n    this._outlinePrimitive = undefined;\n    this._lastSceneMode = sceneMode;\n    this._lastOutlineWidth = outlineWidth;\n\n    options.stackPartitions = stackPartitions;\n    options.slicePartitions = slicePartitions;\n    options.subdivisions = subdivisions;\n    options.offsetAttribute = offsetAttribute;\n    options.radii = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(in3D ? unitSphere : radii, options.radii);\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(innerRadii)) {\n      if (in3D) {\n        var mag = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].magnitude */ .Z.magnitude(radii);\n        options.innerRadii = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].fromElements */ .Z.fromElements(\n          innerRadii.x / mag,\n          innerRadii.y / mag,\n          innerRadii.z / mag,\n          options.innerRadii\n        );\n      } else {\n        options.innerRadii = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(innerRadii, options.innerRadii);\n      }\n    } else {\n      options.innerRadii = undefined;\n    }\n    options.minimumClock = minimumClock;\n    options.maximumClock = maximumClock;\n    options.minimumCone = minimumCone;\n    options.maximumCone = maximumCone;\n\n    var appearance = new _Scene_MaterialAppearance_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z({\n      material: material,\n      translucent: material.isTranslucent(),\n      closed: true,\n    });\n    options.vertexFormat = appearance.vertexFormat;\n\n    var fillInstance = this._geometryUpdater.createFillGeometryInstance(\n      time,\n      in3D,\n      this._modelMatrix\n    );\n\n    this._primitive = primitives.add(\n      new _Scene_Primitive_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z({\n        geometryInstances: fillInstance,\n        appearance: appearance,\n        asynchronous: false,\n        shadows: shadows,\n      })\n    );\n\n    var outlineInstance = this._geometryUpdater.createOutlineGeometryInstance(\n      time,\n      in3D,\n      this._modelMatrix\n    );\n    this._outlinePrimitive = primitives.add(\n      new _Scene_Primitive_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z({\n        geometryInstances: outlineInstance,\n        appearance: new _Scene_PerInstanceColorAppearance_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z({\n          flat: true,\n          translucent: outlineInstance.attributes.color.value[3] !== 255,\n          renderState: {\n            lineWidth: this._geometryUpdater._scene.clampLineWidth(\n              outlineWidth\n            ),\n          },\n        }),\n        asynchronous: false,\n        shadows: shadows,\n      })\n    );\n\n    this._lastShow = showFill;\n    this._lastOutlineShow = showOutline;\n    this._lastOutlineColor = _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(outlineColor, this._lastOutlineColor);\n    this._lastDistanceDisplayCondition = distanceDisplayCondition;\n    this._lastOffset = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(offset, this._lastOffset);\n  } else if (this._primitive.ready) {\n    //Update attributes only.\n    var primitive = this._primitive;\n    var outlinePrimitive = this._outlinePrimitive;\n\n    primitive.show = true;\n    outlinePrimitive.show = true;\n    primitive.appearance.material = material;\n\n    var attributes = this._attributes;\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(attributes)) {\n      attributes = primitive.getGeometryInstanceAttributes(entity);\n      this._attributes = attributes;\n    }\n    if (showFill !== this._lastShow) {\n      attributes.show = _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].toValue */ .Z.toValue(\n        showFill,\n        attributes.show\n      );\n      this._lastShow = showFill;\n    }\n\n    var outlineAttributes = this._outlineAttributes;\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z)(outlineAttributes)) {\n      outlineAttributes = outlinePrimitive.getGeometryInstanceAttributes(\n        entity\n      );\n      this._outlineAttributes = outlineAttributes;\n    }\n\n    if (showOutline !== this._lastOutlineShow) {\n      outlineAttributes.show = _Core_ShowGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].toValue */ .Z.toValue(\n        showOutline,\n        outlineAttributes.show\n      );\n      this._lastOutlineShow = showOutline;\n    }\n\n    if (!_Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].equals */ .Z.equals(outlineColor, this._lastOutlineColor)) {\n      outlineAttributes.color = _Core_ColorGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].toValue */ .Z.toValue(\n        outlineColor,\n        outlineAttributes.color\n      );\n      _Core_Color_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(outlineColor, this._lastOutlineColor);\n    }\n\n    if (\n      !_Core_DistanceDisplayCondition_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].equals */ .Z.equals(\n        distanceDisplayCondition,\n        this._lastDistanceDisplayCondition\n      )\n    ) {\n      attributes.distanceDisplayCondition = _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].toValue */ .Z.toValue(\n        distanceDisplayCondition,\n        attributes.distanceDisplayCondition\n      );\n      outlineAttributes.distanceDisplayCondition = _Core_DistanceDisplayConditionGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].toValue */ .Z.toValue(\n        distanceDisplayCondition,\n        outlineAttributes.distanceDisplayCondition\n      );\n      _Core_DistanceDisplayCondition_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].clone */ .Z.clone(\n        distanceDisplayCondition,\n        this._lastDistanceDisplayCondition\n      );\n    }\n\n    if (!_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(offset, this._lastOffset)) {\n      attributes.offset = _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].toValue */ .Z.toValue(\n        offset,\n        attributes.offset\n      );\n      outlineAttributes.offset = _Core_OffsetGeometryInstanceAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].toValue */ .Z.toValue(\n        offset,\n        attributes.offset\n      );\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(offset, this._lastOffset);\n    }\n  }\n\n  if (in3D) {\n    //Since we are scaling a unit sphere, we can\'t let any of the values go to zero.\n    //Instead we clamp them to a small value.  To the naked eye, this produces the same results\n    //that you get passing EllipsoidGeometry a radii with a zero component.\n    radii.x = Math.max(radii.x, 0.001);\n    radii.y = Math.max(radii.y, 0.001);\n    radii.z = Math.max(radii.z, 0.001);\n\n    modelMatrix = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].multiplyByScale */ .Z.multiplyByScale(modelMatrix, radii, modelMatrix);\n    this._primitive.modelMatrix = modelMatrix;\n    this._outlinePrimitive.modelMatrix = modelMatrix;\n  }\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EllipsoidGeometryUpdater);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixrR0FBdUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBZSx3QkFBd0IsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9FbGxpcHNvaWRHZW9tZXRyeVVwZGF0ZXIuanM/YzliYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2hlY2sgZnJvbSBcIi4uL0NvcmUvQ2hlY2suanNcIjtcbmltcG9ydCBDb2xvciBmcm9tIFwiLi4vQ29yZS9Db2xvci5qc1wiO1xuaW1wb3J0IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZSBmcm9tIFwiLi4vQ29yZS9Db2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uIGZyb20gXCIuLi9Db3JlL0Rpc3RhbmNlRGlzcGxheUNvbmRpdGlvbi5qc1wiO1xuaW1wb3J0IERpc3RhbmNlRGlzcGxheUNvbmRpdGlvbkdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUgZnJvbSBcIi4uL0NvcmUvRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZEdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL0VsbGlwc29pZEdlb21ldHJ5LmpzXCI7XG5pbXBvcnQgRWxsaXBzb2lkT3V0bGluZUdlb21ldHJ5IGZyb20gXCIuLi9Db3JlL0VsbGlwc29pZE91dGxpbmVHZW9tZXRyeS5qc1wiO1xuaW1wb3J0IEdlb21ldHJ5SW5zdGFuY2UgZnJvbSBcIi4uL0NvcmUvR2VvbWV0cnlJbnN0YW5jZS5qc1wiO1xuaW1wb3J0IEdlb21ldHJ5T2Zmc2V0QXR0cmlidXRlIGZyb20gXCIuLi9Db3JlL0dlb21ldHJ5T2Zmc2V0QXR0cmlidXRlLmpzXCI7XG5pbXBvcnQgSXNvODYwMSBmcm9tIFwiLi4vQ29yZS9Jc284NjAxLmpzXCI7XG5pbXBvcnQgTWF0cml4NCBmcm9tIFwiLi4vQ29yZS9NYXRyaXg0LmpzXCI7XG5pbXBvcnQgT2Zmc2V0R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZSBmcm9tIFwiLi4vQ29yZS9PZmZzZXRHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmpzXCI7XG5pbXBvcnQgU2hvd0dlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUgZnJvbSBcIi4uL0NvcmUvU2hvd0dlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuanNcIjtcbmltcG9ydCBIZWlnaHRSZWZlcmVuY2UgZnJvbSBcIi4uL1NjZW5lL0hlaWdodFJlZmVyZW5jZS5qc1wiO1xuaW1wb3J0IE1hdGVyaWFsQXBwZWFyYW5jZSBmcm9tIFwiLi4vU2NlbmUvTWF0ZXJpYWxBcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgUGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2UgZnJvbSBcIi4uL1NjZW5lL1Blckluc3RhbmNlQ29sb3JBcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgUHJpbWl0aXZlIGZyb20gXCIuLi9TY2VuZS9QcmltaXRpdmUuanNcIjtcbmltcG9ydCBTY2VuZU1vZGUgZnJvbSBcIi4uL1NjZW5lL1NjZW5lTW9kZS5qc1wiO1xuaW1wb3J0IENvbG9yTWF0ZXJpYWxQcm9wZXJ0eSBmcm9tIFwiLi9Db2xvck1hdGVyaWFsUHJvcGVydHkuanNcIjtcbmltcG9ydCBEeW5hbWljR2VvbWV0cnlVcGRhdGVyIGZyb20gXCIuL0R5bmFtaWNHZW9tZXRyeVVwZGF0ZXIuanNcIjtcbmltcG9ydCBHZW9tZXRyeVVwZGF0ZXIgZnJvbSBcIi4vR2VvbWV0cnlVcGRhdGVyLmpzXCI7XG5pbXBvcnQgaGVpZ2h0UmVmZXJlbmNlT25FbnRpdHlQcm9wZXJ0eUNoYW5nZWQgZnJvbSBcIi4vaGVpZ2h0UmVmZXJlbmNlT25FbnRpdHlQcm9wZXJ0eUNoYW5nZWQuanNcIjtcbmltcG9ydCBNYXRlcmlhbFByb3BlcnR5IGZyb20gXCIuL01hdGVyaWFsUHJvcGVydHkuanNcIjtcbmltcG9ydCBQcm9wZXJ0eSBmcm9tIFwiLi9Qcm9wZXJ0eS5qc1wiO1xuXG52YXIgZGVmYXVsdE1hdGVyaWFsID0gbmV3IENvbG9yTWF0ZXJpYWxQcm9wZXJ0eShDb2xvci5XSElURSk7XG52YXIgZGVmYXVsdE9mZnNldCA9IENhcnRlc2lhbjMuWkVSTztcblxudmFyIG9mZnNldFNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHJhZGlpU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgaW5uZXJSYWRpaVNjcmF0Y2ggPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHNjcmF0Y2hDb2xvciA9IG5ldyBDb2xvcigpO1xudmFyIHVuaXRTcGhlcmUgPSBuZXcgQ2FydGVzaWFuMygxLCAxLCAxKTtcblxuZnVuY3Rpb24gRWxsaXBzb2lkR2VvbWV0cnlPcHRpb25zKGVudGl0eSkge1xuICB0aGlzLmlkID0gZW50aXR5O1xuICB0aGlzLnZlcnRleEZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5yYWRpaSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5pbm5lclJhZGlpID0gdW5kZWZpbmVkO1xuICB0aGlzLm1pbmltdW1DbG9jayA9IHVuZGVmaW5lZDtcbiAgdGhpcy5tYXhpbXVtQ2xvY2sgPSB1bmRlZmluZWQ7XG4gIHRoaXMubWluaW11bUNvbmUgPSB1bmRlZmluZWQ7XG4gIHRoaXMubWF4aW11bUNvbmUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuc3RhY2tQYXJ0aXRpb25zID0gdW5kZWZpbmVkO1xuICB0aGlzLnNsaWNlUGFydGl0aW9ucyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5zdWJkaXZpc2lvbnMgPSB1bmRlZmluZWQ7XG4gIHRoaXMub2Zmc2V0QXR0cmlidXRlID0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEge0BsaW5rIEdlb21ldHJ5VXBkYXRlcn0gZm9yIGVsbGlwc29pZHMuXG4gKiBDbGllbnRzIGRvIG5vdCBub3JtYWxseSBjcmVhdGUgdGhpcyBjbGFzcyBkaXJlY3RseSwgYnV0IGluc3RlYWQgcmVseSBvbiB7QGxpbmsgRGF0YVNvdXJjZURpc3BsYXl9LlxuICogQGFsaWFzIEVsbGlwc29pZEdlb21ldHJ5VXBkYXRlclxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IGNvbnRhaW5pbmcgdGhlIGdlb21ldHJ5IHRvIGJlIHZpc3VhbGl6ZWQuXG4gKiBAcGFyYW0ge1NjZW5lfSBzY2VuZSBUaGUgc2NlbmUgd2hlcmUgdmlzdWFsaXphdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG4gKi9cbmZ1bmN0aW9uIEVsbGlwc29pZEdlb21ldHJ5VXBkYXRlcihlbnRpdHksIHNjZW5lKSB7XG4gIEdlb21ldHJ5VXBkYXRlci5jYWxsKHRoaXMsIHtcbiAgICBlbnRpdHk6IGVudGl0eSxcbiAgICBzY2VuZTogc2NlbmUsXG4gICAgZ2VvbWV0cnlPcHRpb25zOiBuZXcgRWxsaXBzb2lkR2VvbWV0cnlPcHRpb25zKGVudGl0eSksXG4gICAgZ2VvbWV0cnlQcm9wZXJ0eU5hbWU6IFwiZWxsaXBzb2lkXCIsXG4gICAgb2JzZXJ2ZWRQcm9wZXJ0eU5hbWVzOiBbXG4gICAgICBcImF2YWlsYWJpbGl0eVwiLFxuICAgICAgXCJwb3NpdGlvblwiLFxuICAgICAgXCJvcmllbnRhdGlvblwiLFxuICAgICAgXCJlbGxpcHNvaWRcIixcbiAgICBdLFxuICB9KTtcblxuICB0aGlzLl9vbkVudGl0eVByb3BlcnR5Q2hhbmdlZChcbiAgICBlbnRpdHksXG4gICAgXCJlbGxpcHNvaWRcIixcbiAgICBlbnRpdHkuZWxsaXBzb2lkLFxuICAgIHVuZGVmaW5lZFxuICApO1xufVxuXG5pZiAoZGVmaW5lZChPYmplY3QuY3JlYXRlKSkge1xuICBFbGxpcHNvaWRHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlKTtcbiAgRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVsbGlwc29pZEdlb21ldHJ5VXBkYXRlcjtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgdGVycmFpbiBvZmZzZXQgcHJvcGVydHlcbiAgICogQHR5cGUge1RlcnJhaW5PZmZzZXRQcm9wZXJ0eX1cbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZEdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGVcbiAgICogQHJlYWRvbmx5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0ZXJyYWluT2Zmc2V0UHJvcGVydHk6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90ZXJyYWluT2Zmc2V0UHJvcGVydHk7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGdlb21ldHJ5IGluc3RhbmNlIHdoaWNoIHJlcHJlc2VudHMgdGhlIGZpbGwgb2YgdGhlIGdlb21ldHJ5LlxuICpcbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gdGltZSBUaGUgdGltZSB0byB1c2Ugd2hlbiByZXRyaWV2aW5nIGluaXRpYWwgYXR0cmlidXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBNb2RlbE1hdHJpeD1mYWxzZV0gV2hldGhlciB0byBjb21wdXRlIGEgbW9kZWwgbWF0cml4IGZvciB0aGUgZ2VvbWV0cnkgaW5zdGFuY2VcbiAqIEBwYXJhbSB7TWF0cml4NH0gW21vZGVsTWF0cml4UmVzdWx0XSBVc2VkIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIG1vZGVsIG1hdHJpeCBjYWxjdWxhdGlvblxuICogQHJldHVybnMge0dlb21ldHJ5SW5zdGFuY2V9IFRoZSBnZW9tZXRyeSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpbGxlZCBwb3J0aW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBpbnN0YW5jZSBkb2VzIG5vdCByZXByZXNlbnQgYSBmaWxsZWQgZ2VvbWV0cnkuXG4gKi9cbkVsbGlwc29pZEdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuY3JlYXRlRmlsbEdlb21ldHJ5SW5zdGFuY2UgPSBmdW5jdGlvbiAoXG4gIHRpbWUsXG4gIHNraXBNb2RlbE1hdHJpeCxcbiAgbW9kZWxNYXRyaXhSZXN1bHRcbikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwidGltZVwiLCB0aW1lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0eTtcbiAgdmFyIGlzQXZhaWxhYmxlID0gZW50aXR5LmlzQXZhaWxhYmxlKHRpbWUpO1xuXG4gIHZhciBjb2xvcjtcbiAgdmFyIHNob3cgPSBuZXcgU2hvd0dlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUoXG4gICAgaXNBdmFpbGFibGUgJiZcbiAgICAgIGVudGl0eS5pc1Nob3dpbmcgJiZcbiAgICAgIHRoaXMuX3Nob3dQcm9wZXJ0eS5nZXRWYWx1ZSh0aW1lKSAmJlxuICAgICAgdGhpcy5fZmlsbFByb3BlcnR5LmdldFZhbHVlKHRpbWUpXG4gICk7XG4gIHZhciBkaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSB0aGlzLl9kaXN0YW5jZURpc3BsYXlDb25kaXRpb25Qcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICB0aW1lXG4gICk7XG4gIHZhciBkaXN0YW5jZURpc3BsYXlDb25kaXRpb25BdHRyaWJ1dGUgPSBEaXN0YW5jZURpc3BsYXlDb25kaXRpb25HZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21EaXN0YW5jZURpc3BsYXlDb25kaXRpb24oXG4gICAgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uXG4gICk7XG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgc2hvdzogc2hvdyxcbiAgICBkaXN0YW5jZURpc3BsYXlDb25kaXRpb246IGRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbkF0dHJpYnV0ZSxcbiAgICBjb2xvcjogdW5kZWZpbmVkLFxuICAgIG9mZnNldDogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGlmICh0aGlzLl9tYXRlcmlhbFByb3BlcnR5IGluc3RhbmNlb2YgQ29sb3JNYXRlcmlhbFByb3BlcnR5KSB7XG4gICAgdmFyIGN1cnJlbnRDb2xvcjtcbiAgICBpZiAoXG4gICAgICBkZWZpbmVkKHRoaXMuX21hdGVyaWFsUHJvcGVydHkuY29sb3IpICYmXG4gICAgICAodGhpcy5fbWF0ZXJpYWxQcm9wZXJ0eS5jb2xvci5pc0NvbnN0YW50IHx8IGlzQXZhaWxhYmxlKVxuICAgICkge1xuICAgICAgY3VycmVudENvbG9yID0gdGhpcy5fbWF0ZXJpYWxQcm9wZXJ0eS5jb2xvci5nZXRWYWx1ZSh0aW1lLCBzY3JhdGNoQ29sb3IpO1xuICAgIH1cbiAgICBpZiAoIWRlZmluZWQoY3VycmVudENvbG9yKSkge1xuICAgICAgY3VycmVudENvbG9yID0gQ29sb3IuV0hJVEU7XG4gICAgfVxuICAgIGNvbG9yID0gQ29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21Db2xvcihjdXJyZW50Q29sb3IpO1xuICAgIGF0dHJpYnV0ZXMuY29sb3IgPSBjb2xvcjtcbiAgfVxuICBpZiAoZGVmaW5lZCh0aGlzLl9vcHRpb25zLm9mZnNldEF0dHJpYnV0ZSkpIHtcbiAgICBhdHRyaWJ1dGVzLm9mZnNldCA9IE9mZnNldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNhcnRlc2lhbjMoXG4gICAgICBQcm9wZXJ0eS5nZXRWYWx1ZU9yRGVmYXVsdChcbiAgICAgICAgdGhpcy5fdGVycmFpbk9mZnNldFByb3BlcnR5LFxuICAgICAgICB0aW1lLFxuICAgICAgICBkZWZhdWx0T2Zmc2V0LFxuICAgICAgICBvZmZzZXRTY3JhdGNoXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgR2VvbWV0cnlJbnN0YW5jZSh7XG4gICAgaWQ6IGVudGl0eSxcbiAgICBnZW9tZXRyeTogbmV3IEVsbGlwc29pZEdlb21ldHJ5KHRoaXMuX29wdGlvbnMpLFxuICAgIG1vZGVsTWF0cml4OiBza2lwTW9kZWxNYXRyaXhcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IGVudGl0eS5jb21wdXRlTW9kZWxNYXRyaXhGb3JIZWlnaHRSZWZlcmVuY2UoXG4gICAgICAgICAgdGltZSxcbiAgICAgICAgICBlbnRpdHkuZWxsaXBzb2lkLmhlaWdodFJlZmVyZW5jZSxcbiAgICAgICAgICB0aGlzLl9vcHRpb25zLnJhZGlpLnogKiAwLjUsXG4gICAgICAgICAgdGhpcy5fc2NlbmUubWFwUHJvamVjdGlvbi5lbGxpcHNvaWQsXG4gICAgICAgICAgbW9kZWxNYXRyaXhSZXN1bHRcbiAgICAgICAgKSxcbiAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZ2VvbWV0cnkgaW5zdGFuY2Ugd2hpY2ggcmVwcmVzZW50cyB0aGUgb3V0bGluZSBvZiB0aGUgZ2VvbWV0cnkuXG4gKlxuICogQHBhcmFtIHtKdWxpYW5EYXRlfSB0aW1lIFRoZSB0aW1lIHRvIHVzZSB3aGVuIHJldHJpZXZpbmcgaW5pdGlhbCBhdHRyaWJ1dGUgdmFsdWVzLlxuICogQHBhcmFtIHtCb29sZWFufSBbc2tpcE1vZGVsTWF0cml4PWZhbHNlXSBXaGV0aGVyIHRvIGNvbXB1dGUgYSBtb2RlbCBtYXRyaXggZm9yIHRoZSBnZW9tZXRyeSBpbnN0YW5jZVxuICogQHBhcmFtIHtNYXRyaXg0fSBbbW9kZWxNYXRyaXhSZXN1bHRdIFVzZWQgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgbW9kZWwgbWF0cml4IGNhbGN1bGF0aW9uXG4gKiBAcmV0dXJucyB7R2VvbWV0cnlJbnN0YW5jZX0gVGhlIGdlb21ldHJ5IGluc3RhbmNlIHJlcHJlc2VudGluZyB0aGUgb3V0bGluZSBwb3J0aW9uIG9mIHRoZSBnZW9tZXRyeS5cbiAqXG4gKiBAZXhjZXB0aW9uIHtEZXZlbG9wZXJFcnJvcn0gVGhpcyBpbnN0YW5jZSBkb2VzIG5vdCByZXByZXNlbnQgYW4gb3V0bGluZWQgZ2VvbWV0cnkuXG4gKi9cbkVsbGlwc29pZEdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuY3JlYXRlT3V0bGluZUdlb21ldHJ5SW5zdGFuY2UgPSBmdW5jdGlvbiAoXG4gIHRpbWUsXG4gIHNraXBNb2RlbE1hdHJpeCxcbiAgbW9kZWxNYXRyaXhSZXN1bHRcbikge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwidGltZVwiLCB0aW1lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0eTtcbiAgdmFyIGlzQXZhaWxhYmxlID0gZW50aXR5LmlzQXZhaWxhYmxlKHRpbWUpO1xuXG4gIHZhciBvdXRsaW5lQ29sb3IgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yRGVmYXVsdChcbiAgICB0aGlzLl9vdXRsaW5lQ29sb3JQcm9wZXJ0eSxcbiAgICB0aW1lLFxuICAgIENvbG9yLkJMQUNLLFxuICAgIHNjcmF0Y2hDb2xvclxuICApO1xuICB2YXIgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uID0gdGhpcy5fZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uUHJvcGVydHkuZ2V0VmFsdWUoXG4gICAgdGltZVxuICApO1xuXG4gIHZhciBhdHRyaWJ1dGVzID0ge1xuICAgIHNob3c6IG5ldyBTaG93R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZShcbiAgICAgIGlzQXZhaWxhYmxlICYmXG4gICAgICAgIGVudGl0eS5pc1Nob3dpbmcgJiZcbiAgICAgICAgdGhpcy5fc2hvd1Byb3BlcnR5LmdldFZhbHVlKHRpbWUpICYmXG4gICAgICAgIHRoaXMuX3Nob3dPdXRsaW5lUHJvcGVydHkuZ2V0VmFsdWUodGltZSlcbiAgICApLFxuICAgIGNvbG9yOiBDb2xvckdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNvbG9yKG91dGxpbmVDb2xvciksXG4gICAgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uOiBEaXN0YW5jZURpc3BsYXlDb25kaXRpb25HZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLmZyb21EaXN0YW5jZURpc3BsYXlDb25kaXRpb24oXG4gICAgICBkaXN0YW5jZURpc3BsYXlDb25kaXRpb25cbiAgICApLFxuICAgIG9mZnNldDogdW5kZWZpbmVkLFxuICB9O1xuICBpZiAoZGVmaW5lZCh0aGlzLl9vcHRpb25zLm9mZnNldEF0dHJpYnV0ZSkpIHtcbiAgICBhdHRyaWJ1dGVzLm9mZnNldCA9IE9mZnNldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUuZnJvbUNhcnRlc2lhbjMoXG4gICAgICBQcm9wZXJ0eS5nZXRWYWx1ZU9yRGVmYXVsdChcbiAgICAgICAgdGhpcy5fdGVycmFpbk9mZnNldFByb3BlcnR5LFxuICAgICAgICB0aW1lLFxuICAgICAgICBkZWZhdWx0T2Zmc2V0LFxuICAgICAgICBvZmZzZXRTY3JhdGNoXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgR2VvbWV0cnlJbnN0YW5jZSh7XG4gICAgaWQ6IGVudGl0eSxcbiAgICBnZW9tZXRyeTogbmV3IEVsbGlwc29pZE91dGxpbmVHZW9tZXRyeSh0aGlzLl9vcHRpb25zKSxcbiAgICBtb2RlbE1hdHJpeDogc2tpcE1vZGVsTWF0cml4XG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiBlbnRpdHkuY29tcHV0ZU1vZGVsTWF0cml4Rm9ySGVpZ2h0UmVmZXJlbmNlKFxuICAgICAgICAgIHRpbWUsXG4gICAgICAgICAgZW50aXR5LmVsbGlwc29pZC5oZWlnaHRSZWZlcmVuY2UsXG4gICAgICAgICAgdGhpcy5fb3B0aW9ucy5yYWRpaS56ICogMC41LFxuICAgICAgICAgIHRoaXMuX3NjZW5lLm1hcFByb2plY3Rpb24uZWxsaXBzb2lkLFxuICAgICAgICAgIG1vZGVsTWF0cml4UmVzdWx0XG4gICAgICAgICksXG4gICAgYXR0cmlidXRlczogYXR0cmlidXRlcyxcbiAgfSk7XG59O1xuXG5FbGxpcHNvaWRHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9jb21wdXRlQ2VudGVyID0gZnVuY3Rpb24gKHRpbWUsIHJlc3VsdCkge1xuICByZXR1cm4gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZCh0aGlzLl9lbnRpdHkucG9zaXRpb24sIHRpbWUsIHJlc3VsdCk7XG59O1xuXG5FbGxpcHNvaWRHZW9tZXRyeVVwZGF0ZXIucHJvdG90eXBlLl9pc0hpZGRlbiA9IGZ1bmN0aW9uIChlbnRpdHksIGVsbGlwc29pZCkge1xuICByZXR1cm4gKFxuICAgICFkZWZpbmVkKGVudGl0eS5wb3NpdGlvbikgfHxcbiAgICAhZGVmaW5lZChlbGxpcHNvaWQucmFkaWkpIHx8XG4gICAgR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS5faXNIaWRkZW4uY2FsbCh0aGlzLCBlbnRpdHksIGVsbGlwc29pZClcbiAgKTtcbn07XG5cbkVsbGlwc29pZEdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuX2lzRHluYW1pYyA9IGZ1bmN0aW9uIChlbnRpdHksIGVsbGlwc29pZCkge1xuICByZXR1cm4gKFxuICAgICFlbnRpdHkucG9zaXRpb24uaXNDb25zdGFudCB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVudGl0eS5vcmllbnRhdGlvbikgfHwgLy9cbiAgICAhZWxsaXBzb2lkLnJhZGlpLmlzQ29uc3RhbnQgfHwgLy9cbiAgICAhUHJvcGVydHkuaXNDb25zdGFudChlbGxpcHNvaWQuaW5uZXJSYWRpaSkgfHwgLy9cbiAgICAhUHJvcGVydHkuaXNDb25zdGFudChlbGxpcHNvaWQuc3RhY2tQYXJ0aXRpb25zKSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc29pZC5zbGljZVBhcnRpdGlvbnMpIHx8IC8vXG4gICAgIVByb3BlcnR5LmlzQ29uc3RhbnQoZWxsaXBzb2lkLm91dGxpbmVXaWR0aCkgfHwgLy9cbiAgICAhUHJvcGVydHkuaXNDb25zdGFudChlbGxpcHNvaWQubWluaW11bUNsb2NrKSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc29pZC5tYXhpbXVtQ2xvY2spIHx8IC8vXG4gICAgIVByb3BlcnR5LmlzQ29uc3RhbnQoZWxsaXBzb2lkLm1pbmltdW1Db25lKSB8fCAvL1xuICAgICFQcm9wZXJ0eS5pc0NvbnN0YW50KGVsbGlwc29pZC5tYXhpbXVtQ29uZSkgfHwgLy9cbiAgICAhUHJvcGVydHkuaXNDb25zdGFudChlbGxpcHNvaWQuc3ViZGl2aXNpb25zKVxuICApO1xufTtcblxuRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS5fc2V0U3RhdGljT3B0aW9ucyA9IGZ1bmN0aW9uIChcbiAgZW50aXR5LFxuICBlbGxpcHNvaWRcbikge1xuICB2YXIgaGVpZ2h0UmVmZXJlbmNlID0gUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoXG4gICAgZWxsaXBzb2lkLmhlaWdodFJlZmVyZW5jZSxcbiAgICBJc284NjAxLk1JTklNVU1fVkFMVUUsXG4gICAgSGVpZ2h0UmVmZXJlbmNlLk5PTkVcbiAgKTtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuICBvcHRpb25zLnZlcnRleEZvcm1hdCA9XG4gICAgdGhpcy5fbWF0ZXJpYWxQcm9wZXJ0eSBpbnN0YW5jZW9mIENvbG9yTWF0ZXJpYWxQcm9wZXJ0eVxuICAgICAgPyBQZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZS5WRVJURVhfRk9STUFUXG4gICAgICA6IE1hdGVyaWFsQXBwZWFyYW5jZS5NYXRlcmlhbFN1cHBvcnQuVEVYVFVSRUQudmVydGV4Rm9ybWF0O1xuICBvcHRpb25zLnJhZGlpID0gZWxsaXBzb2lkLnJhZGlpLmdldFZhbHVlKFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRSxcbiAgICBvcHRpb25zLnJhZGlpXG4gICk7XG4gIG9wdGlvbnMuaW5uZXJSYWRpaSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzb2lkLmlubmVyUmFkaWksXG4gICAgb3B0aW9ucy5yYWRpaVxuICApO1xuICBvcHRpb25zLm1pbmltdW1DbG9jayA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzb2lkLm1pbmltdW1DbG9jayxcbiAgICBJc284NjAxLk1JTklNVU1fVkFMVUVcbiAgKTtcbiAgb3B0aW9ucy5tYXhpbXVtQ2xvY2sgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVsbGlwc29pZC5tYXhpbXVtQ2xvY2ssXG4gICAgSXNvODYwMS5NSU5JTVVNX1ZBTFVFXG4gICk7XG4gIG9wdGlvbnMubWluaW11bUNvbmUgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVsbGlwc29pZC5taW5pbXVtQ29uZSxcbiAgICBJc284NjAxLk1JTklNVU1fVkFMVUVcbiAgKTtcbiAgb3B0aW9ucy5tYXhpbXVtQ29uZSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzb2lkLm1heGltdW1Db25lLFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRVxuICApO1xuICBvcHRpb25zLnN0YWNrUGFydGl0aW9ucyA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzb2lkLnN0YWNrUGFydGl0aW9ucyxcbiAgICBJc284NjAxLk1JTklNVU1fVkFMVUVcbiAgKTtcbiAgb3B0aW9ucy5zbGljZVBhcnRpdGlvbnMgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKFxuICAgIGVsbGlwc29pZC5zbGljZVBhcnRpdGlvbnMsXG4gICAgSXNvODYwMS5NSU5JTVVNX1ZBTFVFXG4gICk7XG4gIG9wdGlvbnMuc3ViZGl2aXNpb25zID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICBlbGxpcHNvaWQuc3ViZGl2aXNpb25zLFxuICAgIElzbzg2MDEuTUlOSU1VTV9WQUxVRVxuICApO1xuICBvcHRpb25zLm9mZnNldEF0dHJpYnV0ZSA9XG4gICAgaGVpZ2h0UmVmZXJlbmNlICE9PSBIZWlnaHRSZWZlcmVuY2UuTk9ORVxuICAgICAgPyBHZW9tZXRyeU9mZnNldEF0dHJpYnV0ZS5BTExcbiAgICAgIDogdW5kZWZpbmVkO1xufTtcblxuRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS5fb25FbnRpdHlQcm9wZXJ0eUNoYW5nZWQgPSBoZWlnaHRSZWZlcmVuY2VPbkVudGl0eVByb3BlcnR5Q2hhbmdlZDtcblxuRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLkR5bmFtaWNHZW9tZXRyeVVwZGF0ZXIgPSBEeW5hbWljRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIER5bmFtaWNFbGxpcHNvaWRHZW9tZXRyeVVwZGF0ZXIoXG4gIGdlb21ldHJ5VXBkYXRlcixcbiAgcHJpbWl0aXZlcyxcbiAgZ3JvdW5kUHJpbWl0aXZlc1xuKSB7XG4gIER5bmFtaWNHZW9tZXRyeVVwZGF0ZXIuY2FsbChcbiAgICB0aGlzLFxuICAgIGdlb21ldHJ5VXBkYXRlcixcbiAgICBwcmltaXRpdmVzLFxuICAgIGdyb3VuZFByaW1pdGl2ZXNcbiAgKTtcblxuICB0aGlzLl9zY2VuZSA9IGdlb21ldHJ5VXBkYXRlci5fc2NlbmU7XG4gIHRoaXMuX21vZGVsTWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgdGhpcy5fYXR0cmlidXRlcyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fb3V0bGluZUF0dHJpYnV0ZXMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RTY2VuZU1vZGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RTaG93ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9sYXN0T3V0bGluZVNob3cgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RPdXRsaW5lV2lkdGggPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RPdXRsaW5lQ29sb3IgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhc3RPZmZzZXQgPSBuZXcgQ2FydGVzaWFuMygpO1xuICB0aGlzLl9tYXRlcmlhbCA9IHt9O1xufVxuXG5pZiAoZGVmaW5lZChPYmplY3QuY3JlYXRlKSkge1xuICBEeW5hbWljRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoXG4gICAgRHluYW1pY0dlb21ldHJ5VXBkYXRlci5wcm90b3R5cGVcbiAgKTtcbiAgRHluYW1pY0VsbGlwc29pZEdlb21ldHJ5VXBkYXRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEeW5hbWljRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyO1xufVxuXG5EeW5hbWljRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodGltZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwidGltZVwiLCB0aW1lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0eTtcbiAgdmFyIGVsbGlwc29pZCA9IGVudGl0eS5lbGxpcHNvaWQ7XG4gIGlmIChcbiAgICAhZW50aXR5LmlzU2hvd2luZyB8fFxuICAgICFlbnRpdHkuaXNBdmFpbGFibGUodGltZSkgfHxcbiAgICAhUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoZWxsaXBzb2lkLnNob3csIHRpbWUsIHRydWUpXG4gICkge1xuICAgIGlmIChkZWZpbmVkKHRoaXMuX3ByaW1pdGl2ZSkpIHtcbiAgICAgIHRoaXMuX3ByaW1pdGl2ZS5zaG93ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRlZmluZWQodGhpcy5fb3V0bGluZVByaW1pdGl2ZSkpIHtcbiAgICAgIHRoaXMuX291dGxpbmVQcmltaXRpdmUuc2hvdyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmFkaWkgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKGVsbGlwc29pZC5yYWRpaSwgdGltZSwgcmFkaWlTY3JhdGNoKTtcbiAgdmFyIG1vZGVsTWF0cml4ID0gZGVmaW5lZChyYWRpaSlcbiAgICA/IGVudGl0eS5jb21wdXRlTW9kZWxNYXRyaXhGb3JIZWlnaHRSZWZlcmVuY2UoXG4gICAgICAgIHRpbWUsXG4gICAgICAgIGVsbGlwc29pZC5oZWlnaHRSZWZlcmVuY2UsXG4gICAgICAgIHJhZGlpLnogKiAwLjUsXG4gICAgICAgIHRoaXMuX3NjZW5lLm1hcFByb2plY3Rpb24uZWxsaXBzb2lkLFxuICAgICAgICB0aGlzLl9tb2RlbE1hdHJpeFxuICAgICAgKVxuICAgIDogdW5kZWZpbmVkO1xuICBpZiAoIWRlZmluZWQobW9kZWxNYXRyaXgpIHx8ICFkZWZpbmVkKHJhZGlpKSkge1xuICAgIGlmIChkZWZpbmVkKHRoaXMuX3ByaW1pdGl2ZSkpIHtcbiAgICAgIHRoaXMuX3ByaW1pdGl2ZS5zaG93ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRlZmluZWQodGhpcy5fb3V0bGluZVByaW1pdGl2ZSkpIHtcbiAgICAgIHRoaXMuX291dGxpbmVQcmltaXRpdmUuc2hvdyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvL0NvbXB1dGUgYXR0cmlidXRlcyBhbmQgbWF0ZXJpYWwuXG4gIHZhciBzaG93RmlsbCA9IFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KGVsbGlwc29pZC5maWxsLCB0aW1lLCB0cnVlKTtcbiAgdmFyIHNob3dPdXRsaW5lID0gUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoZWxsaXBzb2lkLm91dGxpbmUsIHRpbWUsIGZhbHNlKTtcbiAgdmFyIG91dGxpbmVDb2xvciA9IFByb3BlcnR5LmdldFZhbHVlT3JDbG9uZWREZWZhdWx0KFxuICAgIGVsbGlwc29pZC5vdXRsaW5lQ29sb3IsXG4gICAgdGltZSxcbiAgICBDb2xvci5CTEFDSyxcbiAgICBzY3JhdGNoQ29sb3JcbiAgKTtcbiAgdmFyIG1hdGVyaWFsID0gTWF0ZXJpYWxQcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICB0aW1lLFxuICAgIGRlZmF1bHRWYWx1ZShlbGxpcHNvaWQubWF0ZXJpYWwsIGRlZmF1bHRNYXRlcmlhbCksXG4gICAgdGhpcy5fbWF0ZXJpYWxcbiAgKTtcblxuICAvLyBDaGVjayBwcm9wZXJ0aWVzIHRoYXQgY291bGQgdHJpZ2dlciBhIHByaW1pdGl2ZSByZWJ1aWxkLlxuICB2YXIgaW5uZXJSYWRpaSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzb2lkLmlubmVyUmFkaWksXG4gICAgdGltZSxcbiAgICBpbm5lclJhZGlpU2NyYXRjaFxuICApO1xuICB2YXIgbWluaW11bUNsb2NrID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChlbGxpcHNvaWQubWluaW11bUNsb2NrLCB0aW1lKTtcbiAgdmFyIG1heGltdW1DbG9jayA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoZWxsaXBzb2lkLm1heGltdW1DbG9jaywgdGltZSk7XG4gIHZhciBtaW5pbXVtQ29uZSA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoZWxsaXBzb2lkLm1pbmltdW1Db25lLCB0aW1lKTtcbiAgdmFyIG1heGltdW1Db25lID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChlbGxpcHNvaWQubWF4aW11bUNvbmUsIHRpbWUpO1xuICB2YXIgc3RhY2tQYXJ0aXRpb25zID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICBlbGxpcHNvaWQuc3RhY2tQYXJ0aXRpb25zLFxuICAgIHRpbWVcbiAgKTtcbiAgdmFyIHNsaWNlUGFydGl0aW9ucyA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgZWxsaXBzb2lkLnNsaWNlUGFydGl0aW9ucyxcbiAgICB0aW1lXG4gICk7XG4gIHZhciBzdWJkaXZpc2lvbnMgPSBQcm9wZXJ0eS5nZXRWYWx1ZU9yVW5kZWZpbmVkKGVsbGlwc29pZC5zdWJkaXZpc2lvbnMsIHRpbWUpO1xuICB2YXIgb3V0bGluZVdpZHRoID0gUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoXG4gICAgZWxsaXBzb2lkLm91dGxpbmVXaWR0aCxcbiAgICB0aW1lLFxuICAgIDEuMFxuICApO1xuICB2YXIgaGVpZ2h0UmVmZXJlbmNlID0gUHJvcGVydHkuZ2V0VmFsdWVPckRlZmF1bHQoXG4gICAgZWxsaXBzb2lkLmhlaWdodFJlZmVyZW5jZSxcbiAgICB0aW1lLFxuICAgIEhlaWdodFJlZmVyZW5jZS5OT05FXG4gICk7XG4gIHZhciBvZmZzZXRBdHRyaWJ1dGUgPVxuICAgIGhlaWdodFJlZmVyZW5jZSAhPT0gSGVpZ2h0UmVmZXJlbmNlLk5PTkVcbiAgICAgID8gR2VvbWV0cnlPZmZzZXRBdHRyaWJ1dGUuQUxMXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAvL0luIDNEIHdlIHVzZSBhIGZhc3QgcGF0aCBieSBtb2RpZnlpbmcgUHJpbWl0aXZlLm1vZGVsTWF0cml4IGluc3RlYWQgb2YgcmVnZW5lcmF0aW5nIHRoZSBwcmltaXRpdmUgZXZlcnkgZnJhbWUuXG4gIC8vQWxzbyBjaGVjayBmb3IgaGVpZ2h0IHJlZmVyZW5jZSBiZWNhdXNlIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgd29yayB3aGVuIHRoZSBoZWlnaHQgaXMgcmVsYXRpdmUgdG8gdGVycmFpbi5cbiAgdmFyIHNjZW5lTW9kZSA9IHRoaXMuX3NjZW5lLm1vZGU7XG4gIHZhciBpbjNEID1cbiAgICBzY2VuZU1vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTNEICYmIGhlaWdodFJlZmVyZW5jZSA9PT0gSGVpZ2h0UmVmZXJlbmNlLk5PTkU7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuXG4gIHZhciBzaGFkb3dzID0gdGhpcy5fZ2VvbWV0cnlVcGRhdGVyLnNoYWRvd3NQcm9wZXJ0eS5nZXRWYWx1ZSh0aW1lKTtcblxuICB2YXIgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uUHJvcGVydHkgPSB0aGlzLl9nZW9tZXRyeVVwZGF0ZXJcbiAgICAuZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uUHJvcGVydHk7XG4gIHZhciBkaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSBkaXN0YW5jZURpc3BsYXlDb25kaXRpb25Qcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICB0aW1lXG4gICk7XG5cbiAgdmFyIG9mZnNldCA9IFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KFxuICAgIHRoaXMuX2dlb21ldHJ5VXBkYXRlci50ZXJyYWluT2Zmc2V0UHJvcGVydHksXG4gICAgdGltZSxcbiAgICBkZWZhdWx0T2Zmc2V0LFxuICAgIG9mZnNldFNjcmF0Y2hcbiAgKTtcblxuICAvL1dlIG9ubHkgcmVidWlsZCB0aGUgcHJpbWl0aXZlIGlmIHNvbWV0aGluZyBvdGhlciB0aGFuIHRoZSByYWRpaSBoYXMgY2hhbmdlZFxuICAvL0ZvciB0aGUgcmFkaWksIHdlIHVzZSB1bml0IHNwaGVyZSBhbmQgdGhlbiBkZWZvcm0gaXQgd2l0aCBhIHNjYWxlIG1hdHJpeC5cbiAgdmFyIHJlYnVpbGRQcmltaXRpdmVzID1cbiAgICAhaW4zRCB8fFxuICAgIHRoaXMuX2xhc3RTY2VuZU1vZGUgIT09IHNjZW5lTW9kZSB8fFxuICAgICFkZWZpbmVkKHRoaXMuX3ByaW1pdGl2ZSkgfHwgLy9cbiAgICBvcHRpb25zLnN0YWNrUGFydGl0aW9ucyAhPT0gc3RhY2tQYXJ0aXRpb25zIHx8XG4gICAgb3B0aW9ucy5zbGljZVBhcnRpdGlvbnMgIT09IHNsaWNlUGFydGl0aW9ucyB8fCAvL1xuICAgIChkZWZpbmVkKGlubmVyUmFkaWkpICYmXG4gICAgICAhQ2FydGVzaWFuMy5lcXVhbHMob3B0aW9ucy5pbm5lclJhZGlpICE9PSBpbm5lclJhZGlpKSkgfHxcbiAgICBvcHRpb25zLm1pbmltdW1DbG9jayAhPT0gbWluaW11bUNsb2NrIHx8IC8vXG4gICAgb3B0aW9ucy5tYXhpbXVtQ2xvY2sgIT09IG1heGltdW1DbG9jayB8fFxuICAgIG9wdGlvbnMubWluaW11bUNvbmUgIT09IG1pbmltdW1Db25lIHx8IC8vXG4gICAgb3B0aW9ucy5tYXhpbXVtQ29uZSAhPT0gbWF4aW11bUNvbmUgfHxcbiAgICBvcHRpb25zLnN1YmRpdmlzaW9ucyAhPT0gc3ViZGl2aXNpb25zIHx8IC8vXG4gICAgdGhpcy5fbGFzdE91dGxpbmVXaWR0aCAhPT0gb3V0bGluZVdpZHRoIHx8XG4gICAgb3B0aW9ucy5vZmZzZXRBdHRyaWJ1dGUgIT09IG9mZnNldEF0dHJpYnV0ZTtcblxuICBpZiAocmVidWlsZFByaW1pdGl2ZXMpIHtcbiAgICB2YXIgcHJpbWl0aXZlcyA9IHRoaXMuX3ByaW1pdGl2ZXM7XG4gICAgcHJpbWl0aXZlcy5yZW1vdmVBbmREZXN0cm95KHRoaXMuX3ByaW1pdGl2ZSk7XG4gICAgcHJpbWl0aXZlcy5yZW1vdmVBbmREZXN0cm95KHRoaXMuX291dGxpbmVQcmltaXRpdmUpO1xuICAgIHRoaXMuX3ByaW1pdGl2ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9vdXRsaW5lUHJpbWl0aXZlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2xhc3RTY2VuZU1vZGUgPSBzY2VuZU1vZGU7XG4gICAgdGhpcy5fbGFzdE91dGxpbmVXaWR0aCA9IG91dGxpbmVXaWR0aDtcblxuICAgIG9wdGlvbnMuc3RhY2tQYXJ0aXRpb25zID0gc3RhY2tQYXJ0aXRpb25zO1xuICAgIG9wdGlvbnMuc2xpY2VQYXJ0aXRpb25zID0gc2xpY2VQYXJ0aXRpb25zO1xuICAgIG9wdGlvbnMuc3ViZGl2aXNpb25zID0gc3ViZGl2aXNpb25zO1xuICAgIG9wdGlvbnMub2Zmc2V0QXR0cmlidXRlID0gb2Zmc2V0QXR0cmlidXRlO1xuICAgIG9wdGlvbnMucmFkaWkgPSBDYXJ0ZXNpYW4zLmNsb25lKGluM0QgPyB1bml0U3BoZXJlIDogcmFkaWksIG9wdGlvbnMucmFkaWkpO1xuICAgIGlmIChkZWZpbmVkKGlubmVyUmFkaWkpKSB7XG4gICAgICBpZiAoaW4zRCkge1xuICAgICAgICB2YXIgbWFnID0gQ2FydGVzaWFuMy5tYWduaXR1ZGUocmFkaWkpO1xuICAgICAgICBvcHRpb25zLmlubmVyUmFkaWkgPSBDYXJ0ZXNpYW4zLmZyb21FbGVtZW50cyhcbiAgICAgICAgICBpbm5lclJhZGlpLnggLyBtYWcsXG4gICAgICAgICAgaW5uZXJSYWRpaS55IC8gbWFnLFxuICAgICAgICAgIGlubmVyUmFkaWkueiAvIG1hZyxcbiAgICAgICAgICBvcHRpb25zLmlubmVyUmFkaWlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuaW5uZXJSYWRpaSA9IENhcnRlc2lhbjMuY2xvbmUoaW5uZXJSYWRpaSwgb3B0aW9ucy5pbm5lclJhZGlpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5pbm5lclJhZGlpID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBvcHRpb25zLm1pbmltdW1DbG9jayA9IG1pbmltdW1DbG9jaztcbiAgICBvcHRpb25zLm1heGltdW1DbG9jayA9IG1heGltdW1DbG9jaztcbiAgICBvcHRpb25zLm1pbmltdW1Db25lID0gbWluaW11bUNvbmU7XG4gICAgb3B0aW9ucy5tYXhpbXVtQ29uZSA9IG1heGltdW1Db25lO1xuXG4gICAgdmFyIGFwcGVhcmFuY2UgPSBuZXcgTWF0ZXJpYWxBcHBlYXJhbmNlKHtcbiAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCxcbiAgICAgIHRyYW5zbHVjZW50OiBtYXRlcmlhbC5pc1RyYW5zbHVjZW50KCksXG4gICAgICBjbG9zZWQ6IHRydWUsXG4gICAgfSk7XG4gICAgb3B0aW9ucy52ZXJ0ZXhGb3JtYXQgPSBhcHBlYXJhbmNlLnZlcnRleEZvcm1hdDtcblxuICAgIHZhciBmaWxsSW5zdGFuY2UgPSB0aGlzLl9nZW9tZXRyeVVwZGF0ZXIuY3JlYXRlRmlsbEdlb21ldHJ5SW5zdGFuY2UoXG4gICAgICB0aW1lLFxuICAgICAgaW4zRCxcbiAgICAgIHRoaXMuX21vZGVsTWF0cml4XG4gICAgKTtcblxuICAgIHRoaXMuX3ByaW1pdGl2ZSA9IHByaW1pdGl2ZXMuYWRkKFxuICAgICAgbmV3IFByaW1pdGl2ZSh7XG4gICAgICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBmaWxsSW5zdGFuY2UsXG4gICAgICAgIGFwcGVhcmFuY2U6IGFwcGVhcmFuY2UsXG4gICAgICAgIGFzeW5jaHJvbm91czogZmFsc2UsXG4gICAgICAgIHNoYWRvd3M6IHNoYWRvd3MsXG4gICAgICB9KVxuICAgICk7XG5cbiAgICB2YXIgb3V0bGluZUluc3RhbmNlID0gdGhpcy5fZ2VvbWV0cnlVcGRhdGVyLmNyZWF0ZU91dGxpbmVHZW9tZXRyeUluc3RhbmNlKFxuICAgICAgdGltZSxcbiAgICAgIGluM0QsXG4gICAgICB0aGlzLl9tb2RlbE1hdHJpeFxuICAgICk7XG4gICAgdGhpcy5fb3V0bGluZVByaW1pdGl2ZSA9IHByaW1pdGl2ZXMuYWRkKFxuICAgICAgbmV3IFByaW1pdGl2ZSh7XG4gICAgICAgIGdlb21ldHJ5SW5zdGFuY2VzOiBvdXRsaW5lSW5zdGFuY2UsXG4gICAgICAgIGFwcGVhcmFuY2U6IG5ldyBQZXJJbnN0YW5jZUNvbG9yQXBwZWFyYW5jZSh7XG4gICAgICAgICAgZmxhdDogdHJ1ZSxcbiAgICAgICAgICB0cmFuc2x1Y2VudDogb3V0bGluZUluc3RhbmNlLmF0dHJpYnV0ZXMuY29sb3IudmFsdWVbM10gIT09IDI1NSxcbiAgICAgICAgICByZW5kZXJTdGF0ZToge1xuICAgICAgICAgICAgbGluZVdpZHRoOiB0aGlzLl9nZW9tZXRyeVVwZGF0ZXIuX3NjZW5lLmNsYW1wTGluZVdpZHRoKFxuICAgICAgICAgICAgICBvdXRsaW5lV2lkdGhcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGFzeW5jaHJvbm91czogZmFsc2UsXG4gICAgICAgIHNoYWRvd3M6IHNoYWRvd3MsXG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLl9sYXN0U2hvdyA9IHNob3dGaWxsO1xuICAgIHRoaXMuX2xhc3RPdXRsaW5lU2hvdyA9IHNob3dPdXRsaW5lO1xuICAgIHRoaXMuX2xhc3RPdXRsaW5lQ29sb3IgPSBDb2xvci5jbG9uZShvdXRsaW5lQ29sb3IsIHRoaXMuX2xhc3RPdXRsaW5lQ29sb3IpO1xuICAgIHRoaXMuX2xhc3REaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSBkaXN0YW5jZURpc3BsYXlDb25kaXRpb247XG4gICAgdGhpcy5fbGFzdE9mZnNldCA9IENhcnRlc2lhbjMuY2xvbmUob2Zmc2V0LCB0aGlzLl9sYXN0T2Zmc2V0KTtcbiAgfSBlbHNlIGlmICh0aGlzLl9wcmltaXRpdmUucmVhZHkpIHtcbiAgICAvL1VwZGF0ZSBhdHRyaWJ1dGVzIG9ubHkuXG4gICAgdmFyIHByaW1pdGl2ZSA9IHRoaXMuX3ByaW1pdGl2ZTtcbiAgICB2YXIgb3V0bGluZVByaW1pdGl2ZSA9IHRoaXMuX291dGxpbmVQcmltaXRpdmU7XG5cbiAgICBwcmltaXRpdmUuc2hvdyA9IHRydWU7XG4gICAgb3V0bGluZVByaW1pdGl2ZS5zaG93ID0gdHJ1ZTtcbiAgICBwcmltaXRpdmUuYXBwZWFyYW5jZS5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLl9hdHRyaWJ1dGVzO1xuICAgIGlmICghZGVmaW5lZChhdHRyaWJ1dGVzKSkge1xuICAgICAgYXR0cmlidXRlcyA9IHByaW1pdGl2ZS5nZXRHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlcyhlbnRpdHkpO1xuICAgICAgdGhpcy5fYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGlmIChzaG93RmlsbCAhPT0gdGhpcy5fbGFzdFNob3cpIHtcbiAgICAgIGF0dHJpYnV0ZXMuc2hvdyA9IFNob3dHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRlLnRvVmFsdWUoXG4gICAgICAgIHNob3dGaWxsLFxuICAgICAgICBhdHRyaWJ1dGVzLnNob3dcbiAgICAgICk7XG4gICAgICB0aGlzLl9sYXN0U2hvdyA9IHNob3dGaWxsO1xuICAgIH1cblxuICAgIHZhciBvdXRsaW5lQXR0cmlidXRlcyA9IHRoaXMuX291dGxpbmVBdHRyaWJ1dGVzO1xuXG4gICAgaWYgKCFkZWZpbmVkKG91dGxpbmVBdHRyaWJ1dGVzKSkge1xuICAgICAgb3V0bGluZUF0dHJpYnV0ZXMgPSBvdXRsaW5lUHJpbWl0aXZlLmdldEdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGVzKFxuICAgICAgICBlbnRpdHlcbiAgICAgICk7XG4gICAgICB0aGlzLl9vdXRsaW5lQXR0cmlidXRlcyA9IG91dGxpbmVBdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIGlmIChzaG93T3V0bGluZSAhPT0gdGhpcy5fbGFzdE91dGxpbmVTaG93KSB7XG4gICAgICBvdXRsaW5lQXR0cmlidXRlcy5zaG93ID0gU2hvd0dlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUudG9WYWx1ZShcbiAgICAgICAgc2hvd091dGxpbmUsXG4gICAgICAgIG91dGxpbmVBdHRyaWJ1dGVzLnNob3dcbiAgICAgICk7XG4gICAgICB0aGlzLl9sYXN0T3V0bGluZVNob3cgPSBzaG93T3V0bGluZTtcbiAgICB9XG5cbiAgICBpZiAoIUNvbG9yLmVxdWFscyhvdXRsaW5lQ29sb3IsIHRoaXMuX2xhc3RPdXRsaW5lQ29sb3IpKSB7XG4gICAgICBvdXRsaW5lQXR0cmlidXRlcy5jb2xvciA9IENvbG9yR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS50b1ZhbHVlKFxuICAgICAgICBvdXRsaW5lQ29sb3IsXG4gICAgICAgIG91dGxpbmVBdHRyaWJ1dGVzLmNvbG9yXG4gICAgICApO1xuICAgICAgQ29sb3IuY2xvbmUob3V0bGluZUNvbG9yLCB0aGlzLl9sYXN0T3V0bGluZUNvbG9yKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uLmVxdWFscyhcbiAgICAgICAgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uLFxuICAgICAgICB0aGlzLl9sYXN0RGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uXG4gICAgICApXG4gICAgKSB7XG4gICAgICBhdHRyaWJ1dGVzLmRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbiA9IERpc3RhbmNlRGlzcGxheUNvbmRpdGlvbkdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUudG9WYWx1ZShcbiAgICAgICAgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uLFxuICAgICAgICBhdHRyaWJ1dGVzLmRpc3RhbmNlRGlzcGxheUNvbmRpdGlvblxuICAgICAgKTtcbiAgICAgIG91dGxpbmVBdHRyaWJ1dGVzLmRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbiA9IERpc3RhbmNlRGlzcGxheUNvbmRpdGlvbkdlb21ldHJ5SW5zdGFuY2VBdHRyaWJ1dGUudG9WYWx1ZShcbiAgICAgICAgZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uLFxuICAgICAgICBvdXRsaW5lQXR0cmlidXRlcy5kaXN0YW5jZURpc3BsYXlDb25kaXRpb25cbiAgICAgICk7XG4gICAgICBEaXN0YW5jZURpc3BsYXlDb25kaXRpb24uY2xvbmUoXG4gICAgICAgIGRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbixcbiAgICAgICAgdGhpcy5fbGFzdERpc3RhbmNlRGlzcGxheUNvbmRpdGlvblxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIUNhcnRlc2lhbjMuZXF1YWxzKG9mZnNldCwgdGhpcy5fbGFzdE9mZnNldCkpIHtcbiAgICAgIGF0dHJpYnV0ZXMub2Zmc2V0ID0gT2Zmc2V0R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS50b1ZhbHVlKFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGF0dHJpYnV0ZXMub2Zmc2V0XG4gICAgICApO1xuICAgICAgb3V0bGluZUF0dHJpYnV0ZXMub2Zmc2V0ID0gT2Zmc2V0R2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZS50b1ZhbHVlKFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGF0dHJpYnV0ZXMub2Zmc2V0XG4gICAgICApO1xuICAgICAgQ2FydGVzaWFuMy5jbG9uZShvZmZzZXQsIHRoaXMuX2xhc3RPZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpbjNEKSB7XG4gICAgLy9TaW5jZSB3ZSBhcmUgc2NhbGluZyBhIHVuaXQgc3BoZXJlLCB3ZSBjYW4ndCBsZXQgYW55IG9mIHRoZSB2YWx1ZXMgZ28gdG8gemVyby5cbiAgICAvL0luc3RlYWQgd2UgY2xhbXAgdGhlbSB0byBhIHNtYWxsIHZhbHVlLiAgVG8gdGhlIG5ha2VkIGV5ZSwgdGhpcyBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHRzXG4gICAgLy90aGF0IHlvdSBnZXQgcGFzc2luZyBFbGxpcHNvaWRHZW9tZXRyeSBhIHJhZGlpIHdpdGggYSB6ZXJvIGNvbXBvbmVudC5cbiAgICByYWRpaS54ID0gTWF0aC5tYXgocmFkaWkueCwgMC4wMDEpO1xuICAgIHJhZGlpLnkgPSBNYXRoLm1heChyYWRpaS55LCAwLjAwMSk7XG4gICAgcmFkaWkueiA9IE1hdGgubWF4KHJhZGlpLnosIDAuMDAxKTtcblxuICAgIG1vZGVsTWF0cml4ID0gTWF0cml4NC5tdWx0aXBseUJ5U2NhbGUobW9kZWxNYXRyaXgsIHJhZGlpLCBtb2RlbE1hdHJpeCk7XG4gICAgdGhpcy5fcHJpbWl0aXZlLm1vZGVsTWF0cml4ID0gbW9kZWxNYXRyaXg7XG4gICAgdGhpcy5fb3V0bGluZVByaW1pdGl2ZS5tb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgRWxsaXBzb2lkR2VvbWV0cnlVcGRhdGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16884\n')},84088:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14459);\n/* harmony import */ var _createMaterialPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1370);\n/* harmony import */ var _createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(90203);\n\n\n\n\n\n\n\n/**\n * @typedef {Object} EllipsoidGraphics.ConstructorOptions\n *\n * Initialization options for the EllipsoidGraphics constructor\n *\n * @property {Property | boolean} [show=true] A boolean Property specifying the visibility of the ellipsoid.\n * @property {Property | Cartesian3} [radii] A {@link Cartesian3} Property specifying the radii of the ellipsoid.\n * @property {Property | Cartesian3} [innerRadii] A {@link Cartesian3} Property specifying the inner radii of the ellipsoid.\n * @property {Property | number} [minimumClock=0.0] A Property specifying the minimum clock angle of the ellipsoid.\n * @property {Property | number} [maximumClock=2*PI] A Property specifying the maximum clock angle of the ellipsoid.\n * @property {Property | number} [minimumCone=0.0] A Property specifying the minimum cone angle of the ellipsoid.\n * @property {Property | number} [maximumCone=PI] A Property specifying the maximum cone angle of the ellipsoid.\n * @property {Property | HeightReference} [heightReference=HeightReference.NONE] A Property specifying what the height from the entity position is relative to.\n * @property {Property | boolean} [fill=true] A boolean Property specifying whether the ellipsoid is filled with the provided material.\n * @property {MaterialProperty | Color} [material=Color.WHITE] A Property specifying the material used to fill the ellipsoid.\n * @property {Property | boolean} [outline=false] A boolean Property specifying whether the ellipsoid is outlined.\n * @property {Property | Color} [outlineColor=Color.BLACK] A Property specifying the {@link Color} of the outline.\n * @property {Property | number} [outlineWidth=1.0] A numeric Property specifying the width of the outline.\n * @property {Property | number} [stackPartitions=64] A Property specifying the number of stacks.\n * @property {Property | number} [slicePartitions=64] A Property specifying the number of radial slices.\n * @property {Property | number} [subdivisions=128] A Property specifying the number of samples per outline ring, determining the granularity of the curvature.\n * @property {Property | ShadowMode} [shadows=ShadowMode.DISABLED] An enum Property specifying whether the ellipsoid casts or receives shadows from light sources.\n * @property {Property | DistanceDisplayCondition} [distanceDisplayCondition] A Property specifying at what distance from the camera that this ellipsoid will be displayed.\n */\n\n/**\n * Describe an ellipsoid or sphere.  The center position and orientation are determined by the containing {@link Entity}.\n *\n * @alias EllipsoidGraphics\n * @constructor\n *\n * @param {EllipsoidGraphics.ConstructorOptions} [options] Object describing initialization options\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Spheres%20and%20Ellipsoids.html|Cesium Sandcastle Spheres and Ellipsoids Demo}\n */\nfunction EllipsoidGraphics(options) {\n  this._definitionChanged = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n  this._show = undefined;\n  this._showSubscription = undefined;\n  this._radii = undefined;\n  this._radiiSubscription = undefined;\n  this._innerRadii = undefined;\n  this._innerRadiiSubscription = undefined;\n  this._minimumClock = undefined;\n  this._minimumClockSubscription = undefined;\n  this._maximumClock = undefined;\n  this._maximumClockSubscription = undefined;\n  this._minimumCone = undefined;\n  this._minimumConeSubscription = undefined;\n  this._maximumCone = undefined;\n  this._maximumConeSubscription = undefined;\n  this._heightReference = undefined;\n  this._heightReferenceSubscription = undefined;\n  this._fill = undefined;\n  this._fillSubscription = undefined;\n  this._material = undefined;\n  this._materialSubscription = undefined;\n  this._outline = undefined;\n  this._outlineSubscription = undefined;\n  this._outlineColor = undefined;\n  this._outlineColorSubscription = undefined;\n  this._outlineWidth = undefined;\n  this._outlineWidthSubscription = undefined;\n  this._stackPartitions = undefined;\n  this._stackPartitionsSubscription = undefined;\n  this._slicePartitions = undefined;\n  this._slicePartitionsSubscription = undefined;\n  this._subdivisions = undefined;\n  this._subdivisionsSubscription = undefined;\n  this._shadows = undefined;\n  this._shadowsSubscription = undefined;\n  this._distanceDisplayCondition = undefined;\n  this._distanceDisplayConditionSubscription = undefined;\n\n  this.merge((0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT));\n}\n\nObject.defineProperties(EllipsoidGraphics.prototype, {\n  /**\n   * Gets the event that is raised whenever a property or sub-property is changed or modified.\n   * @memberof EllipsoidGraphics.prototype\n   *\n   * @type {Event}\n   * @readonly\n   */\n  definitionChanged: {\n    get: function () {\n      return this._definitionChanged;\n    },\n  },\n\n  /**\n   * Gets or sets the boolean Property specifying the visibility of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default true\n   */\n  show: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("show"),\n\n  /**\n   * Gets or sets the {@link Cartesian3} {@link Property} specifying the radii of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   */\n  radii: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("radii"),\n\n  /**\n   * Gets or sets the {@link Cartesian3} {@link Property} specifying the inner radii of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default radii\n   */\n  innerRadii: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("innerRadii"),\n\n  /**\n   * Gets or sets the Property specifying the minimum clock angle of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 0.0\n   */\n  minimumClock: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("minimumClock"),\n\n  /**\n   * Gets or sets the Property specifying the maximum clock angle of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 2*PI\n   */\n  maximumClock: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("maximumClock"),\n\n  /**\n   * Gets or sets the Property specifying the minimum cone angle of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 0.0\n   */\n  minimumCone: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("minimumCone"),\n\n  /**\n   * Gets or sets the Property specifying the maximum cone angle of the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default PI\n   */\n  maximumCone: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("maximumCone"),\n\n  /**\n   * Gets or sets the Property specifying the {@link HeightReference}.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default HeightReference.NONE\n   */\n  heightReference: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("heightReference"),\n\n  /**\n   * Gets or sets the boolean Property specifying whether the ellipsoid is filled with the provided material.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default true\n   */\n  fill: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("fill"),\n\n  /**\n   * Gets or sets the Property specifying the material used to fill the ellipsoid.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {MaterialProperty}\n   * @default Color.WHITE\n   */\n  material: (0,_createMaterialPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)("material"),\n\n  /**\n   * Gets or sets the Property specifying whether the ellipsoid is outlined.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default false\n   */\n  outline: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("outline"),\n\n  /**\n   * Gets or sets the Property specifying the {@link Color} of the outline.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default Color.BLACK\n   */\n  outlineColor: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("outlineColor"),\n\n  /**\n   * Gets or sets the numeric Property specifying the width of the outline.\n   * <p>\n   * Note: This property will be ignored on all major browsers on Windows platforms. For details, see (@link https://github.com/CesiumGS/cesium/issues/40}.\n   * </p>\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 1.0\n   */\n  outlineWidth: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("outlineWidth"),\n\n  /**\n   * Gets or sets the Property specifying the number of stacks.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 64\n   */\n  stackPartitions: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("stackPartitions"),\n\n  /**\n   * Gets or sets the Property specifying the number of radial slices per 360 degrees.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 64\n   */\n  slicePartitions: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("slicePartitions"),\n\n  /**\n   * Gets or sets the Property specifying the number of samples per outline ring, determining the granularity of the curvature.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default 128\n   */\n  subdivisions: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("subdivisions"),\n\n  /**\n   * Get or sets the enum Property specifying whether the ellipsoid\n   * casts or receives shadows from light sources.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   * @default ShadowMode.DISABLED\n   */\n  shadows: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)("shadows"),\n\n  /**\n   * Gets or sets the {@link DistanceDisplayCondition} Property specifying at what distance from the camera that this ellipsoid will be displayed.\n   * @memberof EllipsoidGraphics.prototype\n   * @type {Property|undefined}\n   */\n  distanceDisplayCondition: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(\n    "distanceDisplayCondition"\n  ),\n});\n\n/**\n * Duplicates this instance.\n *\n * @param {EllipsoidGraphics} [result] The object onto which to store the result.\n * @returns {EllipsoidGraphics} The modified result parameter or a new instance if one was not provided.\n */\nEllipsoidGraphics.prototype.clone = function (result) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(result)) {\n    return new EllipsoidGraphics(this);\n  }\n  result.show = this.show;\n  result.radii = this.radii;\n  result.innerRadii = this.innerRadii;\n  result.minimumClock = this.minimumClock;\n  result.maximumClock = this.maximumClock;\n  result.minimumCone = this.minimumCone;\n  result.maximumCone = this.maximumCone;\n  result.heightReference = this.heightReference;\n  result.fill = this.fill;\n  result.material = this.material;\n  result.outline = this.outline;\n  result.outlineColor = this.outlineColor;\n  result.outlineWidth = this.outlineWidth;\n  result.stackPartitions = this.stackPartitions;\n  result.slicePartitions = this.slicePartitions;\n  result.subdivisions = this.subdivisions;\n  result.shadows = this.shadows;\n  result.distanceDisplayCondition = this.distanceDisplayCondition;\n  return result;\n};\n\n/**\n * Assigns each unassigned property on this object to the value\n * of the same property on the provided source object.\n *\n * @param {EllipsoidGraphics} source The object to be merged into this object.\n */\nEllipsoidGraphics.prototype.merge = function (source) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(source)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("source is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.show, source.show);\n  this.radii = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.radii, source.radii);\n  this.innerRadii = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.innerRadii, source.innerRadii);\n  this.minimumClock = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.minimumClock, source.minimumClock);\n  this.maximumClock = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.maximumClock, source.maximumClock);\n  this.minimumCone = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.minimumCone, source.minimumCone);\n  this.maximumCone = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.maximumCone, source.maximumCone);\n  this.heightReference = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.heightReference,\n    source.heightReference\n  );\n  this.fill = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.fill, source.fill);\n  this.material = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.material, source.material);\n  this.outline = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.outline, source.outline);\n  this.outlineColor = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.outlineColor, source.outlineColor);\n  this.outlineWidth = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.outlineWidth, source.outlineWidth);\n  this.stackPartitions = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.stackPartitions,\n    source.stackPartitions\n  );\n  this.slicePartitions = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.slicePartitions,\n    source.slicePartitions\n  );\n  this.subdivisions = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.subdivisions, source.subdivisions);\n  this.shadows = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(this.shadows, source.shadows);\n  this.distanceDisplayCondition = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(\n    this.distanceDisplayCondition,\n    source.distanceDisplayCondition\n  );\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EllipsoidGraphics);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQwODguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQ1Y7QUFDYztBQUNsQjtBQUNnRDtBQUNoQjs7QUFFckU7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYyx1QkFBdUIsV0FBVyxrQkFBa0I7QUFDbEUsY0FBYyx1QkFBdUIsZ0JBQWdCLGtCQUFrQjtBQUN2RSxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLDRCQUE0QjtBQUMxQyxjQUFjLG9CQUFvQjtBQUNsQyxjQUFjLDBCQUEwQjtBQUN4QyxjQUFjLG9CQUFvQjtBQUNsQyxjQUFjLGtCQUFrQixzREFBc0QsYUFBYTtBQUNuRyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLG1CQUFtQjtBQUNqQyxjQUFjLHVCQUF1QjtBQUNyQyxjQUFjLHFDQUFxQztBQUNuRDs7QUFFQTtBQUNBLDJHQUEyRyxhQUFhO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzQ0FBc0M7QUFDakQ7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGdDQUFnQywrREFBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSwwRUFBWSxVQUFVLGdHQUF5QjtBQUM1RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFFBQVEsaUZBQXdCOztBQUVoQztBQUNBLHVCQUF1QixtQkFBbUIsZ0JBQWdCO0FBQzFEO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsU0FBUyxpRkFBd0I7O0FBRWpDO0FBQ0EsdUJBQXVCLG1CQUFtQixnQkFBZ0I7QUFDMUQ7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGNBQWMsaUZBQXdCOztBQUV0QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGdCQUFnQixpRkFBd0I7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsZ0JBQWdCLGlGQUF3Qjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxlQUFlLGlGQUF3Qjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxlQUFlLGlGQUF3Qjs7QUFFdkM7QUFDQSwrQ0FBK0Msc0JBQXNCO0FBQ3JFO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxtQkFBbUIsaUZBQXdCOztBQUUzQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFFBQVEsaUZBQXdCOztBQUVoQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVkseUZBQWdDOztBQUU1QztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFdBQVcsaUZBQXdCOztBQUVuQztBQUNBLCtDQUErQyxhQUFhO0FBQzVEO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxnQkFBZ0IsaUZBQXdCOztBQUV4QztBQUNBO0FBQ0E7QUFDQSwwSkFBMEo7QUFDMUo7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsZ0JBQWdCLGlGQUF3Qjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxtQkFBbUIsaUZBQXdCOztBQUUzQztBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLG1CQUFtQixpRkFBd0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsZ0JBQWdCLGlGQUF3Qjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFdBQVcsaUZBQXdCOztBQUVuQztBQUNBLHVCQUF1QixnQ0FBZ0M7QUFDdkQ7QUFDQSxZQUFZO0FBQ1o7QUFDQSw0QkFBNEIsaUZBQXdCO0FBQ3BEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLGFBQWEsbUJBQW1CO0FBQ2hDO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBOztBQUVBLGNBQWMsMEVBQVk7QUFDMUIsZUFBZSwwRUFBWTtBQUMzQixvQkFBb0IsMEVBQVk7QUFDaEMsc0JBQXNCLDBFQUFZO0FBQ2xDLHNCQUFzQiwwRUFBWTtBQUNsQyxxQkFBcUIsMEVBQVk7QUFDakMscUJBQXFCLDBFQUFZO0FBQ2pDLHlCQUF5QiwwRUFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQSxjQUFjLDBFQUFZO0FBQzFCLGtCQUFrQiwwRUFBWTtBQUM5QixpQkFBaUIsMEVBQVk7QUFDN0Isc0JBQXNCLDBFQUFZO0FBQ2xDLHNCQUFzQiwwRUFBWTtBQUNsQyx5QkFBeUIsMEVBQVk7QUFDckM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBFQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwRUFBWTtBQUNsQyxpQkFBaUIsMEVBQVk7QUFDN0Isa0NBQWtDLDBFQUFZO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsaUJBQWlCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvRGF0YVNvdXJjZXMvRWxsaXBzb2lkR3JhcGhpY3MuanM/MTdhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL0NvcmUvRXZlbnQuanNcIjtcbmltcG9ydCBjcmVhdGVNYXRlcmlhbFByb3BlcnR5RGVzY3JpcHRvciBmcm9tIFwiLi9jcmVhdGVNYXRlcmlhbFByb3BlcnR5RGVzY3JpcHRvci5qc1wiO1xuaW1wb3J0IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciBmcm9tIFwiLi9jcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IuanNcIjtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbGxpcHNvaWRHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnNcbiAqXG4gKiBJbml0aWFsaXphdGlvbiBvcHRpb25zIGZvciB0aGUgRWxsaXBzb2lkR3JhcGhpY3MgY29uc3RydWN0b3JcbiAqXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgYm9vbGVhbn0gW3Nob3c9dHJ1ZV0gQSBib29sZWFuIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGVsbGlwc29pZC5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBDYXJ0ZXNpYW4zfSBbcmFkaWldIEEge0BsaW5rIENhcnRlc2lhbjN9IFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHJhZGlpIG9mIHRoZSBlbGxpcHNvaWQuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgQ2FydGVzaWFuM30gW2lubmVyUmFkaWldIEEge0BsaW5rIENhcnRlc2lhbjN9IFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIGlubmVyIHJhZGlpIG9mIHRoZSBlbGxpcHNvaWQuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbbWluaW11bUNsb2NrPTAuMF0gQSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBtaW5pbXVtIGNsb2NrIGFuZ2xlIG9mIHRoZSBlbGxpcHNvaWQuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbbWF4aW11bUNsb2NrPTIqUEldIEEgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbWF4aW11bSBjbG9jayBhbmdsZSBvZiB0aGUgZWxsaXBzb2lkLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IG51bWJlcn0gW21pbmltdW1Db25lPTAuMF0gQSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBtaW5pbXVtIGNvbmUgYW5nbGUgb2YgdGhlIGVsbGlwc29pZC5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBudW1iZXJ9IFttYXhpbXVtQ29uZT1QSV0gQSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBtYXhpbXVtIGNvbmUgYW5nbGUgb2YgdGhlIGVsbGlwc29pZC5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBIZWlnaHRSZWZlcmVuY2V9IFtoZWlnaHRSZWZlcmVuY2U9SGVpZ2h0UmVmZXJlbmNlLk5PTkVdIEEgUHJvcGVydHkgc3BlY2lmeWluZyB3aGF0IHRoZSBoZWlnaHQgZnJvbSB0aGUgZW50aXR5IHBvc2l0aW9uIGlzIHJlbGF0aXZlIHRvLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IGJvb2xlYW59IFtmaWxsPXRydWVdIEEgYm9vbGVhbiBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc29pZCBpcyBmaWxsZWQgd2l0aCB0aGUgcHJvdmlkZWQgbWF0ZXJpYWwuXG4gKiBAcHJvcGVydHkge01hdGVyaWFsUHJvcGVydHkgfCBDb2xvcn0gW21hdGVyaWFsPUNvbG9yLldISVRFXSBBIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG1hdGVyaWFsIHVzZWQgdG8gZmlsbCB0aGUgZWxsaXBzb2lkLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IGJvb2xlYW59IFtvdXRsaW5lPWZhbHNlXSBBIGJvb2xlYW4gUHJvcGVydHkgc3BlY2lmeWluZyB3aGV0aGVyIHRoZSBlbGxpcHNvaWQgaXMgb3V0bGluZWQuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgQ29sb3J9IFtvdXRsaW5lQ29sb3I9Q29sb3IuQkxBQ0tdIEEgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUge0BsaW5rIENvbG9yfSBvZiB0aGUgb3V0bGluZS5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBudW1iZXJ9IFtvdXRsaW5lV2lkdGg9MS4wXSBBIG51bWVyaWMgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgd2lkdGggb2YgdGhlIG91dGxpbmUuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbc3RhY2tQYXJ0aXRpb25zPTY0XSBBIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBzdGFja3MuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgbnVtYmVyfSBbc2xpY2VQYXJ0aXRpb25zPTY0XSBBIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiByYWRpYWwgc2xpY2VzLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eSB8IG51bWJlcn0gW3N1YmRpdmlzaW9ucz0xMjhdIEEgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIHNhbXBsZXMgcGVyIG91dGxpbmUgcmluZywgZGV0ZXJtaW5pbmcgdGhlIGdyYW51bGFyaXR5IG9mIHRoZSBjdXJ2YXR1cmUuXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5IHwgU2hhZG93TW9kZX0gW3NoYWRvd3M9U2hhZG93TW9kZS5ESVNBQkxFRF0gQW4gZW51bSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc29pZCBjYXN0cyBvciByZWNlaXZlcyBzaGFkb3dzIGZyb20gbGlnaHQgc291cmNlcy5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBEaXN0YW5jZURpc3BsYXlDb25kaXRpb259IFtkaXN0YW5jZURpc3BsYXlDb25kaXRpb25dIEEgUHJvcGVydHkgc3BlY2lmeWluZyBhdCB3aGF0IGRpc3RhbmNlIGZyb20gdGhlIGNhbWVyYSB0aGF0IHRoaXMgZWxsaXBzb2lkIHdpbGwgYmUgZGlzcGxheWVkLlxuICovXG5cbi8qKlxuICogRGVzY3JpYmUgYW4gZWxsaXBzb2lkIG9yIHNwaGVyZS4gIFRoZSBjZW50ZXIgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBjb250YWluaW5nIHtAbGluayBFbnRpdHl9LlxuICpcbiAqIEBhbGlhcyBFbGxpcHNvaWRHcmFwaGljc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtFbGxpcHNvaWRHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtvcHRpb25zXSBPYmplY3QgZGVzY3JpYmluZyBpbml0aWFsaXphdGlvbiBvcHRpb25zXG4gKlxuICogQGRlbW8ge0BsaW5rIGh0dHBzOi8vc2FuZGNhc3RsZS5jZXNpdW0uY29tL2luZGV4Lmh0bWw/c3JjPVNwaGVyZXMlMjBhbmQlMjBFbGxpcHNvaWRzLmh0bWx8Q2VzaXVtIFNhbmRjYXN0bGUgU3BoZXJlcyBhbmQgRWxsaXBzb2lkcyBEZW1vfVxuICovXG5mdW5jdGlvbiBFbGxpcHNvaWRHcmFwaGljcyhvcHRpb25zKSB7XG4gIHRoaXMuX2RlZmluaXRpb25DaGFuZ2VkID0gbmV3IEV2ZW50KCk7XG4gIHRoaXMuX3Nob3cgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3Nob3dTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3JhZGlpID0gdW5kZWZpbmVkO1xuICB0aGlzLl9yYWRpaVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5faW5uZXJSYWRpaSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5faW5uZXJSYWRpaVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbWluaW11bUNsb2NrID0gdW5kZWZpbmVkO1xuICB0aGlzLl9taW5pbXVtQ2xvY2tTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX21heGltdW1DbG9jayA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbWF4aW11bUNsb2NrU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9taW5pbXVtQ29uZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbWluaW11bUNvbmVTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX21heGltdW1Db25lID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tYXhpbXVtQ29uZVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5faGVpZ2h0UmVmZXJlbmNlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9oZWlnaHRSZWZlcmVuY2VTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2ZpbGwgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2ZpbGxTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX21hdGVyaWFsID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tYXRlcmlhbFN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fb3V0bGluZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fb3V0bGluZVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fb3V0bGluZUNvbG9yID0gdW5kZWZpbmVkO1xuICB0aGlzLl9vdXRsaW5lQ29sb3JTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX291dGxpbmVXaWR0aCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fb3V0bGluZVdpZHRoU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9zdGFja1BhcnRpdGlvbnMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3N0YWNrUGFydGl0aW9uc1N1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc2xpY2VQYXJ0aXRpb25zID0gdW5kZWZpbmVkO1xuICB0aGlzLl9zbGljZVBhcnRpdGlvbnNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3N1YmRpdmlzaW9ucyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc3ViZGl2aXNpb25zU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9zaGFkb3dzID0gdW5kZWZpbmVkO1xuICB0aGlzLl9zaGFkb3dzU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9kaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2Rpc3RhbmNlRGlzcGxheUNvbmRpdGlvblN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcblxuICB0aGlzLm1lcmdlKGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKSk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyByYWlzZWQgd2hlbmV2ZXIgYSBwcm9wZXJ0eSBvciBzdWItcHJvcGVydHkgaXMgY2hhbmdlZCBvciBtb2RpZmllZC5cbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZVxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnR9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZGVmaW5pdGlvbkNoYW5nZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uQ2hhbmdlZDtcbiAgICB9LFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGJvb2xlYW4gUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZWxsaXBzb2lkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHNob3c6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInNob3dcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUge0BsaW5rIENhcnRlc2lhbjN9IHtAbGluayBQcm9wZXJ0eX0gc3BlY2lmeWluZyB0aGUgcmFkaWkgb2YgdGhlIGVsbGlwc29pZC5cbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKi9cbiAgcmFkaWk6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInJhZGlpXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHtAbGluayBDYXJ0ZXNpYW4zfSB7QGxpbmsgUHJvcGVydHl9IHNwZWNpZnlpbmcgdGhlIGlubmVyIHJhZGlpIG9mIHRoZSBlbGxpcHNvaWQuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgcmFkaWlcbiAgICovXG4gIGlubmVyUmFkaWk6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcImlubmVyUmFkaWlcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbWluaW11bSBjbG9jayBhbmdsZSBvZiB0aGUgZWxsaXBzb2lkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IDAuMFxuICAgKi9cbiAgbWluaW11bUNsb2NrOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJtaW5pbXVtQ2xvY2tcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbWF4aW11bSBjbG9jayBhbmdsZSBvZiB0aGUgZWxsaXBzb2lkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IDIqUElcbiAgICovXG4gIG1heGltdW1DbG9jazogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwibWF4aW11bUNsb2NrXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG1pbmltdW0gY29uZSBhbmdsZSBvZiB0aGUgZWxsaXBzb2lkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IDAuMFxuICAgKi9cbiAgbWluaW11bUNvbmU6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcIm1pbmltdW1Db25lXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG1heGltdW0gY29uZSBhbmdsZSBvZiB0aGUgZWxsaXBzb2lkLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IFBJXG4gICAqL1xuICBtYXhpbXVtQ29uZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwibWF4aW11bUNvbmVcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUge0BsaW5rIEhlaWdodFJlZmVyZW5jZX0uXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgSGVpZ2h0UmVmZXJlbmNlLk5PTkVcbiAgICovXG4gIGhlaWdodFJlZmVyZW5jZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwiaGVpZ2h0UmVmZXJlbmNlXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGJvb2xlYW4gUHJvcGVydHkgc3BlY2lmeWluZyB3aGV0aGVyIHRoZSBlbGxpcHNvaWQgaXMgZmlsbGVkIHdpdGggdGhlIHByb3ZpZGVkIG1hdGVyaWFsLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGZpbGw6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcImZpbGxcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbWF0ZXJpYWwgdXNlZCB0byBmaWxsIHRoZSBlbGxpcHNvaWQuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge01hdGVyaWFsUHJvcGVydHl9XG4gICAqIEBkZWZhdWx0IENvbG9yLldISVRFXG4gICAqL1xuICBtYXRlcmlhbDogY3JlYXRlTWF0ZXJpYWxQcm9wZXJ0eURlc2NyaXB0b3IoXCJtYXRlcmlhbFwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHdoZXRoZXIgdGhlIGVsbGlwc29pZCBpcyBvdXRsaW5lZC5cbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgb3V0bGluZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwib3V0bGluZVwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSB7QGxpbmsgQ29sb3J9IG9mIHRoZSBvdXRsaW5lLlxuICAgKiBAbWVtYmVyb2YgRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqIEBkZWZhdWx0IENvbG9yLkJMQUNLXG4gICAqL1xuICBvdXRsaW5lQ29sb3I6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcIm91dGxpbmVDb2xvclwiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBudW1lcmljIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIHdpZHRoIG9mIHRoZSBvdXRsaW5lLlxuICAgKiA8cD5cbiAgICogTm90ZTogVGhpcyBwcm9wZXJ0eSB3aWxsIGJlIGlnbm9yZWQgb24gYWxsIG1ham9yIGJyb3dzZXJzIG9uIFdpbmRvd3MgcGxhdGZvcm1zLiBGb3IgZGV0YWlscywgc2VlIChAbGluayBodHRwczovL2dpdGh1Yi5jb20vQ2VzaXVtR1MvY2VzaXVtL2lzc3Vlcy80MH0uXG4gICAqIDwvcD5cbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCAxLjBcbiAgICovXG4gIG91dGxpbmVXaWR0aDogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwib3V0bGluZVdpZHRoXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBzdGFja3MuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgNjRcbiAgICovXG4gIHN0YWNrUGFydGl0aW9uczogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwic3RhY2tQYXJ0aXRpb25zXCIpLFxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIFByb3BlcnR5IHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiByYWRpYWwgc2xpY2VzIHBlciAzNjAgZGVncmVlcy5cbiAgICogQG1lbWJlcm9mIEVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKiBAZGVmYXVsdCA2NFxuICAgKi9cbiAgc2xpY2VQYXJ0aXRpb25zOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJzbGljZVBhcnRpdGlvbnNcIiksXG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIHNhbXBsZXMgcGVyIG91dGxpbmUgcmluZywgZGV0ZXJtaW5pbmcgdGhlIGdyYW51bGFyaXR5IG9mIHRoZSBjdXJ2YXR1cmUuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgMTI4XG4gICAqL1xuICBzdWJkaXZpc2lvbnM6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcInN1YmRpdmlzaW9uc1wiKSxcblxuICAvKipcbiAgICogR2V0IG9yIHNldHMgdGhlIGVudW0gUHJvcGVydHkgc3BlY2lmeWluZyB3aGV0aGVyIHRoZSBlbGxpcHNvaWRcbiAgICogY2FzdHMgb3IgcmVjZWl2ZXMgc2hhZG93cyBmcm9tIGxpZ2h0IHNvdXJjZXMuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICogQGRlZmF1bHQgU2hhZG93TW9kZS5ESVNBQkxFRFxuICAgKi9cbiAgc2hhZG93czogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFwic2hhZG93c1wiKSxcblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSB7QGxpbmsgRGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9ufSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIGF0IHdoYXQgZGlzdGFuY2UgZnJvbSB0aGUgY2FtZXJhIHRoYXQgdGhpcyBlbGxpcHNvaWQgd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAqIEBtZW1iZXJvZiBFbGxpcHNvaWRHcmFwaGljcy5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICovXG4gIGRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbjogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgIFwiZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uXCJcbiAgKSxcbn0pO1xuXG4vKipcbiAqIER1cGxpY2F0ZXMgdGhpcyBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0ge0VsbGlwc29pZEdyYXBoaWNzfSBbcmVzdWx0XSBUaGUgb2JqZWN0IG9udG8gd2hpY2ggdG8gc3RvcmUgdGhlIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtFbGxpcHNvaWRHcmFwaGljc30gVGhlIG1vZGlmaWVkIHJlc3VsdCBwYXJhbWV0ZXIgb3IgYSBuZXcgaW5zdGFuY2UgaWYgb25lIHdhcyBub3QgcHJvdmlkZWQuXG4gKi9cbkVsbGlwc29pZEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgaWYgKCFkZWZpbmVkKHJlc3VsdCkpIHtcbiAgICByZXR1cm4gbmV3IEVsbGlwc29pZEdyYXBoaWNzKHRoaXMpO1xuICB9XG4gIHJlc3VsdC5zaG93ID0gdGhpcy5zaG93O1xuICByZXN1bHQucmFkaWkgPSB0aGlzLnJhZGlpO1xuICByZXN1bHQuaW5uZXJSYWRpaSA9IHRoaXMuaW5uZXJSYWRpaTtcbiAgcmVzdWx0Lm1pbmltdW1DbG9jayA9IHRoaXMubWluaW11bUNsb2NrO1xuICByZXN1bHQubWF4aW11bUNsb2NrID0gdGhpcy5tYXhpbXVtQ2xvY2s7XG4gIHJlc3VsdC5taW5pbXVtQ29uZSA9IHRoaXMubWluaW11bUNvbmU7XG4gIHJlc3VsdC5tYXhpbXVtQ29uZSA9IHRoaXMubWF4aW11bUNvbmU7XG4gIHJlc3VsdC5oZWlnaHRSZWZlcmVuY2UgPSB0aGlzLmhlaWdodFJlZmVyZW5jZTtcbiAgcmVzdWx0LmZpbGwgPSB0aGlzLmZpbGw7XG4gIHJlc3VsdC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gIHJlc3VsdC5vdXRsaW5lID0gdGhpcy5vdXRsaW5lO1xuICByZXN1bHQub3V0bGluZUNvbG9yID0gdGhpcy5vdXRsaW5lQ29sb3I7XG4gIHJlc3VsdC5vdXRsaW5lV2lkdGggPSB0aGlzLm91dGxpbmVXaWR0aDtcbiAgcmVzdWx0LnN0YWNrUGFydGl0aW9ucyA9IHRoaXMuc3RhY2tQYXJ0aXRpb25zO1xuICByZXN1bHQuc2xpY2VQYXJ0aXRpb25zID0gdGhpcy5zbGljZVBhcnRpdGlvbnM7XG4gIHJlc3VsdC5zdWJkaXZpc2lvbnMgPSB0aGlzLnN1YmRpdmlzaW9ucztcbiAgcmVzdWx0LnNoYWRvd3MgPSB0aGlzLnNoYWRvd3M7XG4gIHJlc3VsdC5kaXN0YW5jZURpc3BsYXlDb25kaXRpb24gPSB0aGlzLmRpc3RhbmNlRGlzcGxheUNvbmRpdGlvbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQXNzaWducyBlYWNoIHVuYXNzaWduZWQgcHJvcGVydHkgb24gdGhpcyBvYmplY3QgdG8gdGhlIHZhbHVlXG4gKiBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBvbiB0aGUgcHJvdmlkZWQgc291cmNlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0VsbGlwc29pZEdyYXBoaWNzfSBzb3VyY2UgVGhlIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB0aGlzIG9iamVjdC5cbiAqL1xuRWxsaXBzb2lkR3JhcGhpY3MucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQoc291cmNlKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInNvdXJjZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdGhpcy5zaG93ID0gZGVmYXVsdFZhbHVlKHRoaXMuc2hvdywgc291cmNlLnNob3cpO1xuICB0aGlzLnJhZGlpID0gZGVmYXVsdFZhbHVlKHRoaXMucmFkaWksIHNvdXJjZS5yYWRpaSk7XG4gIHRoaXMuaW5uZXJSYWRpaSA9IGRlZmF1bHRWYWx1ZSh0aGlzLmlubmVyUmFkaWksIHNvdXJjZS5pbm5lclJhZGlpKTtcbiAgdGhpcy5taW5pbXVtQ2xvY2sgPSBkZWZhdWx0VmFsdWUodGhpcy5taW5pbXVtQ2xvY2ssIHNvdXJjZS5taW5pbXVtQ2xvY2spO1xuICB0aGlzLm1heGltdW1DbG9jayA9IGRlZmF1bHRWYWx1ZSh0aGlzLm1heGltdW1DbG9jaywgc291cmNlLm1heGltdW1DbG9jayk7XG4gIHRoaXMubWluaW11bUNvbmUgPSBkZWZhdWx0VmFsdWUodGhpcy5taW5pbXVtQ29uZSwgc291cmNlLm1pbmltdW1Db25lKTtcbiAgdGhpcy5tYXhpbXVtQ29uZSA9IGRlZmF1bHRWYWx1ZSh0aGlzLm1heGltdW1Db25lLCBzb3VyY2UubWF4aW11bUNvbmUpO1xuICB0aGlzLmhlaWdodFJlZmVyZW5jZSA9IGRlZmF1bHRWYWx1ZShcbiAgICB0aGlzLmhlaWdodFJlZmVyZW5jZSxcbiAgICBzb3VyY2UuaGVpZ2h0UmVmZXJlbmNlXG4gICk7XG4gIHRoaXMuZmlsbCA9IGRlZmF1bHRWYWx1ZSh0aGlzLmZpbGwsIHNvdXJjZS5maWxsKTtcbiAgdGhpcy5tYXRlcmlhbCA9IGRlZmF1bHRWYWx1ZSh0aGlzLm1hdGVyaWFsLCBzb3VyY2UubWF0ZXJpYWwpO1xuICB0aGlzLm91dGxpbmUgPSBkZWZhdWx0VmFsdWUodGhpcy5vdXRsaW5lLCBzb3VyY2Uub3V0bGluZSk7XG4gIHRoaXMub3V0bGluZUNvbG9yID0gZGVmYXVsdFZhbHVlKHRoaXMub3V0bGluZUNvbG9yLCBzb3VyY2Uub3V0bGluZUNvbG9yKTtcbiAgdGhpcy5vdXRsaW5lV2lkdGggPSBkZWZhdWx0VmFsdWUodGhpcy5vdXRsaW5lV2lkdGgsIHNvdXJjZS5vdXRsaW5lV2lkdGgpO1xuICB0aGlzLnN0YWNrUGFydGl0aW9ucyA9IGRlZmF1bHRWYWx1ZShcbiAgICB0aGlzLnN0YWNrUGFydGl0aW9ucyxcbiAgICBzb3VyY2Uuc3RhY2tQYXJ0aXRpb25zXG4gICk7XG4gIHRoaXMuc2xpY2VQYXJ0aXRpb25zID0gZGVmYXVsdFZhbHVlKFxuICAgIHRoaXMuc2xpY2VQYXJ0aXRpb25zLFxuICAgIHNvdXJjZS5zbGljZVBhcnRpdGlvbnNcbiAgKTtcbiAgdGhpcy5zdWJkaXZpc2lvbnMgPSBkZWZhdWx0VmFsdWUodGhpcy5zdWJkaXZpc2lvbnMsIHNvdXJjZS5zdWJkaXZpc2lvbnMpO1xuICB0aGlzLnNoYWRvd3MgPSBkZWZhdWx0VmFsdWUodGhpcy5zaGFkb3dzLCBzb3VyY2Uuc2hhZG93cyk7XG4gIHRoaXMuZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uID0gZGVmYXVsdFZhbHVlKFxuICAgIHRoaXMuZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uLFxuICAgIHNvdXJjZS5kaXN0YW5jZURpc3BsYXlDb25kaXRpb25cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBFbGxpcHNvaWRHcmFwaGljcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///84088\n')},11895:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51688);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66553);\n/* harmony import */ var _Core_createGuid_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(39960);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14459);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68201);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(72248);\n/* harmony import */ var _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(87811);\n/* harmony import */ var _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(95555);\n/* harmony import */ var _Scene_GroundPolylinePrimitive_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(14978);\n/* harmony import */ var _Scene_GroundPrimitive_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(47780);\n/* harmony import */ var _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(4260);\n/* harmony import */ var _BillboardGraphics_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(44011);\n/* harmony import */ var _BoxGraphics_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(65992);\n/* harmony import */ var _ConstantPositionProperty_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(19069);\n/* harmony import */ var _CorridorGraphics_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(29540);\n/* harmony import */ var _createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(90203);\n/* harmony import */ var _createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(33054);\n/* harmony import */ var _CylinderGraphics_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(95212);\n/* harmony import */ var _EllipseGraphics_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(12438);\n/* harmony import */ var _EllipsoidGraphics_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(84088);\n/* harmony import */ var _LabelGraphics_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(71550);\n/* harmony import */ var _ModelGraphics_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(4949);\n/* harmony import */ var _Cesium3DTilesetGraphics_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(73522);\n/* harmony import */ var _PathGraphics_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(51426);\n/* harmony import */ var _PlaneGraphics_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(23127);\n/* harmony import */ var _PointGraphics_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(35461);\n/* harmony import */ var _PolygonGraphics_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(3081);\n/* harmony import */ var _PolylineGraphics_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(42956);\n/* harmony import */ var _PolylineVolumeGraphics_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(96410);\n/* harmony import */ var _Property_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(40112);\n/* harmony import */ var _PropertyBag_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(54065);\n/* harmony import */ var _RectangleGraphics_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(85441);\n/* harmony import */ var _WallGraphics_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(65269);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar cartoScratch = new _Core_Cartographic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z();\n\nfunction createConstantPositionProperty(value) {\n  return new _ConstantPositionProperty_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z(value);\n}\n\nfunction createPositionPropertyDescriptor(name) {\n  return (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(\n    name,\n    undefined,\n    createConstantPositionProperty\n  );\n}\n\nfunction createPropertyTypeDescriptor(name, Type) {\n  return (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)(name, undefined, function (value) {\n    if (value instanceof Type) {\n      return value;\n    }\n    return new Type(value);\n  });\n}\n\n/**\n * @typedef {Object} Entity.ConstructorOptions\n *\n * Initialization options for the Entity constructor\n *\n * @property {String} [id] A unique identifier for this object. If none is provided, a GUID is generated.\n * @property {String} [name] A human readable name to display to users. It does not have to be unique.\n * @property {TimeIntervalCollection} [availability] The availability, if any, associated with this object.\n * @property {Boolean} [show] A boolean value indicating if the entity and its children are displayed.\n * @property {Property | string} [description] A string Property specifying an HTML description for this entity.\n * @property {PositionProperty | Cartesian3} [position] A Property specifying the entity position.\n * @property {Property} [orientation] A Property specifying the entity orientation.\n * @property {Property} [viewFrom] A suggested initial offset for viewing this object.\n * @property {Entity} [parent] A parent entity to associate with this entity.\n * @property {BillboardGraphics | BillboardGraphics.ConstructorOptions} [billboard] A billboard to associate with this entity.\n * @property {BoxGraphics | BoxGraphics.ConstructorOptions} [box] A box to associate with this entity.\n * @property {CorridorGraphics | CorridorGraphics.ConstructorOptions} [corridor] A corridor to associate with this entity.\n * @property {CylinderGraphics | CylinderGraphics.ConstructorOptions} [cylinder] A cylinder to associate with this entity.\n * @property {EllipseGraphics | EllipseGraphics.ConstructorOptions} [ellipse] A ellipse to associate with this entity.\n * @property {EllipsoidGraphics | EllipsoidGraphics.ConstructorOptions} [ellipsoid] A ellipsoid to associate with this entity.\n * @property {LabelGraphics | LabelGraphics.ConstructorOptions} [label] A options.label to associate with this entity.\n * @property {ModelGraphics | ModelGraphics.ConstructorOptions} [model] A model to associate with this entity.\n * @property {Cesium3DTilesetGraphics | Cesium3DTilesetGraphics.ConstructorOptions} [tileset] A 3D Tiles tileset to associate with this entity.\n * @property {PathGraphics | PathGraphics.ConstructorOptions} [path] A path to associate with this entity.\n * @property {PlaneGraphics | PlaneGraphics.ConstructorOptions} [plane] A plane to associate with this entity.\n * @property {PointGraphics | PointGraphics.ConstructorOptions} [point] A point to associate with this entity.\n * @property {PolygonGraphics | PolygonGraphics.ConstructorOptions} [polygon] A polygon to associate with this entity.\n * @property {PolylineGraphics | PolylineGraphics.ConstructorOptions} [polyline] A polyline to associate with this entity.\n * @property {PropertyBag | Object.<string,*>} [properties] Arbitrary properties to associate with this entity.\n * @property {PolylineVolumeGraphics | PolylineVolumeGraphics.ConstructorOptions} [polylineVolume] A polylineVolume to associate with this entity.\n * @property {RectangleGraphics | RectangleGraphics.ConstructorOptions} [rectangle] A rectangle to associate with this entity.\n * @property {WallGraphics | WallGraphics.ConstructorOptions} [wall] A wall to associate with this entity.\n */\n\n/**\n * Entity instances aggregate multiple forms of visualization into a single high-level object.\n * They can be created manually and added to {@link Viewer#entities} or be produced by\n * data sources, such as {@link CzmlDataSource} and {@link GeoJsonDataSource}.\n * @alias Entity\n * @constructor\n *\n * @param {Entity.ConstructorOptions} [options] Object describing initialization options\n *\n * @see {@link https://cesium.com/learn/cesiumjs-learn/cesiumjs-creating-entities/|Creating Entities}\n */\nfunction Entity(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  var id = options.id;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(id)) {\n    id = (0,_Core_createGuid_js__WEBPACK_IMPORTED_MODULE_37__/* ["default"] */ .Z)();\n  }\n\n  this._availability = undefined;\n  this._id = id;\n  this._definitionChanged = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z();\n  this._name = options.name;\n  this._show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.show, true);\n  this._parent = undefined;\n  this._propertyNames = [\n    "billboard",\n    "box",\n    "corridor",\n    "cylinder",\n    "description",\n    "ellipse", //\n    "ellipsoid",\n    "label",\n    "model",\n    "tileset",\n    "orientation",\n    "path",\n    "plane",\n    "point",\n    "polygon", //\n    "polyline",\n    "polylineVolume",\n    "position",\n    "properties",\n    "rectangle",\n    "viewFrom",\n    "wall",\n  ];\n\n  this._billboard = undefined;\n  this._billboardSubscription = undefined;\n  this._box = undefined;\n  this._boxSubscription = undefined;\n  this._corridor = undefined;\n  this._corridorSubscription = undefined;\n  this._cylinder = undefined;\n  this._cylinderSubscription = undefined;\n  this._description = undefined;\n  this._descriptionSubscription = undefined;\n  this._ellipse = undefined;\n  this._ellipseSubscription = undefined;\n  this._ellipsoid = undefined;\n  this._ellipsoidSubscription = undefined;\n  this._label = undefined;\n  this._labelSubscription = undefined;\n  this._model = undefined;\n  this._modelSubscription = undefined;\n  this._tileset = undefined;\n  this._tilesetSubscription = undefined;\n  this._orientation = undefined;\n  this._orientationSubscription = undefined;\n  this._path = undefined;\n  this._pathSubscription = undefined;\n  this._plane = undefined;\n  this._planeSubscription = undefined;\n  this._point = undefined;\n  this._pointSubscription = undefined;\n  this._polygon = undefined;\n  this._polygonSubscription = undefined;\n  this._polyline = undefined;\n  this._polylineSubscription = undefined;\n  this._polylineVolume = undefined;\n  this._polylineVolumeSubscription = undefined;\n  this._position = undefined;\n  this._positionSubscription = undefined;\n  this._properties = undefined;\n  this._propertiesSubscription = undefined;\n  this._rectangle = undefined;\n  this._rectangleSubscription = undefined;\n  this._viewFrom = undefined;\n  this._viewFromSubscription = undefined;\n  this._wall = undefined;\n  this._wallSubscription = undefined;\n  this._children = [];\n\n  /**\n   * Gets or sets the entity collection that this entity belongs to.\n   * @type {EntityCollection}\n   */\n  this.entityCollection = undefined;\n\n  this.parent = options.parent;\n  this.merge(options);\n}\n\nfunction updateShow(entity, children, isShowing) {\n  var length = children.length;\n  for (var i = 0; i < length; i++) {\n    var child = children[i];\n    var childShow = child._show;\n    var oldValue = !isShowing && childShow;\n    var newValue = isShowing && childShow;\n    if (oldValue !== newValue) {\n      updateShow(child, child._children, isShowing);\n    }\n  }\n  entity._definitionChanged.raiseEvent(\n    entity,\n    "isShowing",\n    isShowing,\n    !isShowing\n  );\n}\n\nObject.defineProperties(Entity.prototype, {\n  /**\n   * The availability, if any, associated with this object.\n   * If availability is undefined, it is assumed that this object\'s\n   * other properties will return valid data for any provided time.\n   * If availability exists, the objects other properties will only\n   * provide valid data if queried within the given interval.\n   * @memberof Entity.prototype\n   * @type {TimeIntervalCollection|undefined}\n   */\n  availability: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)("availability"),\n  /**\n   * Gets the unique ID associated with this object.\n   * @memberof Entity.prototype\n   * @type {String}\n   */\n  id: {\n    get: function () {\n      return this._id;\n    },\n  },\n  /**\n   * Gets the event that is raised whenever a property or sub-property is changed or modified.\n   * @memberof Entity.prototype\n   *\n   * @type {Event}\n   * @readonly\n   */\n  definitionChanged: {\n    get: function () {\n      return this._definitionChanged;\n    },\n  },\n  /**\n   * Gets or sets the name of the object.  The name is intended for end-user\n   * consumption and does not need to be unique.\n   * @memberof Entity.prototype\n   * @type {String|undefined}\n   */\n  name: (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)("name"),\n  /**\n   * Gets or sets whether this entity should be displayed. When set to true,\n   * the entity is only displayed if the parent entity\'s show property is also true.\n   * @memberof Entity.prototype\n   * @type {Boolean}\n   */\n  show: {\n    get: function () {\n      return this._show;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(value)) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z("value is required.");\n      }\n      //>>includeEnd(\'debug\');\n\n      if (value === this._show) {\n        return;\n      }\n\n      var wasShowing = this.isShowing;\n      this._show = value;\n      var isShowing = this.isShowing;\n\n      if (wasShowing !== isShowing) {\n        updateShow(this, this._children, isShowing);\n      }\n\n      this._definitionChanged.raiseEvent(this, "show", value, !value);\n    },\n  },\n  /**\n   * Gets whether this entity is being displayed, taking into account\n   * the visibility of any ancestor entities.\n   * @memberof Entity.prototype\n   * @type {Boolean}\n   */\n  isShowing: {\n    get: function () {\n      return (\n        this._show &&\n        (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this.entityCollection) || this.entityCollection.show) &&\n        (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(this._parent) || this._parent.isShowing)\n      );\n    },\n  },\n  /**\n   * Gets or sets the parent object.\n   * @memberof Entity.prototype\n   * @type {Entity|undefined}\n   */\n  parent: {\n    get: function () {\n      return this._parent;\n    },\n    set: function (value) {\n      var oldValue = this._parent;\n\n      if (oldValue === value) {\n        return;\n      }\n\n      var wasShowing = this.isShowing;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(oldValue)) {\n        var index = oldValue._children.indexOf(this);\n        oldValue._children.splice(index, 1);\n      }\n\n      this._parent = value;\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(value)) {\n        value._children.push(this);\n      }\n\n      var isShowing = this.isShowing;\n\n      if (wasShowing !== isShowing) {\n        updateShow(this, this._children, isShowing);\n      }\n\n      this._definitionChanged.raiseEvent(this, "parent", value, oldValue);\n    },\n  },\n  /**\n   * Gets the names of all properties registered on this instance.\n   * @memberof Entity.prototype\n   * @type {string[]}\n   */\n  propertyNames: {\n    get: function () {\n      return this._propertyNames;\n    },\n  },\n  /**\n   * Gets or sets the billboard.\n   * @memberof Entity.prototype\n   * @type {BillboardGraphics|undefined}\n   */\n  billboard: createPropertyTypeDescriptor("billboard", _BillboardGraphics_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the box.\n   * @memberof Entity.prototype\n   * @type {BoxGraphics|undefined}\n   */\n  box: createPropertyTypeDescriptor("box", _BoxGraphics_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the corridor.\n   * @memberof Entity.prototype\n   * @type {CorridorGraphics|undefined}\n   */\n  corridor: createPropertyTypeDescriptor("corridor", _CorridorGraphics_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the cylinder.\n   * @memberof Entity.prototype\n   * @type {CylinderGraphics|undefined}\n   */\n  cylinder: createPropertyTypeDescriptor("cylinder", _CylinderGraphics_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the description.\n   * @memberof Entity.prototype\n   * @type {Property|undefined}\n   */\n  description: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)("description"),\n  /**\n   * Gets or sets the ellipse.\n   * @memberof Entity.prototype\n   * @type {EllipseGraphics|undefined}\n   */\n  ellipse: createPropertyTypeDescriptor("ellipse", _EllipseGraphics_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the ellipsoid.\n   * @memberof Entity.prototype\n   * @type {EllipsoidGraphics|undefined}\n   */\n  ellipsoid: createPropertyTypeDescriptor("ellipsoid", _EllipsoidGraphics_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the label.\n   * @memberof Entity.prototype\n   * @type {LabelGraphics|undefined}\n   */\n  label: createPropertyTypeDescriptor("label", _LabelGraphics_js__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the model.\n   * @memberof Entity.prototype\n   * @type {ModelGraphics|undefined}\n   */\n  model: createPropertyTypeDescriptor("model", _ModelGraphics_js__WEBPACK_IMPORTED_MODULE_24__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the tileset.\n   * @memberof Entity.prototype\n   * @type {Cesium3DTilesetGraphics|undefined}\n   */\n  tileset: createPropertyTypeDescriptor("tileset", _Cesium3DTilesetGraphics_js__WEBPACK_IMPORTED_MODULE_25__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the orientation.\n   * @memberof Entity.prototype\n   * @type {Property|undefined}\n   */\n  orientation: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)("orientation"),\n  /**\n   * Gets or sets the path.\n   * @memberof Entity.prototype\n   * @type {PathGraphics|undefined}\n   */\n  path: createPropertyTypeDescriptor("path", _PathGraphics_js__WEBPACK_IMPORTED_MODULE_26__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the plane.\n   * @memberof Entity.prototype\n   * @type {PlaneGraphics|undefined}\n   */\n  plane: createPropertyTypeDescriptor("plane", _PlaneGraphics_js__WEBPACK_IMPORTED_MODULE_27__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the point graphic.\n   * @memberof Entity.prototype\n   * @type {PointGraphics|undefined}\n   */\n  point: createPropertyTypeDescriptor("point", _PointGraphics_js__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the polygon.\n   * @memberof Entity.prototype\n   * @type {PolygonGraphics|undefined}\n   */\n  polygon: createPropertyTypeDescriptor("polygon", _PolygonGraphics_js__WEBPACK_IMPORTED_MODULE_29__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the polyline.\n   * @memberof Entity.prototype\n   * @type {PolylineGraphics|undefined}\n   */\n  polyline: createPropertyTypeDescriptor("polyline", _PolylineGraphics_js__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the polyline volume.\n   * @memberof Entity.prototype\n   * @type {PolylineVolumeGraphics|undefined}\n   */\n  polylineVolume: createPropertyTypeDescriptor(\n    "polylineVolume",\n    _PolylineVolumeGraphics_js__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .Z\n  ),\n  /**\n   * Gets or sets the bag of arbitrary properties associated with this entity.\n   * @memberof Entity.prototype\n   * @type {PropertyBag|undefined}\n   */\n  properties: createPropertyTypeDescriptor("properties", _PropertyBag_js__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the position.\n   * @memberof Entity.prototype\n   * @type {PositionProperty|undefined}\n   */\n  position: createPositionPropertyDescriptor("position"),\n  /**\n   * Gets or sets the rectangle.\n   * @memberof Entity.prototype\n   * @type {RectangleGraphics|undefined}\n   */\n  rectangle: createPropertyTypeDescriptor("rectangle", _RectangleGraphics_js__WEBPACK_IMPORTED_MODULE_34__/* ["default"] */ .Z),\n  /**\n   * Gets or sets the suggested initial offset when tracking this object.\n   * The offset is typically defined in the east-north-up reference frame,\n   * but may be another frame depending on the object\'s velocity.\n   * @memberof Entity.prototype\n   * @type {Property|undefined}\n   */\n  viewFrom: (0,_createPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z)("viewFrom"),\n  /**\n   * Gets or sets the wall.\n   * @memberof Entity.prototype\n   * @type {WallGraphics|undefined}\n   */\n  wall: createPropertyTypeDescriptor("wall", _WallGraphics_js__WEBPACK_IMPORTED_MODULE_35__/* ["default"] */ .Z),\n});\n\n/**\n * Given a time, returns true if this object should have data during that time.\n *\n * @param {JulianDate} time The time to check availability for.\n * @returns {Boolean} true if the object should have data during the provided time, false otherwise.\n */\nEntity.prototype.isAvailable = function (time) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(time)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z("time is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var availability = this._availability;\n  return !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(availability) || availability.contains(time);\n};\n\n/**\n * Adds a property to this object.  Once a property is added, it can be\n * observed with {@link Entity#definitionChanged} and composited\n * with {@link CompositeEntityCollection}\n *\n * @param {String} propertyName The name of the property to add.\n *\n * @exception {DeveloperError} "propertyName" is a reserved property name.\n * @exception {DeveloperError} "propertyName" is already a registered property.\n */\nEntity.prototype.addProperty = function (propertyName) {\n  var propertyNames = this._propertyNames;\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(propertyName)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z("propertyName is required.");\n  }\n  if (propertyNames.indexOf(propertyName) !== -1) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(\n      propertyName + " is already a registered property."\n    );\n  }\n  if (propertyName in this) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(propertyName + " is a reserved property name.");\n  }\n  //>>includeEnd(\'debug\');\n\n  propertyNames.push(propertyName);\n  Object.defineProperty(\n    this,\n    propertyName,\n    (0,_createRawPropertyDescriptor_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z)(propertyName, true)\n  );\n};\n\n/**\n * Removed a property previously added with addProperty.\n *\n * @param {String} propertyName The name of the property to remove.\n *\n * @exception {DeveloperError} "propertyName" is a reserved property name.\n * @exception {DeveloperError} "propertyName" is not a registered property.\n */\nEntity.prototype.removeProperty = function (propertyName) {\n  var propertyNames = this._propertyNames;\n  var index = propertyNames.indexOf(propertyName);\n\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(propertyName)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z("propertyName is required.");\n  }\n  if (index === -1) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(propertyName + " is not a registered property.");\n  }\n  //>>includeEnd(\'debug\');\n\n  this._propertyNames.splice(index, 1);\n  delete this[propertyName];\n};\n\n/**\n * Assigns each unassigned property on this object to the value\n * of the same property on the provided source object.\n *\n * @param {Entity} source The object to be merged into this object.\n */\nEntity.prototype.merge = function (source) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(source)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z("source is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  //Name, show, and availability are not Property objects and are currently handled differently.\n  //source.show is intentionally ignored because this.show always has a value.\n  this.name = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this.name, source.name);\n  this.availability = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this.availability, source.availability);\n\n  var propertyNames = this._propertyNames;\n  var sourcePropertyNames = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(source._propertyNames)\n    ? source._propertyNames\n    : Object.keys(source);\n  var propertyNamesLength = sourcePropertyNames.length;\n  for (var i = 0; i < propertyNamesLength; i++) {\n    var name = sourcePropertyNames[i];\n\n    //While source is required by the API to be an Entity, we internally call this method from the\n    //constructor with an options object to configure initial custom properties.\n    //So we need to ignore reserved-non-property.\n    if (name === "parent" || name === "name" || name === "availability") {\n      continue;\n    }\n\n    var targetProperty = this[name];\n    var sourceProperty = source[name];\n\n    //Custom properties that are registered on the source entity must also\n    //get registered on this entity.\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(targetProperty) && propertyNames.indexOf(name) === -1) {\n      this.addProperty(name);\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(sourceProperty)) {\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(targetProperty)) {\n        if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(targetProperty.merge)) {\n          targetProperty.merge(sourceProperty);\n        }\n      } else if (\n        (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(sourceProperty.merge) &&\n        (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(sourceProperty.clone)\n      ) {\n        this[name] = sourceProperty.clone();\n      } else {\n        this[name] = sourceProperty;\n      }\n    }\n  }\n};\n\nvar matrix3Scratch = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\nvar positionScratch = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar orientationScratch = new _Core_Quaternion_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z();\n\n/**\n * Computes the model matrix for the entity\'s transform at specified time. Returns undefined if orientation or position\n * are undefined.\n *\n * @param {JulianDate} time The time to retrieve model matrix for.\n * @param {Matrix4} [result] The object onto which to store the result.\n *\n * @returns {Matrix4} The modified result parameter or a new Matrix4 instance if one was not provided. Result is undefined if position or orientation are undefined.\n */\nEntity.prototype.computeModelMatrix = function (time, result) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.object */ .Z.typeOf.object("time", time);\n  //>>includeEnd(\'debug\');\n  var position = _Property_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    this._position,\n    time,\n    positionScratch\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(position)) {\n    return undefined;\n  }\n\n  var orientation = _Property_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    this._orientation,\n    time,\n    orientationScratch\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(orientation)) {\n    result = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].eastNorthUpToFixedFrame */ .Z.eastNorthUpToFixedFrame(position, undefined, result);\n  } else {\n    result = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].fromRotationTranslation */ .Z.fromRotationTranslation(\n      _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].fromQuaternion */ .Z.fromQuaternion(orientation, matrix3Scratch),\n      position,\n      result\n    );\n  }\n  return result;\n};\n\n/**\n * @private\n */\nEntity.prototype.computeModelMatrixForHeightReference = function (\n  time,\n  heightReferenceProperty,\n  heightOffset,\n  ellipsoid,\n  result\n) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].typeOf.object */ .Z.typeOf.object("time", time);\n  //>>includeEnd(\'debug\');\n  var heightReference = _Property_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"].getValueOrDefault */ .Z.getValueOrDefault(\n    heightReferenceProperty,\n    time,\n    _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].NONE */ .Z.NONE\n  );\n  var position = _Property_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    this._position,\n    time,\n    positionScratch\n  );\n  if (\n    heightReference === _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].NONE */ .Z.NONE ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(position) ||\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equalsEpsilon */ .Z.equalsEpsilon(position, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO, _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].EPSILON8 */ .Z.EPSILON8)\n  ) {\n    return this.computeModelMatrix(time, result);\n  }\n\n  var carto = ellipsoid.cartesianToCartographic(position, cartoScratch);\n  if (heightReference === _Scene_HeightReference_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].CLAMP_TO_GROUND */ .Z.CLAMP_TO_GROUND) {\n    carto.height = heightOffset;\n  } else {\n    carto.height += heightOffset;\n  }\n  position = ellipsoid.cartographicToCartesian(carto, position);\n\n  var orientation = _Property_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"].getValueOrUndefined */ .Z.getValueOrUndefined(\n    this._orientation,\n    time,\n    orientationScratch\n  );\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_36__/* ["default"] */ .Z)(orientation)) {\n    result = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].eastNorthUpToFixedFrame */ .Z.eastNorthUpToFixedFrame(position, undefined, result);\n  } else {\n    result = _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].fromRotationTranslation */ .Z.fromRotationTranslation(\n      _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].fromQuaternion */ .Z.fromQuaternion(orientation, matrix3Scratch),\n      position,\n      result\n    );\n  }\n  return result;\n};\n\n/**\n * Checks if the given Scene supports materials besides Color on Entities draped on terrain or 3D Tiles.\n * If this feature is not supported, Entities with non-color materials but no `height` will\n * instead be rendered as if height is 0.\n *\n * @param {Scene} scene The current scene.\n * @returns {Boolean} Whether or not the current scene supports materials for entities on terrain.\n */\nEntity.supportsMaterialsforEntitiesOnTerrain = function (scene) {\n  return _Scene_GroundPrimitive_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"].supportsMaterials */ .Z.supportsMaterials(scene);\n};\n\n/**\n * Checks if the given Scene supports polylines clamped to terrain or 3D Tiles.\n * If this feature is not supported, Entities with PolylineGraphics will be rendered with vertices at\n * the provided heights and using the `arcType` parameter instead of clamped to the ground.\n *\n * @param {Scene} scene The current scene.\n * @returns {Boolean} Whether or not the current scene supports polylines on terrain or 3D TIles.\n */\nEntity.supportsPolylinesOnTerrain = function (scene) {\n  return _Scene_GroundPolylinePrimitive_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].isSupported */ .Z.isSupported(scene);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (Entity);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0Isc0dBQTRCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxzRUFBTztBQUNkLGFBQWEscUhBQWtDO0FBQy9DLElBQUk7QUFDSixhQUFhLGlIQUErQjtBQUM1QyxNQUFNLCtGQUFzQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLFNBQVMsK0dBQWlDO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxTQUFTLDJHQUFtQztBQUM1QztBQUNBLHlEQUFlLE1BQU0sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9FbnRpdHkuanM/Yjg0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCIuLi9Db3JlL0NhcnRvZ3JhcGhpYy5qc1wiO1xuaW1wb3J0IENoZWNrIGZyb20gXCIuLi9Db3JlL0NoZWNrLmpzXCI7XG5pbXBvcnQgY3JlYXRlR3VpZCBmcm9tIFwiLi4vQ29yZS9jcmVhdGVHdWlkLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IERldmVsb3BlckVycm9yIGZyb20gXCIuLi9Db3JlL0RldmVsb3BlckVycm9yLmpzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL0NvcmUvRXZlbnQuanNcIjtcbmltcG9ydCBDZXNpdW1NYXRoIGZyb20gXCIuLi9Db3JlL01hdGguanNcIjtcbmltcG9ydCBNYXRyaXgzIGZyb20gXCIuLi9Db3JlL01hdHJpeDMuanNcIjtcbmltcG9ydCBNYXRyaXg0IGZyb20gXCIuLi9Db3JlL01hdHJpeDQuanNcIjtcbmltcG9ydCBRdWF0ZXJuaW9uIGZyb20gXCIuLi9Db3JlL1F1YXRlcm5pb24uanNcIjtcbmltcG9ydCBUcmFuc2Zvcm1zIGZyb20gXCIuLi9Db3JlL1RyYW5zZm9ybXMuanNcIjtcbmltcG9ydCBHcm91bmRQb2x5bGluZVByaW1pdGl2ZSBmcm9tIFwiLi4vU2NlbmUvR3JvdW5kUG9seWxpbmVQcmltaXRpdmUuanNcIjtcbmltcG9ydCBHcm91bmRQcmltaXRpdmUgZnJvbSBcIi4uL1NjZW5lL0dyb3VuZFByaW1pdGl2ZS5qc1wiO1xuaW1wb3J0IEhlaWdodFJlZmVyZW5jZSBmcm9tIFwiLi4vU2NlbmUvSGVpZ2h0UmVmZXJlbmNlLmpzXCI7XG5pbXBvcnQgQmlsbGJvYXJkR3JhcGhpY3MgZnJvbSBcIi4vQmlsbGJvYXJkR3JhcGhpY3MuanNcIjtcbmltcG9ydCBCb3hHcmFwaGljcyBmcm9tIFwiLi9Cb3hHcmFwaGljcy5qc1wiO1xuaW1wb3J0IENvbnN0YW50UG9zaXRpb25Qcm9wZXJ0eSBmcm9tIFwiLi9Db25zdGFudFBvc2l0aW9uUHJvcGVydHkuanNcIjtcbmltcG9ydCBDb3JyaWRvckdyYXBoaWNzIGZyb20gXCIuL0NvcnJpZG9yR3JhcGhpY3MuanNcIjtcbmltcG9ydCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgZnJvbSBcIi4vY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yLmpzXCI7XG5pbXBvcnQgY3JlYXRlUmF3UHJvcGVydHlEZXNjcmlwdG9yIGZyb20gXCIuL2NyZWF0ZVJhd1Byb3BlcnR5RGVzY3JpcHRvci5qc1wiO1xuaW1wb3J0IEN5bGluZGVyR3JhcGhpY3MgZnJvbSBcIi4vQ3lsaW5kZXJHcmFwaGljcy5qc1wiO1xuaW1wb3J0IEVsbGlwc2VHcmFwaGljcyBmcm9tIFwiLi9FbGxpcHNlR3JhcGhpY3MuanNcIjtcbmltcG9ydCBFbGxpcHNvaWRHcmFwaGljcyBmcm9tIFwiLi9FbGxpcHNvaWRHcmFwaGljcy5qc1wiO1xuaW1wb3J0IExhYmVsR3JhcGhpY3MgZnJvbSBcIi4vTGFiZWxHcmFwaGljcy5qc1wiO1xuaW1wb3J0IE1vZGVsR3JhcGhpY3MgZnJvbSBcIi4vTW9kZWxHcmFwaGljcy5qc1wiO1xuaW1wb3J0IENlc2l1bTNEVGlsZXNldEdyYXBoaWNzIGZyb20gXCIuL0Nlc2l1bTNEVGlsZXNldEdyYXBoaWNzLmpzXCI7XG5pbXBvcnQgUGF0aEdyYXBoaWNzIGZyb20gXCIuL1BhdGhHcmFwaGljcy5qc1wiO1xuaW1wb3J0IFBsYW5lR3JhcGhpY3MgZnJvbSBcIi4vUGxhbmVHcmFwaGljcy5qc1wiO1xuaW1wb3J0IFBvaW50R3JhcGhpY3MgZnJvbSBcIi4vUG9pbnRHcmFwaGljcy5qc1wiO1xuaW1wb3J0IFBvbHlnb25HcmFwaGljcyBmcm9tIFwiLi9Qb2x5Z29uR3JhcGhpY3MuanNcIjtcbmltcG9ydCBQb2x5bGluZUdyYXBoaWNzIGZyb20gXCIuL1BvbHlsaW5lR3JhcGhpY3MuanNcIjtcbmltcG9ydCBQb2x5bGluZVZvbHVtZUdyYXBoaWNzIGZyb20gXCIuL1BvbHlsaW5lVm9sdW1lR3JhcGhpY3MuanNcIjtcbmltcG9ydCBQcm9wZXJ0eSBmcm9tIFwiLi9Qcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IFByb3BlcnR5QmFnIGZyb20gXCIuL1Byb3BlcnR5QmFnLmpzXCI7XG5pbXBvcnQgUmVjdGFuZ2xlR3JhcGhpY3MgZnJvbSBcIi4vUmVjdGFuZ2xlR3JhcGhpY3MuanNcIjtcbmltcG9ydCBXYWxsR3JhcGhpY3MgZnJvbSBcIi4vV2FsbEdyYXBoaWNzLmpzXCI7XG5cbnZhciBjYXJ0b1NjcmF0Y2ggPSBuZXcgQ2FydG9ncmFwaGljKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnN0YW50UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSkge1xuICByZXR1cm4gbmV3IENvbnN0YW50UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uUHJvcGVydHlEZXNjcmlwdG9yKG5hbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcbiAgICBuYW1lLFxuICAgIHVuZGVmaW5lZCxcbiAgICBjcmVhdGVDb25zdGFudFBvc2l0aW9uUHJvcGVydHlcbiAgKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlUeXBlRGVzY3JpcHRvcihuYW1lLCBUeXBlKSB7XG4gIHJldHVybiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVHlwZSh2YWx1ZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVudGl0eS5Db25zdHJ1Y3Rvck9wdGlvbnNcbiAqXG4gKiBJbml0aWFsaXphdGlvbiBvcHRpb25zIGZvciB0aGUgRW50aXR5IGNvbnN0cnVjdG9yXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtpZF0gQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBvYmplY3QuIElmIG5vbmUgaXMgcHJvdmlkZWQsIGEgR1VJRCBpcyBnZW5lcmF0ZWQuXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW25hbWVdIEEgaHVtYW4gcmVhZGFibGUgbmFtZSB0byBkaXNwbGF5IHRvIHVzZXJzLiBJdCBkb2VzIG5vdCBoYXZlIHRvIGJlIHVuaXF1ZS5cbiAqIEBwcm9wZXJ0eSB7VGltZUludGVydmFsQ29sbGVjdGlvbn0gW2F2YWlsYWJpbGl0eV0gVGhlIGF2YWlsYWJpbGl0eSwgaWYgYW55LCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtzaG93XSBBIGJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgZW50aXR5IGFuZCBpdHMgY2hpbGRyZW4gYXJlIGRpc3BsYXllZC5cbiAqIEBwcm9wZXJ0eSB7UHJvcGVydHkgfCBzdHJpbmd9IFtkZXNjcmlwdGlvbl0gQSBzdHJpbmcgUHJvcGVydHkgc3BlY2lmeWluZyBhbiBIVE1MIGRlc2NyaXB0aW9uIGZvciB0aGlzIGVudGl0eS5cbiAqIEBwcm9wZXJ0eSB7UG9zaXRpb25Qcm9wZXJ0eSB8IENhcnRlc2lhbjN9IFtwb3NpdGlvbl0gQSBQcm9wZXJ0eSBzcGVjaWZ5aW5nIHRoZSBlbnRpdHkgcG9zaXRpb24uXG4gKiBAcHJvcGVydHkge1Byb3BlcnR5fSBbb3JpZW50YXRpb25dIEEgUHJvcGVydHkgc3BlY2lmeWluZyB0aGUgZW50aXR5IG9yaWVudGF0aW9uLlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eX0gW3ZpZXdGcm9tXSBBIHN1Z2dlc3RlZCBpbml0aWFsIG9mZnNldCBmb3Igdmlld2luZyB0aGlzIG9iamVjdC5cbiAqIEBwcm9wZXJ0eSB7RW50aXR5fSBbcGFyZW50XSBBIHBhcmVudCBlbnRpdHkgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge0JpbGxib2FyZEdyYXBoaWNzIHwgQmlsbGJvYXJkR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbYmlsbGJvYXJkXSBBIGJpbGxib2FyZCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGVudGl0eS5cbiAqIEBwcm9wZXJ0eSB7Qm94R3JhcGhpY3MgfCBCb3hHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtib3hdIEEgYm94IHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZW50aXR5LlxuICogQHByb3BlcnR5IHtDb3JyaWRvckdyYXBoaWNzIHwgQ29ycmlkb3JHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtjb3JyaWRvcl0gQSBjb3JyaWRvciB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGVudGl0eS5cbiAqIEBwcm9wZXJ0eSB7Q3lsaW5kZXJHcmFwaGljcyB8IEN5bGluZGVyR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbY3lsaW5kZXJdIEEgY3lsaW5kZXIgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge0VsbGlwc2VHcmFwaGljcyB8IEVsbGlwc2VHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtlbGxpcHNlXSBBIGVsbGlwc2UgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge0VsbGlwc29pZEdyYXBoaWNzIHwgRWxsaXBzb2lkR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbZWxsaXBzb2lkXSBBIGVsbGlwc29pZCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGVudGl0eS5cbiAqIEBwcm9wZXJ0eSB7TGFiZWxHcmFwaGljcyB8IExhYmVsR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbbGFiZWxdIEEgb3B0aW9ucy5sYWJlbCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGVudGl0eS5cbiAqIEBwcm9wZXJ0eSB7TW9kZWxHcmFwaGljcyB8IE1vZGVsR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbbW9kZWxdIEEgbW9kZWwgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge0Nlc2l1bTNEVGlsZXNldEdyYXBoaWNzIHwgQ2VzaXVtM0RUaWxlc2V0R3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbdGlsZXNldF0gQSAzRCBUaWxlcyB0aWxlc2V0IHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZW50aXR5LlxuICogQHByb3BlcnR5IHtQYXRoR3JhcGhpY3MgfCBQYXRoR3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbcGF0aF0gQSBwYXRoIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZW50aXR5LlxuICogQHByb3BlcnR5IHtQbGFuZUdyYXBoaWNzIHwgUGxhbmVHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtwbGFuZV0gQSBwbGFuZSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGVudGl0eS5cbiAqIEBwcm9wZXJ0eSB7UG9pbnRHcmFwaGljcyB8IFBvaW50R3JhcGhpY3MuQ29uc3RydWN0b3JPcHRpb25zfSBbcG9pbnRdIEEgcG9pbnQgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge1BvbHlnb25HcmFwaGljcyB8IFBvbHlnb25HcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtwb2x5Z29uXSBBIHBvbHlnb24gdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge1BvbHlsaW5lR3JhcGhpY3MgfCBQb2x5bGluZUdyYXBoaWNzLkNvbnN0cnVjdG9yT3B0aW9uc30gW3BvbHlsaW5lXSBBIHBvbHlsaW5lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZW50aXR5LlxuICogQHByb3BlcnR5IHtQcm9wZXJ0eUJhZyB8IE9iamVjdC48c3RyaW5nLCo+fSBbcHJvcGVydGllc10gQXJiaXRyYXJ5IHByb3BlcnRpZXMgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge1BvbHlsaW5lVm9sdW1lR3JhcGhpY3MgfCBQb2x5bGluZVZvbHVtZUdyYXBoaWNzLkNvbnN0cnVjdG9yT3B0aW9uc30gW3BvbHlsaW5lVm9sdW1lXSBBIHBvbHlsaW5lVm9sdW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZW50aXR5LlxuICogQHByb3BlcnR5IHtSZWN0YW5nbGVHcmFwaGljcyB8IFJlY3RhbmdsZUdyYXBoaWNzLkNvbnN0cnVjdG9yT3B0aW9uc30gW3JlY3RhbmdsZV0gQSByZWN0YW5nbGUgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKiBAcHJvcGVydHkge1dhbGxHcmFwaGljcyB8IFdhbGxHcmFwaGljcy5Db25zdHJ1Y3Rvck9wdGlvbnN9IFt3YWxsXSBBIHdhbGwgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBlbnRpdHkuXG4gKi9cblxuLyoqXG4gKiBFbnRpdHkgaW5zdGFuY2VzIGFnZ3JlZ2F0ZSBtdWx0aXBsZSBmb3JtcyBvZiB2aXN1YWxpemF0aW9uIGludG8gYSBzaW5nbGUgaGlnaC1sZXZlbCBvYmplY3QuXG4gKiBUaGV5IGNhbiBiZSBjcmVhdGVkIG1hbnVhbGx5IGFuZCBhZGRlZCB0byB7QGxpbmsgVmlld2VyI2VudGl0aWVzfSBvciBiZSBwcm9kdWNlZCBieVxuICogZGF0YSBzb3VyY2VzLCBzdWNoIGFzIHtAbGluayBDem1sRGF0YVNvdXJjZX0gYW5kIHtAbGluayBHZW9Kc29uRGF0YVNvdXJjZX0uXG4gKiBAYWxpYXMgRW50aXR5XG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge0VudGl0eS5Db25zdHJ1Y3Rvck9wdGlvbnN9IFtvcHRpb25zXSBPYmplY3QgZGVzY3JpYmluZyBpbml0aWFsaXphdGlvbiBvcHRpb25zXG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9jZXNpdW0uY29tL2xlYXJuL2Nlc2l1bWpzLWxlYXJuL2Nlc2l1bWpzLWNyZWF0aW5nLWVudGl0aWVzL3xDcmVhdGluZyBFbnRpdGllc31cbiAqL1xuZnVuY3Rpb24gRW50aXR5KG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICB2YXIgaWQgPSBvcHRpb25zLmlkO1xuICBpZiAoIWRlZmluZWQoaWQpKSB7XG4gICAgaWQgPSBjcmVhdGVHdWlkKCk7XG4gIH1cblxuICB0aGlzLl9hdmFpbGFiaWxpdHkgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2RlZmluaXRpb25DaGFuZ2VkID0gbmV3IEV2ZW50KCk7XG4gIHRoaXMuX25hbWUgPSBvcHRpb25zLm5hbWU7XG4gIHRoaXMuX3Nob3cgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5zaG93LCB0cnVlKTtcbiAgdGhpcy5fcGFyZW50ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wcm9wZXJ0eU5hbWVzID0gW1xuICAgIFwiYmlsbGJvYXJkXCIsXG4gICAgXCJib3hcIixcbiAgICBcImNvcnJpZG9yXCIsXG4gICAgXCJjeWxpbmRlclwiLFxuICAgIFwiZGVzY3JpcHRpb25cIixcbiAgICBcImVsbGlwc2VcIiwgLy9cbiAgICBcImVsbGlwc29pZFwiLFxuICAgIFwibGFiZWxcIixcbiAgICBcIm1vZGVsXCIsXG4gICAgXCJ0aWxlc2V0XCIsXG4gICAgXCJvcmllbnRhdGlvblwiLFxuICAgIFwicGF0aFwiLFxuICAgIFwicGxhbmVcIixcbiAgICBcInBvaW50XCIsXG4gICAgXCJwb2x5Z29uXCIsIC8vXG4gICAgXCJwb2x5bGluZVwiLFxuICAgIFwicG9seWxpbmVWb2x1bWVcIixcbiAgICBcInBvc2l0aW9uXCIsXG4gICAgXCJwcm9wZXJ0aWVzXCIsXG4gICAgXCJyZWN0YW5nbGVcIixcbiAgICBcInZpZXdGcm9tXCIsXG4gICAgXCJ3YWxsXCIsXG4gIF07XG5cbiAgdGhpcy5fYmlsbGJvYXJkID0gdW5kZWZpbmVkO1xuICB0aGlzLl9iaWxsYm9hcmRTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2JveCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fYm94U3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9jb3JyaWRvciA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fY29ycmlkb3JTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2N5bGluZGVyID0gdW5kZWZpbmVkO1xuICB0aGlzLl9jeWxpbmRlclN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fZGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2Rlc2NyaXB0aW9uU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9lbGxpcHNlID0gdW5kZWZpbmVkO1xuICB0aGlzLl9lbGxpcHNlU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9lbGxpcHNvaWQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2VsbGlwc29pZFN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbGFiZWwgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2xhYmVsU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9tb2RlbCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbW9kZWxTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3RpbGVzZXQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3RpbGVzZXRTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX29yaWVudGF0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9vcmllbnRhdGlvblN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcGF0aCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcGF0aFN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcGxhbmUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BsYW5lU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wb2ludCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcG9pbnRTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BvbHlnb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BvbHlnb25TdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BvbHlsaW5lID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wb2x5bGluZVN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcG9seWxpbmVWb2x1bWUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3BvbHlsaW5lVm9sdW1lU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wb3NpdGlvbiA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcG9zaXRpb25TdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3Byb3BlcnRpZXNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3JlY3RhbmdsZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcmVjdGFuZ2xlU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl92aWV3RnJvbSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fdmlld0Zyb21TdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3dhbGwgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3dhbGxTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NoaWxkcmVuID0gW107XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZW50aXR5IGNvbGxlY3Rpb24gdGhhdCB0aGlzIGVudGl0eSBiZWxvbmdzIHRvLlxuICAgKiBAdHlwZSB7RW50aXR5Q29sbGVjdGlvbn1cbiAgICovXG4gIHRoaXMuZW50aXR5Q29sbGVjdGlvbiA9IHVuZGVmaW5lZDtcblxuICB0aGlzLnBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuICB0aGlzLm1lcmdlKG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTaG93KGVudGl0eSwgY2hpbGRyZW4sIGlzU2hvd2luZykge1xuICB2YXIgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgdmFyIGNoaWxkU2hvdyA9IGNoaWxkLl9zaG93O1xuICAgIHZhciBvbGRWYWx1ZSA9ICFpc1Nob3dpbmcgJiYgY2hpbGRTaG93O1xuICAgIHZhciBuZXdWYWx1ZSA9IGlzU2hvd2luZyAmJiBjaGlsZFNob3c7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgdXBkYXRlU2hvdyhjaGlsZCwgY2hpbGQuX2NoaWxkcmVuLCBpc1Nob3dpbmcpO1xuICAgIH1cbiAgfVxuICBlbnRpdHkuX2RlZmluaXRpb25DaGFuZ2VkLnJhaXNlRXZlbnQoXG4gICAgZW50aXR5LFxuICAgIFwiaXNTaG93aW5nXCIsXG4gICAgaXNTaG93aW5nLFxuICAgICFpc1Nob3dpbmdcbiAgKTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRW50aXR5LnByb3RvdHlwZSwge1xuICAvKipcbiAgICogVGhlIGF2YWlsYWJpbGl0eSwgaWYgYW55LCBhc3NvY2lhdGVkIHdpdGggdGhpcyBvYmplY3QuXG4gICAqIElmIGF2YWlsYWJpbGl0eSBpcyB1bmRlZmluZWQsIGl0IGlzIGFzc3VtZWQgdGhhdCB0aGlzIG9iamVjdCdzXG4gICAqIG90aGVyIHByb3BlcnRpZXMgd2lsbCByZXR1cm4gdmFsaWQgZGF0YSBmb3IgYW55IHByb3ZpZGVkIHRpbWUuXG4gICAqIElmIGF2YWlsYWJpbGl0eSBleGlzdHMsIHRoZSBvYmplY3RzIG90aGVyIHByb3BlcnRpZXMgd2lsbCBvbmx5XG4gICAqIHByb3ZpZGUgdmFsaWQgZGF0YSBpZiBxdWVyaWVkIHdpdGhpbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtUaW1lSW50ZXJ2YWxDb2xsZWN0aW9ufHVuZGVmaW5lZH1cbiAgICovXG4gIGF2YWlsYWJpbGl0eTogY3JlYXRlUmF3UHJvcGVydHlEZXNjcmlwdG9yKFwiYXZhaWxhYmlsaXR5XCIpLFxuICAvKipcbiAgICogR2V0cyB0aGUgdW5pcXVlIElEIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG9iamVjdC5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGlkOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgcmFpc2VkIHdoZW5ldmVyIGEgcHJvcGVydHkgb3Igc3ViLXByb3BlcnR5IGlzIGNoYW5nZWQgb3IgbW9kaWZpZWQuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudH1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBkZWZpbml0aW9uQ2hhbmdlZDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb25DaGFuZ2VkO1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIG5hbWUgb2YgdGhlIG9iamVjdC4gIFRoZSBuYW1lIGlzIGludGVuZGVkIGZvciBlbmQtdXNlclxuICAgKiBjb25zdW1wdGlvbiBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSB1bmlxdWUuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtTdHJpbmd8dW5kZWZpbmVkfVxuICAgKi9cbiAgbmFtZTogY3JlYXRlUmF3UHJvcGVydHlEZXNjcmlwdG9yKFwibmFtZVwiKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIHRoaXMgZW50aXR5IHNob3VsZCBiZSBkaXNwbGF5ZWQuIFdoZW4gc2V0IHRvIHRydWUsXG4gICAqIHRoZSBlbnRpdHkgaXMgb25seSBkaXNwbGF5ZWQgaWYgdGhlIHBhcmVudCBlbnRpdHkncyBzaG93IHByb3BlcnR5IGlzIGFsc28gdHJ1ZS5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBzaG93OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvdztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICAgICAgaWYgKCFkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJ2YWx1ZSBpcyByZXF1aXJlZC5cIik7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9zaG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHdhc1Nob3dpbmcgPSB0aGlzLmlzU2hvd2luZztcbiAgICAgIHRoaXMuX3Nob3cgPSB2YWx1ZTtcbiAgICAgIHZhciBpc1Nob3dpbmcgPSB0aGlzLmlzU2hvd2luZztcblxuICAgICAgaWYgKHdhc1Nob3dpbmcgIT09IGlzU2hvd2luZykge1xuICAgICAgICB1cGRhdGVTaG93KHRoaXMsIHRoaXMuX2NoaWxkcmVuLCBpc1Nob3dpbmcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9kZWZpbml0aW9uQ2hhbmdlZC5yYWlzZUV2ZW50KHRoaXMsIFwic2hvd1wiLCB2YWx1ZSwgIXZhbHVlKTtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyB3aGV0aGVyIHRoaXMgZW50aXR5IGlzIGJlaW5nIGRpc3BsYXllZCwgdGFraW5nIGludG8gYWNjb3VudFxuICAgKiB0aGUgdmlzaWJpbGl0eSBvZiBhbnkgYW5jZXN0b3IgZW50aXRpZXMuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgaXNTaG93aW5nOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9zaG93ICYmXG4gICAgICAgICghZGVmaW5lZCh0aGlzLmVudGl0eUNvbGxlY3Rpb24pIHx8IHRoaXMuZW50aXR5Q29sbGVjdGlvbi5zaG93KSAmJlxuICAgICAgICAoIWRlZmluZWQodGhpcy5fcGFyZW50KSB8fCB0aGlzLl9wYXJlbnQuaXNTaG93aW5nKVxuICAgICAgKTtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBwYXJlbnQgb2JqZWN0LlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7RW50aXR5fHVuZGVmaW5lZH1cbiAgICovXG4gIHBhcmVudDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLl9wYXJlbnQ7XG5cbiAgICAgIGlmIChvbGRWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgd2FzU2hvd2luZyA9IHRoaXMuaXNTaG93aW5nO1xuICAgICAgaWYgKGRlZmluZWQob2xkVmFsdWUpKSB7XG4gICAgICAgIHZhciBpbmRleCA9IG9sZFZhbHVlLl9jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgICBvbGRWYWx1ZS5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcGFyZW50ID0gdmFsdWU7XG4gICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuX2NoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1Nob3dpbmcgPSB0aGlzLmlzU2hvd2luZztcblxuICAgICAgaWYgKHdhc1Nob3dpbmcgIT09IGlzU2hvd2luZykge1xuICAgICAgICB1cGRhdGVTaG93KHRoaXMsIHRoaXMuX2NoaWxkcmVuLCBpc1Nob3dpbmcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9kZWZpbml0aW9uQ2hhbmdlZC5yYWlzZUV2ZW50KHRoaXMsIFwicGFyZW50XCIsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIG5hbWVzIG9mIGFsbCBwcm9wZXJ0aWVzIHJlZ2lzdGVyZWQgb24gdGhpcyBpbnN0YW5jZS5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgKi9cbiAgcHJvcGVydHlOYW1lczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnR5TmFtZXM7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgYmlsbGJvYXJkLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7QmlsbGJvYXJkR3JhcGhpY3N8dW5kZWZpbmVkfVxuICAgKi9cbiAgYmlsbGJvYXJkOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwiYmlsbGJvYXJkXCIsIEJpbGxib2FyZEdyYXBoaWNzKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgYm94LlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Qm94R3JhcGhpY3N8dW5kZWZpbmVkfVxuICAgKi9cbiAgYm94OiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwiYm94XCIsIEJveEdyYXBoaWNzKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgY29ycmlkb3IuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtDb3JyaWRvckdyYXBoaWNzfHVuZGVmaW5lZH1cbiAgICovXG4gIGNvcnJpZG9yOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwiY29ycmlkb3JcIiwgQ29ycmlkb3JHcmFwaGljcyksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGN5bGluZGVyLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7Q3lsaW5kZXJHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICBjeWxpbmRlcjogY3JlYXRlUHJvcGVydHlUeXBlRGVzY3JpcHRvcihcImN5bGluZGVyXCIsIEN5bGluZGVyR3JhcGhpY3MpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBkZXNjcmlwdGlvbi5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICovXG4gIGRlc2NyaXB0aW9uOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJkZXNjcmlwdGlvblwiKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgZWxsaXBzZS5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge0VsbGlwc2VHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICBlbGxpcHNlOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwiZWxsaXBzZVwiLCBFbGxpcHNlR3JhcGhpY3MpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBlbGxpcHNvaWQuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtFbGxpcHNvaWRHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICBlbGxpcHNvaWQ6IGNyZWF0ZVByb3BlcnR5VHlwZURlc2NyaXB0b3IoXCJlbGxpcHNvaWRcIiwgRWxsaXBzb2lkR3JhcGhpY3MpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBsYWJlbC5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge0xhYmVsR3JhcGhpY3N8dW5kZWZpbmVkfVxuICAgKi9cbiAgbGFiZWw6IGNyZWF0ZVByb3BlcnR5VHlwZURlc2NyaXB0b3IoXCJsYWJlbFwiLCBMYWJlbEdyYXBoaWNzKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgbW9kZWwuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtNb2RlbEdyYXBoaWNzfHVuZGVmaW5lZH1cbiAgICovXG4gIG1vZGVsOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwibW9kZWxcIiwgTW9kZWxHcmFwaGljcyksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHRpbGVzZXQuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtDZXNpdW0zRFRpbGVzZXRHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICB0aWxlc2V0OiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwidGlsZXNldFwiLCBDZXNpdW0zRFRpbGVzZXRHcmFwaGljcyksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIG9yaWVudGF0aW9uLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UHJvcGVydHl8dW5kZWZpbmVkfVxuICAgKi9cbiAgb3JpZW50YXRpb246IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcihcIm9yaWVudGF0aW9uXCIpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBwYXRoLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UGF0aEdyYXBoaWNzfHVuZGVmaW5lZH1cbiAgICovXG4gIHBhdGg6IGNyZWF0ZVByb3BlcnR5VHlwZURlc2NyaXB0b3IoXCJwYXRoXCIsIFBhdGhHcmFwaGljcyksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHBsYW5lLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UGxhbmVHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICBwbGFuZTogY3JlYXRlUHJvcGVydHlUeXBlRGVzY3JpcHRvcihcInBsYW5lXCIsIFBsYW5lR3JhcGhpY3MpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBwb2ludCBncmFwaGljLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UG9pbnRHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICBwb2ludDogY3JlYXRlUHJvcGVydHlUeXBlRGVzY3JpcHRvcihcInBvaW50XCIsIFBvaW50R3JhcGhpY3MpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBwb2x5Z29uLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UG9seWdvbkdyYXBoaWNzfHVuZGVmaW5lZH1cbiAgICovXG4gIHBvbHlnb246IGNyZWF0ZVByb3BlcnR5VHlwZURlc2NyaXB0b3IoXCJwb2x5Z29uXCIsIFBvbHlnb25HcmFwaGljcyksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHBvbHlsaW5lLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UG9seWxpbmVHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICBwb2x5bGluZTogY3JlYXRlUHJvcGVydHlUeXBlRGVzY3JpcHRvcihcInBvbHlsaW5lXCIsIFBvbHlsaW5lR3JhcGhpY3MpLFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBwb2x5bGluZSB2b2x1bWUuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQb2x5bGluZVZvbHVtZUdyYXBoaWNzfHVuZGVmaW5lZH1cbiAgICovXG4gIHBvbHlsaW5lVm9sdW1lOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFxuICAgIFwicG9seWxpbmVWb2x1bWVcIixcbiAgICBQb2x5bGluZVZvbHVtZUdyYXBoaWNzXG4gICksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIGJhZyBvZiBhcmJpdHJhcnkgcHJvcGVydGllcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbnRpdHkuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHkucHJvdG90eXBlXG4gICAqIEB0eXBlIHtQcm9wZXJ0eUJhZ3x1bmRlZmluZWR9XG4gICAqL1xuICBwcm9wZXJ0aWVzOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwicHJvcGVydGllc1wiLCBQcm9wZXJ0eUJhZyksXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIHBvc2l0aW9uLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UG9zaXRpb25Qcm9wZXJ0eXx1bmRlZmluZWR9XG4gICAqL1xuICBwb3NpdGlvbjogY3JlYXRlUG9zaXRpb25Qcm9wZXJ0eURlc2NyaXB0b3IoXCJwb3NpdGlvblwiKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgcmVjdGFuZ2xlLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5LnByb3RvdHlwZVxuICAgKiBAdHlwZSB7UmVjdGFuZ2xlR3JhcGhpY3N8dW5kZWZpbmVkfVxuICAgKi9cbiAgcmVjdGFuZ2xlOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwicmVjdGFuZ2xlXCIsIFJlY3RhbmdsZUdyYXBoaWNzKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgc3VnZ2VzdGVkIGluaXRpYWwgb2Zmc2V0IHdoZW4gdHJhY2tpbmcgdGhpcyBvYmplY3QuXG4gICAqIFRoZSBvZmZzZXQgaXMgdHlwaWNhbGx5IGRlZmluZWQgaW4gdGhlIGVhc3Qtbm9ydGgtdXAgcmVmZXJlbmNlIGZyYW1lLFxuICAgKiBidXQgbWF5IGJlIGFub3RoZXIgZnJhbWUgZGVwZW5kaW5nIG9uIHRoZSBvYmplY3QncyB2ZWxvY2l0eS5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge1Byb3BlcnR5fHVuZGVmaW5lZH1cbiAgICovXG4gIHZpZXdGcm9tOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoXCJ2aWV3RnJvbVwiKSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgd2FsbC5cbiAgICogQG1lbWJlcm9mIEVudGl0eS5wcm90b3R5cGVcbiAgICogQHR5cGUge1dhbGxHcmFwaGljc3x1bmRlZmluZWR9XG4gICAqL1xuICB3YWxsOiBjcmVhdGVQcm9wZXJ0eVR5cGVEZXNjcmlwdG9yKFwid2FsbFwiLCBXYWxsR3JhcGhpY3MpLFxufSk7XG5cbi8qKlxuICogR2l2ZW4gYSB0aW1lLCByZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3Qgc2hvdWxkIGhhdmUgZGF0YSBkdXJpbmcgdGhhdCB0aW1lLlxuICpcbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gdGltZSBUaGUgdGltZSB0byBjaGVjayBhdmFpbGFiaWxpdHkgZm9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBzaG91bGQgaGF2ZSBkYXRhIGR1cmluZyB0aGUgcHJvdmlkZWQgdGltZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5FbnRpdHkucHJvdG90eXBlLmlzQXZhaWxhYmxlID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKHRpbWUpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwidGltZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGF2YWlsYWJpbGl0eSA9IHRoaXMuX2F2YWlsYWJpbGl0eTtcbiAgcmV0dXJuICFkZWZpbmVkKGF2YWlsYWJpbGl0eSkgfHwgYXZhaWxhYmlsaXR5LmNvbnRhaW5zKHRpbWUpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgcHJvcGVydHkgdG8gdGhpcyBvYmplY3QuICBPbmNlIGEgcHJvcGVydHkgaXMgYWRkZWQsIGl0IGNhbiBiZVxuICogb2JzZXJ2ZWQgd2l0aCB7QGxpbmsgRW50aXR5I2RlZmluaXRpb25DaGFuZ2VkfSBhbmQgY29tcG9zaXRlZFxuICogd2l0aCB7QGxpbmsgQ29tcG9zaXRlRW50aXR5Q29sbGVjdGlvbn1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBhZGQuXG4gKlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IFwicHJvcGVydHlOYW1lXCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eSBuYW1lLlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IFwicHJvcGVydHlOYW1lXCIgaXMgYWxyZWFkeSBhIHJlZ2lzdGVyZWQgcHJvcGVydHkuXG4gKi9cbkVudGl0eS5wcm90b3R5cGUuYWRkUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gdGhpcy5fcHJvcGVydHlOYW1lcztcblxuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQocHJvcGVydHlOYW1lKSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcInByb3BlcnR5TmFtZSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgaWYgKHByb3BlcnR5TmFtZXMuaW5kZXhPZihwcm9wZXJ0eU5hbWUpICE9PSAtMSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIHByb3BlcnR5TmFtZSArIFwiIGlzIGFscmVhZHkgYSByZWdpc3RlcmVkIHByb3BlcnR5LlwiXG4gICAgKTtcbiAgfVxuICBpZiAocHJvcGVydHlOYW1lIGluIHRoaXMpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IocHJvcGVydHlOYW1lICsgXCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eSBuYW1lLlwiKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICBwcm9wZXJ0eU5hbWVzLnB1c2gocHJvcGVydHlOYW1lKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgIHRoaXMsXG4gICAgcHJvcGVydHlOYW1lLFxuICAgIGNyZWF0ZVJhd1Byb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0eU5hbWUsIHRydWUpXG4gICk7XG59O1xuXG4vKipcbiAqIFJlbW92ZWQgYSBwcm9wZXJ0eSBwcmV2aW91c2x5IGFkZGVkIHdpdGggYWRkUHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5TmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcmVtb3ZlLlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBcInByb3BlcnR5TmFtZVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkgbmFtZS5cbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSBcInByb3BlcnR5TmFtZVwiIGlzIG5vdCBhIHJlZ2lzdGVyZWQgcHJvcGVydHkuXG4gKi9cbkVudGl0eS5wcm90b3R5cGUucmVtb3ZlUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gIHZhciBwcm9wZXJ0eU5hbWVzID0gdGhpcy5fcHJvcGVydHlOYW1lcztcbiAgdmFyIGluZGV4ID0gcHJvcGVydHlOYW1lcy5pbmRleE9mKHByb3BlcnR5TmFtZSk7XG5cbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKHByb3BlcnR5TmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJwcm9wZXJ0eU5hbWUgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IocHJvcGVydHlOYW1lICsgXCIgaXMgbm90IGEgcmVnaXN0ZXJlZCBwcm9wZXJ0eS5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdGhpcy5fcHJvcGVydHlOYW1lcy5zcGxpY2UoaW5kZXgsIDEpO1xuICBkZWxldGUgdGhpc1twcm9wZXJ0eU5hbWVdO1xufTtcblxuLyoqXG4gKiBBc3NpZ25zIGVhY2ggdW5hc3NpZ25lZCBwcm9wZXJ0eSBvbiB0aGlzIG9iamVjdCB0byB0aGUgdmFsdWVcbiAqIG9mIHRoZSBzYW1lIHByb3BlcnR5IG9uIHRoZSBwcm92aWRlZCBzb3VyY2Ugb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7RW50aXR5fSBzb3VyY2UgVGhlIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB0aGlzIG9iamVjdC5cbiAqL1xuRW50aXR5LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKCFkZWZpbmVkKHNvdXJjZSkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJzb3VyY2UgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIC8vTmFtZSwgc2hvdywgYW5kIGF2YWlsYWJpbGl0eSBhcmUgbm90IFByb3BlcnR5IG9iamVjdHMgYW5kIGFyZSBjdXJyZW50bHkgaGFuZGxlZCBkaWZmZXJlbnRseS5cbiAgLy9zb3VyY2Uuc2hvdyBpcyBpbnRlbnRpb25hbGx5IGlnbm9yZWQgYmVjYXVzZSB0aGlzLnNob3cgYWx3YXlzIGhhcyBhIHZhbHVlLlxuICB0aGlzLm5hbWUgPSBkZWZhdWx0VmFsdWUodGhpcy5uYW1lLCBzb3VyY2UubmFtZSk7XG4gIHRoaXMuYXZhaWxhYmlsaXR5ID0gZGVmYXVsdFZhbHVlKHRoaXMuYXZhaWxhYmlsaXR5LCBzb3VyY2UuYXZhaWxhYmlsaXR5KTtcblxuICB2YXIgcHJvcGVydHlOYW1lcyA9IHRoaXMuX3Byb3BlcnR5TmFtZXM7XG4gIHZhciBzb3VyY2VQcm9wZXJ0eU5hbWVzID0gZGVmaW5lZChzb3VyY2UuX3Byb3BlcnR5TmFtZXMpXG4gICAgPyBzb3VyY2UuX3Byb3BlcnR5TmFtZXNcbiAgICA6IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBwcm9wZXJ0eU5hbWVzTGVuZ3RoID0gc291cmNlUHJvcGVydHlOYW1lcy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlOYW1lc0xlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSBzb3VyY2VQcm9wZXJ0eU5hbWVzW2ldO1xuXG4gICAgLy9XaGlsZSBzb3VyY2UgaXMgcmVxdWlyZWQgYnkgdGhlIEFQSSB0byBiZSBhbiBFbnRpdHksIHdlIGludGVybmFsbHkgY2FsbCB0aGlzIG1ldGhvZCBmcm9tIHRoZVxuICAgIC8vY29uc3RydWN0b3Igd2l0aCBhbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgaW5pdGlhbCBjdXN0b20gcHJvcGVydGllcy5cbiAgICAvL1NvIHdlIG5lZWQgdG8gaWdub3JlIHJlc2VydmVkLW5vbi1wcm9wZXJ0eS5cbiAgICBpZiAobmFtZSA9PT0gXCJwYXJlbnRcIiB8fCBuYW1lID09PSBcIm5hbWVcIiB8fCBuYW1lID09PSBcImF2YWlsYWJpbGl0eVwiKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0UHJvcGVydHkgPSB0aGlzW25hbWVdO1xuICAgIHZhciBzb3VyY2VQcm9wZXJ0eSA9IHNvdXJjZVtuYW1lXTtcblxuICAgIC8vQ3VzdG9tIHByb3BlcnRpZXMgdGhhdCBhcmUgcmVnaXN0ZXJlZCBvbiB0aGUgc291cmNlIGVudGl0eSBtdXN0IGFsc29cbiAgICAvL2dldCByZWdpc3RlcmVkIG9uIHRoaXMgZW50aXR5LlxuICAgIGlmICghZGVmaW5lZCh0YXJnZXRQcm9wZXJ0eSkgJiYgcHJvcGVydHlOYW1lcy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgdGhpcy5hZGRQcm9wZXJ0eShuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoZGVmaW5lZChzb3VyY2VQcm9wZXJ0eSkpIHtcbiAgICAgIGlmIChkZWZpbmVkKHRhcmdldFByb3BlcnR5KSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh0YXJnZXRQcm9wZXJ0eS5tZXJnZSkpIHtcbiAgICAgICAgICB0YXJnZXRQcm9wZXJ0eS5tZXJnZShzb3VyY2VQcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGRlZmluZWQoc291cmNlUHJvcGVydHkubWVyZ2UpICYmXG4gICAgICAgIGRlZmluZWQoc291cmNlUHJvcGVydHkuY2xvbmUpXG4gICAgICApIHtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHNvdXJjZVByb3BlcnR5LmNsb25lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW25hbWVdID0gc291cmNlUHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgbWF0cml4M1NjcmF0Y2ggPSBuZXcgTWF0cml4MygpO1xudmFyIHBvc2l0aW9uU2NyYXRjaCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgb3JpZW50YXRpb25TY3JhdGNoID0gbmV3IFF1YXRlcm5pb24oKTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbW9kZWwgbWF0cml4IGZvciB0aGUgZW50aXR5J3MgdHJhbnNmb3JtIGF0IHNwZWNpZmllZCB0aW1lLiBSZXR1cm5zIHVuZGVmaW5lZCBpZiBvcmllbnRhdGlvbiBvciBwb3NpdGlvblxuICogYXJlIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge0p1bGlhbkRhdGV9IHRpbWUgVGhlIHRpbWUgdG8gcmV0cmlldmUgbW9kZWwgbWF0cml4IGZvci5cbiAqIEBwYXJhbSB7TWF0cml4NH0gW3Jlc3VsdF0gVGhlIG9iamVjdCBvbnRvIHdoaWNoIHRvIHN0b3JlIHRoZSByZXN1bHQuXG4gKlxuICogQHJldHVybnMge01hdHJpeDR9IFRoZSBtb2RpZmllZCByZXN1bHQgcGFyYW1ldGVyIG9yIGEgbmV3IE1hdHJpeDQgaW5zdGFuY2UgaWYgb25lIHdhcyBub3QgcHJvdmlkZWQuIFJlc3VsdCBpcyB1bmRlZmluZWQgaWYgcG9zaXRpb24gb3Igb3JpZW50YXRpb24gYXJlIHVuZGVmaW5lZC5cbiAqL1xuRW50aXR5LnByb3RvdHlwZS5jb21wdXRlTW9kZWxNYXRyaXggPSBmdW5jdGlvbiAodGltZSwgcmVzdWx0KSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJ0aW1lXCIsIHRpbWUpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgdmFyIHBvc2l0aW9uID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICB0aGlzLl9wb3NpdGlvbixcbiAgICB0aW1lLFxuICAgIHBvc2l0aW9uU2NyYXRjaFxuICApO1xuICBpZiAoIWRlZmluZWQocG9zaXRpb24pKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBvcmllbnRhdGlvbiA9IFByb3BlcnR5LmdldFZhbHVlT3JVbmRlZmluZWQoXG4gICAgdGhpcy5fb3JpZW50YXRpb24sXG4gICAgdGltZSxcbiAgICBvcmllbnRhdGlvblNjcmF0Y2hcbiAgKTtcbiAgaWYgKCFkZWZpbmVkKG9yaWVudGF0aW9uKSkge1xuICAgIHJlc3VsdCA9IFRyYW5zZm9ybXMuZWFzdE5vcnRoVXBUb0ZpeGVkRnJhbWUocG9zaXRpb24sIHVuZGVmaW5lZCwgcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBNYXRyaXg0LmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKFxuICAgICAgTWF0cml4My5mcm9tUXVhdGVybmlvbihvcmllbnRhdGlvbiwgbWF0cml4M1NjcmF0Y2gpLFxuICAgICAgcG9zaXRpb24sXG4gICAgICByZXN1bHRcbiAgICApO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbkVudGl0eS5wcm90b3R5cGUuY29tcHV0ZU1vZGVsTWF0cml4Rm9ySGVpZ2h0UmVmZXJlbmNlID0gZnVuY3Rpb24gKFxuICB0aW1lLFxuICBoZWlnaHRSZWZlcmVuY2VQcm9wZXJ0eSxcbiAgaGVpZ2h0T2Zmc2V0LFxuICBlbGxpcHNvaWQsXG4gIHJlc3VsdFxuKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIENoZWNrLnR5cGVPZi5vYmplY3QoXCJ0aW1lXCIsIHRpbWUpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcbiAgdmFyIGhlaWdodFJlZmVyZW5jZSA9IFByb3BlcnR5LmdldFZhbHVlT3JEZWZhdWx0KFxuICAgIGhlaWdodFJlZmVyZW5jZVByb3BlcnR5LFxuICAgIHRpbWUsXG4gICAgSGVpZ2h0UmVmZXJlbmNlLk5PTkVcbiAgKTtcbiAgdmFyIHBvc2l0aW9uID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICB0aGlzLl9wb3NpdGlvbixcbiAgICB0aW1lLFxuICAgIHBvc2l0aW9uU2NyYXRjaFxuICApO1xuICBpZiAoXG4gICAgaGVpZ2h0UmVmZXJlbmNlID09PSBIZWlnaHRSZWZlcmVuY2UuTk9ORSB8fFxuICAgICFkZWZpbmVkKHBvc2l0aW9uKSB8fFxuICAgIENhcnRlc2lhbjMuZXF1YWxzRXBzaWxvbihwb3NpdGlvbiwgQ2FydGVzaWFuMy5aRVJPLCBDZXNpdW1NYXRoLkVQU0lMT044KVxuICApIHtcbiAgICByZXR1cm4gdGhpcy5jb21wdXRlTW9kZWxNYXRyaXgodGltZSwgcmVzdWx0KTtcbiAgfVxuXG4gIHZhciBjYXJ0byA9IGVsbGlwc29pZC5jYXJ0ZXNpYW5Ub0NhcnRvZ3JhcGhpYyhwb3NpdGlvbiwgY2FydG9TY3JhdGNoKTtcbiAgaWYgKGhlaWdodFJlZmVyZW5jZSA9PT0gSGVpZ2h0UmVmZXJlbmNlLkNMQU1QX1RPX0dST1VORCkge1xuICAgIGNhcnRvLmhlaWdodCA9IGhlaWdodE9mZnNldDtcbiAgfSBlbHNlIHtcbiAgICBjYXJ0by5oZWlnaHQgKz0gaGVpZ2h0T2Zmc2V0O1xuICB9XG4gIHBvc2l0aW9uID0gZWxsaXBzb2lkLmNhcnRvZ3JhcGhpY1RvQ2FydGVzaWFuKGNhcnRvLCBwb3NpdGlvbik7XG5cbiAgdmFyIG9yaWVudGF0aW9uID0gUHJvcGVydHkuZ2V0VmFsdWVPclVuZGVmaW5lZChcbiAgICB0aGlzLl9vcmllbnRhdGlvbixcbiAgICB0aW1lLFxuICAgIG9yaWVudGF0aW9uU2NyYXRjaFxuICApO1xuICBpZiAoIWRlZmluZWQob3JpZW50YXRpb24pKSB7XG4gICAgcmVzdWx0ID0gVHJhbnNmb3Jtcy5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShwb3NpdGlvbiwgdW5kZWZpbmVkLCByZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IE1hdHJpeDQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24oXG4gICAgICBNYXRyaXgzLmZyb21RdWF0ZXJuaW9uKG9yaWVudGF0aW9uLCBtYXRyaXgzU2NyYXRjaCksXG4gICAgICBwb3NpdGlvbixcbiAgICAgIHJlc3VsdFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBTY2VuZSBzdXBwb3J0cyBtYXRlcmlhbHMgYmVzaWRlcyBDb2xvciBvbiBFbnRpdGllcyBkcmFwZWQgb24gdGVycmFpbiBvciAzRCBUaWxlcy5cbiAqIElmIHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkLCBFbnRpdGllcyB3aXRoIG5vbi1jb2xvciBtYXRlcmlhbHMgYnV0IG5vIGBoZWlnaHRgIHdpbGxcbiAqIGluc3RlYWQgYmUgcmVuZGVyZWQgYXMgaWYgaGVpZ2h0IGlzIDAuXG4gKlxuICogQHBhcmFtIHtTY2VuZX0gc2NlbmUgVGhlIGN1cnJlbnQgc2NlbmUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGN1cnJlbnQgc2NlbmUgc3VwcG9ydHMgbWF0ZXJpYWxzIGZvciBlbnRpdGllcyBvbiB0ZXJyYWluLlxuICovXG5FbnRpdHkuc3VwcG9ydHNNYXRlcmlhbHNmb3JFbnRpdGllc09uVGVycmFpbiA9IGZ1bmN0aW9uIChzY2VuZSkge1xuICByZXR1cm4gR3JvdW5kUHJpbWl0aXZlLnN1cHBvcnRzTWF0ZXJpYWxzKHNjZW5lKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBTY2VuZSBzdXBwb3J0cyBwb2x5bGluZXMgY2xhbXBlZCB0byB0ZXJyYWluIG9yIDNEIFRpbGVzLlxuICogSWYgdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQsIEVudGl0aWVzIHdpdGggUG9seWxpbmVHcmFwaGljcyB3aWxsIGJlIHJlbmRlcmVkIHdpdGggdmVydGljZXMgYXRcbiAqIHRoZSBwcm92aWRlZCBoZWlnaHRzIGFuZCB1c2luZyB0aGUgYGFyY1R5cGVgIHBhcmFtZXRlciBpbnN0ZWFkIG9mIGNsYW1wZWQgdG8gdGhlIGdyb3VuZC5cbiAqXG4gKiBAcGFyYW0ge1NjZW5lfSBzY2VuZSBUaGUgY3VycmVudCBzY2VuZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgY3VycmVudCBzY2VuZSBzdXBwb3J0cyBwb2x5bGluZXMgb24gdGVycmFpbiBvciAzRCBUSWxlcy5cbiAqL1xuRW50aXR5LnN1cHBvcnRzUG9seWxpbmVzT25UZXJyYWluID0gZnVuY3Rpb24gKHNjZW5lKSB7XG4gIHJldHVybiBHcm91bmRQb2x5bGluZVByaW1pdGl2ZS5pc1N1cHBvcnRlZChzY2VuZSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRW50aXR5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11895\n')},47890:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(88108);\n/* harmony import */ var _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60838);\n/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60216);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(82982);\n/* harmony import */ var _Core_EllipsoidalOccluder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(61252);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14459);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72248);\n/* harmony import */ var _Scene_Billboard_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(80349);\n/* harmony import */ var _Scene_BillboardCollection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8044);\n/* harmony import */ var _Scene_Label_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(73705);\n/* harmony import */ var _Scene_LabelCollection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(7017);\n/* harmony import */ var _Scene_PointPrimitive_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(36514);\n/* harmony import */ var _Scene_PointPrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(9462);\n/* harmony import */ var _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(89917);\n/* harmony import */ var _ThirdParty_kdbush_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(27552);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Defines how screen space objects (billboards, points, labels) are clustered.\n *\n * @param {Object} [options] An object with the following properties:\n * @param {Boolean} [options.enabled=false] Whether or not to enable clustering.\n * @param {Number} [options.pixelRange=80] The pixel range to extend the screen space bounding box.\n * @param {Number} [options.minimumClusterSize=2] The minimum number of screen space objects that can be clustered.\n * @param {Boolean} [options.clusterBillboards=true] Whether or not to cluster the billboards of an entity.\n * @param {Boolean} [options.clusterLabels=true] Whether or not to cluster the labels of an entity.\n * @param {Boolean} [options.clusterPoints=true] Whether or not to cluster the points of an entity.\n * @param {Boolean} [options.show=true] Determines if the entities in the cluster will be shown.\n *\n * @alias EntityCluster\n * @constructor\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Clustering.html|Cesium Sandcastle Clustering Demo}\n */\nfunction EntityCluster(options) {\n  options = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options, _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].EMPTY_OBJECT */ .Z.EMPTY_OBJECT);\n\n  this._enabled = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.enabled, false);\n  this._pixelRange = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.pixelRange, 80);\n  this._minimumClusterSize = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.minimumClusterSize, 2);\n  this._clusterBillboards = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.clusterBillboards, true);\n  this._clusterLabels = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.clusterLabels, true);\n  this._clusterPoints = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.clusterPoints, true);\n\n  this._labelCollection = undefined;\n  this._billboardCollection = undefined;\n  this._pointCollection = undefined;\n\n  this._clusterBillboardCollection = undefined;\n  this._clusterLabelCollection = undefined;\n  this._clusterPointCollection = undefined;\n\n  this._collectionIndicesByEntity = {};\n\n  this._unusedLabelIndices = [];\n  this._unusedBillboardIndices = [];\n  this._unusedPointIndices = [];\n\n  this._previousClusters = [];\n  this._previousHeight = undefined;\n\n  this._enabledDirty = false;\n  this._clusterDirty = false;\n\n  this._cluster = undefined;\n  this._removeEventListener = undefined;\n\n  this._clusterEvent = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z();\n\n  /**\n   * Determines if entities in this collection will be shown.\n   *\n   * @type {Boolean}\n   * @default true\n   */\n  this.show = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(options.show, true);\n}\n\nfunction getX(point) {\n  return point.coord.x;\n}\n\nfunction getY(point) {\n  return point.coord.y;\n}\n\nfunction expandBoundingBox(bbox, pixelRange) {\n  bbox.x -= pixelRange;\n  bbox.y -= pixelRange;\n  bbox.width += pixelRange * 2.0;\n  bbox.height += pixelRange * 2.0;\n}\n\nvar labelBoundingBoxScratch = new _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\nfunction getBoundingBox(item, coord, pixelRange, entityCluster, result) {\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item._labelCollection) && entityCluster._clusterLabels) {\n    result = _Scene_Label_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].getScreenSpaceBoundingBox */ .Z.getScreenSpaceBoundingBox(item, coord, result);\n  } else if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item._billboardCollection) &&\n    entityCluster._clusterBillboards\n  ) {\n    result = _Scene_Billboard_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].getScreenSpaceBoundingBox */ .Z.getScreenSpaceBoundingBox(item, coord, result);\n  } else if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item._pointPrimitiveCollection) &&\n    entityCluster._clusterPoints\n  ) {\n    result = _Scene_PointPrimitive_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].getScreenSpaceBoundingBox */ .Z.getScreenSpaceBoundingBox(item, coord, result);\n  }\n\n  expandBoundingBox(result, pixelRange);\n\n  if (\n    entityCluster._clusterLabels &&\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item._labelCollection) &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item.id) &&\n    hasLabelIndex(entityCluster, item.id.id) &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item.id._label)\n  ) {\n    var labelIndex =\n      entityCluster._collectionIndicesByEntity[item.id.id].labelIndex;\n    var label = entityCluster._labelCollection.get(labelIndex);\n    var labelBBox = _Scene_Label_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].getScreenSpaceBoundingBox */ .Z.getScreenSpaceBoundingBox(\n      label,\n      coord,\n      labelBoundingBoxScratch\n    );\n    expandBoundingBox(labelBBox, pixelRange);\n    result = _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].union */ .Z.union(result, labelBBox, result);\n  }\n\n  return result;\n}\n\nfunction addNonClusteredItem(item, entityCluster) {\n  item.clusterShow = true;\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item._labelCollection) &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item.id) &&\n    hasLabelIndex(entityCluster, item.id.id) &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item.id._label)\n  ) {\n    var labelIndex =\n      entityCluster._collectionIndicesByEntity[item.id.id].labelIndex;\n    var label = entityCluster._labelCollection.get(labelIndex);\n    label.clusterShow = true;\n  }\n}\n\nfunction addCluster(position, numPoints, ids, entityCluster) {\n  var cluster = {\n    billboard: entityCluster._clusterBillboardCollection.add(),\n    label: entityCluster._clusterLabelCollection.add(),\n    point: entityCluster._clusterPointCollection.add(),\n  };\n\n  cluster.billboard.show = false;\n  cluster.point.show = false;\n  cluster.label.show = true;\n  cluster.label.text = numPoints.toLocaleString();\n  cluster.label.id = ids;\n  cluster.billboard.position = cluster.label.position = cluster.point.position = position;\n\n  entityCluster._clusterEvent.raiseEvent(ids, cluster);\n}\n\nfunction hasLabelIndex(entityCluster, entityId) {\n  return (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityCluster) &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityCluster._collectionIndicesByEntity[entityId]) &&\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityCluster._collectionIndicesByEntity[entityId].labelIndex)\n  );\n}\n\nfunction getScreenSpacePositions(\n  collection,\n  points,\n  scene,\n  occluder,\n  entityCluster\n) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(collection)) {\n    return;\n  }\n\n  var length = collection.length;\n  for (var i = 0; i < length; ++i) {\n    var item = collection.get(i);\n    item.clusterShow = false;\n\n    if (\n      !item.show ||\n      (entityCluster._scene.mode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"].SCENE3D */ .Z.SCENE3D &&\n        !occluder.isPointVisible(item.position))\n    ) {\n      continue;\n    }\n\n    var canClusterLabels =\n      entityCluster._clusterLabels && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item._labelCollection);\n    var canClusterBillboards =\n      entityCluster._clusterBillboards && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item.id._billboard);\n    var canClusterPoints =\n      entityCluster._clusterPoints && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(item.id._point);\n    if (canClusterLabels && (canClusterPoints || canClusterBillboards)) {\n      continue;\n    }\n\n    var coord = item.computeScreenSpacePosition(scene);\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(coord)) {\n      continue;\n    }\n\n    points.push({\n      index: i,\n      collection: collection,\n      clustered: false,\n      coord: coord,\n    });\n  }\n}\n\nvar pointBoundinRectangleScratch = new _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar totalBoundingRectangleScratch = new _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar neighborBoundingRectangleScratch = new _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\nfunction createDeclutterCallback(entityCluster) {\n  return function (amount) {\n    if (((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(amount) && amount < 0.05) || !entityCluster.enabled) {\n      return;\n    }\n\n    var scene = entityCluster._scene;\n\n    var labelCollection = entityCluster._labelCollection;\n    var billboardCollection = entityCluster._billboardCollection;\n    var pointCollection = entityCluster._pointCollection;\n\n    if (\n      (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(labelCollection) &&\n        !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(billboardCollection) &&\n        !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(pointCollection)) ||\n      (!entityCluster._clusterBillboards &&\n        !entityCluster._clusterLabels &&\n        !entityCluster._clusterPoints)\n    ) {\n      return;\n    }\n\n    var clusteredLabelCollection = entityCluster._clusterLabelCollection;\n    var clusteredBillboardCollection =\n      entityCluster._clusterBillboardCollection;\n    var clusteredPointCollection = entityCluster._clusterPointCollection;\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(clusteredLabelCollection)) {\n      clusteredLabelCollection.removeAll();\n    } else {\n      clusteredLabelCollection = entityCluster._clusterLabelCollection = new _Scene_LabelCollection_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z(\n        {\n          scene: scene,\n        }\n      );\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(clusteredBillboardCollection)) {\n      clusteredBillboardCollection.removeAll();\n    } else {\n      clusteredBillboardCollection = entityCluster._clusterBillboardCollection = new _Scene_BillboardCollection_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(\n        {\n          scene: scene,\n        }\n      );\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(clusteredPointCollection)) {\n      clusteredPointCollection.removeAll();\n    } else {\n      clusteredPointCollection = entityCluster._clusterPointCollection = new _Scene_PointPrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z();\n    }\n\n    var pixelRange = entityCluster._pixelRange;\n    var minimumClusterSize = entityCluster._minimumClusterSize;\n\n    var clusters = entityCluster._previousClusters;\n    var newClusters = [];\n\n    var previousHeight = entityCluster._previousHeight;\n    var currentHeight = scene.camera.positionCartographic.height;\n\n    var ellipsoid = scene.mapProjection.ellipsoid;\n    var cameraPosition = scene.camera.positionWC;\n    var occluder = new _Core_EllipsoidalOccluder_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(ellipsoid, cameraPosition);\n\n    var points = [];\n    if (entityCluster._clusterLabels) {\n      getScreenSpacePositions(\n        labelCollection,\n        points,\n        scene,\n        occluder,\n        entityCluster\n      );\n    }\n    if (entityCluster._clusterBillboards) {\n      getScreenSpacePositions(\n        billboardCollection,\n        points,\n        scene,\n        occluder,\n        entityCluster\n      );\n    }\n    if (entityCluster._clusterPoints) {\n      getScreenSpacePositions(\n        pointCollection,\n        points,\n        scene,\n        occluder,\n        entityCluster\n      );\n    }\n\n    var i;\n    var j;\n    var length;\n    var bbox;\n    var neighbors;\n    var neighborLength;\n    var neighborIndex;\n    var neighborPoint;\n    var ids;\n    var numPoints;\n\n    var collection;\n    var collectionIndex;\n\n    var index = new _ThirdParty_kdbush_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z(points, getX, getY, 64, Int32Array);\n\n    if (currentHeight < previousHeight) {\n      length = clusters.length;\n      for (i = 0; i < length; ++i) {\n        var cluster = clusters[i];\n\n        if (!occluder.isPointVisible(cluster.position)) {\n          continue;\n        }\n\n        var coord = _Scene_Billboard_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"]._computeScreenSpacePosition */ .Z._computeScreenSpacePosition(\n          _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].IDENTITY */ .Z.IDENTITY,\n          cluster.position,\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].ZERO */ .Z.ZERO,\n          _Core_Cartesian2_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].ZERO */ .Z.ZERO,\n          scene\n        );\n        if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(coord)) {\n          continue;\n        }\n\n        var factor = 1.0 - currentHeight / previousHeight;\n        var width = (cluster.width = cluster.width * factor);\n        var height = (cluster.height = cluster.height * factor);\n\n        width = Math.max(width, cluster.minimumWidth);\n        height = Math.max(height, cluster.minimumHeight);\n\n        var minX = coord.x - width * 0.5;\n        var minY = coord.y - height * 0.5;\n        var maxX = coord.x + width;\n        var maxY = coord.y + height;\n\n        neighbors = index.range(minX, minY, maxX, maxY);\n        neighborLength = neighbors.length;\n        numPoints = 0;\n        ids = [];\n\n        for (j = 0; j < neighborLength; ++j) {\n          neighborIndex = neighbors[j];\n          neighborPoint = points[neighborIndex];\n          if (!neighborPoint.clustered) {\n            ++numPoints;\n\n            collection = neighborPoint.collection;\n            collectionIndex = neighborPoint.index;\n            ids.push(collection.get(collectionIndex).id);\n          }\n        }\n\n        if (numPoints >= minimumClusterSize) {\n          addCluster(cluster.position, numPoints, ids, entityCluster);\n          newClusters.push(cluster);\n\n          for (j = 0; j < neighborLength; ++j) {\n            points[neighbors[j]].clustered = true;\n          }\n        }\n      }\n    }\n\n    length = points.length;\n    for (i = 0; i < length; ++i) {\n      var point = points[i];\n      if (point.clustered) {\n        continue;\n      }\n\n      point.clustered = true;\n\n      collection = point.collection;\n      collectionIndex = point.index;\n\n      var item = collection.get(collectionIndex);\n      bbox = getBoundingBox(\n        item,\n        point.coord,\n        pixelRange,\n        entityCluster,\n        pointBoundinRectangleScratch\n      );\n      var totalBBox = _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(\n        bbox,\n        totalBoundingRectangleScratch\n      );\n\n      neighbors = index.range(\n        bbox.x,\n        bbox.y,\n        bbox.x + bbox.width,\n        bbox.y + bbox.height\n      );\n      neighborLength = neighbors.length;\n\n      var clusterPosition = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].clone */ .Z.clone(item.position);\n      numPoints = 1;\n      ids = [item.id];\n\n      for (j = 0; j < neighborLength; ++j) {\n        neighborIndex = neighbors[j];\n        neighborPoint = points[neighborIndex];\n        if (!neighborPoint.clustered) {\n          var neighborItem = neighborPoint.collection.get(neighborPoint.index);\n          var neighborBBox = getBoundingBox(\n            neighborItem,\n            neighborPoint.coord,\n            pixelRange,\n            entityCluster,\n            neighborBoundingRectangleScratch\n          );\n\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].add */ .Z.add(\n            neighborItem.position,\n            clusterPosition,\n            clusterPosition\n          );\n\n          _Core_BoundingRectangle_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].union */ .Z.union(totalBBox, neighborBBox, totalBBox);\n          ++numPoints;\n\n          ids.push(neighborItem.id);\n        }\n      }\n\n      if (numPoints >= minimumClusterSize) {\n        var position = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(\n          clusterPosition,\n          1.0 / numPoints,\n          clusterPosition\n        );\n        addCluster(position, numPoints, ids, entityCluster);\n        newClusters.push({\n          position: position,\n          width: totalBBox.width,\n          height: totalBBox.height,\n          minimumWidth: bbox.width,\n          minimumHeight: bbox.height,\n        });\n\n        for (j = 0; j < neighborLength; ++j) {\n          points[neighbors[j]].clustered = true;\n        }\n      } else {\n        addNonClusteredItem(item, entityCluster);\n      }\n    }\n\n    if (clusteredLabelCollection.length === 0) {\n      clusteredLabelCollection.destroy();\n      entityCluster._clusterLabelCollection = undefined;\n    }\n\n    if (clusteredBillboardCollection.length === 0) {\n      clusteredBillboardCollection.destroy();\n      entityCluster._clusterBillboardCollection = undefined;\n    }\n\n    if (clusteredPointCollection.length === 0) {\n      clusteredPointCollection.destroy();\n      entityCluster._clusterPointCollection = undefined;\n    }\n\n    entityCluster._previousClusters = newClusters;\n    entityCluster._previousHeight = currentHeight;\n  };\n}\n\nEntityCluster.prototype._initialize = function (scene) {\n  this._scene = scene;\n\n  var cluster = createDeclutterCallback(this);\n  this._cluster = cluster;\n  this._removeEventListener = scene.camera.changed.addEventListener(cluster);\n};\n\nObject.defineProperties(EntityCluster.prototype, {\n  /**\n   * Gets or sets whether clustering is enabled.\n   * @memberof EntityCluster.prototype\n   * @type {Boolean}\n   */\n  enabled: {\n    get: function () {\n      return this._enabled;\n    },\n    set: function (value) {\n      this._enabledDirty = value !== this._enabled;\n      this._enabled = value;\n    },\n  },\n  /**\n   * Gets or sets the pixel range to extend the screen space bounding box.\n   * @memberof EntityCluster.prototype\n   * @type {Number}\n   */\n  pixelRange: {\n    get: function () {\n      return this._pixelRange;\n    },\n    set: function (value) {\n      this._clusterDirty = this._clusterDirty || value !== this._pixelRange;\n      this._pixelRange = value;\n    },\n  },\n  /**\n   * Gets or sets the minimum number of screen space objects that can be clustered.\n   * @memberof EntityCluster.prototype\n   * @type {Number}\n   */\n  minimumClusterSize: {\n    get: function () {\n      return this._minimumClusterSize;\n    },\n    set: function (value) {\n      this._clusterDirty =\n        this._clusterDirty || value !== this._minimumClusterSize;\n      this._minimumClusterSize = value;\n    },\n  },\n  /**\n   * Gets the event that will be raised when a new cluster will be displayed. The signature of the event listener is {@link EntityCluster.newClusterCallback}.\n   * @memberof EntityCluster.prototype\n   * @type {Event}\n   */\n  clusterEvent: {\n    get: function () {\n      return this._clusterEvent;\n    },\n  },\n  /**\n   * Gets or sets whether clustering billboard entities is enabled.\n   * @memberof EntityCluster.prototype\n   * @type {Boolean}\n   */\n  clusterBillboards: {\n    get: function () {\n      return this._clusterBillboards;\n    },\n    set: function (value) {\n      this._clusterDirty =\n        this._clusterDirty || value !== this._clusterBillboards;\n      this._clusterBillboards = value;\n    },\n  },\n  /**\n   * Gets or sets whether clustering labels entities is enabled.\n   * @memberof EntityCluster.prototype\n   * @type {Boolean}\n   */\n  clusterLabels: {\n    get: function () {\n      return this._clusterLabels;\n    },\n    set: function (value) {\n      this._clusterDirty = this._clusterDirty || value !== this._clusterLabels;\n      this._clusterLabels = value;\n    },\n  },\n  /**\n   * Gets or sets whether clustering point entities is enabled.\n   * @memberof EntityCluster.prototype\n   * @type {Boolean}\n   */\n  clusterPoints: {\n    get: function () {\n      return this._clusterPoints;\n    },\n    set: function (value) {\n      this._clusterDirty = this._clusterDirty || value !== this._clusterPoints;\n      this._clusterPoints = value;\n    },\n  },\n});\n\nfunction createGetEntity(\n  collectionProperty,\n  CollectionConstructor,\n  unusedIndicesProperty,\n  entityIndexProperty\n) {\n  return function (entity) {\n    var collection = this[collectionProperty];\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._collectionIndicesByEntity)) {\n      this._collectionIndicesByEntity = {};\n    }\n\n    var entityIndices = this._collectionIndicesByEntity[entity.id];\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices)) {\n      entityIndices = this._collectionIndicesByEntity[entity.id] = {\n        billboardIndex: undefined,\n        labelIndex: undefined,\n        pointIndex: undefined,\n      };\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(collection) && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices[entityIndexProperty])) {\n      return collection.get(entityIndices[entityIndexProperty]);\n    }\n\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(collection)) {\n      collection = this[collectionProperty] = new CollectionConstructor({\n        scene: this._scene,\n      });\n    }\n\n    var index;\n    var entityItem;\n\n    var unusedIndices = this[unusedIndicesProperty];\n    if (unusedIndices.length > 0) {\n      index = unusedIndices.pop();\n      entityItem = collection.get(index);\n    } else {\n      entityItem = collection.add();\n      index = collection.length - 1;\n    }\n\n    entityIndices[entityIndexProperty] = index;\n\n    this._clusterDirty = true;\n\n    return entityItem;\n  };\n}\n\nfunction removeEntityIndicesIfUnused(entityCluster, entityId) {\n  var indices = entityCluster._collectionIndicesByEntity[entityId];\n\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(indices.billboardIndex) &&\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(indices.labelIndex) &&\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(indices.pointIndex)\n  ) {\n    delete entityCluster._collectionIndicesByEntity[entityId];\n  }\n}\n\n/**\n * Returns a new {@link Label}.\n * @param {Entity} entity The entity that will use the returned {@link Label} for visualization.\n * @returns {Label} The label that will be used to visualize an entity.\n *\n * @private\n */\nEntityCluster.prototype.getLabel = createGetEntity(\n  "_labelCollection",\n  _Scene_LabelCollection_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z,\n  "_unusedLabelIndices",\n  "labelIndex"\n);\n\n/**\n * Removes the {@link Label} associated with an entity so it can be reused by another entity.\n * @param {Entity} entity The entity that will uses the returned {@link Label} for visualization.\n *\n * @private\n */\nEntityCluster.prototype.removeLabel = function (entity) {\n  var entityIndices =\n    this._collectionIndicesByEntity &&\n    this._collectionIndicesByEntity[entity.id];\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._labelCollection) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices.labelIndex)\n  ) {\n    return;\n  }\n\n  var index = entityIndices.labelIndex;\n  entityIndices.labelIndex = undefined;\n  removeEntityIndicesIfUnused(this, entity.id);\n\n  var label = this._labelCollection.get(index);\n  label.show = false;\n  label.text = "";\n  label.id = undefined;\n\n  this._unusedLabelIndices.push(index);\n\n  this._clusterDirty = true;\n};\n\n/**\n * Returns a new {@link Billboard}.\n * @param {Entity} entity The entity that will use the returned {@link Billboard} for visualization.\n * @returns {Billboard} The label that will be used to visualize an entity.\n *\n * @private\n */\nEntityCluster.prototype.getBillboard = createGetEntity(\n  "_billboardCollection",\n  _Scene_BillboardCollection_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z,\n  "_unusedBillboardIndices",\n  "billboardIndex"\n);\n\n/**\n * Removes the {@link Billboard} associated with an entity so it can be reused by another entity.\n * @param {Entity} entity The entity that will uses the returned {@link Billboard} for visualization.\n *\n * @private\n */\nEntityCluster.prototype.removeBillboard = function (entity) {\n  var entityIndices =\n    this._collectionIndicesByEntity &&\n    this._collectionIndicesByEntity[entity.id];\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._billboardCollection) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices.billboardIndex)\n  ) {\n    return;\n  }\n\n  var index = entityIndices.billboardIndex;\n  entityIndices.billboardIndex = undefined;\n  removeEntityIndicesIfUnused(this, entity.id);\n\n  var billboard = this._billboardCollection.get(index);\n  billboard.id = undefined;\n  billboard.show = false;\n  billboard.image = undefined;\n\n  this._unusedBillboardIndices.push(index);\n\n  this._clusterDirty = true;\n};\n\n/**\n * Returns a new {@link Point}.\n * @param {Entity} entity The entity that will use the returned {@link Point} for visualization.\n * @returns {Point} The label that will be used to visualize an entity.\n *\n * @private\n */\nEntityCluster.prototype.getPoint = createGetEntity(\n  "_pointCollection",\n  _Scene_PointPrimitiveCollection_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z,\n  "_unusedPointIndices",\n  "pointIndex"\n);\n\n/**\n * Removes the {@link Point} associated with an entity so it can be reused by another entity.\n * @param {Entity} entity The entity that will uses the returned {@link Point} for visualization.\n *\n * @private\n */\nEntityCluster.prototype.removePoint = function (entity) {\n  var entityIndices =\n    this._collectionIndicesByEntity &&\n    this._collectionIndicesByEntity[entity.id];\n  if (\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._pointCollection) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices) ||\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityIndices.pointIndex)\n  ) {\n    return;\n  }\n\n  var index = entityIndices.pointIndex;\n  entityIndices.pointIndex = undefined;\n  removeEntityIndicesIfUnused(this, entity.id);\n\n  var point = this._pointCollection.get(index);\n  point.show = false;\n  point.id = undefined;\n\n  this._unusedPointIndices.push(index);\n\n  this._clusterDirty = true;\n};\n\nfunction disableCollectionClustering(collection) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(collection)) {\n    return;\n  }\n\n  var length = collection.length;\n  for (var i = 0; i < length; ++i) {\n    collection.get(i).clusterShow = true;\n  }\n}\n\nfunction updateEnable(entityCluster) {\n  if (entityCluster.enabled) {\n    return;\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityCluster._clusterLabelCollection)) {\n    entityCluster._clusterLabelCollection.destroy();\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityCluster._clusterBillboardCollection)) {\n    entityCluster._clusterBillboardCollection.destroy();\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(entityCluster._clusterPointCollection)) {\n    entityCluster._clusterPointCollection.destroy();\n  }\n\n  entityCluster._clusterLabelCollection = undefined;\n  entityCluster._clusterBillboardCollection = undefined;\n  entityCluster._clusterPointCollection = undefined;\n\n  disableCollectionClustering(entityCluster._labelCollection);\n  disableCollectionClustering(entityCluster._billboardCollection);\n  disableCollectionClustering(entityCluster._pointCollection);\n}\n\n/**\n * Gets the draw commands for the clustered billboards/points/labels if enabled, otherwise,\n * queues the draw commands for billboards/points/labels created for entities.\n * @private\n */\nEntityCluster.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n\n  // If clustering is enabled before the label collection is updated,\n  // the glyphs haven\'t been created so the screen space bounding boxes\n  // are incorrect.\n  var commandList;\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._labelCollection) &&\n    this._labelCollection.length > 0 &&\n    this._labelCollection.get(0)._glyphs.length === 0\n  ) {\n    commandList = frameState.commandList;\n    frameState.commandList = [];\n    this._labelCollection.update(frameState);\n    frameState.commandList = commandList;\n  }\n\n  // If clustering is enabled before the billboard collection is updated,\n  // the images haven\'t been added to the image atlas so the screen space bounding boxes\n  // are incorrect.\n  if (\n    (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._billboardCollection) &&\n    this._billboardCollection.length > 0 &&\n    !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._billboardCollection.get(0).width)\n  ) {\n    commandList = frameState.commandList;\n    frameState.commandList = [];\n    this._billboardCollection.update(frameState);\n    frameState.commandList = commandList;\n  }\n\n  if (this._enabledDirty) {\n    this._enabledDirty = false;\n    updateEnable(this);\n    this._clusterDirty = true;\n  }\n\n  if (this._clusterDirty) {\n    this._clusterDirty = false;\n    this._cluster();\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._clusterLabelCollection)) {\n    this._clusterLabelCollection.update(frameState);\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._clusterBillboardCollection)) {\n    this._clusterBillboardCollection.update(frameState);\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._clusterPointCollection)) {\n    this._clusterPointCollection.update(frameState);\n  }\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._labelCollection)) {\n    this._labelCollection.update(frameState);\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._billboardCollection)) {\n    this._billboardCollection.update(frameState);\n  }\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._pointCollection)) {\n    this._pointCollection.update(frameState);\n  }\n};\n\n/**\n * Destroys the WebGL resources held by this object.  Destroying an object allows for deterministic\n * release of WebGL resources, instead of relying on the garbage collector to destroy this object.\n * <p>\n * Unlike other objects that use WebGL resources, this object can be reused. For example, if a data source is removed\n * from a data source collection and added to another.\n * </p>\n */\nEntityCluster.prototype.destroy = function () {\n  this._labelCollection =\n    this._labelCollection && this._labelCollection.destroy();\n  this._billboardCollection =\n    this._billboardCollection && this._billboardCollection.destroy();\n  this._pointCollection =\n    this._pointCollection && this._pointCollection.destroy();\n\n  this._clusterLabelCollection =\n    this._clusterLabelCollection && this._clusterLabelCollection.destroy();\n  this._clusterBillboardCollection =\n    this._clusterBillboardCollection &&\n    this._clusterBillboardCollection.destroy();\n  this._clusterPointCollection =\n    this._clusterPointCollection && this._clusterPointCollection.destroy();\n\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z)(this._removeEventListener)) {\n    this._removeEventListener();\n    this._removeEventListener = undefined;\n  }\n\n  this._labelCollection = undefined;\n  this._billboardCollection = undefined;\n  this._pointCollection = undefined;\n\n  this._clusterBillboardCollection = undefined;\n  this._clusterLabelCollection = undefined;\n  this._clusterPointCollection = undefined;\n\n  this._collectionIndicesByEntity = undefined;\n\n  this._unusedLabelIndices = [];\n  this._unusedBillboardIndices = [];\n  this._unusedPointIndices = [];\n\n  this._previousClusters = [];\n  this._previousHeight = undefined;\n\n  this._enabledDirty = false;\n  this._pixelRangeDirty = false;\n  this._minimumClusterSizeDirty = false;\n\n  return undefined;\n};\n\n/**\n * A event listener function used to style clusters.\n * @callback EntityCluster.newClusterCallback\n *\n * @param {Entity[]} clusteredEntities An array of the entities contained in the cluster.\n * @param {Object} cluster An object containing billboard, label, and point properties. The values are the same as\n * billboard, label and point entities, but must be the values of the ConstantProperty.\n *\n * @example\n * // The default cluster values.\n * dataSource.clustering.clusterEvent.addEventListener(function(entities, cluster) {\n *     cluster.label.show = true;\n *     cluster.label.text = entities.length.toLocaleString();\n * });\n */\n/* harmony default export */ __webpack_exports__["Z"] = (EntityCluster);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLHlEQUFlLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Z1ZTMtd2VicGFjazUvLi9ub2RlX21vZHVsZXMvY2VzaXVtL1NvdXJjZS9EYXRhU291cmNlcy9FbnRpdHlDbHVzdGVyLmpzPzczNjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvdW5kaW5nUmVjdGFuZ2xlIGZyb20gXCIuLi9Db3JlL0JvdW5kaW5nUmVjdGFuZ2xlLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuMiBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4yLmpzXCI7XG5pbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgZGVmYXVsdFZhbHVlIGZyb20gXCIuLi9Db3JlL2RlZmF1bHRWYWx1ZS5qc1wiO1xuaW1wb3J0IGRlZmluZWQgZnJvbSBcIi4uL0NvcmUvZGVmaW5lZC5qc1wiO1xuaW1wb3J0IEVsbGlwc29pZGFsT2NjbHVkZXIgZnJvbSBcIi4uL0NvcmUvRWxsaXBzb2lkYWxPY2NsdWRlci5qc1wiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9Db3JlL0V2ZW50LmpzXCI7XG5pbXBvcnQgTWF0cml4NCBmcm9tIFwiLi4vQ29yZS9NYXRyaXg0LmpzXCI7XG5pbXBvcnQgQmlsbGJvYXJkIGZyb20gXCIuLi9TY2VuZS9CaWxsYm9hcmQuanNcIjtcbmltcG9ydCBCaWxsYm9hcmRDb2xsZWN0aW9uIGZyb20gXCIuLi9TY2VuZS9CaWxsYm9hcmRDb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgTGFiZWwgZnJvbSBcIi4uL1NjZW5lL0xhYmVsLmpzXCI7XG5pbXBvcnQgTGFiZWxDb2xsZWN0aW9uIGZyb20gXCIuLi9TY2VuZS9MYWJlbENvbGxlY3Rpb24uanNcIjtcbmltcG9ydCBQb2ludFByaW1pdGl2ZSBmcm9tIFwiLi4vU2NlbmUvUG9pbnRQcmltaXRpdmUuanNcIjtcbmltcG9ydCBQb2ludFByaW1pdGl2ZUNvbGxlY3Rpb24gZnJvbSBcIi4uL1NjZW5lL1BvaW50UHJpbWl0aXZlQ29sbGVjdGlvbi5qc1wiO1xuaW1wb3J0IFNjZW5lTW9kZSBmcm9tIFwiLi4vU2NlbmUvU2NlbmVNb2RlLmpzXCI7XG5pbXBvcnQgS0RCdXNoIGZyb20gXCIuLi9UaGlyZFBhcnR5L2tkYnVzaC5qc1wiO1xuXG4vKipcbiAqIERlZmluZXMgaG93IHNjcmVlbiBzcGFjZSBvYmplY3RzIChiaWxsYm9hcmRzLCBwb2ludHMsIGxhYmVscykgYXJlIGNsdXN0ZXJlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlZD1mYWxzZV0gV2hldGhlciBvciBub3QgdG8gZW5hYmxlIGNsdXN0ZXJpbmcuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucGl4ZWxSYW5nZT04MF0gVGhlIHBpeGVsIHJhbmdlIHRvIGV4dGVuZCB0aGUgc2NyZWVuIHNwYWNlIGJvdW5kaW5nIGJveC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5pbXVtQ2x1c3RlclNpemU9Ml0gVGhlIG1pbmltdW0gbnVtYmVyIG9mIHNjcmVlbiBzcGFjZSBvYmplY3RzIHRoYXQgY2FuIGJlIGNsdXN0ZXJlZC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2x1c3RlckJpbGxib2FyZHM9dHJ1ZV0gV2hldGhlciBvciBub3QgdG8gY2x1c3RlciB0aGUgYmlsbGJvYXJkcyBvZiBhbiBlbnRpdHkuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNsdXN0ZXJMYWJlbHM9dHJ1ZV0gV2hldGhlciBvciBub3QgdG8gY2x1c3RlciB0aGUgbGFiZWxzIG9mIGFuIGVudGl0eS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2x1c3RlclBvaW50cz10cnVlXSBXaGV0aGVyIG9yIG5vdCB0byBjbHVzdGVyIHRoZSBwb2ludHMgb2YgYW4gZW50aXR5LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93PXRydWVdIERldGVybWluZXMgaWYgdGhlIGVudGl0aWVzIGluIHRoZSBjbHVzdGVyIHdpbGwgYmUgc2hvd24uXG4gKlxuICogQGFsaWFzIEVudGl0eUNsdXN0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICpcbiAqIEBkZW1vIHtAbGluayBodHRwczovL3NhbmRjYXN0bGUuY2VzaXVtLmNvbS9pbmRleC5odG1sP3NyYz1DbHVzdGVyaW5nLmh0bWx8Q2VzaXVtIFNhbmRjYXN0bGUgQ2x1c3RlcmluZyBEZW1vfVxuICovXG5mdW5jdGlvbiBFbnRpdHlDbHVzdGVyKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLCBkZWZhdWx0VmFsdWUuRU1QVFlfT0JKRUNUKTtcblxuICB0aGlzLl9lbmFibGVkID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuZW5hYmxlZCwgZmFsc2UpO1xuICB0aGlzLl9waXhlbFJhbmdlID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMucGl4ZWxSYW5nZSwgODApO1xuICB0aGlzLl9taW5pbXVtQ2x1c3RlclNpemUgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5taW5pbXVtQ2x1c3RlclNpemUsIDIpO1xuICB0aGlzLl9jbHVzdGVyQmlsbGJvYXJkcyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmNsdXN0ZXJCaWxsYm9hcmRzLCB0cnVlKTtcbiAgdGhpcy5fY2x1c3RlckxhYmVscyA9IGRlZmF1bHRWYWx1ZShvcHRpb25zLmNsdXN0ZXJMYWJlbHMsIHRydWUpO1xuICB0aGlzLl9jbHVzdGVyUG9pbnRzID0gZGVmYXVsdFZhbHVlKG9wdGlvbnMuY2x1c3RlclBvaW50cywgdHJ1ZSk7XG5cbiAgdGhpcy5fbGFiZWxDb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wb2ludENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fY2x1c3RlckJpbGxib2FyZENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NsdXN0ZXJQb2ludENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eSA9IHt9O1xuXG4gIHRoaXMuX3VudXNlZExhYmVsSW5kaWNlcyA9IFtdO1xuICB0aGlzLl91bnVzZWRCaWxsYm9hcmRJbmRpY2VzID0gW107XG4gIHRoaXMuX3VudXNlZFBvaW50SW5kaWNlcyA9IFtdO1xuXG4gIHRoaXMuX3ByZXZpb3VzQ2x1c3RlcnMgPSBbXTtcbiAgdGhpcy5fcHJldmlvdXNIZWlnaHQgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fZW5hYmxlZERpcnR5ID0gZmFsc2U7XG4gIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9IGZhbHNlO1xuXG4gIHRoaXMuX2NsdXN0ZXIgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fY2x1c3RlckV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgZW50aXRpZXMgaW4gdGhpcyBjb2xsZWN0aW9uIHdpbGwgYmUgc2hvd24uXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICB0aGlzLnNob3cgPSBkZWZhdWx0VmFsdWUob3B0aW9ucy5zaG93LCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gZ2V0WChwb2ludCkge1xuICByZXR1cm4gcG9pbnQuY29vcmQueDtcbn1cblxuZnVuY3Rpb24gZ2V0WShwb2ludCkge1xuICByZXR1cm4gcG9pbnQuY29vcmQueTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kQm91bmRpbmdCb3goYmJveCwgcGl4ZWxSYW5nZSkge1xuICBiYm94LnggLT0gcGl4ZWxSYW5nZTtcbiAgYmJveC55IC09IHBpeGVsUmFuZ2U7XG4gIGJib3gud2lkdGggKz0gcGl4ZWxSYW5nZSAqIDIuMDtcbiAgYmJveC5oZWlnaHQgKz0gcGl4ZWxSYW5nZSAqIDIuMDtcbn1cblxudmFyIGxhYmVsQm91bmRpbmdCb3hTY3JhdGNoID0gbmV3IEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQm94KGl0ZW0sIGNvb3JkLCBwaXhlbFJhbmdlLCBlbnRpdHlDbHVzdGVyLCByZXN1bHQpIHtcbiAgaWYgKGRlZmluZWQoaXRlbS5fbGFiZWxDb2xsZWN0aW9uKSAmJiBlbnRpdHlDbHVzdGVyLl9jbHVzdGVyTGFiZWxzKSB7XG4gICAgcmVzdWx0ID0gTGFiZWwuZ2V0U2NyZWVuU3BhY2VCb3VuZGluZ0JveChpdGVtLCBjb29yZCwgcmVzdWx0KTtcbiAgfSBlbHNlIGlmIChcbiAgICBkZWZpbmVkKGl0ZW0uX2JpbGxib2FyZENvbGxlY3Rpb24pICYmXG4gICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckJpbGxib2FyZHNcbiAgKSB7XG4gICAgcmVzdWx0ID0gQmlsbGJvYXJkLmdldFNjcmVlblNwYWNlQm91bmRpbmdCb3goaXRlbSwgY29vcmQsIHJlc3VsdCk7XG4gIH0gZWxzZSBpZiAoXG4gICAgZGVmaW5lZChpdGVtLl9wb2ludFByaW1pdGl2ZUNvbGxlY3Rpb24pICYmXG4gICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlclBvaW50c1xuICApIHtcbiAgICByZXN1bHQgPSBQb2ludFByaW1pdGl2ZS5nZXRTY3JlZW5TcGFjZUJvdW5kaW5nQm94KGl0ZW0sIGNvb3JkLCByZXN1bHQpO1xuICB9XG5cbiAgZXhwYW5kQm91bmRpbmdCb3gocmVzdWx0LCBwaXhlbFJhbmdlKTtcblxuICBpZiAoXG4gICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckxhYmVscyAmJlxuICAgICFkZWZpbmVkKGl0ZW0uX2xhYmVsQ29sbGVjdGlvbikgJiZcbiAgICBkZWZpbmVkKGl0ZW0uaWQpICYmXG4gICAgaGFzTGFiZWxJbmRleChlbnRpdHlDbHVzdGVyLCBpdGVtLmlkLmlkKSAmJlxuICAgIGRlZmluZWQoaXRlbS5pZC5fbGFiZWwpXG4gICkge1xuICAgIHZhciBsYWJlbEluZGV4ID1cbiAgICAgIGVudGl0eUNsdXN0ZXIuX2NvbGxlY3Rpb25JbmRpY2VzQnlFbnRpdHlbaXRlbS5pZC5pZF0ubGFiZWxJbmRleDtcbiAgICB2YXIgbGFiZWwgPSBlbnRpdHlDbHVzdGVyLl9sYWJlbENvbGxlY3Rpb24uZ2V0KGxhYmVsSW5kZXgpO1xuICAgIHZhciBsYWJlbEJCb3ggPSBMYWJlbC5nZXRTY3JlZW5TcGFjZUJvdW5kaW5nQm94KFxuICAgICAgbGFiZWwsXG4gICAgICBjb29yZCxcbiAgICAgIGxhYmVsQm91bmRpbmdCb3hTY3JhdGNoXG4gICAgKTtcbiAgICBleHBhbmRCb3VuZGluZ0JveChsYWJlbEJCb3gsIHBpeGVsUmFuZ2UpO1xuICAgIHJlc3VsdCA9IEJvdW5kaW5nUmVjdGFuZ2xlLnVuaW9uKHJlc3VsdCwgbGFiZWxCQm94LCByZXN1bHQpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gYWRkTm9uQ2x1c3RlcmVkSXRlbShpdGVtLCBlbnRpdHlDbHVzdGVyKSB7XG4gIGl0ZW0uY2x1c3RlclNob3cgPSB0cnVlO1xuXG4gIGlmIChcbiAgICAhZGVmaW5lZChpdGVtLl9sYWJlbENvbGxlY3Rpb24pICYmXG4gICAgZGVmaW5lZChpdGVtLmlkKSAmJlxuICAgIGhhc0xhYmVsSW5kZXgoZW50aXR5Q2x1c3RlciwgaXRlbS5pZC5pZCkgJiZcbiAgICBkZWZpbmVkKGl0ZW0uaWQuX2xhYmVsKVxuICApIHtcbiAgICB2YXIgbGFiZWxJbmRleCA9XG4gICAgICBlbnRpdHlDbHVzdGVyLl9jb2xsZWN0aW9uSW5kaWNlc0J5RW50aXR5W2l0ZW0uaWQuaWRdLmxhYmVsSW5kZXg7XG4gICAgdmFyIGxhYmVsID0gZW50aXR5Q2x1c3Rlci5fbGFiZWxDb2xsZWN0aW9uLmdldChsYWJlbEluZGV4KTtcbiAgICBsYWJlbC5jbHVzdGVyU2hvdyA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkQ2x1c3Rlcihwb3NpdGlvbiwgbnVtUG9pbnRzLCBpZHMsIGVudGl0eUNsdXN0ZXIpIHtcbiAgdmFyIGNsdXN0ZXIgPSB7XG4gICAgYmlsbGJvYXJkOiBlbnRpdHlDbHVzdGVyLl9jbHVzdGVyQmlsbGJvYXJkQ29sbGVjdGlvbi5hZGQoKSxcbiAgICBsYWJlbDogZW50aXR5Q2x1c3Rlci5fY2x1c3RlckxhYmVsQ29sbGVjdGlvbi5hZGQoKSxcbiAgICBwb2ludDogZW50aXR5Q2x1c3Rlci5fY2x1c3RlclBvaW50Q29sbGVjdGlvbi5hZGQoKSxcbiAgfTtcblxuICBjbHVzdGVyLmJpbGxib2FyZC5zaG93ID0gZmFsc2U7XG4gIGNsdXN0ZXIucG9pbnQuc2hvdyA9IGZhbHNlO1xuICBjbHVzdGVyLmxhYmVsLnNob3cgPSB0cnVlO1xuICBjbHVzdGVyLmxhYmVsLnRleHQgPSBudW1Qb2ludHMudG9Mb2NhbGVTdHJpbmcoKTtcbiAgY2x1c3Rlci5sYWJlbC5pZCA9IGlkcztcbiAgY2x1c3Rlci5iaWxsYm9hcmQucG9zaXRpb24gPSBjbHVzdGVyLmxhYmVsLnBvc2l0aW9uID0gY2x1c3Rlci5wb2ludC5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gIGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJFdmVudC5yYWlzZUV2ZW50KGlkcywgY2x1c3Rlcik7XG59XG5cbmZ1bmN0aW9uIGhhc0xhYmVsSW5kZXgoZW50aXR5Q2x1c3RlciwgZW50aXR5SWQpIHtcbiAgcmV0dXJuIChcbiAgICBkZWZpbmVkKGVudGl0eUNsdXN0ZXIpICYmXG4gICAgZGVmaW5lZChlbnRpdHlDbHVzdGVyLl9jb2xsZWN0aW9uSW5kaWNlc0J5RW50aXR5W2VudGl0eUlkXSkgJiZcbiAgICBkZWZpbmVkKGVudGl0eUNsdXN0ZXIuX2NvbGxlY3Rpb25JbmRpY2VzQnlFbnRpdHlbZW50aXR5SWRdLmxhYmVsSW5kZXgpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFNjcmVlblNwYWNlUG9zaXRpb25zKFxuICBjb2xsZWN0aW9uLFxuICBwb2ludHMsXG4gIHNjZW5lLFxuICBvY2NsdWRlcixcbiAgZW50aXR5Q2x1c3RlclxuKSB7XG4gIGlmICghZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBpdGVtID0gY29sbGVjdGlvbi5nZXQoaSk7XG4gICAgaXRlbS5jbHVzdGVyU2hvdyA9IGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgIWl0ZW0uc2hvdyB8fFxuICAgICAgKGVudGl0eUNsdXN0ZXIuX3NjZW5lLm1vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTNEICYmXG4gICAgICAgICFvY2NsdWRlci5pc1BvaW50VmlzaWJsZShpdGVtLnBvc2l0aW9uKSlcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBjYW5DbHVzdGVyTGFiZWxzID1cbiAgICAgIGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJMYWJlbHMgJiYgZGVmaW5lZChpdGVtLl9sYWJlbENvbGxlY3Rpb24pO1xuICAgIHZhciBjYW5DbHVzdGVyQmlsbGJvYXJkcyA9XG4gICAgICBlbnRpdHlDbHVzdGVyLl9jbHVzdGVyQmlsbGJvYXJkcyAmJiBkZWZpbmVkKGl0ZW0uaWQuX2JpbGxib2FyZCk7XG4gICAgdmFyIGNhbkNsdXN0ZXJQb2ludHMgPVxuICAgICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlclBvaW50cyAmJiBkZWZpbmVkKGl0ZW0uaWQuX3BvaW50KTtcbiAgICBpZiAoY2FuQ2x1c3RlckxhYmVscyAmJiAoY2FuQ2x1c3RlclBvaW50cyB8fCBjYW5DbHVzdGVyQmlsbGJvYXJkcykpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBjb29yZCA9IGl0ZW0uY29tcHV0ZVNjcmVlblNwYWNlUG9zaXRpb24oc2NlbmUpO1xuICAgIGlmICghZGVmaW5lZChjb29yZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHBvaW50cy5wdXNoKHtcbiAgICAgIGluZGV4OiBpLFxuICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbixcbiAgICAgIGNsdXN0ZXJlZDogZmFsc2UsXG4gICAgICBjb29yZDogY29vcmQsXG4gICAgfSk7XG4gIH1cbn1cblxudmFyIHBvaW50Qm91bmRpblJlY3RhbmdsZVNjcmF0Y2ggPSBuZXcgQm91bmRpbmdSZWN0YW5nbGUoKTtcbnZhciB0b3RhbEJvdW5kaW5nUmVjdGFuZ2xlU2NyYXRjaCA9IG5ldyBCb3VuZGluZ1JlY3RhbmdsZSgpO1xudmFyIG5laWdoYm9yQm91bmRpbmdSZWN0YW5nbGVTY3JhdGNoID0gbmV3IEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY2x1dHRlckNhbGxiYWNrKGVudGl0eUNsdXN0ZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICBpZiAoKGRlZmluZWQoYW1vdW50KSAmJiBhbW91bnQgPCAwLjA1KSB8fCAhZW50aXR5Q2x1c3Rlci5lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNjZW5lID0gZW50aXR5Q2x1c3Rlci5fc2NlbmU7XG5cbiAgICB2YXIgbGFiZWxDb2xsZWN0aW9uID0gZW50aXR5Q2x1c3Rlci5fbGFiZWxDb2xsZWN0aW9uO1xuICAgIHZhciBiaWxsYm9hcmRDb2xsZWN0aW9uID0gZW50aXR5Q2x1c3Rlci5fYmlsbGJvYXJkQ29sbGVjdGlvbjtcbiAgICB2YXIgcG9pbnRDb2xsZWN0aW9uID0gZW50aXR5Q2x1c3Rlci5fcG9pbnRDb2xsZWN0aW9uO1xuXG4gICAgaWYgKFxuICAgICAgKCFkZWZpbmVkKGxhYmVsQ29sbGVjdGlvbikgJiZcbiAgICAgICAgIWRlZmluZWQoYmlsbGJvYXJkQ29sbGVjdGlvbikgJiZcbiAgICAgICAgIWRlZmluZWQocG9pbnRDb2xsZWN0aW9uKSkgfHxcbiAgICAgICghZW50aXR5Q2x1c3Rlci5fY2x1c3RlckJpbGxib2FyZHMgJiZcbiAgICAgICAgIWVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJMYWJlbHMgJiZcbiAgICAgICAgIWVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJQb2ludHMpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNsdXN0ZXJlZExhYmVsQ29sbGVjdGlvbiA9IGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb247XG4gICAgdmFyIGNsdXN0ZXJlZEJpbGxib2FyZENvbGxlY3Rpb24gPVxuICAgICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckJpbGxib2FyZENvbGxlY3Rpb247XG4gICAgdmFyIGNsdXN0ZXJlZFBvaW50Q29sbGVjdGlvbiA9IGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJQb2ludENvbGxlY3Rpb247XG5cbiAgICBpZiAoZGVmaW5lZChjbHVzdGVyZWRMYWJlbENvbGxlY3Rpb24pKSB7XG4gICAgICBjbHVzdGVyZWRMYWJlbENvbGxlY3Rpb24ucmVtb3ZlQWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsdXN0ZXJlZExhYmVsQ29sbGVjdGlvbiA9IGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb24gPSBuZXcgTGFiZWxDb2xsZWN0aW9uKFxuICAgICAgICB7XG4gICAgICAgICAgc2NlbmU6IHNjZW5lLFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChkZWZpbmVkKGNsdXN0ZXJlZEJpbGxib2FyZENvbGxlY3Rpb24pKSB7XG4gICAgICBjbHVzdGVyZWRCaWxsYm9hcmRDb2xsZWN0aW9uLnJlbW92ZUFsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbHVzdGVyZWRCaWxsYm9hcmRDb2xsZWN0aW9uID0gZW50aXR5Q2x1c3Rlci5fY2x1c3RlckJpbGxib2FyZENvbGxlY3Rpb24gPSBuZXcgQmlsbGJvYXJkQ29sbGVjdGlvbihcbiAgICAgICAge1xuICAgICAgICAgIHNjZW5lOiBzY2VuZSxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZGVmaW5lZChjbHVzdGVyZWRQb2ludENvbGxlY3Rpb24pKSB7XG4gICAgICBjbHVzdGVyZWRQb2ludENvbGxlY3Rpb24ucmVtb3ZlQWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsdXN0ZXJlZFBvaW50Q29sbGVjdGlvbiA9IGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJQb2ludENvbGxlY3Rpb24gPSBuZXcgUG9pbnRQcmltaXRpdmVDb2xsZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgdmFyIHBpeGVsUmFuZ2UgPSBlbnRpdHlDbHVzdGVyLl9waXhlbFJhbmdlO1xuICAgIHZhciBtaW5pbXVtQ2x1c3RlclNpemUgPSBlbnRpdHlDbHVzdGVyLl9taW5pbXVtQ2x1c3RlclNpemU7XG5cbiAgICB2YXIgY2x1c3RlcnMgPSBlbnRpdHlDbHVzdGVyLl9wcmV2aW91c0NsdXN0ZXJzO1xuICAgIHZhciBuZXdDbHVzdGVycyA9IFtdO1xuXG4gICAgdmFyIHByZXZpb3VzSGVpZ2h0ID0gZW50aXR5Q2x1c3Rlci5fcHJldmlvdXNIZWlnaHQ7XG4gICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBzY2VuZS5jYW1lcmEucG9zaXRpb25DYXJ0b2dyYXBoaWMuaGVpZ2h0O1xuXG4gICAgdmFyIGVsbGlwc29pZCA9IHNjZW5lLm1hcFByb2plY3Rpb24uZWxsaXBzb2lkO1xuICAgIHZhciBjYW1lcmFQb3NpdGlvbiA9IHNjZW5lLmNhbWVyYS5wb3NpdGlvbldDO1xuICAgIHZhciBvY2NsdWRlciA9IG5ldyBFbGxpcHNvaWRhbE9jY2x1ZGVyKGVsbGlwc29pZCwgY2FtZXJhUG9zaXRpb24pO1xuXG4gICAgdmFyIHBvaW50cyA9IFtdO1xuICAgIGlmIChlbnRpdHlDbHVzdGVyLl9jbHVzdGVyTGFiZWxzKSB7XG4gICAgICBnZXRTY3JlZW5TcGFjZVBvc2l0aW9ucyhcbiAgICAgICAgbGFiZWxDb2xsZWN0aW9uLFxuICAgICAgICBwb2ludHMsXG4gICAgICAgIHNjZW5lLFxuICAgICAgICBvY2NsdWRlcixcbiAgICAgICAgZW50aXR5Q2x1c3RlclxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJCaWxsYm9hcmRzKSB7XG4gICAgICBnZXRTY3JlZW5TcGFjZVBvc2l0aW9ucyhcbiAgICAgICAgYmlsbGJvYXJkQ29sbGVjdGlvbixcbiAgICAgICAgcG9pbnRzLFxuICAgICAgICBzY2VuZSxcbiAgICAgICAgb2NjbHVkZXIsXG4gICAgICAgIGVudGl0eUNsdXN0ZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChlbnRpdHlDbHVzdGVyLl9jbHVzdGVyUG9pbnRzKSB7XG4gICAgICBnZXRTY3JlZW5TcGFjZVBvc2l0aW9ucyhcbiAgICAgICAgcG9pbnRDb2xsZWN0aW9uLFxuICAgICAgICBwb2ludHMsXG4gICAgICAgIHNjZW5lLFxuICAgICAgICBvY2NsdWRlcixcbiAgICAgICAgZW50aXR5Q2x1c3RlclxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgajtcbiAgICB2YXIgbGVuZ3RoO1xuICAgIHZhciBiYm94O1xuICAgIHZhciBuZWlnaGJvcnM7XG4gICAgdmFyIG5laWdoYm9yTGVuZ3RoO1xuICAgIHZhciBuZWlnaGJvckluZGV4O1xuICAgIHZhciBuZWlnaGJvclBvaW50O1xuICAgIHZhciBpZHM7XG4gICAgdmFyIG51bVBvaW50cztcblxuICAgIHZhciBjb2xsZWN0aW9uO1xuICAgIHZhciBjb2xsZWN0aW9uSW5kZXg7XG5cbiAgICB2YXIgaW5kZXggPSBuZXcgS0RCdXNoKHBvaW50cywgZ2V0WCwgZ2V0WSwgNjQsIEludDMyQXJyYXkpO1xuXG4gICAgaWYgKGN1cnJlbnRIZWlnaHQgPCBwcmV2aW91c0hlaWdodCkge1xuICAgICAgbGVuZ3RoID0gY2x1c3RlcnMubGVuZ3RoO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjbHVzdGVyID0gY2x1c3RlcnNbaV07XG5cbiAgICAgICAgaWYgKCFvY2NsdWRlci5pc1BvaW50VmlzaWJsZShjbHVzdGVyLnBvc2l0aW9uKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvb3JkID0gQmlsbGJvYXJkLl9jb21wdXRlU2NyZWVuU3BhY2VQb3NpdGlvbihcbiAgICAgICAgICBNYXRyaXg0LklERU5USVRZLFxuICAgICAgICAgIGNsdXN0ZXIucG9zaXRpb24sXG4gICAgICAgICAgQ2FydGVzaWFuMy5aRVJPLFxuICAgICAgICAgIENhcnRlc2lhbjIuWkVSTyxcbiAgICAgICAgICBzY2VuZVxuICAgICAgICApO1xuICAgICAgICBpZiAoIWRlZmluZWQoY29vcmQpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmFjdG9yID0gMS4wIC0gY3VycmVudEhlaWdodCAvIHByZXZpb3VzSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSAoY2x1c3Rlci53aWR0aCA9IGNsdXN0ZXIud2lkdGggKiBmYWN0b3IpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gKGNsdXN0ZXIuaGVpZ2h0ID0gY2x1c3Rlci5oZWlnaHQgKiBmYWN0b3IpO1xuXG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGNsdXN0ZXIubWluaW11bVdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBjbHVzdGVyLm1pbmltdW1IZWlnaHQpO1xuXG4gICAgICAgIHZhciBtaW5YID0gY29vcmQueCAtIHdpZHRoICogMC41O1xuICAgICAgICB2YXIgbWluWSA9IGNvb3JkLnkgLSBoZWlnaHQgKiAwLjU7XG4gICAgICAgIHZhciBtYXhYID0gY29vcmQueCArIHdpZHRoO1xuICAgICAgICB2YXIgbWF4WSA9IGNvb3JkLnkgKyBoZWlnaHQ7XG5cbiAgICAgICAgbmVpZ2hib3JzID0gaW5kZXgucmFuZ2UobWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgICAgIG5laWdoYm9yTGVuZ3RoID0gbmVpZ2hib3JzLmxlbmd0aDtcbiAgICAgICAgbnVtUG9pbnRzID0gMDtcbiAgICAgICAgaWRzID0gW107XG5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IG5laWdoYm9yTGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBuZWlnaGJvckluZGV4ID0gbmVpZ2hib3JzW2pdO1xuICAgICAgICAgIG5laWdoYm9yUG9pbnQgPSBwb2ludHNbbmVpZ2hib3JJbmRleF07XG4gICAgICAgICAgaWYgKCFuZWlnaGJvclBvaW50LmNsdXN0ZXJlZCkge1xuICAgICAgICAgICAgKytudW1Qb2ludHM7XG5cbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBuZWlnaGJvclBvaW50LmNvbGxlY3Rpb247XG4gICAgICAgICAgICBjb2xsZWN0aW9uSW5kZXggPSBuZWlnaGJvclBvaW50LmluZGV4O1xuICAgICAgICAgICAgaWRzLnB1c2goY29sbGVjdGlvbi5nZXQoY29sbGVjdGlvbkluZGV4KS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bVBvaW50cyA+PSBtaW5pbXVtQ2x1c3RlclNpemUpIHtcbiAgICAgICAgICBhZGRDbHVzdGVyKGNsdXN0ZXIucG9zaXRpb24sIG51bVBvaW50cywgaWRzLCBlbnRpdHlDbHVzdGVyKTtcbiAgICAgICAgICBuZXdDbHVzdGVycy5wdXNoKGNsdXN0ZXIpO1xuXG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5laWdoYm9yTGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHBvaW50c1tuZWlnaGJvcnNbal1dLmNsdXN0ZXJlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGlmIChwb2ludC5jbHVzdGVyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHBvaW50LmNsdXN0ZXJlZCA9IHRydWU7XG5cbiAgICAgIGNvbGxlY3Rpb24gPSBwb2ludC5jb2xsZWN0aW9uO1xuICAgICAgY29sbGVjdGlvbkluZGV4ID0gcG9pbnQuaW5kZXg7XG5cbiAgICAgIHZhciBpdGVtID0gY29sbGVjdGlvbi5nZXQoY29sbGVjdGlvbkluZGV4KTtcbiAgICAgIGJib3ggPSBnZXRCb3VuZGluZ0JveChcbiAgICAgICAgaXRlbSxcbiAgICAgICAgcG9pbnQuY29vcmQsXG4gICAgICAgIHBpeGVsUmFuZ2UsXG4gICAgICAgIGVudGl0eUNsdXN0ZXIsXG4gICAgICAgIHBvaW50Qm91bmRpblJlY3RhbmdsZVNjcmF0Y2hcbiAgICAgICk7XG4gICAgICB2YXIgdG90YWxCQm94ID0gQm91bmRpbmdSZWN0YW5nbGUuY2xvbmUoXG4gICAgICAgIGJib3gsXG4gICAgICAgIHRvdGFsQm91bmRpbmdSZWN0YW5nbGVTY3JhdGNoXG4gICAgICApO1xuXG4gICAgICBuZWlnaGJvcnMgPSBpbmRleC5yYW5nZShcbiAgICAgICAgYmJveC54LFxuICAgICAgICBiYm94LnksXG4gICAgICAgIGJib3gueCArIGJib3gud2lkdGgsXG4gICAgICAgIGJib3gueSArIGJib3guaGVpZ2h0XG4gICAgICApO1xuICAgICAgbmVpZ2hib3JMZW5ndGggPSBuZWlnaGJvcnMubGVuZ3RoO1xuXG4gICAgICB2YXIgY2x1c3RlclBvc2l0aW9uID0gQ2FydGVzaWFuMy5jbG9uZShpdGVtLnBvc2l0aW9uKTtcbiAgICAgIG51bVBvaW50cyA9IDE7XG4gICAgICBpZHMgPSBbaXRlbS5pZF07XG5cbiAgICAgIGZvciAoaiA9IDA7IGogPCBuZWlnaGJvckxlbmd0aDsgKytqKSB7XG4gICAgICAgIG5laWdoYm9ySW5kZXggPSBuZWlnaGJvcnNbal07XG4gICAgICAgIG5laWdoYm9yUG9pbnQgPSBwb2ludHNbbmVpZ2hib3JJbmRleF07XG4gICAgICAgIGlmICghbmVpZ2hib3JQb2ludC5jbHVzdGVyZWQpIHtcbiAgICAgICAgICB2YXIgbmVpZ2hib3JJdGVtID0gbmVpZ2hib3JQb2ludC5jb2xsZWN0aW9uLmdldChuZWlnaGJvclBvaW50LmluZGV4KTtcbiAgICAgICAgICB2YXIgbmVpZ2hib3JCQm94ID0gZ2V0Qm91bmRpbmdCb3goXG4gICAgICAgICAgICBuZWlnaGJvckl0ZW0sXG4gICAgICAgICAgICBuZWlnaGJvclBvaW50LmNvb3JkLFxuICAgICAgICAgICAgcGl4ZWxSYW5nZSxcbiAgICAgICAgICAgIGVudGl0eUNsdXN0ZXIsXG4gICAgICAgICAgICBuZWlnaGJvckJvdW5kaW5nUmVjdGFuZ2xlU2NyYXRjaFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBDYXJ0ZXNpYW4zLmFkZChcbiAgICAgICAgICAgIG5laWdoYm9ySXRlbS5wb3NpdGlvbixcbiAgICAgICAgICAgIGNsdXN0ZXJQb3NpdGlvbixcbiAgICAgICAgICAgIGNsdXN0ZXJQb3NpdGlvblxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBCb3VuZGluZ1JlY3RhbmdsZS51bmlvbih0b3RhbEJCb3gsIG5laWdoYm9yQkJveCwgdG90YWxCQm94KTtcbiAgICAgICAgICArK251bVBvaW50cztcblxuICAgICAgICAgIGlkcy5wdXNoKG5laWdoYm9ySXRlbS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG51bVBvaW50cyA+PSBtaW5pbXVtQ2x1c3RlclNpemUpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gQ2FydGVzaWFuMy5tdWx0aXBseUJ5U2NhbGFyKFxuICAgICAgICAgIGNsdXN0ZXJQb3NpdGlvbixcbiAgICAgICAgICAxLjAgLyBudW1Qb2ludHMsXG4gICAgICAgICAgY2x1c3RlclBvc2l0aW9uXG4gICAgICAgICk7XG4gICAgICAgIGFkZENsdXN0ZXIocG9zaXRpb24sIG51bVBvaW50cywgaWRzLCBlbnRpdHlDbHVzdGVyKTtcbiAgICAgICAgbmV3Q2x1c3RlcnMucHVzaCh7XG4gICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgIHdpZHRoOiB0b3RhbEJCb3gud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB0b3RhbEJCb3guaGVpZ2h0LFxuICAgICAgICAgIG1pbmltdW1XaWR0aDogYmJveC53aWR0aCxcbiAgICAgICAgICBtaW5pbXVtSGVpZ2h0OiBiYm94LmhlaWdodCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChqID0gMDsgaiA8IG5laWdoYm9yTGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBwb2ludHNbbmVpZ2hib3JzW2pdXS5jbHVzdGVyZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGROb25DbHVzdGVyZWRJdGVtKGl0ZW0sIGVudGl0eUNsdXN0ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjbHVzdGVyZWRMYWJlbENvbGxlY3Rpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICBjbHVzdGVyZWRMYWJlbENvbGxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckxhYmVsQ29sbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoY2x1c3RlcmVkQmlsbGJvYXJkQ29sbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgIGNsdXN0ZXJlZEJpbGxib2FyZENvbGxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckJpbGxib2FyZENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGNsdXN0ZXJlZFBvaW50Q29sbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgIGNsdXN0ZXJlZFBvaW50Q29sbGVjdGlvbi5kZXN0cm95KCk7XG4gICAgICBlbnRpdHlDbHVzdGVyLl9jbHVzdGVyUG9pbnRDb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVudGl0eUNsdXN0ZXIuX3ByZXZpb3VzQ2x1c3RlcnMgPSBuZXdDbHVzdGVycztcbiAgICBlbnRpdHlDbHVzdGVyLl9wcmV2aW91c0hlaWdodCA9IGN1cnJlbnRIZWlnaHQ7XG4gIH07XG59XG5cbkVudGl0eUNsdXN0ZXIucHJvdG90eXBlLl9pbml0aWFsaXplID0gZnVuY3Rpb24gKHNjZW5lKSB7XG4gIHRoaXMuX3NjZW5lID0gc2NlbmU7XG5cbiAgdmFyIGNsdXN0ZXIgPSBjcmVhdGVEZWNsdXR0ZXJDYWxsYmFjayh0aGlzKTtcbiAgdGhpcy5fY2x1c3RlciA9IGNsdXN0ZXI7XG4gIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIgPSBzY2VuZS5jYW1lcmEuY2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKGNsdXN0ZXIpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRW50aXR5Q2x1c3Rlci5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIGNsdXN0ZXJpbmcgaXMgZW5hYmxlZC5cbiAgICogQG1lbWJlcm9mIEVudGl0eUNsdXN0ZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgZW5hYmxlZDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy5fZW5hYmxlZERpcnR5ID0gdmFsdWUgIT09IHRoaXMuX2VuYWJsZWQ7XG4gICAgICB0aGlzLl9lbmFibGVkID0gdmFsdWU7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgcGl4ZWwgcmFuZ2UgdG8gZXh0ZW5kIHRoZSBzY3JlZW4gc3BhY2UgYm91bmRpbmcgYm94LlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Q2x1c3Rlci5wcm90b3R5cGVcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHBpeGVsUmFuZ2U6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9waXhlbFJhbmdlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9IHRoaXMuX2NsdXN0ZXJEaXJ0eSB8fCB2YWx1ZSAhPT0gdGhpcy5fcGl4ZWxSYW5nZTtcbiAgICAgIHRoaXMuX3BpeGVsUmFuZ2UgPSB2YWx1ZTtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBtaW5pbXVtIG51bWJlciBvZiBzY3JlZW4gc3BhY2Ugb2JqZWN0cyB0aGF0IGNhbiBiZSBjbHVzdGVyZWQuXG4gICAqIEBtZW1iZXJvZiBFbnRpdHlDbHVzdGVyLnByb3RvdHlwZVxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgbWluaW11bUNsdXN0ZXJTaXplOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWluaW11bUNsdXN0ZXJTaXplO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSB8fCB2YWx1ZSAhPT0gdGhpcy5fbWluaW11bUNsdXN0ZXJTaXplO1xuICAgICAgdGhpcy5fbWluaW11bUNsdXN0ZXJTaXplID0gdmFsdWU7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgd2lsbCBiZSByYWlzZWQgd2hlbiBhIG5ldyBjbHVzdGVyIHdpbGwgYmUgZGlzcGxheWVkLiBUaGUgc2lnbmF0dXJlIG9mIHRoZSBldmVudCBsaXN0ZW5lciBpcyB7QGxpbmsgRW50aXR5Q2x1c3Rlci5uZXdDbHVzdGVyQ2FsbGJhY2t9LlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Q2x1c3Rlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0V2ZW50fVxuICAgKi9cbiAgY2x1c3RlckV2ZW50OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2x1c3RlckV2ZW50O1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciBjbHVzdGVyaW5nIGJpbGxib2FyZCBlbnRpdGllcyBpcyBlbmFibGVkLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Q2x1c3Rlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBjbHVzdGVyQmlsbGJvYXJkczoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsdXN0ZXJCaWxsYm9hcmRzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSB8fCB2YWx1ZSAhPT0gdGhpcy5fY2x1c3RlckJpbGxib2FyZHM7XG4gICAgICB0aGlzLl9jbHVzdGVyQmlsbGJvYXJkcyA9IHZhbHVlO1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciBjbHVzdGVyaW5nIGxhYmVscyBlbnRpdGllcyBpcyBlbmFibGVkLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Q2x1c3Rlci5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBjbHVzdGVyTGFiZWxzOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2x1c3RlckxhYmVscztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLl9jbHVzdGVyRGlydHkgPSB0aGlzLl9jbHVzdGVyRGlydHkgfHwgdmFsdWUgIT09IHRoaXMuX2NsdXN0ZXJMYWJlbHM7XG4gICAgICB0aGlzLl9jbHVzdGVyTGFiZWxzID0gdmFsdWU7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIGNsdXN0ZXJpbmcgcG9pbnQgZW50aXRpZXMgaXMgZW5hYmxlZC5cbiAgICogQG1lbWJlcm9mIEVudGl0eUNsdXN0ZXIucHJvdG90eXBlXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgY2x1c3RlclBvaW50czoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsdXN0ZXJQb2ludHM7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy5fY2x1c3RlckRpcnR5ID0gdGhpcy5fY2x1c3RlckRpcnR5IHx8IHZhbHVlICE9PSB0aGlzLl9jbHVzdGVyUG9pbnRzO1xuICAgICAgdGhpcy5fY2x1c3RlclBvaW50cyA9IHZhbHVlO1xuICAgIH0sXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gY3JlYXRlR2V0RW50aXR5KFxuICBjb2xsZWN0aW9uUHJvcGVydHksXG4gIENvbGxlY3Rpb25Db25zdHJ1Y3RvcixcbiAgdW51c2VkSW5kaWNlc1Byb3BlcnR5LFxuICBlbnRpdHlJbmRleFByb3BlcnR5XG4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXNbY29sbGVjdGlvblByb3BlcnR5XTtcblxuICAgIGlmICghZGVmaW5lZCh0aGlzLl9jb2xsZWN0aW9uSW5kaWNlc0J5RW50aXR5KSkge1xuICAgICAgdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eSA9IHt9O1xuICAgIH1cblxuICAgIHZhciBlbnRpdHlJbmRpY2VzID0gdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eVtlbnRpdHkuaWRdO1xuXG4gICAgaWYgKCFkZWZpbmVkKGVudGl0eUluZGljZXMpKSB7XG4gICAgICBlbnRpdHlJbmRpY2VzID0gdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eVtlbnRpdHkuaWRdID0ge1xuICAgICAgICBiaWxsYm9hcmRJbmRleDogdW5kZWZpbmVkLFxuICAgICAgICBsYWJlbEluZGV4OiB1bmRlZmluZWQsXG4gICAgICAgIHBvaW50SW5kZXg6IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGRlZmluZWQoY29sbGVjdGlvbikgJiYgZGVmaW5lZChlbnRpdHlJbmRpY2VzW2VudGl0eUluZGV4UHJvcGVydHldKSkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uZ2V0KGVudGl0eUluZGljZXNbZW50aXR5SW5kZXhQcm9wZXJ0eV0pO1xuICAgIH1cblxuICAgIGlmICghZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgICAgY29sbGVjdGlvbiA9IHRoaXNbY29sbGVjdGlvblByb3BlcnR5XSA9IG5ldyBDb2xsZWN0aW9uQ29uc3RydWN0b3Ioe1xuICAgICAgICBzY2VuZTogdGhpcy5fc2NlbmUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXg7XG4gICAgdmFyIGVudGl0eUl0ZW07XG5cbiAgICB2YXIgdW51c2VkSW5kaWNlcyA9IHRoaXNbdW51c2VkSW5kaWNlc1Byb3BlcnR5XTtcbiAgICBpZiAodW51c2VkSW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpbmRleCA9IHVudXNlZEluZGljZXMucG9wKCk7XG4gICAgICBlbnRpdHlJdGVtID0gY29sbGVjdGlvbi5nZXQoaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRpdHlJdGVtID0gY29sbGVjdGlvbi5hZGQoKTtcbiAgICAgIGluZGV4ID0gY29sbGVjdGlvbi5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGVudGl0eUluZGljZXNbZW50aXR5SW5kZXhQcm9wZXJ0eV0gPSBpbmRleDtcblxuICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9IHRydWU7XG5cbiAgICByZXR1cm4gZW50aXR5SXRlbTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRW50aXR5SW5kaWNlc0lmVW51c2VkKGVudGl0eUNsdXN0ZXIsIGVudGl0eUlkKSB7XG4gIHZhciBpbmRpY2VzID0gZW50aXR5Q2x1c3Rlci5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eVtlbnRpdHlJZF07XG5cbiAgaWYgKFxuICAgICFkZWZpbmVkKGluZGljZXMuYmlsbGJvYXJkSW5kZXgpICYmXG4gICAgIWRlZmluZWQoaW5kaWNlcy5sYWJlbEluZGV4KSAmJlxuICAgICFkZWZpbmVkKGluZGljZXMucG9pbnRJbmRleClcbiAgKSB7XG4gICAgZGVsZXRlIGVudGl0eUNsdXN0ZXIuX2NvbGxlY3Rpb25JbmRpY2VzQnlFbnRpdHlbZW50aXR5SWRdO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyB7QGxpbmsgTGFiZWx9LlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IHRoYXQgd2lsbCB1c2UgdGhlIHJldHVybmVkIHtAbGluayBMYWJlbH0gZm9yIHZpc3VhbGl6YXRpb24uXG4gKiBAcmV0dXJucyB7TGFiZWx9IFRoZSBsYWJlbCB0aGF0IHdpbGwgYmUgdXNlZCB0byB2aXN1YWxpemUgYW4gZW50aXR5LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkVudGl0eUNsdXN0ZXIucHJvdG90eXBlLmdldExhYmVsID0gY3JlYXRlR2V0RW50aXR5KFxuICBcIl9sYWJlbENvbGxlY3Rpb25cIixcbiAgTGFiZWxDb2xsZWN0aW9uLFxuICBcIl91bnVzZWRMYWJlbEluZGljZXNcIixcbiAgXCJsYWJlbEluZGV4XCJcbik7XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUge0BsaW5rIExhYmVsfSBhc3NvY2lhdGVkIHdpdGggYW4gZW50aXR5IHNvIGl0IGNhbiBiZSByZXVzZWQgYnkgYW5vdGhlciBlbnRpdHkuXG4gKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IFRoZSBlbnRpdHkgdGhhdCB3aWxsIHVzZXMgdGhlIHJldHVybmVkIHtAbGluayBMYWJlbH0gZm9yIHZpc3VhbGl6YXRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRW50aXR5Q2x1c3Rlci5wcm90b3R5cGUucmVtb3ZlTGFiZWwgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gIHZhciBlbnRpdHlJbmRpY2VzID1cbiAgICB0aGlzLl9jb2xsZWN0aW9uSW5kaWNlc0J5RW50aXR5ICYmXG4gICAgdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eVtlbnRpdHkuaWRdO1xuICBpZiAoXG4gICAgIWRlZmluZWQodGhpcy5fbGFiZWxDb2xsZWN0aW9uKSB8fFxuICAgICFkZWZpbmVkKGVudGl0eUluZGljZXMpIHx8XG4gICAgIWRlZmluZWQoZW50aXR5SW5kaWNlcy5sYWJlbEluZGV4KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW5kZXggPSBlbnRpdHlJbmRpY2VzLmxhYmVsSW5kZXg7XG4gIGVudGl0eUluZGljZXMubGFiZWxJbmRleCA9IHVuZGVmaW5lZDtcbiAgcmVtb3ZlRW50aXR5SW5kaWNlc0lmVW51c2VkKHRoaXMsIGVudGl0eS5pZCk7XG5cbiAgdmFyIGxhYmVsID0gdGhpcy5fbGFiZWxDb2xsZWN0aW9uLmdldChpbmRleCk7XG4gIGxhYmVsLnNob3cgPSBmYWxzZTtcbiAgbGFiZWwudGV4dCA9IFwiXCI7XG4gIGxhYmVsLmlkID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX3VudXNlZExhYmVsSW5kaWNlcy5wdXNoKGluZGV4KTtcblxuICB0aGlzLl9jbHVzdGVyRGlydHkgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IHtAbGluayBCaWxsYm9hcmR9LlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IHRoYXQgd2lsbCB1c2UgdGhlIHJldHVybmVkIHtAbGluayBCaWxsYm9hcmR9IGZvciB2aXN1YWxpemF0aW9uLlxuICogQHJldHVybnMge0JpbGxib2FyZH0gVGhlIGxhYmVsIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHZpc3VhbGl6ZSBhbiBlbnRpdHkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRW50aXR5Q2x1c3Rlci5wcm90b3R5cGUuZ2V0QmlsbGJvYXJkID0gY3JlYXRlR2V0RW50aXR5KFxuICBcIl9iaWxsYm9hcmRDb2xsZWN0aW9uXCIsXG4gIEJpbGxib2FyZENvbGxlY3Rpb24sXG4gIFwiX3VudXNlZEJpbGxib2FyZEluZGljZXNcIixcbiAgXCJiaWxsYm9hcmRJbmRleFwiXG4pO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHtAbGluayBCaWxsYm9hcmR9IGFzc29jaWF0ZWQgd2l0aCBhbiBlbnRpdHkgc28gaXQgY2FuIGJlIHJldXNlZCBieSBhbm90aGVyIGVudGl0eS5cbiAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgVGhlIGVudGl0eSB0aGF0IHdpbGwgdXNlcyB0aGUgcmV0dXJuZWQge0BsaW5rIEJpbGxib2FyZH0gZm9yIHZpc3VhbGl6YXRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRW50aXR5Q2x1c3Rlci5wcm90b3R5cGUucmVtb3ZlQmlsbGJvYXJkID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICB2YXIgZW50aXR5SW5kaWNlcyA9XG4gICAgdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eSAmJlxuICAgIHRoaXMuX2NvbGxlY3Rpb25JbmRpY2VzQnlFbnRpdHlbZW50aXR5LmlkXTtcbiAgaWYgKFxuICAgICFkZWZpbmVkKHRoaXMuX2JpbGxib2FyZENvbGxlY3Rpb24pIHx8XG4gICAgIWRlZmluZWQoZW50aXR5SW5kaWNlcykgfHxcbiAgICAhZGVmaW5lZChlbnRpdHlJbmRpY2VzLmJpbGxib2FyZEluZGV4KVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW5kZXggPSBlbnRpdHlJbmRpY2VzLmJpbGxib2FyZEluZGV4O1xuICBlbnRpdHlJbmRpY2VzLmJpbGxib2FyZEluZGV4ID0gdW5kZWZpbmVkO1xuICByZW1vdmVFbnRpdHlJbmRpY2VzSWZVbnVzZWQodGhpcywgZW50aXR5LmlkKTtcblxuICB2YXIgYmlsbGJvYXJkID0gdGhpcy5fYmlsbGJvYXJkQ29sbGVjdGlvbi5nZXQoaW5kZXgpO1xuICBiaWxsYm9hcmQuaWQgPSB1bmRlZmluZWQ7XG4gIGJpbGxib2FyZC5zaG93ID0gZmFsc2U7XG4gIGJpbGxib2FyZC5pbWFnZSA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl91bnVzZWRCaWxsYm9hcmRJbmRpY2VzLnB1c2goaW5kZXgpO1xuXG4gIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9IHRydWU7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBuZXcge0BsaW5rIFBvaW50fS5cbiAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgVGhlIGVudGl0eSB0aGF0IHdpbGwgdXNlIHRoZSByZXR1cm5lZCB7QGxpbmsgUG9pbnR9IGZvciB2aXN1YWxpemF0aW9uLlxuICogQHJldHVybnMge1BvaW50fSBUaGUgbGFiZWwgdGhhdCB3aWxsIGJlIHVzZWQgdG8gdmlzdWFsaXplIGFuIGVudGl0eS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5FbnRpdHlDbHVzdGVyLnByb3RvdHlwZS5nZXRQb2ludCA9IGNyZWF0ZUdldEVudGl0eShcbiAgXCJfcG9pbnRDb2xsZWN0aW9uXCIsXG4gIFBvaW50UHJpbWl0aXZlQ29sbGVjdGlvbixcbiAgXCJfdW51c2VkUG9pbnRJbmRpY2VzXCIsXG4gIFwicG9pbnRJbmRleFwiXG4pO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHtAbGluayBQb2ludH0gYXNzb2NpYXRlZCB3aXRoIGFuIGVudGl0eSBzbyBpdCBjYW4gYmUgcmV1c2VkIGJ5IGFub3RoZXIgZW50aXR5LlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IHRoYXQgd2lsbCB1c2VzIHRoZSByZXR1cm5lZCB7QGxpbmsgUG9pbnR9IGZvciB2aXN1YWxpemF0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkVudGl0eUNsdXN0ZXIucHJvdG90eXBlLnJlbW92ZVBvaW50ID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICB2YXIgZW50aXR5SW5kaWNlcyA9XG4gICAgdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eSAmJlxuICAgIHRoaXMuX2NvbGxlY3Rpb25JbmRpY2VzQnlFbnRpdHlbZW50aXR5LmlkXTtcbiAgaWYgKFxuICAgICFkZWZpbmVkKHRoaXMuX3BvaW50Q29sbGVjdGlvbikgfHxcbiAgICAhZGVmaW5lZChlbnRpdHlJbmRpY2VzKSB8fFxuICAgICFkZWZpbmVkKGVudGl0eUluZGljZXMucG9pbnRJbmRleClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gZW50aXR5SW5kaWNlcy5wb2ludEluZGV4O1xuICBlbnRpdHlJbmRpY2VzLnBvaW50SW5kZXggPSB1bmRlZmluZWQ7XG4gIHJlbW92ZUVudGl0eUluZGljZXNJZlVudXNlZCh0aGlzLCBlbnRpdHkuaWQpO1xuXG4gIHZhciBwb2ludCA9IHRoaXMuX3BvaW50Q29sbGVjdGlvbi5nZXQoaW5kZXgpO1xuICBwb2ludC5zaG93ID0gZmFsc2U7XG4gIHBvaW50LmlkID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX3VudXNlZFBvaW50SW5kaWNlcy5wdXNoKGluZGV4KTtcblxuICB0aGlzLl9jbHVzdGVyRGlydHkgPSB0cnVlO1xufTtcblxuZnVuY3Rpb24gZGlzYWJsZUNvbGxlY3Rpb25DbHVzdGVyaW5nKGNvbGxlY3Rpb24pIHtcbiAgaWYgKCFkZWZpbmVkKGNvbGxlY3Rpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29sbGVjdGlvbi5nZXQoaSkuY2x1c3RlclNob3cgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUVuYWJsZShlbnRpdHlDbHVzdGVyKSB7XG4gIGlmIChlbnRpdHlDbHVzdGVyLmVuYWJsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZGVmaW5lZChlbnRpdHlDbHVzdGVyLl9jbHVzdGVyTGFiZWxDb2xsZWN0aW9uKSkge1xuICAgIGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb24uZGVzdHJveSgpO1xuICB9XG4gIGlmIChkZWZpbmVkKGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJCaWxsYm9hcmRDb2xsZWN0aW9uKSkge1xuICAgIGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJCaWxsYm9hcmRDb2xsZWN0aW9uLmRlc3Ryb3koKTtcbiAgfVxuICBpZiAoZGVmaW5lZChlbnRpdHlDbHVzdGVyLl9jbHVzdGVyUG9pbnRDb2xsZWN0aW9uKSkge1xuICAgIGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJQb2ludENvbGxlY3Rpb24uZGVzdHJveSgpO1xuICB9XG5cbiAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckxhYmVsQ29sbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgZW50aXR5Q2x1c3Rlci5fY2x1c3RlckJpbGxib2FyZENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIGVudGl0eUNsdXN0ZXIuX2NsdXN0ZXJQb2ludENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgZGlzYWJsZUNvbGxlY3Rpb25DbHVzdGVyaW5nKGVudGl0eUNsdXN0ZXIuX2xhYmVsQ29sbGVjdGlvbik7XG4gIGRpc2FibGVDb2xsZWN0aW9uQ2x1c3RlcmluZyhlbnRpdHlDbHVzdGVyLl9iaWxsYm9hcmRDb2xsZWN0aW9uKTtcbiAgZGlzYWJsZUNvbGxlY3Rpb25DbHVzdGVyaW5nKGVudGl0eUNsdXN0ZXIuX3BvaW50Q29sbGVjdGlvbik7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZHJhdyBjb21tYW5kcyBmb3IgdGhlIGNsdXN0ZXJlZCBiaWxsYm9hcmRzL3BvaW50cy9sYWJlbHMgaWYgZW5hYmxlZCwgb3RoZXJ3aXNlLFxuICogcXVldWVzIHRoZSBkcmF3IGNvbW1hbmRzIGZvciBiaWxsYm9hcmRzL3BvaW50cy9sYWJlbHMgY3JlYXRlZCBmb3IgZW50aXRpZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5FbnRpdHlDbHVzdGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZnJhbWVTdGF0ZSkge1xuICBpZiAoIXRoaXMuc2hvdykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIGNsdXN0ZXJpbmcgaXMgZW5hYmxlZCBiZWZvcmUgdGhlIGxhYmVsIGNvbGxlY3Rpb24gaXMgdXBkYXRlZCxcbiAgLy8gdGhlIGdseXBocyBoYXZlbid0IGJlZW4gY3JlYXRlZCBzbyB0aGUgc2NyZWVuIHNwYWNlIGJvdW5kaW5nIGJveGVzXG4gIC8vIGFyZSBpbmNvcnJlY3QuXG4gIHZhciBjb21tYW5kTGlzdDtcbiAgaWYgKFxuICAgIGRlZmluZWQodGhpcy5fbGFiZWxDb2xsZWN0aW9uKSAmJlxuICAgIHRoaXMuX2xhYmVsQ29sbGVjdGlvbi5sZW5ndGggPiAwICYmXG4gICAgdGhpcy5fbGFiZWxDb2xsZWN0aW9uLmdldCgwKS5fZ2x5cGhzLmxlbmd0aCA9PT0gMFxuICApIHtcbiAgICBjb21tYW5kTGlzdCA9IGZyYW1lU3RhdGUuY29tbWFuZExpc3Q7XG4gICAgZnJhbWVTdGF0ZS5jb21tYW5kTGlzdCA9IFtdO1xuICAgIHRoaXMuX2xhYmVsQ29sbGVjdGlvbi51cGRhdGUoZnJhbWVTdGF0ZSk7XG4gICAgZnJhbWVTdGF0ZS5jb21tYW5kTGlzdCA9IGNvbW1hbmRMaXN0O1xuICB9XG5cbiAgLy8gSWYgY2x1c3RlcmluZyBpcyBlbmFibGVkIGJlZm9yZSB0aGUgYmlsbGJvYXJkIGNvbGxlY3Rpb24gaXMgdXBkYXRlZCxcbiAgLy8gdGhlIGltYWdlcyBoYXZlbid0IGJlZW4gYWRkZWQgdG8gdGhlIGltYWdlIGF0bGFzIHNvIHRoZSBzY3JlZW4gc3BhY2UgYm91bmRpbmcgYm94ZXNcbiAgLy8gYXJlIGluY29ycmVjdC5cbiAgaWYgKFxuICAgIGRlZmluZWQodGhpcy5fYmlsbGJvYXJkQ29sbGVjdGlvbikgJiZcbiAgICB0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uLmxlbmd0aCA+IDAgJiZcbiAgICAhZGVmaW5lZCh0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uLmdldCgwKS53aWR0aClcbiAgKSB7XG4gICAgY29tbWFuZExpc3QgPSBmcmFtZVN0YXRlLmNvbW1hbmRMaXN0O1xuICAgIGZyYW1lU3RhdGUuY29tbWFuZExpc3QgPSBbXTtcbiAgICB0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uLnVwZGF0ZShmcmFtZVN0YXRlKTtcbiAgICBmcmFtZVN0YXRlLmNvbW1hbmRMaXN0ID0gY29tbWFuZExpc3Q7XG4gIH1cblxuICBpZiAodGhpcy5fZW5hYmxlZERpcnR5KSB7XG4gICAgdGhpcy5fZW5hYmxlZERpcnR5ID0gZmFsc2U7XG4gICAgdXBkYXRlRW5hYmxlKHRoaXMpO1xuICAgIHRoaXMuX2NsdXN0ZXJEaXJ0eSA9IHRydWU7XG4gIH1cblxuICBpZiAodGhpcy5fY2x1c3RlckRpcnR5KSB7XG4gICAgdGhpcy5fY2x1c3RlckRpcnR5ID0gZmFsc2U7XG4gICAgdGhpcy5fY2x1c3RlcigpO1xuICB9XG5cbiAgaWYgKGRlZmluZWQodGhpcy5fY2x1c3RlckxhYmVsQ29sbGVjdGlvbikpIHtcbiAgICB0aGlzLl9jbHVzdGVyTGFiZWxDb2xsZWN0aW9uLnVwZGF0ZShmcmFtZVN0YXRlKTtcbiAgfVxuICBpZiAoZGVmaW5lZCh0aGlzLl9jbHVzdGVyQmlsbGJvYXJkQ29sbGVjdGlvbikpIHtcbiAgICB0aGlzLl9jbHVzdGVyQmlsbGJvYXJkQ29sbGVjdGlvbi51cGRhdGUoZnJhbWVTdGF0ZSk7XG4gIH1cbiAgaWYgKGRlZmluZWQodGhpcy5fY2x1c3RlclBvaW50Q29sbGVjdGlvbikpIHtcbiAgICB0aGlzLl9jbHVzdGVyUG9pbnRDb2xsZWN0aW9uLnVwZGF0ZShmcmFtZVN0YXRlKTtcbiAgfVxuXG4gIGlmIChkZWZpbmVkKHRoaXMuX2xhYmVsQ29sbGVjdGlvbikpIHtcbiAgICB0aGlzLl9sYWJlbENvbGxlY3Rpb24udXBkYXRlKGZyYW1lU3RhdGUpO1xuICB9XG4gIGlmIChkZWZpbmVkKHRoaXMuX2JpbGxib2FyZENvbGxlY3Rpb24pKSB7XG4gICAgdGhpcy5fYmlsbGJvYXJkQ29sbGVjdGlvbi51cGRhdGUoZnJhbWVTdGF0ZSk7XG4gIH1cbiAgaWYgKGRlZmluZWQodGhpcy5fcG9pbnRDb2xsZWN0aW9uKSkge1xuICAgIHRoaXMuX3BvaW50Q29sbGVjdGlvbi51cGRhdGUoZnJhbWVTdGF0ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIFdlYkdMIHJlc291cmNlcyBoZWxkIGJ5IHRoaXMgb2JqZWN0LiAgRGVzdHJveWluZyBhbiBvYmplY3QgYWxsb3dzIGZvciBkZXRlcm1pbmlzdGljXG4gKiByZWxlYXNlIG9mIFdlYkdMIHJlc291cmNlcywgaW5zdGVhZCBvZiByZWx5aW5nIG9uIHRoZSBnYXJiYWdlIGNvbGxlY3RvciB0byBkZXN0cm95IHRoaXMgb2JqZWN0LlxuICogPHA+XG4gKiBVbmxpa2Ugb3RoZXIgb2JqZWN0cyB0aGF0IHVzZSBXZWJHTCByZXNvdXJjZXMsIHRoaXMgb2JqZWN0IGNhbiBiZSByZXVzZWQuIEZvciBleGFtcGxlLCBpZiBhIGRhdGEgc291cmNlIGlzIHJlbW92ZWRcbiAqIGZyb20gYSBkYXRhIHNvdXJjZSBjb2xsZWN0aW9uIGFuZCBhZGRlZCB0byBhbm90aGVyLlxuICogPC9wPlxuICovXG5FbnRpdHlDbHVzdGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9sYWJlbENvbGxlY3Rpb24gPVxuICAgIHRoaXMuX2xhYmVsQ29sbGVjdGlvbiAmJiB0aGlzLl9sYWJlbENvbGxlY3Rpb24uZGVzdHJveSgpO1xuICB0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uID1cbiAgICB0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uICYmIHRoaXMuX2JpbGxib2FyZENvbGxlY3Rpb24uZGVzdHJveSgpO1xuICB0aGlzLl9wb2ludENvbGxlY3Rpb24gPVxuICAgIHRoaXMuX3BvaW50Q29sbGVjdGlvbiAmJiB0aGlzLl9wb2ludENvbGxlY3Rpb24uZGVzdHJveSgpO1xuXG4gIHRoaXMuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb24gPVxuICAgIHRoaXMuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb24gJiYgdGhpcy5fY2x1c3RlckxhYmVsQ29sbGVjdGlvbi5kZXN0cm95KCk7XG4gIHRoaXMuX2NsdXN0ZXJCaWxsYm9hcmRDb2xsZWN0aW9uID1cbiAgICB0aGlzLl9jbHVzdGVyQmlsbGJvYXJkQ29sbGVjdGlvbiAmJlxuICAgIHRoaXMuX2NsdXN0ZXJCaWxsYm9hcmRDb2xsZWN0aW9uLmRlc3Ryb3koKTtcbiAgdGhpcy5fY2x1c3RlclBvaW50Q29sbGVjdGlvbiA9XG4gICAgdGhpcy5fY2x1c3RlclBvaW50Q29sbGVjdGlvbiAmJiB0aGlzLl9jbHVzdGVyUG9pbnRDb2xsZWN0aW9uLmRlc3Ryb3koKTtcblxuICBpZiAoZGVmaW5lZCh0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyKSkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIoKTtcbiAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdGhpcy5fbGFiZWxDb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9iaWxsYm9hcmRDb2xsZWN0aW9uID0gdW5kZWZpbmVkO1xuICB0aGlzLl9wb2ludENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fY2x1c3RlckJpbGxib2FyZENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NsdXN0ZXJMYWJlbENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2NsdXN0ZXJQb2ludENvbGxlY3Rpb24gPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fY29sbGVjdGlvbkluZGljZXNCeUVudGl0eSA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl91bnVzZWRMYWJlbEluZGljZXMgPSBbXTtcbiAgdGhpcy5fdW51c2VkQmlsbGJvYXJkSW5kaWNlcyA9IFtdO1xuICB0aGlzLl91bnVzZWRQb2ludEluZGljZXMgPSBbXTtcblxuICB0aGlzLl9wcmV2aW91c0NsdXN0ZXJzID0gW107XG4gIHRoaXMuX3ByZXZpb3VzSGVpZ2h0ID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuX2VuYWJsZWREaXJ0eSA9IGZhbHNlO1xuICB0aGlzLl9waXhlbFJhbmdlRGlydHkgPSBmYWxzZTtcbiAgdGhpcy5fbWluaW11bUNsdXN0ZXJTaXplRGlydHkgPSBmYWxzZTtcblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBBIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIHVzZWQgdG8gc3R5bGUgY2x1c3RlcnMuXG4gKiBAY2FsbGJhY2sgRW50aXR5Q2x1c3Rlci5uZXdDbHVzdGVyQ2FsbGJhY2tcbiAqXG4gKiBAcGFyYW0ge0VudGl0eVtdfSBjbHVzdGVyZWRFbnRpdGllcyBBbiBhcnJheSBvZiB0aGUgZW50aXRpZXMgY29udGFpbmVkIGluIHRoZSBjbHVzdGVyLlxuICogQHBhcmFtIHtPYmplY3R9IGNsdXN0ZXIgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYmlsbGJvYXJkLCBsYWJlbCwgYW5kIHBvaW50IHByb3BlcnRpZXMuIFRoZSB2YWx1ZXMgYXJlIHRoZSBzYW1lIGFzXG4gKiBiaWxsYm9hcmQsIGxhYmVsIGFuZCBwb2ludCBlbnRpdGllcywgYnV0IG11c3QgYmUgdGhlIHZhbHVlcyBvZiB0aGUgQ29uc3RhbnRQcm9wZXJ0eS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIGRlZmF1bHQgY2x1c3RlciB2YWx1ZXMuXG4gKiBkYXRhU291cmNlLmNsdXN0ZXJpbmcuY2x1c3RlckV2ZW50LmFkZEV2ZW50TGlzdGVuZXIoZnVuY3Rpb24oZW50aXRpZXMsIGNsdXN0ZXIpIHtcbiAqICAgICBjbHVzdGVyLmxhYmVsLnNob3cgPSB0cnVlO1xuICogICAgIGNsdXN0ZXIubGFiZWwudGV4dCA9IGVudGl0aWVzLmxlbmd0aC50b0xvY2FsZVN0cmluZygpO1xuICogfSk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IEVudGl0eUNsdXN0ZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47890\n')},69516:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8629);\n/* harmony import */ var _Core_createGuid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(39960);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(82982);\n/* harmony import */ var _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12572);\n/* harmony import */ var _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14459);\n/* harmony import */ var _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22841);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55293);\n/* harmony import */ var _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9407);\n/* harmony import */ var _Core_TimeInterval_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77808);\n/* harmony import */ var _Entity_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11895);\n\n\n\n\n\n\n\n\n\n\n\nvar entityOptionsScratch = {\n  id: undefined,\n};\n\nfunction fireChangedEvent(collection) {\n  if (collection._firing) {\n    collection._refire = true;\n    return;\n  }\n\n  if (collection._suspendCount === 0) {\n    var added = collection._addedEntities;\n    var removed = collection._removedEntities;\n    var changed = collection._changedEntities;\n    if (changed.length !== 0 || added.length !== 0 || removed.length !== 0) {\n      collection._firing = true;\n      do {\n        collection._refire = false;\n        var addedArray = added.values.slice(0);\n        var removedArray = removed.values.slice(0);\n        var changedArray = changed.values.slice(0);\n\n        added.removeAll();\n        removed.removeAll();\n        changed.removeAll();\n        collection._collectionChanged.raiseEvent(\n          collection,\n          addedArray,\n          removedArray,\n          changedArray\n        );\n      } while (collection._refire);\n      collection._firing = false;\n    }\n  }\n}\n\n/**\n * An observable collection of {@link Entity} instances where each entity has a unique id.\n * @alias EntityCollection\n * @constructor\n *\n * @param {DataSource|CompositeEntityCollection} [owner] The data source (or composite entity collection) which created this collection.\n */\nfunction EntityCollection(owner) {\n  this._owner = owner;\n  this._entities = new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._addedEntities = new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._removedEntities = new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._changedEntities = new _Core_AssociativeArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._suspendCount = 0;\n  this._collectionChanged = new _Core_Event_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z();\n  this._id = (0,_Core_createGuid_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)();\n  this._show = true;\n  this._firing = false;\n  this._refire = false;\n}\n\n/**\n * Prevents {@link EntityCollection#collectionChanged} events from being raised\n * until a corresponding call is made to {@link EntityCollection#resumeEvents}, at which\n * point a single event will be raised that covers all suspended operations.\n * This allows for many items to be added and removed efficiently.\n * This function can be safely called multiple times as long as there\n * are corresponding calls to {@link EntityCollection#resumeEvents}.\n */\nEntityCollection.prototype.suspendEvents = function () {\n  this._suspendCount++;\n};\n\n/**\n * Resumes raising {@link EntityCollection#collectionChanged} events immediately\n * when an item is added or removed.  Any modifications made while while events were suspended\n * will be triggered as a single event when this function is called.\n * This function is reference counted and can safely be called multiple times as long as there\n * are corresponding calls to {@link EntityCollection#resumeEvents}.\n *\n * @exception {DeveloperError} resumeEvents can not be called before suspendEvents.\n */\nEntityCollection.prototype.resumeEvents = function () {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (this._suspendCount === 0) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z(\n      "resumeEvents can not be called before suspendEvents."\n    );\n  }\n  //>>includeEnd(\'debug\');\n\n  this._suspendCount--;\n  fireChangedEvent(this);\n};\n\n/**\n * The signature of the event generated by {@link EntityCollection#collectionChanged}.\n * @function\n *\n * @param {EntityCollection} collection The collection that triggered the event.\n * @param {Entity[]} added The array of {@link Entity} instances that have been added to the collection.\n * @param {Entity[]} removed The array of {@link Entity} instances that have been removed from the collection.\n * @param {Entity[]} changed The array of {@link Entity} instances that have been modified.\n */\nEntityCollection.collectionChangedEventCallback = undefined;\n\nObject.defineProperties(EntityCollection.prototype, {\n  /**\n   * Gets the event that is fired when entities are added or removed from the collection.\n   * The generated event is a {@link EntityCollection.collectionChangedEventCallback}.\n   * @memberof EntityCollection.prototype\n   * @readonly\n   * @type {Event}\n   */\n  collectionChanged: {\n    get: function () {\n      return this._collectionChanged;\n    },\n  },\n  /**\n   * Gets a globally unique identifier for this collection.\n   * @memberof EntityCollection.prototype\n   * @readonly\n   * @type {String}\n   */\n  id: {\n    get: function () {\n      return this._id;\n    },\n  },\n  /**\n   * Gets the array of Entity instances in the collection.\n   * This array should not be modified directly.\n   * @memberof EntityCollection.prototype\n   * @readonly\n   * @type {Entity[]}\n   */\n  values: {\n    get: function () {\n      return this._entities.values;\n    },\n  },\n  /**\n   * Gets whether or not this entity collection should be\n   * displayed.  When true, each entity is only displayed if\n   * its own show property is also true.\n   * @memberof EntityCollection.prototype\n   * @type {Boolean}\n   */\n  show: {\n    get: function () {\n      return this._show;\n    },\n    set: function (value) {\n      //>>includeStart(\'debug\', pragmas.debug);\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(value)) {\n        throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("value is required.");\n      }\n      //>>includeEnd(\'debug\');\n\n      if (value === this._show) {\n        return;\n      }\n\n      //Since entity.isShowing includes the EntityCollection.show state\n      //in its calculation, we need to loop over the entities array\n      //twice, once to get the old showing value and a second time\n      //to raise the changed event.\n      this.suspendEvents();\n\n      var i;\n      var oldShows = [];\n      var entities = this._entities.values;\n      var entitiesLength = entities.length;\n\n      for (i = 0; i < entitiesLength; i++) {\n        oldShows.push(entities[i].isShowing);\n      }\n\n      this._show = value;\n\n      for (i = 0; i < entitiesLength; i++) {\n        var oldShow = oldShows[i];\n        var entity = entities[i];\n        if (oldShow !== entity.isShowing) {\n          entity.definitionChanged.raiseEvent(\n            entity,\n            "isShowing",\n            entity.isShowing,\n            oldShow\n          );\n        }\n      }\n\n      this.resumeEvents();\n    },\n  },\n  /**\n   * Gets the owner of this entity collection, ie. the data source or composite entity collection which created it.\n   * @memberof EntityCollection.prototype\n   * @readonly\n   * @type {DataSource|CompositeEntityCollection}\n   */\n  owner: {\n    get: function () {\n      return this._owner;\n    },\n  },\n});\n\n/**\n * Computes the maximum availability of the entities in the collection.\n * If the collection contains a mix of infinitely available data and non-infinite data,\n * it will return the interval pertaining to the non-infinite data only.  If all\n * data is infinite, an infinite interval will be returned.\n *\n * @returns {TimeInterval} The availability of entities in the collection.\n */\nEntityCollection.prototype.computeAvailability = function () {\n  var startTime = _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MAXIMUM_VALUE */ .Z.MAXIMUM_VALUE;\n  var stopTime = _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE;\n  var entities = this._entities.values;\n  for (var i = 0, len = entities.length; i < len; i++) {\n    var entity = entities[i];\n    var availability = entity.availability;\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(availability)) {\n      var start = availability.start;\n      var stop = availability.stop;\n      if (\n        _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].lessThan */ .Z.lessThan(start, startTime) &&\n        !start.equals(_Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE)\n      ) {\n        startTime = start;\n      }\n      if (\n        _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].greaterThan */ .Z.greaterThan(stop, stopTime) &&\n        !stop.equals(_Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MAXIMUM_VALUE */ .Z.MAXIMUM_VALUE)\n      ) {\n        stopTime = stop;\n      }\n    }\n  }\n\n  if (_Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MAXIMUM_VALUE.equals */ .Z.MAXIMUM_VALUE.equals(startTime)) {\n    startTime = _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MINIMUM_VALUE */ .Z.MINIMUM_VALUE;\n  }\n  if (_Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MINIMUM_VALUE.equals */ .Z.MINIMUM_VALUE.equals(stopTime)) {\n    stopTime = _Core_Iso8601_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].MAXIMUM_VALUE */ .Z.MAXIMUM_VALUE;\n  }\n  return new _Core_TimeInterval_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z({\n    start: startTime,\n    stop: stopTime,\n  });\n};\n\n/**\n * Add an entity to the collection.\n *\n * @param {Entity | Entity.ConstructorOptions} entity The entity to be added.\n * @returns {Entity} The entity that was added.\n * @exception {DeveloperError} An entity with <entity.id> already exists in this collection.\n */\nEntityCollection.prototype.add = function (entity) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(entity)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("entity is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  if (!(entity instanceof _Entity_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)) {\n    entity = new _Entity_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(entity);\n  }\n\n  var id = entity.id;\n  var entities = this._entities;\n  if (entities.contains(id)) {\n    throw new _Core_RuntimeError_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z(\n      "An entity with id " + id + " already exists in this collection."\n    );\n  }\n\n  entity.entityCollection = this;\n  entities.set(id, entity);\n\n  if (!this._removedEntities.remove(id)) {\n    this._addedEntities.set(id, entity);\n  }\n  entity.definitionChanged.addEventListener(\n    EntityCollection.prototype._onEntityDefinitionChanged,\n    this\n  );\n\n  fireChangedEvent(this);\n  return entity;\n};\n\n/**\n * Removes an entity from the collection.\n *\n * @param {Entity} entity The entity to be removed.\n * @returns {Boolean} true if the item was removed, false if it did not exist in the collection.\n */\nEntityCollection.prototype.remove = function (entity) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(entity)) {\n    return false;\n  }\n  return this.removeById(entity.id);\n};\n\n/**\n * Returns true if the provided entity is in this collection, false otherwise.\n *\n * @param {Entity} entity The entity.\n * @returns {Boolean} true if the provided entity is in this collection, false otherwise.\n */\nEntityCollection.prototype.contains = function (entity) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(entity)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("entity is required");\n  }\n  //>>includeEnd(\'debug\');\n  return this._entities.get(entity.id) === entity;\n};\n\n/**\n * Removes an entity with the provided id from the collection.\n *\n * @param {String} id The id of the entity to remove.\n * @returns {Boolean} true if the item was removed, false if no item with the provided id existed in the collection.\n */\nEntityCollection.prototype.removeById = function (id) {\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(id)) {\n    return false;\n  }\n\n  var entities = this._entities;\n  var entity = entities.get(id);\n  if (!this._entities.remove(id)) {\n    return false;\n  }\n\n  if (!this._addedEntities.remove(id)) {\n    this._removedEntities.set(id, entity);\n    this._changedEntities.remove(id);\n  }\n  this._entities.remove(id);\n  entity.definitionChanged.removeEventListener(\n    EntityCollection.prototype._onEntityDefinitionChanged,\n    this\n  );\n  fireChangedEvent(this);\n\n  return true;\n};\n\n/**\n * Removes all Entities from the collection.\n */\nEntityCollection.prototype.removeAll = function () {\n  //The event should only contain items added before events were suspended\n  //and the contents of the collection.\n  var entities = this._entities;\n  var entitiesLength = entities.length;\n  var array = entities.values;\n\n  var addedEntities = this._addedEntities;\n  var removed = this._removedEntities;\n\n  for (var i = 0; i < entitiesLength; i++) {\n    var existingItem = array[i];\n    var existingItemId = existingItem.id;\n    var addedItem = addedEntities.get(existingItemId);\n    if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(addedItem)) {\n      existingItem.definitionChanged.removeEventListener(\n        EntityCollection.prototype._onEntityDefinitionChanged,\n        this\n      );\n      removed.set(existingItemId, existingItem);\n    }\n  }\n\n  entities.removeAll();\n  addedEntities.removeAll();\n  this._changedEntities.removeAll();\n  fireChangedEvent(this);\n};\n\n/**\n * Gets an entity with the specified id.\n *\n * @param {String} id The id of the entity to retrieve.\n * @returns {Entity|undefined} The entity with the provided id or undefined if the id did not exist in the collection.\n */\nEntityCollection.prototype.getById = function (id) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(id)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("id is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  return this._entities.get(id);\n};\n\n/**\n * Gets an entity with the specified id or creates it and adds it to the collection if it does not exist.\n *\n * @param {String} id The id of the entity to retrieve or create.\n * @returns {Entity} The new or existing object.\n */\nEntityCollection.prototype.getOrCreateEntity = function (id) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(id)) {\n    throw new _Core_DeveloperError_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("id is required.");\n  }\n  //>>includeEnd(\'debug\');\n\n  var entity = this._entities.get(id);\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(entity)) {\n    entityOptionsScratch.id = id;\n    entity = new _Entity_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z(entityOptionsScratch);\n    this.add(entity);\n  }\n  return entity;\n};\n\nEntityCollection.prototype._onEntityDefinitionChanged = function (entity) {\n  var id = entity.id;\n  if (!this._addedEntities.contains(id)) {\n    this._changedEntities.set(id, entity);\n  }\n  fireChangedEvent(this);\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EntityCollection);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0EsU0FBUyxxRUFBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLGtCQUFrQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxPQUFPLHFFQUFPO0FBQ2QsY0FBYyx3RUFBYztBQUM1QjtBQUNBOztBQUVBO0FBQ0EsT0FBTyxxRUFBTztBQUNkO0FBQ0EsaUJBQWlCLDJEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsZ0JBQWdCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUzLXdlYnBhY2s1Ly4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvRGF0YVNvdXJjZXMvRW50aXR5Q29sbGVjdGlvbi5qcz8yNzUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBc3NvY2lhdGl2ZUFycmF5IGZyb20gXCIuLi9Db3JlL0Fzc29jaWF0aXZlQXJyYXkuanNcIjtcbmltcG9ydCBjcmVhdGVHdWlkIGZyb20gXCIuLi9Db3JlL2NyZWF0ZUd1aWQuanNcIjtcbmltcG9ydCBkZWZpbmVkIGZyb20gXCIuLi9Db3JlL2RlZmluZWQuanNcIjtcbmltcG9ydCBEZXZlbG9wZXJFcnJvciBmcm9tIFwiLi4vQ29yZS9EZXZlbG9wZXJFcnJvci5qc1wiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi9Db3JlL0V2ZW50LmpzXCI7XG5pbXBvcnQgSXNvODYwMSBmcm9tIFwiLi4vQ29yZS9Jc284NjAxLmpzXCI7XG5pbXBvcnQgSnVsaWFuRGF0ZSBmcm9tIFwiLi4vQ29yZS9KdWxpYW5EYXRlLmpzXCI7XG5pbXBvcnQgUnVudGltZUVycm9yIGZyb20gXCIuLi9Db3JlL1J1bnRpbWVFcnJvci5qc1wiO1xuaW1wb3J0IFRpbWVJbnRlcnZhbCBmcm9tIFwiLi4vQ29yZS9UaW1lSW50ZXJ2YWwuanNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5LmpzXCI7XG5cbnZhciBlbnRpdHlPcHRpb25zU2NyYXRjaCA9IHtcbiAgaWQ6IHVuZGVmaW5lZCxcbn07XG5cbmZ1bmN0aW9uIGZpcmVDaGFuZ2VkRXZlbnQoY29sbGVjdGlvbikge1xuICBpZiAoY29sbGVjdGlvbi5fZmlyaW5nKSB7XG4gICAgY29sbGVjdGlvbi5fcmVmaXJlID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29sbGVjdGlvbi5fc3VzcGVuZENvdW50ID09PSAwKSB7XG4gICAgdmFyIGFkZGVkID0gY29sbGVjdGlvbi5fYWRkZWRFbnRpdGllcztcbiAgICB2YXIgcmVtb3ZlZCA9IGNvbGxlY3Rpb24uX3JlbW92ZWRFbnRpdGllcztcbiAgICB2YXIgY2hhbmdlZCA9IGNvbGxlY3Rpb24uX2NoYW5nZWRFbnRpdGllcztcbiAgICBpZiAoY2hhbmdlZC5sZW5ndGggIT09IDAgfHwgYWRkZWQubGVuZ3RoICE9PSAwIHx8IHJlbW92ZWQubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb2xsZWN0aW9uLl9maXJpbmcgPSB0cnVlO1xuICAgICAgZG8ge1xuICAgICAgICBjb2xsZWN0aW9uLl9yZWZpcmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFkZGVkQXJyYXkgPSBhZGRlZC52YWx1ZXMuc2xpY2UoMCk7XG4gICAgICAgIHZhciByZW1vdmVkQXJyYXkgPSByZW1vdmVkLnZhbHVlcy5zbGljZSgwKTtcbiAgICAgICAgdmFyIGNoYW5nZWRBcnJheSA9IGNoYW5nZWQudmFsdWVzLnNsaWNlKDApO1xuXG4gICAgICAgIGFkZGVkLnJlbW92ZUFsbCgpO1xuICAgICAgICByZW1vdmVkLnJlbW92ZUFsbCgpO1xuICAgICAgICBjaGFuZ2VkLnJlbW92ZUFsbCgpO1xuICAgICAgICBjb2xsZWN0aW9uLl9jb2xsZWN0aW9uQ2hhbmdlZC5yYWlzZUV2ZW50KFxuICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgYWRkZWRBcnJheSxcbiAgICAgICAgICByZW1vdmVkQXJyYXksXG4gICAgICAgICAgY2hhbmdlZEFycmF5XG4gICAgICAgICk7XG4gICAgICB9IHdoaWxlIChjb2xsZWN0aW9uLl9yZWZpcmUpO1xuICAgICAgY29sbGVjdGlvbi5fZmlyaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQW4gb2JzZXJ2YWJsZSBjb2xsZWN0aW9uIG9mIHtAbGluayBFbnRpdHl9IGluc3RhbmNlcyB3aGVyZSBlYWNoIGVudGl0eSBoYXMgYSB1bmlxdWUgaWQuXG4gKiBAYWxpYXMgRW50aXR5Q29sbGVjdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtEYXRhU291cmNlfENvbXBvc2l0ZUVudGl0eUNvbGxlY3Rpb259IFtvd25lcl0gVGhlIGRhdGEgc291cmNlIChvciBjb21wb3NpdGUgZW50aXR5IGNvbGxlY3Rpb24pIHdoaWNoIGNyZWF0ZWQgdGhpcyBjb2xsZWN0aW9uLlxuICovXG5mdW5jdGlvbiBFbnRpdHlDb2xsZWN0aW9uKG93bmVyKSB7XG4gIHRoaXMuX293bmVyID0gb3duZXI7XG4gIHRoaXMuX2VudGl0aWVzID0gbmV3IEFzc29jaWF0aXZlQXJyYXkoKTtcbiAgdGhpcy5fYWRkZWRFbnRpdGllcyA9IG5ldyBBc3NvY2lhdGl2ZUFycmF5KCk7XG4gIHRoaXMuX3JlbW92ZWRFbnRpdGllcyA9IG5ldyBBc3NvY2lhdGl2ZUFycmF5KCk7XG4gIHRoaXMuX2NoYW5nZWRFbnRpdGllcyA9IG5ldyBBc3NvY2lhdGl2ZUFycmF5KCk7XG4gIHRoaXMuX3N1c3BlbmRDb3VudCA9IDA7XG4gIHRoaXMuX2NvbGxlY3Rpb25DaGFuZ2VkID0gbmV3IEV2ZW50KCk7XG4gIHRoaXMuX2lkID0gY3JlYXRlR3VpZCgpO1xuICB0aGlzLl9zaG93ID0gdHJ1ZTtcbiAgdGhpcy5fZmlyaW5nID0gZmFsc2U7XG4gIHRoaXMuX3JlZmlyZSA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFByZXZlbnRzIHtAbGluayBFbnRpdHlDb2xsZWN0aW9uI2NvbGxlY3Rpb25DaGFuZ2VkfSBldmVudHMgZnJvbSBiZWluZyByYWlzZWRcbiAqIHVudGlsIGEgY29ycmVzcG9uZGluZyBjYWxsIGlzIG1hZGUgdG8ge0BsaW5rIEVudGl0eUNvbGxlY3Rpb24jcmVzdW1lRXZlbnRzfSwgYXQgd2hpY2hcbiAqIHBvaW50IGEgc2luZ2xlIGV2ZW50IHdpbGwgYmUgcmFpc2VkIHRoYXQgY292ZXJzIGFsbCBzdXNwZW5kZWQgb3BlcmF0aW9ucy5cbiAqIFRoaXMgYWxsb3dzIGZvciBtYW55IGl0ZW1zIHRvIGJlIGFkZGVkIGFuZCByZW1vdmVkIGVmZmljaWVudGx5LlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgc2FmZWx5IGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBhcyBsb25nIGFzIHRoZXJlXG4gKiBhcmUgY29ycmVzcG9uZGluZyBjYWxscyB0byB7QGxpbmsgRW50aXR5Q29sbGVjdGlvbiNyZXN1bWVFdmVudHN9LlxuICovXG5FbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZS5zdXNwZW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9zdXNwZW5kQ291bnQrKztcbn07XG5cbi8qKlxuICogUmVzdW1lcyByYWlzaW5nIHtAbGluayBFbnRpdHlDb2xsZWN0aW9uI2NvbGxlY3Rpb25DaGFuZ2VkfSBldmVudHMgaW1tZWRpYXRlbHlcbiAqIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCBvciByZW1vdmVkLiAgQW55IG1vZGlmaWNhdGlvbnMgbWFkZSB3aGlsZSB3aGlsZSBldmVudHMgd2VyZSBzdXNwZW5kZWRcbiAqIHdpbGwgYmUgdHJpZ2dlcmVkIGFzIGEgc2luZ2xlIGV2ZW50IHdoZW4gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHJlZmVyZW5jZSBjb3VudGVkIGFuZCBjYW4gc2FmZWx5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBhcyBsb25nIGFzIHRoZXJlXG4gKiBhcmUgY29ycmVzcG9uZGluZyBjYWxscyB0byB7QGxpbmsgRW50aXR5Q29sbGVjdGlvbiNyZXN1bWVFdmVudHN9LlxuICpcbiAqIEBleGNlcHRpb24ge0RldmVsb3BlckVycm9yfSByZXN1bWVFdmVudHMgY2FuIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHN1c3BlbmRFdmVudHMuXG4gKi9cbkVudGl0eUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlc3VtZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgaWYgKHRoaXMuX3N1c3BlbmRDb3VudCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcbiAgICAgIFwicmVzdW1lRXZlbnRzIGNhbiBub3QgYmUgY2FsbGVkIGJlZm9yZSBzdXNwZW5kRXZlbnRzLlwiXG4gICAgKTtcbiAgfVxuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICB0aGlzLl9zdXNwZW5kQ291bnQtLTtcbiAgZmlyZUNoYW5nZWRFdmVudCh0aGlzKTtcbn07XG5cbi8qKlxuICogVGhlIHNpZ25hdHVyZSBvZiB0aGUgZXZlbnQgZ2VuZXJhdGVkIGJ5IHtAbGluayBFbnRpdHlDb2xsZWN0aW9uI2NvbGxlY3Rpb25DaGFuZ2VkfS5cbiAqIEBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7RW50aXR5Q29sbGVjdGlvbn0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge0VudGl0eVtdfSBhZGRlZCBUaGUgYXJyYXkgb2Yge0BsaW5rIEVudGl0eX0gaW5zdGFuY2VzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLlxuICogQHBhcmFtIHtFbnRpdHlbXX0gcmVtb3ZlZCBUaGUgYXJyYXkgb2Yge0BsaW5rIEVudGl0eX0gaW5zdGFuY2VzIHRoYXQgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqIEBwYXJhbSB7RW50aXR5W119IGNoYW5nZWQgVGhlIGFycmF5IG9mIHtAbGluayBFbnRpdHl9IGluc3RhbmNlcyB0aGF0IGhhdmUgYmVlbiBtb2RpZmllZC5cbiAqL1xuRW50aXR5Q29sbGVjdGlvbi5jb2xsZWN0aW9uQ2hhbmdlZEV2ZW50Q2FsbGJhY2sgPSB1bmRlZmluZWQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVudGl0eUNvbGxlY3Rpb24ucHJvdG90eXBlLCB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gZW50aXRpZXMgYXJlIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICogVGhlIGdlbmVyYXRlZCBldmVudCBpcyBhIHtAbGluayBFbnRpdHlDb2xsZWN0aW9uLmNvbGxlY3Rpb25DaGFuZ2VkRXZlbnRDYWxsYmFja30uXG4gICAqIEBtZW1iZXJvZiBFbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHR5cGUge0V2ZW50fVxuICAgKi9cbiAgY29sbGVjdGlvbkNoYW5nZWQ6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uQ2hhbmdlZDtcbiAgICB9LFxuICB9LFxuICAvKipcbiAgICogR2V0cyBhIGdsb2JhbGx5IHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGNvbGxlY3Rpb24uXG4gICAqIEBtZW1iZXJvZiBFbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGlkOiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgdGhlIGFycmF5IG9mIEVudGl0eSBpbnN0YW5jZXMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAqIFRoaXMgYXJyYXkgc2hvdWxkIG5vdCBiZSBtb2RpZmllZCBkaXJlY3RseS5cbiAgICogQG1lbWJlcm9mIEVudGl0eUNvbGxlY3Rpb24ucHJvdG90eXBlXG4gICAqIEByZWFkb25seVxuICAgKiBAdHlwZSB7RW50aXR5W119XG4gICAqL1xuICB2YWx1ZXM6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy52YWx1ZXM7XG4gICAgfSxcbiAgfSxcbiAgLyoqXG4gICAqIEdldHMgd2hldGhlciBvciBub3QgdGhpcyBlbnRpdHkgY29sbGVjdGlvbiBzaG91bGQgYmVcbiAgICogZGlzcGxheWVkLiAgV2hlbiB0cnVlLCBlYWNoIGVudGl0eSBpcyBvbmx5IGRpc3BsYXllZCBpZlxuICAgKiBpdHMgb3duIHNob3cgcHJvcGVydHkgaXMgYWxzbyB0cnVlLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBzaG93OiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvdztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICAgICAgaWYgKCFkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJ2YWx1ZSBpcyByZXF1aXJlZC5cIik7XG4gICAgICB9XG4gICAgICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9zaG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy9TaW5jZSBlbnRpdHkuaXNTaG93aW5nIGluY2x1ZGVzIHRoZSBFbnRpdHlDb2xsZWN0aW9uLnNob3cgc3RhdGVcbiAgICAgIC8vaW4gaXRzIGNhbGN1bGF0aW9uLCB3ZSBuZWVkIHRvIGxvb3Agb3ZlciB0aGUgZW50aXRpZXMgYXJyYXlcbiAgICAgIC8vdHdpY2UsIG9uY2UgdG8gZ2V0IHRoZSBvbGQgc2hvd2luZyB2YWx1ZSBhbmQgYSBzZWNvbmQgdGltZVxuICAgICAgLy90byByYWlzZSB0aGUgY2hhbmdlZCBldmVudC5cbiAgICAgIHRoaXMuc3VzcGVuZEV2ZW50cygpO1xuXG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBvbGRTaG93cyA9IFtdO1xuICAgICAgdmFyIGVudGl0aWVzID0gdGhpcy5fZW50aXRpZXMudmFsdWVzO1xuICAgICAgdmFyIGVudGl0aWVzTGVuZ3RoID0gZW50aXRpZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZW50aXRpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICBvbGRTaG93cy5wdXNoKGVudGl0aWVzW2ldLmlzU2hvd2luZyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3Nob3cgPSB2YWx1ZTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGVudGl0aWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9sZFNob3cgPSBvbGRTaG93c1tpXTtcbiAgICAgICAgdmFyIGVudGl0eSA9IGVudGl0aWVzW2ldO1xuICAgICAgICBpZiAob2xkU2hvdyAhPT0gZW50aXR5LmlzU2hvd2luZykge1xuICAgICAgICAgIGVudGl0eS5kZWZpbml0aW9uQ2hhbmdlZC5yYWlzZUV2ZW50KFxuICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgXCJpc1Nob3dpbmdcIixcbiAgICAgICAgICAgIGVudGl0eS5pc1Nob3dpbmcsXG4gICAgICAgICAgICBvbGRTaG93XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc3VtZUV2ZW50cygpO1xuICAgIH0sXG4gIH0sXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBvd25lciBvZiB0aGlzIGVudGl0eSBjb2xsZWN0aW9uLCBpZS4gdGhlIGRhdGEgc291cmNlIG9yIGNvbXBvc2l0ZSBlbnRpdHkgY29sbGVjdGlvbiB3aGljaCBjcmVhdGVkIGl0LlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGVcbiAgICogQHJlYWRvbmx5XG4gICAqIEB0eXBlIHtEYXRhU291cmNlfENvbXBvc2l0ZUVudGl0eUNvbGxlY3Rpb259XG4gICAqL1xuICBvd25lcjoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX293bmVyO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbWF4aW11bSBhdmFpbGFiaWxpdHkgb2YgdGhlIGVudGl0aWVzIGluIHRoZSBjb2xsZWN0aW9uLlxuICogSWYgdGhlIGNvbGxlY3Rpb24gY29udGFpbnMgYSBtaXggb2YgaW5maW5pdGVseSBhdmFpbGFibGUgZGF0YSBhbmQgbm9uLWluZmluaXRlIGRhdGEsXG4gKiBpdCB3aWxsIHJldHVybiB0aGUgaW50ZXJ2YWwgcGVydGFpbmluZyB0byB0aGUgbm9uLWluZmluaXRlIGRhdGEgb25seS4gIElmIGFsbFxuICogZGF0YSBpcyBpbmZpbml0ZSwgYW4gaW5maW5pdGUgaW50ZXJ2YWwgd2lsbCBiZSByZXR1cm5lZC5cbiAqXG4gKiBAcmV0dXJucyB7VGltZUludGVydmFsfSBUaGUgYXZhaWxhYmlsaXR5IG9mIGVudGl0aWVzIGluIHRoZSBjb2xsZWN0aW9uLlxuICovXG5FbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZS5jb21wdXRlQXZhaWxhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhcnRUaW1lID0gSXNvODYwMS5NQVhJTVVNX1ZBTFVFO1xuICB2YXIgc3RvcFRpbWUgPSBJc284NjAxLk1JTklNVU1fVkFMVUU7XG4gIHZhciBlbnRpdGllcyA9IHRoaXMuX2VudGl0aWVzLnZhbHVlcztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVudGl0aWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGVudGl0eSA9IGVudGl0aWVzW2ldO1xuICAgIHZhciBhdmFpbGFiaWxpdHkgPSBlbnRpdHkuYXZhaWxhYmlsaXR5O1xuICAgIGlmIChkZWZpbmVkKGF2YWlsYWJpbGl0eSkpIHtcbiAgICAgIHZhciBzdGFydCA9IGF2YWlsYWJpbGl0eS5zdGFydDtcbiAgICAgIHZhciBzdG9wID0gYXZhaWxhYmlsaXR5LnN0b3A7XG4gICAgICBpZiAoXG4gICAgICAgIEp1bGlhbkRhdGUubGVzc1RoYW4oc3RhcnQsIHN0YXJ0VGltZSkgJiZcbiAgICAgICAgIXN0YXJ0LmVxdWFscyhJc284NjAxLk1JTklNVU1fVkFMVUUpXG4gICAgICApIHtcbiAgICAgICAgc3RhcnRUaW1lID0gc3RhcnQ7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIEp1bGlhbkRhdGUuZ3JlYXRlclRoYW4oc3RvcCwgc3RvcFRpbWUpICYmXG4gICAgICAgICFzdG9wLmVxdWFscyhJc284NjAxLk1BWElNVU1fVkFMVUUpXG4gICAgICApIHtcbiAgICAgICAgc3RvcFRpbWUgPSBzdG9wO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChJc284NjAxLk1BWElNVU1fVkFMVUUuZXF1YWxzKHN0YXJ0VGltZSkpIHtcbiAgICBzdGFydFRpbWUgPSBJc284NjAxLk1JTklNVU1fVkFMVUU7XG4gIH1cbiAgaWYgKElzbzg2MDEuTUlOSU1VTV9WQUxVRS5lcXVhbHMoc3RvcFRpbWUpKSB7XG4gICAgc3RvcFRpbWUgPSBJc284NjAxLk1BWElNVU1fVkFMVUU7XG4gIH1cbiAgcmV0dXJuIG5ldyBUaW1lSW50ZXJ2YWwoe1xuICAgIHN0YXJ0OiBzdGFydFRpbWUsXG4gICAgc3RvcDogc3RvcFRpbWUsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBBZGQgYW4gZW50aXR5IHRvIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RW50aXR5IHwgRW50aXR5LkNvbnN0cnVjdG9yT3B0aW9uc30gZW50aXR5IFRoZSBlbnRpdHkgdG8gYmUgYWRkZWQuXG4gKiBAcmV0dXJucyB7RW50aXR5fSBUaGUgZW50aXR5IHRoYXQgd2FzIGFkZGVkLlxuICogQGV4Y2VwdGlvbiB7RGV2ZWxvcGVyRXJyb3J9IEFuIGVudGl0eSB3aXRoIDxlbnRpdHkuaWQ+IGFscmVhZHkgZXhpc3RzIGluIHRoaXMgY29sbGVjdGlvbi5cbiAqL1xuRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQoZW50aXR5KSkge1xuICAgIHRocm93IG5ldyBEZXZlbG9wZXJFcnJvcihcImVudGl0eSBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgaWYgKCEoZW50aXR5IGluc3RhbmNlb2YgRW50aXR5KSkge1xuICAgIGVudGl0eSA9IG5ldyBFbnRpdHkoZW50aXR5KTtcbiAgfVxuXG4gIHZhciBpZCA9IGVudGl0eS5pZDtcbiAgdmFyIGVudGl0aWVzID0gdGhpcy5fZW50aXRpZXM7XG4gIGlmIChlbnRpdGllcy5jb250YWlucyhpZCkpIHtcbiAgICB0aHJvdyBuZXcgUnVudGltZUVycm9yKFxuICAgICAgXCJBbiBlbnRpdHkgd2l0aCBpZCBcIiArIGlkICsgXCIgYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBjb2xsZWN0aW9uLlwiXG4gICAgKTtcbiAgfVxuXG4gIGVudGl0eS5lbnRpdHlDb2xsZWN0aW9uID0gdGhpcztcbiAgZW50aXRpZXMuc2V0KGlkLCBlbnRpdHkpO1xuXG4gIGlmICghdGhpcy5fcmVtb3ZlZEVudGl0aWVzLnJlbW92ZShpZCkpIHtcbiAgICB0aGlzLl9hZGRlZEVudGl0aWVzLnNldChpZCwgZW50aXR5KTtcbiAgfVxuICBlbnRpdHkuZGVmaW5pdGlvbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBFbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZS5fb25FbnRpdHlEZWZpbml0aW9uQ2hhbmdlZCxcbiAgICB0aGlzXG4gICk7XG5cbiAgZmlyZUNoYW5nZWRFdmVudCh0aGlzKTtcbiAgcmV0dXJuIGVudGl0eTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbiBlbnRpdHkgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IFRoZSBlbnRpdHkgdG8gYmUgcmVtb3ZlZC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBpdGVtIHdhcyByZW1vdmVkLCBmYWxzZSBpZiBpdCBkaWQgbm90IGV4aXN0IGluIHRoZSBjb2xsZWN0aW9uLlxuICovXG5FbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gIGlmICghZGVmaW5lZChlbnRpdHkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0aGlzLnJlbW92ZUJ5SWQoZW50aXR5LmlkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBlbnRpdHkgaXMgaW4gdGhpcyBjb2xsZWN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5LlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIHByb3ZpZGVkIGVudGl0eSBpcyBpbiB0aGlzIGNvbGxlY3Rpb24sIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChlbnRpdHkpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiZW50aXR5IGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuICByZXR1cm4gdGhpcy5fZW50aXRpZXMuZ2V0KGVudGl0eS5pZCkgPT09IGVudGl0eTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbiBlbnRpdHkgd2l0aCB0aGUgcHJvdmlkZWQgaWQgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgVGhlIGlkIG9mIHRoZSBlbnRpdHkgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGl0ZW0gd2FzIHJlbW92ZWQsIGZhbHNlIGlmIG5vIGl0ZW0gd2l0aCB0aGUgcHJvdmlkZWQgaWQgZXhpc3RlZCBpbiB0aGUgY29sbGVjdGlvbi5cbiAqL1xuRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICBpZiAoIWRlZmluZWQoaWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVudGl0aWVzID0gdGhpcy5fZW50aXRpZXM7XG4gIHZhciBlbnRpdHkgPSBlbnRpdGllcy5nZXQoaWQpO1xuICBpZiAoIXRoaXMuX2VudGl0aWVzLnJlbW92ZShpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIXRoaXMuX2FkZGVkRW50aXRpZXMucmVtb3ZlKGlkKSkge1xuICAgIHRoaXMuX3JlbW92ZWRFbnRpdGllcy5zZXQoaWQsIGVudGl0eSk7XG4gICAgdGhpcy5fY2hhbmdlZEVudGl0aWVzLnJlbW92ZShpZCk7XG4gIH1cbiAgdGhpcy5fZW50aXRpZXMucmVtb3ZlKGlkKTtcbiAgZW50aXR5LmRlZmluaXRpb25DaGFuZ2VkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGUuX29uRW50aXR5RGVmaW5pdGlvbkNoYW5nZWQsXG4gICAgdGhpc1xuICApO1xuICBmaXJlQ2hhbmdlZEV2ZW50KHRoaXMpO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBFbnRpdGllcyBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICovXG5FbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gIC8vVGhlIGV2ZW50IHNob3VsZCBvbmx5IGNvbnRhaW4gaXRlbXMgYWRkZWQgYmVmb3JlIGV2ZW50cyB3ZXJlIHN1c3BlbmRlZFxuICAvL2FuZCB0aGUgY29udGVudHMgb2YgdGhlIGNvbGxlY3Rpb24uXG4gIHZhciBlbnRpdGllcyA9IHRoaXMuX2VudGl0aWVzO1xuICB2YXIgZW50aXRpZXNMZW5ndGggPSBlbnRpdGllcy5sZW5ndGg7XG4gIHZhciBhcnJheSA9IGVudGl0aWVzLnZhbHVlcztcblxuICB2YXIgYWRkZWRFbnRpdGllcyA9IHRoaXMuX2FkZGVkRW50aXRpZXM7XG4gIHZhciByZW1vdmVkID0gdGhpcy5fcmVtb3ZlZEVudGl0aWVzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZW50aXRpZXNMZW5ndGg7IGkrKykge1xuICAgIHZhciBleGlzdGluZ0l0ZW0gPSBhcnJheVtpXTtcbiAgICB2YXIgZXhpc3RpbmdJdGVtSWQgPSBleGlzdGluZ0l0ZW0uaWQ7XG4gICAgdmFyIGFkZGVkSXRlbSA9IGFkZGVkRW50aXRpZXMuZ2V0KGV4aXN0aW5nSXRlbUlkKTtcbiAgICBpZiAoIWRlZmluZWQoYWRkZWRJdGVtKSkge1xuICAgICAgZXhpc3RpbmdJdGVtLmRlZmluaXRpb25DaGFuZ2VkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIEVudGl0eUNvbGxlY3Rpb24ucHJvdG90eXBlLl9vbkVudGl0eURlZmluaXRpb25DaGFuZ2VkLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgICAgcmVtb3ZlZC5zZXQoZXhpc3RpbmdJdGVtSWQsIGV4aXN0aW5nSXRlbSk7XG4gICAgfVxuICB9XG5cbiAgZW50aXRpZXMucmVtb3ZlQWxsKCk7XG4gIGFkZGVkRW50aXRpZXMucmVtb3ZlQWxsKCk7XG4gIHRoaXMuX2NoYW5nZWRFbnRpdGllcy5yZW1vdmVBbGwoKTtcbiAgZmlyZUNoYW5nZWRFdmVudCh0aGlzKTtcbn07XG5cbi8qKlxuICogR2V0cyBhbiBlbnRpdHkgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGVudGl0eSB0byByZXRyaWV2ZS5cbiAqIEByZXR1cm5zIHtFbnRpdHl8dW5kZWZpbmVkfSBUaGUgZW50aXR5IHdpdGggdGhlIHByb3ZpZGVkIGlkIG9yIHVuZGVmaW5lZCBpZiB0aGUgaWQgZGlkIG5vdCBleGlzdCBpbiB0aGUgY29sbGVjdGlvbi5cbiAqL1xuRW50aXR5Q29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0QnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBpZiAoIWRlZmluZWQoaWQpKSB7XG4gICAgdGhyb3cgbmV3IERldmVsb3BlckVycm9yKFwiaWQgaXMgcmVxdWlyZWQuXCIpO1xuICB9XG4gIC8vPj5pbmNsdWRlRW5kKCdkZWJ1ZycpO1xuXG4gIHJldHVybiB0aGlzLl9lbnRpdGllcy5nZXQoaWQpO1xufTtcblxuLyoqXG4gKiBHZXRzIGFuIGVudGl0eSB3aXRoIHRoZSBzcGVjaWZpZWQgaWQgb3IgY3JlYXRlcyBpdCBhbmQgYWRkcyBpdCB0byB0aGUgY29sbGVjdGlvbiBpZiBpdCBkb2VzIG5vdCBleGlzdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgVGhlIGlkIG9mIHRoZSBlbnRpdHkgdG8gcmV0cmlldmUgb3IgY3JlYXRlLlxuICogQHJldHVybnMge0VudGl0eX0gVGhlIG5ldyBvciBleGlzdGluZyBvYmplY3QuXG4gKi9cbkVudGl0eUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE9yQ3JlYXRlRW50aXR5ID0gZnVuY3Rpb24gKGlkKSB7XG4gIC8vPj5pbmNsdWRlU3RhcnQoJ2RlYnVnJywgcHJhZ21hcy5kZWJ1Zyk7XG4gIGlmICghZGVmaW5lZChpZCkpIHtcbiAgICB0aHJvdyBuZXcgRGV2ZWxvcGVyRXJyb3IoXCJpZCBpcyByZXF1aXJlZC5cIik7XG4gIH1cbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0aWVzLmdldChpZCk7XG4gIGlmICghZGVmaW5lZChlbnRpdHkpKSB7XG4gICAgZW50aXR5T3B0aW9uc1NjcmF0Y2guaWQgPSBpZDtcbiAgICBlbnRpdHkgPSBuZXcgRW50aXR5KGVudGl0eU9wdGlvbnNTY3JhdGNoKTtcbiAgICB0aGlzLmFkZChlbnRpdHkpO1xuICB9XG4gIHJldHVybiBlbnRpdHk7XG59O1xuXG5FbnRpdHlDb2xsZWN0aW9uLnByb3RvdHlwZS5fb25FbnRpdHlEZWZpbml0aW9uQ2hhbmdlZCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgdmFyIGlkID0gZW50aXR5LmlkO1xuICBpZiAoIXRoaXMuX2FkZGVkRW50aXRpZXMuY29udGFpbnMoaWQpKSB7XG4gICAgdGhpcy5fY2hhbmdlZEVudGl0aWVzLnNldChpZCwgZW50aXR5KTtcbiAgfVxuICBmaXJlQ2hhbmdlZEV2ZW50KHRoaXMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IEVudGl0eUNvbGxlY3Rpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///69516\n')},68134:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){eval('/* harmony import */ var _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60216);\n/* harmony import */ var _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66553);\n/* harmony import */ var _Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62200);\n/* harmony import */ var _Core_defined_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(82982);\n/* harmony import */ var _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50491);\n/* harmony import */ var _Core_HeadingPitchRange_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99819);\n/* harmony import */ var _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(55293);\n/* harmony import */ var _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99417);\n/* harmony import */ var _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68201);\n/* harmony import */ var _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(72248);\n/* harmony import */ var _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(95555);\n/* harmony import */ var _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(89917);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar updateTransformMatrix3Scratch1 = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\nvar updateTransformMatrix3Scratch2 = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\nvar updateTransformMatrix3Scratch3 = new _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z();\nvar updateTransformMatrix4Scratch = new _Core_Matrix4_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z();\nvar updateTransformCartesian3Scratch1 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar updateTransformCartesian3Scratch2 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar updateTransformCartesian3Scratch3 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar updateTransformCartesian3Scratch4 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar updateTransformCartesian3Scratch5 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar updateTransformCartesian3Scratch6 = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\nvar deltaTime = new _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z();\nvar northUpAxisFactor = 1.25; // times ellipsoid\'s maximum radius\n\nfunction updateTransform(\n  that,\n  camera,\n  updateLookAt,\n  saveCamera,\n  positionProperty,\n  time,\n  ellipsoid\n) {\n  var mode = that.scene.mode;\n  var cartesian = positionProperty.getValue(time, that._lastCartesian);\n  if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(cartesian)) {\n    var hasBasis = false;\n    var invertVelocity = false;\n    var xBasis;\n    var yBasis;\n    var zBasis;\n\n    if (mode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].SCENE3D */ .Z.SCENE3D) {\n      // The time delta was determined based on how fast satellites move compared to vehicles near the surface.\n      // Slower moving vehicles will most likely default to east-north-up, while faster ones will be VVLH.\n      _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].addSeconds */ .Z.addSeconds(time, 0.001, deltaTime);\n      var deltaCartesian = positionProperty.getValue(\n        deltaTime,\n        updateTransformCartesian3Scratch1\n      );\n\n      // If no valid position at (time + 0.001), sample at (time - 0.001) and invert the vector\n      if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(deltaCartesian)) {\n        _Core_JulianDate_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].addSeconds */ .Z.addSeconds(time, -0.001, deltaTime);\n        deltaCartesian = positionProperty.getValue(\n          deltaTime,\n          updateTransformCartesian3Scratch1\n        );\n        invertVelocity = true;\n      }\n\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(deltaCartesian)) {\n        var toInertial = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].computeFixedToIcrfMatrix */ .Z.computeFixedToIcrfMatrix(\n          time,\n          updateTransformMatrix3Scratch1\n        );\n        var toInertialDelta = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].computeFixedToIcrfMatrix */ .Z.computeFixedToIcrfMatrix(\n          deltaTime,\n          updateTransformMatrix3Scratch2\n        );\n        var toFixed;\n\n        if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(toInertial) || !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(toInertialDelta)) {\n          toFixed = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].computeTemeToPseudoFixedMatrix */ .Z.computeTemeToPseudoFixedMatrix(\n            time,\n            updateTransformMatrix3Scratch3\n          );\n          toInertial = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].transpose */ .Z.transpose(\n            toFixed,\n            updateTransformMatrix3Scratch1\n          );\n          toInertialDelta = _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].computeTemeToPseudoFixedMatrix */ .Z.computeTemeToPseudoFixedMatrix(\n            deltaTime,\n            updateTransformMatrix3Scratch2\n          );\n          _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].transpose */ .Z.transpose(toInertialDelta, toInertialDelta);\n        } else {\n          toFixed = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].transpose */ .Z.transpose(\n            toInertial,\n            updateTransformMatrix3Scratch3\n          );\n        }\n\n        var inertialCartesian = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(\n          toInertial,\n          cartesian,\n          updateTransformCartesian3Scratch5\n        );\n        var inertialDeltaCartesian = _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(\n          toInertialDelta,\n          deltaCartesian,\n          updateTransformCartesian3Scratch6\n        );\n\n        _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].subtract */ .Z.subtract(\n          inertialCartesian,\n          inertialDeltaCartesian,\n          updateTransformCartesian3Scratch4\n        );\n        var inertialVelocity =\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].magnitude */ .Z.magnitude(updateTransformCartesian3Scratch4) * 1000.0; // meters/sec\n\n        var mu = _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].GRAVITATIONALPARAMETER */ .Z.GRAVITATIONALPARAMETER; // m^3 / sec^2\n        var semiMajorAxis =\n          -mu /\n          (inertialVelocity * inertialVelocity -\n            (2 * mu) / _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].magnitude */ .Z.magnitude(inertialCartesian));\n\n        if (\n          semiMajorAxis < 0 ||\n          semiMajorAxis > northUpAxisFactor * ellipsoid.maximumRadius\n        ) {\n          // North-up viewing from deep space.\n\n          // X along the nadir\n          xBasis = updateTransformCartesian3Scratch2;\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(cartesian, xBasis);\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].negate */ .Z.negate(xBasis, xBasis);\n\n          // Z is North\n          zBasis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].UNIT_Z */ .Z.UNIT_Z,\n            updateTransformCartesian3Scratch3\n          );\n\n          // Y is along the cross of z and x (right handed basis / in the direction of motion)\n          yBasis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(\n            zBasis,\n            xBasis,\n            updateTransformCartesian3Scratch1\n          );\n          if (_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].magnitude */ .Z.magnitude(yBasis) > _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].EPSILON7 */ .Z.EPSILON7) {\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(xBasis, xBasis);\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(yBasis, yBasis);\n\n            zBasis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(\n              xBasis,\n              yBasis,\n              updateTransformCartesian3Scratch3\n            );\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(zBasis, zBasis);\n\n            hasBasis = true;\n          }\n        } else if (\n          !_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equalsEpsilon */ .Z.equalsEpsilon(\n            cartesian,\n            deltaCartesian,\n            _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].EPSILON7 */ .Z.EPSILON7\n          )\n        ) {\n          // Approximation of VVLH (Vehicle Velocity Local Horizontal) with the Z-axis flipped.\n\n          // Z along the position\n          zBasis = updateTransformCartesian3Scratch2;\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(inertialCartesian, zBasis);\n          _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(inertialDeltaCartesian, inertialDeltaCartesian);\n\n          // Y is along the angular momentum vector (e.g. "orbit normal")\n          yBasis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(\n            zBasis,\n            inertialDeltaCartesian,\n            updateTransformCartesian3Scratch3\n          );\n\n          if (invertVelocity) {\n            yBasis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].multiplyByScalar */ .Z.multiplyByScalar(yBasis, -1, yBasis);\n          }\n\n          if (\n            !_Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equalsEpsilon */ .Z.equalsEpsilon(\n              yBasis,\n              _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO,\n              _Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].EPSILON7 */ .Z.EPSILON7\n            )\n          ) {\n            // X is along the cross of y and z (right handed basis / in the direction of motion)\n            xBasis = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(\n              yBasis,\n              zBasis,\n              updateTransformCartesian3Scratch1\n            );\n\n            _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(toFixed, xBasis, xBasis);\n            _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(toFixed, yBasis, yBasis);\n            _Core_Matrix3_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].multiplyByVector */ .Z.multiplyByVector(toFixed, zBasis, zBasis);\n\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(xBasis, xBasis);\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(yBasis, yBasis);\n            _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].normalize */ .Z.normalize(zBasis, zBasis);\n\n            hasBasis = true;\n          }\n        }\n      }\n    }\n\n    if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(that.boundingSphere)) {\n      cartesian = that.boundingSphere.center;\n    }\n\n    var position;\n    var direction;\n    var up;\n\n    if (saveCamera) {\n      position = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(\n        camera.position,\n        updateTransformCartesian3Scratch4\n      );\n      direction = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(\n        camera.direction,\n        updateTransformCartesian3Scratch5\n      );\n      up = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.up, updateTransformCartesian3Scratch6);\n    }\n\n    var transform = updateTransformMatrix4Scratch;\n    if (hasBasis) {\n      transform[0] = xBasis.x;\n      transform[1] = xBasis.y;\n      transform[2] = xBasis.z;\n      transform[3] = 0.0;\n      transform[4] = yBasis.x;\n      transform[5] = yBasis.y;\n      transform[6] = yBasis.z;\n      transform[7] = 0.0;\n      transform[8] = zBasis.x;\n      transform[9] = zBasis.y;\n      transform[10] = zBasis.z;\n      transform[11] = 0.0;\n      transform[12] = cartesian.x;\n      transform[13] = cartesian.y;\n      transform[14] = cartesian.z;\n      transform[15] = 0.0;\n    } else {\n      // Stationary or slow-moving, low-altitude objects use East-North-Up.\n      _Core_Transforms_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].eastNorthUpToFixedFrame */ .Z.eastNorthUpToFixedFrame(cartesian, ellipsoid, transform);\n    }\n\n    camera._setTransform(transform);\n\n    if (saveCamera) {\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(position, camera.position);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(direction, camera.direction);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(up, camera.up);\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].cross */ .Z.cross(direction, up, camera.right);\n    }\n  }\n\n  if (updateLookAt) {\n    var offset =\n      mode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].SCENE2D */ .Z.SCENE2D ||\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].equals */ .Z.equals(that._offset3D, _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].ZERO */ .Z.ZERO)\n        ? undefined\n        : that._offset3D;\n    camera.lookAtTransform(camera.transform, offset);\n  }\n}\n\n/**\n * A utility object for tracking an entity with the camera.\n * @alias EntityView\n * @constructor\n *\n * @param {Entity} entity The entity to track with the camera.\n * @param {Scene} scene The scene to use.\n * @param {Ellipsoid} [ellipsoid=Ellipsoid.WGS84] The ellipsoid to use for orienting the camera.\n */\nfunction EntityView(entity, scene, ellipsoid) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("entity", entity);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("scene", scene);\n  //>>includeEnd(\'debug\');\n\n  /**\n   * The entity to track with the camera.\n   * @type {Entity}\n   */\n  this.entity = entity;\n\n  /**\n   * The scene in which to track the object.\n   * @type {Scene}\n   */\n  this.scene = scene;\n\n  /**\n   * The ellipsoid to use for orienting the camera.\n   * @type {Ellipsoid}\n   */\n  this.ellipsoid = (0,_Core_defaultValue_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(ellipsoid, _Core_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].WGS84 */ .Z.WGS84);\n\n  /**\n   * The bounding sphere of the object.\n   * @type {BoundingSphere}\n   */\n  this.boundingSphere = undefined;\n\n  // Shadow copies of the objects so we can detect changes.\n  this._lastEntity = undefined;\n  this._mode = undefined;\n\n  this._lastCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n  this._defaultOffset3D = undefined;\n\n  this._offset3D = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n}\n\n// STATIC properties defined here, not per-instance.\nObject.defineProperties(EntityView, {\n  /**\n   * Gets or sets a camera offset that will be used to\n   * initialize subsequent EntityViews.\n   * @memberof EntityView\n   * @type {Cartesian3}\n   */\n  defaultOffset3D: {\n    get: function () {\n      return this._defaultOffset3D;\n    },\n    set: function (vector) {\n      this._defaultOffset3D = _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(vector, new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z());\n    },\n  },\n});\n\n// Initialize the static property.\nEntityView.defaultOffset3D = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(-14000, 3500, 3500);\n\nvar scratchHeadingPitchRange = new _Core_HeadingPitchRange_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z();\nvar scratchCartesian = new _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z();\n\n/**\n * Should be called each animation frame to update the camera\n * to the latest settings.\n * @param {JulianDate} time The current animation time.\n * @param {BoundingSphere} [boundingSphere] bounding sphere of the object.\n */\nEntityView.prototype.update = function (time, boundingSphere) {\n  //>>includeStart(\'debug\', pragmas.debug);\n  _Core_Check_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].defined */ .Z.defined("time", time);\n  //>>includeEnd(\'debug\');\n\n  var scene = this.scene;\n  var ellipsoid = this.ellipsoid;\n  var sceneMode = scene.mode;\n  if (sceneMode === _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].MORPHING */ .Z.MORPHING) {\n    return;\n  }\n\n  var entity = this.entity;\n  var positionProperty = entity.position;\n  if (!(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(positionProperty)) {\n    return;\n  }\n  var objectChanged = entity !== this._lastEntity;\n  var sceneModeChanged = sceneMode !== this._mode;\n\n  var camera = scene.camera;\n\n  var updateLookAt = objectChanged || sceneModeChanged;\n  var saveCamera = true;\n\n  if (objectChanged) {\n    var viewFromProperty = entity.viewFrom;\n    var hasViewFrom = (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(viewFromProperty);\n\n    if (!hasViewFrom && (0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(boundingSphere)) {\n      // The default HPR is not ideal for high altitude objects so\n      // we scale the pitch as we get further from the earth for a more\n      // downward view.\n      scratchHeadingPitchRange.pitch = -_Core_Math_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"].PI_OVER_FOUR */ .Z.PI_OVER_FOUR;\n      scratchHeadingPitchRange.range = 0;\n      var position = positionProperty.getValue(time, scratchCartesian);\n      if ((0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(position)) {\n        var factor =\n          2 -\n          1 /\n            Math.max(\n              1,\n              _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].magnitude */ .Z.magnitude(position) / ellipsoid.maximumRadius\n            );\n        scratchHeadingPitchRange.pitch *= factor;\n      }\n\n      camera.viewBoundingSphere(boundingSphere, scratchHeadingPitchRange);\n      this.boundingSphere = boundingSphere;\n      updateLookAt = false;\n      saveCamera = false;\n    } else if (\n      !hasViewFrom ||\n      !(0,_Core_defined_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(viewFromProperty.getValue(time, this._offset3D))\n    ) {\n      _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(EntityView._defaultOffset3D, this._offset3D);\n    }\n  } else if (!sceneModeChanged && this._mode !== _Scene_SceneMode_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"].SCENE2D */ .Z.SCENE2D) {\n    _Core_Cartesian3_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].clone */ .Z.clone(camera.position, this._offset3D);\n  }\n\n  this._lastEntity = entity;\n  this._mode = sceneMode;\n\n  updateTransform(\n    this,\n    camera,\n    updateLookAt,\n    saveCamera,\n    positionProperty,\n    time,\n    ellipsoid\n  );\n};\n/* harmony default export */ __webpack_exports__["Z"] = (EntityView);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxLQUFLO0FBQ0w7QUFDQSw4QkFBOEIsZ0ZBQWdCLGFBQWEsb0VBQVU7QUFDckUsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0EsaUNBQWlDLG9FQUFVOztBQUUzQyxtQ0FBbUMsMkVBQWlCO0FBQ3BELDJCQUEyQixvRUFBVTs7QUFFckM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEVBQUUsK0VBQWE7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUZBQWtCO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU8sc0VBQU87QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0Isc0VBQU87O0FBRTdCLHdCQUF3QixzRUFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msd0ZBQXVCO0FBQy9EO0FBQ0E7QUFDQSxVQUFVLHNFQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdGQUFvQjtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxPQUFPLHNFQUFPO0FBQ2Q7QUFDQSxNQUFNLGdGQUFnQjtBQUN0QjtBQUNBLElBQUksNkNBQTZDLHFGQUFpQjtBQUNsRSxJQUFJLGdGQUFnQjtBQUNwQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQWUsVUFBVSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnVlMy13ZWJwYWNrNS8uL25vZGVfbW9kdWxlcy9jZXNpdW0vU291cmNlL0RhdGFTb3VyY2VzL0VudGl0eVZpZXcuanM/MTA2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FydGVzaWFuMyBmcm9tIFwiLi4vQ29yZS9DYXJ0ZXNpYW4zLmpzXCI7XG5pbXBvcnQgQ2hlY2sgZnJvbSBcIi4uL0NvcmUvQ2hlY2suanNcIjtcbmltcG9ydCBkZWZhdWx0VmFsdWUgZnJvbSBcIi4uL0NvcmUvZGVmYXVsdFZhbHVlLmpzXCI7XG5pbXBvcnQgZGVmaW5lZCBmcm9tIFwiLi4vQ29yZS9kZWZpbmVkLmpzXCI7XG5pbXBvcnQgRWxsaXBzb2lkIGZyb20gXCIuLi9Db3JlL0VsbGlwc29pZC5qc1wiO1xuaW1wb3J0IEhlYWRpbmdQaXRjaFJhbmdlIGZyb20gXCIuLi9Db3JlL0hlYWRpbmdQaXRjaFJhbmdlLmpzXCI7XG5pbXBvcnQgSnVsaWFuRGF0ZSBmcm9tIFwiLi4vQ29yZS9KdWxpYW5EYXRlLmpzXCI7XG5pbXBvcnQgQ2VzaXVtTWF0aCBmcm9tIFwiLi4vQ29yZS9NYXRoLmpzXCI7XG5pbXBvcnQgTWF0cml4MyBmcm9tIFwiLi4vQ29yZS9NYXRyaXgzLmpzXCI7XG5pbXBvcnQgTWF0cml4NCBmcm9tIFwiLi4vQ29yZS9NYXRyaXg0LmpzXCI7XG5pbXBvcnQgVHJhbnNmb3JtcyBmcm9tIFwiLi4vQ29yZS9UcmFuc2Zvcm1zLmpzXCI7XG5pbXBvcnQgU2NlbmVNb2RlIGZyb20gXCIuLi9TY2VuZS9TY2VuZU1vZGUuanNcIjtcblxudmFyIHVwZGF0ZVRyYW5zZm9ybU1hdHJpeDNTY3JhdGNoMSA9IG5ldyBNYXRyaXgzKCk7XG52YXIgdXBkYXRlVHJhbnNmb3JtTWF0cml4M1NjcmF0Y2gyID0gbmV3IE1hdHJpeDMoKTtcbnZhciB1cGRhdGVUcmFuc2Zvcm1NYXRyaXgzU2NyYXRjaDMgPSBuZXcgTWF0cml4MygpO1xudmFyIHVwZGF0ZVRyYW5zZm9ybU1hdHJpeDRTY3JhdGNoID0gbmV3IE1hdHJpeDQoKTtcbnZhciB1cGRhdGVUcmFuc2Zvcm1DYXJ0ZXNpYW4zU2NyYXRjaDEgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHVwZGF0ZVRyYW5zZm9ybUNhcnRlc2lhbjNTY3JhdGNoMiA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2gzID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciB1cGRhdGVUcmFuc2Zvcm1DYXJ0ZXNpYW4zU2NyYXRjaDQgPSBuZXcgQ2FydGVzaWFuMygpO1xudmFyIHVwZGF0ZVRyYW5zZm9ybUNhcnRlc2lhbjNTY3JhdGNoNSA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG52YXIgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2g2ID0gbmV3IENhcnRlc2lhbjMoKTtcbnZhciBkZWx0YVRpbWUgPSBuZXcgSnVsaWFuRGF0ZSgpO1xudmFyIG5vcnRoVXBBeGlzRmFjdG9yID0gMS4yNTsgLy8gdGltZXMgZWxsaXBzb2lkJ3MgbWF4aW11bSByYWRpdXNcblxuZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKFxuICB0aGF0LFxuICBjYW1lcmEsXG4gIHVwZGF0ZUxvb2tBdCxcbiAgc2F2ZUNhbWVyYSxcbiAgcG9zaXRpb25Qcm9wZXJ0eSxcbiAgdGltZSxcbiAgZWxsaXBzb2lkXG4pIHtcbiAgdmFyIG1vZGUgPSB0aGF0LnNjZW5lLm1vZGU7XG4gIHZhciBjYXJ0ZXNpYW4gPSBwb3NpdGlvblByb3BlcnR5LmdldFZhbHVlKHRpbWUsIHRoYXQuX2xhc3RDYXJ0ZXNpYW4pO1xuICBpZiAoZGVmaW5lZChjYXJ0ZXNpYW4pKSB7XG4gICAgdmFyIGhhc0Jhc2lzID0gZmFsc2U7XG4gICAgdmFyIGludmVydFZlbG9jaXR5ID0gZmFsc2U7XG4gICAgdmFyIHhCYXNpcztcbiAgICB2YXIgeUJhc2lzO1xuICAgIHZhciB6QmFzaXM7XG5cbiAgICBpZiAobW9kZSA9PT0gU2NlbmVNb2RlLlNDRU5FM0QpIHtcbiAgICAgIC8vIFRoZSB0aW1lIGRlbHRhIHdhcyBkZXRlcm1pbmVkIGJhc2VkIG9uIGhvdyBmYXN0IHNhdGVsbGl0ZXMgbW92ZSBjb21wYXJlZCB0byB2ZWhpY2xlcyBuZWFyIHRoZSBzdXJmYWNlLlxuICAgICAgLy8gU2xvd2VyIG1vdmluZyB2ZWhpY2xlcyB3aWxsIG1vc3QgbGlrZWx5IGRlZmF1bHQgdG8gZWFzdC1ub3J0aC11cCwgd2hpbGUgZmFzdGVyIG9uZXMgd2lsbCBiZSBWVkxILlxuICAgICAgSnVsaWFuRGF0ZS5hZGRTZWNvbmRzKHRpbWUsIDAuMDAxLCBkZWx0YVRpbWUpO1xuICAgICAgdmFyIGRlbHRhQ2FydGVzaWFuID0gcG9zaXRpb25Qcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICAgICAgZGVsdGFUaW1lLFxuICAgICAgICB1cGRhdGVUcmFuc2Zvcm1DYXJ0ZXNpYW4zU2NyYXRjaDFcbiAgICAgICk7XG5cbiAgICAgIC8vIElmIG5vIHZhbGlkIHBvc2l0aW9uIGF0ICh0aW1lICsgMC4wMDEpLCBzYW1wbGUgYXQgKHRpbWUgLSAwLjAwMSkgYW5kIGludmVydCB0aGUgdmVjdG9yXG4gICAgICBpZiAoIWRlZmluZWQoZGVsdGFDYXJ0ZXNpYW4pKSB7XG4gICAgICAgIEp1bGlhbkRhdGUuYWRkU2Vjb25kcyh0aW1lLCAtMC4wMDEsIGRlbHRhVGltZSk7XG4gICAgICAgIGRlbHRhQ2FydGVzaWFuID0gcG9zaXRpb25Qcm9wZXJ0eS5nZXRWYWx1ZShcbiAgICAgICAgICBkZWx0YVRpbWUsXG4gICAgICAgICAgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2gxXG4gICAgICAgICk7XG4gICAgICAgIGludmVydFZlbG9jaXR5ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlZmluZWQoZGVsdGFDYXJ0ZXNpYW4pKSB7XG4gICAgICAgIHZhciB0b0luZXJ0aWFsID0gVHJhbnNmb3Jtcy5jb21wdXRlRml4ZWRUb0ljcmZNYXRyaXgoXG4gICAgICAgICAgdGltZSxcbiAgICAgICAgICB1cGRhdGVUcmFuc2Zvcm1NYXRyaXgzU2NyYXRjaDFcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHRvSW5lcnRpYWxEZWx0YSA9IFRyYW5zZm9ybXMuY29tcHV0ZUZpeGVkVG9JY3JmTWF0cml4KFxuICAgICAgICAgIGRlbHRhVGltZSxcbiAgICAgICAgICB1cGRhdGVUcmFuc2Zvcm1NYXRyaXgzU2NyYXRjaDJcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHRvRml4ZWQ7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRvSW5lcnRpYWwpIHx8ICFkZWZpbmVkKHRvSW5lcnRpYWxEZWx0YSkpIHtcbiAgICAgICAgICB0b0ZpeGVkID0gVHJhbnNmb3Jtcy5jb21wdXRlVGVtZVRvUHNldWRvRml4ZWRNYXRyaXgoXG4gICAgICAgICAgICB0aW1lLFxuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtTWF0cml4M1NjcmF0Y2gzXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0b0luZXJ0aWFsID0gTWF0cml4My50cmFuc3Bvc2UoXG4gICAgICAgICAgICB0b0ZpeGVkLFxuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtTWF0cml4M1NjcmF0Y2gxXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0b0luZXJ0aWFsRGVsdGEgPSBUcmFuc2Zvcm1zLmNvbXB1dGVUZW1lVG9Qc2V1ZG9GaXhlZE1hdHJpeChcbiAgICAgICAgICAgIGRlbHRhVGltZSxcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zZm9ybU1hdHJpeDNTY3JhdGNoMlxuICAgICAgICAgICk7XG4gICAgICAgICAgTWF0cml4My50cmFuc3Bvc2UodG9JbmVydGlhbERlbHRhLCB0b0luZXJ0aWFsRGVsdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvRml4ZWQgPSBNYXRyaXgzLnRyYW5zcG9zZShcbiAgICAgICAgICAgIHRvSW5lcnRpYWwsXG4gICAgICAgICAgICB1cGRhdGVUcmFuc2Zvcm1NYXRyaXgzU2NyYXRjaDNcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZXJ0aWFsQ2FydGVzaWFuID0gTWF0cml4My5tdWx0aXBseUJ5VmVjdG9yKFxuICAgICAgICAgIHRvSW5lcnRpYWwsXG4gICAgICAgICAgY2FydGVzaWFuLFxuICAgICAgICAgIHVwZGF0ZVRyYW5zZm9ybUNhcnRlc2lhbjNTY3JhdGNoNVxuICAgICAgICApO1xuICAgICAgICB2YXIgaW5lcnRpYWxEZWx0YUNhcnRlc2lhbiA9IE1hdHJpeDMubXVsdGlwbHlCeVZlY3RvcihcbiAgICAgICAgICB0b0luZXJ0aWFsRGVsdGEsXG4gICAgICAgICAgZGVsdGFDYXJ0ZXNpYW4sXG4gICAgICAgICAgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2g2XG4gICAgICAgICk7XG5cbiAgICAgICAgQ2FydGVzaWFuMy5zdWJ0cmFjdChcbiAgICAgICAgICBpbmVydGlhbENhcnRlc2lhbixcbiAgICAgICAgICBpbmVydGlhbERlbHRhQ2FydGVzaWFuLFxuICAgICAgICAgIHVwZGF0ZVRyYW5zZm9ybUNhcnRlc2lhbjNTY3JhdGNoNFxuICAgICAgICApO1xuICAgICAgICB2YXIgaW5lcnRpYWxWZWxvY2l0eSA9XG4gICAgICAgICAgQ2FydGVzaWFuMy5tYWduaXR1ZGUodXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2g0KSAqIDEwMDAuMDsgLy8gbWV0ZXJzL3NlY1xuXG4gICAgICAgIHZhciBtdSA9IENlc2l1bU1hdGguR1JBVklUQVRJT05BTFBBUkFNRVRFUjsgLy8gbV4zIC8gc2VjXjJcbiAgICAgICAgdmFyIHNlbWlNYWpvckF4aXMgPVxuICAgICAgICAgIC1tdSAvXG4gICAgICAgICAgKGluZXJ0aWFsVmVsb2NpdHkgKiBpbmVydGlhbFZlbG9jaXR5IC1cbiAgICAgICAgICAgICgyICogbXUpIC8gQ2FydGVzaWFuMy5tYWduaXR1ZGUoaW5lcnRpYWxDYXJ0ZXNpYW4pKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VtaU1ham9yQXhpcyA8IDAgfHxcbiAgICAgICAgICBzZW1pTWFqb3JBeGlzID4gbm9ydGhVcEF4aXNGYWN0b3IgKiBlbGxpcHNvaWQubWF4aW11bVJhZGl1c1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBOb3J0aC11cCB2aWV3aW5nIGZyb20gZGVlcCBzcGFjZS5cblxuICAgICAgICAgIC8vIFggYWxvbmcgdGhlIG5hZGlyXG4gICAgICAgICAgeEJhc2lzID0gdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2gyO1xuICAgICAgICAgIENhcnRlc2lhbjMubm9ybWFsaXplKGNhcnRlc2lhbiwgeEJhc2lzKTtcbiAgICAgICAgICBDYXJ0ZXNpYW4zLm5lZ2F0ZSh4QmFzaXMsIHhCYXNpcyk7XG5cbiAgICAgICAgICAvLyBaIGlzIE5vcnRoXG4gICAgICAgICAgekJhc2lzID0gQ2FydGVzaWFuMy5jbG9uZShcbiAgICAgICAgICAgIENhcnRlc2lhbjMuVU5JVF9aLFxuICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2gzXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIFkgaXMgYWxvbmcgdGhlIGNyb3NzIG9mIHogYW5kIHggKHJpZ2h0IGhhbmRlZCBiYXNpcyAvIGluIHRoZSBkaXJlY3Rpb24gb2YgbW90aW9uKVxuICAgICAgICAgIHlCYXNpcyA9IENhcnRlc2lhbjMuY3Jvc3MoXG4gICAgICAgICAgICB6QmFzaXMsXG4gICAgICAgICAgICB4QmFzaXMsXG4gICAgICAgICAgICB1cGRhdGVUcmFuc2Zvcm1DYXJ0ZXNpYW4zU2NyYXRjaDFcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChDYXJ0ZXNpYW4zLm1hZ25pdHVkZSh5QmFzaXMpID4gQ2VzaXVtTWF0aC5FUFNJTE9ONykge1xuICAgICAgICAgICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoeEJhc2lzLCB4QmFzaXMpO1xuICAgICAgICAgICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoeUJhc2lzLCB5QmFzaXMpO1xuXG4gICAgICAgICAgICB6QmFzaXMgPSBDYXJ0ZXNpYW4zLmNyb3NzKFxuICAgICAgICAgICAgICB4QmFzaXMsXG4gICAgICAgICAgICAgIHlCYXNpcyxcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2gzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoekJhc2lzLCB6QmFzaXMpO1xuXG4gICAgICAgICAgICBoYXNCYXNpcyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICFDYXJ0ZXNpYW4zLmVxdWFsc0Vwc2lsb24oXG4gICAgICAgICAgICBjYXJ0ZXNpYW4sXG4gICAgICAgICAgICBkZWx0YUNhcnRlc2lhbixcbiAgICAgICAgICAgIENlc2l1bU1hdGguRVBTSUxPTjdcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEFwcHJveGltYXRpb24gb2YgVlZMSCAoVmVoaWNsZSBWZWxvY2l0eSBMb2NhbCBIb3Jpem9udGFsKSB3aXRoIHRoZSBaLWF4aXMgZmxpcHBlZC5cblxuICAgICAgICAgIC8vIFogYWxvbmcgdGhlIHBvc2l0aW9uXG4gICAgICAgICAgekJhc2lzID0gdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2gyO1xuICAgICAgICAgIENhcnRlc2lhbjMubm9ybWFsaXplKGluZXJ0aWFsQ2FydGVzaWFuLCB6QmFzaXMpO1xuICAgICAgICAgIENhcnRlc2lhbjMubm9ybWFsaXplKGluZXJ0aWFsRGVsdGFDYXJ0ZXNpYW4sIGluZXJ0aWFsRGVsdGFDYXJ0ZXNpYW4pO1xuXG4gICAgICAgICAgLy8gWSBpcyBhbG9uZyB0aGUgYW5ndWxhciBtb21lbnR1bSB2ZWN0b3IgKGUuZy4gXCJvcmJpdCBub3JtYWxcIilcbiAgICAgICAgICB5QmFzaXMgPSBDYXJ0ZXNpYW4zLmNyb3NzKFxuICAgICAgICAgICAgekJhc2lzLFxuICAgICAgICAgICAgaW5lcnRpYWxEZWx0YUNhcnRlc2lhbixcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zZm9ybUNhcnRlc2lhbjNTY3JhdGNoM1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoaW52ZXJ0VmVsb2NpdHkpIHtcbiAgICAgICAgICAgIHlCYXNpcyA9IENhcnRlc2lhbjMubXVsdGlwbHlCeVNjYWxhcih5QmFzaXMsIC0xLCB5QmFzaXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFDYXJ0ZXNpYW4zLmVxdWFsc0Vwc2lsb24oXG4gICAgICAgICAgICAgIHlCYXNpcyxcbiAgICAgICAgICAgICAgQ2FydGVzaWFuMy5aRVJPLFxuICAgICAgICAgICAgICBDZXNpdW1NYXRoLkVQU0lMT043XG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBYIGlzIGFsb25nIHRoZSBjcm9zcyBvZiB5IGFuZCB6IChyaWdodCBoYW5kZWQgYmFzaXMgLyBpbiB0aGUgZGlyZWN0aW9uIG9mIG1vdGlvbilcbiAgICAgICAgICAgIHhCYXNpcyA9IENhcnRlc2lhbjMuY3Jvc3MoXG4gICAgICAgICAgICAgIHlCYXNpcyxcbiAgICAgICAgICAgICAgekJhc2lzLFxuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2Zvcm1DYXJ0ZXNpYW4zU2NyYXRjaDFcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIE1hdHJpeDMubXVsdGlwbHlCeVZlY3Rvcih0b0ZpeGVkLCB4QmFzaXMsIHhCYXNpcyk7XG4gICAgICAgICAgICBNYXRyaXgzLm11bHRpcGx5QnlWZWN0b3IodG9GaXhlZCwgeUJhc2lzLCB5QmFzaXMpO1xuICAgICAgICAgICAgTWF0cml4My5tdWx0aXBseUJ5VmVjdG9yKHRvRml4ZWQsIHpCYXNpcywgekJhc2lzKTtcblxuICAgICAgICAgICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoeEJhc2lzLCB4QmFzaXMpO1xuICAgICAgICAgICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoeUJhc2lzLCB5QmFzaXMpO1xuICAgICAgICAgICAgQ2FydGVzaWFuMy5ub3JtYWxpemUoekJhc2lzLCB6QmFzaXMpO1xuXG4gICAgICAgICAgICBoYXNCYXNpcyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlZmluZWQodGhhdC5ib3VuZGluZ1NwaGVyZSkpIHtcbiAgICAgIGNhcnRlc2lhbiA9IHRoYXQuYm91bmRpbmdTcGhlcmUuY2VudGVyO1xuICAgIH1cblxuICAgIHZhciBwb3NpdGlvbjtcbiAgICB2YXIgZGlyZWN0aW9uO1xuICAgIHZhciB1cDtcblxuICAgIGlmIChzYXZlQ2FtZXJhKSB7XG4gICAgICBwb3NpdGlvbiA9IENhcnRlc2lhbjMuY2xvbmUoXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbixcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2g0XG4gICAgICApO1xuICAgICAgZGlyZWN0aW9uID0gQ2FydGVzaWFuMy5jbG9uZShcbiAgICAgICAgY2FtZXJhLmRpcmVjdGlvbixcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2g1XG4gICAgICApO1xuICAgICAgdXAgPSBDYXJ0ZXNpYW4zLmNsb25lKGNhbWVyYS51cCwgdXBkYXRlVHJhbnNmb3JtQ2FydGVzaWFuM1NjcmF0Y2g2KTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNmb3JtID0gdXBkYXRlVHJhbnNmb3JtTWF0cml4NFNjcmF0Y2g7XG4gICAgaWYgKGhhc0Jhc2lzKSB7XG4gICAgICB0cmFuc2Zvcm1bMF0gPSB4QmFzaXMueDtcbiAgICAgIHRyYW5zZm9ybVsxXSA9IHhCYXNpcy55O1xuICAgICAgdHJhbnNmb3JtWzJdID0geEJhc2lzLno7XG4gICAgICB0cmFuc2Zvcm1bM10gPSAwLjA7XG4gICAgICB0cmFuc2Zvcm1bNF0gPSB5QmFzaXMueDtcbiAgICAgIHRyYW5zZm9ybVs1XSA9IHlCYXNpcy55O1xuICAgICAgdHJhbnNmb3JtWzZdID0geUJhc2lzLno7XG4gICAgICB0cmFuc2Zvcm1bN10gPSAwLjA7XG4gICAgICB0cmFuc2Zvcm1bOF0gPSB6QmFzaXMueDtcbiAgICAgIHRyYW5zZm9ybVs5XSA9IHpCYXNpcy55O1xuICAgICAgdHJhbnNmb3JtWzEwXSA9IHpCYXNpcy56O1xuICAgICAgdHJhbnNmb3JtWzExXSA9IDAuMDtcbiAgICAgIHRyYW5zZm9ybVsxMl0gPSBjYXJ0ZXNpYW4ueDtcbiAgICAgIHRyYW5zZm9ybVsxM10gPSBjYXJ0ZXNpYW4ueTtcbiAgICAgIHRyYW5zZm9ybVsxNF0gPSBjYXJ0ZXNpYW4uejtcbiAgICAgIHRyYW5zZm9ybVsxNV0gPSAwLjA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0YXRpb25hcnkgb3Igc2xvdy1tb3ZpbmcsIGxvdy1hbHRpdHVkZSBvYmplY3RzIHVzZSBFYXN0LU5vcnRoLVVwLlxuICAgICAgVHJhbnNmb3Jtcy5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZShjYXJ0ZXNpYW4sIGVsbGlwc29pZCwgdHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBjYW1lcmEuX3NldFRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuXG4gICAgaWYgKHNhdmVDYW1lcmEpIHtcbiAgICAgIENhcnRlc2lhbjMuY2xvbmUocG9zaXRpb24sIGNhbWVyYS5wb3NpdGlvbik7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKGRpcmVjdGlvbiwgY2FtZXJhLmRpcmVjdGlvbik7XG4gICAgICBDYXJ0ZXNpYW4zLmNsb25lKHVwLCBjYW1lcmEudXApO1xuICAgICAgQ2FydGVzaWFuMy5jcm9zcyhkaXJlY3Rpb24sIHVwLCBjYW1lcmEucmlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh1cGRhdGVMb29rQXQpIHtcbiAgICB2YXIgb2Zmc2V0ID1cbiAgICAgIG1vZGUgPT09IFNjZW5lTW9kZS5TQ0VORTJEIHx8XG4gICAgICBDYXJ0ZXNpYW4zLmVxdWFscyh0aGF0Ll9vZmZzZXQzRCwgQ2FydGVzaWFuMy5aRVJPKVxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IHRoYXQuX29mZnNldDNEO1xuICAgIGNhbWVyYS5sb29rQXRUcmFuc2Zvcm0oY2FtZXJhLnRyYW5zZm9ybSwgb2Zmc2V0KTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdXRpbGl0eSBvYmplY3QgZm9yIHRyYWNraW5nIGFuIGVudGl0eSB3aXRoIHRoZSBjYW1lcmEuXG4gKiBAYWxpYXMgRW50aXR5Vmlld1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBUaGUgZW50aXR5IHRvIHRyYWNrIHdpdGggdGhlIGNhbWVyYS5cbiAqIEBwYXJhbSB7U2NlbmV9IHNjZW5lIFRoZSBzY2VuZSB0byB1c2UuXG4gKiBAcGFyYW0ge0VsbGlwc29pZH0gW2VsbGlwc29pZD1FbGxpcHNvaWQuV0dTODRdIFRoZSBlbGxpcHNvaWQgdG8gdXNlIGZvciBvcmllbnRpbmcgdGhlIGNhbWVyYS5cbiAqL1xuZnVuY3Rpb24gRW50aXR5VmlldyhlbnRpdHksIHNjZW5lLCBlbGxpcHNvaWQpIHtcbiAgLy8+PmluY2x1ZGVTdGFydCgnZGVidWcnLCBwcmFnbWFzLmRlYnVnKTtcbiAgQ2hlY2suZGVmaW5lZChcImVudGl0eVwiLCBlbnRpdHkpO1xuICBDaGVjay5kZWZpbmVkKFwic2NlbmVcIiwgc2NlbmUpO1xuICAvLz4+aW5jbHVkZUVuZCgnZGVidWcnKTtcblxuICAvKipcbiAgICogVGhlIGVudGl0eSB0byB0cmFjayB3aXRoIHRoZSBjYW1lcmEuXG4gICAqIEB0eXBlIHtFbnRpdHl9XG4gICAqL1xuICB0aGlzLmVudGl0eSA9IGVudGl0eTtcblxuICAvKipcbiAgICogVGhlIHNjZW5lIGluIHdoaWNoIHRvIHRyYWNrIHRoZSBvYmplY3QuXG4gICAqIEB0eXBlIHtTY2VuZX1cbiAgICovXG4gIHRoaXMuc2NlbmUgPSBzY2VuZTtcblxuICAvKipcbiAgICogVGhlIGVsbGlwc29pZCB0byB1c2UgZm9yIG9yaWVudGluZyB0aGUgY2FtZXJhLlxuICAgKiBAdHlwZSB7RWxsaXBzb2lkfVxuICAgKi9cbiAgdGhpcy5lbGxpcHNvaWQgPSBkZWZhdWx0VmFsdWUoZWxsaXBzb2lkLCBFbGxpcHNvaWQuV0dTODQpO1xuXG4gIC8qKlxuICAgKiBUaGUgYm91bmRpbmcgc3BoZXJlIG9mIHRoZSBvYmplY3QuXG4gICAqIEB0eXBlIHtCb3VuZGluZ1NwaGVyZX1cbiAgICovXG4gIHRoaXMuYm91bmRpbmdTcGhlcmUgPSB1bmRlZmluZWQ7XG5cbiAgLy8gU2hhZG93IGNvcGllcyBvZiB0aGUgb2JqZWN0cyBzbyB3ZSBjYW4gZGV0ZWN0IGNoYW5nZXMuXG4gIHRoaXMuX2xhc3RFbnRpdHkgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX21vZGUgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy5fbGFzdENhcnRlc2lhbiA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG4gIHRoaXMuX2RlZmF1bHRPZmZzZXQzRCA9IHVuZGVmaW5lZDtcblxuICB0aGlzLl9vZmZzZXQzRCA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG59XG5cbi8vIFNUQVRJQyBwcm9wZXJ0aWVzIGRlZmluZWQgaGVyZSwgbm90IHBlci1pbnN0YW5jZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEVudGl0eVZpZXcsIHtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBhIGNhbWVyYSBvZmZzZXQgdGhhdCB3aWxsIGJlIHVzZWQgdG9cbiAgICogaW5pdGlhbGl6ZSBzdWJzZXF1ZW50IEVudGl0eVZpZXdzLlxuICAgKiBAbWVtYmVyb2YgRW50aXR5Vmlld1xuICAgKiBAdHlwZSB7Q2FydGVzaWFuM31cbiAgICovXG4gIGRlZmF1bHRPZmZzZXQzRDoge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRPZmZzZXQzRDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZlY3Rvcikge1xuICAgICAgdGhpcy5fZGVmYXVsdE9mZnNldDNEID0gQ2FydGVzaWFuMy5jbG9uZSh2ZWN0b3IsIG5ldyBDYXJ0ZXNpYW4zKCkpO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGljIHByb3BlcnR5LlxuRW50aXR5Vmlldy5kZWZhdWx0T2Zmc2V0M0QgPSBuZXcgQ2FydGVzaWFuMygtMTQwMDAsIDM1MDAsIDM1MDApO1xuXG52YXIgc2NyYXRjaEhlYWRpbmdQaXRjaFJhbmdlID0gbmV3IEhlYWRpbmdQaXRjaFJhbmdlKCk7XG52YXIgc2NyYXRjaENhcnRlc2lhbiA9IG5ldyBDYXJ0ZXNpYW4zKCk7XG5cbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCBlYWNoIGFuaW1hdGlvbiBmcmFtZSB0byB1cGRhdGUgdGhlIGNhbWVyYVxuICogdG8gdGhlIGxhdGVzdCBzZXR0aW5ncy5cbiAqIEBwYXJhbSB7SnVsaWFuRGF0ZX0gdGltZSBUaGUgY3VycmVudCBhbmltYXRpb24gdGltZS5cbiAqIEBwYXJhbSB7Qm91bmRpbmdTcGhlcmV9IFtib3VuZGluZ1NwaGVyZV0gYm91bmRpbmcgc3BoZXJlIG9mIHRoZSBvYmplY3QuXG4gKi9cbkVudGl0eVZpZXcucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh0aW1lLCBib3VuZGluZ1NwaGVyZSkge1xuICAvLz4+aW5jbHVkZVN0YXJ0KCdkZWJ1ZycsIHByYWdtYXMuZGVidWcpO1xuICBDaGVjay5kZWZpbmVkKFwidGltZVwiLCB0aW1lKTtcbiAgLy8+PmluY2x1ZGVFbmQoJ2RlYnVnJyk7XG5cbiAgdmFyIHNjZW5lID0gdGhpcy5zY2VuZTtcbiAgdmFyIGVsbGlwc29pZCA9IHRoaXMuZWxsaXBzb2lkO1xuICB2YXIgc2NlbmVNb2RlID0gc2NlbmUubW9kZTtcbiAgaWYgKHNjZW5lTW9kZSA9PT0gU2NlbmVNb2RlLk1PUlBISU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVudGl0eSA9IHRoaXMuZW50aXR5O1xuICB2YXIgcG9zaXRpb25Qcm9wZXJ0eSA9IGVudGl0eS5wb3NpdGlvbjtcbiAgaWYgKCFkZWZpbmVkKHBvc2l0aW9uUHJvcGVydHkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBvYmplY3RDaGFuZ2VkID0gZW50aXR5ICE9PSB0aGlzLl9sYXN0RW50aXR5O1xuICB2YXIgc2NlbmVNb2RlQ2hhbmdlZCA9IHNjZW5lTW9kZSAhPT0gdGhpcy5fbW9kZTtcblxuICB2YXIgY2FtZXJhID0gc2NlbmUuY2FtZXJhO1xuXG4gIHZhciB1cGRhdGVMb29rQXQgPSBvYmplY3RDaGFuZ2VkIHx8IHNjZW5lTW9kZUNoYW5nZWQ7XG4gIHZhciBzYXZlQ2FtZXJhID0gdHJ1ZTtcblxuICBpZiAob2JqZWN0Q2hhbmdlZCkge1xuICAgIHZhciB2aWV3RnJvbVByb3BlcnR5ID0gZW50aXR5LnZpZXdGcm9tO1xuICAgIHZhciBoYXNWaWV3RnJvbSA9IGRlZmluZWQodmlld0Zyb21Qcm9wZXJ0eSk7XG5cbiAgICBpZiAoIWhhc1ZpZXdGcm9tICYmIGRlZmluZWQoYm91bmRpbmdTcGhlcmUpKSB7XG4gICAgICAvLyBUaGUgZGVmYXVsdCBIUFIgaXMgbm90IGlkZWFsIGZvciBoaWdoIGFsdGl0dWRlIG9iamVjdHMgc29cbiAgICAgIC8vIHdlIHNjYWxlIHRoZSBwaXRjaCBhcyB3ZSBnZXQgZnVydGhlciBmcm9tIHRoZSBlYXJ0aCBmb3IgYSBtb3JlXG4gICAgICAvLyBkb3dud2FyZCB2aWV3LlxuICAgICAgc2NyYXRjaEhlYWRpbmdQaXRjaFJhbmdlLnBpdGNoID0gLUNlc2l1bU1hdGguUElfT1ZFUl9GT1VSO1xuICAgICAgc2NyYXRjaEhlYWRpbmdQaXRjaFJhbmdlLnJhbmdlID0gMDtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uUHJvcGVydHkuZ2V0VmFsdWUodGltZSwgc2NyYXRjaENhcnRlc2lhbik7XG4gICAgICBpZiAoZGVmaW5lZChwb3NpdGlvbikpIHtcbiAgICAgICAgdmFyIGZhY3RvciA9XG4gICAgICAgICAgMiAtXG4gICAgICAgICAgMSAvXG4gICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgQ2FydGVzaWFuMy5tYWduaXR1ZGUocG9zaXRpb24pIC8gZWxsaXBzb2lkLm1heGltdW1SYWRpdXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIHNjcmF0Y2hIZWFkaW5nUGl0Y2hSYW5nZS5waXRjaCAqPSBmYWN0b3I7XG4gICAgICB9XG5cbiAgICAgIGNhbWVyYS52aWV3Qm91bmRpbmdTcGhlcmUoYm91bmRpbmdTcGhlcmUsIHNjcmF0Y2hIZWFkaW5nUGl0Y2hSYW5nZSk7XG4gICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlID0gYm91bmRpbmdTcGhlcmU7XG4gICAgICB1cGRhdGVMb29rQXQgPSBmYWxzZTtcbiAgICAgIHNhdmVDYW1lcmEgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgIWhhc1ZpZXdGcm9tIHx8XG4gICAgICAhZGVmaW5lZCh2aWV3RnJvbVByb3BlcnR5LmdldFZhbHVlKHRpbWUsIHRoaXMuX29mZnNldDNEKSlcbiAgICApIHtcbiAgICAgIENhcnRlc2lhbjMuY2xvbmUoRW50aXR5Vmlldy5fZGVmYXVsdE9mZnNldDNELCB0aGlzLl9vZmZzZXQzRCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFzY2VuZU1vZGVDaGFuZ2VkICYmIHRoaXMuX21vZGUgIT09IFNjZW5lTW9kZS5TQ0VORTJEKSB7XG4gICAgQ2FydGVzaWFuMy5jbG9uZShjYW1lcmEucG9zaXRpb24sIHRoaXMuX29mZnNldDNEKTtcbiAgfVxuXG4gIHRoaXMuX2xhc3RFbnRpdHkgPSBlbnRpdHk7XG4gIHRoaXMuX21vZGUgPSBzY2VuZU1vZGU7XG5cbiAgdXBkYXRlVHJhbnNmb3JtKFxuICAgIHRoaXMsXG4gICAgY2FtZXJhLFxuICAgIHVwZGF0ZUxvb2tBdCxcbiAgICBzYXZlQ2FtZXJhLFxuICAgIHBvc2l0aW9uUHJvcGVydHksXG4gICAgdGltZSxcbiAgICBlbGxpcHNvaWRcbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBFbnRpdHlWaWV3O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///68134\n')}}]);